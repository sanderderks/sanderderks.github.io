import{d as b,o,c as M,t as _,l as d,v as c,a as g,L as x,i as q,E as N,M as P}from"../bundle.js";import{_ as R}from"./Bubble.vue_vue_type_script_setup_true_lang-Bg7w0uV0.js";const V={key:0,class:"text-red-600"},B=b({__name:"ErrorMessage",props:{name:{},error:{}},setup(e){return(n,m)=>n.error?(o(),M("p",V,_(n.error),1)):d("",!0)}});var k=(e=>(e.Required="Required",e.Numeric="Numeric",e.Min="Min",e.Max="Max",e.Email="Email",e.MinLength="MinLength",e.MaxLength="MaxLength",e.EqualTo="EqualTo",e))(k||{});const i={Required:{type:"Required",test:({value:e})=>!!e.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:e})=>/^-?[0-9]\d*(\.\d+)?$/.test(e),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:e,minValue:n})=>n?Number(e)>=n:!0,error:({minValue:e})=>`Must be at least ${e}`},Max:{type:"Max",test:({value:e,maxValue:n})=>n?Number(e)<=n:!0,error:({maxValue:e})=>`May not be more than ${e}`},Email:{type:"Email",test:({value:e})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:e,minLength:n})=>!e.length||e.length>=(n||3),error:({minLength:e})=>`Must be at least ${e} characters`},MaxLength:{type:"MaxLength",test:({value:e,maxLength:n})=>!e.length||e.length<=(n||50),error:({maxLength:e})=>`May not be more than ${e} characters`},EqualTo:{type:"EqualTo",test:({value:e,compare:n})=>!e.length||!n||e===n.value,error:()=>"Fields don't match",compareError:({compare:e})=>e?"Must be equal to "+(e==null?void 0:e.name):""}},C=b({__name:"DeleteButton",emits:["click"],setup(e,{emit:n}){return(m,r)=>(o(),c(R,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",icon:"pi pi-trash",onClick:r[0]||(r[0]=h=>m.$emit("click"))}))}}),D={class:"m-4"},I=["for"],T={class:"flex"},S=b({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete","click"],setup(e,{expose:n,emit:m}){const r=e,h=g(()=>{const t=r.modelValue;return t?typeof t=="string"?t.endsWith("  ")?t.trim():t:typeof t=="number"?t||0:t||"":r.modelValue||""}),E=g(()=>r.label?r.label+((r.rules??[]).some(t=>t.type===k.Required)?" *":""):void 0),y=g(()=>r.name+(r.id?"."+r.id:"")),$=t=>{const s=t.target.value;p("update:modelValue",s),v(s)},v=async t=>{const s=t||h.value,a=r.rules||[];typeof r.minValue=="number"&&a.push(i.Min),typeof r.maxValue=="number"&&a.push(i.Max),typeof r.minLength=="number"&&a.push(i.MinLength),typeof r.maxLength=="number"&&a.push(i.MaxLength),r.compare&&a.push(i.EqualTo);const l={value:s.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},f=a.filter(u=>!u.test(l)).map(u=>{var L;return((L=u.compareError)==null?void 0:L.call(u,l))||u.error(l)})||[];p("update:error",f[0]||"")},p=m;return n({test:v}),(t,s)=>{var a,l;return o(),M("div",D,[t.label?(o(),M("label",x({key:0,class:"block text-sm font-bold mb-2",for:y.value},t.labelProps),_(E.value),17,I)):d("",!0),q("div",T,[(o(),c(P(((a=t.inputProps)==null?void 0:a.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),x({id:y.value,ref:"input",value:h.value,class:"p-input",type:((l=t.inputProps)==null?void 0:l.type)||"text",placeholder:t.placeholder,invalid:!!t.error,onInput:$,onClick:s[0]||(s[0]=N(f=>p("click"),["stop"]))},t.inputProps),null,16,["id","value","type","placeholder","invalid"])),t.deleteButton?(o(),c(C,{key:0,class:"h-fit",onClick:s[1]||(s[1]=f=>p("update:delete"))})):d("",!0)]),t.error?(o(),c(B,{key:1,name:t.name,error:t.error},null,8,["name","error"])):d("",!0)])}}});export{i as R,k as V,S as _,B as a,C as b};
