import{M as H,bQ as b,bS as D,bR as N,q as x,aC as S,aK as s,u as a,v as r,F as c,aV as U,b9 as o,H as l,t as i,bi as V,bY as B}from"../bundle.js";import{_ as C}from"./c-_plugin-vue_export-helper-DlAUqK2U.js";const T={key:0,class:"w-full mt-5 text-sm md:text-base text-left"},w={key:1},F=H({__name:"Highscores",props:{gameData:{},unit:{}},emits:["fetchHighscores"],setup(f,{emit:h}){const g=f,m=h,{publicUsers:y}=b(D()),{firebaseUser:d}=b(N()),p=x(()=>Object.entries(g.gameData.highscores??{}).sort(([,e],[,t])=>t.score-e.score)),_=e=>{var t;return((t=y.value.find(u=>u.id===e))==null?void 0:t.displayName)??"Unknown"};return S(()=>{var e;m("fetchHighscores",(e=d.value)==null?void 0:e.uid),setInterval(()=>{var t;m("fetchHighscores",(t=d.value)==null?void 0:t.uid)},1e3*60*5)}),(e,t)=>{var u;return(u=e.gameData)!=null&&u.highscores?(s(),a("table",T,[r("tbody",null,[p.value.length?(s(!0),a(c,{key:0},U(p.value,([k,n],v)=>(s(),a("tr",null,[r("th",null,o(v+1),1),r("th",null,o(_(k)),1),r("td",null,[l(o(n.score)+" ",1),e.unit?(s(),a(c,{key:0},[l(o(e.unit),1),n.score!==1?(s(),a(c,{key:0},[l("s")],64)):i("",!0)],64)):i("",!0),n.bonus?(s(),a(c,{key:1},[l("("+o(n.bonus)+" bonus)",1)],64)):i("",!0)]),r("td",null,o(V(B)(n.date)),1)]))),256)):(s(),a("tr",w,t[0]||(t[0]=[r("th",null,"There are no highscores yet.",-1)])))])])):i("",!0)}}}),R=C(F,[["__scopeId","data-v-dca06329"]]);export{R as H};
