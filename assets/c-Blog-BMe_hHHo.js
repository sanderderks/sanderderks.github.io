import{_ as Se}from"./c-Dialog.vue_vue_type_script_setup_true_lang-BGsOqr_m.js";import{_ as Le}from"./c-Page.vue_vue_type_script_setup_true_lang-BBSPAwAL.js";import{d as G,u as Oe,a as Ue,b as ye,c as X,e as se,s as _,f as L,o as Ie,i as Me,F as Ae,R as H,g as S,h as e,j as r,k as u,_ as J,l as U,m as T,n as Ne,B as Re,p as je,q as I,r as F,t as K,v as be,w as i,x as we,y as fe,z as le,A as V,C as W,D as ne,E as ke,G as Ge,H as Pe,I as Fe,J as ze,K as ge,L as ae,M as ie,N as qe,O as Z,P as He,Q as Be,S as Je,T as q,U as de,V as We,W as $e,X as ue,Y as Ye,Z as Ce,$ as Qe,a0 as Ke,a1 as Xe,a2 as ce,a3 as pe,a4 as ve,a5 as me,a6 as Ze}from"../bundle.js";import{_ as et}from"./c-BackButton.vue_vue_type_script_setup_true_lang-C2rqiF8o.js";import{_ as _e,a as he,u as tt}from"./c-BlogPost.vue_vue_type_script_setup_true_lang-C4PQ8AIg.js";const ot={key:0,class:"flex justify-center mt-5"},lt={key:1,class:"flex flex-col gap-3"},st=G({__name:"BlogDetails",emits:["createClicked","editClicked","deleteClicked"],setup(n){const m=Oe(),C=Ue(),f=ye(),b=X(),s=se(),{routeLoading:P}=_(f),{isLoggedIn:h}=_(b),{blogPosts:k,blogReactions:$,isBlogPostsFetchLoading:d}=_(s),{fetchBlogPost:g}=s,c=L(()=>m.params.postId);return Ie(async()=>{var y;if($.value.unread=[],c.value)if(((y=k.value.data.single)==null?void 0:y.id)!==c.value){const t=await g(c.value);if(Me(t)&&t===Ae.PERMISSION_DENIED&&!h.value){C.push({name:H.LOGIN,params:{redirect:JSON.stringify({name:H.BLOG_DETAILS,params:{postId:c.value}})}});return}}else k.value.data.single}),(y,t)=>e(d)?(r(),S("div",ot,[u(J,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:"",label:"Loading..."})])):(r(),S("div",lt,[u(et,{"back-route":e(H).BLOG,label:"Back to other posts"},null,8,["back-route"]),e(k).data.single?(r(),U(_e,{key:0,post:e(k).data.single,onEditClicked:t[0]||(t[0]=o=>y.$emit("editClicked",e(k).data.single)),onDeleteClicked:t[1]||(t[1]=o=>y.$emit("deleteClicked",e(k).data.single))},null,8,["post"])):T("",!0)]))}});var at=Ne`
    .p-card {
        background: dt('card.background');
        color: dt('card.color');
        box-shadow: dt('card.shadow');
        border-radius: dt('card.border.radius');
        display: flex;
        flex-direction: column;
    }

    .p-card-caption {
        display: flex;
        flex-direction: column;
        gap: dt('card.caption.gap');
    }

    .p-card-body {
        padding: dt('card.body.padding');
        display: flex;
        flex-direction: column;
        gap: dt('card.body.gap');
    }

    .p-card-title {
        font-size: dt('card.title.font.size');
        font-weight: dt('card.title.font.weight');
    }

    .p-card-subtitle {
        color: dt('card.subtitle.color');
    }
`,rt={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},nt=Re.extend({name:"card",style:at,classes:rt}),it={name:"BaseCard",extends:je,style:nt,provide:function(){return{$pcCard:this,$parentInstance:this}}},Ee={name:"Card",extends:it,inheritAttrs:!1};function dt(n,m,C,f,b,s){return r(),S("div",F({class:n.cx("root")},n.ptmi("root")),[n.$slots.header?(r(),S("div",F({key:0,class:n.cx("header")},n.ptm("header")),[K(n.$slots,"header")],16)):T("",!0),I("div",F({class:n.cx("body")},n.ptm("body")),[n.$slots.title||n.$slots.subtitle?(r(),S("div",F({key:0,class:n.cx("caption")},n.ptm("caption")),[n.$slots.title?(r(),S("div",F({key:0,class:n.cx("title")},n.ptm("title")),[K(n.$slots,"title")],16)):T("",!0),n.$slots.subtitle?(r(),S("div",F({key:1,class:n.cx("subtitle")},n.ptm("subtitle")),[K(n.$slots,"subtitle")],16)):T("",!0)],16)):T("",!0),I("div",F({class:n.cx("content")},n.ptm("content")),[K(n.$slots,"content")],16),n.$slots.footer?(r(),S("div",F({key:1,class:n.cx("footer")},n.ptm("footer")),[K(n.$slots,"footer")],16)):T("",!0)],16)],16)}Ee.render=dt;const ut={class:"flex gap-3"},ct={class:"min-h-[50vh] flex flex-col"},pt={class:"flex justify-between h-fit mt-2 gap-2"},vt={class:"flex flex-wrap gap-3"},mt={class:"relative mt-5 min-h-[20vh] max-h-screen flex flex-col justify-end"},ft={class:"relative min-h-[20vh] max-h-full flex-grow"},gt={class:"flex flex-col gap-1"},yt={class:"flex justify-center mt-5"},bt={class:"flex justify-center mt-3"},kt=G({__name:"BlogPostOverview",props:{post:{}},emits:["editClicked","deleteClicked"],setup(n){const m=n,C=ye(),f=X(),b=be(),{routeLoading:s,routeLoadingId:P}=_(C),{publicUsers:h}=_(b),{isOwner:k}=_(f),$=i(m.post.archived),d=L(()=>{var t;return(t=m.post.allowedUserIds)!=null&&t.length?h.value.filter(o=>{var l;return(l=m.post.allowedUserIds)==null?void 0:l.includes(o.id)}):[]}),g=L(()=>{const t=we(m.post.date);return m.post.dateUpdated?t+` - updated ${we(m.post.dateUpdated)}`:t}),c=L(()=>{const t=[];return m.post.datePinned&&t.push({value:"Pinned",severity:"success",rounded:!1}),m.post.locked&&t.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),m.post.archived&&t.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),t}),y=()=>{const t=document.createElement("textarea"),{protocol:o,hostname:l,port:a}=window.location,E=`${o}//${l}`+(l==="localhost"?`:${a}`:"");t.value=`${E}#${ze.BLOG.path}/${m.post.id}`,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),ge.success("Copied link!")};return(t,o)=>(r(),U(fe,{id:t.post.id,class:le([{"min-h-[50vh]":!$.value},"border-4 border-transparent","!rounded-primary",t.post.colorSecondary||t.post.colorPrimary||"bg-secondary-900",t.post.opacitySecondary||"bg-opacity-50"]),title:t.post.title,subTitle:g.value,tags:c.value,loading:t.post.loading,isCollapsed:$.value,clickable:"",route:{name:e(H).BLOG_DETAILS,params:{postId:t.post.id}}},{right:V(()=>[I("div",ut,[$.value?e(k)?(r(),U(he,{key:1,onEditClicked:o[0]||(o[0]=l=>t.$emit("editClicked")),onDeleteClicked:o[1]||(o[1]=l=>t.$emit("deleteClicked"))})):T("",!0):(r(),U(J,{key:0,class:"border-none h-fit",variant:"neutral",icon:"pi pi-copy",onClick:y}))])]),default:V(()=>{var l;return[I("div",ct,[I("div",pt,[I("div",vt,[d.value.length?(r(),S(W,{key:0},[u(e(ne),{class:"h-fit !p-0 !px-4 !py-1 !bg-red-800 !bg-opacity-50",icon:"pi pi-user",label:d.value[0].displayName,rounded:""},null,8,["label"]),d.value.length>1?(r(),U(e(ne),{key:0,class:"h-fit !p-0 !px-4 !py-1 !bg-red-800 !bg-opacity-50",icon:"pi pi-user",label:"You",rounded:""})):T("",!0),d.value.length>2?(r(),U(e(ne),{key:1,class:"h-fit !p-0 !px-4 !py-1 !bg-red-800 !bg-opacity-50",label:`${d.value.length-2} others`,rounded:""},null,8,["label"])):T("",!0)],64)):T("",!0)]),e(k)?(r(),S("div",{key:0,class:le(["flex justify-end ms-5",(l=t.post.allowedUserIds)!=null&&l.length?"flex-col md:flex-row":"flex-row"])},[u(he,{onEditClicked:o[2]||(o[2]=a=>t.$emit("editClicked")),onDeleteClicked:o[3]||(o[3]=a=>t.$emit("deleteClicked"))})],2)):T("",!0)]),I("div",mt,[o[6]||(o[6]=I("div",{class:"absolute inset-0 rounded-primary bg-gradient-to-t from-neutral-500 to-transparent"},null,-1)),I("div",ft,[u(e(Ee),{class:le(["z-10 min-h-[20vh] p-5 text-neutral-300",t.post.colorPrimary,t.post.opacityPrimary||"bg-opacity-50"])},{content:V(()=>[I("div",gt,[(r(!0),S(W,null,ke(t.post.content.filter((a,E)=>E<2),a=>(r(),U(Ge,{key:a.id,class:"max-h-[150px] overflow-hidden",post:t.post,block:a},null,8,["post","block"]))),128))])]),_:1},8,["class"])])]),I("div",yt,[u(J,{class:"w-full md:w-1/2",variant:"neutral",label:"Read more",loading:e(s)===e(H).BLOG_DETAILS&&e(P)===t.post.id,onClick:o[4]||(o[4]=a=>e(Pe).push({name:e(H).BLOG_DETAILS,params:{postId:t.post.id}}))},null,8,["loading"])]),I("div",bt,[I("p",{class:le(t.post.reactions.length?"text-yellow-400 hover:text-yellow-500 cursor-pointer":"text-neutral-200"),onClick:o[5]||(o[5]=a=>e(Pe).push({name:e(H).BLOG_DETAILS,params:{postId:t.post.id}}))},Fe(t.post.reactions.length)+" replies ",3)])])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed","route"]))}}),wt={class:"w-full grid gap-4 md:gap-10 xl:gap-20"},Pt={key:2,class:"w-full flex justify-center mt-5"},$t=G({__name:"BlogPosts",props:{single:{type:Boolean}},emits:["createClicked","editClicked","deleteClicked"],setup(n){const m=X(),C=se(),{blogPosts:f,visibleBlogPosts:b,isBlogPostsFetchLoading:s}=_(C),{firebaseUser:P,isLoggedIn:h,isOwner:k}=_(m),{fetchBlogPosts:$}=C;tt();const d=i(),g=i(),c=i(),y=async o=>{var l;f.value.visibility!==o&&(f.value.data[o].length||await $((l=P.value)==null?void 0:l.uid,{visibility:o}),f.value.visibility=o,f.value.isLastPage=!1,ie(d.value))},t=async()=>{var l;const o=b.value.length;await $((l=P.value)==null?void 0:l.uid),b.value[o]&&ie(g.value[o])};return Ie(()=>{f.value.loadedOnce||(h.value?y("private"):f.value.visibility!=="public"&&y("public"),f.value.loadedOnce=!0)}),ae(()=>{var o;return(o=g.value)==null?void 0:o.length},()=>{var o;if((o=g.value)!=null&&o.length&&c.value){const l=b.value.find(a=>a.id===c.value);if(l){const a=b.value.indexOf(l);ie(g.value[a]),c.value=void 0}}}),(o,l)=>(r(),S("div",{ref_key:"container",ref:d,class:"flex flex-col gap-5 items-center"},[e(k)?(r(),U(J,{key:0,class:"w-full md:w-1/2",variant:"tertiary",label:"New Post",onClick:l[0]||(l[0]=a=>o.$emit("createClicked"))})):T("",!0),e(h)?(r(),U(e(qe),{key:1,class:"w-full md:w-1/2"},{default:V(()=>[u(J,{class:"w-full",variant:"secondary",outlined:e(f).visibility!=="public",loading:e(f).isLoading.public.fetch,label:"Public Posts",onClick:l[1]||(l[1]=a=>y("public"))},null,8,["outlined","loading"]),u(J,{class:"w-full",variant:"secondary",outlined:e(f).visibility!=="private",loading:e(f).isLoading.private.fetch,label:"Private Posts",onClick:l[2]||(l[2]=a=>y("private"))},null,8,["outlined","loading"])]),_:1})):T("",!0),I("div",wt,[e(b).length?(r(!0),S(W,{key:0},ke(e(b),(a,E)=>(r(),S("div",{key:a.id,ref_for:!0,ref_key:"posts",ref:g},[E===0||a.datePinned?(r(),U(_e,{key:0,post:a,onEditClicked:w=>o.$emit("editClicked",a),onDeleteClicked:w=>o.$emit("deleteClicked",a)},null,8,["post","onEditClicked","onDeleteClicked"])):(r(),U(kt,{key:1,post:a,onEditClicked:w=>o.$emit("editClicked",a),onDeleteClicked:w=>o.$emit("deleteClicked",a)},null,8,["post","onEditClicked","onDeleteClicked"]))]))),128)):e(s)?(r(),U(fe,{key:1,class:"!bg-neutral-600 !bg-opacity-40 !rounded-primary",title:"Loading..."})):(r(),U(fe,{key:2,class:"!bg-red-900 !bg-opacity-40 !rounded-primary",title:"No posts"}))]),e(f).isLastPage?T("",!0):(r(),S("div",Pt,[u(J,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:e(b).length>0&&e(s),label:"Load more posts",onClick:t},null,8,["loading"])]))],512))}}),Ct=G({__name:"BlogPostContentDialog",emits:["update:selected","error"],setup(n,{expose:m,emit:C}){const f=C,b=Z(),{blogPostMutation:s}=_(b),P=i(),h=i(),k=L(()=>[h.value].some(d=>!!d));return m({test:async()=>{await Promise.all([P.value.test()]),f("error",k.value)}}),(d,g)=>(r(),S(W,null,[u(He,{ref_key:"title",ref:P,class:"w-full",name:"title",label:"Title",placeholder:"Amazing Post",modelValue:e(s).title,"onUpdate:modelValue":g[0]||(g[0]=c=>e(s).title=c),error:h.value,"onUpdate:error":g[1]||(g[1]=c=>h.value=c),rules:[e(Be).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),u(Je,{modelValue:e(s).content,"onUpdate:modelValue":g[2]||(g[2]=c=>e(s).content=c)},null,8,["modelValue"])],64))}}),ht=G({__name:"BlogPostSettingsDialog",emits:["error"],setup(n,{expose:m,emit:C}){const f=C,b=X(),s=be(),P=Z(),{publicUser:h,publicUsers:k}=_(s),{firebaseUser:$}=_(b),{blogPostMutation:d}=_(P),{allowedPublicUsers:g}=s,c=i(),y=i(),t=i(),o=i(),l=L({get(){return!!d.value.datePinned},set(O){d.value.datePinned=O?new Date:null}}),a=i(),E=i(),w=i(),x=i(),D=L(()=>[a.value,E.value,w.value,x.value].some(O=>!!O)),v=L(()=>k.value.map(({id:O,displayName:M})=>({value:O,label:M}))),p=i([]),ee=O=>{d.value.allowedUserIds=O},te=async()=>{d.value.allowedUserIds.length&&!p.value.length&&(a.value="Invalid user ID's"),await Promise.all([y.value.test(),t.value.test(),o.value.test()]),f("error",D.value)};return ae(()=>d.value.allowedUserIds,async O=>{p.value=await g(O)},{immediate:!0}),m({test:te}),(O,M)=>(r(),S(W,null,[u(q,{ref_key:"allowedUsers",ref:c,class:"w-full md:w-1/2",name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":e(d).allowedUserIds,error:a.value,"onUpdate:error":M[0]||(M[0]=A=>a.value=A),"onUpdate:arrayValue":ee,options:[{value:e($).uid,label:e(h).displayName},...v.value.filter(({value:A})=>{var oe;return A!==((oe=e($))==null?void 0:oe.uid)})],multiple:""},null,8,["model-value","error","options"]),u(de,{ref_key:"pinned",ref:o,class:"w-full md:w-1/2",name:"pinned",label:"Pinned",modelValue:l.value,"onUpdate:modelValue":M[1]||(M[1]=A=>l.value=A)},null,8,["modelValue"]),u(de,{ref_key:"locked",ref:y,class:"w-full md:w-1/2",name:"locked",label:"Locked for commenting",modelValue:e(d).locked,"onUpdate:modelValue":M[2]||(M[2]=A=>e(d).locked=A)},null,8,["modelValue"]),u(de,{ref_key:"archived",ref:t,class:"w-full md:w-1/2",name:"archived",label:"Archived",modelValue:e(d).archived,"onUpdate:modelValue":M[3]||(M[3]=A=>e(d).archived=A)},null,8,["modelValue"])],64))}}),St=G({__name:"BlogPostStylingDialog",emits:["error"],setup(n,{expose:m,emit:C}){const f=C,b=Z(),{blogPostMutation:s}=_(b),P=i(),h=i(),k=i(),$=i(),d=i(),g=i(),c=i(),y=i(),t=i(),o=i(),l=i(),a=i(),E=L(()=>[c.value,y.value,t.value,o.value,l.value,a.value].some(D=>!!D)),w=L(()=>We($e.find(D=>D.value===s.value.colorPrimary)));return m({test:async()=>{await Promise.all([P.value.test(),h.value.test(),k.value.test(),$.value.test(),d.value.test(),g.value.test()]),f("error",E.value)}}),(D,v)=>(r(),S(W,null,[u(q,{ref_key:"colorPrimary",ref:P,class:"w-full md:w-1/2",name:"colorPrimary",label:"Primary Style",modelValue:e(s).colorPrimary,"onUpdate:modelValue":v[0]||(v[0]=p=>e(s).colorPrimary=p),error:c.value,"onUpdate:error":v[1]||(v[1]=p=>c.value=p),options:e($e),rules:[e(Be).Required]},null,8,["modelValue","error","options","rules"]),u(q,{ref_key:"opacityPrimary",ref:$,class:"w-full md:w-1/2",name:"opacityPrimary",label:"Primary Opacity",modelValue:e(s).opacityPrimary,"onUpdate:modelValue":v[2]||(v[2]=p=>e(s).opacityPrimary=p),error:o.value,"onUpdate:error":v[3]||(v[3]=p=>o.value=p),options:e(ue)},null,8,["modelValue","error","options"]),u(q,{ref_key:"colorSecondary",ref:h,class:"w-full md:w-1/2",name:"colorSecondary",label:"Secondary Style",modelValue:e(s).colorSecondary,"onUpdate:modelValue":v[4]||(v[4]=p=>e(s).colorSecondary=p),error:y.value,"onUpdate:error":v[5]||(v[5]=p=>y.value=p),options:w.value},null,8,["modelValue","error","options"]),u(q,{ref_key:"opacitySecondary",ref:d,class:"w-full md:w-1/2",name:"opacitySecondary",label:"Secondary Opacity",modelValue:e(s).opacitySecondary,"onUpdate:modelValue":v[6]||(v[6]=p=>e(s).opacitySecondary=p),error:l.value,"onUpdate:error":v[7]||(v[7]=p=>l.value=p),options:e(ue)},null,8,["modelValue","error","options"]),u(q,{ref_key:"colorTertiary",ref:k,class:"w-full md:w-1/2",name:"colorTertiary",label:"Tertiary Style",modelValue:e(s).colorTertiary,"onUpdate:modelValue":v[8]||(v[8]=p=>e(s).colorTertiary=p),error:t.value,"onUpdate:error":v[9]||(v[9]=p=>t.value=p),options:e(Ye)},null,8,["modelValue","error","options"]),u(q,{ref_key:"opacityTertiary",ref:g,class:"w-full md:w-1/2",name:"opacityTertiary",label:"Tertiary Opacity",modelValue:e(s).opacityTertiary,"onUpdate:modelValue":v[10]||(v[10]=p=>e(s).opacityTertiary=p),error:a.value,"onUpdate:error":v[11]||(v[11]=p=>a.value=p),options:e(ue)},null,8,["modelValue","error","options"])],64))}}),Ut=G({__name:"BlogPostDialog",emits:["scroll-to-updated"],setup(n,{emit:m}){const C=m,f=X(),b=se(),s=Z(),{firebaseUser:P}=_(f),{isBlogPostsMutationLoading:h}=_(b),{createBlogPost:k,updateBlogPost:$,deleteFilesOfBlogPost:d,toggleBlogPostVisibility:g}=b,{getBlogPostMutationContent:c,getBlogPostMutationStyling:y,getBlogPostMutationSettings:t}=s,{isOpen:o,blogPostOriginal:l,blogPostMutationId:a,blogPostMutation:E,hasBlogPostMutationContentChanges:w,hasBlogPostMutationStylingChanges:x,hasBlogPostMutationSettingsChanges:D}=_(s),v=i(),p=i(),ee=i(),te=i(),O=i(!1),M=i(!1),A=i(!1),oe=L(()=>{var N,B,R,Y,Q,j;return!!((B=(N=l.value)==null?void 0:N.allowedUserIds)!=null&&B.length)&&!((R=t().allowedUserIds)!=null&&R.length)||!((Q=(Y=l.value)==null?void 0:Y.allowedUserIds)!=null&&Q.length)&&!!((j=t().allowedUserIds)!=null&&j.length)}),xe=L(()=>{const N=[];return w.value&&N.push("Content"),x.value&&N.push("Styling"),D.value&&N.push("Settings"),N.length?"Update "+Ce(N):void 0}),re=L(()=>Qe(l.value)),Ve=async()=>{var N,B,R,Y,Q;if(await Promise.all([p.value.test(),ee.value.test(),te.value.test()]),!(O.value||M.value||A.value))if(!l.value)await k(a.value,E.value,(N=P.value)==null?void 0:N.uid)&&(s.close(),C("scroll-to-updated",a.value));else if(oe.value){const j=a.value;s.isOpen=!1,await g(j,Ze.convert(E.value),l.value.reactions,E.value.allowedUserIds.length?"private":"public",(B=P.value)==null?void 0:B.uid)&&(s.close(),ge.success("Successfully updated Post Visibility"),C("scroll-to-updated",j))}else{const j=a.value;let z=[];w.value&&z.push(await $(j,c(),re.value,(R=P.value)==null?void 0:R.uid)),x.value&&z.push(await $(j,y(),re.value,(Y=P.value)==null?void 0:Y.uid)),D.value&&(z.push(await $(j,t(),re.value,(Q=P.value)==null?void 0:Q.uid)),C("scroll-to-updated",j)),z=z.filter(De=>typeof De=="string"),z.length&&(ge.success(`Successfully updated Post ${Ce(z)}`),s.close())}},Te=async()=>{d(E.value,l.value??void 0),s.close()};return ae(E,()=>{s.isMutationEqual()},{deep:!0}),(N,B)=>(r(),U(Se,{isOpen:e(o),title:e(l)?"Update Post":"Create Post",description:e(l)?"Update this post":"Create a new post","confirm-text":e(l)?xe.value:"Create","confirm-loading":e(h),onConfirm:Ve,onCancel:Te},{default:V(()=>[I("form",{ref_key:"dialog",ref:v,class:"pt-6 mb-4 xl:px-16"},[e(o)?(r(),U(e(Ke),{key:0,"active-index":0,onTabOpen:e(Xe)},{default:V(()=>[u(e(me),{value:"content"},{default:V(()=>[u(e(ce),null,{default:V(()=>B[3]||(B[3]=[pe(" Content ")])),_:1,__:[3]}),u(e(ve),{"pt:content":"flex flex-col justify-center items-center gap-3"},{default:V(()=>[u(Ct,{ref_key:"content",ref:p,onError:B[0]||(B[0]=R=>O.value=R)},null,512)]),_:1})]),_:1}),u(e(me),{value:"styling"},{default:V(()=>[u(e(ce),null,{default:V(()=>B[4]||(B[4]=[pe(" Styling ")])),_:1,__:[4]}),u(e(ve),{"pt:content":"flex flex-col justify-center items-center gap-3"},{default:V(()=>[u(St,{ref_key:"styling",ref:ee,onError:B[1]||(B[1]=R=>M.value=R)},null,512)]),_:1})]),_:1}),u(e(me),{value:"settings"},{default:V(()=>[u(e(ce),null,{default:V(()=>B[5]||(B[5]=[pe(" Settings ")])),_:1,__:[5]}),u(e(ve),{"pt:content":"flex flex-col justify-center items-center gap-3"},{default:V(()=>[u(ht,{ref_key:"settings",ref:te,onError:B[2]||(B[2]=R=>A.value=R)},null,512)]),_:1})]),_:1})]),_:1},8,["onTabOpen"])):T("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),It={class:"grid mt-10 md:mt-15"},Bt={class:"grid justify-center"},_t={class:"text-lg md:text-xl text-white"},Et=["innerHTML"],xt={class:"grid my-5 xl:px-20"},Vt=G({__name:"Blog",setup(n){const m=Ue(),C=ye(),f=be(),b=se(),s=Z(),{menuItems:P,content:h}=_(C),{publicUser:k}=_(f),{deleteBlogPost:$}=b,d=i(null),g=i(),c=i(!1),y=i(m.currentRoute.value.params.postId),t=L(()=>{var w;return k.value?[...h.value.blogDescriptionUser.map(x=>x.replace("%USER%",k.value.displayName||"Unknown user")),...((w=P.value.find(x=>x.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:w.description)||[]]:h.value.blogDescriptionGuest}),o=()=>{s.openWith(null)},l=w=>{s.openWith(w)},a=w=>{d.value=w,c.value=!0},E=async w=>{await $(w)&&(c.value=!1,d.value=null)};return ae(m.currentRoute,w=>{y.value=w.params.postId}),(w,x)=>(r(),U(Le,null,{content:V(()=>[I("div",It,[I("div",Bt,[(r(!0),S(W,null,ke(t.value,D=>(r(),S("h1",_t,[I("span",{innerHTML:D},null,8,Et)]))),256))]),I("div",xt,[y.value?(r(),U(st,{key:0,onEditClicked:l,onDeleteClicked:a})):(r(),U($t,{key:1,onCreateClicked:o,onEditClicked:l,onDeleteClicked:a})),u(Ut,{onScrollToUpdated:x[0]||(x[0]=D=>g.value=D)}),d.value?(r(),U(Se,{key:2,title:"Delete Post",isOpen:c.value,description:[` Are you sure you want to delete this post called ' ${d.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{variant:"danger",outlined:!0},onConfirm:x[1]||(x[1]=D=>E(d.value.id)),onCancel:x[2]||(x[2]=D=>c.value=!1)},null,8,["isOpen","description"])):T("",!0)])])]),_:1}))}}),At=G({__name:"Blog",setup(n){return(m,C)=>(r(),U(Vt))}});export{At as default};
