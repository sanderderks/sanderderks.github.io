import{e as L,l as a,m as y,H as q,E as P,r as U,c as u,aj as Z,ak as _,al as ee,am as te,an as ve,o as z,p as I,k as d,n as x,G as M,t as f,i as F,s as A,a4 as fe,ao as ye,ap as ae,aq as ne,ar as N,as as ce,h as G,g as me,q as w,at as pe,D as R,R as V,C as J,a as be,J as he,w as E,O as j,au as we,av as ke,aa as $e,aw as Te,B as Ce,ax as Se,x as Be,z as X,y as H,ay as oe,ae as se,U as De,f as Ie,A as Pe,Y as xe,K as Re,L as Ue}from"../bundle.js";import{_ as O,a as Y,u as Ee,b as Ae}from"./c-Bubble.vue_vue_type_script_setup_true_lang-iHAaGDxw.js";import{_ as Le}from"./c-TextField.vue_vue_type_script_setup_true_lang-BLqTl7i8.js";import{R as Me}from"./c-validation-DokkLKHB.js";import{_ as je,a as He,s as Ke}from"./c-Image.vue_vue_type_script_setup_true_lang-DxYsW8Nr.js";const W=L({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(n){return(e,s)=>(a(),y("span",{class:P({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},q(e.time),3))}}),Ne=(n,e)=>{const s=U(0),m=C=>(e==="up"?C=Math.abs(C):C=Math.max(0,C),Math.floor(C)),g=u(()=>m(s.value/Z)),v=u(()=>s.value%Z),b=u(()=>m(v.value/_)),k=u(()=>v.value%_),h=u(()=>m(k.value/ee)),S=u(()=>k.value%ee),i=u(()=>m(S.value/te)),p=u(()=>S.value%te),r=u(()=>m(p.value/ve)),l=u(()=>g.value===0&&b.value===0&&h.value===0&&i.value===0&&r.value===0),B=u(()=>g.value>0),D=u(()=>g.value>0||b.value>0||l.value),T=u(()=>g.value>0||b.value>0||h.value>0||l.value),t=u(()=>g.value>0||b.value>0||h.value>0||i.value>0||l.value),o=u(()=>g.value>0||b.value>0||h.value>0||i.value>0||r.value>0||l.value),$=()=>{s.value=n-new Date().getTime(),setTimeout($,1e3)};return z(()=>{$()}),{years:g,days:b,hours:h,minutes:i,seconds:r,showYears:B,showDays:D,showHours:T,showMinutes:t,showSeconds:o}},Oe=(n,e,s,m,g,v,b)=>{const k=U(0),h=u(()=>e.value===0&&s.value===0&&m.value===0&&g.value===0&&v.value===0),S=u(()=>b==="down"?s.value===364:s.value===0),i=u(()=>b==="down"?m.value===23:m.value===0),p=u(()=>b==="down"?g.value===59:g.value===0),r=u(()=>b==="down"?v.value===59:v.value===0),l=u(()=>e.value>=0&&S.value&&i.value&&p.value&&r.value),B=u(()=>s.value>=0&&i.value&&p.value&&r.value),D=u(()=>m.value>=0&&p.value&&r.value),T=u(()=>g.value>=0&&r.value),t=u(()=>!h.value),o=()=>{k.value=n-new Date().getTime(),setTimeout(o,1e3)};return z(()=>{o()}),{animateYears:l,animateDays:B,animateHours:D,animateMinutes:T,animateSeconds:t}},We={class:"grid grid-flow-col text-center"},Ve={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},qe={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Ye={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},ze={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Fe={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Ge={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Qe={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Je={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Xe={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Ze={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},K=L({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(n){const e=n,{years:s,days:m,hours:g,minutes:v,seconds:b,showYears:k,showDays:h,showHours:S,showMinutes:i,showSeconds:p}=Ne(e.time,e.direction),{animateYears:r,animateDays:l,animateHours:B,animateMinutes:D,animateSeconds:T}=Oe(e.time,s,m,g,v,b,e.direction);return(t,o)=>(a(),y("div",{class:P({block:!t.alignment,flex:!!t.alignment,"justify-start":t.alignment==="left","justify-center":t.alignment==="center","justify-end":t.alignment==="right"})},[I("div",We,[d(k)?(a(),y("div",Ve,[I("span",qe,[x(W,{time:d(s),animate:d(r),direction:t.direction},null,8,["time","animate","direction"])]),o[0]||(o[0]=M(" years "))])):f("",!0),d(h)?(a(),y("div",Ye,[I("span",ze,[x(W,{time:d(m),animate:d(l),direction:t.direction},null,8,["time","animate","direction"])]),o[1]||(o[1]=M(" days "))])):f("",!0),d(S)?(a(),y("div",Fe,[I("span",Ge,[x(W,{time:d(g),animate:d(B),direction:t.direction},null,8,["time","animate","direction"])]),o[2]||(o[2]=M(" hrs "))])):f("",!0),d(i)?(a(),y("div",Qe,[I("span",Je,[x(W,{time:d(v),animate:d(D),direction:t.direction},null,8,["time","animate","direction"])]),o[3]||(o[3]=M(" mins "))])):f("",!0),d(p)?(a(),y("div",Xe,[I("span",Ze,[x(W,{time:d(b),animate:d(T),direction:t.direction},null,8,["time","animate","direction"])]),o[4]||(o[4]=M(" secs "))])):f("",!0)])],2))}}),_e=n=>{const e=F(),{collections:s,fetchBlogPost:m,checkBlogPostForUnreadReactions:g}=e,{blogPosts:v,blogReactions:b,isBlogPostDatabaseActionActive:k}=A(e);let h=[];const S=U(),i=p=>{p.metadata.hasPendingWrites||k.value||(clearTimeout(S.value),S.value=setTimeout(async()=>{await m(n.id,void 0,{loadingIndicator:!1}),g(v.value.previousData.single,!0)},200))};z(async()=>{b.value.unread=b.value.unread.filter(t=>t.postId!==n.id);const p=fe(n),r=s.blogPosts(p.isPrivate),l=s.blogReactions(p.isPrivate),B=ye(r,n.id),D=ae(r,ne("id","==",n.id)),T=ae(l,ne("post","==",B));h.push(N(D,i)),h.push(N(T,i))}),ce(()=>{clearTimeout(S.value),h.forEach(p=>{p()})})},Bt=()=>{const n=F(),e=G(),{visibleBlogPosts:s,blogReactions:m,isBlogPostDatabaseActionActive:g}=A(n),{firebaseUser:v,isLoggedIn:b}=A(e),{collections:k,fetchBlogPosts:h,checkBlogPostsForUnreadReactions:S}=n;let i=[];const p=U(),r=l=>{l.metadata.hasPendingWrites||g.value||(clearTimeout(p.value),p.value=setTimeout(async()=>{var B;await h((B=v.value)==null?void 0:B.uid,{amount:s.value.length,loadingIndicator:!1}),S()},200))};z(()=>{m.value.unread=[],i.push(N(k.blogPosts(!1),r)),i.push(N(k.blogReactions(!1),r)),b.value&&(i.push(N(k.blogPosts(!0),r)),i.push(N(k.blogReactions(!0),r)))}),ce(()=>{clearTimeout(p.value),i.forEach(l=>{l()})})},et={class:"flex flex-col gap-2"},le=L({__name:"BlogReaction",props:{post:{},reaction:{}},setup(n){const e=n,s=me(),m=G(),g=F(),{routeLoading:v,routeLoadingId:b}=A(s),{firebaseUser:k,isLoggedIn:h,isOwner:S}=A(m),{blogReactions:i}=A(g),{deleteBlogReaction:p}=g,r=u(()=>i.value.unread.find(T=>T.id===e.reaction.id)),l=u(()=>{const T=[];return r.value&&T.push({value:"Unread",severity:"warning",rounded:!1}),T}),B=u(()=>k.value&&e.reaction.user.id===k.value.uid||S.value),D=()=>{i.value.unread=i.value.unread.filter(T=>T.id!==e.reaction.id)};return(T,t)=>(a(),w(Y,{id:e.reaction.id,class:P(["p-5 w-full md:w-3/4 xl:w-2/3",e.post.colorTertiary,e.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":r.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},avatarProps:{class:{"animate-spin":d(v)===d(V).USER_DETAILS&&d(b)===e.reaction.user.id}},title:e.reaction.user.displayName||"Unknown user",subTitle:d(J)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,route:d(h)?{name:d(V).USER_DETAILS,params:{userId:e.reaction.user.id}}:void 0,avatarRoute:d(h)?{name:d(V).USER_DETAILS,params:{userId:e.reaction.user.id}}:void 0,description:e.reaction.message,tags:l.value},pe({_:2},[B.value||r.value?{name:"right",fn:R(()=>[I("div",et,[B.value&&!e.post.locked?(a(),w(O,{key:0,type:"danger",outlined:"",class:"h-fit",label:"Delete",disabled:d(i).isDatabaseDeletionActive,onClick:t[0]||(t[0]=o=>d(p)(e.reaction.id,e.post))},null,8,["disabled"])):f("",!0),r.value?(a(),w(O,{key:1,type:"tertiary",outlined:"",class:"h-fit",label:"Mark as read",onClick:D})):f("",!0)])]),key:"0"}:void 0]),1032,["id","class","avatarProps","title","subTitle","avatar","route","avatarRoute","description","tags"]))}}),tt={class:"grid justify-items-center p-5 gap-5"},at=L({__name:"BlogReactions",props:{post:{}},setup(n){const e=n,s=me(),m=G(),g=F(),{content:v}=A(s),{firebaseUser:b,isLoggedIn:k}=A(m),{blogReactions:h}=A(g),{createBlogReaction:S}=g,i=U(),p=U(!1),r=be({reaction:{value:"",error:""}}),l=u(()=>[...e.post.reactions].reverse()),B=u(()=>l.value.filter((o,$)=>$<3)),D=u(()=>l.value.filter((o,$)=>$>=3)),T=u(()=>e.post.locked||!k.value||h.value.isDatabaseCreationActive),t=async()=>{if(!h.value.isDatabaseCreationActive){if(await i.value.test(),!r.reaction.error&&b.value){const o=r.reaction.value;r.reaction.value="Replying...";const $=await S(e.post,{userId:b.value.uid,postId:e.post.id,message:o,date:new Date});r.reaction.value=$?"":o}Te()}};return(o,$)=>(a(),y("form",{action:"",onSubmit:$e(t,["prevent"])},[I("div",tt,[!d(k)||o.post.reactions.filter(C=>C.user.id===d(b).uid).length<20?(a(),w(Y,{key:0,class:P(["p-5 flex justify-center w-full md:w-3/4 xl:w-2/3","!rounded-primary",o.post.colorTertiary||"bg-secondary-700",o.post.opacityTertiary||"bg-opacity-25"])},{default:R(()=>[x(Le,{class:"w-5/6",id:o.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",o.post.colorSecondary||o.post.colorPrimary||"bg-secondary-600",o.post.opacitySecondary||"!bg-opacity-20",T.value?{"!bg-gray-900 !bg-opacity-50":!d(h).isDatabaseCreationActive}:"focus:!text-white focus:!placeholder-gray-200",{"cursor-pointer":!d(k)&&!o.post.locked}],disabled:T.value},ref_key:"reaction",ref:i,name:"reaction",placeholder:o.post.locked?"Locked for comments":d(k)?"Reply":d(v).blogLoginGuest,modelValue:r.reaction.value,"onUpdate:modelValue":$[0]||($[0]=C=>r.reaction.value=C),error:r.reaction.error,"onUpdate:error":$[1]||($[1]=C=>r.reaction.error=C),rules:[d(Me).Required],onClick:$[2]||($[2]=()=>!d(k)&&!o.post.locked?d(he).push({name:d(V).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):f("",!0),(a(!0),y(E,null,j(B.value,C=>(a(),w(le,{post:o.post,reaction:C},null,8,["post","reaction"]))),256)),(a(!0),y(E,null,j(D.value,C=>we((a(),w(le,{post:o.post,reaction:C},null,8,["post","reaction"])),[[ke,p.value]])),256)),o.post.reactions.length>3?(a(),w(O,{key:1,type:"primary",outlined:"",icon:p.value?"pi pi-angle-up":"pi pi-angle-down",label:p.value?"Hide older reactions":"View older reactions",onClick:$[3]||($[3]=C=>p.value=!p.value)},null,8,["icon","label"])):f("",!0)])],32))}});var nt={root:function(e){var s=e.props;return["p-chip p-component",{"p-chip-image":s.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},ot=Ce.extend({name:"chip",classes:nt}),st={name:"BaseChip",extends:Be,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:ot,provide:function(){return{$parentInstance:this}}},ge={name:"Chip",extends:st,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:Se}},lt=["aria-label"],it=["src"];function rt(n,e,s,m,g,v){return g.visible?(a(),y("div",H({key:0,class:n.cx("root"),"aria-label":n.label},n.ptmi("root")),[X(n.$slots,"default",{},function(){return[n.image?(a(),y("img",H({key:0,src:n.image},n.ptm("image")),null,16,it)):n.$slots.icon?(a(),w(oe(n.$slots.icon),H({key:1,class:n.cx("icon")},n.ptm("icon")),null,16,["class"])):n.icon?(a(),y("span",H({key:2,class:[n.cx("icon"),n.icon]},n.ptm("icon")),null,16)):f("",!0),n.label?(a(),y("div",H({key:3,class:n.cx("label")},n.ptm("label")),q(n.label),17)):f("",!0)]}),n.removable?X(n.$slots,"removeicon",{key:0,onClick:v.close,onKeydown:v.onKeydown,removeCallback:v.close,keydownCallback:v.onKeydown},function(){return[(a(),w(oe(n.removeIcon?"span":"TimesCircleIcon"),H({tabindex:"0",class:[n.cx("removeIcon"),n.removeIcon],onClick:v.close,onKeydown:v.onKeydown},n.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):f("",!0)],16,lt)):f("",!0)}ge.render=rt;const ut=L({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(n){return(e,s)=>(a(),y("div",null,[I("div",{class:P({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[I("ul",{class:P(["list-disc",{"ms-5":e.alignment==="left"}])},[(a(!0),y(E,null,j(e.bullets,m=>(a(),y("li",null,q(m),1))),256))],2)],2)]))}}),dt={class:"ql-editor no-input"},ct=["innerHTML"],Q=L({__name:"BlogPostDescription",props:{description:{}},setup(n){return(e,s)=>(a(),y("div",dt,[I("div",{innerHTML:e.description},null,8,ct)]))}}),ie=L({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{},thumb:{type:Boolean}},setup(n){const e=n,s=Ee(Ae),m=s.greaterOrEqual("sm"),g=s.greaterOrEqual("md"),v=U(0),b=U(0),k=u(()=>v.value>b.value),h=u(()=>v.value>b.value*1.5),S=u(()=>b.value>v.value),i=u(()=>b.value>v.value*1.5),p=u(()=>g.value?"60%":m.value?"80%":e.maxHeight?e.maxHeight:k.value&&i.value?"80%":"100%"),r=u(()=>g.value?"60%":m.value?"80%":e.maxWidth?e.maxWidth:S.value&&h.value?"80%":"100%");return z(()=>{const l=new Image;l.src=e.coverImageUrl,l.onload=()=>{v.value=l.height,b.value=l.width}}),(l,B)=>{var D,T;return a(),y("div",{class:P({flex:!0,"justify-start":l.alignment==="left","justify-center":l.alignment===void 0||l.alignment==="center","justify-end":l.alignment==="right"})},[x(Y,{class:P(["!p-0 md:!p-3 my-5",l.thumb?"w-full":"w-fit xl:!p-5 border border-white md:border-none !rounded-none md:!rounded-primary",(D=l.post)==null?void 0:D.colorTertiary,((T=l.post)==null?void 0:T.opacityTertiary)||"bg-opacity-50"]),style:se({maxHeight:p.value,maxWidth:r.value})},{default:R(()=>[l.thumb?(a(),y("div",{key:0,class:"h-[20vh] inset-0 rounded-primary",style:se({backgroundImage:`url(${l.coverImageUrl})`,backgroundSize:"cover"})},null,4)):(a(),w(je,{key:1,src:l.coverImageUrl,"image-class":"cover-image md:rounded-primary"},null,8,["src"]))]),_:1},8,["class","style"])],2)}}}),mt={class:"flex flex-wrap justify-end h-fit gap-3"},re=L({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(n){return(e,s)=>(a(),y("div",mt,[x(O,{class:"min-w-80",label:"Edit",onClick:s[0]||(s[0]=m=>e.$emit("editClicked"))}),x(O,{class:"min-w-80",type:"danger",outlined:"",label:"Delete",onClick:s[1]||(s[1]=m=>e.$emit("deleteClicked"))})]))}}),ue=L({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean},isSubTitle:{type:Boolean}},emits:["click"],setup(n){const e=n;return(s,m)=>(a(),y("div",{class:P(["font-bold",{"text-lg md:text-2xl":!s.isSubTitle},{"hover:underline cursor-pointer":s.isExpandable},e.class])},[I("div",{class:P({block:!s.alignment,flex:!!s.alignment,"justify-start":s.alignment==="left","justify-center":s.alignment==="center","justify-end":s.alignment==="right"})},[I("span",{class:"flex",onClick:m[0]||(m[0]=g=>s.$emit("click"))},[s.isExpandable&&s.alignment==="right"?(a(),y("i",{key:0,class:P(["pi pi-angle-down animation",{"rotate-180":s.isExpanded}])},null,2)):f("",!0),X(s.$slots,"default"),s.isExpandable&&(s.alignment==="left"||s.alignment==="center")?(a(),y("i",{key:1,class:P(["pi pi-angle-down animation",{"rotate-180":s.isExpanded}])},null,2)):f("",!0)])],2)],2))}}),pt={class:"table-auto min-w-full text-left"},gt={key:0,class:"border border-white"},vt=["onClick","innerHTML"],de=L({__name:"BlogPostTable",props:{tableData:{},alignment:{}},setup(n){const e=n,s=U(0),m=U("asc"),g=u(()=>De(e.tableData)),v=U(g.value.slice(1)),b=(i,p)=>{i===0&&(s.value=p,k(),h())},k=()=>{m.value==="asc"?m.value="desc":m.value="asc"},h=()=>{const i=s.value;v.value=v.value.sort((p,r)=>m.value==="asc"?r[i].localeCompare(p[i]):p[i].localeCompare(r[i]))},S=i=>{const p=/(https?:\/\/[^\s]+)/g;return i.replace(p,r=>{let l=r.replace("http://","").replace("https://","").replace("www.","");return l.length>15&&(l=l.substring(0,15)+"..."),`<a href="${r}" target="_blank">${l}</a>`})};return(i,p)=>(a(),y("div",{class:P(["my-8 flex max-w-[65vw] md:max-w-[50vw] lg:max-w-[60vw] overflow-x-auto",{"justify-start":i.alignment==="left","justify-center":i.alignment==="center"||!i.alignment,"justify-end":i.alignment==="right"}])},[I("table",pt,[I("tbody",null,[(a(!0),y(E,null,j([g.value[0],...v.value],(r,l)=>(a(),y(E,{key:l},[r.every(B=>!B)?f("",!0):(a(),y("tr",gt,[(a(!0),y(E,null,j(r,(B,D)=>(a(),y(E,{key:D},[D!==0||!g.value.every(T=>!T.length||!T[0])?(a(),y("td",{key:0,class:P(["px-2 border border-white",{"font-bold":l===0||D===0},{"cursor-pointer underline":l===0},{"text-left":i.alignment==="left"||!i.alignment,"text-center":i.alignment==="center","text-right":i.alignment==="right"}]),onClick:T=>b(l,D),innerHTML:S(B)},null,10,vt)):f("",!0)],64))),128))]))],64))),128))])])],2))}}),ft={class:"flex gap-3"},yt={class:"flex justify-between h-fit mt-2 gap-2"},bt={class:"flex flex-wrap gap-3"},ht={class:"w-full"},wt={class:"w-full"},Dt=L({__name:"BlogPost",props:{post:{},withoutMutation:{type:Boolean}},emits:["editClicked","deleteClicked"],setup(n){const e=n,s=Ie(),m=G(),g=Pe(),{publicUsers:v}=A(g),{firebaseUser:b,isOwner:k}=A(m);s.currentRoute.value.name!==V.BLOG&&_e(e.post);const h=U(e.post.archived),S=u(()=>{var t;return(t=e.post.allowedUserIds)!=null&&t.length?v.value.filter(o=>{var $;return($=e.post.allowedUserIds)==null?void 0:$.includes(o.id)}):[]}),i=u(()=>{const t=J(new Date(e.post.date)),o=e.post.dateUpdated?J(new Date(e.post.dateUpdated)):"";return t+` - updated ${o}`}),p=u(()=>{const t=[];return e.post.datePinned&&t.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&t.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&t.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),t}),r=u(()=>e.post.sections.map(t=>({...t,isExpandable:B(t)}))),l=u(()=>r.value.some(t=>t.openByDefault)?r.value.flatMap((t,o)=>t.openByDefault?o:[]):null),B=t=>!!t.description||!!t.coverImageUrl||!!t.bullets.length||!!t.table,D=t=>{var o;(o=l.value)!=null&&o.length||xe(t)},T=()=>{const t=document.createElement("textarea"),{protocol:o,hostname:$,port:C}=window.location,c=`${o}//${$}`+($==="localhost"?`:${C}`:"");t.value=`${c}#${Re.BLOG.path}/${e.post.id}`,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),Ue.success("Copied link!")};return(t,o)=>(a(),w(Y,{id:t.post.id,class:P([{"min-h-[90vh]":!h.value},"border-4 border-transparent","!rounded-primary",t.post.colorSecondary||t.post.colorPrimary||"bg-secondary-900",t.post.opacitySecondary||"bg-opacity-50"]),title:t.post.title,subTitle:i.value,tags:p.value,loading:t.post.loading,isCollapsed:h.value,clickable:"",onClick:o[4]||(o[4]=$=>h.value=!h.value)},{right:R(()=>[I("div",ft,[h.value?d(k)&&!t.withoutMutation?(a(),w(re,{key:1,onEditClicked:o[0]||(o[0]=$=>t.$emit("editClicked")),onDeleteClicked:o[1]||(o[1]=$=>t.$emit("deleteClicked"))})):f("",!0):(a(),w(O,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:T}))])]),default:R(()=>{var $;return[I("div",yt,[I("div",bt,[(a(!0),y(E,null,j(S.value,C=>{var c;return a(),w(d(ge),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:C.id===((c=d(b))==null?void 0:c.uid)?"You":C.displayName,rounded:""},null,8,["label"])}),256))]),d(k)&&!t.withoutMutation?(a(),y("div",{key:0,class:P(["flex justify-end ms-5",($=t.post.allowedUserIds)!=null&&$.length?"flex-col md:flex-row":"flex-row"])},[x(re,{onEditClicked:o[2]||(o[2]=C=>t.$emit("editClicked")),onDeleteClicked:o[3]||(o[3]=C=>t.$emit("deleteClicked"))})],2)):f("",!0)]),x(Y,{class:P(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",t.post.colorPrimary,t.post.opacityPrimary||"bg-opacity-50"])},{default:R(()=>{var C;return[I("div",{class:P(["flex relative",t.post.countdown||t.post.alignment==="center"?"flex justify-between":""])},[I("div",ht,[t.post.countdown?(a(),w(K,{key:0,time:new Date(t.post.countdown).getTime(),direction:"down",alignment:t.post.alignment},null,8,["time","alignment"])):f("",!0),t.post.timer?(a(),w(K,{key:1,time:new Date(t.post.timer).getTime(),direction:"up",alignment:t.post.alignment},null,8,["time","alignment"])):f("",!0),t.post.description?(a(),w(Q,{key:2,description:t.post.description},null,8,["description"])):f("",!0)])],2),t.post.coverImageUrl?(a(),w(ie,{key:0,post:t.post,"cover-image-url":t.post.coverImageUrl},null,8,["post","cover-image-url"])):f("",!0),t.post.descriptionFooter?(a(),w(Q,{key:1,class:"mb-5",description:t.post.descriptionFooter},null,8,["description"])):f("",!0),t.post.table?(a(),w(de,{key:2,tableData:t.post.table,alignment:t.post.tableAlignment},null,8,["tableData","alignment"])):f("",!0),x(d(He),{multiple:!!((C=l.value)!=null&&C.length),"active-index":l.value,onTabOpen:D},{default:R(()=>[(a(!0),y(E,null,j(r.value,c=>(a(),w(d(Ke),{disabled:!c.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",c.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:{invisible:!c.isExpandable}}}},pe({header:R(()=>[I("div",wt,[c.title?(a(),w(ue,{key:0,alignment:c.alignment},{default:R(()=>[M(q(c.title),1)]),_:2},1032,["alignment"])):f("",!0),c.subTitle?(a(),w(ue,{key:1,alignment:c.alignment,"is-sub-title":""},{default:R(()=>[M(q(c.subTitle),1)]),_:2},1032,["alignment"])):f("",!0),c.isExpandable?f("",!0):(a(),y(E,{key:2},[c.countdown?(a(),w(K,{key:0,time:new Date(c.countdown).getTime(),direction:"down",alignment:c.alignment},null,8,["time","alignment"])):f("",!0),c.timer?(a(),w(K,{key:1,time:new Date(c.timer).getTime(),direction:"up",alignment:c.alignment},null,8,["time","alignment"])):f("",!0)],64))])]),default:R(()=>[c.description?(a(),w(Q,{key:0,description:c.description,alignment:c.alignment},null,8,["description","alignment"])):f("",!0),c.coverImageUrl?(a(),w(ie,{key:1,post:t.post,"cover-image-url":c.coverImageUrl,alignment:c.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):f("",!0),x(ut,{bullets:c.bullets,alignment:c.alignment},null,8,["bullets","alignment"]),c.isExpandable?(a(),y(E,{key:2},[c.countdown?(a(),w(K,{key:0,time:new Date(c.countdown).getTime(),direction:"down",alignment:c.alignment},null,8,["time","alignment"])):f("",!0),c.timer?(a(),w(K,{key:1,time:new Date(c.timer).getTime(),direction:"up",alignment:c.alignment},null,8,["time","alignment"])):f("",!0)],64)):f("",!0),c.table?(a(),w(de,{key:3,tableData:c.table,alignment:c.tableAlignment},null,8,["tableData","alignment"])):f("",!0)]),_:2},[c.isExpandable?void 0:{name:"headericon",fn:R(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1},8,["multiple","active-index"])]}),_:1},8,["class"]),x(at,{post:t.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}});export{Dt as _,re as a,ie as b,K as c,Q as d,ue as e,ge as s,Bt as u};
