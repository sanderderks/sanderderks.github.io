import{M as S,aK as a,u as v,b9 as O,at as B,aS as D,q as r,co as X,cp as _,cq as ee,cr as te,cs as ge,aC as q,v as T,bi as f,I as P,H as E,t as g,bQ as U,bR as z,bS as Y,s as k,A as ce,bH as x,bY as G,bV as Z,aQ as ve,bZ as fe,F as R,aV as M,bJ as be,bz as ye,bM as he,ct as we,bW as ke,cu as $e,bX as Te,aW as Q,ar as H,aZ as ne,av as ae,c5 as Ce,ch as Be,cv as j,cw as Ie,cx as oe,cy as se,cz as L,aH as me,bP as Pe,ca as xe,b_ as De,b$ as Re}from"../bundle.js";import{_ as W,a as V,u as Se,b as Ue}from"./c-Bubble.vue_vue_type_script_setup_true_lang-CecaO51i.js";import{_ as Ee}from"./c-TextField.vue_vue_type_script_setup_true_lang-DjwGVSFt.js";import{R as Me}from"./c-validation-Bf-E2UlI.js";import{_ as He,a as Ae,s as je}from"./c-Image.vue_vue_type_script_setup_true_lang-rBtn08tl.js";const N=S({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(s){return(t,o)=>(a(),v("span",{class:B({"animation ease-in animate-timer-up":t.animate&&t.direction==="up","animation ease-in animate-timer-down":t.animate&&t.direction==="down"})},O(t.time),3))}}),Le=(s,t)=>{const o=D(0),u=K=>(t==="up"?K=Math.abs(K):K=Math.max(0,K),Math.floor(K)),p=r(()=>u(o.value/X)),m=r(()=>o.value%X),d=r(()=>u(m.value/_)),b=r(()=>m.value%_),y=r(()=>u(b.value/ee)),$=r(()=>b.value%ee),l=r(()=>u($.value/te)),h=r(()=>$.value%te),w=r(()=>u(h.value/ge)),e=r(()=>p.value===0&&d.value===0&&y.value===0&&l.value===0&&w.value===0),i=r(()=>p.value>0),c=r(()=>p.value>0||d.value>0||e.value),n=r(()=>p.value>0||d.value>0||y.value>0||e.value),C=r(()=>p.value>0||d.value>0||y.value>0||l.value>0||e.value),I=r(()=>p.value>0||d.value>0||y.value>0||l.value>0||w.value>0||e.value),J=()=>{o.value=s-new Date().getTime(),setTimeout(J,1e3)};return q(()=>{J()}),{years:p,days:d,hours:y,minutes:l,seconds:w,showYears:i,showDays:c,showHours:n,showMinutes:C,showSeconds:I}},We=(s,t,o,u,p,m,d)=>{const b=D(0),y=r(()=>t.value===0&&o.value===0&&u.value===0&&p.value===0&&m.value===0),$=r(()=>d==="down"?o.value===364:o.value===0),l=r(()=>d==="down"?u.value===23:u.value===0),h=r(()=>d==="down"?p.value===59:p.value===0),w=r(()=>d==="down"?m.value===59:m.value===0),e=r(()=>t.value>=0&&$.value&&l.value&&h.value&&w.value),i=r(()=>o.value>=0&&l.value&&h.value&&w.value),c=r(()=>u.value>=0&&h.value&&w.value),n=r(()=>p.value>=0&&w.value),C=r(()=>!y.value),I=()=>{b.value=s-new Date().getTime(),setTimeout(I,1e3)};return q(()=>{I()}),{animateYears:e,animateDays:i,animateHours:c,animateMinutes:n,animateSeconds:C}},Ke={class:"grid grid-flow-col text-center"},Ne={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Oe={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Ve={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},qe={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Ye={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},ze={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Fe={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Ge={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Qe={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Ze={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},A=S({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(s){const t=s,{years:o,days:u,hours:p,minutes:m,seconds:d,showYears:b,showDays:y,showHours:$,showMinutes:l,showSeconds:h}=Le(t.time,t.direction),{animateYears:w,animateDays:e,animateHours:i,animateMinutes:c,animateSeconds:n}=We(t.time,o,u,p,m,d,t.direction);return(C,I)=>(a(),v("div",{class:B({block:!C.alignment,flex:!!C.alignment,"justify-start":C.alignment==="left","justify-center":C.alignment==="center","justify-end":C.alignment==="right"})},[T("div",Ke,[f(b)?(a(),v("div",Ne,[T("span",Oe,[P(N,{time:f(o),animate:f(w),direction:C.direction},null,8,["time","animate","direction"])]),I[0]||(I[0]=E(" years "))])):g("",!0),f(y)?(a(),v("div",Ve,[T("span",qe,[P(N,{time:f(u),animate:f(e),direction:C.direction},null,8,["time","animate","direction"])]),I[1]||(I[1]=E(" days "))])):g("",!0),f($)?(a(),v("div",Ye,[T("span",ze,[P(N,{time:f(p),animate:f(i),direction:C.direction},null,8,["time","animate","direction"])]),I[2]||(I[2]=E(" hrs "))])):g("",!0),f(l)?(a(),v("div",Fe,[T("span",Ge,[P(N,{time:f(m),animate:f(c),direction:C.direction},null,8,["time","animate","direction"])]),I[3]||(I[3]=E(" mins "))])):g("",!0),f(h)?(a(),v("div",Qe,[T("span",Ze,[P(N,{time:f(d),animate:f(n),direction:C.direction},null,8,["time","animate","direction"])]),I[4]||(I[4]=E(" secs "))])):g("",!0)])],2))}}),Je={class:"flex flex-col gap-2"},le=S({__name:"BlogReaction",props:{post:{},reaction:{}},setup(s){const t=s,{publicUser:o,isOwner:u}=U(z()),p=Y(),{deleteBlogReaction:m}=p,{blogReactions:d}=U(p),b=r(()=>d.value.unread.find(h=>h.id===t.reaction.id)),y=r(()=>{const h=[];return b.value&&h.push({value:"Unread",severity:"warning",rounded:!1}),h}),$=r(()=>o.value&&t.reaction.user.id===o.value.id||u.value),l=()=>{d.value.unread=d.value.unread.filter(h=>h.id!==t.reaction.id)};return(h,w)=>(a(),k(V,{id:t.reaction.id,class:B(["p-5 w-full md:w-3/4 xl:w-2/3",t.post.colorTertiary,t.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":b.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},title:t.reaction.user.displayName||"Unknown user",subTitle:f(G)(new Date(t.reaction.date)),avatar:t.reaction.user.avatar,avatarRoute:f(u)?{name:f(Z).USER_DETAILS,params:{userId:t.reaction.user.id}}:void 0,description:t.reaction.message,tags:y.value},ce({_:2},[$.value||b.value?{name:"right",fn:x(()=>[T("div",Je,[$.value&&!t.post.locked?(a(),k(W,{key:0,type:"danger",outlined:"",class:"h-fit",label:"Delete",onClick:w[0]||(w[0]=e=>f(m)(t.reaction.id,t.post))})):g("",!0),b.value?(a(),k(W,{key:1,type:"tertiary",outlined:"",class:"h-fit",label:"Mark as read",onClick:l})):g("",!0)])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","avatarRoute","description","tags"]))}}),Xe={class:"grid justify-items-center p-5 gap-5"},_e=S({__name:"BlogReactions",props:{post:{}},setup(s){const t=s,{publicUser:o}=U(z()),u=Y(),{content:p}=U(u),{createBlogReaction:m}=u,d=D(),b=D(!1),y=ve({reaction:{value:"",error:""}}),$=r(()=>[...t.post.reactions].reverse()),l=r(()=>$.value.filter((i,c)=>c<3)),h=r(()=>$.value.filter((i,c)=>c>=3)),w=r(()=>t.post.locked||!o.value),e=async()=>{await d.value.test(),!y.reaction.error&&o.value&&await m(t.post,{userId:o.value.id,postId:t.post.id,message:y.reaction.value,date:new Date})&&(y.reaction.value=""),we()};return(i,c)=>(a(),v("form",{action:"",onSubmit:he(e,["prevent"])},[T("div",Xe,[!f(o)||i.post.reactions.filter(n=>n.user.id===f(o).id).length<20?(a(),k(V,{key:0,class:B(["p-5 flex justify-center w-full md:w-3/4 xl:w-2/3","!rounded-primary",i.post.colorTertiary||"bg-secondary-700",i.post.opacityTertiary||"bg-opacity-25"])},{default:x(()=>[P(Ee,{class:"w-5/6",id:i.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",i.post.colorSecondary||i.post.colorPrimary||"bg-secondary-600",i.post.opacitySecondary||"!bg-opacity-20",w.value?"!bg-gray-900 !bg-opacity-50":"focus:!text-white focus:!placeholder-gray-200",{"cursor-pointer":!f(o)&&!i.post.locked}],disabled:w.value},ref_key:"reaction",ref:d,name:"reaction",placeholder:i.post.locked?"Locked for comments":f(o)?"Reply":f(p).blogLoginGuest,modelValue:y.reaction.value,"onUpdate:modelValue":c[0]||(c[0]=n=>y.reaction.value=n),error:y.reaction.error,"onUpdate:error":c[1]||(c[1]=n=>y.reaction.error=n),rules:[f(Me).Required],onClick:c[2]||(c[2]=()=>!f(o)&&!i.post.locked?f(fe).push({name:f(Z).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):g("",!0),(a(!0),v(R,null,M(l.value,n=>(a(),k(le,{post:i.post,reaction:n},null,8,["post","reaction"]))),256)),(a(!0),v(R,null,M(h.value,n=>be((a(),k(le,{post:i.post,reaction:n},null,8,["post","reaction"])),[[ye,b.value]])),256)),i.post.reactions.length>3?(a(),k(W,{key:1,type:"primary",outlined:"",icon:b.value?"pi pi-angle-up":"pi pi-angle-down",label:b.value?"Hide older reactions":"View older reactions",onClick:c[3]||(c[3]=n=>b.value=!b.value)},null,8,["icon","label"])):g("",!0)])],32))}});var et={root:function(t){var o=t.props;return["p-chip p-component",{"p-chip-image":o.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},tt=ke.extend({name:"chip",classes:et}),nt={name:"BaseChip",extends:Te,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:tt,provide:function(){return{$parentInstance:this}}},pe={name:"Chip",extends:nt,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(t){(t.key==="Enter"||t.key==="Backspace")&&this.close(t)},close:function(t){this.visible=!1,this.$emit("remove",t)}},components:{TimesCircleIcon:$e}},at=["aria-label"],ot=["src"];function st(s,t,o,u,p,m){return p.visible?(a(),v("div",H({key:0,class:s.cx("root"),"aria-label":s.label},s.ptmi("root")),[Q(s.$slots,"default",{},function(){return[s.image?(a(),v("img",H({key:0,src:s.image},s.ptm("image")),null,16,ot)):s.$slots.icon?(a(),k(ne(s.$slots.icon),H({key:1,class:s.cx("icon")},s.ptm("icon")),null,16,["class"])):s.icon?(a(),v("span",H({key:2,class:[s.cx("icon"),s.icon]},s.ptm("icon")),null,16)):g("",!0),s.label?(a(),v("div",H({key:3,class:s.cx("label")},s.ptm("label")),O(s.label),17)):g("",!0)]}),s.removable?Q(s.$slots,"removeicon",{key:0,onClick:m.close,onKeydown:m.onKeydown,removeCallback:m.close,keydownCallback:m.onKeydown},function(){return[(a(),k(ne(s.removeIcon?"span":"TimesCircleIcon"),H({tabindex:"0",class:[s.cx("removeIcon"),s.removeIcon],onClick:m.close,onKeydown:m.onKeydown},s.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):g("",!0)],16,at)):g("",!0)}pe.render=st;const lt=S({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(s){return(t,o)=>(a(),v("div",null,[T("div",{class:B({block:!t.alignment,flex:!!t.alignment,"justify-start":t.alignment==="left","justify-center":t.alignment==="center","justify-end":t.alignment==="right"})},[T("ul",{class:B(["list-disc",{"ms-5":t.alignment==="left"}])},[(a(!0),v(R,null,M(t.bullets,u=>(a(),v("li",null,O(u),1))),256))],2)],2)]))}}),it={class:"ql-editor no-input"},rt=["innerHTML"],F=S({__name:"BlogPostDescription",props:{description:{}},setup(s){return(t,o)=>(a(),v("div",it,[T("div",{innerHTML:t.description},null,8,rt)]))}}),ie=S({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{},thumb:{type:Boolean}},setup(s){const t=s,o=Se(Ue),u=o.greaterOrEqual("sm"),p=o.greaterOrEqual("md"),m=D(0),d=D(0),b=r(()=>m.value>d.value),y=r(()=>m.value>d.value*1.5),$=r(()=>d.value>m.value),l=r(()=>d.value>m.value*1.5),h=r(()=>p.value?"60%":u.value?"80%":t.maxHeight?t.maxHeight:b.value&&l.value?"80%":"100%"),w=r(()=>p.value?"60%":u.value?"80%":t.maxWidth?t.maxWidth:$.value&&y.value?"80%":"100%");return q(()=>{const e=new Image;e.src=t.coverImageUrl,e.onload=()=>{m.value=e.height,d.value=e.width}}),(e,i)=>{var c,n;return a(),v("div",{class:B({flex:!0,"justify-start":e.alignment==="left","justify-center":e.alignment===void 0||e.alignment==="center","justify-end":e.alignment==="right"})},[P(V,{class:B(["!p-0 md:!p-3 my-5",e.thumb?"w-full":"w-fit xl:!p-5 border border-white md:border-none !rounded-none md:!rounded-primary",(c=e.post)==null?void 0:c.colorTertiary,((n=e.post)==null?void 0:n.opacityTertiary)||"bg-opacity-50"]),style:ae({maxHeight:h.value,maxWidth:w.value})},{default:x(()=>[e.thumb?(a(),v("div",{key:0,class:"h-[20vh] inset-0 rounded-primary",style:ae({backgroundImage:`url(${e.coverImageUrl})`,backgroundSize:"cover"})},null,4)):(a(),k(He,{key:1,src:e.coverImageUrl,"image-class":"cover-image md:rounded-primary"},null,8,["src"]))]),_:1},8,["class","style"])],2)}}}),ut={class:"flex flex-wrap justify-end h-fit gap-3"},re=S({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(s){return(t,o)=>(a(),v("div",ut,[P(W,{class:"min-w-80",label:"Edit",onClick:o[0]||(o[0]=u=>t.$emit("editClicked"))}),P(W,{class:"min-w-80",type:"danger",outlined:"",label:"Delete",onClick:o[1]||(o[1]=u=>t.$emit("deleteClicked"))})]))}}),ue=S({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean},isSubTitle:{type:Boolean}},emits:["click"],setup(s){const t=s;return(o,u)=>(a(),v("div",{class:B(["font-bold",{"text-lg md:text-2xl":!o.isSubTitle},{"hover:underline cursor-pointer":o.isExpandable},t.class])},[T("div",{class:B({block:!o.alignment,flex:!!o.alignment,"justify-start":o.alignment==="left","justify-center":o.alignment==="center","justify-end":o.alignment==="right"})},[T("span",{class:"flex",onClick:u[0]||(u[0]=p=>o.$emit("click"))},[o.isExpandable&&o.alignment==="right"?(a(),v("i",{key:0,class:B(["pi pi-angle-down animation",{"rotate-180":o.isExpanded}])},null,2)):g("",!0),Q(o.$slots,"default"),o.isExpandable&&(o.alignment==="left"||o.alignment==="center")?(a(),v("i",{key:1,class:B(["pi pi-angle-down animation",{"rotate-180":o.isExpanded}])},null,2)):g("",!0)])],2)],2))}}),dt={class:"table-auto min-w-full text-left"},ct={key:0,class:"border border-white"},mt=["onClick","innerHTML"],de=S({__name:"BlogPostTable",props:{tableData:{},alignment:{}},setup(s){const t=s,o=D(0),u=D("asc"),p=r(()=>Ce(t.tableData)),m=D(p.value.slice(1)),d=l=>{console.log("tests"),o.value=l,b(),y()},b=()=>{u.value==="asc"?u.value="desc":u.value="asc"},y=()=>{const l=o.value;m.value=m.value.sort((h,w)=>u.value==="asc"?w[l].localeCompare(h[l]):h[l].localeCompare(w[l]))},$=l=>{const h=/(https?:\/\/[^\s]+)/g;return l.replace(h,w=>{let e=w.replace("http://","").replace("https://","").replace("www.","");return e.length>15&&(e=e.substring(0,15)+"..."),`<a href="${w}" target="_blank">${e}</a>`})};return(l,h)=>(a(),v("div",{class:B(["my-8 flex max-w-[65vw] md:max-w-[50vw] lg:max-w-[60vw] overflow-x-auto",{"justify-start":l.alignment==="left","justify-center":l.alignment==="center"||!l.alignment,"justify-end":l.alignment==="right"}])},[T("table",dt,[T("tbody",null,[(a(!0),v(R,null,M([p.value[0],...m.value],(w,e)=>(a(),v(R,{key:e},[w.every(i=>!i)?g("",!0):(a(),v("tr",ct,[(a(!0),v(R,null,M(w,(i,c)=>(a(),v(R,{key:c},[c!==0||!p.value.every(n=>!n.length||!n[0])?(a(),v("td",{key:0,class:B(["px-2 border border-white",{"font-bold":e===0||c===0},{"cursor-pointer underline":e===0},{"text-left":l.alignment==="left"||!l.alignment,"text-center":l.alignment==="center","text-right":l.alignment==="right"}]),onClick:n=>d(c),innerHTML:$(i)},null,10,mt)):g("",!0)],64))),128))]))],64))),128))])])],2))}}),pt=s=>{const t=Y(),{fetchBlogPost:o,checkBlogPostForUnreadReactions:u}=t,{blogPosts:p,blogReactions:m,isBlogPostDatabaseActionActive:d}=U(t);let b=[];const y=D(),$=l=>{l.metadata.hasPendingWrites||d.value||(clearTimeout(y.value),y.value=setTimeout(async()=>{await o(s.id,void 0,{loadingIndicator:!1}),u(p.value.previousData.single,!0)},200))};q(async()=>{m.value.unread=m.value.unread.filter(n=>n.postId!==s.id);const l=Be(s),h=j.blogPosts(l.isPrivate),w=j.blogReactions(l.isPrivate),e=Ie(h,s.id),i=oe(h,se("id","==",s.id)),c=oe(w,se("post","==",e));b.push(L(i,$)),b.push(L(c,$))}),me(()=>{clearTimeout(y.value),b.forEach(l=>{l()})})},Ct=()=>{const s=Y(),{fetchBlogPosts:t,checkBlogPostsForUnreadReactions:o}=s,{visibleBlogPosts:u,blogReactions:p,isBlogPostDatabaseActionActive:m}=U(s),{firebaseUser:d}=U(z());let b=[];const y=D(),$=l=>{l.metadata.hasPendingWrites||m.value||(clearTimeout(y.value),y.value=setTimeout(async()=>{var h;await t((h=d.value)==null?void 0:h.uid,{amount:u.value.length,loadingIndicator:!1}),o()},200))};q(()=>{p.value.unread=[],b.push(L(j.blogPosts(!1),$)),b.push(L(j.blogReactions(!1),$)),d.value&&(b.push(L(j.blogPosts(!0),$)),b.push(L(j.blogReactions(!0),$)))}),me(()=>{clearTimeout(y.value),b.forEach(l=>{l()})})},gt={class:"flex gap-3"},vt={class:"flex justify-between h-fit mt-2 gap-2"},ft={class:"flex flex-wrap gap-3"},bt={class:"w-full"},yt={class:"w-full"},Bt=S({__name:"BlogPost",props:{post:{},withoutMutation:{type:Boolean}},emits:["editClicked","deleteClicked"],setup(s){const t=s,o=Pe(),{publicUsers:u}=U(Y()),{firebaseUser:p,isOwner:m}=U(z());o.currentRoute.value.name!==Z.BLOG&&pt(t.post);const d=D(t.post.archived),b=r(()=>{var e;return(e=t.post.allowedUserIds)!=null&&e.length?u.value.filter(i=>{var c;return(c=t.post.allowedUserIds)==null?void 0:c.includes(i.id)}):[]}),y=r(()=>{const e=G(new Date(t.post.date)),i=t.post.dateUpdated?G(new Date(t.post.dateUpdated)):"";return e+` - updated ${i}`}),$=r(()=>{const e=[];return t.post.datePinned&&e.push({value:"Pinned",severity:"success",rounded:!1}),t.post.locked&&e.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),t.post.archived&&e.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),e}),l=r(()=>t.post.sections.map(e=>({...e,isExpandable:h(e)}))),h=e=>!!e.description||!!e.coverImageUrl||!!e.bullets.length||!!e.table,w=()=>{const e=document.createElement("textarea"),{protocol:i,hostname:c,port:n}=window.location,C=`${i}//${c}`+(c==="localhost"?`:${n}`:"");e.value=`${C}#${De.BLOG.path}/${t.post.id}`,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),Re.success("Copied link!")};return(e,i)=>(a(),k(V,{id:e.post.id,class:B([{"min-h-[90vh]":!d.value},"border-4 border-transparent","!rounded-primary",e.post.colorSecondary||e.post.colorPrimary||"bg-secondary-900",e.post.opacitySecondary||"bg-opacity-50"]),title:e.post.title,subTitle:y.value,tags:$.value,loading:e.post.loading,isCollapsed:d.value,clickable:"",onClick:i[4]||(i[4]=c=>d.value=!d.value)},{right:x(()=>[T("div",gt,[d.value?f(m)&&!e.withoutMutation?(a(),k(re,{key:1,onEditClicked:i[0]||(i[0]=c=>e.$emit("editClicked")),onDeleteClicked:i[1]||(i[1]=c=>e.$emit("deleteClicked"))})):g("",!0):(a(),k(W,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:w}))])]),default:x(()=>{var c;return[T("div",vt,[T("div",ft,[(a(!0),v(R,null,M(b.value,n=>{var C;return a(),k(f(pe),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:n.id===((C=f(p))==null?void 0:C.uid)?"You":n.displayName,rounded:""},null,8,["label"])}),256))]),f(m)&&!e.withoutMutation?(a(),v("div",{key:0,class:B(["flex justify-end ms-5",(c=e.post.allowedUserIds)!=null&&c.length?"flex-col md:flex-row":"flex-row"])},[P(re,{onEditClicked:i[2]||(i[2]=n=>e.$emit("editClicked")),onDeleteClicked:i[3]||(i[3]=n=>e.$emit("deleteClicked"))})],2)):g("",!0)]),P(V,{class:B(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",e.post.colorPrimary,e.post.opacityPrimary||"bg-opacity-50"])},{default:x(()=>[T("div",{class:B(["flex relative",e.post.countdown||e.post.alignment==="center"?"flex justify-between":""])},[T("div",bt,[e.post.countdown?(a(),k(A,{key:0,time:new Date(e.post.countdown).getTime(),direction:"down",alignment:e.post.alignment},null,8,["time","alignment"])):g("",!0),e.post.timer?(a(),k(A,{key:1,time:new Date(e.post.timer).getTime(),direction:"up",alignment:e.post.alignment},null,8,["time","alignment"])):g("",!0),e.post.description?(a(),k(F,{key:2,description:e.post.description},null,8,["description"])):g("",!0)])],2),e.post.coverImageUrl?(a(),k(ie,{key:0,post:e.post,"cover-image-url":e.post.coverImageUrl},null,8,["post","cover-image-url"])):g("",!0),e.post.descriptionFooter?(a(),k(F,{key:1,class:"mb-5",description:e.post.descriptionFooter},null,8,["description"])):g("",!0),e.post.table?(a(),k(de,{key:2,tableData:e.post.table,alignment:e.post.tableAlignment},null,8,["tableData","alignment"])):g("",!0),P(f(Ae),{onTabOpen:f(xe)},{default:x(()=>[(a(!0),v(R,null,M(l.value,n=>(a(),k(f(je),{disabled:!n.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",n.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:{invisible:!n.isExpandable}}}},ce({header:x(()=>[T("div",yt,[n.title?(a(),k(ue,{key:0,alignment:n.alignment},{default:x(()=>[E(O(n.title),1)]),_:2},1032,["alignment"])):g("",!0),n.subTitle?(a(),k(ue,{key:1,alignment:n.alignment,"is-sub-title":""},{default:x(()=>[E(O(n.subTitle),1)]),_:2},1032,["alignment"])):g("",!0),n.isExpandable?g("",!0):(a(),v(R,{key:2},[n.countdown?(a(),k(A,{key:0,time:new Date(n.countdown).getTime(),direction:"down",alignment:n.alignment},null,8,["time","alignment"])):g("",!0),n.timer?(a(),k(A,{key:1,time:new Date(n.timer).getTime(),direction:"up",alignment:n.alignment},null,8,["time","alignment"])):g("",!0)],64))])]),default:x(()=>[n.description?(a(),k(F,{key:0,description:n.description,alignment:n.alignment},null,8,["description","alignment"])):g("",!0),n.coverImageUrl?(a(),k(ie,{key:1,post:e.post,"cover-image-url":n.coverImageUrl,alignment:n.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):g("",!0),P(lt,{bullets:n.bullets,alignment:n.alignment},null,8,["bullets","alignment"]),n.isExpandable?(a(),v(R,{key:2},[n.countdown?(a(),k(A,{key:0,time:new Date(n.countdown).getTime(),direction:"down",alignment:n.alignment},null,8,["time","alignment"])):g("",!0),n.timer?(a(),k(A,{key:1,time:new Date(n.timer).getTime(),direction:"up",alignment:n.alignment},null,8,["time","alignment"])):g("",!0)],64)):g("",!0),n.table?(a(),k(de,{key:3,tableData:n.table,alignment:n.tableAlignment},null,8,["tableData","alignment"])):g("",!0)]),_:2},[n.isExpandable?void 0:{name:"headericon",fn:x(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1},8,["onTabOpen"])]),_:1},8,["class"]),P(_e,{post:e.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}});export{Bt as _,re as a,ie as b,A as c,F as d,ue as e,pe as s,Ct as u};
