import{d as V,j as $,T as A,u as R,q as O,s as u,U as B,l as N,f as e,b as r,c as n,h as o,w as d,e as p,P as g,Q as W,g as D,_ as m,R as l,n as j,V as w,W as M,i as c,k as b,z}from"../bundle.js";import{_ as Y}from"./c-PetDialog.vue_vue_type_script_setup_true_lang-DsU_NVv1.js";const q={class:"flex flex-wrap gap-3 mt-3 mb-5"},F={key:1,class:"text-neutral-300"},G={class:"flex flex-wrap gap-3 justify-center"},J={key:1,class:"flex justify-center"},H=V({__name:"Pets",props:{asWidget:{type:Boolean}},setup(P){const _=P,k=$(),f=A(),x=R(),h=O(),{pets:v,viewAllPets:s,notMyPets:C,visiblePets:E}=u(f),{routeLoading:S,routeLoadingId:T}=u(x),{isLoggedIn:I}=u(h),{fetchPets:L}=f,i=z(!1);return B(s,y=>{y&&C.value.length===0&&L(!0)},{immediate:!0}),N(()=>{_.asWidget?s.value=!0:s.value=!1}),(y,t)=>e(I)?(r(),n(g,{key:0},[o(m,{class:"!bg-primary-500 !bg-opacity-35 my-5",title:e(s)?"All Pets":"Your Pets",description:e(s)?"Check out all these pets!":"Welcome to your Pet Overview!"},{default:d(()=>[p("div",q,[e(v).length?(r(!0),n(g,{key:0},W(e(E),a=>(r(),D(m,{key:a.id,class:j(["w-fit !min-h-[52px] h-fit !py-0 !pb-1 !p-5 bg-opacity-75 border border-neutral-400 !rounded-primary hover:!rounded-2xl hover:scale-110 will-change-transform transition-[color,border-radius,transform] duration-150 ease-in-out",[{"!ps-1":a.avatar},e(w)[e(v).indexOf(a)%e(w).length].background]]),title:a.name,"title-props":{class:"!text-md text-white font-normal mt-2"},avatar:a.avatar??void 0,"avatar-props":{class:["mt-1 h-11 w-11",{"animate-spin":e(S)===e(l).PET_DETAILS&&e(T)===a.id}]},route:{name:e(l).PET_DETAILS,params:{petId:a.id}},avatarRoute:{name:e(l).PET_DETAILS,params:{petId:a.id}}},null,8,["class","title","avatar","avatar-props","route","avatarRoute"]))),128)):(r(),n("p",F," You don't have any pets yet. "))]),p("div",G,[o(e(M),{class:"w-full md:w-1/2"},{default:d(()=>[o(c,{class:"w-full",variant:"tertiary",outlined:!e(s),label:"View all pets",onClick:t[0]||(t[0]=a=>s.value=!0)},null,8,["outlined"]),o(c,{class:"w-full",variant:"tertiary",outlined:e(s),label:"View your pets",onClick:t[1]||(t[1]=a=>s.value=!1)},null,8,["outlined"])]),_:1}),o(c,{class:"w-full md:w-1/2",label:"Add Pet",variant:"green",outlined:"",onClick:t[2]||(t[2]=a=>i.value=!0)})])]),_:1},8,["title","description"]),o(Y,{"is-open":i.value,"original-pet":null,onClose:t[3]||(t[3]=a=>i.value=!1)},null,8,["is-open"])],64)):(r(),n("div",J,[o(m,{class:"w-full md:w-1/2 bg-primary-500 bg-opacity-50 !rounded-primary"},{default:d(()=>[t[5]||(t[5]=b(" Please ",-1)),p("a",{class:"cursor-pointer",onClick:t[4]||(t[4]=a=>e(k).push({name:e(l).LOGIN,params:{redirect:JSON.stringify({name:e(l).PET_OVERVIEW})}}))}," Login "),t[6]||(t[6]=b(" to view the pets on this website. ",-1))]),_:1})]))}});export{H as _};
