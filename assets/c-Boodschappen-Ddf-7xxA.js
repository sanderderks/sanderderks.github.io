import{b9 as re,bs as ue,bt as Be,bg as he,bh as K,bu as Se,ax as oe,bv as Ce,bw as $e,b5 as _e,be as xe,q as ze,bx as Pe,s as W,z as j,C as I,au as N,by as Ue,bz as Le,aA as je,bA as X,d as te,v as be,U as De,g as F,w as d,f as e,b as C,e as h,h as a,D as R,ab as ce,J as pe,i as L,ac as we,a7 as me,a8 as fe,a9 as ge,t as P,$ as ee,aa as ve,a6 as le,ad as ye,c as Y,E as Te,l as qe,O as Z,I as Ne,_ as Fe,ai as ne,aj as U,k as E,Q as Ae,bB as Ee,n as se,bC as Ie,bD as Re}from"../bundle.js";import{_ as de}from"./c-Dialog.vue_vue_type_script_setup_true_lang-Cg8Yx5Jw.js";import{_ as Me}from"./c-Page.vue_vue_type_script_setup_true_lang-C2l5ciLA.js";import{_ as Q}from"./c-NumberField.vue_vue_type_script_setup_true_lang-BaJkCxK_.js";import{u as We,D as Ge,_ as He}from"./c-useDateChart-CUtQUbNq.js";class G{id;name;size;category;isOutOfStock;buyLog;promotionLog;constructor({id:l,name:n,size:D,category:g,isOutOfStock:f,buyLog:w,promotionLog:k}={}){this.id=l??re(),this.name=n??"",this.size=D??{value:0,unit:""},this.category=g??null,this.isOutOfStock=f??!1,this.buyLog=w??[],this.promotionLog=k??[]}static deserialize(l){return new G({id:l.id,name:l.name,size:l.size,category:l.category,isOutOfStock:l.isOutOfStock,buyLog:l.buyLog?.map(H.deserialize)??[],promotionLog:l.promotionLog?.map(J.deserialize)??[]})}serialize(){return{id:this.id,name:this.name,size:this.size,category:this.category,isOutOfStock:this.isOutOfStock,buyLog:this.buyLog.map(l=>l.serialize()),promotionLog:this.promotionLog.map(l=>l.serialize())}}clone(){return new G({id:this.id,name:this.name,size:{...this.size},category:this.category?{...this.category}:null,isOutOfStock:this.isOutOfStock,buyLog:this.buyLog.map(l=>l.clone()),promotionLog:this.promotionLog.map(l=>l.clone())})}}class H{date;price;quantity;constructor(l,n,D){this.date=l??new Date,this.price=n??0,this.quantity=D??1}static deserialize(l){return new H(l.date.toDate(),l.price,l.quantity)}serialize(){return{date:ue.fromDate(this.date),price:this.price,quantity:this.quantity}}clone(){return new H(new Date(this.date.getTime()),this.price,this.quantity)}}class J{startDate;endDate;promotion;store;constructor(l,n,D,g){this.startDate=l??new Date,this.endDate=n??new Date,this.promotion=D??"",this.store=g??null}static deserialize(l){return new J(l.startDate.toDate(),l.endDate.toDate(),l.promotion,l.store)}serialize(){return{startDate:ue.fromDate(this.startDate),endDate:ue.fromDate(this.endDate),promotion:this.promotion,store:this.store}}clone(){return new J(new Date(this.startDate.getTime()),new Date(this.endDate.getTime()),this.promotion,this.store?{...this.store}:null)}}function Ke(B){return B.map(Ye)}function Ye(B){return G.deserialize(B)}class Qe{async fetchMultiple(l){return Be(he(l,K.BOODSCHAPPEN))}async create(l,n){await Se(oe(l,K.BOODSCHAPPEN,n.id),n)}async update(l,n){await Ce(oe(l,K.BOODSCHAPPEN,n.id),{...n})}async delete(l,n){await $e(oe(l,K.BOODSCHAPPEN,n))}}const ie=new Qe,ae=_e("boodschappenStore",()=>{const B=xe(),l=ze(),n=Pe(),{firebaseUser:D}=W(l),{debug:g}=W(n),f=j([]),w=j(!1),k=j(!1),_=j(null),x=I(()=>f.value.reduce((c,V)=>{const r=V.category;return r&&!c.some(u=>u.id===r.id)&&c.push(r),c},[])),s=I(()=>[{value:null,label:"Geen categorie"},...x.value.map(c=>({value:c,label:c.label}))]),t=I(()=>{const c=new Map;for(const V of f.value)if(V.promotionLog)for(const r of V.promotionLog)r.store&&c.set(r.store.id,r.store);return Array.from(c.values())}),i=I(()=>[{value:null,label:"Geen winkel"},...t.value.map(c=>({value:c,label:c.label}))]),v=()=>{_.value?.(),_.value=null,f.value=[]},b=()=>{w.value=!0,_.value?.(),_.value=je(he(B,K.BOODSCHAPPEN),c=>{const V=c.docs.map(r=>({id:r.id,...r.data()}));f.value=Ke(V),w.value=!1},c=>{w.value=!1,N.firebaseError(g.value,c)})};return{boodschappen:f,isFetchLoading:w,isMutationLoading:k,categories:x,categoryOptions:s,stores:t,storeOptions:i,$reset:v,fetchBoodschappen:async()=>{if(!D.value){N.error("You must be logged in to fetch products."),_.value?.(),_.value=null;return}b()},createBoodschap:async c=>{if(!D.value){N.error("You must be logged in to create products.");return}try{k.value=!0,await ie.create(B,c.serialize()),Ue(f,c),N.success("Successfully created product")}catch(V){N.firebaseError(g.value,V)}finally{k.value=!1}},updateBoodschap:async c=>{if(!D.value){N.error("You must be logged in to update products.");return}try{k.value=!0,await ie.update(B,c.serialize()),Le(f,c,"id"),N.success("Successfully updated product")}catch(V){N.firebaseError(g.value,V)}finally{k.value=!1}},deleteBoodschap:async c=>{if(!D.value){N.error("You must be logged in to delete products.");return}try{k.value=!0,f.value.find(r=>r.id===c)&&(await ie.delete(B,c),f.value=f.value.filter(r=>r.id!==c),N.success("Successfully deleted product"))}catch(V){N.firebaseError(g.value,V)}finally{k.value=!1}}}}),Je=()=>{const B=ae(),{boodschappen:l}=W(B),n=I(()=>[...l.value].sort((s,t)=>{const i=!!s.isOutOfStock,v=!!t.isOutOfStock;if(i&&!v)return-1;if(!i&&v)return 1;const b=k(s),z=k(t);return b===null&&z===null?0:b===null?1:z===null?-1:b.getTime()-z.getTime()})),D=I(()=>{const s=new Date,t=new Date(s.getTime()+14*X);return n.value.filter(i=>{const v=k(i);return v!==null&&v.getTime()>=s.getTime()&&v.getTime()<=t.getTime()})}),g=I(()=>{const s=new Date(new Date().getTime()+14*X);return n.value.filter(t=>{const i=k(t);return!i||i.getTime()>s.getTime()})}),f=s=>[...s.buyLog].filter(t=>Number(t.quantity)>0&&!Number.isNaN(t.date.getTime())).sort((t,i)=>t.date.getTime()-i.date.getTime()),w=s=>f(s).at(-1)?.date??null,k=(s,t=new Date)=>{const i=f(s),v=s.size.value;if(!Number.isFinite(v)||v<=0)return null;if(i.length<2)return null;let b=0,z=0;for(let u=0;u<i.length-1;u++){const o=i[u],y=(i[u+1].date.getTime()-o.date.getTime())/X;!Number.isFinite(o.quantity)||o.quantity<=0||y<=0||(b+=o.quantity*v,z+=y)}if(z<=0||b<=0)return null;const T=b/z;if(!Number.isFinite(T)||T<=0)return null;const q=i.at(-1);if(!q)return null;const A=q.quantity;if(!Number.isFinite(A)||A<=0)return null;const V=A*v/T;if(!Number.isFinite(V)||V<=0)return null;const r=new Date(q.date.getTime()+V*X);return r.getTime()<t.getTime()?t:r};return{sortedBoodschappen:n,shortTermGroceries:D,longTermGroceries:g,getLatestPurchaseDate:w,getProjectedOutOfStockDate:k,getPricePerUnit:s=>{const t=f(s).at(-1);return!t||!Number.isFinite(t.price)||!Number.isFinite(t.quantity)||t.quantity<=0?null:t.price/t.quantity},getPriceIncreasePercentage:s=>{const t=f(s);if(t.length<2)return 0;const i=t.at(-1),v=t.at(-2);return!Number.isFinite(i.price)||!Number.isFinite(i.quantity)||!Number.isFinite(v.price)||!Number.isFinite(v.quantity)||v.quantity===0?0:(i.price/i.quantity-v.price/v.quantity)/(v.price/v.quantity)*100}}},Xe={class:"flex flex-col gap-3 w-full md:w-1/2 place-self-center"},Ze={class:"flex gap-3"},et={class:"w-full flex gap-3"},tt={class:"flex gap-5"},at={class:"flex flex-col gap-3"},ot={class:"flex gap-5"},lt={class:"flex flex-col gap-3"},nt={class:"flex gap-3"},st={key:1,class:"flex gap-3"},it=te({__name:"BoodschapEditDialog",props:{isOpen:{type:Boolean},selectedBoodschap:{}},emits:["close"],setup(B,{emit:l}){const n=B,D=l,g=ae(),{categories:f,categoryOptions:w,storeOptions:k,isMutationLoading:_}=W(g),x=j(!1),s=j(!1),t=be(i());function i(){const r=n.selectedBoodschap?.clone()??new G;return{name:r.name,category:f.value.find(u=>u.id===r.category?.id)??null,size:r.size,isOutOfStock:r.isOutOfStock,buyLog:r.buyLog,promotionLog:r.promotionLog}}async function v(){const r=n.selectedBoodschap?n.selectedBoodschap:new G;Object.assign(r,t),n.selectedBoodschap?await g.updateBoodschap(r):await g.createBoodschap(r),D("close")}function b(){D("close")}function z(){x.value=!0,t.category={id:re(),label:""}}function T(){x.value=!1,t.category=null}function q(){t.buyLog.push(new H)}function A(){t.promotionLog.push(new J)}function c(r){s.value=!0;const u={id:re(),label:"",abbreviation:""};r.store=u}function V(r){s.value=!1,r.store=null}return De(()=>n.isOpen,r=>{r?Object.assign(t,i()):x.value=!1}),(r,u)=>(C(),F(de,{"is-open":B.isOpen,title:n.selectedBoodschap?`Bewerk ${n.selectedBoodschap.name}`:"Product toevoegen",description:"","cancel-text":"Annuleren","confirm-text":n.selectedBoodschap?"Bijwerken":"Toevoegen","confirm-loading":e(_),onConfirm:v,onCancel:b},{default:d(()=>[h("div",Xe,[a(R,{name:"name",label:"Naam",modelValue:t.name,"onUpdate:modelValue":u[0]||(u[0]=o=>t.name=o)},null,8,["modelValue"]),h("div",Ze,[x.value?t.category?(C(),F(R,{key:1,class:"w-full",name:"category",label:"Categorie",modelValue:t.category.label,"onUpdate:modelValue":u[2]||(u[2]=o=>t.category.label=o)},null,8,["modelValue"])):pe("",!0):(C(),F(ce,{key:0,class:"w-full",name:"category",label:"Categorie",modelValue:t.category,"onUpdate:modelValue":u[1]||(u[1]=o=>t.category=o),options:e(w)},null,8,["modelValue","options"])),x.value?(C(),F(L,{key:3,class:"h-fit place-self-end",icon:"pi pi-times","icon-only":"",variant:"neutral",onClick:T})):(C(),F(L,{key:2,class:"h-fit place-self-end",icon:"pi pi-plus","icon-only":"",variant:"green",onClick:z}))]),h("div",et,[a(Q,{class:"w-full",name:"sizeValue",label:"Formaat",modelValue:t.size.value,"onUpdate:modelValue":u[3]||(u[3]=o=>t.size.value=o)},null,8,["modelValue"]),a(R,{class:"w-full",name:"sizeUnit",label:"Eenheid",modelValue:t.size.unit,"onUpdate:modelValue":u[4]||(u[4]=o=>t.size.unit=o)},null,8,["modelValue"])]),a(we,{name:"isOutOfStock",label:"Voorraad leeg",modelValue:t.isOutOfStock,"onUpdate:modelValue":u[5]||(u[5]=o=>t.isOutOfStock=o)},null,8,["modelValue"]),u[10]||(u[10]=h("b",null,"Logboek",-1)),a(e(ye),{ref:"draggable",class:"flex flex-col gap-3",modelValue:t.buyLog,"onUpdate:modelValue":u[6]||(u[6]=o=>t.buyLog=o),itemKey:o=>o.date.toString(),handle:".drag-handle"},{item:d(({element:o,index:$})=>[a(e(me),null,{default:d(()=>[a(e(fe),{value:"0"},{default:d(()=>[a(e(ge),{class:"drag-handle"},{default:d(()=>[h("div",tt,[u[8]||(u[8]=h("i",{class:"pi pi-arrows-v place-self-center hover:cursor-pointer"},null,-1)),h("p",null,P(e(ee)(o.date)),1)])]),_:2},1024),a(e(ve),null,{default:d(()=>[h("div",at,[a(le,{name:`buylog-date-${$}`,label:"Datum",modelValue:o.date,"onUpdate:modelValue":y=>o.date=y,"without-time":""},null,8,["name","modelValue","onUpdate:modelValue"]),a(Q,{name:`buylog-quantity-${$}`,label:"Aantal",modelValue:o.quantity,"onUpdate:modelValue":y=>o.quantity=y},null,8,["name","modelValue","onUpdate:modelValue"]),a(Q,{name:`buylog-price-${$}`,label:"Prijs",modelValue:o.price,"onUpdate:modelValue":y=>o.price=y},null,8,["name","modelValue","onUpdate:modelValue"]),a(L,{variant:"danger",outlined:"",label:"Delete",onClick:y=>t.buyLog.splice($,1)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue","itemKey"]),a(L,{icon:"pi pi-plus","icon-only":"",variant:"green",onClick:q}),u[11]||(u[11]=h("b",null,"Promoties",-1)),a(e(ye),{ref:"draggable",class:"flex flex-col gap-3",modelValue:t.promotionLog,"onUpdate:modelValue":u[7]||(u[7]=o=>t.promotionLog=o),itemKey:o=>`${o.startDate.toString()}-${o.endDate.toString()}`,handle:".drag-handle"},{item:d(({element:o,index:$})=>[a(e(me),null,{default:d(()=>[a(e(fe),{value:"0"},{default:d(()=>[a(e(ge),{class:"drag-handle"},{default:d(()=>[h("div",ot,[u[9]||(u[9]=h("i",{class:"pi pi-arrows-v place-self-center hover:cursor-pointer"},null,-1)),h("p",null,P(e(ee)(o.startDate))+" - "+P(e(ee)(o.endDate)),1)])]),_:2},1024),a(e(ve),null,{default:d(()=>[h("div",lt,[h("div",nt,[s.value?o.store?(C(),Y("div",st,[a(R,{class:"w-3/4",name:`promotionlog-store-${$}`,label:"Winkel",modelValue:o.store.label,"onUpdate:modelValue":y=>o.store.label=y},null,8,["name","modelValue","onUpdate:modelValue"]),a(R,{class:"w-1/4",name:`promotionlog-store-${$}`,label:"Afkorting",modelValue:o.store.abbreviation,"onUpdate:modelValue":y=>o.store.abbreviation=y},null,8,["name","modelValue","onUpdate:modelValue"])])):pe("",!0):(C(),F(ce,{key:0,class:"w-full",name:`promotionlog-store-${$}`,label:"Winkel",modelValue:o.store,"onUpdate:modelValue":y=>o.store=y,options:e(k)},null,8,["name","modelValue","onUpdate:modelValue","options"])),s.value?(C(),F(L,{key:3,class:"h-fit place-self-end",icon:"pi pi-times","icon-only":"",variant:"neutral",onClick:y=>V(o)},null,8,["onClick"])):(C(),F(L,{key:2,class:"h-fit place-self-end",icon:"pi pi-plus","icon-only":"",variant:"green",onClick:y=>c(o)},null,8,["onClick"]))]),a(le,{name:`promotionlog-start-date-${$}`,label:"Startdatum",modelValue:o.startDate,"onUpdate:modelValue":y=>o.startDate=y,"without-time":""},null,8,["name","modelValue","onUpdate:modelValue"]),a(le,{name:`promotionlog-end-date-${$}`,label:"Einddatum",modelValue:o.endDate,"onUpdate:modelValue":y=>o.endDate=y,"without-time":""},null,8,["name","modelValue","onUpdate:modelValue"]),a(R,{name:`promotionlog-promotion-${$}`,label:"Promotie",modelValue:o.promotion,"onUpdate:modelValue":y=>o.promotion=y},null,8,["name","modelValue","onUpdate:modelValue"]),a(L,{variant:"danger",outlined:"",label:"Delete",onClick:y=>t.promotionLog.splice($,1)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue","itemKey"]),a(L,{icon:"pi pi-plus","icon-only":"",variant:"green",onClick:A})])]),_:1},8,["is-open","title","confirm-text","confirm-loading"]))}}),rt={class:"flex flex-col gap-3 w-full md:w-1/2 place-self-center"},ut=te({__name:"BuyLogAddDialog",props:{isOpen:{type:Boolean},selectedBoodschap:{}},emits:["close"],setup(B,{emit:l}){const n=B,D=l,g=ae(),{isMutationLoading:f}=W(g),w=be(k());function k(){const s=n.selectedBoodschap?.buyLog.length?n.selectedBoodschap.buyLog[n.selectedBoodschap.buyLog.length-1]:null;return{quantity:s?s.quantity:1,price:s?s.price:0}}async function _(){if(n.selectedBoodschap){const s=n.selectedBoodschap.clone();s.buyLog.push(new H(new Date,w.quantity,w.price)),s.isOutOfStock=!1,await g.updateBoodschap(s)}D("close")}async function x(){if(n.selectedBoodschap){const s=n.selectedBoodschap.clone();s.isOutOfStock=!1,await g.updateBoodschap(s)}D("close")}return De(()=>n.isOpen,s=>{s&&Object.assign(w,k())}),(s,t)=>(C(),F(de,{"is-open":B.isOpen,title:n.selectedBoodschap?"Aankoop toevoegen":"Geen product geselecteerd",description:n.selectedBoodschap?`Voeg een aankoop toe voor ${n.selectedBoodschap.name} (${n.selectedBoodschap.size.value} ${n.selectedBoodschap.size.unit})`:"Selecteer een product om een aankoop toe te voegen","cancel-text":"Overslaan","confirm-text":n.selectedBoodschap?"Toevoegen":"Annuleren","confirm-loading":e(f),onConfirm:_,onCancel:x},{default:d(()=>[h("div",rt,[a(Q,{name:"buylog-quantity",label:"Aantal",modelValue:w.quantity,"onUpdate:modelValue":t[0]||(t[0]=i=>w.quantity=i)},null,8,["modelValue"]),a(Q,{name:"buylog-price",label:"Prijs",modelValue:w.price,"onUpdate:modelValue":t[1]||(t[1]=i=>w.price=i)},null,8,["modelValue"])])]),_:1},8,["is-open","title","description","confirm-text","confirm-loading"]))}}),ct=te({__name:"ProductPriceChart",props:{product:{}},setup(B){const l=B,n=I(()=>l.product.buyLog.map(f=>({date:f.date,value:f.price/f.quantity}))),{headers:D,filteredData:g}=We(n,Ge.MONTHS);return(f,w)=>(C(),F(He,{headers:e(D),datasets:[{label:"Prijsverloop",fill:!1,borderColor:"orange",yAxisID:"y",tension:.4,data:e(g),spanGaps:!0}]},null,8,["headers","datasets"]))}}),dt={class:"text-xl mt-10 mb-3 font-bold"},pt={class:"flex flex-wrap gap-x-2"},mt={class:"text-xl mt-10 mb-3 font-bold"},ft={class:"flex justify-end"},gt={class:"flex gap-3 place-self-end"},wt=te({__name:"Boodschappen",setup(B){const l=ae(),{categoryOptions:n,isFetchLoading:D,isMutationLoading:g}=W(l),f=Te(Ne),{sortedBoodschappen:w,shortTermGroceries:k,getLatestPurchaseDate:_,getPricePerUnit:x,getPriceIncreasePercentage:s,getProjectedOutOfStockDate:t}=Je(),i=f.greaterOrEqual("md"),v=j([]),b=j(null),z=j({name:{value:null,matchMode:"startsWith"},"category.label":{value:null,matchMode:"startsWith"}}),T=j(!1),q=j(!1),A=j(!1);function c(S){if(S.isOutOfStock)return"0 dagen";{const O=t(S);if(O){const p=Ie(O);return`${p} dag${p!==1?"en":""}`}else return"Onbekend"}}function V(S){const O=new Date;return S.promotionLog.filter(m=>Re(O,m.startDate,m.endDate)).map(m=>`${m.store?.abbreviation??""} ${m.promotion}`)}async function r(S){if(S.isOutOfStock)b.value=S,A.value=!0;else{const O=S.clone();O.isOutOfStock=!S.isOutOfStock,await l.updateBoodschap(O)}}function u(S){v.value=[S.data]}function o(){b.value=null,q.value=!0}function $(S){b.value=S,q.value=!0}function y(S){b.value=S,T.value=!0}function ke(){b.value=null,q.value=!1}function Oe(){b.value=null,A.value=!1}async function Ve(){b.value&&await l.deleteBoodschap(b.value.id),T.value=!1,b.value=null}return qe(()=>{l.fetchBoodschappen()}),(S,O)=>(C(),Y(Z,null,[a(Me,null,{content:d(()=>[a(Fe,{class:"!bg-blue-500 !bg-opacity-35 my-5",title:"Sander's Boodschappentool",description:"Nu zul je nooit meer iets vergeten in de supermarkt!","description-props":{class:"text-white mb-5"}},{default:d(()=>[O[5]||(O[5]=h("ol",{class:"ms-3 list-decimal list-inside"},[h("li",null,"Voeg een product toe"),h("li",null,"Registreer wanneer je iets hebt gekocht"),h("li",null,"Weet automatisch wanneer je voorraad bijna op is!")],-1)),h("h3",dt,"Mijn boodschappenlijstje ("+P(e(k).length)+")",1),O[6]||(O[6]=h("p",{class:"mb-3"},"Producten die bijna op zijn in één overzicht.",-1)),a(e(ne),{value:e(k),tableStyle:e(i)?"min-width: 40rem":void 0,loading:e(D),size:e(i)?void 0:"small"},{empty:d(()=>[...O[3]||(O[3]=[E(" Er zijn nog geen producten gevonden. ",-1)])]),default:d(()=>[a(e(U),{field:"name",header:"Naam"},{body:d(({data:p})=>[h("span",pt,[E(P(p.name)+" ",1),(C(!0),Y(Z,null,Ae(V(p),m=>(C(),F(e(Ee),{key:m,value:m,class:"!p-1",severity:"success"},null,8,["value"]))),128))])]),_:1}),a(e(U),{header:"Voorraad aanvullen over"},{body:d(({data:p})=>[E(P(c(p)),1)]),_:1}),a(e(U),{header:"Voorraad leeg"},{body:d(({data:p})=>[a(we,{name:`outofstock-${p.id}`,"model-value":p.isOutOfStock,disabled:e(g),onClick:m=>r(p)},null,8,["name","model-value","disabled","onClick"])]),_:1})]),_:1},8,["value","tableStyle","loading","size"]),h("h3",mt," Alle producten ("+P(e(w).length)+") ",1),a(e(ne),{value:e(w),expandedRows:v.value,"onUpdate:expandedRows":O[0]||(O[0]=p=>v.value=p),filters:z.value,"onUpdate:filters":O[1]||(O[1]=p=>z.value=p),tableStyle:e(i)?"min-width: 40rem":void 0,loading:e(D),size:e(i)?void 0:"small",filterDisplay:e(w).length>1?"row":void 0,onRowExpand:u},{empty:d(()=>[...O[4]||(O[4]=[E(" Er zijn nog geen producten gevonden. ",-1)])]),expansion:d(({data:p})=>[a(e(ne),{value:[p],size:e(i)?void 0:"small"},{default:d(()=>[a(e(U),{class:"!border-0",field:"size.value",header:"Formaat"},{body:d(({data:m})=>[E(P(m.size.value)+" "+P(m.size.unit),1)]),_:2},1024),a(e(U),{class:"!border-0",header:"Laatste aankoop"},{body:d(({data:m})=>[e(_)(m)?(C(),Y(Z,{key:1},[E(P(e(ee)(e(_)(m))),1)],64)):(C(),Y(Z,{key:0},[E(" Nog niet gekocht ")],64))]),_:2},1024),a(e(U),{class:"!border-0",header:"Prijs"},{body:d(({data:m})=>[E(P(e(x)(m)?`€${e(x)(m).toFixed(2)}`:""),1)]),_:2},1024),a(e(U),{class:"!border-0",header:"Prijsstijging"},{body:d(({data:m})=>[h("span",{class:se(e(s)(m)>0?"text-red-500":e(s)(m)<0?"text-green-500":"")},P(e(s)(m)?`${e(s)(m).toFixed(2)}%`:""),3)]),_:2},1024)]),_:2},1032,["value","size"]),a(ct,{class:se(e(i)?"max-h-[50vh]":"max-w-fit"),product:p},null,8,["class","product"])]),default:d(()=>[a(e(U),{class:se({"w-[5rem]":e(i)}),expander:""},null,8,["class"]),a(e(U),{field:"name",header:"Naam"},{filter:d(({filterModel:p,filterCallback:m})=>[a(R,{name:"nameFilter",modelValue:p.value,"onUpdate:modelValue":M=>p.value=M,placeholder:"Filter...",style:{"min-width":"5rem"},onInput:m},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),a(e(U),{field:"category.label",header:"Categorie",showFilterMenu:!1},{filter:d(({filterModel:p,filterCallback:m})=>[a(ce,{name:"categoryFilter",modelValue:p.value,"onUpdate:modelValue":[M=>p.value=M,m],options:e(n).map(M=>({...M,value:M.value?.label??null})),placeholder:"Filter...",style:{"min-width":"5rem"}},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(e(U),{header:"Voorraad aanvullen over"},{body:d(({data:p})=>[E(P(c(p)),1)]),_:1}),a(e(U),null,{filter:d(()=>[h("div",ft,[a(L,{class:"w-fit place-self-end",icon:"pi pi-plus","icon-only":"",variant:"green",loading:e(g),onClick:o},null,8,["loading"])])]),body:d(({data:p})=>[h("div",gt,[a(L,{icon:"pi pi-cog","icon-only":"",variant:"neutral",loading:e(g),onClick:m=>$(p)},null,8,["loading","onClick"]),a(L,{icon:"pi pi-trash","icon-only":"",variant:"danger",loading:e(g),onClick:m=>y(p)},null,8,["loading","onClick"])])]),_:1})]),_:1},8,["value","expandedRows","filters","tableStyle","loading","size","filterDisplay"]),a(L,{class:"w-fit place-self-center mt-4",icon:"pi pi-plus","icon-only":"",variant:"green",loading:e(g),onClick:o},null,8,["loading"])]),_:1})]),_:1}),a(it,{"is-open":q.value,selectedBoodschap:b.value,onClose:ke},null,8,["is-open","selectedBoodschap"]),a(ut,{"is-open":A.value,"selected-boodschap":b.value,onClose:Oe},null,8,["is-open","selected-boodschap"]),a(de,{title:"Product verwijderen","is-open":T.value,description:[b.value?`Weet je zeker dat je het product '${b.value.name}' wilt verwijderen?`:"","Dit kan niet ongedaan worden."],"cancel-text":"Annuleren","confirm-text":"Bevestigen","confirm-props":{variant:"danger",outlined:!0},"confirm-loading":e(g),onConfirm:Ve,onCancel:O[2]||(O[2]=p=>T.value=!1)},null,8,["is-open","description","confirm-loading"])],64))}});export{wt as default};
