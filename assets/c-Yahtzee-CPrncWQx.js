import{f as U,s as L,r as N,c as h,S as Q,l as f,n as s,q as l,M as k,m as e,p as a,_ as m,H as d,L as v,ab as j,aQ as P,o as W,aw as ee,w as y,C as B,x as z,g as te,i as se,t as r,U as le,G as M,a8 as ae,R as oe}from"../bundle.js";import{u as D,s as re,S as n,_ as ue}from"./c-Dice.vue_vue_type_script_setup_true_lang-BzsG6b_t.js";import{u as ne,H as ie}from"./c-useScoreInfo-Cs0HKazT.js";import{_ as de}from"./c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-C1qsvSUb.js";import"./c-Dice6.vue_vue_type_script_setup_true_lang-B7eHDEad.js";import"./c-Dialog.vue_vue_type_script_setup_true_lang-DTvaJL_v.js";const ve={class:"h-12 md:h-auto"},fe={class:"w-1/2 md:w-1/3"},ce={key:0},pe={key:1,class:"!ps-1 md:ps-1"},we={key:2},me=U({__name:"ScoreCell",props:{row:{},hasValue:{type:[Number,Boolean]}},setup(Y){const g=Y,x=D(),{reroll:T}=L(x),{selectScore:p,getScore:w,getActualValue:E}=x,u=N(!1),$=re[g.row],A=h(()=>w(g.row)),S=h(()=>E(g.row,g.hasValue)),H=h(()=>S.value===!1?"X":S.value);return Q(()=>S.value,()=>{u.value=!0,setTimeout(()=>{u.value=!1})}),(b,O)=>(s(),f("tr",ve,[l("th",fe,k(e($).title),1),A.value?(s(),f("td",ce,k(A.value.value===!1?"X":A.value.value),1)):e(T)>=0&&!u.value?(s(),f("td",pe,[a(m,{class:"!p-0 !h-10 md:!h-auto",type:S.value===!1||S.value===0?"neutral":void 0,onClick:O[0]||(O[0]=C=>e(p)(b.row,S.value))},{default:d(()=>[v(k(H.value),1)]),_:1},8,["type"])])):(s(),f("td",we))]))}}),i=j(me,[["__scopeId","data-v-cc8f6556"]]),he={key:0,class:"h-12 md:h-auto text-red-500"},ye={class:"h-12 md:h-auto text-pink-500"},Se={key:0,class:"text-purple-500 font-bold"},_e={key:1,class:"text-red-500 font-bold"},ke={key:2,class:"text-green-500 font-bold"},ge=U({__name:"Scoreboard",setup(Y){const g=D(),{bonus:x,hasStarted:T,hasFinished:p,hasOfValue:w,hasThreeOfAKind:E,hasFourOfAKind:u,hasFullHouse:$,hasSmallStraight:A,hasLargeStraight:S,hasYahtzee:H,diceTotal:b,scoreTotalOf:O,finalScore:C}=L(g),{currentHighscorePosition:R,hasImprovedHighscorePosition:c,hasImprovedPersonalBest:F}=ne(P.YAHTZEE),I=N(),V=N(!1),t=h(()=>w.value(1)),o=h(()=>w.value(2)),Z=h(()=>w.value(3)),K=h(()=>w.value(4)),X=h(()=>w.value(5)),q=h(()=>w.value(6)),G=h(()=>O.value("top")),J=h(()=>O.value("bottom"));return W(()=>{I.value=setInterval(()=>{V.value=!V.value},500)}),ee(()=>{clearInterval(I.value)}),(be,_)=>(s(),f("table",{class:B(["w-full mt-5 text-sm md:text-base text-left",e(p)?"text-neutral-500":"text-white",e(T)?void 0:V.value?"even":"odd"])},[l("tbody",null,[a(i,{row:e(n).ONES,"has-value":t.value},null,8,["row","has-value"]),a(i,{row:e(n).TWOS,"has-value":o.value},null,8,["row","has-value"]),a(i,{row:e(n).THREES,"has-value":Z.value},null,8,["row","has-value"]),a(i,{row:e(n).FOURS,"has-value":K.value},null,8,["row","has-value"]),a(i,{row:e(n).FIVES,"has-value":X.value},null,8,["row","has-value"]),a(i,{row:e(n).SIXES,"has-value":q.value},null,8,["row","has-value"]),l("tr",{class:B(["h-12 md:h-auto",e(p)?"text-white":"text-neutral-500"])},[_[0]||(_[0]=l("th",null,"TOP",-1)),l("td",null,k(e(T)?G.value:""),1)],2),l("tr",{class:B(["h-12 md:h-auto",e(p)?G.value>=63?"text-yellow-500":"text-white":"text-neutral-500"])},[_[1]||(_[1]=l("th",null,"BONUS",-1)),l("td",null,k(G.value>=63?35:e(p)?"X":""),1)],2),a(i,{row:e(n).THREE_OF_A_KIND,"has-value":e(E)},null,8,["row","has-value"]),a(i,{row:e(n).FOUR_OF_A_KIND,"has-value":e(u)},null,8,["row","has-value"]),a(i,{row:e(n).FULL_HOUSE,"has-value":e($)},null,8,["row","has-value"]),a(i,{row:e(n).SMALL_STRAIGHT,"has-value":e(A)},null,8,["row","has-value"]),a(i,{row:e(n).LARGE_STRAIGHT,"has-value":e(S)},null,8,["row","has-value"]),a(i,{row:e(n).YAHTZEE,"has-value":e(H)},null,8,["row","has-value"]),a(i,{row:e(n).CHANCE,"has-value":e(b)},null,8,["row","has-value"]),l("tr",{class:B(["h-12 md:h-auto",e(p)?"text-white":"text-neutral-500"])},[_[2]||(_[2]=l("th",null,"BOTTOM",-1)),l("td",null,k(e(T)?J.value:""),1)],2),e(p)&&e(C)?(s(),f(z,{key:0},[e(x)?(s(),f("tr",he,[_[3]||(_[3]=l("th",null,"YAHTZEE BONUS",-1)),l("td",null,k(e(x)),1)])):y("",!0),l("tr",ye,[_[4]||(_[4]=l("th",null,"TOTAL",-1)),l("td",null,[v(k(e(C))+" ",1),e(c)&&e(R)===1?(s(),f("span",Se," HIGHSCORE! ")):e(c)?(s(),f("span",_e," LEADERBOARD IMPROVEMENT! ")):e(F)?(s(),f("span",ke," PERSONAL BEST! ")):y("",!0)])])],64)):y("",!0)])],2))}}),xe=j(ge,[["__scopeId","data-v-1cc8c08e"]]),Ee={class:"flex flex-wrap justify-center gap-3"},Te={key:3,class:"w-full flex flex-col md:flex-row gap-3 justify-center"},Ae={class:"w-full md:w-1/2 flex justify-center gap-3"},Oe={class:"w-full md:w-1/2 flex justify-center gap-3"},$e={class:"mt-5 flex flex-col md:flex-row gap-3 justify-center"},He={key:2,class:"flex flex-wrap gap-3 mt-3 justify-center"},Le=U({__name:"Yahtzee",setup(Y){const g=te(),x=D(),T=se(),{reroll:p,dices:w,hasStarted:E,hasFinished:u,finalScore:$,personalBest:A}=L(x),{firebaseUser:S}=L(T),{start:H,$reset:b,roll:O,updateYahtzeeHighscore:C}=x,R=N(!1),c=N(!1),F=()=>{c.value=!1,H()},I=()=>{c.value=!1,b()};return(V,t)=>(s(),r(M,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Yahtzee",description:"Play solo."},{right:d(()=>[a(m,{class:"border-none h-fit",type:"neutral",icon:"pi pi-cog",onClick:t[0]||(t[0]=o=>R.value=!0)})]),default:d(()=>[l("div",Ee,[e(E)?y("",!0):(s(),r(m,{key:0,class:"w-full md:w-1/2",onClick:F},{default:d(()=>t[8]||(t[8]=[v(" Start ")])),_:1})),!e(E)&&!c.value?(s(),r(m,{key:1,class:"w-full md:w-1/2",type:"neutral",onClick:t[1]||(t[1]=o=>c.value=!0)},{default:d(()=>t[9]||(t[9]=[v(" View Highscores ")])),_:1})):e(E)?e(u)?y("",!0):(s(),f("div",Te,[l("div",Ae,[!e(u)&&e(p)<2?(s(),r(m,{key:0,class:"w-full",type:"tertiary",disabled:e(w).every(o=>o.selected),onClick:e(O)},{default:d(()=>[v(k(e(p)>=0?"Reroll":"Roll"),1)]),_:1},8,["disabled","onClick"])):y("",!0)]),l("div",Oe,[(s(!0),f(z,null,le(e(w),o=>(s(),r(ue,{dice:o},null,8,["dice"]))),256))])])):(s(),r(m,{key:2,class:"w-full md:w-1/2",type:"neutral",onClick:t[2]||(t[2]=o=>c.value=!1)},{default:d(()=>t[10]||(t[10]=[v(" Go Back ")])),_:1}))]),c.value?(s(),r(ie,{key:0,"game-id":e(P).YAHTZEE},null,8,["game-id"])):(s(),r(xe,{key:1})),l("div",$e,[e(E)&&!e(u)?(s(),r(m,{key:0,class:"w-full md:w-1/2",type:"neutral",onClick:I},{default:d(()=>t[11]||(t[11]=[v(" Restart ")])),_:1})):y("",!0),e(u)?(s(),r(m,{key:1,class:"w-full md:w-1/2",type:"secondary",onClick:I},{default:d(()=>t[12]||(t[12]=[v(" Play Again ")])),_:1})):y("",!0),e(u)&&!c.value?(s(),r(m,{key:2,class:"w-full md:w-1/2",type:"neutral",onClick:t[3]||(t[3]=o=>c.value=!0)},{default:d(()=>t[13]||(t[13]=[v(" View Highscores ")])),_:1})):e(u)?(s(),r(m,{key:3,class:"w-full md:w-1/2",type:"neutral",onClick:t[4]||(t[4]=o=>c.value=!1)},{default:d(()=>t[14]||(t[14]=[v(" View Your Score ")])),_:1})):y("",!0)]),e(u)?(s(),f("div",He,[e(S)?e($)&&e(A)<e($)?(s(),r(m,{key:1,class:"w-full md:w-1/2",type:"primary",onClick:t[6]||(t[6]=o=>e(C)())},{default:d(()=>t[17]||(t[17]=[v(" Add To Leaderboard ")])),_:1})):y("",!0):(s(),r(M,{key:0,class:"w-full md:w-1/2 bg-primary-500 bg-opacity-50 !rounded-primary"},{default:d(()=>[t[15]||(t[15]=v(" Please ")),l("a",{class:"cursor-pointer",onClick:t[5]||(t[5]=o=>e(g).push({name:e(oe).LOGIN,params:{redirect:JSON.stringify({name:e(ae).GAMES_YAHTZEE})}}))}," Login "),t[16]||(t[16]=v(" to add your score to the leaderboard. "))]),_:1}))])):y("",!0),a(de,{"game-id":e(P).YAHTZEE,"is-open":R.value,"onUpdate:isOpen":t[7]||(t[7]=o=>R.value=o)},null,8,["game-id","is-open"])]),_:1}))}});export{Le as default};
