import{d as R,p as $,s as k,X as L,r as u,z as q,h as S,a8 as U,o as N,v as b,x as m,j as a,i as d,E as B,u as o,R as C}from"../bundle.js";import{a as E,_ as w,c as M}from"./Bubble.vue_vue_type_script_setup_true_lang-Bg7w0uV0.js";import{_ as P,a as j,b as O}from"./PasswordField.vue_vue_type_script_setup_true_lang-CqtQzJRf.js";import{_ as z,R as l}from"./TextField.vue_vue_type_script_setup_true_lang-Dgx0yMnh.js";const A={class:"flex flex-col items-center content-center"},F={class:"grid grid-cols-2 mt-10 gap-3"},G=R({__name:"Register",setup(y){const t=$(),{isLoginLoading:f}=k(t),p=L(),{initEmail:n,initPassword:i}=p.currentRoute.value.query,c=u(),_=u(),v=u(),e=q({email:{value:(n==null?void 0:n.toString())||"",error:""},password:{value:(i==null?void 0:i.toString())||"",error:""},firstName:{value:"",error:""}}),V=async()=>{Object.keys(e).forEach(g=>e[g].error=""),await Promise.all([c.value.test(),_.value.test(),v.value.test()]),!e.email.error&&!e.password.error&&!e.firstName.error&&t.register(e.email.value,e.password.value,e.firstName.value)};return S(()=>{p.replace({query:void 0})}),(g,r)=>{const x=U("RouterLink");return N(),b(M,null,{content:m(()=>[a(E,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:m(()=>[d("div",A,[d("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:r[6]||(r[6]=B(s=>V(),["prevent"]))},[a(z,{ref_key:"firstName",ref:v,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:e.firstName.value,"onUpdate:modelValue":r[0]||(r[0]=s=>e.firstName.value=s),error:e.firstName.error,"onUpdate:error":r[1]||(r[1]=s=>e.firstName.error=s),rules:[o(l).Required,o(l).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),a(P,{ref_key:"email",ref:c,name:"email",label:"E-mail",modelValue:e.email.value,"onUpdate:modelValue":r[2]||(r[2]=s=>e.email.value=s),error:e.email.error,"onUpdate:error":r[3]||(r[3]=s=>e.email.error=s),rules:[o(l).Required]},null,8,["modelValue","error","rules"]),a(j,{ref_key:"password",ref:_,name:"password",label:"Password",modelValue:e.password.value,"onUpdate:modelValue":r[4]||(r[4]=s=>e.password.value=s),error:e.password.error,"onUpdate:error":r[5]||(r[5]=s=>e.password.error=s),rules:[o(l).Required]},null,8,["modelValue","error","rules"]),d("div",F,[a(w,{class:"col-span-full md:col-span-1",action:"submit",loading:o(f),label:"Register"},null,8,["loading"]),a(x,{to:{name:o(C).LOGIN,query:{initEmail:e.email.value,initPassword:e.password.value}},class:"col-span-full md:col-span-1"},{default:m(()=>[a(w,{class:"w-full",outlined:"",label:"Login"})]),_:1},8,["to"])])],32),a(O)])]),_:1})]),_:1})}}}),D=R({__name:"Register",setup(y){return(t,f)=>(N(),b(G))}});export{D as default};
