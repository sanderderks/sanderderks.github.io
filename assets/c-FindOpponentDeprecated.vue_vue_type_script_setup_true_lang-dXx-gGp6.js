import{_ as p}from"./c-UsersBar.vue_vue_type_script_setup_true_lang-Bw1DkFfV.js";import{d as V,b6 as f,b7 as A,v as B,c as M,s as g,f as i,o as S,g as F,j as v,k as N,l as j,m as q,h as G,C as w}from"../bundle.js";const P=V({__name:"FindOpponentDeprecated",props:f({collection:{},onlineGamesLoading:{type:Boolean},fetchOnlineGames:{type:Function}},{modelValue:{required:!0},modelModifiers:{}}),emits:f(["createOnlineGame","continueOnlineGame"],["update:modelValue"]),setup(r,{emit:b}){const k=r,c=b,O=A(r,"modelValue"),C=B(),U=M(),{onlineUsers:y,publicUsers:I}=g(C),{firebaseUser:a}=g(U),s=i(()=>{var e;return(e=a.value)==null?void 0:e.uid}),l=i(()=>O.value.filter(e=>e.creatorId===s.value||e.opponentId===s.value)),h=i(()=>y.value.filter(e=>e.id===s.value||!d(e.id))),u=e=>I.value.find(t=>t.id===e),d=e=>l.value.find(t=>t.creatorId===e||t.opponentId===e),L=e=>e.creatorId===s.value?u(e.opponentId):u(e.creatorId),m=e=>{const t=d(e);t?c("continueOnlineGame",t.id):c("createOnlineGame",e)};return S(async()=>{await k.fetchOnlineGames()}),(e,t)=>(v(),F(w,null,[N(p,{title:"Choose opponent",listOfUsers:h.value,"custom-click-action":"","get-color":n=>{var o;return e.onlineGamesLoading||n===((o=G(a))==null?void 0:o.uid)?"bg-neutral-500":"bg-green-500"},isClickable:n=>{var o;return!e.onlineGamesLoading&&n!==((o=G(a))==null?void 0:o.uid)},onClick:t[0]||(t[0]=n=>m(n))},null,8,["listOfUsers","get-color","isClickable"]),l.value.length?(v(),j(p,{key:0,title:"Active games",listOfUsers:l.value.map(n=>L(n)).filter(n=>!!n),"custom-click-action":"","get-color":()=>e.onlineGamesLoading?"bg-neutral-500":"bg-purple-500 bg-opacity-50",isClickable:()=>!e.onlineGamesLoading,onClick:t[1]||(t[1]=n=>m(n))},null,8,["listOfUsers","get-color","isClickable"])):q("",!0)],64))}});export{P as _};
