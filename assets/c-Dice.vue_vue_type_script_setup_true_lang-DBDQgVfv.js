import{aS as J,aT as y,j as K,x as v,k as c,l as ee,aQ as le,N as te,b3 as x,aU as $,b4 as se,aX as V,aV as oe,e as p,a as g,o as _,d as i,t as ie,aR as re,p as ae,v as ce}from"../bundle.js";import{_ as ne}from"./c-Dice6.vue_vue_type_script_setup_true_lang-CyLZ07gq.js";var ue=(e=>(e[e.ONES=0]="ONES",e[e.TWOS=1]="TWOS",e[e.THREES=2]="THREES",e[e.FOURS=3]="FOURS",e[e.FIVES=4]="FIVES",e[e.SIXES=5]="SIXES",e[e.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",e[e.FOUR_OF_A_KIND=7]="FOUR_OF_A_KIND",e[e.FULL_HOUSE=8]="FULL_HOUSE",e[e.SMALL_STRAIGHT=9]="SMALL_STRAIGHT",e[e.LARGE_STRAIGHT=10]="LARGE_STRAIGHT",e[e.YAHTZEE=11]="YAHTZEE",e[e.CHANCE=12]="CHANCE",e))(ue||{});const d={0:{title:"Ones",section:"top"},1:{title:"Twos",section:"top",multiplier:2},2:{title:"Threes",section:"top",multiplier:3},3:{title:"Fours",section:"top",multiplier:4},4:{title:"Fives",section:"top",multiplier:5},5:{title:"Sixes",section:"top",multiplier:6},6:{title:"Three of a Kind",section:"bottom"},7:{title:"Four of a Kind",section:"bottom"},8:{title:"Full House",section:"bottom",trueValue:25},9:{title:"Small Straight",section:"bottom",trueValue:30},10:{title:"Large Straight",section:"bottom",trueValue:40},11:{title:"Yahtzee",section:"bottom",trueValue:50},12:{title:"Chance",section:"bottom"}},fe=J("yahtzeeStore",()=>{const e=y(),{personalBest:s,highscorePosition:n}=K(e),{setPreviousHighscores:u,updateHighscores:b,sortHighscores:w}=e,f=v([]),m=v(0),E=v(null),k=v(-1),h=v(-1),a=v(I()),L=c(()=>k.value>=0),C=c(()=>f.value.length===13),H=c(()=>a.value.some(t=>t.isRolling)),B=c(()=>t=>a.value.filter(l=>l.value===t).length),N=c(()=>F(3)),U=c(()=>F(4)),G=c(()=>A(2)&&A(3)?d[8].trueValue??!1:!1),Y=c(()=>S(4)?d[9].trueValue??!1:!1),z=c(()=>S(5)?d[10].trueValue??!1:!1),O=c(()=>A(5)?d[11].trueValue??!1:!1),R=c(()=>{let t=0;return a.value.forEach(l=>{t+=l.value}),t}),T=c(()=>t=>{let l=0;return f.value.filter(o=>d[o.row].section===t).forEach(o=>{o.value!==!1&&(l+=o.value)}),l});ee(()=>{e.$init(le.YAHTZEE)}),te(C,t=>{if(t){let l=T.value("top");l>=63&&(l+=35),l+=T.value("bottom"),l+=m.value,E.value=l,D(),$(oe)}});const M=()=>{f.value=[],m.value=0,E.value=null,k.value=-1,h.value=-1,a.value=I(),u()},F=t=>{for(let l=1;l<=6;l++)if(a.value.filter(o=>o.value===l).length>=t){let o=0;return a.value.forEach(r=>{o+=r.value}),o}return!1},A=t=>{for(let l=1;l<=6;l++)if(a.value.filter(o=>o.value===l).length===t)return!0;return!1},S=t=>{let l=0,o=t;do{e:for(let r=o-t+1;r<=o;r++)if(a.value.some(q=>q.value===r))l++;else break e;if(l===t)return!0;l=0,o++}while(o<=6);return!1},X=()=>{k.value=0},Z=()=>{const t=e.diceRollSpeed*1e3;h.value++,a.value.forEach(l=>{l.selected||(l.isRolling=!0,setTimeout(()=>{l.value=x(6),l.isRolling=!1,h.value===2&&(l.selected=!0),a.value.sort((o,r)=>o.value-r.value)},x(t,t/3)))}),$(se)},P=t=>f.value.find(l=>l.row===t),W=(t,l)=>{let o=l;if(o===!1)return!1;const r=d[t];return r.multiplier?o*=r.multiplier:r.trueValue&&(o=r.trueValue),o},j=t=>{h.value>=0&&h.value<2&&(t.selected=!t.selected,$(V))},Q=(t,l)=>{if(!H.value){if(O.value){const o=f.value.find(r=>r.row===11);o&&o.value!==!1&&(m.value+=100)}f.value.push({row:t,value:l}),k.value++,h.value=-1,a.value.forEach(o=>{o.selected=!1}),$(V)}},D=()=>{E.value&&b({score:E.value,bonus:m.value})};return{score:f,bonus:m,finalScore:E,round:k,reroll:h,dices:a,hasStarted:L,hasFinished:C,isRolling:H,hasOfValue:B,hasThreeOfAKind:N,hasFourOfAKind:U,hasFullHouse:G,hasSmallStraight:Y,hasLargeStraight:z,hasYahtzee:O,diceTotal:R,scoreTotalOf:T,personalBest:s,highscorePosition:n,$reset:M,start:X,roll:Z,getScore:P,getActualValue:W,selectDice:j,selectScore:Q,setPreviousHighscores:u,updateYahtzeeHighscore:D,sortHighscores:w}},{persist:{enabled:!0}}),I=()=>[{id:1,value:1,selected:!1,isRolling:!1},{id:2,value:2,selected:!1,isRolling:!1},{id:3,value:3,selected:!1,isRolling:!1},{id:4,value:4,selected:!1,isRolling:!1},{id:5,value:5,selected:!1,isRolling:!1}],he={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},_e=["fill"],ve=["fill"],de=p({__name:"Dice1",props:{color:{},backgroundColor:{}},setup(e){return(s,n)=>(_(),g("svg",he,[i("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,_e),i("circle",{cx:"50",cy:"50",r:"10",fill:s.color},null,8,ve)]))}}),pe={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},ge=["fill"],me=["fill"],Ee=["fill"],ke=p({__name:"Dice2",props:{color:{},backgroundColor:{}},setup(e){return(s,n)=>(_(),g("svg",pe,[i("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,ge),i("circle",{cx:"25",cy:"25",r:"10",fill:s.color},null,8,me),i("circle",{cx:"75",cy:"75",r:"10",fill:s.color},null,8,Ee)]))}}),be={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},$e=["fill"],Te=["fill"],Ae=["fill"],we=["fill"],Ce=p({__name:"Dice3",props:{color:{},backgroundColor:{}},setup(e){return(s,n)=>(_(),g("svg",be,[i("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,$e),i("circle",{cx:"25",cy:"25",r:"10",fill:s.color},null,8,Te),i("circle",{cx:"50",cy:"50",r:"10",fill:s.color},null,8,Ae),i("circle",{cx:"75",cy:"75",r:"10",fill:s.color},null,8,we)]))}}),He={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Oe=["fill"],Fe=["fill"],Se=["fill"],De=["fill"],xe=["fill"],Ve=p({__name:"Dice4",props:{color:{},backgroundColor:{}},setup(e){return(s,n)=>(_(),g("svg",He,[i("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,Oe),i("circle",{cx:"25",cy:"25",r:"10",fill:s.color},null,8,Fe),i("circle",{cx:"25",cy:"75",r:"10",fill:s.color},null,8,Se),i("circle",{cx:"75",cy:"25",r:"10",fill:s.color},null,8,De),i("circle",{cx:"75",cy:"75",r:"10",fill:s.color},null,8,xe)]))}}),Ie={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Le=["fill"],Be=["fill"],Ne=["fill"],Ue=["fill"],Ge=["fill"],Ye=["fill"],ze=p({__name:"Dice5",props:{color:{},backgroundColor:{}},setup(e){return(s,n)=>(_(),g("svg",Ie,[i("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,Le),i("circle",{cx:"25",cy:"25",r:"10",fill:s.color},null,8,Be),i("circle",{cx:"25",cy:"75",r:"10",fill:s.color},null,8,Ne),i("circle",{cx:"50",cy:"50",r:"10",fill:s.color},null,8,Ue),i("circle",{cx:"75",cy:"25",r:"10",fill:s.color},null,8,Ge),i("circle",{cx:"75",cy:"75",r:"10",fill:s.color},null,8,Ye)]))}}),Xe=p({__name:"Dice",props:{dice:{}},setup(e){const{selectDice:s}=fe(),n={1:de,2:ke,3:Ce,4:Ve,5:ze,6:ne};return(u,b)=>(_(),g("div",{class:ce(["cursor-pointer",{"animate-spin":u.dice.isRolling}])},[(_(),ie(re(n[u.dice.value]),{color:"black",backgroundColor:u.dice.selected?"#2563eb":"white",width:"40",height:"40",onClick:b[0]||(b[0]=w=>ae(s)(u.dice))},null,8,["backgroundColor"]))],2))}});export{ue as S,Xe as _,d as s,fe as u};
