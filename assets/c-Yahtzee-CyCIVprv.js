import{_ as I,a as me}from"./c-Bubble.vue_vue_type_script_setup_true_lang-BKzNF-TX.js";import{d as ge,aR as k,aT as we,s as X,r as F,c as u,o as ie,aU as te,N as ue,aV as Q,aW as Ee,aX as ae,aY as ke,aZ as re,e as L,l as a,m as d,q as t,t as E,k as e,av as Se,G as j,J as S,n as g,E as C,H as V,ap as Ae,x as ce,w as D,h as $e,p as P,P as Te,a5 as ye}from"../bundle.js";import{_ as xe}from"./c-Dice6.vue_vue_type_script_setup_true_lang-uF3qKazL.js";import{u as be,H as Oe}from"./c-useScoreInfo-Q9B7Ayww.js";import{_ as He,a as Ce}from"./c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-CvGBIJb-.js";import{_ as fe}from"./c-_plugin-vue_export-helper-DlAUqK2U.js";import"./c-SwitchField.vue_vue_type_script_setup_true_lang-E4RvhRYK.js";import"./c-SelectField.vue_vue_type_script_setup_true_lang-DIXoT02e.js";import"./c-validation-CO90d-7g.js";var T=(l=>(l[l.ONES=0]="ONES",l[l.TWOS=1]="TWOS",l[l.THREES=2]="THREES",l[l.FOURS=3]="FOURS",l[l.FIVES=4]="FIVES",l[l.SIXES=5]="SIXES",l[l.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",l[l.FOUR_OF_A_KIND=7]="FOUR_OF_A_KIND",l[l.FULL_HOUSE=8]="FULL_HOUSE",l[l.SMALL_STRAIGHT=9]="SMALL_STRAIGHT",l[l.LARGE_STRAIGHT=10]="LARGE_STRAIGHT",l[l.YAHTZEE=11]="YAHTZEE",l[l.CHANCE=12]="CHANCE",l))(T||{});const U=()=>({0:{title:k("Enen","Ones"),section:"top"},1:{title:k("Tweeën","Twos"),section:"top",multiplier:2},2:{title:k("Drieën","Threes"),section:"top",multiplier:3},3:{title:k("Vieren","Fours"),section:"top",multiplier:4},4:{title:k("Vijven","Fives"),section:"top",multiplier:5},5:{title:k("Zessen","Sixes"),section:"top",multiplier:6},6:{title:k("Drie Dezelfde","Three of a Kind"),section:"bottom"},7:{title:k("Vier Dezelfde","Four of a Kind"),section:"bottom"},8:{title:"Full House",section:"bottom",trueValue:25},9:{title:k("Kleine Straat","Small Straight"),section:"bottom",trueValue:30},10:{title:k("Grote Straat","Large Straight"),section:"bottom",trueValue:40},11:{title:"Yahtzee",section:"bottom",trueValue:50},12:{title:k("Kans","Chance"),section:"bottom"}}),K=ge("yahtzeeStore",()=>{const l=we(),{personalBest:s,highscorePosition:h}=X(l),{setPreviousHighscores:v,updateHighscores:_,sortHighscores:p}=l,c=F([]),A=F(0),y=F(null),m=F(-1),x=F(-1),f=F(ne()),N=u(()=>m.value>=0),R=u(()=>c.value.length===13),G=u(()=>f.value.some(r=>r.isRolling)),b=u(()=>r=>f.value.filter(o=>o.value===r).length),Y=u(()=>q(3)),M=u(()=>q(4)),Z=u(()=>B(2)&&B(3)?U()[8].trueValue??!1:!1),i=u(()=>J(4)?U()[9].trueValue??!1:!1),w=u(()=>J(5)?U()[10].trueValue??!1:!1),W=u(()=>B(5)?U()[11].trueValue??!1:!1),ee=u(()=>{let r=0;return f.value.forEach(o=>{r+=o.value}),r}),z=u(()=>r=>{let o=0;return c.value.filter(n=>U()[n.row].section===r).forEach(n=>{n.value!==!1&&(o+=n.value)}),o});ie(()=>{l.$init(te.YAHTZEE)}),ue(R,r=>{if(r){let o=z.value("top");o>=63&&(o+=35),o+=z.value("bottom"),o+=A.value,y.value=o,oe(),Q(Ee)}});const le=()=>{c.value=[],A.value=0,y.value=null,m.value=-1,x.value=-1,f.value=ne(),v()},q=r=>{for(let o=1;o<=6;o++)if(f.value.filter(n=>n.value===o).length>=r){let n=0;return f.value.forEach($=>{n+=$.value}),n}return!1},B=r=>{for(let o=1;o<=6;o++)if(f.value.filter(n=>n.value===o).length===r)return!0;return!1},J=r=>{let o=0,n=r;do{e:for(let $=n-r+1;$<=n;$++)if(f.value.some(pe=>pe.value===$))o++;else break e;if(o===r)return!0;o=0,n++}while(n<=6);return!1},se=()=>{m.value=0},H=()=>{const r=l.diceRollSpeed*1e3;x.value++,f.value.forEach(o=>{o.selected||(o.isRolling=!0,setTimeout(()=>{o.value=ae(6),o.isRolling=!1,x.value===2&&(o.selected=!0),f.value.sort((n,$)=>n.value-$.value)},ae(r,r/3)))}),Q(ke)},de=r=>c.value.find(o=>o.row===r),he=(r,o)=>{let n=o;if(n===!1)return!1;const $=U()[r];return $.multiplier?n*=$.multiplier:$.trueValue&&(n=$.trueValue),n},ve=r=>{x.value>=0&&x.value<2&&(r.selected=!r.selected,Q(re))},_e=(r,o)=>{if(!G.value){if(W.value){const n=c.value.find($=>$.row===11);n&&n.value!==!1&&(A.value+=100)}c.value.push({row:r,value:o}),m.value++,x.value=-1,f.value.forEach(n=>{n.selected=!1}),Q(re)}},oe=()=>{y.value&&_({score:y.value,bonus:A.value})};return{score:c,bonus:A,finalScore:y,round:m,reroll:x,dices:f,hasStarted:N,hasFinished:R,isRolling:G,hasOfValue:b,hasThreeOfAKind:Y,hasFourOfAKind:M,hasFullHouse:Z,hasSmallStraight:i,hasLargeStraight:w,hasYahtzee:W,diceTotal:ee,scoreTotalOf:z,personalBest:s,highscorePosition:h,$reset:le,start:se,roll:H,getScore:de,getActualValue:he,selectDice:ve,selectScore:_e,setPreviousHighscores:v,updateYahtzeeHighscore:oe,sortHighscores:p}},{persist:{enabled:!0}}),ne=()=>[{id:1,value:1,selected:!1,isRolling:!1},{id:2,value:2,selected:!1,isRolling:!1},{id:3,value:3,selected:!1,isRolling:!1},{id:4,value:4,selected:!1,isRolling:!1},{id:5,value:5,selected:!1,isRolling:!1}],Ie={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Ve=["fill"],De=["fill"],Fe=L({__name:"Dice1",props:{color:{},backgroundColor:{}},setup(l){return(s,h)=>(a(),d("svg",Ie,[t("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,Ve),t("circle",{cx:"50",cy:"50",r:"10",fill:s.color},null,8,De)]))}}),Ge={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Le=["fill"],Ne=["fill"],Re=["fill"],Be=L({__name:"Dice2",props:{color:{},backgroundColor:{}},setup(l){return(s,h)=>(a(),d("svg",Ge,[t("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,Le),t("circle",{cx:"25",cy:"25",r:"10",fill:s.color},null,8,Ne),t("circle",{cx:"75",cy:"75",r:"10",fill:s.color},null,8,Re)]))}}),Ue={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Ye=["fill"],Me=["fill"],Pe=["fill"],Ze=["fill"],ze=L({__name:"Dice3",props:{color:{},backgroundColor:{}},setup(l){return(s,h)=>(a(),d("svg",Ue,[t("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,Ye),t("circle",{cx:"25",cy:"25",r:"10",fill:s.color},null,8,Me),t("circle",{cx:"50",cy:"50",r:"10",fill:s.color},null,8,Pe),t("circle",{cx:"75",cy:"75",r:"10",fill:s.color},null,8,Ze)]))}}),je={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Xe=["fill"],We=["fill"],qe=["fill"],Je=["fill"],Qe=["fill"],Ke=L({__name:"Dice4",props:{color:{},backgroundColor:{}},setup(l){return(s,h)=>(a(),d("svg",je,[t("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,Xe),t("circle",{cx:"25",cy:"25",r:"10",fill:s.color},null,8,We),t("circle",{cx:"25",cy:"75",r:"10",fill:s.color},null,8,qe),t("circle",{cx:"75",cy:"25",r:"10",fill:s.color},null,8,Je),t("circle",{cx:"75",cy:"75",r:"10",fill:s.color},null,8,Qe)]))}}),el={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},ll=["fill"],tl=["fill"],sl=["fill"],ol=["fill"],al=["fill"],rl=["fill"],nl=L({__name:"Dice5",props:{color:{},backgroundColor:{}},setup(l){return(s,h)=>(a(),d("svg",el,[t("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:s.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,ll),t("circle",{cx:"25",cy:"25",r:"10",fill:s.color},null,8,tl),t("circle",{cx:"25",cy:"75",r:"10",fill:s.color},null,8,sl),t("circle",{cx:"50",cy:"50",r:"10",fill:s.color},null,8,ol),t("circle",{cx:"75",cy:"25",r:"10",fill:s.color},null,8,al),t("circle",{cx:"75",cy:"75",r:"10",fill:s.color},null,8,rl)]))}}),il=L({__name:"Dice",props:{dice:{}},setup(l){const{selectDice:s}=K(),h={1:Fe,2:Be,3:ze,4:Ke,5:nl,6:xe};return(v,_)=>(a(),d("div",{class:j(["cursor-pointer",{"animate-spin":v.dice.isRolling}])},[(a(),E(Se(h[v.dice.value]),{color:"black",backgroundColor:v.dice.selected?"#2563eb":"white",width:"40",height:"40",onClick:_[0]||(_[0]=p=>e(s)(v.dice))},null,8,["backgroundColor"]))],2))}}),ul={class:"h-12 md:h-auto"},cl={class:"w-1/2 md:w-1/3"},fl={key:0},dl={key:1,class:"!ps-1 md:ps-1"},hl={key:2},vl=L({__name:"ScoreCell",props:{row:{},hasValue:{type:[Number,Boolean]}},setup(l){const s=l,h=K(),{reroll:v}=X(h),{selectScore:_,getScore:p,getActualValue:c}=h,A=F(!1),y=u(()=>p(s.row)),m=u(()=>c(s.row,s.hasValue)),x=u(()=>m.value===!1?"X":m.value);return ue(()=>m.value,()=>{A.value=!0,setTimeout(()=>{A.value=!1})}),(f,N)=>(a(),d("tr",ul,[t("th",cl,S(e(U)()[f.row].title),1),y.value?(a(),d("td",fl,S(y.value.value===!1?"X":y.value.value),1)):e(v)>=0&&!A.value?(a(),d("td",dl,[g(I,{class:"!p-0 !h-10 md:!h-auto",type:m.value===!1||m.value===0?"neutral":void 0,onClick:N[0]||(N[0]=R=>e(_)(f.row,m.value))},{default:C(()=>[V(S(x.value),1)]),_:1},8,["type"])])):(a(),d("td",hl))]))}}),O=fe(vl,[["__scopeId","data-v-881ce2f1"]]),_l={key:0,class:"h-12 md:h-auto text-red-500"},pl={class:"h-12 md:h-auto text-pink-500"},ml={key:0,class:"text-purple-500 font-bold"},gl={key:1,class:"text-red-500 font-bold"},wl={key:2,class:"text-green-500 font-bold"},El=L({__name:"Scoreboard",setup(l){const s=K(),{bonus:h,hasStarted:v,hasFinished:_,hasOfValue:p,hasThreeOfAKind:c,hasFourOfAKind:A,hasFullHouse:y,hasSmallStraight:m,hasLargeStraight:x,hasYahtzee:f,diceTotal:N,scoreTotalOf:R,finalScore:G}=X(s),{currentHighscorePosition:b,hasImprovedHighscorePosition:Y,hasImprovedPersonalBest:M}=be(null),Z=F(),i=F(!1),w=u(()=>p.value(1)),W=u(()=>p.value(2)),ee=u(()=>p.value(3)),z=u(()=>p.value(4)),le=u(()=>p.value(5)),q=u(()=>p.value(6)),B=u(()=>R.value("top")),J=u(()=>R.value("bottom"));return ie(()=>{Z.value=setInterval(()=>{i.value=!i.value},500)}),Ae(()=>{clearInterval(Z.value)}),(se,H)=>(a(),d("table",{class:j(["w-full mt-5 text-sm md:text-base text-left",e(_)?"text-neutral-500":"text-white",e(v)?void 0:i.value?"even":"odd"])},[t("tbody",null,[g(O,{row:e(T).ONES,"has-value":w.value},null,8,["row","has-value"]),g(O,{row:e(T).TWOS,"has-value":W.value},null,8,["row","has-value"]),g(O,{row:e(T).THREES,"has-value":ee.value},null,8,["row","has-value"]),g(O,{row:e(T).FOURS,"has-value":z.value},null,8,["row","has-value"]),g(O,{row:e(T).FIVES,"has-value":le.value},null,8,["row","has-value"]),g(O,{row:e(T).SIXES,"has-value":q.value},null,8,["row","has-value"]),t("tr",{class:j(["h-12 md:h-auto",e(_)?"text-white":"text-neutral-500"])},[H[0]||(H[0]=t("th",null,"TOP",-1)),t("td",null,S(e(v)?B.value:""),1)],2),t("tr",{class:j(["h-12 md:h-auto",e(_)?B.value>=63?"text-yellow-500":"text-white":"text-neutral-500"])},[H[1]||(H[1]=t("th",null,"BONUS",-1)),t("td",null,S(B.value>=63?35:e(_)?"X":""),1)],2),g(O,{row:e(T).THREE_OF_A_KIND,"has-value":e(c)},null,8,["row","has-value"]),g(O,{row:e(T).FOUR_OF_A_KIND,"has-value":e(A)},null,8,["row","has-value"]),g(O,{row:e(T).FULL_HOUSE,"has-value":e(y)},null,8,["row","has-value"]),g(O,{row:e(T).SMALL_STRAIGHT,"has-value":e(m)},null,8,["row","has-value"]),g(O,{row:e(T).LARGE_STRAIGHT,"has-value":e(x)},null,8,["row","has-value"]),g(O,{row:e(T).YAHTZEE,"has-value":e(f)},null,8,["row","has-value"]),g(O,{row:e(T).CHANCE,"has-value":e(N)},null,8,["row","has-value"]),t("tr",{class:j(["h-12 md:h-auto",e(_)?"text-white":"text-neutral-500"])},[H[2]||(H[2]=t("th",null,"BOTTOM",-1)),t("td",null,S(e(v)?J.value:""),1)],2),e(_)&&e(G)?(a(),d(ce,{key:0},[e(h)?(a(),d("tr",_l,[H[3]||(H[3]=t("th",null,"YAHTZEE BONUS",-1)),t("td",null,S(e(h)),1)])):D("",!0),t("tr",pl,[H[4]||(H[4]=t("th",null,"TOTAL",-1)),t("td",null,[V(S(e(G))+" ",1),e(Y)&&e(b)===1?(a(),d("span",ml," HIGHSCORE! ")):e(Y)?(a(),d("span",gl," LEADERBOARD IMPROVEMENT! ")):e(M)?(a(),d("span",wl," PERSONAL BEST! ")):D("",!0)])])],64)):D("",!0)])],2))}}),kl=fe(El,[["__scopeId","data-v-7d29e0b7"]]),Sl={class:"flex flex-wrap justify-center gap-3"},Al={key:3,class:"w-full flex flex-col md:flex-row gap-3 justify-center"},$l={class:"w-full md:w-1/2 flex justify-center gap-3"},Tl={class:"w-full md:w-1/2 flex justify-center gap-3"},yl={class:"mt-5 flex flex-col md:flex-row gap-3 justify-center"},xl={key:2,class:"flex flex-wrap gap-3 mt-3 justify-center"},Ll=L({__name:"Yahtzee",setup(l){const s=K(),h=$e(),{reroll:v,dices:_,hasStarted:p,hasFinished:c,finalScore:A,personalBest:y}=X(s),{firebaseUser:m}=X(h),{start:x,$reset:f,roll:N,updateYahtzeeHighscore:R}=s,G=F(!1),b=F(!1),Y=()=>{b.value=!1,x()},M=()=>{b.value=!1,f()};return(Z,i)=>(a(),E(me,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:e(P)("GAMES_GAME_YAHTZEE_TITLE"),description:e(k)("Speel solo","Play solo.")},{right:C(()=>[g(I,{class:"border-none h-fit",type:"neutral",icon:"pi pi-cog",onClick:i[0]||(i[0]=w=>G.value=!0)})]),default:C(()=>[t("div",Sl,[e(p)?D("",!0):(a(),E(I,{key:0,class:"w-full md:w-1/2",onClick:Y},{default:C(()=>i[7]||(i[7]=[V(" Start ")])),_:1})),!e(p)&&!b.value?(a(),E(I,{key:1,class:"w-full md:w-1/2",type:"neutral",onClick:i[1]||(i[1]=w=>b.value=!0)},{default:C(()=>[V(S(e(k)("Bekijk Highscores","View Highscores")),1)]),_:1})):e(p)?e(c)?D("",!0):(a(),d("div",Al,[t("div",$l,[!e(c)&&e(v)<2?(a(),E(I,{key:0,class:"w-full",type:"tertiary",disabled:e(_).every(w=>w.selected),onClick:e(N)},{default:C(()=>[V(S(e(v)>=0?e(k)("Nog een keer gooien","Reroll"):e(k)("Gooien","Roll")),1)]),_:1},8,["disabled","onClick"])):D("",!0)]),t("div",Tl,[(a(!0),d(ce,null,Te(e(_),w=>(a(),E(il,{dice:w},null,8,["dice"]))),256))])])):(a(),E(I,{key:2,class:"w-full md:w-1/2",type:"neutral",onClick:i[2]||(i[2]=w=>b.value=!1)},{default:C(()=>[V(S(e(P)("GENERAL_GO_BACK")),1)]),_:1}))]),b.value?(a(),E(Oe,{key:0,"game-id":e(te).YAHTZEE},null,8,["game-id"])):(a(),E(kl,{key:1})),t("div",yl,[e(p)&&!e(c)?(a(),E(I,{key:0,class:"w-full md:w-1/2",type:"neutral",onClick:M},{default:C(()=>i[8]||(i[8]=[V(" Restart ")])),_:1})):D("",!0),e(c)?(a(),E(I,{key:1,class:"w-full md:w-1/2",type:"secondary",onClick:M},{default:C(()=>[V(S(e(P)("GAMES_PLAY_AGAIN")),1)]),_:1})):D("",!0),e(c)&&!b.value?(a(),E(I,{key:2,class:"w-full md:w-1/2",type:"neutral",onClick:i[3]||(i[3]=w=>b.value=!0)},{default:C(()=>[V(S(e(P)("GAMES_VIEW_HIGHSCORES")),1)]),_:1})):e(c)?(a(),E(I,{key:3,class:"w-full md:w-1/2",type:"neutral",onClick:i[4]||(i[4]=w=>b.value=!1)},{default:C(()=>[V(S(e(P)("GAMES_VIEW_SCORE")),1)]),_:1})):D("",!0)]),e(c)?(a(),d("div",xl,[e(m)?e(A)&&e(y)<e(A)?(a(),E(I,{key:1,class:"w-full md:w-1/2",type:"primary",onClick:i[5]||(i[5]=w=>e(R)())},{default:C(()=>[V(S(e(P)("GAMES_LEADERBOARD_ADD")),1)]),_:1})):D("",!0):(a(),E(He,{key:0,action:{nl:"om je score toe te voegen aan het scorebord.",en:"to add your score to the leaderboard."},redirect:e(ye).GAMES_YAHTZEE},null,8,["redirect"]))])):D("",!0),g(Ce,{"game-id":e(te).YAHTZEE,"is-open":G.value,"onUpdate:isOpen":i[6]||(i[6]=w=>G.value=w)},null,8,["game-id","is-open"])]),_:1},8,["title","description"]))}});export{Ll as default};
