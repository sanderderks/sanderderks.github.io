import{M as R,aK as a,u as y,b9 as O,at as S,aS as x,q as d,cp as J,cq as X,cr as _,cs as ee,ct as ge,aC as q,v as C,bi as h,I as P,H as M,t as b,bV as z,bW as U,ci as ve,cu as fe,cv as te,cw as ne,cx as L,aH as de,bU as F,s as $,A as ce,bH as I,c1 as G,bZ as Z,c0 as me,aQ as be,c2 as ye,F as D,aV as H,bJ as he,bz as we,bM as ke,cy as $e,b_ as Te,cz as Ce,b$ as Be,aW as Q,ar as A,aZ as ae,av as oe,c8 as Se,bT as Pe,cb as Ie,c3 as xe,c4 as De}from"../bundle.js";import{_ as W,a as V,u as Re,b as Ue}from"./c-Bubble.vue_vue_type_script_setup_true_lang-D9wpE-yC.js";import{_ as Ee}from"./c-TextField.vue_vue_type_script_setup_true_lang-DhuayGui.js";import{R as Me}from"./c-validation-Bf-E2UlI.js";import{_ as He,a as Ae,s as je}from"./c-Image.vue_vue_type_script_setup_true_lang-1PBfk1Ii.js";const N=R({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(o){return(e,s)=>(a(),y("span",{class:S({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},O(e.time),3))}}),Le=(o,e)=>{const s=x(0),m=K=>(e==="up"?K=Math.abs(K):K=Math.max(0,K),Math.floor(K)),v=d(()=>m(s.value/J)),g=d(()=>s.value%J),u=d(()=>m(g.value/X)),T=d(()=>g.value%X),w=d(()=>m(T.value/_)),k=d(()=>T.value%_),l=d(()=>m(k.value/ee)),f=d(()=>k.value%ee),p=d(()=>m(f.value/ge)),r=d(()=>v.value===0&&u.value===0&&w.value===0&&l.value===0&&p.value===0),B=d(()=>v.value>0),t=d(()=>v.value>0||u.value>0||r.value),i=d(()=>v.value>0||u.value>0||w.value>0||r.value),c=d(()=>v.value>0||u.value>0||w.value>0||l.value>0||r.value),n=d(()=>v.value>0||u.value>0||w.value>0||l.value>0||p.value>0||r.value),E=()=>{s.value=o-new Date().getTime(),setTimeout(E,1e3)};return q(()=>{E()}),{years:v,days:u,hours:w,minutes:l,seconds:p,showYears:B,showDays:t,showHours:i,showMinutes:c,showSeconds:n}},We=(o,e,s,m,v,g,u)=>{const T=x(0),w=d(()=>e.value===0&&s.value===0&&m.value===0&&v.value===0&&g.value===0),k=d(()=>u==="down"?s.value===364:s.value===0),l=d(()=>u==="down"?m.value===23:m.value===0),f=d(()=>u==="down"?v.value===59:v.value===0),p=d(()=>u==="down"?g.value===59:g.value===0),r=d(()=>e.value>=0&&k.value&&l.value&&f.value&&p.value),B=d(()=>s.value>=0&&l.value&&f.value&&p.value),t=d(()=>m.value>=0&&f.value&&p.value),i=d(()=>v.value>=0&&p.value),c=d(()=>!w.value),n=()=>{T.value=o-new Date().getTime(),setTimeout(n,1e3)};return q(()=>{n()}),{animateYears:r,animateDays:B,animateHours:t,animateMinutes:i,animateSeconds:c}},Ke={class:"grid grid-flow-col text-center"},Ne={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Oe={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Ve={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},qe={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},ze={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Fe={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Ye={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Ge={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Qe={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Ze={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},j=R({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(o){const e=o,{years:s,days:m,hours:v,minutes:g,seconds:u,showYears:T,showDays:w,showHours:k,showMinutes:l,showSeconds:f}=Le(e.time,e.direction),{animateYears:p,animateDays:r,animateHours:B,animateMinutes:t,animateSeconds:i}=We(e.time,s,m,v,g,u,e.direction);return(c,n)=>(a(),y("div",{class:S({block:!c.alignment,flex:!!c.alignment,"justify-start":c.alignment==="left","justify-center":c.alignment==="center","justify-end":c.alignment==="right"})},[C("div",Ke,[h(T)?(a(),y("div",Ne,[C("span",Oe,[P(N,{time:h(s),animate:h(p),direction:c.direction},null,8,["time","animate","direction"])]),n[0]||(n[0]=M(" years "))])):b("",!0),h(w)?(a(),y("div",Ve,[C("span",qe,[P(N,{time:h(m),animate:h(r),direction:c.direction},null,8,["time","animate","direction"])]),n[1]||(n[1]=M(" days "))])):b("",!0),h(k)?(a(),y("div",ze,[C("span",Fe,[P(N,{time:h(v),animate:h(B),direction:c.direction},null,8,["time","animate","direction"])]),n[2]||(n[2]=M(" hrs "))])):b("",!0),h(l)?(a(),y("div",Ye,[C("span",Ge,[P(N,{time:h(g),animate:h(t),direction:c.direction},null,8,["time","animate","direction"])]),n[3]||(n[3]=M(" mins "))])):b("",!0),h(f)?(a(),y("div",Qe,[C("span",Ze,[P(N,{time:h(u),animate:h(i),direction:c.direction},null,8,["time","animate","direction"])]),n[4]||(n[4]=M(" secs "))])):b("",!0)])],2))}}),Je=o=>{const e=z(),{collections:s,fetchBlogPost:m,checkBlogPostForUnreadReactions:v}=e,{blogPosts:g,blogReactions:u,isBlogPostDatabaseActionActive:T}=U(e);let w=[];const k=x(),l=f=>{f.metadata.hasPendingWrites||T.value||(clearTimeout(k.value),k.value=setTimeout(async()=>{await m(o.id,void 0,{loadingIndicator:!1}),v(g.value.previousData.single,!0)},200))};q(async()=>{u.value.unread=u.value.unread.filter(c=>c.postId!==o.id);const f=ve(o),p=s.blogPosts(f.isPrivate),r=s.blogReactions(f.isPrivate),B=fe(p,o.id),t=te(p,ne("id","==",o.id)),i=te(r,ne("post","==",B));w.push(L(t,l)),w.push(L(i,l))}),de(()=>{clearTimeout(k.value),w.forEach(f=>{f()})})},Ct=()=>{const o=z(),e=F(),{visibleBlogPosts:s,blogReactions:m,isBlogPostDatabaseActionActive:v}=U(o),{firebaseUser:g}=U(e),{collections:u,fetchBlogPosts:T,checkBlogPostsForUnreadReactions:w}=o;let k=[];const l=x(),f=p=>{p.metadata.hasPendingWrites||v.value||(clearTimeout(l.value),l.value=setTimeout(async()=>{var r;await T((r=g.value)==null?void 0:r.uid,{amount:s.value.length,loadingIndicator:!1}),w()},200))};q(()=>{m.value.unread=[],k.push(L(u.blogPosts(!1),f)),k.push(L(u.blogReactions(!1),f)),g.value&&(k.push(L(u.blogPosts(!0),f)),k.push(L(u.blogReactions(!0),f)))}),de(()=>{clearTimeout(l.value),k.forEach(p=>{p()})})},Xe={class:"flex flex-col gap-2"},se=R({__name:"BlogReaction",props:{post:{},reaction:{}},setup(o){const e=o,s=F(),m=z(),{publicUser:v,isOwner:g}=U(s),{blogReactions:u}=U(m),{deleteBlogReaction:T}=m,w=d(()=>u.value.unread.find(p=>p.id===e.reaction.id)),k=d(()=>{const p=[];return w.value&&p.push({value:"Unread",severity:"warning",rounded:!1}),p}),l=d(()=>v.value&&e.reaction.user.id===v.value.id||g.value),f=()=>{u.value.unread=u.value.unread.filter(p=>p.id!==e.reaction.id)};return(p,r)=>(a(),$(V,{id:e.reaction.id,class:S(["p-5 w-full md:w-3/4 xl:w-2/3",e.post.colorTertiary,e.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":w.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},title:e.reaction.user.displayName||"Unknown user",subTitle:h(G)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,avatarRoute:h(g)?{name:h(Z).USER_DETAILS,params:{userId:e.reaction.user.id}}:void 0,description:e.reaction.message,tags:k.value},ce({_:2},[l.value||w.value?{name:"right",fn:I(()=>[C("div",Xe,[l.value&&!e.post.locked?(a(),$(W,{key:0,type:"danger",outlined:"",class:"h-fit",label:"Delete",onClick:r[0]||(r[0]=B=>h(T)(e.reaction.id,e.post))})):b("",!0),w.value?(a(),$(W,{key:1,type:"tertiary",outlined:"",class:"h-fit",label:"Mark as read",onClick:f})):b("",!0)])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","avatarRoute","description","tags"]))}}),_e={class:"grid justify-items-center p-5 gap-5"},et=R({__name:"BlogReactions",props:{post:{}},setup(o){const e=o,s=me(),m=F(),v=z(),{content:g}=U(s),{publicUser:u}=U(m),{createBlogReaction:T}=v,w=x(),k=x(!1),l=be({reaction:{value:"",error:""}}),f=d(()=>[...e.post.reactions].reverse()),p=d(()=>f.value.filter((i,c)=>c<3)),r=d(()=>f.value.filter((i,c)=>c>=3)),B=d(()=>e.post.locked||!u.value),t=async()=>{await w.value.test(),!l.reaction.error&&u.value&&await T(e.post,{userId:u.value.id,postId:e.post.id,message:l.reaction.value,date:new Date})&&(l.reaction.value=""),$e()};return(i,c)=>(a(),y("form",{action:"",onSubmit:ke(t,["prevent"])},[C("div",_e,[!h(u)||i.post.reactions.filter(n=>n.user.id===h(u).id).length<20?(a(),$(V,{key:0,class:S(["p-5 flex justify-center w-full md:w-3/4 xl:w-2/3","!rounded-primary",i.post.colorTertiary||"bg-secondary-700",i.post.opacityTertiary||"bg-opacity-25"])},{default:I(()=>[P(Ee,{class:"w-5/6",id:i.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",i.post.colorSecondary||i.post.colorPrimary||"bg-secondary-600",i.post.opacitySecondary||"!bg-opacity-20",B.value?"!bg-gray-900 !bg-opacity-50":"focus:!text-white focus:!placeholder-gray-200",{"cursor-pointer":!h(u)&&!i.post.locked}],disabled:B.value},ref_key:"reaction",ref:w,name:"reaction",placeholder:i.post.locked?"Locked for comments":h(u)?"Reply":h(g).blogLoginGuest,modelValue:l.reaction.value,"onUpdate:modelValue":c[0]||(c[0]=n=>l.reaction.value=n),error:l.reaction.error,"onUpdate:error":c[1]||(c[1]=n=>l.reaction.error=n),rules:[h(Me).Required],onClick:c[2]||(c[2]=()=>!h(u)&&!i.post.locked?h(ye).push({name:h(Z).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):b("",!0),(a(!0),y(D,null,H(p.value,n=>(a(),$(se,{post:i.post,reaction:n},null,8,["post","reaction"]))),256)),(a(!0),y(D,null,H(r.value,n=>he((a(),$(se,{post:i.post,reaction:n},null,8,["post","reaction"])),[[we,k.value]])),256)),i.post.reactions.length>3?(a(),$(W,{key:1,type:"primary",outlined:"",icon:k.value?"pi pi-angle-up":"pi pi-angle-down",label:k.value?"Hide older reactions":"View older reactions",onClick:c[3]||(c[3]=n=>k.value=!k.value)},null,8,["icon","label"])):b("",!0)])],32))}});var tt={root:function(e){var s=e.props;return["p-chip p-component",{"p-chip-image":s.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},nt=Te.extend({name:"chip",classes:tt}),at={name:"BaseChip",extends:Be,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:nt,provide:function(){return{$parentInstance:this}}},pe={name:"Chip",extends:at,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:Ce}},ot=["aria-label"],st=["src"];function lt(o,e,s,m,v,g){return v.visible?(a(),y("div",A({key:0,class:o.cx("root"),"aria-label":o.label},o.ptmi("root")),[Q(o.$slots,"default",{},function(){return[o.image?(a(),y("img",A({key:0,src:o.image},o.ptm("image")),null,16,st)):o.$slots.icon?(a(),$(ae(o.$slots.icon),A({key:1,class:o.cx("icon")},o.ptm("icon")),null,16,["class"])):o.icon?(a(),y("span",A({key:2,class:[o.cx("icon"),o.icon]},o.ptm("icon")),null,16)):b("",!0),o.label?(a(),y("div",A({key:3,class:o.cx("label")},o.ptm("label")),O(o.label),17)):b("",!0)]}),o.removable?Q(o.$slots,"removeicon",{key:0,onClick:g.close,onKeydown:g.onKeydown,removeCallback:g.close,keydownCallback:g.onKeydown},function(){return[(a(),$(ae(o.removeIcon?"span":"TimesCircleIcon"),A({tabindex:"0",class:[o.cx("removeIcon"),o.removeIcon],onClick:g.close,onKeydown:g.onKeydown},o.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):b("",!0)],16,ot)):b("",!0)}pe.render=lt;const it=R({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(o){return(e,s)=>(a(),y("div",null,[C("div",{class:S({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[C("ul",{class:S(["list-disc",{"ms-5":e.alignment==="left"}])},[(a(!0),y(D,null,H(e.bullets,m=>(a(),y("li",null,O(m),1))),256))],2)],2)]))}}),rt={class:"ql-editor no-input"},ut=["innerHTML"],Y=R({__name:"BlogPostDescription",props:{description:{}},setup(o){return(e,s)=>(a(),y("div",rt,[C("div",{innerHTML:e.description},null,8,ut)]))}}),le=R({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{},thumb:{type:Boolean}},setup(o){const e=o,s=Re(Ue),m=s.greaterOrEqual("sm"),v=s.greaterOrEqual("md"),g=x(0),u=x(0),T=d(()=>g.value>u.value),w=d(()=>g.value>u.value*1.5),k=d(()=>u.value>g.value),l=d(()=>u.value>g.value*1.5),f=d(()=>v.value?"60%":m.value?"80%":e.maxHeight?e.maxHeight:T.value&&l.value?"80%":"100%"),p=d(()=>v.value?"60%":m.value?"80%":e.maxWidth?e.maxWidth:k.value&&w.value?"80%":"100%");return q(()=>{const r=new Image;r.src=e.coverImageUrl,r.onload=()=>{g.value=r.height,u.value=r.width}}),(r,B)=>{var t,i;return a(),y("div",{class:S({flex:!0,"justify-start":r.alignment==="left","justify-center":r.alignment===void 0||r.alignment==="center","justify-end":r.alignment==="right"})},[P(V,{class:S(["!p-0 md:!p-3 my-5",r.thumb?"w-full":"w-fit xl:!p-5 border border-white md:border-none !rounded-none md:!rounded-primary",(t=r.post)==null?void 0:t.colorTertiary,((i=r.post)==null?void 0:i.opacityTertiary)||"bg-opacity-50"]),style:oe({maxHeight:f.value,maxWidth:p.value})},{default:I(()=>[r.thumb?(a(),y("div",{key:0,class:"h-[20vh] inset-0 rounded-primary",style:oe({backgroundImage:`url(${r.coverImageUrl})`,backgroundSize:"cover"})},null,4)):(a(),$(He,{key:1,src:r.coverImageUrl,"image-class":"cover-image md:rounded-primary"},null,8,["src"]))]),_:1},8,["class","style"])],2)}}}),dt={class:"flex flex-wrap justify-end h-fit gap-3"},ie=R({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(o){return(e,s)=>(a(),y("div",dt,[P(W,{class:"min-w-80",label:"Edit",onClick:s[0]||(s[0]=m=>e.$emit("editClicked"))}),P(W,{class:"min-w-80",type:"danger",outlined:"",label:"Delete",onClick:s[1]||(s[1]=m=>e.$emit("deleteClicked"))})]))}}),re=R({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean},isSubTitle:{type:Boolean}},emits:["click"],setup(o){const e=o;return(s,m)=>(a(),y("div",{class:S(["font-bold",{"text-lg md:text-2xl":!s.isSubTitle},{"hover:underline cursor-pointer":s.isExpandable},e.class])},[C("div",{class:S({block:!s.alignment,flex:!!s.alignment,"justify-start":s.alignment==="left","justify-center":s.alignment==="center","justify-end":s.alignment==="right"})},[C("span",{class:"flex",onClick:m[0]||(m[0]=v=>s.$emit("click"))},[s.isExpandable&&s.alignment==="right"?(a(),y("i",{key:0,class:S(["pi pi-angle-down animation",{"rotate-180":s.isExpanded}])},null,2)):b("",!0),Q(s.$slots,"default"),s.isExpandable&&(s.alignment==="left"||s.alignment==="center")?(a(),y("i",{key:1,class:S(["pi pi-angle-down animation",{"rotate-180":s.isExpanded}])},null,2)):b("",!0)])],2)],2))}}),ct={class:"table-auto min-w-full text-left"},mt={key:0,class:"border border-white"},pt=["onClick","innerHTML"],ue=R({__name:"BlogPostTable",props:{tableData:{},alignment:{}},setup(o){const e=o,s=x(0),m=x("asc"),v=d(()=>Se(e.tableData)),g=x(v.value.slice(1)),u=(l,f)=>{l===0&&(s.value=f,T(),w())},T=()=>{m.value==="asc"?m.value="desc":m.value="asc"},w=()=>{const l=s.value;g.value=g.value.sort((f,p)=>m.value==="asc"?p[l].localeCompare(f[l]):f[l].localeCompare(p[l]))},k=l=>{const f=/(https?:\/\/[^\s]+)/g;return l.replace(f,p=>{let r=p.replace("http://","").replace("https://","").replace("www.","");return r.length>15&&(r=r.substring(0,15)+"..."),`<a href="${p}" target="_blank">${r}</a>`})};return(l,f)=>(a(),y("div",{class:S(["my-8 flex max-w-[65vw] md:max-w-[50vw] lg:max-w-[60vw] overflow-x-auto",{"justify-start":l.alignment==="left","justify-center":l.alignment==="center"||!l.alignment,"justify-end":l.alignment==="right"}])},[C("table",ct,[C("tbody",null,[(a(!0),y(D,null,H([v.value[0],...g.value],(p,r)=>(a(),y(D,{key:r},[p.every(B=>!B)?b("",!0):(a(),y("tr",mt,[(a(!0),y(D,null,H(p,(B,t)=>(a(),y(D,{key:t},[t!==0||!v.value.every(i=>!i.length||!i[0])?(a(),y("td",{key:0,class:S(["px-2 border border-white",{"font-bold":r===0||t===0},{"cursor-pointer underline":r===0},{"text-left":l.alignment==="left"||!l.alignment,"text-center":l.alignment==="center","text-right":l.alignment==="right"}]),onClick:i=>u(r,t),innerHTML:k(B)},null,10,pt)):b("",!0)],64))),128))]))],64))),128))])])],2))}}),gt={class:"flex gap-3"},vt={class:"flex justify-between h-fit mt-2 gap-2"},ft={class:"flex flex-wrap gap-3"},bt={class:"w-full"},yt={class:"w-full"},Bt=R({__name:"BlogPost",props:{post:{},withoutMutation:{type:Boolean}},emits:["editClicked","deleteClicked"],setup(o){const e=o,s=Pe(),m=me(),v=F(),{publicUsers:g}=U(m),{firebaseUser:u,isOwner:T}=U(v);s.currentRoute.value.name!==Z.BLOG&&Je(e.post);const w=x(e.post.archived),k=d(()=>{var t;return(t=e.post.allowedUserIds)!=null&&t.length?g.value.filter(i=>{var c;return(c=e.post.allowedUserIds)==null?void 0:c.includes(i.id)}):[]}),l=d(()=>{const t=G(new Date(e.post.date)),i=e.post.dateUpdated?G(new Date(e.post.dateUpdated)):"";return t+` - updated ${i}`}),f=d(()=>{const t=[];return e.post.datePinned&&t.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&t.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&t.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),t}),p=d(()=>e.post.sections.map(t=>({...t,isExpandable:r(t)}))),r=t=>!!t.description||!!t.coverImageUrl||!!t.bullets.length||!!t.table,B=()=>{const t=document.createElement("textarea"),{protocol:i,hostname:c,port:n}=window.location,E=`${i}//${c}`+(c==="localhost"?`:${n}`:"");t.value=`${E}#${xe.BLOG.path}/${e.post.id}`,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),De.success("Copied link!")};return(t,i)=>(a(),$(V,{id:t.post.id,class:S([{"min-h-[90vh]":!w.value},"border-4 border-transparent","!rounded-primary",t.post.colorSecondary||t.post.colorPrimary||"bg-secondary-900",t.post.opacitySecondary||"bg-opacity-50"]),title:t.post.title,subTitle:l.value,tags:f.value,loading:t.post.loading,isCollapsed:w.value,clickable:"",onClick:i[4]||(i[4]=c=>w.value=!w.value)},{right:I(()=>[C("div",gt,[w.value?h(T)&&!t.withoutMutation?(a(),$(ie,{key:1,onEditClicked:i[0]||(i[0]=c=>t.$emit("editClicked")),onDeleteClicked:i[1]||(i[1]=c=>t.$emit("deleteClicked"))})):b("",!0):(a(),$(W,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:B}))])]),default:I(()=>{var c;return[C("div",vt,[C("div",ft,[(a(!0),y(D,null,H(k.value,n=>{var E;return a(),$(h(pe),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:n.id===((E=h(u))==null?void 0:E.uid)?"You":n.displayName,rounded:""},null,8,["label"])}),256))]),h(T)&&!t.withoutMutation?(a(),y("div",{key:0,class:S(["flex justify-end ms-5",(c=t.post.allowedUserIds)!=null&&c.length?"flex-col md:flex-row":"flex-row"])},[P(ie,{onEditClicked:i[2]||(i[2]=n=>t.$emit("editClicked")),onDeleteClicked:i[3]||(i[3]=n=>t.$emit("deleteClicked"))})],2)):b("",!0)]),P(V,{class:S(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",t.post.colorPrimary,t.post.opacityPrimary||"bg-opacity-50"])},{default:I(()=>[C("div",{class:S(["flex relative",t.post.countdown||t.post.alignment==="center"?"flex justify-between":""])},[C("div",bt,[t.post.countdown?(a(),$(j,{key:0,time:new Date(t.post.countdown).getTime(),direction:"down",alignment:t.post.alignment},null,8,["time","alignment"])):b("",!0),t.post.timer?(a(),$(j,{key:1,time:new Date(t.post.timer).getTime(),direction:"up",alignment:t.post.alignment},null,8,["time","alignment"])):b("",!0),t.post.description?(a(),$(Y,{key:2,description:t.post.description},null,8,["description"])):b("",!0)])],2),t.post.coverImageUrl?(a(),$(le,{key:0,post:t.post,"cover-image-url":t.post.coverImageUrl},null,8,["post","cover-image-url"])):b("",!0),t.post.descriptionFooter?(a(),$(Y,{key:1,class:"mb-5",description:t.post.descriptionFooter},null,8,["description"])):b("",!0),t.post.table?(a(),$(ue,{key:2,tableData:t.post.table,alignment:t.post.tableAlignment},null,8,["tableData","alignment"])):b("",!0),P(h(Ae),{onTabOpen:h(Ie)},{default:I(()=>[(a(!0),y(D,null,H(p.value,n=>(a(),$(h(je),{disabled:!n.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",n.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:{invisible:!n.isExpandable}}}},ce({header:I(()=>[C("div",yt,[n.title?(a(),$(re,{key:0,alignment:n.alignment},{default:I(()=>[M(O(n.title),1)]),_:2},1032,["alignment"])):b("",!0),n.subTitle?(a(),$(re,{key:1,alignment:n.alignment,"is-sub-title":""},{default:I(()=>[M(O(n.subTitle),1)]),_:2},1032,["alignment"])):b("",!0),n.isExpandable?b("",!0):(a(),y(D,{key:2},[n.countdown?(a(),$(j,{key:0,time:new Date(n.countdown).getTime(),direction:"down",alignment:n.alignment},null,8,["time","alignment"])):b("",!0),n.timer?(a(),$(j,{key:1,time:new Date(n.timer).getTime(),direction:"up",alignment:n.alignment},null,8,["time","alignment"])):b("",!0)],64))])]),default:I(()=>[n.description?(a(),$(Y,{key:0,description:n.description,alignment:n.alignment},null,8,["description","alignment"])):b("",!0),n.coverImageUrl?(a(),$(le,{key:1,post:t.post,"cover-image-url":n.coverImageUrl,alignment:n.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):b("",!0),P(it,{bullets:n.bullets,alignment:n.alignment},null,8,["bullets","alignment"]),n.isExpandable?(a(),y(D,{key:2},[n.countdown?(a(),$(j,{key:0,time:new Date(n.countdown).getTime(),direction:"down",alignment:n.alignment},null,8,["time","alignment"])):b("",!0),n.timer?(a(),$(j,{key:1,time:new Date(n.timer).getTime(),direction:"up",alignment:n.alignment},null,8,["time","alignment"])):b("",!0)],64)):b("",!0),n.table?(a(),$(ue,{key:3,tableData:n.table,alignment:n.tableAlignment},null,8,["tableData","alignment"])):b("",!0)]),_:2},[n.isExpandable?void 0:{name:"headericon",fn:I(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1},8,["onTabOpen"])]),_:1},8,["class"]),P(et,{post:t.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}});export{Bt as _,ie as a,le as b,j as c,Y as d,re as e,pe as s,Ct as u};
