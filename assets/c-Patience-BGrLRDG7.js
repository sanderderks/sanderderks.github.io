import{u as q,b as z,a as Z,_ as A}from"./c-Bubble.vue_vue_type_script_setup_true_lang-BKzNF-TX.js";import{l as t,m as p,a7 as le,q as l,e as J,s as K,c as h,t as m,E as _,av as Q,H as b,J as i,G as M,ag as ae,n as r,k as e,w as x,aU as U,h as re,r as Y,f as ne,aR as g,p as P,af as oe,a5 as ce}from"../bundle.js";import{b as W,C as u,c as f,D as n,_ as de,a as ie}from"./c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-CvGBIJb-.js";import{u as pe,H as ue}from"./c-useScoreInfo-Q9B7Ayww.js";import{_ as F}from"./c-_plugin-vue_export-helper-DlAUqK2U.js";import{S as X}from"./c-Spades-D2IXKTy-.js";import{D as ye}from"./c-vuedraggable.umd-CDu6AEqu.js";import{_ as fe}from"./c-SelectField.vue_vue_type_script_setup_true_lang-DIXoT02e.js";import"./c-SwitchField.vue_vue_type_script_setup_true_lang-E4RvhRYK.js";import"./c-validation-CO90d-7g.js";const me={},ke={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"100",height:"100"};function xe(T,a){return t(),p("svg",ke,a[0]||(a[0]=[le('<circle cx="50" cy="30" r="15" fill="black"></circle><circle cx="35" cy="50" r="15" fill="black"></circle><circle cx="65" cy="50" r="15" fill="black"></circle><rect x="45" y="50" width="10" height="30" fill="black"></rect><rect x="40" y="80" width="20" height="10" fill="black"></rect>',5)]))}const ee=F(me,[["render",xe]]),_e={},Se={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"100",height:"100"};function ge(T,a){return t(),p("svg",Se,a[0]||(a[0]=[l("polygon",{points:"50,10 80,50 50,90 20,50",fill:"red"},null,-1)]))}const te=F(_e,[["render",ge]]),ve={},Ee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"100",height:"100"};function we(T,a){return t(),p("svg",Ee,a[0]||(a[0]=[l("path",{d:"M50 70 Q20 50 20 30 Q20 10 40 10 Q50 10 50 20 Q50 10 60 10 Q80 10 80 30 Q80 50 50 70 Z",fill:"red"},null,-1)]))}const se=F(ve,[["render",we]]),he={key:0,class:"w-full h-full flex justify-center"},Ae={key:1,class:"relative w-full flex"},be={class:"relative flex text-xs md:text-md lg:text-lg font-bold"},Te=J({__name:"Card",props:{card:{},index:{}},emits:["select"],setup(T,{emit:a}){const o=T,$=a,c=q(z).greaterOrEqual("lg"),S=W(),{gameStatus:D,cards:N}=K(S),{isPlayDeck:I}=S,G=h(()=>{if(o.card.hidden)return"";switch(o.card.value){case 13:return"K";case 12:return"Q";case 11:return"J";case 1:return"A";default:return`${o.card.value}`}}),R=h(()=>o.card.hidden?"text-primary":o.card.color==="black"?"text-black":"text-red-500"),B=h(()=>o.index===N.value[o.card.deck].length-1),L=h(()=>D.value===f.HAS_STARTED&&(B.value||!o.card.hidden)),v=h(()=>I(o.card.deck)||c.value&&o.card.deck===n.STOCK_CLOSED),j=h(()=>I(o.card.deck)?20:10),H={[u.HEARTS]:se,[u.SPADES]:X,[u.DIAMONDS]:te,[u.CLUBS]:ee};return(k,y)=>(t(),m(Z,{class:M(["z-10 absolute h-[90px] w-[40px] xs:h-[100px] xs:w-[50px] sm:h-[110px] sm:w-[60px] lg:h-[120px] lg:w-[80px] !p-1 !pt-0 bg-opacity-100 !rounded-primary flex justify-center border border-white",[R.value,k.card.hidden?"bg-violet-950 border-1 !border-yellow-700":"bg-neutral-300",k.card.selected?"border-[3px] !border-red-600":"!border-black",{"draggable-card":L.value&&!k.card.hidden}]]),style:ae({top:v.value?`${j.value*k.index}px`:0}),"title-props":{class:"text-xl"},clickable:L.value,onClick:y[0]||(y[0]=V=>$("select"))},{fullControl:_(()=>[k.card.hidden?(t(),p("div",he,y[1]||(y[1]=[l("div",{class:"flex flex-col justify-center"},[l("p",{class:"mb-2 text-5xl text-yellow-300"},"?")],-1)]))):(t(),p("div",Ae,[l("div",be,[(t(),m(Q(H[k.card.type]),{class:"mt-[5px] sm:mt-[1px] h-[10px] w-[10px] sm:h-[20px] sm:w-[20px] md:h-[25px] md:w-[25px]"})),b(" "+i(G.value),1)]),(t(),m(Q(H[k.card.type]),{class:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[25px] sm:w-[35px] md:w-[50px]"}))]))]),_:1},8,["class","style","clickable"]))}}),Ce={class:"absolute h-[90px] w-[40px] xs:h-[100px] xs:w-[50px] sm:h-[110px] sm:w-[60px] lg:h-[120px] lg:w-[80px]"},De=J({__name:"CardDeck",props:{deckType:{},cardType:{}},setup(T){const a=T,$=q(z).greaterOrEqual("md"),C=W(),{cards:c}=K(C),{shuffle:S,selectCard:D,selectEmptyDeck:N,selectFinalDeck:I,deselectAllCards:G,isPlayDeck:R,isFinalDeck:B}=C,L={[u.HEARTS]:se,[u.SPADES]:X,[u.DIAMONDS]:te,[u.CLUBS]:ee},v=h(()=>c.value[a.deckType]),j=h(()=>!v.value.length&&!a.cardType),H=h(()=>j.value&&a.deckType!==n.STOCK_OPEN),k=()=>{H.value&&N(a.deckType)},y=()=>{G()},V=E=>{E.added&&(D(E.added.element),v.value.length?D(v.value[v.value.length-1]):R(a.deckType)?N(a.deckType):B(a.deckType)&&I(a.deckType))};return(E,O)=>(t(),p("div",{class:M(["relative h-[90px] w-[40px] xs:h-[100px] xs:w-[50px] sm:h-[110px] sm:w-[60px] lg:h-[120px] lg:w-[80px]",{"border border-neutral-500":v.value.length===0,"cursor-pointer":H.value}]),onClick:k},[r(e(ye),{list:[...v.value],itemKey:s=>`${s.type}.s${s.value}`,group:"patience",draggable:".draggable-card",delay:e($)?0:100,onStart:y,onChange:V,onEnd:y},{item:_(({element:s,index:w})=>[r(Te,{card:s,index:w,onSelect:We=>e(D)(s)},null,8,["card","index","onSelect"])]),header:_(()=>[l("div",Ce,[E.cardType?(t(),m(Q(L[E.cardType]),{key:0,class:"absolute left-1/2 transform -translate-x-1/2 w-[50px] cursor-pointer",onClick:O[0]||(O[0]=s=>e(I)(E.deckType))})):E.deckType===e(n).STOCK_CLOSED?(t(),p("div",{key:1,class:"w-full h-full flex justify-center",onClick:O[1]||(O[1]=(...s)=>e(S)&&e(S)(...s))},O[2]||(O[2]=[l("div",{class:"flex flex-col justify-center"},[l("p",{class:"text-neutral-300 text-xs md:text-md lg:text-lg mb-2"},"Shuffle")],-1)]))):x("",!0)])]),_:1},8,["list","itemKey","delay"])],2))}}),d=F(De,[["__scopeId","data-v-1f64f67d"]]),Ie={class:"flex justify-center"},He={key:0,class:"w-full flex flex-wrap gap-3 justify-center"},Oe={class:"w-full mb-5 text-pink-300"},Pe={class:"mb-3 text-xl text-center"},$e={class:"ms-3"},Ne={class:"text-red-400"},Re={class:"text-orange-400"},Le={class:"text-yellow-400"},Ge={class:"text-green-400 font-bold"},Be={key:1,class:"w-full flex flex-col gap-3"},je={class:"my-3"},Me={key:1},Ve={key:2,class:"w-full grid grid-cols-4 md:grid-cols-6 justify-items-center"},Ke={key:1,class:"mt-5 text-center text-xl md:text-3xl font-bold"},Fe={class:"text-purple-500"},Ue={key:0,class:"text-blue-500 font-bold"},Qe={key:1,class:"text-blue-500 font-bold"},qe={key:2,class:"text-blue-500 font-bold"},ze={class:"mt-5 flex flex-wrap gap-3 justify-center"},Je={key:0,class:"flex flex-wrap gap-3 mt-3 justify-center"},ot=J({__name:"Patience",setup(T){const a=q(z);a.greaterOrEqual("md");const o=a.greaterOrEqual("lg");ne();const $=W(),{difficulty:C,gameStatus:c,score:S,turns:D,formattedTime:N,personalBest:I}=K($),{currentHighscorePosition:G,hasImprovedHighscorePosition:R,hasImprovedPersonalBest:B}=pe(U.PATIENCE),{start:L,$reset:v,updatePatienceHighscore:j}=$,{firebaseUser:H}=K(re()),k=Y(!1),y=Y(!1),V=()=>{y.value=!1,L()},E=()=>{y.value=!1,v()};return(O,s)=>(t(),m(Z,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:e(P)("GAMES_GAME_PATIENCE_TITLE"),description:e(g)("Speel solo","Play solo.")},{right:_(()=>[r(A,{class:"border-none h-fit",type:"neutral",icon:"pi pi-cog",onClick:s[0]||(s[0]=w=>k.value=!0)})]),default:_(()=>[l("div",Ie,[e(c)===e(f).HAS_NOT_STARTED?(t(),p("div",He,[l("div",Oe,[l("p",Pe,i(e(g)("Welkom bij Patience!","Welcome to Patience!")),1),l("div",$e,[l("p",Ne,i(e(g)("1. Klik op een kaart om te selecteren.","1. Click a card to select it.")),1),l("p",Re,i(e(g)("2. Klik op een andere kaart om te verplaatsen.","2. Click another to move the selected card.")),1),l("p",Le,i(e(g)("3. Je kunt kaarten ook slepen.","3. You can also drag cards, but the animations are not yet perfect.")),1),l("p",Ge,i(e(g)("Veel plezier!","Enjoy!")),1)])]),r(fe,{class:"w-full md:w-1/2",name:"difficulty",label:e(P)("GAMES_DIFFICULTY"),modelValue:e(C),"onUpdate:modelValue":s[1]||(s[1]=w=>oe(C)?C.value=w:null),options:[{label:e(g)("Simpel","Easy"),value:"easy"},{label:e(g)("Moeilijk","Hard"),value:"hard"}]},null,8,["label","modelValue","options"]),r(A,{class:"w-full md:w-1/2",onClick:V},{default:_(()=>s[7]||(s[7]=[b(" Start ")])),_:1})])):x("",!0),e(c)===e(f).HAS_STARTED?(t(),p("div",Be,[l("div",je,[l("p",null,i(e(g)("Tijd","Time"))+": "+i(e(N)),1),l("p",null,i(e(g)("Zetten","Turns"))+": "+i(e(D)),1),l("p",null,"Score: "+i(e(S)),1)]),l("div",{class:M(["w-full grid gap-1 justify-items-center",e(o)?"grid-cols-8":"grid-cols-7"])},[e(o)?x("",!0):(t(),m(d,{key:0,"deck-type":e(n).STOCK_CLOSED},null,8,["deck-type"])),r(d,{"deck-type":e(n).STOCK_OPEN},null,8,["deck-type"]),s[8]||(s[8]=l("div",null,null,-1)),e(o)?(t(),p("div",Me)):x("",!0),r(d,{"deck-type":e(n).HEARTS,"card-type":e(u).HEARTS},null,8,["deck-type","card-type"]),r(d,{"deck-type":e(n).SPADES,"card-type":e(u).SPADES},null,8,["deck-type","card-type"]),r(d,{"deck-type":e(n).DIAMONDS,"card-type":e(u).DIAMONDS},null,8,["deck-type","card-type"]),r(d,{"deck-type":e(n).CLUBS,"card-type":e(u).CLUBS},null,8,["deck-type","card-type"])],2),e(c)===e(f).HAS_STARTED?(t(),p("div",{key:0,class:M(["w-full grid gap-1 justify-items-center",e(o)?"grid-cols-8":"grid-cols-7"])},[e(o)?(t(),m(d,{key:0,"deck-type":e(n).STOCK_CLOSED},null,8,["deck-type"])):x("",!0),r(d,{"deck-type":e(n).PILE1},null,8,["deck-type"]),r(d,{"deck-type":e(n).PILE2},null,8,["deck-type"]),r(d,{"deck-type":e(n).PILE3},null,8,["deck-type"]),r(d,{"deck-type":e(n).PILE4},null,8,["deck-type"]),r(d,{"deck-type":e(n).PILE5},null,8,["deck-type"]),r(d,{"deck-type":e(n).PILE6},null,8,["deck-type"]),r(d,{"deck-type":e(n).PILE7},null,8,["deck-type"])],2)):x("",!0)])):e(c)===e(f).HAS_FINISHED?(t(),p("div",Ve,[r(d,{class:"md:col-start-2","deck-type":e(n).HEARTS,"card-type":e(u).HEARTS},null,8,["deck-type","card-type"]),r(d,{"deck-type":e(n).SPADES,"card-type":e(u).SPADES},null,8,["deck-type","card-type"]),r(d,{"deck-type":e(n).DIAMONDS,"card-type":e(u).DIAMONDS},null,8,["deck-type","card-type"]),r(d,{"deck-type":e(n).CLUBS,"card-type":e(u).CLUBS},null,8,["deck-type","card-type"])])):x("",!0)]),y.value?(t(),m(ue,{key:0,"game-id":e(U).PATIENCE,unit:"point"},null,8,["game-id"])):e(c)===e(f).HAS_FINISHED?(t(),p("div",Ke,[l("p",Fe,i(e(g)(`Je hebt gewonnen met ${e(S)} punten!`,`You won with ${e(S)} points!`)),1),e(R)&&e(G)===1?(t(),p("p",Ue," HIGHSCORE! ")):e(R)?(t(),p("p",Qe," LEADERBOARD IMPROVEMENT! ")):e(B)?(t(),p("p",qe," PERSONAL BEST! ")):x("",!0)])):x("",!0),l("div",{class:M(["flex flex-col",{"h-[50vh] justify-end":e(c)===e(f).HAS_STARTED}])},[l("div",ze,[e(c)!==e(f).HAS_NOT_STARTED&&e(c)!==e(f).HAS_FINISHED?(t(),m(A,{key:0,class:"w-full md:w-1/2",type:"neutral",onClick:E},{default:_(()=>s[9]||(s[9]=[b(" Restart ")])),_:1})):e(c)===e(f).HAS_FINISHED?(t(),m(A,{key:1,class:"w-full md:w-1/2",type:"secondary",onClick:E},{default:_(()=>[b(i(e(P)("GAMES_PLAY_AGAIN")),1)]),_:1})):x("",!0),!y.value&&(e(c)===e(f).HAS_NOT_STARTED||e(c)===e(f).HAS_FINISHED)?(t(),m(A,{key:2,class:"w-full md:w-1/2",type:"neutral",onClick:s[2]||(s[2]=w=>y.value=!0)},{default:_(()=>[b(i(e(P)("GAMES_VIEW_HIGHSCORES")),1)]),_:1})):e(c)===e(f).HAS_NOT_STARTED?(t(),m(A,{key:3,class:"w-full md:w-1/2",type:"neutral",onClick:s[3]||(s[3]=w=>y.value=!1)},{default:_(()=>[b(i(e(P)("GENERAL_GO_BACK")),1)]),_:1})):e(c)===e(f).HAS_FINISHED?(t(),m(A,{key:4,class:"w-full md:w-1/2",type:"neutral",onClick:s[4]||(s[4]=w=>y.value=!1)},{default:_(()=>[b(i(e(P)("GAMES_VIEW_SCORE")),1)]),_:1})):x("",!0)]),e(c)===e(f).HAS_FINISHED?(t(),p("div",Je,[e(H)?e(S)&&e(I)<e(S)?(t(),m(A,{key:1,class:"w-full md:w-1/2",type:"primary",onClick:s[5]||(s[5]=w=>e(j)())},{default:_(()=>[b(i(e(P)("GAMES_LEADERBOARD_ADD")),1)]),_:1})):x("",!0):(t(),m(de,{key:0,action:{nl:"om je score toe te voegen aan het scorebord.",en:"to add your score to the leaderboard."},redirect:e(ce).GAMES_PATIENCE},null,8,["redirect"]))])):x("",!0)],2),r(ie,{"game-id":e(U).PATIENCE,"is-open":k.value,"onUpdate:isOpen":s[6]||(s[6]=w=>k.value=w)},null,8,["game-id","is-open"])]),_:1},8,["title","description"]))}});export{ot as default};
