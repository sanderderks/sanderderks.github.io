import{_ as y,a as M}from"./c-Bubble.vue_vue_type_script_setup_true_lang-BSEDXuxp.js";import{_ as Y}from"./c-Page.vue_vue_type_script_setup_true_lang-LCEPLqyA.js";import{e as H,h as z,at as J,g as K,s as x,r as C,c as v,q as D,D as B,u as U,f as Q,l as a,p as t,n as d,k as u,R as _,m as s,H as o,C as O,t as n,au as X,av as Z,w as S}from"../bundle.js";import{_ as ee}from"./c-PetDialog.vue_vue_type_script_setup_true_lang-CQt2E6_k.js";import{a as te}from"./c-SwitchField.vue_vue_type_script_setup_true_lang-DbYvCOiw.js";import{_ as le}from"./c-Countdown.vue_vue_type_script_setup_true_lang-ByxvPJhx.js";import{u as ae}from"./c-useCatCalc-DCUyBLH-.js";import{_ as se}from"./c-_plugin-vue_export-helper-DlAUqK2U.js";import"./c-DateField.vue_vue_type_script_setup_true_lang-DmSg3HvC.js";import"./c-FileUpload.vue_vue_type_script_setup_true_lang-BHTT2jpi.js";import"./c-TextField.vue_vue_type_script_setup_true_lang-Buqu1h6v.js";import"./c-validation-DokkLKHB.js";import"./c-SelectField.vue_vue_type_script_setup_true_lang-4iDIQG91.js";import"./c-accordiontab.esm-1sAn2CS4.js";const re={class:"grid grid-cols-6 mb-5 gap-5"},oe={class:"my-5"},ne={class:"table-auto text-left"},ue={key:0},ie={key:1},de={key:2},pe={key:3},me={key:4},fe={key:5},ve={key:6},ce={key:7},we={class:"my-5"},ge={key:0,class:"flex flex-wrap md:flex-nowrap gap-3 justify-around my-5 md:mb-0"},ye={class:"ps-5 md:ps-10 flex flex-col gap-3"},xe={class:"flex flex-wrap sm:flex-nowrap gap-1 sm:gap-3 justify-around"},_e={class:"w-full sm:w-1/2 md:w-2/3 text-neutral-300"},be={class:"flex flex-wrap sm:flex-nowrap gap-1 sm:gap-3 justify-around"},ke={class:"w-full sm:w-1/2 md:w-2/3 text-neutral-300 sm:place-self-end"},he={class:"flex flex-wrap sm:flex-nowrap gap-1 sm:gap-3 justify-around"},Ce={class:"w-full sm:w-1/2 md:w-2/3 text-neutral-300 sm:place-self-end"},De={key:1,class:"w-full text-neutral-300"},Be={class:"mt-10 flex gap-3"},Oe=H({__name:"Pet",setup(Se){var k,h;const T=U(),E=Q(),$=z(),b=J(),P=K(),{pets:R}=x(b),{routeLoading:I}=x(P),{isOwner:V,firebaseUser:A}=x($),{deletePet:N}=b,c=C(!1),w=C(!1),j=v(()=>T.params.petId),l=v(()=>R.value.find(r=>r.id===j.value)),q=v(()=>{var r,e;return((r=l.value)==null?void 0:r.userId)===((e=A.value)==null?void 0:e.uid)||V.value}),g=v(()=>{var p,m;if(((p=l.value)==null?void 0:p.type)!=="cat"||!((m=l.value)!=null&&m.dateOfBirth))return null;const e=(new Date().getTime()-new Date(l.value.dateOfBirth).getTime())/(1e3*60*60*24*365.25);switch(!0){case e<1:return{value:"kitten",label:"Kitten (0-12 months)"};case(e>=1&&e<3):return{value:"junior",label:"Junior (1-2 years)"};case(e>=3&&e<7):return{value:"adult",label:"Adult (3-6 years)"};case(e>=7&&e<11):return{value:"mature",label:"Mature (7-10 years)"};case(e>=11&&e<15):return{value:"senior",label:"Senior (11-14 years)"};case e>=15:return{value:"geriatric",label:"Geriatric (15+ years)"};default:return null}}),F=v(()=>{var r,e;switch((r=g.value)==null?void 0:r.value){case"kitten":return new Date(l.value.dateOfBirth).getTime()<new Date().getTime()-1e3*60*60*24*(30*4)?"kitten0.4":"kitten1";default:return(e=l.value)!=null&&e.castrated?"castrated":"default"}}),{requiredCaloriesByWeightAndAgeAndSize:W,requiredFoodDry:L}=ae("average",((k=l.value)==null?void 0:k.weight)??"",F.value,((h=l.value)==null?void 0:h.gender)??"male","35","default"),G=async r=>{await N(r),E.push({name:_.PET_OVERVIEW})};return(r,e)=>(a(),D(Y,null,{content:B(()=>[t("div",re,[d(y,{class:"col-span-full md:col-span-4 lg:col-span-2",type:"tertiary",route:u(_).PET_OVERVIEW,loading:u(I)===u(_).PET_OVERVIEW,label:"Back to all pets",icon:"pi pi-arrow-up-left"},null,8,["route","loading"])]),l.value?(a(),D(M,{key:0,class:"!bg-primary-500 !bg-opacity-35 my-5",title:l.value.name,"title-props":{class:"text-3xl ms-5 md:text-5xl"},avatar:l.value.avatar??void 0,"avatar-props":{class:"h-20 w-20 md:h-32 md:w-32"}},{default:B(()=>{var p,m;return[t("div",oe,[t("table",ne,[t("tbody",null,[e[13]||(e[13]=t("tr",{class:"thead"},[t("th",{class:"text-xl"},"Details")],-1)),l.value.dateOfBirth?(a(),s("tr",ue,[e[5]||(e[5]=t("th",null,"Date of birth:",-1)),t("td",null,o(u(O)(l.value.dateOfBirth)),1)])):n("",!0),l.value.gender?(a(),s("tr",ie,[e[6]||(e[6]=t("th",null,"Gender:",-1)),t("td",null,o((p=u(X).find(({value:i})=>{var f;return i===((f=l.value)==null?void 0:f.gender)}))==null?void 0:p.label),1)])):n("",!0),l.value.type?(a(),s("tr",de,[e[7]||(e[7]=t("th",null,"Type:",-1)),t("td",null,o((m=u(Z).find(({value:i})=>{var f;return i===((f=l.value)==null?void 0:f.type)}))==null?void 0:m.label),1)])):n("",!0),l.value.breed?(a(),s("tr",pe,[e[8]||(e[8]=t("th",null,"Breed:",-1)),t("td",null,o(l.value.breed),1)])):n("",!0),e[14]||(e[14]=t("tr",{class:"thead"},[t("th",{class:"text-xl"},"Health")],-1)),l.value.weight?(a(),s("tr",me,[e[9]||(e[9]=t("th",null,"Weight:",-1)),t("td",null,o(l.value.weight)+"kg",1)])):n("",!0),typeof l.value.insideCat=="boolean"?(a(),s("tr",fe,[e[10]||(e[10]=t("th",null,"Inside Cat:",-1)),t("td",null,o(l.value.insideCat?"Yes":"No"),1)])):n("",!0),l.value.castrated!==void 0?(a(),s("tr",ve,[e[11]||(e[11]=t("th",null,"Castrated:",-1)),t("td",null,o(l.value.castrated?"Yes":"No"),1)])):n("",!0),l.value.dewormingDate?(a(),s("tr",ce,[e[12]||(e[12]=t("th",null,"Last deworming:",-1)),t("td",null,o(u(O)(l.value.dewormingDate)),1)])):n("",!0)])])]),t("div",we,[l.value.dateOfBirth?(a(),s("div",ge,[d(le,{class:"w-full md:w-3/4 text-neutral-300 bg-neutral-900 rounded-secondary",time:new Date(l.value.dateOfBirth).getTime(),direction:"up"},null,8,["time"])])):n("",!0),e[19]||(e[19]=t("p",{class:"mt-5 text-xl font-bold"},"Statistics",-1)),t("div",ye,[g.value?(a(),s(S,{key:0},[t("div",xe,[e[15]||(e[15]=t("p",{class:"w-full sm:w-1/2 md:w-1/3 font-bold"},"Life stage:",-1)),t("p",_e,o(g.value.label),1)]),t("div",be,[e[16]||(e[16]=t("p",{class:"w-full sm:w-1/2 md:w-1/3 font-bold"},"Required energy per day:",-1)),t("p",ke,o(u(W).toFixed(1))+" kcal ",1)]),t("div",he,[e[17]||(e[17]=t("p",{class:"w-full sm:w-1/2 md:w-1/3 font-bold"},"Required dry food per day:",-1)),t("p",Ce,o(u(L).toFixed(1))+" g ",1)]),e[18]||(e[18]=t("div",{class:"flex flex-wrap sm:flex-nowrap gap-1 sm:gap-3 justify-around"},[t("p",{class:"w-full sm:w-1/2 md:w-1/3 font-bold"},"Next deworming:"),t("p",{class:"w-full sm:w-1/2 md:w-2/3 text-neutral-300 sm:place-self-end"},"To be calculated")],-1))],64)):(a(),s("p",De," Nothing to show yet. "))])]),q.value?(a(),s(S,{key:0},[t("div",Be,[d(y,{label:"Edit",outlined:"",onClick:e[0]||(e[0]=i=>c.value=!0)}),d(y,{label:"Delete",type:"danger",outlined:"",onClick:e[1]||(e[1]=i=>w.value=!0)})]),d(ee,{"is-open":c.value,"original-pet":l.value??null,onClose:e[2]||(e[2]=i=>c.value=!1)},null,8,["is-open","original-pet"]),d(te,{"is-open":w.value,title:"Delete Pet",description:"Are you sure you want to delete your pet?","confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:e[3]||(e[3]=i=>G(l.value.id)),onCancel:e[4]||(e[4]=i=>w.value=!1)},null,8,["is-open"])],64)):n("",!0)]}),_:1},8,["title","avatar"])):n("",!0)]),_:1}))}}),Ge=se(Oe,[["__scopeId","data-v-b1560124"]]);export{Ge as default};
