import{e as U,j as L,x as N,k as h,N as J,a as f,o as s,d as a,I as k,p as e,q as l,_ as p,A as d,H as v,aQ as G,l as W,ay as ee,b as _,v as B,C as z,f as te,h as se,t as r,Q as ae,z as j,a9 as le,R as oe}from"../bundle.js";import{u as D,s as re,S as n,_ as ue}from"./c-Dice.vue_vue_type_script_setup_true_lang-DBDQgVfv.js";import{u as ne,H as ie}from"./c-useScoreInfo-DXB_FYUa.js";import{_ as de}from"./c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-JVW0N054.js";import{_ as M}from"./c-_plugin-vue_export-helper-DlAUqK2U.js";import"./c-Dice6.vue_vue_type_script_setup_true_lang-CyLZ07gq.js";import"./c-Dialog.vue_vue_type_script_setup_true_lang-gllcCUGl.js";const ve={class:"h-12 md:h-auto"},fe={class:"w-1/2 md:w-1/3"},ce={key:0},we={key:1,class:"!ps-1 md:ps-1"},me={key:2},pe=U({__name:"ScoreCell",props:{row:{},hasValue:{type:[Number,Boolean]}},setup(Y){const x=Y,g=D(),{reroll:T}=L(g),{selectScore:w,getScore:m,getActualValue:E}=g,u=N(!1),$=re[x.row],A=h(()=>m(x.row)),y=h(()=>E(x.row,x.hasValue)),H=h(()=>y.value===!1?"X":y.value);return J(()=>y.value,()=>{u.value=!0,setTimeout(()=>{u.value=!1})}),(b,O)=>(s(),f("tr",ve,[a("th",fe,k(e($).title),1),A.value?(s(),f("td",ce,k(A.value.value===!1?"X":A.value.value),1)):e(T)>=0&&!u.value?(s(),f("td",we,[l(p,{variant:y.value===!1||y.value===0?"neutral":void 0,onClick:O[0]||(O[0]=C=>e(w)(b.row,y.value))},{default:d(()=>[v(k(H.value),1)]),_:1},8,["variant"])])):(s(),f("td",me))]))}}),i=M(pe,[["__scopeId","data-v-5c08056e"]]),he={key:0,class:"h-12 md:h-auto text-red-500"},_e={class:"h-12 md:h-auto text-pink-500"},ye={key:0,class:"text-purple-500 font-bold"},Se={key:1,class:"text-red-500 font-bold"},ke={key:2,class:"text-green-500 font-bold"},xe=U({__name:"Scoreboard",setup(Y){const x=D(),{bonus:g,hasStarted:T,hasFinished:w,hasOfValue:m,hasThreeOfAKind:E,hasFourOfAKind:u,hasFullHouse:$,hasSmallStraight:A,hasLargeStraight:y,hasYahtzee:H,diceTotal:b,scoreTotalOf:O,finalScore:C}=L(x),{currentHighscorePosition:R,hasImprovedHighscorePosition:c,hasImprovedPersonalBest:F}=ne(G.YAHTZEE),I=N(),V=N(!1),t=h(()=>m.value(1)),o=h(()=>m.value(2)),Z=h(()=>m.value(3)),K=h(()=>m.value(4)),X=h(()=>m.value(5)),Q=h(()=>m.value(6)),P=h(()=>O.value("top")),q=h(()=>O.value("bottom"));return W(()=>{I.value=setInterval(()=>{V.value=!V.value},500)}),ee(()=>{clearInterval(I.value)}),(be,S)=>(s(),f("table",{class:B(["w-full mt-5 text-sm md:text-base text-left",e(w)?"text-neutral-500":"text-white",e(T)?void 0:V.value?"even":"odd"])},[a("tbody",null,[l(i,{row:e(n).ONES,"has-value":t.value},null,8,["row","has-value"]),l(i,{row:e(n).TWOS,"has-value":o.value},null,8,["row","has-value"]),l(i,{row:e(n).THREES,"has-value":Z.value},null,8,["row","has-value"]),l(i,{row:e(n).FOURS,"has-value":K.value},null,8,["row","has-value"]),l(i,{row:e(n).FIVES,"has-value":X.value},null,8,["row","has-value"]),l(i,{row:e(n).SIXES,"has-value":Q.value},null,8,["row","has-value"]),a("tr",{class:B(["h-12 md:h-auto",e(w)?"text-white":"text-neutral-500"])},[S[0]||(S[0]=a("th",null,"TOP",-1)),a("td",null,k(e(T)?P.value:""),1)],2),a("tr",{class:B(["h-12 md:h-auto",e(w)?P.value>=63?"text-yellow-500":"text-white":"text-neutral-500"])},[S[1]||(S[1]=a("th",null,"BONUS",-1)),a("td",null,k(P.value>=63?35:e(w)?"X":""),1)],2),l(i,{row:e(n).THREE_OF_A_KIND,"has-value":e(E)},null,8,["row","has-value"]),l(i,{row:e(n).FOUR_OF_A_KIND,"has-value":e(u)},null,8,["row","has-value"]),l(i,{row:e(n).FULL_HOUSE,"has-value":e($)},null,8,["row","has-value"]),l(i,{row:e(n).SMALL_STRAIGHT,"has-value":e(A)},null,8,["row","has-value"]),l(i,{row:e(n).LARGE_STRAIGHT,"has-value":e(y)},null,8,["row","has-value"]),l(i,{row:e(n).YAHTZEE,"has-value":e(H)},null,8,["row","has-value"]),l(i,{row:e(n).CHANCE,"has-value":e(b)},null,8,["row","has-value"]),a("tr",{class:B(["h-12 md:h-auto",e(w)?"text-white":"text-neutral-500"])},[S[2]||(S[2]=a("th",null,"BOTTOM",-1)),a("td",null,k(e(T)?q.value:""),1)],2),e(w)&&e(C)?(s(),f(z,{key:0},[e(g)?(s(),f("tr",he,[S[3]||(S[3]=a("th",null,"YAHTZEE BONUS",-1)),a("td",null,k(e(g)),1)])):_("",!0),a("tr",_e,[S[4]||(S[4]=a("th",null,"TOTAL",-1)),a("td",null,[v(k(e(C))+" ",1),e(c)&&e(R)===1?(s(),f("span",ye," HIGHSCORE! ")):e(c)?(s(),f("span",Se," LEADERBOARD IMPROVEMENT! ")):e(F)?(s(),f("span",ke," PERSONAL BEST! ")):_("",!0)])])],64)):_("",!0)])],2))}}),ge=M(xe,[["__scopeId","data-v-1cc8c08e"]]),Ee={class:"flex flex-wrap justify-center gap-3"},Te={key:3,class:"w-full flex flex-col md:flex-row gap-3 justify-center"},Ae={class:"w-full md:w-1/2 flex justify-center gap-3"},Oe={class:"w-full md:w-1/2 flex justify-center gap-3"},$e={class:"mt-5 flex flex-col md:flex-row gap-3 justify-center"},He={key:2,class:"flex flex-wrap gap-3 mt-3 justify-center"},Ye=U({__name:"Yahtzee",setup(Y){const x=te(),g=D(),T=se(),{reroll:w,dices:m,hasStarted:E,hasFinished:u,finalScore:$,personalBest:A}=L(g),{firebaseUser:y}=L(T),{start:H,$reset:b,roll:O,updateYahtzeeHighscore:C}=g,R=N(!1),c=N(!1),F=()=>{c.value=!1,H()},I=()=>{c.value=!1,b()};return(V,t)=>(s(),r(j,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Yahtzee",description:"Play solo."},{right:d(()=>[l(p,{class:"border-none h-fit",variant:"neutral",icon:"pi pi-cog",onClick:t[0]||(t[0]=o=>R.value=!0)})]),default:d(()=>[a("div",Ee,[e(E)?_("",!0):(s(),r(p,{key:0,class:"w-full md:w-1/2",onClick:F},{default:d(()=>t[8]||(t[8]=[v(" Start ")])),_:1,__:[8]})),!e(E)&&!c.value?(s(),r(p,{key:1,class:"w-full md:w-1/2",variant:"neutral",onClick:t[1]||(t[1]=o=>c.value=!0)},{default:d(()=>t[9]||(t[9]=[v(" View Highscores ")])),_:1,__:[9]})):e(E)?e(u)?_("",!0):(s(),f("div",Te,[a("div",Ae,[!e(u)&&e(w)<2?(s(),r(p,{key:0,class:"w-full",variant:"tertiary",disabled:e(m).every(o=>o.selected),onClick:e(O)},{default:d(()=>[v(k(e(w)>=0?"Reroll":"Roll"),1)]),_:1},8,["disabled","onClick"])):_("",!0)]),a("div",Oe,[(s(!0),f(z,null,ae(e(m),o=>(s(),r(ue,{dice:o},null,8,["dice"]))),256))])])):(s(),r(p,{key:2,class:"w-full md:w-1/2",variant:"neutral",onClick:t[2]||(t[2]=o=>c.value=!1)},{default:d(()=>t[10]||(t[10]=[v(" Go Back ")])),_:1,__:[10]}))]),c.value?(s(),r(ie,{key:0,"game-id":e(G).YAHTZEE},null,8,["game-id"])):(s(),r(ge,{key:1})),a("div",$e,[e(E)&&!e(u)?(s(),r(p,{key:0,class:"w-full md:w-1/2",variant:"neutral",onClick:I},{default:d(()=>t[11]||(t[11]=[v(" Restart ")])),_:1,__:[11]})):_("",!0),e(u)?(s(),r(p,{key:1,class:"w-full md:w-1/2",variant:"secondary",onClick:I},{default:d(()=>t[12]||(t[12]=[v(" Play Again ")])),_:1,__:[12]})):_("",!0),e(u)&&!c.value?(s(),r(p,{key:2,class:"w-full md:w-1/2",variant:"neutral",onClick:t[3]||(t[3]=o=>c.value=!0)},{default:d(()=>t[13]||(t[13]=[v(" View Highscores ")])),_:1,__:[13]})):e(u)?(s(),r(p,{key:3,class:"w-full md:w-1/2",variant:"neutral",onClick:t[4]||(t[4]=o=>c.value=!1)},{default:d(()=>t[14]||(t[14]=[v(" View Your Score ")])),_:1,__:[14]})):_("",!0)]),e(u)?(s(),f("div",He,[e(y)?e($)&&e(A)<e($)?(s(),r(p,{key:1,class:"w-full md:w-1/2",variant:"primary",onClick:t[6]||(t[6]=o=>e(C)())},{default:d(()=>t[17]||(t[17]=[v(" Add To Leaderboard ")])),_:1,__:[17]})):_("",!0):(s(),r(j,{key:0,class:"w-full md:w-1/2 bg-primary-500 bg-opacity-50 !rounded-primary"},{default:d(()=>[t[15]||(t[15]=v(" Please ")),a("a",{class:"cursor-pointer",onClick:t[5]||(t[5]=o=>e(x).push({name:e(oe).LOGIN,params:{redirect:JSON.stringify({name:e(le).GAMES_YAHTZEE})}}))}," Login "),t[16]||(t[16]=v(" to add your score to the leaderboard. "))]),_:1,__:[15,16]}))])):_("",!0),l(de,{"game-id":e(G).YAHTZEE,"is-open":R.value,"onUpdate:isOpen":t[7]||(t[7]=o=>R.value=o)},null,8,["game-id","is-open"])]),_:1}))}});export{Ye as default};
