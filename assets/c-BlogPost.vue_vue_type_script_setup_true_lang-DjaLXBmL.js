import{M as S,aK as a,u as f,b9 as N,at as B,aS as P,q as r,co as J,cp as X,cq as _,cr as ee,cs as pe,aC as V,v as C,bi as h,I as x,H as E,t as v,bW as q,bU as U,ch as ge,ct as ve,cu as te,cv as ne,cw as j,aH as de,bV as F,s as w,A as ce,bH as D,c0 as z,bZ as Q,aQ as fe,c1 as ye,F as R,aV as M,bJ as be,bz as he,bM as we,cx as ke,b_ as $e,cy as Te,b$ as Ce,aW as G,ar as H,aZ as ae,av as oe,c7 as Be,bT as Ie,ca as xe,c2 as De,c3 as Pe}from"../bundle.js";import{_ as L,a as O,u as Re,b as Se}from"./c-Bubble.vue_vue_type_script_setup_true_lang-D5P5JaPh.js";import{_ as Ue}from"./c-TextField.vue_vue_type_script_setup_true_lang-IXzObKaR.js";import{R as Ee}from"./c-validation-Bf-E2UlI.js";import{_ as Me,a as He,s as Ae}from"./c-Image.vue_vue_type_script_setup_true_lang-CUaPQKtM.js";const K=S({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(s){return(t,o)=>(a(),f("span",{class:B({"animation ease-in animate-timer-up":t.animate&&t.direction==="up","animation ease-in animate-timer-down":t.animate&&t.direction==="down"})},N(t.time),3))}}),je=(s,t)=>{const o=P(0),u=W=>(t==="up"?W=Math.abs(W):W=Math.max(0,W),Math.floor(W)),g=r(()=>u(o.value/J)),p=r(()=>o.value%J),d=r(()=>u(p.value/X)),k=r(()=>p.value%X),y=r(()=>u(k.value/_)),$=r(()=>k.value%_),i=r(()=>u($.value/ee)),c=r(()=>$.value%ee),b=r(()=>u(c.value/pe)),e=r(()=>g.value===0&&d.value===0&&y.value===0&&i.value===0&&b.value===0),l=r(()=>g.value>0),m=r(()=>g.value>0||d.value>0||e.value),n=r(()=>g.value>0||d.value>0||y.value>0||e.value),T=r(()=>g.value>0||d.value>0||y.value>0||i.value>0||e.value),I=r(()=>g.value>0||d.value>0||y.value>0||i.value>0||b.value>0||e.value),Z=()=>{o.value=s-new Date().getTime(),setTimeout(Z,1e3)};return V(()=>{Z()}),{years:g,days:d,hours:y,minutes:i,seconds:b,showYears:l,showDays:m,showHours:n,showMinutes:T,showSeconds:I}},Le=(s,t,o,u,g,p,d)=>{const k=P(0),y=r(()=>t.value===0&&o.value===0&&u.value===0&&g.value===0&&p.value===0),$=r(()=>d==="down"?o.value===364:o.value===0),i=r(()=>d==="down"?u.value===23:u.value===0),c=r(()=>d==="down"?g.value===59:g.value===0),b=r(()=>d==="down"?p.value===59:p.value===0),e=r(()=>t.value>=0&&$.value&&i.value&&c.value&&b.value),l=r(()=>o.value>=0&&i.value&&c.value&&b.value),m=r(()=>u.value>=0&&c.value&&b.value),n=r(()=>g.value>=0&&b.value),T=r(()=>!y.value),I=()=>{k.value=s-new Date().getTime(),setTimeout(I,1e3)};return V(()=>{I()}),{animateYears:e,animateDays:l,animateHours:m,animateMinutes:n,animateSeconds:T}},We={class:"grid grid-flow-col text-center"},Ke={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Ne={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Oe={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Ve={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},qe={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Fe={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Ye={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},ze={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Ge={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},Qe={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},A=S({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(s){const t=s,{years:o,days:u,hours:g,minutes:p,seconds:d,showYears:k,showDays:y,showHours:$,showMinutes:i,showSeconds:c}=je(t.time,t.direction),{animateYears:b,animateDays:e,animateHours:l,animateMinutes:m,animateSeconds:n}=Le(t.time,o,u,g,p,d,t.direction);return(T,I)=>(a(),f("div",{class:B({block:!T.alignment,flex:!!T.alignment,"justify-start":T.alignment==="left","justify-center":T.alignment==="center","justify-end":T.alignment==="right"})},[C("div",We,[h(k)?(a(),f("div",Ke,[C("span",Ne,[x(K,{time:h(o),animate:h(b),direction:T.direction},null,8,["time","animate","direction"])]),I[0]||(I[0]=E(" years "))])):v("",!0),h(y)?(a(),f("div",Oe,[C("span",Ve,[x(K,{time:h(u),animate:h(e),direction:T.direction},null,8,["time","animate","direction"])]),I[1]||(I[1]=E(" days "))])):v("",!0),h($)?(a(),f("div",qe,[C("span",Fe,[x(K,{time:h(g),animate:h(l),direction:T.direction},null,8,["time","animate","direction"])]),I[2]||(I[2]=E(" hrs "))])):v("",!0),h(i)?(a(),f("div",Ye,[C("span",ze,[x(K,{time:h(p),animate:h(m),direction:T.direction},null,8,["time","animate","direction"])]),I[3]||(I[3]=E(" mins "))])):v("",!0),h(c)?(a(),f("div",Ge,[C("span",Qe,[x(K,{time:h(d),animate:h(n),direction:T.direction},null,8,["time","animate","direction"])]),I[4]||(I[4]=E(" secs "))])):v("",!0)])],2))}}),Ze=s=>{const t=q(),{collections:o,fetchBlogPost:u,checkBlogPostForUnreadReactions:g}=t,{blogPosts:p,blogReactions:d,isBlogPostDatabaseActionActive:k}=U(t);let y=[];const $=P(),i=c=>{c.metadata.hasPendingWrites||k.value||(clearTimeout($.value),$.value=setTimeout(async()=>{await u(s.id,void 0,{loadingIndicator:!1}),g(p.value.previousData.single,!0)},200))};V(async()=>{d.value.unread=d.value.unread.filter(T=>T.postId!==s.id);const c=ge(s),b=o.blogPosts(c.isPrivate),e=o.blogReactions(c.isPrivate),l=ve(b,s.id),m=te(b,ne("id","==",s.id)),n=te(e,ne("post","==",l));y.push(j(m,i)),y.push(j(n,i))}),de(()=>{clearTimeout($.value),y.forEach(c=>{c()})})},Tt=()=>{const s=q(),{collections:t,fetchBlogPosts:o,checkBlogPostsForUnreadReactions:u}=s,{visibleBlogPosts:g,blogReactions:p,isBlogPostDatabaseActionActive:d}=U(s),{firebaseUser:k}=U(F());let y=[];const $=P(),i=c=>{c.metadata.hasPendingWrites||d.value||(clearTimeout($.value),$.value=setTimeout(async()=>{var b;await o((b=k.value)==null?void 0:b.uid,{amount:g.value.length,loadingIndicator:!1}),u()},200))};V(()=>{p.value.unread=[],y.push(j(t.blogPosts(!1),i)),y.push(j(t.blogReactions(!1),i)),k.value&&(y.push(j(t.blogPosts(!0),i)),y.push(j(t.blogReactions(!0),i)))}),de(()=>{clearTimeout($.value),y.forEach(c=>{c()})})},Je={class:"flex flex-col gap-2"},se=S({__name:"BlogReaction",props:{post:{},reaction:{}},setup(s){const t=s,{publicUser:o,isOwner:u}=U(F()),g=q(),{deleteBlogReaction:p}=g,{blogReactions:d}=U(g),k=r(()=>d.value.unread.find(c=>c.id===t.reaction.id)),y=r(()=>{const c=[];return k.value&&c.push({value:"Unread",severity:"warning",rounded:!1}),c}),$=r(()=>o.value&&t.reaction.user.id===o.value.id||u.value),i=()=>{d.value.unread=d.value.unread.filter(c=>c.id!==t.reaction.id)};return(c,b)=>(a(),w(O,{id:t.reaction.id,class:B(["p-5 w-full md:w-3/4 xl:w-2/3",t.post.colorTertiary,t.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":k.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},title:t.reaction.user.displayName||"Unknown user",subTitle:h(z)(new Date(t.reaction.date)),avatar:t.reaction.user.avatar,avatarRoute:h(u)?{name:h(Q).USER_DETAILS,params:{userId:t.reaction.user.id}}:void 0,description:t.reaction.message,tags:y.value},ce({_:2},[$.value||k.value?{name:"right",fn:D(()=>[C("div",Je,[$.value&&!t.post.locked?(a(),w(L,{key:0,type:"danger",outlined:"",class:"h-fit",label:"Delete",onClick:b[0]||(b[0]=e=>h(p)(t.reaction.id,t.post))})):v("",!0),k.value?(a(),w(L,{key:1,type:"tertiary",outlined:"",class:"h-fit",label:"Mark as read",onClick:i})):v("",!0)])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","avatarRoute","description","tags"]))}}),Xe={class:"grid justify-items-center p-5 gap-5"},_e=S({__name:"BlogReactions",props:{post:{}},setup(s){const t=s,{publicUser:o}=U(F()),u=q(),{content:g}=U(u),{createBlogReaction:p}=u,d=P(),k=P(!1),y=fe({reaction:{value:"",error:""}}),$=r(()=>[...t.post.reactions].reverse()),i=r(()=>$.value.filter((l,m)=>m<3)),c=r(()=>$.value.filter((l,m)=>m>=3)),b=r(()=>t.post.locked||!o.value),e=async()=>{await d.value.test(),!y.reaction.error&&o.value&&await p(t.post,{userId:o.value.id,postId:t.post.id,message:y.reaction.value,date:new Date})&&(y.reaction.value=""),ke()};return(l,m)=>(a(),f("form",{action:"",onSubmit:we(e,["prevent"])},[C("div",Xe,[!h(o)||l.post.reactions.filter(n=>n.user.id===h(o).id).length<20?(a(),w(O,{key:0,class:B(["p-5 flex justify-center w-full md:w-3/4 xl:w-2/3","!rounded-primary",l.post.colorTertiary||"bg-secondary-700",l.post.opacityTertiary||"bg-opacity-25"])},{default:D(()=>[x(Ue,{class:"w-5/6",id:l.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",l.post.colorSecondary||l.post.colorPrimary||"bg-secondary-600",l.post.opacitySecondary||"!bg-opacity-20",b.value?"!bg-gray-900 !bg-opacity-50":"focus:!text-white focus:!placeholder-gray-200",{"cursor-pointer":!h(o)&&!l.post.locked}],disabled:b.value},ref_key:"reaction",ref:d,name:"reaction",placeholder:l.post.locked?"Locked for comments":h(o)?"Reply":h(g).blogLoginGuest,modelValue:y.reaction.value,"onUpdate:modelValue":m[0]||(m[0]=n=>y.reaction.value=n),error:y.reaction.error,"onUpdate:error":m[1]||(m[1]=n=>y.reaction.error=n),rules:[h(Ee).Required],onClick:m[2]||(m[2]=()=>!h(o)&&!l.post.locked?h(ye).push({name:h(Q).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):v("",!0),(a(!0),f(R,null,M(i.value,n=>(a(),w(se,{post:l.post,reaction:n},null,8,["post","reaction"]))),256)),(a(!0),f(R,null,M(c.value,n=>be((a(),w(se,{post:l.post,reaction:n},null,8,["post","reaction"])),[[he,k.value]])),256)),l.post.reactions.length>3?(a(),w(L,{key:1,type:"primary",outlined:"",icon:k.value?"pi pi-angle-up":"pi pi-angle-down",label:k.value?"Hide older reactions":"View older reactions",onClick:m[3]||(m[3]=n=>k.value=!k.value)},null,8,["icon","label"])):v("",!0)])],32))}});var et={root:function(t){var o=t.props;return["p-chip p-component",{"p-chip-image":o.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},tt=$e.extend({name:"chip",classes:et}),nt={name:"BaseChip",extends:Ce,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:tt,provide:function(){return{$parentInstance:this}}},me={name:"Chip",extends:nt,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(t){(t.key==="Enter"||t.key==="Backspace")&&this.close(t)},close:function(t){this.visible=!1,this.$emit("remove",t)}},components:{TimesCircleIcon:Te}},at=["aria-label"],ot=["src"];function st(s,t,o,u,g,p){return g.visible?(a(),f("div",H({key:0,class:s.cx("root"),"aria-label":s.label},s.ptmi("root")),[G(s.$slots,"default",{},function(){return[s.image?(a(),f("img",H({key:0,src:s.image},s.ptm("image")),null,16,ot)):s.$slots.icon?(a(),w(ae(s.$slots.icon),H({key:1,class:s.cx("icon")},s.ptm("icon")),null,16,["class"])):s.icon?(a(),f("span",H({key:2,class:[s.cx("icon"),s.icon]},s.ptm("icon")),null,16)):v("",!0),s.label?(a(),f("div",H({key:3,class:s.cx("label")},s.ptm("label")),N(s.label),17)):v("",!0)]}),s.removable?G(s.$slots,"removeicon",{key:0,onClick:p.close,onKeydown:p.onKeydown,removeCallback:p.close,keydownCallback:p.onKeydown},function(){return[(a(),w(ae(s.removeIcon?"span":"TimesCircleIcon"),H({tabindex:"0",class:[s.cx("removeIcon"),s.removeIcon],onClick:p.close,onKeydown:p.onKeydown},s.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):v("",!0)],16,at)):v("",!0)}me.render=st;const lt=S({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(s){return(t,o)=>(a(),f("div",null,[C("div",{class:B({block:!t.alignment,flex:!!t.alignment,"justify-start":t.alignment==="left","justify-center":t.alignment==="center","justify-end":t.alignment==="right"})},[C("ul",{class:B(["list-disc",{"ms-5":t.alignment==="left"}])},[(a(!0),f(R,null,M(t.bullets,u=>(a(),f("li",null,N(u),1))),256))],2)],2)]))}}),it={class:"ql-editor no-input"},rt=["innerHTML"],Y=S({__name:"BlogPostDescription",props:{description:{}},setup(s){return(t,o)=>(a(),f("div",it,[C("div",{innerHTML:t.description},null,8,rt)]))}}),le=S({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{},thumb:{type:Boolean}},setup(s){const t=s,o=Re(Se),u=o.greaterOrEqual("sm"),g=o.greaterOrEqual("md"),p=P(0),d=P(0),k=r(()=>p.value>d.value),y=r(()=>p.value>d.value*1.5),$=r(()=>d.value>p.value),i=r(()=>d.value>p.value*1.5),c=r(()=>g.value?"60%":u.value?"80%":t.maxHeight?t.maxHeight:k.value&&i.value?"80%":"100%"),b=r(()=>g.value?"60%":u.value?"80%":t.maxWidth?t.maxWidth:$.value&&y.value?"80%":"100%");return V(()=>{const e=new Image;e.src=t.coverImageUrl,e.onload=()=>{p.value=e.height,d.value=e.width}}),(e,l)=>{var m,n;return a(),f("div",{class:B({flex:!0,"justify-start":e.alignment==="left","justify-center":e.alignment===void 0||e.alignment==="center","justify-end":e.alignment==="right"})},[x(O,{class:B(["!p-0 md:!p-3 my-5",e.thumb?"w-full":"w-fit xl:!p-5 border border-white md:border-none !rounded-none md:!rounded-primary",(m=e.post)==null?void 0:m.colorTertiary,((n=e.post)==null?void 0:n.opacityTertiary)||"bg-opacity-50"]),style:oe({maxHeight:c.value,maxWidth:b.value})},{default:D(()=>[e.thumb?(a(),f("div",{key:0,class:"h-[20vh] inset-0 rounded-primary",style:oe({backgroundImage:`url(${e.coverImageUrl})`,backgroundSize:"cover"})},null,4)):(a(),w(Me,{key:1,src:e.coverImageUrl,"image-class":"cover-image md:rounded-primary"},null,8,["src"]))]),_:1},8,["class","style"])],2)}}}),ut={class:"flex flex-wrap justify-end h-fit gap-3"},ie=S({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(s){return(t,o)=>(a(),f("div",ut,[x(L,{class:"min-w-80",label:"Edit",onClick:o[0]||(o[0]=u=>t.$emit("editClicked"))}),x(L,{class:"min-w-80",type:"danger",outlined:"",label:"Delete",onClick:o[1]||(o[1]=u=>t.$emit("deleteClicked"))})]))}}),re=S({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean},isSubTitle:{type:Boolean}},emits:["click"],setup(s){const t=s;return(o,u)=>(a(),f("div",{class:B(["font-bold",{"text-lg md:text-2xl":!o.isSubTitle},{"hover:underline cursor-pointer":o.isExpandable},t.class])},[C("div",{class:B({block:!o.alignment,flex:!!o.alignment,"justify-start":o.alignment==="left","justify-center":o.alignment==="center","justify-end":o.alignment==="right"})},[C("span",{class:"flex",onClick:u[0]||(u[0]=g=>o.$emit("click"))},[o.isExpandable&&o.alignment==="right"?(a(),f("i",{key:0,class:B(["pi pi-angle-down animation",{"rotate-180":o.isExpanded}])},null,2)):v("",!0),G(o.$slots,"default"),o.isExpandable&&(o.alignment==="left"||o.alignment==="center")?(a(),f("i",{key:1,class:B(["pi pi-angle-down animation",{"rotate-180":o.isExpanded}])},null,2)):v("",!0)])],2)],2))}}),dt={class:"table-auto min-w-full text-left"},ct={key:0,class:"border border-white"},mt=["onClick","innerHTML"],ue=S({__name:"BlogPostTable",props:{tableData:{},alignment:{}},setup(s){const t=s,o=P(0),u=P("asc"),g=r(()=>Be(t.tableData)),p=P(g.value.slice(1)),d=(i,c)=>{i===0&&(o.value=c,k(),y())},k=()=>{u.value==="asc"?u.value="desc":u.value="asc"},y=()=>{const i=o.value;p.value=p.value.sort((c,b)=>u.value==="asc"?b[i].localeCompare(c[i]):c[i].localeCompare(b[i]))},$=i=>{const c=/(https?:\/\/[^\s]+)/g;return i.replace(c,b=>{let e=b.replace("http://","").replace("https://","").replace("www.","");return e.length>15&&(e=e.substring(0,15)+"..."),`<a href="${b}" target="_blank">${e}</a>`})};return(i,c)=>(a(),f("div",{class:B(["my-8 flex max-w-[65vw] md:max-w-[50vw] lg:max-w-[60vw] overflow-x-auto",{"justify-start":i.alignment==="left","justify-center":i.alignment==="center"||!i.alignment,"justify-end":i.alignment==="right"}])},[C("table",dt,[C("tbody",null,[(a(!0),f(R,null,M([g.value[0],...p.value],(b,e)=>(a(),f(R,{key:e},[b.every(l=>!l)?v("",!0):(a(),f("tr",ct,[(a(!0),f(R,null,M(b,(l,m)=>(a(),f(R,{key:m},[m!==0||!g.value.every(n=>!n.length||!n[0])?(a(),f("td",{key:0,class:B(["px-2 border border-white",{"font-bold":e===0||m===0},{"cursor-pointer underline":e===0},{"text-left":i.alignment==="left"||!i.alignment,"text-center":i.alignment==="center","text-right":i.alignment==="right"}]),onClick:n=>d(e,m),innerHTML:$(l)},null,10,mt)):v("",!0)],64))),128))]))],64))),128))])])],2))}}),pt={class:"flex gap-3"},gt={class:"flex justify-between h-fit mt-2 gap-2"},vt={class:"flex flex-wrap gap-3"},ft={class:"w-full"},yt={class:"w-full"},Ct=S({__name:"BlogPost",props:{post:{},withoutMutation:{type:Boolean}},emits:["editClicked","deleteClicked"],setup(s){const t=s,o=Ie(),{publicUsers:u}=U(q()),{firebaseUser:g,isOwner:p}=U(F());o.currentRoute.value.name!==Q.BLOG&&Ze(t.post);const d=P(t.post.archived),k=r(()=>{var e;return(e=t.post.allowedUserIds)!=null&&e.length?u.value.filter(l=>{var m;return(m=t.post.allowedUserIds)==null?void 0:m.includes(l.id)}):[]}),y=r(()=>{const e=z(new Date(t.post.date)),l=t.post.dateUpdated?z(new Date(t.post.dateUpdated)):"";return e+` - updated ${l}`}),$=r(()=>{const e=[];return t.post.datePinned&&e.push({value:"Pinned",severity:"success",rounded:!1}),t.post.locked&&e.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),t.post.archived&&e.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),e}),i=r(()=>t.post.sections.map(e=>({...e,isExpandable:c(e)}))),c=e=>!!e.description||!!e.coverImageUrl||!!e.bullets.length||!!e.table,b=()=>{const e=document.createElement("textarea"),{protocol:l,hostname:m,port:n}=window.location,T=`${l}//${m}`+(m==="localhost"?`:${n}`:"");e.value=`${T}#${De.BLOG.path}/${t.post.id}`,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),Pe.success("Copied link!")};return(e,l)=>(a(),w(O,{id:e.post.id,class:B([{"min-h-[90vh]":!d.value},"border-4 border-transparent","!rounded-primary",e.post.colorSecondary||e.post.colorPrimary||"bg-secondary-900",e.post.opacitySecondary||"bg-opacity-50"]),title:e.post.title,subTitle:y.value,tags:$.value,loading:e.post.loading,isCollapsed:d.value,clickable:"",onClick:l[4]||(l[4]=m=>d.value=!d.value)},{right:D(()=>[C("div",pt,[d.value?h(p)&&!e.withoutMutation?(a(),w(ie,{key:1,onEditClicked:l[0]||(l[0]=m=>e.$emit("editClicked")),onDeleteClicked:l[1]||(l[1]=m=>e.$emit("deleteClicked"))})):v("",!0):(a(),w(L,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:b}))])]),default:D(()=>{var m;return[C("div",gt,[C("div",vt,[(a(!0),f(R,null,M(k.value,n=>{var T;return a(),w(h(me),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:n.id===((T=h(g))==null?void 0:T.uid)?"You":n.displayName,rounded:""},null,8,["label"])}),256))]),h(p)&&!e.withoutMutation?(a(),f("div",{key:0,class:B(["flex justify-end ms-5",(m=e.post.allowedUserIds)!=null&&m.length?"flex-col md:flex-row":"flex-row"])},[x(ie,{onEditClicked:l[2]||(l[2]=n=>e.$emit("editClicked")),onDeleteClicked:l[3]||(l[3]=n=>e.$emit("deleteClicked"))})],2)):v("",!0)]),x(O,{class:B(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",e.post.colorPrimary,e.post.opacityPrimary||"bg-opacity-50"])},{default:D(()=>[C("div",{class:B(["flex relative",e.post.countdown||e.post.alignment==="center"?"flex justify-between":""])},[C("div",ft,[e.post.countdown?(a(),w(A,{key:0,time:new Date(e.post.countdown).getTime(),direction:"down",alignment:e.post.alignment},null,8,["time","alignment"])):v("",!0),e.post.timer?(a(),w(A,{key:1,time:new Date(e.post.timer).getTime(),direction:"up",alignment:e.post.alignment},null,8,["time","alignment"])):v("",!0),e.post.description?(a(),w(Y,{key:2,description:e.post.description},null,8,["description"])):v("",!0)])],2),e.post.coverImageUrl?(a(),w(le,{key:0,post:e.post,"cover-image-url":e.post.coverImageUrl},null,8,["post","cover-image-url"])):v("",!0),e.post.descriptionFooter?(a(),w(Y,{key:1,class:"mb-5",description:e.post.descriptionFooter},null,8,["description"])):v("",!0),e.post.table?(a(),w(ue,{key:2,tableData:e.post.table,alignment:e.post.tableAlignment},null,8,["tableData","alignment"])):v("",!0),x(h(He),{onTabOpen:h(xe)},{default:D(()=>[(a(!0),f(R,null,M(i.value,n=>(a(),w(h(Ae),{disabled:!n.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",n.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:{invisible:!n.isExpandable}}}},ce({header:D(()=>[C("div",yt,[n.title?(a(),w(re,{key:0,alignment:n.alignment},{default:D(()=>[E(N(n.title),1)]),_:2},1032,["alignment"])):v("",!0),n.subTitle?(a(),w(re,{key:1,alignment:n.alignment,"is-sub-title":""},{default:D(()=>[E(N(n.subTitle),1)]),_:2},1032,["alignment"])):v("",!0),n.isExpandable?v("",!0):(a(),f(R,{key:2},[n.countdown?(a(),w(A,{key:0,time:new Date(n.countdown).getTime(),direction:"down",alignment:n.alignment},null,8,["time","alignment"])):v("",!0),n.timer?(a(),w(A,{key:1,time:new Date(n.timer).getTime(),direction:"up",alignment:n.alignment},null,8,["time","alignment"])):v("",!0)],64))])]),default:D(()=>[n.description?(a(),w(Y,{key:0,description:n.description,alignment:n.alignment},null,8,["description","alignment"])):v("",!0),n.coverImageUrl?(a(),w(le,{key:1,post:e.post,"cover-image-url":n.coverImageUrl,alignment:n.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):v("",!0),x(lt,{bullets:n.bullets,alignment:n.alignment},null,8,["bullets","alignment"]),n.isExpandable?(a(),f(R,{key:2},[n.countdown?(a(),w(A,{key:0,time:new Date(n.countdown).getTime(),direction:"down",alignment:n.alignment},null,8,["time","alignment"])):v("",!0),n.timer?(a(),w(A,{key:1,time:new Date(n.timer).getTime(),direction:"up",alignment:n.alignment},null,8,["time","alignment"])):v("",!0)],64)):v("",!0),n.table?(a(),w(ue,{key:3,tableData:n.table,alignment:n.tableAlignment},null,8,["tableData","alignment"])):v("",!0)]),_:2},[n.isExpandable?void 0:{name:"headericon",fn:D(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1},8,["onTabOpen"])]),_:1},8,["class"]),x(_e,{post:e.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}});export{Ct as _,ie as a,le as b,A as c,Y as d,re as e,me as s,Tt as u};
