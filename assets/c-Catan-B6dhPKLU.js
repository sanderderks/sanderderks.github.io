import{b5 as Al,bf as Sl,q as nl,bg as Pl,bd as xl,s as te,bh as El,bi as We,be as pe,z as q,U as Te,l as sl,v as Ke,C as h,bq as Be,au as E,bj as Cl,b8 as Rl,bk as Je,bm as $l,b7 as Tl,bl as Bl,d as ae,b as s,c as r,O as U,e as g,t as N,f as e,r as De,J as O,n as L,g as z,b3 as al,w as Q,i as M,k as se,h as $,Q as Ge,aB as Dl,_ as Gl}from"../bundle.js";import{_ as Ll,a as Ml}from"./c-GameChat.vue_vue_type_script_setup_true_lang-CJhvUHFU.js";import{_ as Hl,a as Fl}from"./c-GameActions.vue_vue_type_script_setup_true_lang-CJKuhNc1.js";import{_ as Ul}from"./c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-DIjGe0gg.js";import{_ as Vl,a as Yl,b as zl,c as jl,d as Wl}from"./c-Dice5.vue_vue_type_script_setup_true_lang-C6p2XO2T.js";import{_ as Kl}from"./c-Dice6.vue_vue_type_script_setup_true_lang-asLvsLFP.js";import{_ as ue}from"./c-_plugin-vue_export-helper-DlAUqK2U.js";import"./c-UsersBar.vue_vue_type_script_setup_true_lang-gyxqVQj5.js";import"./c-Dialog.vue_vue_type_script_setup_true_lang-ChRuyxYJ.js";var k=(t=>(t[t.DESERT=0]="DESERT",t[t.WOOD_FOREST=1]="WOOD_FOREST",t[t.SHEEP_PASTURE=2]="SHEEP_PASTURE",t[t.GRAIN_FIELD=3]="GRAIN_FIELD",t[t.BRICK_HILL=4]="BRICK_HILL",t[t.ORE_MOUNTAIN=5]="ORE_MOUNTAIN",t))(k||{}),j=(t=>(t[t.ROAD=0]="ROAD",t[t.VILLAGE=1]="VILLAGE",t[t.CITY=2]="CITY",t))(j||{}),le=(t=>(t[t.HAS_NOT_STARTED=0]="HAS_NOT_STARTED",t[t.FINDING_OPPONENT=1]="FINDING_OPPONENT",t[t.IS_PLAYING=2]="IS_PLAYING",t[t.HAS_FINISHED=3]="HAS_FINISHED",t))(le||{}),X=(t=>(t[t.IS_INITIALIZING=0]="IS_INITIALIZING",t[t.IS_CREATING_MAP=1]="IS_CREATING_MAP",t[t.BUILDING_PHASE=2]="BUILDING_PHASE",t[t.FINISHED_BUILDING_PHASE=3]="FINISHED_BUILDING_PHASE",t[t.IS_GENERATING_NUMBERS=4]="IS_GENERATING_NUMBERS",t[t.IS_FINISHING_UP=5]="IS_FINISHING_UP",t[t.CAN_MOVE_ROBBER=6]="CAN_MOVE_ROBBER",t[t.PRODUCTION_PHASE=7]="PRODUCTION_PHASE",t[t.ACTION_PHASE=8]="ACTION_PHASE",t))(X||{}),me=(t=>(t[t.CAN_BUILD=0]="CAN_BUILD",t[t.CAN_MOVE=1]="CAN_MOVE",t))(me||{});const oe=Al("catanStore",()=>{const t=Sl(),d=nl(),c=Pl(),b=xl(),{firebaseUser:p}=te(d),{games:T,gamesLoading:A,gameId:_,creatorId:V,players:Y,opponents:S,chat:f,isOwner:y}=te(b),P={onlineGames:El(t,We.GAME_DATA,pe.CATAN,We.ONLINE_GAMES)},B=q(0),m=q(0),x=q(0),u=q("soloPlayer"),C=q(u.value),W=q(!1),D=q(Ze()),J=q(qe()),H=q(Qe()),i=q([]),F=q([]),ee=q([]),G=Ke({}),Z=Ke({}),Ie=h(()=>[[i.value[19],i.value[20],i.value[21],i.value[22]],[i.value[36],i.value[18],i.value[7],i.value[8],i.value[23]],[i.value[35],i.value[17],i.value[6],i.value[1],i.value[9],i.value[24]],[i.value[34],i.value[16],i.value[5],i.value[0],i.value[2],i.value[10],i.value[25]],[i.value[33],i.value[15],i.value[4],i.value[3],i.value[11],i.value[26]],[i.value[32],i.value[14],i.value[13],i.value[12],i.value[27]],[i.value[31],i.value[30],i.value[29],i.value[28]]].map(l=>l.filter(n=>!!n))),a=h(()=>G[u.value]),de=h(()=>D.value.some(l=>l.isRolling)),ge=h(()=>Tl(D.value,l=>l.value)),ce=h(()=>C.value===u.value&&[2,8].includes(m.value)),Ae=h(()=>a.value.buildings[0]===Xe),Se=h(()=>a.value.buildings[1]===Ne&&!Ae.value),Pe=h(()=>a.value.buildings[0]===Xe-1&&!Se.value),Le=h(()=>a.value.buildings[1]===Ne-1&&!Pe.value);Te(Z,l=>{Object.values(l).some(n=>n===10)&&(B.value=3)},{deep:!0}),Te(B,l=>{l===3&&Je(Bl)}),Te([B,m,x,C,de],()=>{Ol()},{deep:!0}),sl(()=>{c.$init(pe.CATAN)});const xe=()=>{b.$reset(),B.value=0,W.value=!1,m.value=0,x.value=0,u.value="soloPlayer",C.value=u.value,D.value=Ze(),J.value=qe(),H.value=Qe(),i.value=[],F.value=[],ee.value=[],Object.keys(Z).forEach(l=>{delete Z[l],delete G[l]})},ol=()=>{const l=Be(J.value.length);return J.value.splice(l,1)[0]},rl=()=>{const l=Be(H.value.length);return H.value.splice(l,1)[0]},ie=l=>F.value.find(n=>n.id===l),_e=(l,n)=>ee.value.find(o=>o.cornerFromId===l&&o.cornerToId===n),Me=l=>i.value.filter(fe).filter(n=>n.cornerIds.includes(l)),He=l=>ee.value.filter(n=>n.cornerFromId===l||n.cornerToId===l),ye=l=>l.cornerIds.flatMap(ie).filter(n=>!!n),we=l=>ee.value.filter(n=>l.cornerIds.includes(n.cornerFromId)&&l.cornerIds.includes(n.cornerToId)),Fe=l=>{const n=ie(l);return(n==null?void 0:n.connectedCornerIds.map(ie).filter(v=>!!v))??[]},Ue=l=>ee.value.filter(n=>{var o;return((o=n.building)==null?void 0:o.type)===0&&n.building.ownerId===l}),Ee=l=>F.value.filter(n=>{var o;return((o=n.building)==null?void 0:o.type)===1&&n.building.ownerId===l}),ul=l=>F.value.filter(n=>{var o;return((o=n.building)==null?void 0:o.type)===2&&n.building.ownerId===l}),fe=l=>"cornerIds"in l&&"isBlocked"in l,dl=l=>"inputType"in l&&"input"in l&&"output"in l,Ce=l=>!!l&&"connectedCornerIds"in l,Re=l=>!!l&&"cornerFromId"in l,he=l=>He(l).some(n=>{var o;return n.building&&n.building.ownerId===((o=p.value)==null?void 0:o.uid)}),ke=(l,n)=>Fe(l).some(o=>o.building&&(o.building.type===1||o.building.type===2)&&(n===void 0||o.id!==n)),Ve=async()=>{for(;de.value;)await new Promise(l=>setTimeout(l,c.diceRollSpeed*1e3));return!0},cl=async()=>{if(y.value){m.value=1;for(let l=1;l<=19;l++)i.value.push({id:l,type:l===1?0:ol(),value:null,cornerIds:ll[l],isBlocked:l===1}),ll[l].forEach(n=>{F.value.find(o=>o.id===n)||F.value.push({id:n,building:null,connectedCornerIds:ql[n]})}),await new Promise(n=>setTimeout(n,500));for(let l=1e3;l<=1018;l++){const n=rl();i.value.push({id:l,inputType:n??null,input:n?2:n===null?3:0,output:1}),await new Promise(o=>setTimeout(o,500))}ee.value=Ql.map(([l,n])=>({cornerFromId:l,cornerToId:n,building:null})),m.value=2}},vl=async()=>{if(!y.value)return;m.value=4;const l=[2,3,3,4,4,5,5,6,6,8,8,9,9,10,10,11,11,12];for(let n=0;n<18;n++){const o=i.value.filter(fe).filter(I=>I.type!==0&&!I.value),v=Be(o.length),w=o[v];w.value=l[n],await new Promise(I=>setTimeout(I,500))}m.value=5,await Ye(null),m.value=7},Ye=async l=>{if(l===null){const n=F.value.filter(o=>!!o.building);for(const o of n){const v=o.building,w=Me(o.id);for(const I of w)I.type&&(v.type===1?G[v.ownerId].cards[I.type]++:v.type===2&&(G[v.ownerId].cards[I.type]+=2),await new Promise(R=>setTimeout(R,500)))}}else{const n=i.value.filter(fe).filter(w=>w.value===l),o=new Map;for(const w of n){if(!w.type)continue;if(w.isBlocked){E.error("Blocked by the Robber!");continue}const I=w.cornerIds.map(ie).map(R=>R==null?void 0:R.building).filter(R=>!!R);for(const R of I)R.type===1?(G[R.ownerId].cards[w.type]++,R.ownerId===u.value&&o.set(w.type,(o.get(w.type)||0)+1)):R.type===2&&(G[R.ownerId].cards[w.type]+=2,R.ownerId===u.value&&o.set(w.type,(o.get(w.type)||0)+2)),await new Promise(re=>setTimeout(re,500))}let v=!1;for(const[w,I]of o.entries())I>0&&(v=!0,E.success(`You received ${I} ${k[w].toString().substring(0,1).toUpperCase()}${k[w].toString().substring(1)}${I>1?"s":""}!`));v||E.error("No cards this time!")}},gl=l=>{a.value.selected!==l?a.value.buildings[l]>0?ce.value?[1,0].includes(l)?a.value.selected=l:E.warning("You cannot choose this building at this point"):E.warning("You cannot do this at this point"):E.warning("You don't have any!"):a.value.selected=null},fl=l=>{var n,o,v,w;if(m.value===6)if(!l.isBlocked&&l.type!==0){const I=i.value.filter(fe).find(R=>R.isBlocked);I&&(I.isBlocked=!1,l.isBlocked=!0,$e(),E.success("Moved the Robber!"))}else E.warning("Move the Robber to another card");else if(ce.value)if(x.value===0)if(a.value.selected!==null)if(C.value===u.value)switch(a.value.selected){case 0:{Ae.value||Pe.value?bl(l):(a.value.selected=null,E.warning("You can only place two roads at this point"));break}case 1:{Se.value||Le.value?ml(l):(a.value.selected=null,E.warning("You can only place two villages at this point"));break}}else E.warning("It is not your turn");else E.warning("Select a building type first");else x.value===1&&(((o=(n=a.value.lastPlaced)==null?void 0:n.building)==null?void 0:o.type)===0?we(l).some(I=>!!I.building)&&pl(l):((w=(v=a.value.lastPlaced)==null?void 0:v.building)==null?void 0:w.type)===1&&ye(l).some(I=>!!I.building)&&Il(l))},bl=l=>{const n=we(l),o=n.filter(v=>!!v.building);if(o.length===6)E.warning("No building spots left here!");else if(!o.length)be(n[0],0);else for(const v of n)if(!v.building){be(v,0);break}},pl=l=>{var v;if(!p.value)return;const n=we(l),o=n.filter(w=>!!w.building);if(o.length===6)E.warning("Nothing can be moved");else if(o.length){const w=a.value.lastPlaced;if(Re(w)){const I=_e(w.cornerFromId,w.cornerToId);if(((v=I==null?void 0:I.building)==null?void 0:v.ownerId)===p.value.uid){let R=n.indexOf(I);for(let re=0;re<5;re++){R<5?R++:R=0;const ne=n[R];if(ne!==I&&!ne.building){be(ne,0,!0),I.building=null;break}}}}}},ml=l=>{const n=ye(l);if(n.filter(v=>!!v.building).length===3)E.warning("No building spots left here!");else{for(const v of n)if(!v.building&&he(v.id)&&!ke(v.id)){be(v,1);return}n.every(v=>!he(v.id))?E.warning("A village needs to be attached to a road."):n.some(v=>ke(v.id))&&E.warning("A village cannot be next to another village.")}},Il=l=>{var v;if(!p.value)return;const n=ye(l),o=n.filter(w=>!!w.building);if(o.length===3)E.warning("Nothing can be moved");else if(o.length){const w=a.value.lastPlaced;if(Ce(w)){const I=ie(w.id);if(((v=I==null?void 0:I.building)==null?void 0:v.ownerId)===p.value.uid){let R=n.indexOf(I);for(let re=0;re<5;re++){R<5?R++:R=0;const ne=n[R];if(ne!==I&&!ne.building&&he(ne.id)&&!ke(ne.id,I.id)){be(ne,1,!0),I.building=null;return}}}}}},be=(l,n,o=!1)=>{if(p.value){if(n!==0&&Ce(l)){const v=ie(l.id);v&&(v.building={ownerId:p.value.uid,type:n},a.value.lastPlaced=v)}else if(n===0&&Re(l)){const v=_e(l.cornerFromId,l.cornerToId);v&&(v.building={ownerId:p.value.uid,type:n},a.value.lastPlaced=v)}o||(a.value.selected=null,a.value.buildings[n]--),x.value=1}},_l=async()=>{const l=c.diceRollSpeed*1e3;D.value[0].isRolling=!0,D.value.forEach(n=>{n.isRolling=!0,setTimeout(()=>{n.value=Cl(6),n.isRolling=!1},Rl(l,l/3))}),Je($l),await Ve(),ge.value===7?m.value=6:(await Ye(ge.value),m.value=8)},yl=()=>{var l,n;x.value===1&&(a.value.buildings[1]>=Ne-1&&((n=(l=a.value.lastPlaced)==null?void 0:l.building)==null?void 0:n.type)===0?x.value=0:$e())},wl=()=>{var l,n;if(x.value===1&&(l=a.value.lastPlaced)!=null&&l.building&&a.value.lastPlaced.building.ownerId===((n=p.value)==null?void 0:n.uid)){if(a.value.buildings[a.value.lastPlaced.building.type]++,a.value.selected=a.value.lastPlaced.building.type,Ce(a.value.lastPlaced)){const o=ie(a.value.lastPlaced.id);o&&(o.building=null)}else if(Re(a.value.lastPlaced)){const o=_e(a.value.lastPlaced.cornerFromId,a.value.lastPlaced.cornerToId);o&&(o.building=null)}a.value.lastPlaced=null,x.value=0}},$e=()=>{m.value===2?Object.values(G).every(l=>l.buildings[1]===Ne-2)?(W.value=!0,m.value=3,x.value=0,C.value=b.getNextPlayerId(u.value)):(W.value=!0,x.value=0,C.value=b.getNextPlayerId(u.value)):(m.value===8||m.value===6)&&(W.value=!0,m.value=7,C.value=b.getNextPlayerId(u.value))},hl=l=>{switch(l){case 0:{a.value.buildings[0]+Ue(u.value).length<Oe?a.value.cards[1]>=1&&a.value.cards[4]>=1?(a.value.cards[1]--,a.value.cards[4]--,a.value.buildings[0]++,E.success("You bought a road")):E.warning("Not enough resources"):E.warning("You cannot buy more roads");break}case 1:{a.value.buildings[1]+Ee(u.value).length<Oe?a.value.cards[3]>=1&&a.value.cards[2]>=1&&a.value.cards[1]>=1&&a.value.cards[4]>=1?(a.value.cards[3]--,a.value.cards[2]--,a.value.cards[1]--,a.value.cards[4]--,a.value.buildings[1]++,E.success("You bought a village")):E.warning("Not enough resources"):E.warning("You cannot buy more villages");break}case 2:{a.value.buildings[2]+Ee(u.value).length<Oe?a.value.cards[3]>=2&&a.value.cards[5]>=3?(a.value.cards[3]-=2,a.value.cards[5]-=3,a.value.buildings[2]++,E.success("You bought a city")):E.warning("Not enough resources"):E.warning("You cannot buy more cities");break}case"development":{a.value.cards[2]>=1&&a.value.cards[3]>=1&&a.value.cards[5]>=1?(a.value.cards[3]--,a.value.cards[5]--,a.value.cards.development++,E.success("You bought a development card")):E.warning("Not enough resources");break}}},kl=(l,n=null,o=null)=>{p.value&&(l=[{userId:p.value.uid,isOnline:!0},...l],B.value=2,u.value=p.value.uid,C.value=u.value,l.forEach(v=>{Z[v.userId]=0,G[v.userId]={...el()}}),b.$init(pe.CATAN,ze,je,xe),b.createGame(l,n,o))},Nl=l=>{p.value&&(u.value=p.value.uid,b.$init(pe.CATAN,ze,je,xe),b.continueGame(l))},ze=()=>({gameStatus:B.value,catanStatus:m.value,buildingStatus:x.value,activePlayerId:C.value,dices:D.value,cardMap:i.value,cornerMap:F.value,roadMap:ee.value,score:Z,inventoryState:G}),je=l=>{var o;!((o=p.value)!=null&&o.uid)||C.value===u.value&&!W.value||(B.value=l.gameStatus,m.value=l.catanStatus,x.value=l.buildingStatus,C.value=l.activePlayerId,D.value=l.dices,i.value=l.cardMap,F.value=l.cornerMap,ee.value=l.roadMap,Object.assign(Z,l.score),Object.assign(G,l.inventoryState),Object.keys(Z).includes(u.value)||(Z[u.value]=0,G[u.value]={...el()}),W.value&&(W.value=!1))},Ol=()=>{!p.value||C.value!==u.value&&!W.value||b.pushState()};return{collections:P,games:T,gamesLoading:A,gameId:_,creatorId:V,players:Y,opponents:S,chat:f,isOwner:y,gameStatus:B,catanStatus:m,buildingStatus:x,activePlayerId:C,myPlayerId:u,activePlayerChanging:W,dices:D,_landTypes:J,cardMap:i,cornerMap:F,roadMap:ee,inventoryState:G,score:Z,mappedMap:Ie,myInventoryState:a,isRolling:de,canBuild:ce,canBuildFirstRoad:Ae,canBuildFirstVillage:Se,canBuildSecondRoad:Pe,canBuildSecondVillage:Le,$reset:xe,getCorner:ie,getSide:_e,getCardsOfCorner:Me,getSidesOfCorner:He,getCornersOfCard:ye,getSidesOfCard:we,getNeighborsOfCorner:Fe,getRoadsOfPlayer:Ue,getVillagesOfPlayer:Ee,getCitiesOfPlayer:ul,generateMap:cl,generateNumbers:vl,isCornerAttachedToRoad:he,isCornerAttachedToVillage:ke,isLandCard:fe,isOceanCard:dl,selectBuildingType:gl,selectCard:fl,roll:_l,finishMoving:yl,cancelBuild:wl,passTurn:$e,buy:hl,hasFinishedRolling:Ve,fetchOnlineGames:b.fetchGames,createOnlineGame:kl,continueOnlineGame:Nl,leaveOnlineGame:b.leaveGame,deleteOnlineGame:b.deleteGame,getPlayerDisplayName:b.getPlayerDisplayName,getNextPlayerId:b.getNextPlayerId}},{}),Ze=()=>[{id:1,value:1,isRolling:!1},{id:2,value:2,isRolling:!1}],qe=()=>[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,5,5,5],Qe=()=>[null,null,null,null,1,2,4,5,3,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],Xe=2,Oe=15,Ne=2,Jl=5,Zl=4,el=()=>({buildings:{0:2,1:2,2:0},cards:{0:0,3:0,1:0,2:0,4:0,5:0,development:0},selected:null,lastPlaced:null}),ll={1:[1,2,3,4,5,6],2:[8,9,10,2,1,7],3:[10,11,12,13,3,2],4:[3,13,14,15,16,4],5:[5,4,16,17,18,19],6:[22,6,5,19,20,21],7:[24,7,1,6,22,23],8:[25,26,8,7,24,54],9:[27,28,29,9,8,26],10:[29,30,31,11,10,9],11:[31,32,33,34,12,11],12:[12,34,35,36,14,13],13:[14,36,37,38,39,15],14:[16,15,39,40,41,17],15:[18,17,41,42,43,44],16:[20,19,18,44,45,46],17:[49,21,20,46,47,48],18:[51,23,22,21,49,50],19:[53,54,24,23,51,52]},ql={1:[7,2,6],2:[1,10,3],3:[2,13,4],4:[3,16,5],5:[6,4,19],6:[1,5,22],7:[8,1,24],8:[9,7,26],9:[29,10,8],10:[9,11,2],11:[31,12,10],12:[11,34,13],13:[12,14,3],14:[13,36,15],15:[14,39,16],16:[4,15,17],17:[16,41,18],18:[19,17,44],19:[5,18,20],20:[21,19,46],21:[22,20,49],22:[23,6,21],23:[24,22,51],24:[54,7,23],25:[26,54],26:[27,8,25],27:[28,26],28:[29,27],29:[28,30,9],30:[29,31],31:[30,32,11],32:[31,33],33:[32,34],34:[33,35,12],35:[34,36],36:[35,37,14],37:[36,38],38:[37,39],39:[15,38,40],40:[39,41],41:[17,40,42],42:[41,43],43:[42,44],44:[18,43,45],45:[44,46],46:[20,45,47],47:[48,46],48:[49,47],49:[50,21,48],50:[51,49],51:[52,23,50],52:[53,51],53:[54,52],54:[25,24,53]},Ql=[[1,2],[1,6],[1,7],[2,3],[2,10],[3,4],[3,13],[4,5],[4,16],[5,6],[5,19],[6,22],[7,8],[7,24],[8,9],[8,26],[9,10],[9,29],[10,11],[11,12],[11,31],[12,13],[12,34],[13,14],[14,15],[14,36],[15,16],[15,39],[16,17],[17,18],[17,41],[18,19],[18,44],[19,20],[20,21],[20,46],[21,22],[21,49],[22,23],[23,24],[23,51],[24,54],[25,26],[26,27],[27,28],[28,29],[29,30],[30,31],[31,32],[32,33],[33,34],[34,35],[35,36],[36,37],[37,38],[38,39],[39,40],[40,41],[41,42],[42,43],[43,44],[44,45],[45,46],[46,47],[47,48],[48,49],[49,50],[50,51],[51,52],[52,53],[53,54],[25,54]],K=t=>{switch(t){case 1:return"Wood";case 2:return"Sheep";case 3:return"Grain";case 4:return"Brick";case 5:return"Ore";default:return"Unknown"}},Xl={class:"text-xl font-bold"},et={key:0,class:"mb-3"},lt={class:"mb-3"},ve=ae({__name:"CatanStatusHeader",props:{title:{}},setup(t){const d=oe(),{activePlayerId:c,myPlayerId:b,players:p}=te(d),T=h(()=>{var A;return((A=p.value.find(_=>_.userId===c.value))==null?void 0:A.displayName)||"Unknown"});return(A,_)=>(s(),r(U,null,[g("h3",Xl,N(t.title),1),e(c)===e(b)?(s(),r("p",et,"It's your turn.")):(s(),r(U,{key:1},[g("p",lt,N(T.value)+"'s turn.",1),De(A.$slots,"descriptionOpponent")],64)),De(A.$slots,"description"),e(c)===e(b)?De(A.$slots,"actions",{key:2}):O("",!0)],64))}}),tt=ae({__name:"Dice",props:{dice:{}},setup(t){const d={1:Wl,2:jl,3:zl,4:Yl,5:Vl,6:Kl};return(c,b)=>(s(),r("div",{class:L({"animate-spin":t.dice.isRolling})},[(s(),z(al(d[t.dice.value]),{color:"black",backgroundColor:"white",width:"40",height:"40"}))],2))}}),nt={class:"w-full flex flex-col items-center gap-3 p-3"},st={key:1},at={key:1},it={class:"flex gap-3 items-center"},ot=ae({__name:"CatanStatus",setup(t){const d=oe(),{catanStatus:c,buildingStatus:b,dices:p,cardMap:T,myInventoryState:A,canBuildFirstRoad:_,canBuildFirstVillage:V,canBuildSecondRoad:Y,canBuildSecondVillage:S,isRolling:f,isOwner:y}=te(d),{generateMap:P,generateNumbers:B,roll:m,finishMoving:x,cancelBuild:u,passTurn:C}=d;return(W,D)=>(s(),r("div",nt,[e(c)===e(X).IS_INITIALIZING?(s(),z(ve,{key:0,title:"Welcome to Catan!"},{description:Q(()=>[e(y)?(s(),z(M,{key:0,class:"w-full",variant:"green",label:"Generate Map",onClick:e(P)},null,8,["onClick"])):(s(),r("p",st,"The game is about to start."))]),_:1})):e(c)===e(X).IS_CREATING_MAP?(s(),r(U,{key:1},[se(" Map is generating. Status "+N((e(T).length/38*100).toFixed(0))+"% ",1)],64)):e(c)===e(X).BUILDING_PHASE?(s(),z(ve,{key:2,title:"Initial Building Phase"},{actions:Q(()=>{var J,H,i,F;return[e(b)===e(me).CAN_BUILD?(s(),r(U,{key:0},[e(_)?(s(),r(U,{key:0},[se(" You can now build your first road! ")],64)):e(V)?(s(),r(U,{key:1},[se(" You can now build your first village! ")],64)):e(Y)?(s(),r(U,{key:2},[se(" You can now build your second road! ")],64)):e(S)?(s(),r(U,{key:3},[se(" You can now build your second village! ")],64)):O("",!0)],64)):e(b)===e(me).CAN_MOVE?(s(),r(U,{key:1},[((H=(J=e(A).lastPlaced)==null?void 0:J.building)==null?void 0:H.type)===e(j).ROAD?(s(),r(U,{key:0},[se(" You can now move your road by clicking on it. ")],64)):((F=(i=e(A).lastPlaced)==null?void 0:i.building)==null?void 0:F.type)===e(j).VILLAGE?(s(),r(U,{key:1},[se(" You can now move your village by clicking on it. ")],64)):O("",!0),$(M,{class:"w-full",variant:"green",label:"Place Building",onClick:e(x)},null,8,["onClick"]),$(M,{class:"w-full",variant:"neutral",label:"Cancel Building",onClick:e(u)},null,8,["onClick"])],64)):O("",!0)]}),_:1})):e(c)===e(X).FINISHED_BUILDING_PHASE?(s(),z(ve,{key:3,title:"Nearly there."},{description:Q(()=>[e(y)?(s(),z(M,{key:0,class:"w-full",variant:"green",label:"Reveal Numbers",onClick:e(B)},null,8,["onClick"])):(s(),r("p",at,"The numbers will soon be revealed!"))]),_:1})):e(c)===e(X).CAN_MOVE_ROBBER?(s(),z(ve,{key:4,title:"The Robber"},{description:Q(()=>[...D[0]||(D[0]=[se(" The Robber can be moved to another tile. ",-1)])]),_:1})):e(c)===e(X).PRODUCTION_PHASE?(s(),z(ve,{key:5,title:"Production Phase"},{description:Q(()=>[D[1]||(D[1]=g("ul",{class:"list-disc"},[g("li",{class:"line-through"},"Play a development card (optional)"),g("li",null,"Roll the dices"),g("li",null,"Collect resources")],-1)),g("div",it,[(s(!0),r(U,null,Ge(e(p),J=>(s(),z(tt,{dice:J},null,8,["dice"]))),256))])]),actions:Q(()=>[$(M,{class:"w-full",label:"Roll Dices",disabled:e(f),onClick:e(m)},null,8,["disabled","onClick"])]),_:1})):e(c)===e(X).ACTION_PHASE?(s(),z(ve,{key:6,title:"Action Phase"},{description:Q(()=>[...D[2]||(D[2]=[g("ul",{class:"list-disc"},[g("li",{class:"line-through"},"Trade"),g("li",null,"Build roads, villages, cities and development cards"),g("li",{class:"line-through"},"Play a development card if you didn't already")],-1)])]),actions:Q(()=>[$(M,{class:"w-full",variant:"neutral",label:"End Turn",onClick:e(C)},null,8,["onClick"])]),_:1})):O("",!0)]))}}),rt={},ut={viewBox:"0 0 120 104",xmlns:"http://www.w3.org/2000/svg"};function dt(t,d){return s(),r("svg",ut,[...d[0]||(d[0]=[g("polygon",{points:"60,0 120,30 120,74 60,104 0,74 0,30",fill:"#b22222",stroke:"#7b1b1b","stroke-width":"2"},null,-1)])])}const ct=ue(rt,[["render",dt]]),vt={},gt={viewBox:"0 0 120 104",xmlns:"http://www.w3.org/2000/svg"};function ft(t,d){return s(),r("svg",gt,[...d[0]||(d[0]=[g("polygon",{points:"60,0 120,30 120,74 60,104 0,74 0,30",fill:"#f4e6b0",stroke:"#c2a865","stroke-width":"2"},null,-1)])])}const bt=ue(vt,[["render",ft]]),pt={},mt={viewBox:"0 0 120 104",xmlns:"http://www.w3.org/2000/svg"};function It(t,d){return s(),r("svg",mt,[...d[0]||(d[0]=[g("polygon",{points:"60,0 120,30 120,74 60,104 0,74 0,30",fill:"#fdd835",stroke:"#c2a600","stroke-width":"2"},null,-1)])])}const _t=ue(pt,[["render",It]]),yt={},wt={viewBox:"0 0 120 104",xmlns:"http://www.w3.org/2000/svg"};function ht(t,d){return s(),r("svg",wt,[...d[0]||(d[0]=[g("polygon",{points:"60,0 120,30 120,74 60,104 0,74 0,30",fill:"#a9a9a9",stroke:"#696969","stroke-width":"2"},null,-1)])])}const kt=ue(yt,[["render",ht]]),Nt={},Ot={viewBox:"0 0 120 104",xmlns:"http://www.w3.org/2000/svg"};function At(t,d){return s(),r("svg",Ot,[...d[0]||(d[0]=[g("polygon",{points:"60,0 120,30 120,74 60,104 0,74 0,30",fill:"#9acd32",stroke:"#6b8e23","stroke-width":"2"},null,-1)])])}const St=ue(Nt,[["render",At]]),Pt={},xt={viewBox:"0 0 120 104",xmlns:"http://www.w3.org/2000/svg"};function Et(t,d){return s(),r("svg",xt,[...d[0]||(d[0]=[g("polygon",{points:"60,0 120,30 120,74 60,104 0,74 0,30",fill:"#228b22",stroke:"#145214","stroke-width":"2"},null,-1)])])}const Ct=ue(Pt,[["render",Et]]),Rt={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},$t={key:0,class:"size-10 rounded-full bg-black"},Tt=ae({__name:"LandCard",props:{card:{},isDisabled:{type:Boolean},isBlocked:{type:Boolean}},emits:["onClick"],setup(t,{emit:d}){const c=t,b=d,p={[k.DESERT]:bt,[k.BRICK_HILL]:ct,[k.SHEEP_PASTURE]:St,[k.GRAIN_FIELD]:_t,[k.WOOD_FOREST]:Ct,[k.ORE_MOUNTAIN]:kt},T=oe(),A=nl(),{firebaseUser:_}=te(A),{getCornersOfCard:V,getSidesOfCard:Y}=T,S=h(()=>V(c.card)),f=h(()=>{const P=c.card.cornerIds;return!P||P.length!==6?[]:P.map((B,m)=>{const x=P[(m+1)%6];return Y(c.card).find(u=>u.cornerFromId===B&&u.cornerToId===x||u.cornerFromId===x&&u.cornerToId===B)})}),y=()=>{c.isDisabled||b("onClick")};return(P,B)=>{var m,x,u,C,W,D,J,H,i,F,ee,G,Z,Ie,a,de,ge,ce;return s(),r("div",{class:L(["relative",{"cursor-pointer":!t.isDisabled}]),onClick:y},[(s(),z(al(p[t.card.type??e(k).DESERT]),{class:"size-[80px] md:size-[100px]"})),g("div",Rt,[t.isBlocked?(s(),r("div",$t)):t.card.value?(s(),r("p",{key:1,class:L(["text-3xl text-black font-bold",t.card.value===2||t.card.value===12?"text-blue-600":t.card.value===6||t.card.value===8?"text-red-600":"text-black"])},N(t.card.value),3)):O("",!0)]),S.value.length===6?(s(),r(U,{key:0},[S.value[0].building?(s(),r("div",{key:0,class:L(["absolute z-10 top-0 left-1/2 -translate-x-1/2 size-3 md:size-4 rounded-full",S.value[0].building.ownerId===((m=e(_))==null?void 0:m.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),S.value[1].building?(s(),r("div",{key:1,class:L(["absolute z-10 top-[25%] -right-2 -translate-y-1/2 size-3 md:size-4 rounded-full",S.value[1].building.ownerId===((x=e(_))==null?void 0:x.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),S.value[2].building?(s(),r("div",{key:2,class:L(["absolute z-10 bottom-[25%] -right-2 translate-y-1/2 size-3 md:size-4 rounded-full",S.value[2].building.ownerId===((u=e(_))==null?void 0:u.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),S.value[3].building?(s(),r("div",{key:3,class:L(["absolute z-10 bottom-0 left-1/2 translate-x-[-50%] size-3 md:size-4 rounded-full",S.value[3].building.ownerId===((C=e(_))==null?void 0:C.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),S.value[4].building?(s(),r("div",{key:4,class:L(["absolute z-10 bottom-[25%] -left-2 translate-y-1/2 size-3 md:size-4 rounded-full",S.value[4].building.ownerId===((W=e(_))==null?void 0:W.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),S.value[5].building?(s(),r("div",{key:5,class:L(["absolute z-10 top-[25%] -left-2 -translate-y-1/2 size-3 md:size-4 rounded-full",S.value[5].building.ownerId===((D=e(_))==null?void 0:D.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0)],64)):O("",!0),f.value.length===6?(s(),r(U,{key:1},[(J=f.value[0])!=null&&J.building?(s(),r("div",{key:0,class:L(["absolute top-0 right-0 w-[45%] h-[6px] rotate-[27deg] origin-top-left",f.value[0].building.ownerId===((H=e(_))==null?void 0:H.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),(i=f.value[1])!=null&&i.building?(s(),r("div",{key:1,class:L(["absolute top-1/2 right-0 -translate-y-1/2 h-[45%] w-[6px]",f.value[1].building.ownerId===((F=e(_))==null?void 0:F.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),(ee=f.value[2])!=null&&ee.building?(s(),r("div",{key:2,class:L(["absolute bottom-1 right-0 w-[45%] h-[6px] -rotate-[27deg] origin-bottom-left",f.value[2].building.ownerId===((G=e(_))==null?void 0:G.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),(Z=f.value[3])!=null&&Z.building?(s(),r("div",{key:3,class:L(["absolute bottom-1 left-0 w-[45%] h-[6px] rotate-[27deg] origin-bottom-right",f.value[3].building.ownerId===((Ie=e(_))==null?void 0:Ie.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),(a=f.value[4])!=null&&a.building?(s(),r("div",{key:4,class:L(["absolute top-1/2 -left-2 -translate-y-1/2 h-[45%] w-[6px]",f.value[4].building.ownerId===((de=e(_))==null?void 0:de.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0),(ge=f.value[5])!=null&&ge.building?(s(),r("div",{key:5,class:L(["absolute top-0 left-0 w-[45%] h-[6px] -rotate-[30deg] origin-top-right",f.value[5].building.ownerId===((ce=e(_))==null?void 0:ce.uid)?"bg-blue-500":"bg-red-500"])},null,2)):O("",!0)],64)):O("",!0)],2)}}}),Bt={},Dt={viewBox:"0 0 120 104",xmlns:"http://www.w3.org/2000/svg"};function Gt(t,d){return s(),r("svg",Dt,[...d[0]||(d[0]=[g("polygon",{points:"60,0 120,30 120,74 60,104 0,74 0,30",fill:"#429bf5",stroke:"#429bf5","stroke-width":"2"},null,-1)])])}const Lt=ue(Bt,[["render",Gt]]),Mt={key:0,class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},Ht={class:"text-3xl text-white font-bold text-nowrap"},Ft={key:0,class:"text-lg text-white text-nowrap text-center"},Ut=ae({__name:"OceanCard",props:{card:{}},emits:["onClick"],setup(t,{emit:d}){const c=d,b=()=>{c("onClick")};return(p,T)=>(s(),r("div",{class:"relative",onClick:b},[$(Lt,{class:"size-[80px] md:size-[100px]"}),t.card.input?(s(),r("div",Mt,[g("p",Ht,N(t.card.input)+" : "+N(t.card.output),1),t.card.inputType?(s(),r("p",Ft,N(e(K)(t.card.inputType)),1)):O("",!0)])):O("",!0)]))}}),il=t=>{const d=oe(),{inventoryState:c,cornerMap:b,roadMap:p}=te(d),T=h(()=>c.value[t].selected),A=h(()=>c.value[t].buildings[j.ROAD]),_=h(()=>c.value[t].buildings[j.VILLAGE]),V=h(()=>c.value[t].buildings[j.CITY]),Y=h(()=>c.value[t].cards[k.GRAIN_FIELD]),S=h(()=>c.value[t].cards[k.WOOD_FOREST]),f=h(()=>c.value[t].cards[k.SHEEP_PASTURE]),y=h(()=>c.value[t].cards[k.BRICK_HILL]),P=h(()=>c.value[t].cards[k.ORE_MOUNTAIN]),B=h(()=>p.value.filter(H=>{var i;return((i=H.building)==null?void 0:i.type)===j.ROAD&&H.building.ownerId===t}).length),m=h(()=>b.value.filter(H=>{var i;return((i=H.building)==null?void 0:i.type)===j.VILLAGE&&H.building.ownerId===t}).length),x=h(()=>b.value.filter(H=>{var i;return((i=H.building)==null?void 0:i.type)===j.CITY&&H.building.ownerId===t}).length),u=h(()=>S.value>=1&&y.value>=1),C=h(()=>Y.value>=1&&f.value>=1&&S.value>=1&&y.value>=1),W=h(()=>Y.value>=2&&P.value>=3),D=h(()=>f.value>=1&&Y.value>=1&&P.value>=1),J=h(()=>Y.value+S.value+f.value+y.value+P.value);return{selected:T,roads:A,villages:_,cities:V,grain:Y,wood:S,sheep:f,brick:y,ore:P,roadBuildings:B,villageBuildings:m,cityBuildings:x,canBuyRoad:u,canBuyVillage:C,canBuyCity:W,canBuyDevelopment:D,totalCards:J}},Vt={key:0,class:"font-bold"},Yt={class:"flex flex-col gap-1"},tl=ae({__name:"PlayerInventory",props:{playerId:{}},setup(t){const d=t,c=oe(),{catanStatus:b,buildingStatus:p,activePlayerId:T,myPlayerId:A,opponents:_,canBuild:V,canBuildFirstRoad:Y,canBuildSecondRoad:S,canBuildFirstVillage:f,canBuildSecondVillage:y}=te(c),{selectBuildingType:P}=c,{selected:B,roads:m,villages:x,cities:u,grain:C,sheep:W,wood:D,brick:J,ore:H,totalCards:i}=il(d.playerId),F=h(()=>T.value!==d.playerId||!V.value);return(ee,G)=>(s(),r("div",{class:L(["flex flex-col gap-3",t.playerId===e(A)?"items-start":"items-end"])},[t.playerId===e(A)?(s(),r("p",Vt," You ")):e(_).length?(s(),r("p",{key:1,class:L(["font-bold",e(_)[0].isOnline?"text-green-400":"text-red-400"])},N(e(_)[0].displayName),3)):O("",!0),g("div",Yt,[$(M,{"pt:root":"!justify-start",class:L([e(B)===e(j).ROAD?"!border-white":"!border-none"]),variant:"neutral",icon:"pi pi-ellipsis-h",label:`${e(m)}/${e(Oe)-e(m)} roads`,disabled:F.value||e(p)!==e(me).CAN_BUILD||!e(Y)&&!e(S)||!e(m),onClick:G[0]||(G[0]=Z=>e(P)(e(j).ROAD))},null,8,["class","label","disabled"]),$(M,{"pt:root":"!justify-start",class:L([e(B)===e(j).VILLAGE?"!border-white":"!border-none"]),variant:"neutral",icon:"pi pi-home",label:`${e(x)}/${e(Jl)-e(x)} villages`,disabled:F.value||e(p)!==e(me).CAN_BUILD||!e(f)&&!e(y)||!e(x),onClick:G[1]||(G[1]=Z=>e(P)(e(j).VILLAGE))},null,8,["class","label","disabled"]),$(M,{"pt:root":"!justify-start",class:L([e(B)===e(j).CITY?"!border-white":"!border-none"]),variant:"neutral",icon:"pi pi-building",label:`${e(u)}/${e(Zl)-e(u)} cities`,disabled:F.value||e(b)!==e(X).PRODUCTION_PHASE||!e(u),onClick:G[2]||(G[2]=Z=>e(P)(e(j).CITY))},null,8,["class","label","disabled"]),t.playerId===e(A)?(s(),r(U,{key:0},[$(M,{class:"!border-yellow-500",outlined:"",label:`${e(C)} ${e(K)(e(k).GRAIN_FIELD)}`},null,8,["label"]),$(M,{class:"!border-lime-500",outlined:"",label:`${e(W)} ${e(K)(e(k).SHEEP_PASTURE)}`},null,8,["label"]),$(M,{class:"!border-green-500",outlined:"",label:`${e(D)} ${e(K)(e(k).WOOD_FOREST)}`},null,8,["label"]),$(M,{class:"!border-orange-500",outlined:"",label:`${e(J)} ${e(K)(e(k).BRICK_HILL)}`},null,8,["label"]),$(M,{class:"!border-slate-300",outlined:"",label:`${e(H)} ${e(K)(e(k).ORE_MOUNTAIN)}`},null,8,["label"])],64)):(s(),z(M,{key:1,class:"!border !border-white",variant:"neutral",label:`${e(i)} cards`},null,8,["label"]))])],2))}}),zt={class:"w-full flex flex-col gap-3 items-center"},jt={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Wt={class:"flex flex-col items-start"},Kt={class:"flex flex-col items-start"},Jt={class:"flex flex-col items-start"},Zt={class:"flex flex-col items-start"},qt=ae({__name:"Shop",setup(t){const d=oe(),{catanStatus:c,activePlayerId:b,myPlayerId:p}=te(d),{buy:T}=d,{wood:A,brick:_,grain:V,sheep:Y,ore:S,canBuyRoad:f,canBuyVillage:y,canBuyCity:P,canBuyDevelopment:B}=il(p.value),m=h(()=>[X.PRODUCTION_PHASE,X.ACTION_PHASE].includes(c.value)&&b.value===p.value);return(x,u)=>(s(),r("div",zt,[u[8]||(u[8]=g("h3",{class:"text-xl font-bold"},"Buy items:",-1)),g("div",jt,[$(M,{class:"!justify-start !items-start",variant:"neutral",disabled:!m.value||!e(f),onClick:u[0]||(u[0]=C=>e(T)(e(j).ROAD))},{default:Q(()=>[g("div",Wt,[u[4]||(u[4]=g("p",{class:"text-lg font-bold"},"Road",-1)),g("p",null,N(e(A))+"/1 "+N(e(K)(e(k).WOOD_FOREST)),1),g("p",null,N(e(_))+"/1 "+N(e(K)(e(k).BRICK_HILL)),1)])]),_:1},8,["disabled"]),$(M,{class:"!justify-start !items-start",variant:"neutral",disabled:!m.value||!e(y),onClick:u[1]||(u[1]=C=>e(T)(e(j).VILLAGE))},{default:Q(()=>[g("div",Kt,[u[5]||(u[5]=g("p",{class:"text-lg font-bold"},"Village",-1)),g("p",null,N(e(V))+"/1 "+N(e(K)(e(k).GRAIN_FIELD)),1),g("p",null,N(e(Y))+"/1 "+N(e(K)(e(k).SHEEP_PASTURE)),1),g("p",null,N(e(A))+"/1 "+N(e(K)(e(k).WOOD_FOREST)),1),g("p",null,N(e(_))+"/1 "+N(e(K)(e(k).BRICK_HILL)),1)])]),_:1},8,["disabled"]),$(M,{class:"!justify-start !items-start",variant:"neutral",disabled:!m.value||!e(P),onClick:u[2]||(u[2]=C=>e(T)(e(j).CITY))},{default:Q(()=>[g("div",Jt,[u[6]||(u[6]=g("p",{class:"text-lg font-bold"},"City",-1)),g("p",null,N(e(V))+"/2 "+N(e(K)(e(k).GRAIN_FIELD)),1),g("p",null,N(e(S))+"/3 "+N(e(K)(e(k).ORE_MOUNTAIN)),1)])]),_:1},8,["disabled"]),$(M,{class:"!justify-start !items-start",variant:"neutral",disabled:!m.value||!e(B),onClick:u[3]||(u[3]=C=>e(T)("development"))},{default:Q(()=>[g("div",Zt,[u[7]||(u[7]=g("p",{class:"text-lg font-bold"},"Development",-1)),g("p",null,N(e(V))+"/1 "+N(e(K)(e(k).GRAIN_FIELD)),1),g("p",null,N(e(Y))+"/1 "+N(e(K)(e(k).SHEEP_PASTURE)),1),g("p",null,N(e(S))+"/1 "+N(e(K)(e(k).ORE_MOUNTAIN)),1)])]),_:1},8,["disabled"])])]))}}),Qt={class:"relative mt-5 w-full grid grid-cols-2 md:grid-cols-3 gap-3 justify-center"},Xt={key:0,class:"col-span-full min-h-[25vh] flex flex-col"},en=ae({__name:"CatanMainGame",setup(t){const d=oe(),{catanStatus:c,activePlayerId:b,myPlayerId:p,mappedMap:T,opponents:A}=te(d),{isLandCard:_,selectCard:V}=d;return(Y,S)=>(s(),r("div",Qt,[$(ot,{class:"col-span-full md:col-span-1 md:col-start-2"}),e(c)>e(X).IS_INITIALIZING?(s(),r("div",Xt,[(s(!0),r(U,null,Ge(e(T),(f,y)=>(s(),r("div",{key:y,class:L(["flex gap-1 justify-center",{"-mt-7 md:-mt-8":y>0}])},[(s(!0),r(U,null,Ge(f,P=>(s(),r(U,{key:P.id},[e(_)(P)?(s(),z(Tt,{key:0,card:P,isDisabled:e(b)!==e(p),isBlocked:P.isBlocked&&e(c)>e(X).IS_FINISHING_UP,onOnClick:B=>e(V)(P)},null,8,["card","isDisabled","isBlocked","onOnClick"])):(s(),z(Ut,{key:1,card:P,onOnClick:()=>{}},null,8,["card"]))],64))),128))],2))),128))])):O("",!0),$(tl,{class:"md:absolute top-0 left-0",playerId:e(p)},null,8,["playerId"]),e(A).length?(s(),z(tl,{key:1,class:"md:absolute top-0 right-0",playerId:e(A)[0].userId},null,8,["playerId"])):O("",!0),e(c)>=e(X).IS_FINISHING_UP?(s(),z(qt,{key:2,class:"col-span-full"})):O("",!0)]))}}),ln={class:"h-fit flex flex-row-reverse md:flex-col gap-3"},tn={class:"flex flex-wrap justify-center gap-3"},nn={key:0,class:"w-full flex flex-col gap-3 items-center"},sn={key:1,class:"w-full flex flex-col items-center"},an={key:4,class:"w-full flex flex-col gap-3 items-center"},pn=ae({__name:"Catan",setup(t){const d=oe(),{gameStatus:c,gameId:b,chat:p,isOwner:T}=te(d),A=q(!1),_=q(!1),V=async()=>{b.value&&await d.deleteOnlineGame(),d.$reset()},Y=async()=>{b.value&&await d.leaveOnlineGame(),d.$reset()};return sl(()=>{d.$reset()}),Dl(async()=>{b.value&&(await d.leaveOnlineGame(),d.$reset())}),(S,f)=>(s(),z(Gl,{class:"!bg-red-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Catan",description:"Play with a friend."},{right:Q(()=>[g("div",ln,[$(M,{class:"border-none h-fit",variant:"neutral",icon:"pi pi-cog",onClick:f[0]||(f[0]=y=>_.value=!0)}),$(Fl,{"icon-only":"","is-solo":!1,"is-owner":e(T),"has-game-started":e(c)>=e(le).IS_PLAYING,"is-game-over":e(c)===e(le).HAS_FINISHED,onDelete:V},null,8,["is-owner","has-game-started","is-game-over"]),e(T)?(s(),z(M,{key:0,variant:"danger",icon:"pi pi-trash",onClick:V})):O("",!0)])]),default:Q(()=>[g("div",tn,[e(c)===e(le).HAS_NOT_STARTED?(s(),r(U,{key:0},[A.value?O("",!0):(s(),r("div",nn," Hallo en welkom. Klik hier om te starten! "))],64)):e(c)===e(le).FINDING_OPPONENT?(s(),r("div",sn,[$(Ll,{onCreateOnlineGame:f[1]||(f[1]=y=>e(d).createOnlineGame([{userId:y}])),onContinueOnlineGame:e(d).continueOnlineGame,onCreateParty:f[2]||(f[2]=(y,P)=>e(d).createOnlineGame([],y,P)),onJoinParty:e(d).continueOnlineGame},null,8,["onContinueOnlineGame","onJoinParty"])])):e(c)===e(le).IS_PLAYING?(s(),z(en,{key:2})):e(c)===e(le).HAS_FINISHED?(s(),r(U,{key:3},[se(" Je hebt gewonnen of verloren! ")],64)):O("",!0),e(c)===e(le).IS_PLAYING||e(c)===e(le).HAS_FINISHED?(s(),r("div",an,[$(Ml,{chats:e(p)??[],onSendChat:f[3]||(f[3]=y=>p.value=[...e(p)??[],y])},null,8,["chats"])])):O("",!0)]),$(Hl,{"is-viewing-highscores":A.value,"onUpdate:isViewingHighscores":f[4]||(f[4]=y=>A.value=y),"has-solo":!1,"is-solo":!1,"has-multiplayer":"","is-multiplayer":"","is-owner":e(T),"is-main-menu":e(c)===e(le).HAS_NOT_STARTED,"has-game-started":e(c)>=e(le).IS_PLAYING,"is-game-over":e(c)===e(le).HAS_FINISHED,onPlayMultiplayer:f[5]||(f[5]=y=>c.value=e(le).FINDING_OPPONENT),onRestart:V,onGoBack:Y},null,8,["is-viewing-highscores","is-owner","is-main-menu","has-game-started","is-game-over"]),$(Ul,{"game-id":e(pe).CATAN,"is-open":_.value,"onUpdate:isOpen":f[6]||(f[6]=y=>_.value=y)},null,8,["game-id","is-open"])]),_:1}))}});export{pn as default};
