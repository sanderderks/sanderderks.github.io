var oN=Object.defineProperty;var aN=(t,e,n)=>e in t?oN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jo=(t,e,n)=>(aN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Rp(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Yt={},xl=[],Pi=()=>{},lN=()=>!1,uN=/^on[^a-z]/,Sd=t=>uN.test(t),E0=t=>t.startsWith("onUpdate:"),dn=Object.assign,S0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},cN=Object.prototype.hasOwnProperty,At=(t,e)=>cN.call(t,e),Fe=Array.isArray,Pl=t=>vu(t)==="[object Map]",Va=t=>vu(t)==="[object Set]",P_=t=>vu(t)==="[object Date]",dN=t=>vu(t)==="[object RegExp]",nt=t=>typeof t=="function",hn=t=>typeof t=="string",Hl=t=>typeof t=="symbol",qt=t=>t!==null&&typeof t=="object",C0=t=>(qt(t)||nt(t))&&nt(t.then)&&nt(t.catch),nC=Object.prototype.toString,vu=t=>nC.call(t),hN=t=>vu(t).slice(8,-1),rC=t=>vu(t)==="[object Object]",I0=t=>hn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,mc=Rp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Op=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},fN=/-(\w)/g,Wr=Op(t=>t.replace(fN,(e,n)=>n?n.toUpperCase():"")),pN=/\B([A-Z])/g,di=Op(t=>t.replace(pN,"-$1").toLowerCase()),Cd=Op(t=>t.charAt(0).toUpperCase()+t.slice(1)),gc=Op(t=>t?`on${Cd(t)}`:""),Eo=(t,e)=>!Object.is(t,e),Dl=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Tf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ef=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Sf=t=>{const e=hn(t)?Number(t):NaN;return isNaN(e)?t:e};let D_;const Iv=()=>D_||(D_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),mN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",gN=Rp(mN);function Nn(t){if(Fe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=hn(r)?bN(r):Nn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(hn(t)||qt(t))return t}const vN=/;(?![^(]*\))/g,yN=/:([^]+)/,wN=/\/\*[^]*?\*\//g;function bN(t){const e={};return t.replace(wN,"").split(vN).forEach(n=>{if(n){const r=n.split(yN);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Oe(t){let e="";if(hn(t))e=t;else if(Fe(t))for(let n=0;n<t.length;n++){const r=Oe(t[n]);r&&(e+=r+" ")}else if(qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Tn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!hn(e)&&(t.class=Oe(e)),n&&(t.style=Nn(n)),t}const _N="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TN=Rp(_N);function iC(t){return!!t||t===""}function EN(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=So(t[r],e[r]);return n}function So(t,e){if(t===e)return!0;let n=P_(t),r=P_(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Hl(t),r=Hl(e),n||r)return t===e;if(n=Fe(t),r=Fe(e),n||r)return n&&r?EN(t,e):!1;if(n=qt(t),r=qt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!So(t[o],e[o]))return!1}}return String(t)===String(e)}function Np(t,e){return t.findIndex(n=>So(n,e))}const Qe=t=>hn(t)?t:t==null?"":Fe(t)||qt(t)&&(t.toString===nC||!nt(t.toString))?JSON.stringify(t,sC,2):String(t),sC=(t,e)=>e&&e.__v_isRef?sC(t,e.value):Pl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Va(e)?{[`Set(${e.size})`]:[...e.values()]}:qt(e)&&!Fe(e)&&!rC(e)?String(e):e;let Xr;class k0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xr,!e&&Xr&&(this.index=(Xr.scopes||(Xr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Xr;try{return Xr=this,e()}finally{Xr=n}}}on(){Xr=this}off(){Xr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Mp(t){return new k0(t)}function oC(t,e=Xr){e&&e.active&&e.effects.push(t)}function Lp(){return Xr}function A0(t){Xr&&Xr.cleanups.push(t)}const x0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},aC=t=>(t.w&Co)>0,lC=t=>(t.n&Co)>0,SN=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Co},CN=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];aC(i)&&!lC(i)?i.delete(t):e[n++]=i,i.w&=~Co,i.n&=~Co}e.length=n}},Cf=new WeakMap;let Zu=0,Co=1;const kv=30;let Ci;const ua=Symbol(""),Av=Symbol("");class Wl{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,oC(this,r)}run(){if(!this.active)return this.fn();let e=Ci,n=ho;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ci,Ci=this,ho=!0,Co=1<<++Zu,Zu<=kv?SN(this):R_(this),this.fn()}finally{Zu<=kv&&CN(this),Co=1<<--Zu,Ci=this.parent,ho=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ci===this?this.deferStop=!0:this.active&&(R_(this),this.onStop&&this.onStop(),this.active=!1)}}function R_(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function IN(t,e){t.effect instanceof Wl&&(t=t.effect.fn);const n=new Wl(t);e&&(dn(n,e),e.scope&&oC(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function kN(t){t.effect.stop()}let ho=!0;const uC=[];function yu(){uC.push(ho),ho=!1}function wu(){const t=uC.pop();ho=t===void 0?!0:t}function Yr(t,e,n){if(ho&&Ci){let r=Cf.get(t);r||Cf.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=x0()),cC(i)}}function cC(t,e){let n=!1;Zu<=kv?lC(t)||(t.n|=Co,n=!aC(t)):n=!t.has(Ci),n&&(t.add(Ci),Ci.deps.push(t))}function Ss(t,e,n,r,i,s){const o=Cf.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Fe(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Hl(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Fe(t)?I0(n)&&a.push(o.get("length")):(a.push(o.get(ua)),Pl(t)&&a.push(o.get(Av)));break;case"delete":Fe(t)||(a.push(o.get(ua)),Pl(t)&&a.push(o.get(Av)));break;case"set":Pl(t)&&a.push(o.get(ua));break}if(a.length===1)a[0]&&xv(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);xv(x0(l))}}function xv(t,e){const n=Fe(t)?t:[...t];for(const r of n)r.computed&&O_(r);for(const r of n)r.computed||O_(r)}function O_(t,e){(t!==Ci||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function AN(t,e){var n;return(n=Cf.get(t))==null?void 0:n.get(e)}const xN=Rp("__proto__,__v_isRef,__isVue"),dC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hl)),N_=PN();function PN(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=pt(this);for(let s=0,o=this.length;s<o;s++)Yr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(pt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){yu();const r=pt(this)[e].apply(this,n);return wu(),r}}),t}function DN(t){const e=pt(this);return Yr(e,"has",t),e.hasOwnProperty(t)}class hC{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&r===(i?s?yC:vC:s?gC:mC).get(e))return e;const o=Fe(e);if(!i){if(o&&At(N_,n))return Reflect.get(N_,n,r);if(n==="hasOwnProperty")return DN}const a=Reflect.get(e,n,r);return(Hl(n)?dC.has(n):xN(n))||(i||Yr(e,"get",n),s)?a:Gt(a)?o&&I0(n)?a:a.value:qt(a)?i?D0(a):Ln(a):a}}class fC extends hC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(ba(s)&&Gt(s)&&!Gt(r))return!1;if(!this._shallow&&(!jc(r)&&!ba(r)&&(s=pt(s),r=pt(r)),!Fe(e)&&Gt(s)&&!Gt(r)))return s.value=r,!0;const o=Fe(e)&&I0(n)?Number(n)<e.length:At(e,n),a=Reflect.set(e,n,r,i);return e===pt(i)&&(o?Eo(r,s)&&Ss(e,"set",n,r):Ss(e,"add",n,r)),a}deleteProperty(e,n){const r=At(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ss(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Hl(n)||!dC.has(n))&&Yr(e,"has",n),r}ownKeys(e){return Yr(e,"iterate",Fe(e)?"length":ua),Reflect.ownKeys(e)}}class pC extends hC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const RN=new fC,ON=new pC,NN=new fC(!0),MN=new pC(!0),P0=t=>t,$p=t=>Reflect.getPrototypeOf(t);function hh(t,e,n=!1,r=!1){t=t.__v_raw;const i=pt(t),s=pt(e);n||(Eo(e,s)&&Yr(i,"get",e),Yr(i,"get",s));const{has:o}=$p(i),a=r?P0:n?O0:Hc;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function fh(t,e=!1){const n=this.__v_raw,r=pt(n),i=pt(t);return e||(Eo(t,i)&&Yr(r,"has",t),Yr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ph(t,e=!1){return t=t.__v_raw,!e&&Yr(pt(t),"iterate",ua),Reflect.get(t,"size",t)}function M_(t){t=pt(t);const e=pt(this);return $p(e).has.call(e,t)||(e.add(t),Ss(e,"add",t,t)),this}function L_(t,e){e=pt(e);const n=pt(this),{has:r,get:i}=$p(n);let s=r.call(n,t);s||(t=pt(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Eo(e,o)&&Ss(n,"set",t,e):Ss(n,"add",t,e),this}function $_(t){const e=pt(this),{has:n,get:r}=$p(e);let i=n.call(e,t);i||(t=pt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Ss(e,"delete",t,void 0),s}function U_(){const t=pt(this),e=t.size!==0,n=t.clear();return e&&Ss(t,"clear",void 0,void 0),n}function mh(t,e){return function(r,i){const s=this,o=s.__v_raw,a=pt(o),l=e?P0:t?O0:Hc;return!t&&Yr(a,"iterate",ua),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function gh(t,e,n){return function(...r){const i=this.__v_raw,s=pt(i),o=Pl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?P0:e?O0:Hc;return!e&&Yr(s,"iterate",l?Av:ua),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function js(t){return function(...e){return t==="delete"?!1:this}}function LN(){const t={get(s){return hh(this,s)},get size(){return ph(this)},has:fh,add:M_,set:L_,delete:$_,clear:U_,forEach:mh(!1,!1)},e={get(s){return hh(this,s,!1,!0)},get size(){return ph(this)},has:fh,add:M_,set:L_,delete:$_,clear:U_,forEach:mh(!1,!0)},n={get(s){return hh(this,s,!0)},get size(){return ph(this,!0)},has(s){return fh.call(this,s,!0)},add:js("add"),set:js("set"),delete:js("delete"),clear:js("clear"),forEach:mh(!0,!1)},r={get(s){return hh(this,s,!0,!0)},get size(){return ph(this,!0)},has(s){return fh.call(this,s,!0)},add:js("add"),set:js("set"),delete:js("delete"),clear:js("clear"),forEach:mh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=gh(s,!1,!1),n[s]=gh(s,!0,!1),e[s]=gh(s,!1,!0),r[s]=gh(s,!0,!0)}),[t,n,e,r]}const[$N,UN,FN,VN]=LN();function Up(t,e){const n=e?t?VN:FN:t?UN:$N;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(At(n,i)&&i in r?n:r,i,s)}const BN={get:Up(!1,!1)},jN={get:Up(!1,!0)},HN={get:Up(!0,!1)},WN={get:Up(!0,!0)},mC=new WeakMap,gC=new WeakMap,vC=new WeakMap,yC=new WeakMap;function KN(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YN(t){return t.__v_skip||!Object.isExtensible(t)?0:KN(hN(t))}function Ln(t){return ba(t)?t:Fp(t,!1,RN,BN,mC)}function wC(t){return Fp(t,!1,NN,jN,gC)}function D0(t){return Fp(t,!0,ON,HN,vC)}function zN(t){return Fp(t,!0,MN,WN,yC)}function Fp(t,e,n,r,i){if(!qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=YN(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Xi(t){return ba(t)?Xi(t.__v_raw):!!(t&&t.__v_isReactive)}function ba(t){return!!(t&&t.__v_isReadonly)}function jc(t){return!!(t&&t.__v_isShallow)}function R0(t){return Xi(t)||ba(t)}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function Id(t){return Tf(t,"__v_skip",!0),t}const Hc=t=>qt(t)?Ln(t):t,O0=t=>qt(t)?D0(t):t;function N0(t){ho&&Ci&&(t=pt(t),cC(t.dep||(t.dep=x0())))}function Vp(t,e){t=pt(t);const n=t.dep;n&&xv(n)}function Gt(t){return!!(t&&t.__v_isRef===!0)}function ue(t){return _C(t,!1)}function bC(t){return _C(t,!0)}function _C(t,e){return Gt(t)?t:new GN(t,e)}class GN{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:pt(e),this._value=n?e:Hc(e)}get value(){return N0(this),this._value}set value(e){const n=this.__v_isShallow||jc(e)||ba(e);e=n?e:pt(e),Eo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Hc(e),Vp(this))}}function qN(t){Vp(t)}function x(t){return Gt(t)?t.value:t}function QN(t){return nt(t)?t():x(t)}const XN={get:(t,e,n)=>x(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Gt(i)&&!Gt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function M0(t){return Xi(t)?t:new Proxy(t,XN)}class JN{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>N0(this),()=>Vp(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function ZN(t){return new JN(t)}function TC(t){const e=Fe(t)?new Array(t.length):{};for(const n in t)e[n]=EC(t,n);return e}class eM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return AN(pt(this._object),this._key)}}class tM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Kl(t,e,n){return Gt(t)?t:nt(t)?new tM(t):qt(t)&&arguments.length>1?EC(t,e,n):ue(t)}function EC(t,e,n){const r=t[e];return Gt(r)?r:new eM(t,e,n)}class nM{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Wl(e,()=>{this._dirty||(this._dirty=!0,Vp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=pt(this);return N0(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function rM(t,e,n=!1){let r,i;const s=nt(t);return s?(r=t,i=Pi):(r=t.get,i=t.set),new nM(r,i,s||!i,n)}function iM(t,...e){}function sM(t,e){}function Cs(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Ba(s,e,n)}return i}function ni(t,e,n,r){if(nt(t)){const s=Cs(t,e,n,r);return s&&C0(s)&&s.catch(o=>{Ba(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(ni(t[s],e,n,r));return i}function Ba(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Cs(l,null,10,[t,o,a]);return}}oM(t,n,i,r)}function oM(t,e,n,r=!0){console.error(t)}let Wc=!1,Pv=!1;const fr=[];let ji=0;const Rl=[];let ms=null,Zo=0;const SC=Promise.resolve();let L0=null;function Rr(t){const e=L0||SC;return t?e.then(this?t.bind(this):t):e}function aM(t){let e=ji+1,n=fr.length;for(;e<n;){const r=e+n>>>1,i=fr[r],s=Kc(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Bp(t){(!fr.length||!fr.includes(t,Wc&&t.allowRecurse?ji+1:ji))&&(t.id==null?fr.push(t):fr.splice(aM(t.id),0,t),CC())}function CC(){!Wc&&!Pv&&(Pv=!0,L0=SC.then(IC))}function lM(t){const e=fr.indexOf(t);e>ji&&fr.splice(e,1)}function If(t){Fe(t)?Rl.push(...t):(!ms||!ms.includes(t,t.allowRecurse?Zo+1:Zo))&&Rl.push(t),CC()}function F_(t,e=Wc?ji+1:0){for(;e<fr.length;e++){const n=fr[e];n&&n.pre&&(fr.splice(e,1),e--,n())}}function kf(t){if(Rl.length){const e=[...new Set(Rl)];if(Rl.length=0,ms){ms.push(...e);return}for(ms=e,ms.sort((n,r)=>Kc(n)-Kc(r)),Zo=0;Zo<ms.length;Zo++)ms[Zo]();ms=null,Zo=0}}const Kc=t=>t.id==null?1/0:t.id,uM=(t,e)=>{const n=Kc(t)-Kc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function IC(t){Pv=!1,Wc=!0,fr.sort(uM);const e=Pi;try{for(ji=0;ji<fr.length;ji++){const n=fr[ji];n&&n.active!==!1&&Cs(n,null,14)}}finally{ji=0,fr.length=0,kf(),Wc=!1,L0=null,(fr.length||Rl.length)&&IC()}}let hl,vh=[];function kC(t,e){var n,r;hl=t,hl?(hl.enabled=!0,vh.forEach(({event:i,args:s})=>hl.emit(i,...s)),vh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{kC(s,e)}),setTimeout(()=>{hl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,vh=[])},3e3)):vh=[]}function cM(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Yt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=r[c]||Yt;h&&(i=n.map(f=>hn(f)?f.trim():f)),d&&(i=n.map(Ef))}let a,l=r[a=gc(e)]||r[a=gc(Wr(e))];!l&&s&&(l=r[a=gc(di(e))]),l&&ni(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ni(u,t,6,i)}}function AC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!nt(t)){const l=u=>{const c=AC(u,e,!0);c&&(a=!0,dn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(qt(t)&&r.set(t,null),null):(Fe(s)?s.forEach(l=>o[l]=null):dn(o,s),qt(t)&&r.set(t,o),o)}function jp(t,e){return!t||!Sd(e)?!1:(e=e.slice(2).replace(/Once$/,""),At(t,e[0].toLowerCase()+e.slice(1))||At(t,di(e))||At(t,e))}let Hn=null,Hp=null;function Yc(t){const e=Hn;return Hn=t,Hp=t&&t.type.__scopeId||null,e}function $0(t){Hp=t}function U0(){Hp=null}const dM=t=>ye;function ye(t,e=Hn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&$v(-1);const s=Yc(e);let o;try{o=t(...i)}finally{Yc(s),r._d&&$v(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function nf(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t;let y,_;const v=Yc(t);try{if(n.shapeFlag&4){const g=i||r;y=Jr(c.call(g,g,d,s,f,h,p)),_=l}else{const g=e;y=Jr(g.length>1?g(s,{attrs:l,slots:a,emit:u}):g(s,null)),_=e.props?l:fM(l)}}catch(g){wc.length=0,Ba(g,t,1),y=ae(vr)}let b=y;if(_&&m!==!1){const g=Object.keys(_),{shapeFlag:w}=b;g.length&&w&7&&(o&&g.some(E0)&&(_=pM(_,o)),b=is(b,_))}return n.dirs&&(b=is(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),y=b,Yc(v),y}function hM(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Io(r)){if(r.type!==vr||r.children==="v-if"){if(e)return;e=r}}else return}return e}const fM=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sd(n))&&((e||(e={}))[n]=t[n]);return e},pM=(t,e)=>{const n={};for(const r in t)(!E0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function mM(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?V_(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!jp(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?V_(r,o,u):!0:!!o;return!1}function V_(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!jp(n,s))return!0}return!1}function F0({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const V0="components",gM="directives";function $s(t,e){return B0(V0,t,!0,e)||t}const xC=Symbol.for("v-ndc");function kd(t){return hn(t)?B0(V0,t,!1)||t:t||xC}function vM(t){return B0(gM,t)}function B0(t,e,n=!0,r=!1){const i=Hn||Pn;if(i){const s=i.type;if(t===V0){const a=Vv(s,!1);if(a&&(a===e||a===Wr(e)||a===Cd(Wr(e))))return s}const o=B_(i[t]||s[t],e)||B_(i.appContext[t],e);return!o&&r?s:o}}function B_(t,e){return t&&(t[e]||t[Wr(e)]||t[Cd(Wr(e))])}const PC=t=>t.__isSuspense,yM={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){t==null?bM(e,n,r,i,s,o,a,l,u):_M(t,e,n,r,i,o,a,l,u)},hydrate:TM,create:j0,normalize:EM},wM=yM;function zc(t,e){const n=t.props&&t.props[e];nt(n)&&n()}function bM(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=j0(t,i,r,e,d,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,s,o),h.deps>0?(zc(t,"onPending"),zc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Ol(h,t.ssFallback)):h.resolve(!1,!0)}function _M(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:y,isHydrating:_}=d;if(m)d.pendingBranch=h,Ii(h,m)?(l(m,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():y&&(l(p,f,n,r,i,null,s,o,a),Ol(d,f))):(d.pendingId++,_?(d.isHydrating=!1,d.activeBranch=m):u(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),y?(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,f,n,r,i,null,s,o,a),Ol(d,f))):p&&Ii(h,p)?(l(p,h,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&Ii(h,p))l(p,h,n,r,i,d,s,o,a),Ol(d,h);else if(zc(e,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:v,pendingId:b}=d;v>0?setTimeout(()=>{d.pendingId===b&&d.fallback(f)},v):v===0&&d.fallback(f)}}function j0(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:m,remove:y}}=u;let _;const v=SM(t);v&&e!=null&&e.pendingBranch&&(_=e.pendingId,e.deps++);const b=t.props?Sf(t.props.timeout):void 0,g={vnode:t,parent:e,parentComponent:n,isSVG:o,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(w=!1,T=!1){const{vnode:O,activeBranch:k,pendingBranch:A,pendingId:S,effects:L,parentComponent:U,container:C}=g;let H=!1;if(g.isHydrating)g.isHydrating=!1;else if(!w){H=k&&A.transition&&A.transition.mode==="out-in",H&&(k.transition.afterLeave=()=>{S===g.pendingId&&(h(A,C,W,0),If(L))});let{anchor:W}=g;k&&(W=p(k),f(k,U,g,!0)),H||h(A,C,W,0)}Ol(g,A),g.pendingBranch=null,g.isInFallback=!1;let M=g.parent,N=!1;for(;M;){if(M.pendingBranch){M.effects.push(...L),N=!0;break}M=M.parent}!N&&!H&&If(L),g.effects=[],v&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),zc(O,"onResolve")},fallback(w){if(!g.pendingBranch)return;const{vnode:T,activeBranch:O,parentComponent:k,container:A,isSVG:S}=g;zc(T,"onFallback");const L=p(O),U=()=>{g.isInFallback&&(d(null,w,A,L,k,null,S,a,l),Ol(g,w))},C=w.transition&&w.transition.mode==="out-in";C&&(O.transition.afterLeave=U),g.isInFallback=!0,f(O,k,null,!0),C||U()},move(w,T,O){g.activeBranch&&h(g.activeBranch,w,T,O),g.container=w},next(){return g.activeBranch&&p(g.activeBranch)},registerDep(w,T){const O=!!g.pendingBranch;O&&g.deps++;const k=w.vnode.el;w.asyncDep.catch(A=>{Ba(A,w,0)}).then(A=>{if(w.isUnmounted||g.isUnmounted||g.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:S}=w;Uv(w,A,!1),k&&(S.el=k);const L=!k&&w.subTree.el;T(w,S,m(k||w.subTree.el),k?null:p(w.subTree),g,o,l),L&&y(L),F0(w,S.el),O&&--g.deps===0&&g.resolve()})},unmount(w,T){g.isUnmounted=!0,g.activeBranch&&f(g.activeBranch,n,w,T),g.pendingBranch&&f(g.pendingBranch,n,w,T)}};return g}function TM(t,e,n,r,i,s,o,a,l){const u=e.suspense=j0(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function EM(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=j_(r?n.default:n),t.ssFallback=r?j_(n.fallback):ae(vr)}function j_(t){let e;if(nt(t)){const n=Ea&&t._c;n&&(t._d=!1,D()),t=t(),n&&(t._d=!0,e=Br,aI())}return Fe(t)&&(t=hM(t)),t=Jr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function DC(t,e){e&&e.pendingBranch?Fe(t)?e.effects.push(...t):e.effects.push(t):If(t)}function Ol(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,F0(r,i))}function SM(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function RC(t,e){return Ad(t,null,e)}function OC(t,e){return Ad(t,null,{flush:"post"})}function CM(t,e){return Ad(t,null,{flush:"sync"})}const yh={};function cn(t,e,n){return Ad(t,e,n)}function Ad(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Yt){var a;const l=Lp()===((a=Pn)==null?void 0:a.scope)?Pn:null;let u,c=!1,d=!1;if(Gt(t)?(u=()=>t.value,c=jc(t)):Xi(t)?(u=()=>t,r=!0):Fe(t)?(d=!0,c=t.some(g=>Xi(g)||jc(g)),u=()=>t.map(g=>{if(Gt(g))return g.value;if(Xi(g))return ra(g);if(nt(g))return Cs(g,l,2)})):nt(t)?e?u=()=>Cs(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),ni(t,l,3,[f])}:u=Pi,e&&r){const g=u;u=()=>ra(g())}let h,f=g=>{h=v.onStop=()=>{Cs(g,l,4)}},p;if(zl)if(f=Pi,e?n&&ni(e,l,3,[u(),d?[]:void 0,f]):u(),i==="sync"){const g=gI();p=g.__watcherHandles||(g.__watcherHandles=[])}else return Pi;let m=d?new Array(t.length).fill(yh):yh;const y=()=>{if(v.active)if(e){const g=v.run();(r||c||(d?g.some((w,T)=>Eo(w,m[T])):Eo(g,m)))&&(h&&h(),ni(e,l,3,[g,m===yh?void 0:d&&m[0]===yh?[]:m,f]),m=g)}else v.run()};y.allowRecurse=!!e;let _;i==="sync"?_=y:i==="post"?_=()=>Xn(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),_=()=>Bp(y));const v=new Wl(u,_);e?n?y():m=v.run():i==="post"?Xn(v.run.bind(v),l&&l.suspense):v.run();const b=()=>{v.stop(),l&&l.scope&&S0(l.scope.effects,v)};return p&&p.push(b),b}function IM(t,e,n){const r=this.proxy,i=hn(t)?t.includes(".")?NC(r,t):()=>r[t]:t.bind(r,r);let s;nt(e)?s=e:(s=e.handler,n=e);const o=Pn;ko(this);const a=Ad(i,s.bind(r),n);return o?ko(o):fo(),a}function NC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function ra(t,e){if(!qt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Gt(t))ra(t.value,e);else if(Fe(t))for(let n=0;n<t.length;n++)ra(t[n],e);else if(Va(t)||Pl(t))t.forEach(n=>{ra(n,e)});else if(rC(t))for(const n in t)ra(t[n],e);return t}function Ji(t,e){const n=Hn;if(n===null)return t;const r=Gp(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=Yt]=e[s];o&&(nt(o)&&(o={mounted:o,updated:o}),o.deep&&ra(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function Vi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(yu(),ni(l,n,8,[t.el,a,t,e]),wu())}}const Js=Symbol("_leaveCb"),wh=Symbol("_enterCb");function H0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Jt(()=>{t.isMounted=!0}),Pd(()=>{t.isUnmounting=!0}),t}const li=[Function,Array],W0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:li,onEnter:li,onAfterEnter:li,onEnterCancelled:li,onBeforeLeave:li,onLeave:li,onAfterLeave:li,onLeaveCancelled:li,onBeforeAppear:li,onAppear:li,onAfterAppear:li,onAppearCancelled:li},kM={name:"BaseTransition",props:W0,setup(t,{slots:e}){const n=ls(),r=H0();let i;return()=>{const s=e.default&&Wp(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const m of s)if(m.type!==vr){o=m;break}}const a=pt(t),{mode:l}=a;if(r.isLeaving)return ng(o);const u=H_(o);if(!u)return ng(o);const c=Yl(u,a,r,n);_a(u,c);const d=n.subTree,h=d&&H_(d);let f=!1;const{getTransitionKey:p}=u.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,f=!0)}if(h&&h.type!==vr&&(!Ii(u,h)||f)){const m=Yl(h,a,r,n);if(_a(h,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},ng(o);l==="in-out"&&u.type!==vr&&(m.delayLeave=(y,_,v)=>{const b=LC(r,h);b[String(h.key)]=h,y[Js]=()=>{_(),y[Js]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return o}}},MC=kM;function LC(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Yl(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:_,onAppearCancelled:v}=e,b=String(t.key),g=LC(n,t),w=(k,A)=>{k&&ni(k,r,9,A)},T=(k,A)=>{const S=A[1];w(k,A),Fe(k)?k.every(L=>L.length<=1)&&S():k.length<=1&&S()},O={mode:s,persisted:o,beforeEnter(k){let A=a;if(!n.isMounted)if(i)A=m||a;else return;k[Js]&&k[Js](!0);const S=g[b];S&&Ii(t,S)&&S.el[Js]&&S.el[Js](),w(A,[k])},enter(k){let A=l,S=u,L=c;if(!n.isMounted)if(i)A=y||l,S=_||u,L=v||c;else return;let U=!1;const C=k[wh]=H=>{U||(U=!0,H?w(L,[k]):w(S,[k]),O.delayedLeave&&O.delayedLeave(),k[wh]=void 0)};A?T(A,[k,C]):C()},leave(k,A){const S=String(t.key);if(k[wh]&&k[wh](!0),n.isUnmounting)return A();w(d,[k]);let L=!1;const U=k[Js]=C=>{L||(L=!0,A(),C?w(p,[k]):w(f,[k]),k[Js]=void 0,g[S]===t&&delete g[S])};g[S]=t,h?T(h,[k,U]):U()},clone(k){return Yl(k,e,n,r)}};return O}function ng(t){if(xd(t))return t=is(t),t.children=null,t}function H_(t){return xd(t)?t.children?t.children[0]:void 0:t}function _a(t,e){t.shapeFlag&6&&t.component?_a(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Wp(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ie?(o.patchFlag&128&&i++,r=r.concat(Wp(o.children,e,a))):(e||o.type!==vr)&&r.push(a!=null?is(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ee(t,e){return nt(t)?(()=>dn({name:t.name},e,{setup:t}))():t}const ca=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function AM(t){nt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let f;return l||(f=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,y)=>{a(p,()=>m(d()),()=>y(p),c+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Ee({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const f=Pn;if(u)return()=>rg(u,f);const p=v=>{l=null,Ba(v,f,13,!r)};if(o&&f.suspense||zl)return h().then(v=>()=>rg(v,f)).catch(v=>(p(v),()=>r?ae(r,{error:v}):null));const m=ue(!1),y=ue(),_=ue(!!i);return i&&setTimeout(()=>{_.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!y.value){const v=new Error(`Async component timed out after ${s}ms.`);p(v),y.value=v}},s),h().then(()=>{m.value=!0,f.parent&&xd(f.parent.vnode)&&Bp(f.parent.update)}).catch(v=>{p(v),y.value=v}),()=>{if(m.value&&u)return rg(u,f);if(y.value&&r)return ae(r,{error:y.value});if(n&&!_.value)return ae(n)}}})}function rg(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=ae(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const xd=t=>t.type.__isKeepAlive,xM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ls(),r=n.ctx;if(!r.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(v,b,g,w,T)=>{const O=v.component;u(v,b,g,0,a),l(O.vnode,v,b,g,O,a,w,v.slotScopeIds,T),Xn(()=>{O.isDeactivated=!1,O.a&&Dl(O.a);const k=v.props&&v.props.onVnodeMounted;k&&Ur(k,O.parent,v)},a)},r.deactivate=v=>{const b=v.component;u(v,h,null,1,a),Xn(()=>{b.da&&Dl(b.da);const g=v.props&&v.props.onVnodeUnmounted;g&&Ur(g,b.parent,v),b.isDeactivated=!0},a)};function f(v){ig(v),c(v,n,a,!0)}function p(v){i.forEach((b,g)=>{const w=Vv(b.type);w&&(!v||!v(w))&&m(g)})}function m(v){const b=i.get(v);!o||!Ii(b,o)?f(b):o&&ig(o),i.delete(v),s.delete(v)}cn(()=>[t.include,t.exclude],([v,b])=>{v&&p(g=>ec(v,g)),b&&p(g=>!ec(b,g))},{flush:"post",deep:!0});let y=null;const _=()=>{y!=null&&i.set(y,sg(n.subTree))};return Jt(_),Yp(_),Pd(()=>{i.forEach(v=>{const{subTree:b,suspense:g}=n,w=sg(b);if(v.type===w.type&&v.key===w.key){ig(w);const T=w.component.da;T&&Xn(T,g);return}f(v)})}),()=>{if(y=null,!e.default)return null;const v=e.default(),b=v[0];if(v.length>1)return o=null,v;if(!Io(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return o=null,b;let g=sg(b);const w=g.type,T=Vv(ca(g)?g.type.__asyncResolved||{}:w),{include:O,exclude:k,max:A}=t;if(O&&(!T||!ec(O,T))||k&&T&&ec(k,T))return o=g,b;const S=g.key==null?w:g.key,L=i.get(S);return g.el&&(g=is(g),b.shapeFlag&128&&(b.ssContent=g)),y=S,L?(g.el=L.el,g.component=L.component,g.transition&&_a(g,g.transition),g.shapeFlag|=512,s.delete(S),s.add(S)):(s.add(S),A&&s.size>parseInt(A,10)&&m(s.values().next().value)),g.shapeFlag|=256,o=g,PC(b.type)?b:g}}},PM=xM;function ec(t,e){return Fe(t)?t.some(n=>ec(n,e)):hn(t)?t.split(",").includes(e):dN(t)?t.test(e):!1}function $C(t,e){FC(t,"a",e)}function UC(t,e){FC(t,"da",e)}function FC(t,e,n=Pn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Kp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)xd(i.parent.vnode)&&DM(r,e,n,i),i=i.parent}}function DM(t,e,n,r){const i=Kp(e,t,r,!0);ja(()=>{S0(r[e],i)},n)}function ig(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function sg(t){return t.shapeFlag&128?t.ssContent:t}function Kp(t,e,n=Pn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;yu(),ko(n);const a=ni(e,n,t,o);return fo(),wu(),a});return r?i.unshift(s):i.push(s),s}}const Us=t=>(e,n=Pn)=>(!zl||t==="sp")&&Kp(t,(...r)=>e(...r),n),VC=Us("bm"),Jt=Us("m"),K0=Us("bu"),Yp=Us("u"),Pd=Us("bum"),ja=Us("um"),BC=Us("sp"),jC=Us("rtg"),HC=Us("rtc");function WC(t,e=Pn){Kp("ec",t,e)}function ut(t,e,n,r){let i;const s=n&&n[r];if(Fe(t)||hn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(qt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function rr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Fe(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function xe(t,e,n={},r,i){if(Hn.isCE||Hn.parent&&ca(Hn.parent)&&Hn.parent.isCE)return e!=="default"&&(n.name=e),ae("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),D();const o=s&&KC(s(n)),a=ve(Ie,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function KC(t){return t.some(e=>Io(e)?!(e.type===vr||e.type===Ie&&!KC(e.children)):!0)?t:null}function RM(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:gc(r)]=t[r];return n}const Dv=t=>t?dI(t)?Gp(t)||t.proxy:Dv(t.parent):null,vc=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Dv(t.parent),$root:t=>Dv(t.root),$emit:t=>t.emit,$options:t=>Y0(t),$forceUpdate:t=>t.f||(t.f=()=>Bp(t.update)),$nextTick:t=>t.n||(t.n=Rr.bind(t.proxy)),$watch:t=>IM.bind(t)}),og=(t,e)=>t!==Yt&&!t.__isScriptSetup&&At(t,e),Rv={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(og(r,e))return o[e]=1,r[e];if(i!==Yt&&At(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&At(u,e))return o[e]=3,s[e];if(n!==Yt&&At(n,e))return o[e]=4,n[e];Ov&&(o[e]=0)}}const c=vc[e];let d,h;if(c)return e==="$attrs"&&Yr(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Yt&&At(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,At(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return og(i,e)?(i[e]=n,!0):r!==Yt&&At(r,e)?(r[e]=n,!0):At(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Yt&&At(t,o)||og(e,o)||(a=s[0])&&At(a,o)||At(r,o)||At(vc,o)||At(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:At(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},OM=dn({},Rv,{get(t,e){if(e!==Symbol.unscopables)return Rv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!gN(e)}});function NM(){return null}function MM(){return null}function LM(t){}function $M(t){}function UM(){return null}function FM(){}function VM(t,e){return null}function No(){return YC().slots}function BM(){return YC().attrs}function jM(t,e,n){const r=ls();if(n&&n.local){const i=ue(t[e]);return cn(()=>t[e],s=>i.value=s),cn(i,s=>{s!==t[e]&&r.emit(`update:${e}`,s)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){r.emit(`update:${e}`,i)}}}function YC(){const t=ls();return t.setupContext||(t.setupContext=pI(t))}function Gc(t){return Fe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function HM(t,e){const n=Gc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Fe(i)||nt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function WM(t,e){return!t||!e?t||e:Fe(t)&&Fe(e)?t.concat(e):dn({},Gc(t),Gc(e))}function KM(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function YM(t){const e=ls();let n=t();return fo(),C0(n)&&(n=n.catch(r=>{throw ko(e),r})),[n,()=>ko(e)]}let Ov=!0;function zM(t){const e=Y0(t),n=t.proxy,r=t.ctx;Ov=!1,e.beforeCreate&&W_(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:y,beforeDestroy:_,beforeUnmount:v,destroyed:b,unmounted:g,render:w,renderTracked:T,renderTriggered:O,errorCaptured:k,serverPrefetch:A,expose:S,inheritAttrs:L,components:U,directives:C,filters:H}=e;if(u&&GM(u,r,null),o)for(const W in o){const J=o[W];nt(J)&&(r[W]=J.bind(n))}if(i){const W=i.call(n,n);qt(W)&&(t.data=Ln(W))}if(Ov=!0,s)for(const W in s){const J=s[W],$=nt(J)?J.bind(n,n):nt(J.get)?J.get.bind(n,n):Pi,I=!nt(J)&&nt(J.set)?J.set.bind(n):Pi,Z=re({get:$,set:I});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ie=>Z.value=ie})}if(a)for(const W in a)zC(a[W],r,n,W);if(l){const W=nt(l)?l.call(n):l;Reflect.ownKeys(W).forEach(J=>{Nl(J,W[J])})}c&&W_(c,t,"c");function N(W,J){Fe(J)?J.forEach($=>W($.bind(n))):J&&W(J.bind(n))}if(N(VC,d),N(Jt,h),N(K0,f),N(Yp,p),N($C,m),N(UC,y),N(WC,k),N(HC,T),N(jC,O),N(Pd,v),N(ja,g),N(BC,A),Fe(S))if(S.length){const W=t.exposed||(t.exposed={});S.forEach(J=>{Object.defineProperty(W,J,{get:()=>n[J],set:$=>n[J]=$})})}else t.exposed||(t.exposed={});w&&t.render===Pi&&(t.render=w),L!=null&&(t.inheritAttrs=L),U&&(t.components=U),C&&(t.directives=C)}function GM(t,e,n=Pi){Fe(t)&&(t=Nv(t));for(const r in t){const i=t[r];let s;qt(i)?"default"in i?s=Pr(i.from||r,i.default,!0):s=Pr(i.from||r):s=Pr(i),Gt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function W_(t,e,n){ni(Fe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function zC(t,e,n,r){const i=r.includes(".")?NC(n,r):()=>n[r];if(hn(t)){const s=e[t];nt(s)&&cn(i,s)}else if(nt(t))cn(i,t.bind(n));else if(qt(t))if(Fe(t))t.forEach(s=>zC(s,e,n,r));else{const s=nt(t.handler)?t.handler.bind(n):e[t.handler];nt(s)&&cn(i,s,t)}}function Y0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Af(l,u,o,!0)),Af(l,e,o)),qt(e)&&s.set(e,l),l}function Af(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Af(t,s,n,!0),i&&i.forEach(o=>Af(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=qM[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const qM={data:K_,props:Y_,emits:Y_,methods:tc,computed:tc,beforeCreate:Cr,created:Cr,beforeMount:Cr,mounted:Cr,beforeUpdate:Cr,updated:Cr,beforeDestroy:Cr,beforeUnmount:Cr,destroyed:Cr,unmounted:Cr,activated:Cr,deactivated:Cr,errorCaptured:Cr,serverPrefetch:Cr,components:tc,directives:tc,watch:XM,provide:K_,inject:QM};function K_(t,e){return e?t?function(){return dn(nt(t)?t.call(this,this):t,nt(e)?e.call(this,this):e)}:e:t}function QM(t,e){return tc(Nv(t),Nv(e))}function Nv(t){if(Fe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Cr(t,e){return t?[...new Set([].concat(t,e))]:e}function tc(t,e){return t?dn(Object.create(null),t,e):e}function Y_(t,e){return t?Fe(t)&&Fe(e)?[...new Set([...t,...e])]:dn(Object.create(null),Gc(t),Gc(e??{})):e}function XM(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const r in e)n[r]=Cr(t[r],e[r]);return n}function GC(){return{app:null,config:{isNativeTag:lN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let JM=0;function ZM(t,e){return function(r,i=null){nt(r)||(r=dn({},r)),i!=null&&!qt(i)&&(i=null);const s=GC(),o=new WeakSet;let a=!1;const l=s.app={_uid:JM++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:yI,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&nt(u.install)?(o.add(u),u.install(l,...c)):nt(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=ae(r,i);return h.appContext=s,c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,Gp(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){qc=l;try{return u()}finally{qc=null}}};return l}}let qc=null;function Nl(t,e){if(Pn){let n=Pn.provides;const r=Pn.parent&&Pn.parent.provides;r===n&&(n=Pn.provides=Object.create(r)),n[t]=e}}function Pr(t,e,n=!1){const r=Pn||Hn;if(r||qc){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:qc._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&nt(e)?e.call(r&&r.proxy):e}}function qC(){return!!(Pn||Hn||qc)}function e2(t,e,n,r=!1){const i={},s={};Tf(s,zp,1),t.propsDefaults=Object.create(null),QC(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:wC(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function t2(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(jp(t.emitsOptions,h))continue;const f=e[h];if(l)if(At(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const p=Wr(h);i[p]=Mv(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{QC(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!At(e,d)&&((c=di(d))===d||!At(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Mv(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!At(e,d))&&(delete s[d],u=!0)}u&&Ss(t,"set","$attrs")}function QC(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(mc(l))continue;const u=e[l];let c;i&&At(i,c=Wr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:jp(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=pt(n),u=a||Yt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Mv(i,l,d,u[d],t,!At(u,d))}}return o}function Mv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=At(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&nt(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(ko(i),r=u[n]=l.call(null,e),fo())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===di(n))&&(r=!0))}return r}function XC(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!nt(t)){const c=d=>{l=!0;const[h,f]=XC(d,e,!0);dn(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return qt(t)&&r.set(t,xl),xl;if(Fe(s))for(let c=0;c<s.length;c++){const d=Wr(s[c]);z_(d)&&(o[d]=Yt)}else if(s)for(const c in s){const d=Wr(c);if(z_(d)){const h=s[c],f=o[d]=Fe(h)||nt(h)?{type:h}:dn({},h);if(f){const p=Q_(Boolean,f.type),m=Q_(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||At(f,"default"))&&a.push(d)}}}const u=[o,a];return qt(t)&&r.set(t,u),u}function z_(t){return t[0]!=="$"}function G_(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function q_(t,e){return G_(t)===G_(e)}function Q_(t,e){return Fe(e)?e.findIndex(n=>q_(n,t)):nt(e)&&q_(e,t)?0:-1}const JC=t=>t[0]==="_"||t==="$stable",z0=t=>Fe(t)?t.map(Jr):[Jr(t)],n2=(t,e,n)=>{if(e._n)return e;const r=ye((...i)=>z0(e(...i)),n);return r._c=!1,r},ZC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(JC(i))continue;const s=t[i];if(nt(s))e[i]=n2(i,s,r);else if(s!=null){const o=z0(s);e[i]=()=>o}}},eI=(t,e)=>{const n=z0(e);t.slots.default=()=>n},r2=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=pt(e),Tf(e,"_",n)):ZC(e,t.slots={})}else t.slots={},e&&eI(t,e);Tf(t.slots,zp,1)},i2=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Yt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(dn(i,e),!n&&a===1&&delete i._):(s=!e.$stable,ZC(e,i)),o=e}else e&&(eI(t,e),o={default:1});if(s)for(const a in i)!JC(a)&&o[a]==null&&delete i[a]};function xf(t,e,n,r,i=!1){if(Fe(t)){t.forEach((h,f)=>xf(h,e&&(Fe(e)?e[f]:e),n,r,i));return}if(ca(r)&&!i)return;const s=r.shapeFlag&4?Gp(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Yt?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(hn(u)?(c[u]=null,At(d,u)&&(d[u]=null)):Gt(u)&&(u.value=null)),nt(l))Cs(l,a,12,[o,c]);else{const h=hn(l),f=Gt(l);if(h||f){const p=()=>{if(t.f){const m=h?At(d,l)?d[l]:c[l]:l.value;i?Fe(m)&&S0(m,s):Fe(m)?m.includes(s)||m.push(s):h?(c[l]=[s],At(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,At(d,l)&&(d[l]=o)):f&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Xn(p,n)):p()}}}let Hs=!1;const bh=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",_h=t=>t.nodeType===8;function s2(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(b,g)=>{if(!g.hasChildNodes()){n(null,b,g),kf(),g._vnode=b;return}Hs=!1,d(g.firstChild,b,null,null,null),kf(),g._vnode=b,Hs&&console.error("Hydration completed but contains mismatches.")},d=(b,g,w,T,O,k=!1)=>{const A=_h(b)&&b.data==="[",S=()=>m(b,g,w,T,O,A),{type:L,ref:U,shapeFlag:C,patchFlag:H}=g;let M=b.nodeType;g.el=b,H===-2&&(k=!1,g.dynamicChildren=null);let N=null;switch(L){case Ta:M!==3?g.children===""?(l(g.el=i(""),o(b),b),N=b):N=S():(b.data!==g.children&&(Hs=!0,b.data=g.children),N=s(b));break;case vr:v(b)?(N=s(b),_(g.el=b.content.firstChild,b,w)):M!==8||A?N=S():N=s(b);break;case da:if(A&&(b=s(b),M=b.nodeType),M===1||M===3){N=b;const W=!g.children.length;for(let J=0;J<g.staticCount;J++)W&&(g.children+=N.nodeType===1?N.outerHTML:N.data),J===g.staticCount-1&&(g.anchor=N),N=s(N);return A?s(N):N}else S();break;case Ie:A?N=p(b,g,w,T,O,k):N=S();break;default:if(C&1)(M!==1||g.type.toLowerCase()!==b.tagName.toLowerCase())&&!v(b)?N=S():N=h(b,g,w,T,O,k);else if(C&6){g.slotScopeIds=O;const W=o(b);if(A?N=y(b):_h(b)&&b.data==="teleport start"?N=y(b,b.data,"teleport end"):N=s(b),e(g,W,null,w,T,bh(W),k),ca(g)){let J;A?(J=ae(Ie),J.anchor=N?N.previousSibling:W.lastChild):J=b.nodeType===3?qe(""):ae("div"),J.el=b,g.component.subTree=J}}else C&64?M!==8?N=S():N=g.type.hydrate(b,g,w,T,O,k,t,f):C&128&&(N=g.type.hydrate(b,g,w,T,bh(o(b)),O,k,t,d))}return U!=null&&xf(U,null,T,g),N},h=(b,g,w,T,O,k)=>{k=k||!!g.dynamicChildren;const{type:A,props:S,patchFlag:L,shapeFlag:U,dirs:C,transition:H}=g,M=A==="input"&&C||A==="option";if(M||L!==-1){if(C&&Vi(g,null,w,"created"),S)if(M||!k||L&48)for(const J in S)(M&&J.endsWith("value")||Sd(J)&&!mc(J))&&r(b,J,null,S[J],!1,void 0,w);else S.onClick&&r(b,"onClick",null,S.onClick,!1,void 0,w);let N;(N=S&&S.onVnodeBeforeMount)&&Ur(N,w,g);let W=!1;if(v(b)){W=iI(T,H)&&w&&w.vnode.props&&w.vnode.props.appear;const J=b.content.firstChild;W&&H.beforeEnter(J),_(J,b,w),g.el=b=J}if(C&&Vi(g,null,w,"beforeMount"),((N=S&&S.onVnodeMounted)||C||W)&&DC(()=>{N&&Ur(N,w,g),W&&H.enter(b),C&&Vi(g,null,w,"mounted")},T),U&16&&!(S&&(S.innerHTML||S.textContent))){let J=f(b.firstChild,g,b,w,T,O,k);for(;J;){Hs=!0;const $=J;J=J.nextSibling,a($)}}else U&8&&b.textContent!==g.children&&(Hs=!0,b.textContent=g.children)}return b.nextSibling},f=(b,g,w,T,O,k,A)=>{A=A||!!g.dynamicChildren;const S=g.children,L=S.length;for(let U=0;U<L;U++){const C=A?S[U]:S[U]=Jr(S[U]);if(b)b=d(b,C,T,O,k,A);else{if(C.type===Ta&&!C.children)continue;Hs=!0,n(null,C,w,null,T,O,bh(w),k)}}return b},p=(b,g,w,T,O,k)=>{const{slotScopeIds:A}=g;A&&(O=O?O.concat(A):A);const S=o(b),L=f(s(b),g,S,w,T,O,k);return L&&_h(L)&&L.data==="]"?s(g.anchor=L):(Hs=!0,l(g.anchor=u("]"),S,L),L)},m=(b,g,w,T,O,k)=>{if(Hs=!0,g.el=null,k){const L=y(b);for(;;){const U=s(b);if(U&&U!==L)a(U);else break}}const A=s(b),S=o(b);return a(b),n(null,g,S,A,w,T,bh(S),O),A},y=(b,g="[",w="]")=>{let T=0;for(;b;)if(b=s(b),b&&_h(b)&&(b.data===g&&T++,b.data===w)){if(T===0)return s(b);T--}return b},_=(b,g,w)=>{const T=g.parentNode;T&&T.replaceChild(b,g);let O=w;for(;O;)O.vnode.el===g&&(O.vnode.el=O.subTree.el=b),O=O.parent},v=b=>b.nodeType===1&&b.tagName.toLowerCase()==="template";return[c,d]}const Xn=DC;function tI(t){return rI(t)}function nI(t){return rI(t,s2)}function rI(t,e){const n=Iv();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=Pi,insertStaticContent:p}=t,m=(E,P,F,G=null,he=null,fe=null,de=!1,te=null,z=!!P.dynamicChildren)=>{if(E===P)return;E&&!Ii(E,P)&&(G=q(E),ie(E,he,fe,!0),E=null),P.patchFlag===-2&&(z=!1,P.dynamicChildren=null);const{type:ce,ref:we,shapeFlag:Ce}=P;switch(ce){case Ta:y(E,P,F,G);break;case vr:_(E,P,F,G);break;case da:E==null&&v(P,F,G,de);break;case Ie:U(E,P,F,G,he,fe,de,te,z);break;default:Ce&1?w(E,P,F,G,he,fe,de,te,z):Ce&6?C(E,P,F,G,he,fe,de,te,z):(Ce&64||Ce&128)&&ce.process(E,P,F,G,he,fe,de,te,z,Y)}we!=null&&he&&xf(we,E&&E.ref,fe,P||E,!P)},y=(E,P,F,G)=>{if(E==null)r(P.el=a(P.children),F,G);else{const he=P.el=E.el;P.children!==E.children&&u(he,P.children)}},_=(E,P,F,G)=>{E==null?r(P.el=l(P.children||""),F,G):P.el=E.el},v=(E,P,F,G)=>{[E.el,E.anchor]=p(E.children,P,F,G,E.el,E.anchor)},b=({el:E,anchor:P},F,G)=>{let he;for(;E&&E!==P;)he=h(E),r(E,F,G),E=he;r(P,F,G)},g=({el:E,anchor:P})=>{let F;for(;E&&E!==P;)F=h(E),i(E),E=F;i(P)},w=(E,P,F,G,he,fe,de,te,z)=>{de=de||P.type==="svg",E==null?T(P,F,G,he,fe,de,te,z):A(E,P,he,fe,de,te,z)},T=(E,P,F,G,he,fe,de,te)=>{let z,ce;const{type:we,props:Ce,shapeFlag:Me,transition:We,dirs:Re}=E;if(z=E.el=o(E.type,fe,Ce&&Ce.is,Ce),Me&8?c(z,E.children):Me&16&&k(E.children,z,null,G,he,fe&&we!=="foreignObject",de,te),Re&&Vi(E,null,G,"created"),O(z,E,E.scopeId,de,G),Ce){for(const Q in Ce)Q!=="value"&&!mc(Q)&&s(z,Q,null,Ce[Q],fe,E.children,G,he,j);"value"in Ce&&s(z,"value",null,Ce.value),(ce=Ce.onVnodeBeforeMount)&&Ur(ce,G,E)}Re&&Vi(E,null,G,"beforeMount");const dt=iI(he,We);dt&&We.beforeEnter(z),r(z,P,F),((ce=Ce&&Ce.onVnodeMounted)||dt||Re)&&Xn(()=>{ce&&Ur(ce,G,E),dt&&We.enter(z),Re&&Vi(E,null,G,"mounted")},he)},O=(E,P,F,G,he)=>{if(F&&f(E,F),G)for(let fe=0;fe<G.length;fe++)f(E,G[fe]);if(he){let fe=he.subTree;if(P===fe){const de=he.vnode;O(E,de,de.scopeId,de.slotScopeIds,he.parent)}}},k=(E,P,F,G,he,fe,de,te,z=0)=>{for(let ce=z;ce<E.length;ce++){const we=E[ce]=te?Zs(E[ce]):Jr(E[ce]);m(null,we,P,F,G,he,fe,de,te)}},A=(E,P,F,G,he,fe,de)=>{const te=P.el=E.el;let{patchFlag:z,dynamicChildren:ce,dirs:we}=P;z|=E.patchFlag&16;const Ce=E.props||Yt,Me=P.props||Yt;let We;F&&Ho(F,!1),(We=Me.onVnodeBeforeUpdate)&&Ur(We,F,P,E),we&&Vi(P,E,F,"beforeUpdate"),F&&Ho(F,!0);const Re=he&&P.type!=="foreignObject";if(ce?S(E.dynamicChildren,ce,te,F,G,Re,fe):de||J(E,P,te,null,F,G,Re,fe,!1),z>0){if(z&16)L(te,P,Ce,Me,F,G,he);else if(z&2&&Ce.class!==Me.class&&s(te,"class",null,Me.class,he),z&4&&s(te,"style",Ce.style,Me.style,he),z&8){const dt=P.dynamicProps;for(let Q=0;Q<dt.length;Q++){const R=dt[Q],K=Ce[R],V=Me[R];(V!==K||R==="value")&&s(te,R,K,V,he,E.children,F,G,j)}}z&1&&E.children!==P.children&&c(te,P.children)}else!de&&ce==null&&L(te,P,Ce,Me,F,G,he);((We=Me.onVnodeUpdated)||we)&&Xn(()=>{We&&Ur(We,F,P,E),we&&Vi(P,E,F,"updated")},G)},S=(E,P,F,G,he,fe,de)=>{for(let te=0;te<P.length;te++){const z=E[te],ce=P[te],we=z.el&&(z.type===Ie||!Ii(z,ce)||z.shapeFlag&70)?d(z.el):F;m(z,ce,we,null,G,he,fe,de,!0)}},L=(E,P,F,G,he,fe,de)=>{if(F!==G){if(F!==Yt)for(const te in F)!mc(te)&&!(te in G)&&s(E,te,F[te],null,de,P.children,he,fe,j);for(const te in G){if(mc(te))continue;const z=G[te],ce=F[te];z!==ce&&te!=="value"&&s(E,te,ce,z,de,P.children,he,fe,j)}"value"in G&&s(E,"value",F.value,G.value)}},U=(E,P,F,G,he,fe,de,te,z)=>{const ce=P.el=E?E.el:a(""),we=P.anchor=E?E.anchor:a("");let{patchFlag:Ce,dynamicChildren:Me,slotScopeIds:We}=P;We&&(te=te?te.concat(We):We),E==null?(r(ce,F,G),r(we,F,G),k(P.children,F,we,he,fe,de,te,z)):Ce>0&&Ce&64&&Me&&E.dynamicChildren?(S(E.dynamicChildren,Me,F,he,fe,de,te),(P.key!=null||he&&P===he.subTree)&&G0(E,P,!0)):J(E,P,F,we,he,fe,de,te,z)},C=(E,P,F,G,he,fe,de,te,z)=>{P.slotScopeIds=te,E==null?P.shapeFlag&512?he.ctx.activate(P,F,G,de,z):H(P,F,G,he,fe,de,z):M(E,P,z)},H=(E,P,F,G,he,fe,de)=>{const te=E.component=cI(E,G,he);if(xd(E)&&(te.ctx.renderer=Y),hI(te),te.asyncDep){if(he&&he.registerDep(te,N),!E.el){const z=te.subTree=ae(vr);_(null,z,P,F)}return}N(te,E,P,F,he,fe,de)},M=(E,P,F)=>{const G=P.component=E.component;if(mM(E,P,F))if(G.asyncDep&&!G.asyncResolved){W(G,P,F);return}else G.next=P,lM(G.update),G.update();else P.el=E.el,G.vnode=P},N=(E,P,F,G,he,fe,de)=>{const te=()=>{if(E.isMounted){let{next:we,bu:Ce,u:Me,parent:We,vnode:Re}=E,dt=we,Q;Ho(E,!1),we?(we.el=Re.el,W(E,we,de)):we=Re,Ce&&Dl(Ce),(Q=we.props&&we.props.onVnodeBeforeUpdate)&&Ur(Q,We,we,Re),Ho(E,!0);const R=nf(E),K=E.subTree;E.subTree=R,m(K,R,d(K.el),q(K),E,he,fe),we.el=R.el,dt===null&&F0(E,R.el),Me&&Xn(Me,he),(Q=we.props&&we.props.onVnodeUpdated)&&Xn(()=>Ur(Q,We,we,Re),he)}else{let we;const{el:Ce,props:Me}=P,{bm:We,m:Re,parent:dt}=E,Q=ca(P);if(Ho(E,!1),We&&Dl(We),!Q&&(we=Me&&Me.onVnodeBeforeMount)&&Ur(we,dt,P),Ho(E,!0),Ce&&Se){const R=()=>{E.subTree=nf(E),Se(Ce,E.subTree,E,he,null)};Q?P.type.__asyncLoader().then(()=>!E.isUnmounted&&R()):R()}else{const R=E.subTree=nf(E);m(null,R,F,G,E,he,fe),P.el=R.el}if(Re&&Xn(Re,he),!Q&&(we=Me&&Me.onVnodeMounted)){const R=P;Xn(()=>Ur(we,dt,R),he)}(P.shapeFlag&256||dt&&ca(dt.vnode)&&dt.vnode.shapeFlag&256)&&E.a&&Xn(E.a,he),E.isMounted=!0,P=F=G=null}},z=E.effect=new Wl(te,()=>Bp(ce),E.scope),ce=E.update=()=>z.run();ce.id=E.uid,Ho(E,!0),ce()},W=(E,P,F)=>{P.component=E;const G=E.vnode.props;E.vnode=P,E.next=null,t2(E,P.props,G,F),i2(E,P.children,F),yu(),F_(),wu()},J=(E,P,F,G,he,fe,de,te,z=!1)=>{const ce=E&&E.children,we=E?E.shapeFlag:0,Ce=P.children,{patchFlag:Me,shapeFlag:We}=P;if(Me>0){if(Me&128){I(ce,Ce,F,G,he,fe,de,te,z);return}else if(Me&256){$(ce,Ce,F,G,he,fe,de,te,z);return}}We&8?(we&16&&j(ce,he,fe),Ce!==ce&&c(F,Ce)):we&16?We&16?I(ce,Ce,F,G,he,fe,de,te,z):j(ce,he,fe,!0):(we&8&&c(F,""),We&16&&k(Ce,F,G,he,fe,de,te,z))},$=(E,P,F,G,he,fe,de,te,z)=>{E=E||xl,P=P||xl;const ce=E.length,we=P.length,Ce=Math.min(ce,we);let Me;for(Me=0;Me<Ce;Me++){const We=P[Me]=z?Zs(P[Me]):Jr(P[Me]);m(E[Me],We,F,null,he,fe,de,te,z)}ce>we?j(E,he,fe,!0,!1,Ce):k(P,F,G,he,fe,de,te,z,Ce)},I=(E,P,F,G,he,fe,de,te,z)=>{let ce=0;const we=P.length;let Ce=E.length-1,Me=we-1;for(;ce<=Ce&&ce<=Me;){const We=E[ce],Re=P[ce]=z?Zs(P[ce]):Jr(P[ce]);if(Ii(We,Re))m(We,Re,F,null,he,fe,de,te,z);else break;ce++}for(;ce<=Ce&&ce<=Me;){const We=E[Ce],Re=P[Me]=z?Zs(P[Me]):Jr(P[Me]);if(Ii(We,Re))m(We,Re,F,null,he,fe,de,te,z);else break;Ce--,Me--}if(ce>Ce){if(ce<=Me){const We=Me+1,Re=We<we?P[We].el:G;for(;ce<=Me;)m(null,P[ce]=z?Zs(P[ce]):Jr(P[ce]),F,Re,he,fe,de,te,z),ce++}}else if(ce>Me)for(;ce<=Ce;)ie(E[ce],he,fe,!0),ce++;else{const We=ce,Re=ce,dt=new Map;for(ce=Re;ce<=Me;ce++){const Le=P[ce]=z?Zs(P[ce]):Jr(P[ce]);Le.key!=null&&dt.set(Le.key,ce)}let Q,R=0;const K=Me-Re+1;let V=!1,se=0;const me=new Array(K);for(ce=0;ce<K;ce++)me[ce]=0;for(ce=We;ce<=Ce;ce++){const Le=E[ce];if(R>=K){ie(Le,he,fe,!0);continue}let et;if(Le.key!=null)et=dt.get(Le.key);else for(Q=Re;Q<=Me;Q++)if(me[Q-Re]===0&&Ii(Le,P[Q])){et=Q;break}et===void 0?ie(Le,he,fe,!0):(me[et-Re]=ce+1,et>=se?se=et:V=!0,m(Le,P[et],F,null,he,fe,de,te,z),R++)}const Be=V?o2(me):xl;for(Q=Be.length-1,ce=K-1;ce>=0;ce--){const Le=Re+ce,et=P[Le],Ut=Le+1<we?P[Le+1].el:G;me[ce]===0?m(null,et,F,Ut,he,fe,de,te,z):V&&(Q<0||ce!==Be[Q]?Z(et,F,Ut,2):Q--)}}},Z=(E,P,F,G,he=null)=>{const{el:fe,type:de,transition:te,children:z,shapeFlag:ce}=E;if(ce&6){Z(E.component.subTree,P,F,G);return}if(ce&128){E.suspense.move(P,F,G);return}if(ce&64){de.move(E,P,F,Y);return}if(de===Ie){r(fe,P,F);for(let Ce=0;Ce<z.length;Ce++)Z(z[Ce],P,F,G);r(E.anchor,P,F);return}if(de===da){b(E,P,F);return}if(G!==2&&ce&1&&te)if(G===0)te.beforeEnter(fe),r(fe,P,F),Xn(()=>te.enter(fe),he);else{const{leave:Ce,delayLeave:Me,afterLeave:We}=te,Re=()=>r(fe,P,F),dt=()=>{Ce(fe,()=>{Re(),We&&We()})};Me?Me(fe,Re,dt):dt()}else r(fe,P,F)},ie=(E,P,F,G=!1,he=!1)=>{const{type:fe,props:de,ref:te,children:z,dynamicChildren:ce,shapeFlag:we,patchFlag:Ce,dirs:Me}=E;if(te!=null&&xf(te,null,F,E,!0),we&256){P.ctx.deactivate(E);return}const We=we&1&&Me,Re=!ca(E);let dt;if(Re&&(dt=de&&de.onVnodeBeforeUnmount)&&Ur(dt,P,E),we&6)be(E.component,F,G);else{if(we&128){E.suspense.unmount(F,G);return}We&&Vi(E,null,P,"beforeUnmount"),we&64?E.type.remove(E,P,F,he,Y,G):ce&&(fe!==Ie||Ce>0&&Ce&64)?j(ce,P,F,!1,!0):(fe===Ie&&Ce&384||!he&&we&16)&&j(z,P,F),G&&ee(E)}(Re&&(dt=de&&de.onVnodeUnmounted)||We)&&Xn(()=>{dt&&Ur(dt,P,E),We&&Vi(E,null,P,"unmounted")},F)},ee=E=>{const{type:P,el:F,anchor:G,transition:he}=E;if(P===Ie){B(F,G);return}if(P===da){g(E);return}const fe=()=>{i(F),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(E.shapeFlag&1&&he&&!he.persisted){const{leave:de,delayLeave:te}=he,z=()=>de(F,fe);te?te(E.el,fe,z):z()}else fe()},B=(E,P)=>{let F;for(;E!==P;)F=h(E),i(E),E=F;i(P)},be=(E,P,F)=>{const{bum:G,scope:he,update:fe,subTree:de,um:te}=E;G&&Dl(G),he.stop(),fe&&(fe.active=!1,ie(de,E,P,F)),te&&Xn(te,P),Xn(()=>{E.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},j=(E,P,F,G=!1,he=!1,fe=0)=>{for(let de=fe;de<E.length;de++)ie(E[de],P,F,G,he)},q=E=>E.shapeFlag&6?q(E.component.subTree):E.shapeFlag&128?E.suspense.next():h(E.anchor||E.el),le=(E,P,F)=>{E==null?P._vnode&&ie(P._vnode,null,null,!0):m(P._vnode||null,E,P,null,null,null,F),F_(),kf(),P._vnode=E},Y={p:m,um:ie,m:Z,r:ee,mt:H,mc:k,pc:J,pbc:S,n:q,o:t};let pe,Se;return e&&([pe,Se]=e(Y)),{render:le,hydrate:pe,createApp:ZM(le,pe)}}function Ho({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function iI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function G0(t,e,n=!1){const r=t.children,i=e.children;if(Fe(r)&&Fe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Zs(i[s]),a.el=o.el),n||G0(o,a)),a.type===Ta&&(a.el=o.el)}}function o2(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const a2=t=>t.__isTeleport,yc=t=>t&&(t.disabled||t.disabled===""),X_=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Lv=(t,e)=>{const n=t&&t.to;return hn(n)?e?e(n):null:n},l2={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:y}}=u,_=yc(e.props);let{shapeFlag:v,children:b,dynamicChildren:g}=e;if(t==null){const w=e.el=m(""),T=e.anchor=m("");f(w,n,r),f(T,n,r);const O=e.target=Lv(e.props,p),k=e.targetAnchor=m("");O&&(f(k,O),o=o||X_(O));const A=(S,L)=>{v&16&&c(b,S,L,i,s,o,a,l)};_?A(n,T):O&&A(O,k)}else{e.el=t.el;const w=e.anchor=t.anchor,T=e.target=t.target,O=e.targetAnchor=t.targetAnchor,k=yc(t.props),A=k?n:T,S=k?w:O;if(o=o||X_(T),g?(h(t.dynamicChildren,g,A,i,s,o,a),G0(t,e,!0)):l||d(t,e,A,S,i,s,o,a,!1),_)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Th(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const L=e.target=Lv(e.props,p);L&&Th(e,L,null,u,0)}else k&&Th(e,T,O,u,1)}oI(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=t;if(d&&s(c),o&&s(u),a&16){const f=o||!yc(h);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,f,!!m.dynamicChildren)}}},move:Th,hydrate:u2};function Th(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||yc(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function u2(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=Lv(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(yc(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}oI(e)}return e.anchor&&o(e.anchor)}const sI=l2;function oI(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ie=Symbol.for("v-fgt"),Ta=Symbol.for("v-txt"),vr=Symbol.for("v-cmt"),da=Symbol.for("v-stc"),wc=[];let Br=null;function D(t=!1){wc.push(Br=t?null:[])}function aI(){wc.pop(),Br=wc[wc.length-1]||null}let Ea=1;function $v(t){Ea+=t}function lI(t){return t.dynamicChildren=Ea>0?Br||xl:null,aI(),Ea>0&&Br&&Br.push(t),t}function X(t,e,n,r,i,s){return lI(ne(t,e,n,r,i,s,!0))}function ve(t,e,n,r,i){return lI(ae(t,e,n,r,i,!0))}function Io(t){return t?t.__v_isVNode===!0:!1}function Ii(t,e){return t.type===e.type&&t.key===e.key}function c2(t){}const zp="__vInternal",uI=({key:t})=>t??null,rf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?hn(t)||Gt(t)||nt(t)?{i:Hn,r:t,k:e,f:!!n}:t:null);function ne(t,e=null,n=null,r=0,i=null,s=t===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&uI(e),ref:e&&rf(e),scopeId:Hp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Hn};return a?(q0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=hn(n)?8:16),Ea>0&&!o&&Br&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Br.push(l),l}const ae=d2;function d2(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===xC)&&(t=vr),Io(t)){const a=is(t,e,!0);return n&&q0(a,n),Ea>0&&!s&&Br&&(a.shapeFlag&6?Br[Br.indexOf(t)]=a:Br.push(a)),a.patchFlag|=-2,a}if(w2(t)&&(t=t.__vccOpts),e){e=nr(e);let{class:a,style:l}=e;a&&!hn(a)&&(e.class=Oe(a)),qt(l)&&(R0(l)&&!Fe(l)&&(l=dn({},l)),e.style=Nn(l))}const o=hn(t)?1:PC(t)?128:a2(t)?64:qt(t)?4:nt(t)?2:0;return ne(t,e,n,r,i,o,s,!0)}function nr(t){return t?R0(t)||zp in t?dn({},t):t:null}function is(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?Ht(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&uI(a),ref:e&&e.ref?n&&i?Fe(i)?i.concat(rf(e)):[i,rf(e)]:rf(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&is(t.ssContent),ssFallback:t.ssFallback&&is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function qe(t=" ",e=0){return ae(Ta,null,t,e)}function h2(t,e){const n=ae(da,null,t);return n.staticCount=e,n}function oe(t="",e=!1){return e?(D(),ve(vr,null,t)):ae(vr,null,t)}function Jr(t){return t==null||typeof t=="boolean"?ae(vr):Fe(t)?ae(Ie,null,t.slice()):typeof t=="object"?Zs(t):ae(Ta,null,String(t))}function Zs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:is(t)}function q0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Fe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),q0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(zp in e)?e._ctx=Hn:i===3&&Hn&&(Hn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else nt(e)?(e={default:e,_ctx:Hn},n=32):(e=String(e),r&64?(n=16,e=[qe(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ht(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Oe([e.class,r.class]));else if(i==="style")e.style=Nn([e.style,r.style]);else if(Sd(i)){const s=e[i],o=r[i];o&&s!==o&&!(Fe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ur(t,e,n,r=null){ni(t,e,7,[n,r])}const f2=GC();let p2=0;function cI(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||f2,s={uid:p2++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new k0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:XC(r,i),emitsOptions:AC(r,i),emit:null,emitted:null,propsDefaults:Yt,inheritAttrs:r.inheritAttrs,ctx:Yt,data:Yt,props:Yt,attrs:Yt,slots:Yt,refs:Yt,setupState:Yt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=cM.bind(null,s),t.ce&&t.ce(s),s}let Pn=null;const ls=()=>Pn||Hn;let Q0,el,J_="__VUE_INSTANCE_SETTERS__";(el=Iv()[J_])||(el=Iv()[J_]=[]),el.push(t=>Pn=t),Q0=t=>{el.length>1?el.forEach(e=>e(t)):el[0](t)};const ko=t=>{Q0(t),t.scope.on()},fo=()=>{Pn&&Pn.scope.off(),Q0(null)};function dI(t){return t.vnode.shapeFlag&4}let zl=!1;function hI(t,e=!1){zl=e;const{props:n,children:r}=t.vnode,i=dI(t);e2(t,n,i,e),r2(t,r);const s=i?m2(t,e):void 0;return zl=!1,s}function m2(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Id(new Proxy(t.ctx,Rv));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?pI(t):null;ko(t),yu();const s=Cs(r,t,0,[t.props,i]);if(wu(),fo(),C0(s)){if(s.then(fo,fo),e)return s.then(o=>{Uv(t,o,e)}).catch(o=>{Ba(o,t,0)});t.asyncDep=s}else Uv(t,s,e)}else fI(t,e)}function Uv(t,e,n){nt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qt(e)&&(t.setupState=M0(e)),fI(t,n)}let Pf,Fv;function g2(t){Pf=t,Fv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,OM))}}const v2=()=>!Pf;function fI(t,e,n){const r=t.type;if(!t.render){if(!e&&Pf&&!r.render){const i=r.template||Y0(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=dn(dn({isCustomElement:s,delimiters:a},o),l);r.render=Pf(i,u)}}t.render=r.render||Pi,Fv&&Fv(t)}{ko(t),yu();try{zM(t)}finally{wu(),fo()}}}function y2(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Yr(t,"get","$attrs"),e[n]}}))}function pI(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return y2(t)},slots:t.slots,emit:t.emit,expose:e}}function Gp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(M0(Id(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in vc)return vc[n](t)},has(e,n){return n in e||n in vc}}))}function Vv(t,e=!0){return nt(t)?t.displayName||t.name:t.name||e&&t.__name}function w2(t){return nt(t)&&"__vccOpts"in t}const re=(t,e)=>rM(t,e,zl);function Dd(t,e,n){const r=arguments.length;return r===2?qt(e)&&!Fe(e)?Io(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Io(n)&&(n=[n]),ae(t,e,n))}const mI=Symbol.for("v-scx"),gI=()=>Pr(mI);function b2(){}function _2(t,e,n,r){const i=n[r];if(i&&vI(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function vI(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Eo(n[r],e[r]))return!1;return Ea>0&&Br&&Br.push(t),!0}const yI="3.3.8",T2={createComponentInstance:cI,setupComponent:hI,renderComponentRoot:nf,setCurrentRenderingInstance:Yc,isVNode:Io,normalizeVNode:Jr},E2=T2,S2=null,C2=null,I2="http://www.w3.org/2000/svg",ea=typeof document<"u"?document:null,Z_=ea&&ea.createElement("template"),k2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?ea.createElementNS(I2,t):ea.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ea.createTextNode(t),createComment:t=>ea.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ea.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Z_.innerHTML=r?`<svg>${t}</svg>`:t;const a=Z_.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ws="transition",Mu="animation",Gl=Symbol("_vtc"),us=(t,{slots:e})=>Dd(MC,bI(t),e);us.displayName="Transition";const wI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},A2=us.props=dn({},W0,wI),Wo=(t,e=[])=>{Fe(t)?t.forEach(n=>n(...e)):t&&t(...e)},e1=t=>t?Fe(t)?t.some(e=>e.length>1):t.length>1:!1;function bI(t){const e={};for(const U in t)U in wI||(e[U]=t[U]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=x2(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:b,onLeave:g,onLeaveCancelled:w,onBeforeAppear:T=_,onAppear:O=v,onAppearCancelled:k=b}=e,A=(U,C,H)=>{qs(U,C?c:a),qs(U,C?u:o),H&&H()},S=(U,C)=>{U._isLeaving=!1,qs(U,d),qs(U,f),qs(U,h),C&&C()},L=U=>(C,H)=>{const M=U?O:v,N=()=>A(C,U,H);Wo(M,[C,N]),t1(()=>{qs(C,U?l:s),fs(C,U?c:a),e1(M)||n1(C,r,m,N)})};return dn(e,{onBeforeEnter(U){Wo(_,[U]),fs(U,s),fs(U,o)},onBeforeAppear(U){Wo(T,[U]),fs(U,l),fs(U,u)},onEnter:L(!1),onAppear:L(!0),onLeave(U,C){U._isLeaving=!0;const H=()=>S(U,C);fs(U,d),TI(),fs(U,h),t1(()=>{U._isLeaving&&(qs(U,d),fs(U,f),e1(g)||n1(U,r,y,H))}),Wo(g,[U,H])},onEnterCancelled(U){A(U,!1),Wo(b,[U])},onAppearCancelled(U){A(U,!0),Wo(k,[U])},onLeaveCancelled(U){S(U),Wo(w,[U])}})}function x2(t){if(t==null)return null;if(qt(t))return[ag(t.enter),ag(t.leave)];{const e=ag(t);return[e,e]}}function ag(t){return Sf(t)}function fs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Gl]||(t[Gl]=new Set)).add(e)}function qs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Gl];n&&(n.delete(e),n.size||(t[Gl]=void 0))}function t1(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let P2=0;function n1(t,e,n,r){const i=t._endId=++P2,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=_I(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function _I(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Ws}Delay`),s=r(`${Ws}Duration`),o=r1(i,s),a=r(`${Mu}Delay`),l=r(`${Mu}Duration`),u=r1(a,l);let c=null,d=0,h=0;e===Ws?o>0&&(c=Ws,d=o,h=s.length):e===Mu?u>0&&(c=Mu,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Ws:Mu:null,h=c?c===Ws?s.length:l.length:0);const f=c===Ws&&/\b(transform|all)(,|$)/.test(r(`${Ws}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function r1(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>i1(n)+i1(t[r])))}function i1(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function TI(){return document.body.offsetHeight}function D2(t,e,n){const r=t[Gl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const X0=Symbol("_vod"),Is={beforeMount(t,{value:e},{transition:n}){t[X0]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Lu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Lu(t,!0),r.enter(t)):r.leave(t,()=>{Lu(t,!1)}):Lu(t,e))},beforeUnmount(t,{value:e}){Lu(t,e)}};function Lu(t,e){t.style.display=e?t[X0]:"none"}function R2(){Is.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function O2(t,e,n){const r=t.style,i=hn(n);if(n&&!i){if(e&&!hn(e))for(const s in e)n[s]==null&&Bv(r,s,"");for(const s in n)Bv(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),X0 in t&&(r.display=s)}}const s1=/\s*!important$/;function Bv(t,e,n){if(Fe(n))n.forEach(r=>Bv(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=N2(t,e);s1.test(n)?t.setProperty(di(r),n.replace(s1,""),"important"):t[r]=n}}const o1=["Webkit","Moz","ms"],lg={};function N2(t,e){const n=lg[e];if(n)return n;let r=Wr(e);if(r!=="filter"&&r in t)return lg[e]=r;r=Cd(r);for(let i=0;i<o1.length;i++){const s=o1[i]+r;if(s in t)return lg[e]=s}return e}const a1="http://www.w3.org/1999/xlink";function M2(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(a1,e.slice(6,e.length)):t.setAttributeNS(a1,e,n);else{const s=TN(e);n==null||s&&!iC(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function L2(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,c=n??"";u!==c&&(t.value=c),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=iC(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function vs(t,e,n,r){t.addEventListener(e,n,r)}function $2(t,e,n,r){t.removeEventListener(e,n,r)}const l1=Symbol("_vei");function U2(t,e,n,r,i=null){const s=t[l1]||(t[l1]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=F2(e);if(r){const u=s[e]=j2(r,i);vs(t,a,u,l)}else o&&($2(t,a,o,l),s[e]=void 0)}}const u1=/(?:Once|Passive|Capture)$/;function F2(t){let e;if(u1.test(t)){e={};let r;for(;r=t.match(u1);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):di(t.slice(2)),e]}let ug=0;const V2=Promise.resolve(),B2=()=>ug||(V2.then(()=>ug=0),ug=Date.now());function j2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ni(H2(r,n.value),e,5,[r])};return n.value=t,n.attached=B2(),n}function H2(t,e){if(Fe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const c1=/^on[a-z]/,W2=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?D2(t,r,i):e==="style"?O2(t,n,r):Sd(e)?E0(e)||U2(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):K2(t,e,r,i))?L2(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),M2(t,e,r,i))};function K2(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&c1.test(e)&&nt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||c1.test(e)&&hn(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function EI(t,e){const n=Ee(t);class r extends qp{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const Y2=t=>EI(t,NI),z2=typeof HTMLElement<"u"?HTMLElement:class{};class qp extends z2{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Rr(()=>{this._connected||(Qc(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!Fe(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Sf(this._props[l])),(a||(a=Object.create(null)))[Wr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=Fe(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Wr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Wr(e);this._numberProps&&this._numberProps[r]&&(n=Sf(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(di(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(di(e),n+""):n||this.removeAttribute(di(e))))}_update(){Qc(this._createVNode(),this.shadowRoot)}_createVNode(){const e=ae(this._def,dn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),di(s)!==s&&r(di(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof qp){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function G2(t="$style"){{const e=ls();if(!e)return Yt;const n=e.type.__cssModules;if(!n)return Yt;const r=n[t];return r||Yt}}function q2(t){const e=ls();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Hv(s,i))},r=()=>{const i=t(e.proxy);jv(e.subTree,i),n(i)};OC(r),Jt(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),ja(()=>i.disconnect())})}function jv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{jv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Hv(t.el,e);else if(t.type===Ie)t.children.forEach(n=>jv(n,e));else if(t.type===da){let{el:n,anchor:r}=t;for(;n&&(Hv(n,e),n!==r);)n=n.nextSibling}}function Hv(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const SI=new WeakMap,CI=new WeakMap,Df=Symbol("_moveCb"),d1=Symbol("_enterCb"),II={name:"TransitionGroup",props:dn({},A2,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ls(),r=H0();let i,s;return Yp(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!eL(i[0].el,n.vnode.el,o))return;i.forEach(X2),i.forEach(J2);const a=i.filter(Z2);TI(),a.forEach(l=>{const u=l.el,c=u.style;fs(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Df]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[Df]=null,qs(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=pt(t),a=bI(o);let l=o.tag||Ie;i=s,s=e.default?Wp(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&_a(c,Yl(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];_a(c,Yl(c,a,r,n)),SI.set(c,c.el.getBoundingClientRect())}return ae(l,null,s)}}},Q2=t=>delete t.mode;II.props;const kI=II;function X2(t){const e=t.el;e[Df]&&e[Df](),e[d1]&&e[d1]()}function J2(t){CI.set(t,t.el.getBoundingClientRect())}function Z2(t){const e=SI.get(t),n=CI.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function eL(t,e,n){const r=t.cloneNode(),i=t[Gl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=_I(r);return s.removeChild(r),o}const Ao=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Fe(e)?n=>Dl(e,n):e};function tL(t){t.target.composing=!0}function h1(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const mi=Symbol("_assign"),Rf={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[mi]=Ao(i);const s=r||i.props&&i.props.type==="number";vs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Ef(a)),t[mi](a)}),n&&vs(t,"change",()=>{t.value=t.value.trim()}),e||(vs(t,"compositionstart",tL),vs(t,"compositionend",h1),vs(t,"change",h1))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[mi]=Ao(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&Ef(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},Qp={deep:!0,created(t,e,n){t[mi]=Ao(n),vs(t,"change",()=>{const r=t._modelValue,i=ql(t),s=t.checked,o=t[mi];if(Fe(r)){const a=Np(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Va(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(AI(t,s))})},mounted:f1,beforeUpdate(t,e,n){t[mi]=Ao(n),f1(t,e,n)}};function f1(t,{value:e,oldValue:n},r){t._modelValue=e,Fe(e)?t.checked=Np(e,r.props.value)>-1:Va(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=So(e,AI(t,!0)))}const J0={created(t,{value:e},n){t.checked=So(e,n.props.value),t[mi]=Ao(n),vs(t,"change",()=>{t[mi](ql(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[mi]=Ao(r),e!==n&&(t.checked=So(e,r.props.value))}},Z0={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Va(e);vs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ef(ql(o)):ql(o));t[mi](t.multiple?i?new Set(s):s:s[0])}),t[mi]=Ao(r)},mounted(t,{value:e}){p1(t,e)},beforeUpdate(t,e,n){t[mi]=Ao(n)},updated(t,{value:e}){p1(t,e)}};function p1(t,e){const n=t.multiple;if(!(n&&!Fe(e)&&!Va(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=ql(s);if(n)Fe(e)?s.selected=Np(e,o)>-1:s.selected=e.has(o);else if(So(ql(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ql(t){return"_value"in t?t._value:t.value}function AI(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const xI={created(t,e,n){Eh(t,e,n,null,"created")},mounted(t,e,n){Eh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Eh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Eh(t,e,n,r,"updated")}};function PI(t,e){switch(t){case"SELECT":return Z0;case"TEXTAREA":return Rf;default:switch(e){case"checkbox":return Qp;case"radio":return J0;default:return Rf}}}function Eh(t,e,n,r,i){const o=PI(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function nL(){Rf.getSSRProps=({value:t})=>({value:t}),J0.getSSRProps=({value:t},e)=>{if(e.props&&So(e.props.value,t))return{checked:!0}},Qp.getSSRProps=({value:t},e)=>{if(Fe(t)){if(e.props&&Np(t,e.props.value)>-1)return{checked:!0}}else if(Va(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},xI.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=PI(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const rL=["ctrl","shift","alt","meta"],iL={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>rL.some(n=>t[`${n}Key`]&&!e.includes(n))},Pt=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=iL[e[i]];if(s&&s(n,e))return}return t(n,...r)},sL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>n=>{if(!("key"in n))return;const r=di(n.key);if(e.some(i=>i===r||sL[i]===r))return t(n)},DI=dn({patchProp:W2},k2);let bc,m1=!1;function RI(){return bc||(bc=tI(DI))}function OI(){return bc=m1?bc:nI(DI),m1=!0,bc}const Qc=(...t)=>{RI().render(...t)},NI=(...t)=>{OI().hydrate(...t)},MI=(...t)=>{const e=RI().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=LI(r);if(!i)return;const s=e._component;!nt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},oL=(...t)=>{const e=OI().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=LI(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function LI(t){return hn(t)?document.querySelector(t):t}let g1=!1;const aL=()=>{g1||(g1=!0,nL(),R2())},lL=()=>{},uL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:MC,BaseTransitionPropsValidators:W0,Comment:vr,EffectScope:k0,Fragment:Ie,KeepAlive:PM,ReactiveEffect:Wl,Static:da,Suspense:wM,Teleport:sI,Text:Ta,Transition:us,TransitionGroup:kI,VueElement:qp,assertNumber:sM,callWithAsyncErrorHandling:ni,callWithErrorHandling:Cs,camelize:Wr,capitalize:Cd,cloneVNode:is,compatUtils:C2,compile:lL,computed:re,createApp:MI,createBlock:ve,createCommentVNode:oe,createElementBlock:X,createElementVNode:ne,createHydrationRenderer:nI,createPropsRestProxy:KM,createRenderer:tI,createSSRApp:oL,createSlots:rr,createStaticVNode:h2,createTextVNode:qe,createVNode:ae,customRef:ZN,defineAsyncComponent:AM,defineComponent:Ee,defineCustomElement:EI,defineEmits:MM,defineExpose:LM,defineModel:FM,defineOptions:$M,defineProps:NM,defineSSRCustomElement:Y2,defineSlots:UM,get devtools(){return hl},effect:IN,effectScope:Mp,getCurrentInstance:ls,getCurrentScope:Lp,getTransitionRawChildren:Wp,guardReactiveProps:nr,h:Dd,handleError:Ba,hasInjectionContext:qC,hydrate:NI,initCustomFormatter:b2,initDirectivesForSSR:aL,inject:Pr,isMemoSame:vI,isProxy:R0,isReactive:Xi,isReadonly:ba,isRef:Gt,isRuntimeOnly:v2,isShallow:jc,isVNode:Io,markRaw:Id,mergeDefaults:HM,mergeModels:WM,mergeProps:Ht,nextTick:Rr,normalizeClass:Oe,normalizeProps:Tn,normalizeStyle:Nn,onActivated:$C,onBeforeMount:VC,onBeforeUnmount:Pd,onBeforeUpdate:K0,onDeactivated:UC,onErrorCaptured:WC,onMounted:Jt,onRenderTracked:HC,onRenderTriggered:jC,onScopeDispose:A0,onServerPrefetch:BC,onUnmounted:ja,onUpdated:Yp,openBlock:D,popScopeId:U0,provide:Nl,proxyRefs:M0,pushScopeId:$0,queuePostFlushCb:If,reactive:Ln,readonly:D0,ref:ue,registerRuntimeCompiler:g2,render:Qc,renderList:ut,renderSlot:xe,resolveComponent:$s,resolveDirective:vM,resolveDynamicComponent:kd,resolveFilter:S2,resolveTransitionHooks:Yl,setBlockTracking:$v,setDevtoolsHook:kC,setTransitionHooks:_a,shallowReactive:wC,shallowReadonly:zN,shallowRef:bC,ssrContextKey:mI,ssrUtils:E2,stop:kN,toDisplayString:Qe,toHandlerKey:gc,toHandlers:RM,toRaw:pt,toRef:Kl,toRefs:TC,toValue:QN,transformVNodeArgs:c2,triggerRef:qN,unref:x,useAttrs:BM,useCssModule:G2,useCssVars:q2,useModel:jM,useSSRContext:gI,useSlots:No,useTransitionState:H0,vModelCheckbox:Qp,vModelDynamic:xI,vModelRadio:J0,vModelSelect:Z0,vModelText:Rf,vShow:Is,version:yI,warn:iM,watch:cn,watchEffect:RC,watchPostEffect:OC,watchSyncEffect:CM,withAsyncContext:YM,withCtx:ye,withDefaults:VM,withDirectives:Ji,withKeys:at,withMemo:_2,withModifiers:Pt,withScopeId:dM},Symbol.toStringTag,{value:"Module"}));function cL(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Of=cL();let v1=0;const dL=()=>{const t=v1;return v1+=1,t},$I=()=>(t,e)=>{const n={...t,id:dL(),group:t.group||""};return Of.emit("notify",{notification:n,timeout:e}),()=>Of.emit("close",n.id)},UI="context",Wv=Ee({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=Pr(UI),i=Ln({notifications:[],timeouts:{}}),s=re(()=>i.notifications.filter(c=>c.group===r.group)),o=re(()=>r.position==="bottom"?[...s.value].slice(0,n.maxNotifications):[...s.value].reverse().slice(0,n.maxNotifications)),a=c=>{i.notifications.splice(i.notifications.findIndex(d=>d.id===c),1),clearTimeout(i.timeouts[c])},l=({notification:c,timeout:d})=>{i.notifications.push(c),i.timeouts[c.id]=window.setTimeout(()=>{d!==-1&&a(c.id)},Math.max(d||3e3,0))},u=c=>{e("close"),a(c)};return Jt(()=>{Of.on("notify",l),Of.on("close",a)}),(c,d)=>(D(),ve(kI,{"enter-active-class":x(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:ye(()=>[xe(c.$slots,"default",{notifications:x(o),close:u})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),y1=Ee({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Nl(UI,{group:e.group,position:e.position}),(n,r)=>xe(n.$slots,"default",{group:t.group})}});function hL(t){t.config.globalProperties.$notify=$I(),t.component("Notification",Wv),t.component("NotificationGroup",y1),t.component("notification",Wv),t.component("notificationGroup",y1)}const fL={install:hL},pL=$I(),mL={class:"px-4 py-2 -mx-3"},gL={class:"mx-3"},vL={class:"font-semibold text-white"},yL={class:"text-sm text-gray-100"},cg=Ee({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(D(),ve(x(Wv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:ye(({notifications:r})=>[(D(!0),X(Ie,null,ut(r,i=>(D(),X("div",{key:i.id},[i.type===e.type?(D(),X("div",{key:0,class:Oe("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-lg shadow-md "+e.color)},[ne("div",mL,[ne("div",gL,[ne("span",vL,Qe(i.title),1),ne("p",yL,Qe(i.text),1)])])],2)):oe("",!0)]))),128))]),_:1}))}}),wL={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},bL={class:"w-full max-w-sm"},_L=Ee({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=$s("NotificationGroup",!0);return D(),ve(r,null,{default:ye(()=>[ne("div",wL,[ne("div",bL,[ae(cg,{type:"error",color:"bg-red-800"}),ae(cg,{type:"warning",color:"bg-yellow-800"}),ae(cg,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const fl=typeof window<"u";function TL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const jt=Object.assign;function dg(t,e){const n={};for(const r in e){const i=e[r];n[r]=Mi(i)?i.map(t):t(i)}return n}const _c=()=>{},Mi=Array.isArray,EL=/\/$/,SL=t=>t.replace(EL,"");function hg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=AL(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function CL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function w1(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function IL(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ql(e.matched[r],n.matched[i])&&FI(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ql(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function FI(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!kL(t[n],e[n]))return!1;return!0}function kL(t,e){return Mi(t)?b1(t,e):Mi(e)?b1(e,t):t===e}function b1(t,e){return Mi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function AL(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Xc;(function(t){t.pop="pop",t.push="push"})(Xc||(Xc={}));var Tc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tc||(Tc={}));function xL(t){if(!t)if(fl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),SL(t)}const PL=/^[^#]+#/;function DL(t,e){return t.replace(PL,"#")+e}function RL(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Xp=()=>({left:window.pageXOffset,top:window.pageYOffset});function OL(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=RL(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function _1(t,e){return(history.state?history.state.position-e:-1)+t}const Kv=new Map;function NL(t,e){Kv.set(t,e)}function ML(t){const e=Kv.get(t);return Kv.delete(t),e}let LL=()=>location.protocol+"//"+location.host;function VI(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),w1(l,"")}return w1(n,t)+r+i}function $L(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=VI(t,location),p=n.value,m=e.value;let y=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}y=m?h.position-m.position:0}else r(f);i.forEach(_=>{_(n.value,p,{delta:y,type:Xc.pop,direction:y?y>0?Tc.forward:Tc.back:Tc.unknown})})};function l(){o=n.value}function u(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(jt({},h.state,{scroll:Xp()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function T1(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Xp():null}}function UL(t){const{history:e,location:n}=window,r={value:VI(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:LL()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function o(l,u){const c=jt({},e.state,T1(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=jt({},i.value,e.state,{forward:l,scroll:Xp()});s(c.current,c,!0);const d=jt({},T1(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function FL(t){t=xL(t);const e=UL(t),n=$L(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=jt({location:"",base:t,go:r,createHref:DL.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function VL(t){return typeof t=="string"||t&&typeof t=="object"}function BI(t){return typeof t=="string"||typeof t=="symbol"}const Ks={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jI=Symbol("");var E1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(E1||(E1={}));function Xl(t,e){return jt(new Error,{type:t,[jI]:!0},e)}function hs(t,e){return t instanceof Error&&jI in t&&(e==null||!!(t.type&e))}const S1="[^/]+?",BL={sensitive:!1,strict:!1,start:!0,end:!0},jL=/[.+*?^${}()[\]/\\]/g;function HL(t,e){const n=jt({},BL,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(jL,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:y,regexp:_}=h;s.push({name:p,repeatable:m,optional:y});const v=_||S1;if(v!==S1){f+=10;try{new RegExp(`(${v})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+g.message)}}let b=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(b=y&&u.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),i+=b,f+=20,y&&(f+=-8),m&&(f+=-20),v===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:y}=f,_=p in u?u[p]:"";if(Mi(_)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Mi(_)?_.join("/"):_;if(!v)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=v}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function WL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function KL(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=WL(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(C1(r))return 1;if(C1(i))return-1}return i.length-r.length}function C1(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const YL={type:0,value:""},zL=/[a-zA-Z0-9_]/;function GL(t){if(!t)return[[]];if(t==="/")return[[YL]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:zL.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function qL(t,e,n){const r=HL(GL(t.path),n),i=jt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function QL(t,e){const n=[],r=new Map;e=A1({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,h){const f=!h,p=XL(c);p.aliasOf=h&&h.record;const m=A1(e,c),y=[p];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const g of b)y.push(jt({},p,{components:h?h.record.components:p.components,path:g,aliasOf:h?h.record:p}))}let _,v;for(const b of y){const{path:g}=b;if(d&&g[0]!=="/"){const w=d.record.path,T=w[w.length-1]==="/"?"":"/";b.path=d.record.path+(g&&T+g)}if(_=qL(b,d,m),h?h.alias.push(_):(v=v||_,v!==_&&v.alias.push(_),f&&c.name&&!k1(_)&&o(c.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)s(w[T],_,h&&h.children[T])}h=h||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return v?()=>{o(v)}:_c}function o(c){if(BI(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&KL(c,n[d])>=0&&(c.record.path!==n[d].record.path||!HI(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!k1(c)&&r.set(c.record.name,c)}function u(c,d){let h,f={},p,m;if("name"in c&&c.name){if(h=r.get(c.name),!h)throw Xl(1,{location:c});m=h.record.name,f=jt(I1(d.params,h.keys.filter(v=>!v.optional).map(v=>v.name)),c.params&&I1(c.params,h.keys.map(v=>v.name))),p=h.stringify(f)}else if("path"in c)p=c.path,h=n.find(v=>v.re.test(p)),h&&(f=h.parse(p),m=h.record.name);else{if(h=d.name?r.get(d.name):n.find(v=>v.re.test(d.path)),!h)throw Xl(1,{location:c,currentLocation:d});m=h.record.name,f=jt({},d.params,c.params),p=h.stringify(f)}const y=[];let _=h;for(;_;)y.unshift(_.record),_=_.parent;return{name:m,path:p,params:f,matched:y,meta:ZL(y)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function I1(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function XL(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:JL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function JL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function k1(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ZL(t){return t.reduce((e,n)=>jt(e,n.meta),{})}function A1(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function HI(t,e){return e.children.some(n=>n===t||HI(t,n))}const WI=/#/g,e$=/&/g,t$=/\//g,n$=/=/g,r$=/\?/g,KI=/\+/g,i$=/%5B/g,s$=/%5D/g,YI=/%5E/g,o$=/%60/g,zI=/%7B/g,a$=/%7C/g,GI=/%7D/g,l$=/%20/g;function ew(t){return encodeURI(""+t).replace(a$,"|").replace(i$,"[").replace(s$,"]")}function u$(t){return ew(t).replace(zI,"{").replace(GI,"}").replace(YI,"^")}function Yv(t){return ew(t).replace(KI,"%2B").replace(l$,"+").replace(WI,"%23").replace(e$,"%26").replace(o$,"`").replace(zI,"{").replace(GI,"}").replace(YI,"^")}function c$(t){return Yv(t).replace(n$,"%3D")}function d$(t){return ew(t).replace(WI,"%23").replace(r$,"%3F")}function h$(t){return t==null?"":d$(t).replace(t$,"%2F")}function Nf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function f$(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(KI," "),o=s.indexOf("="),a=Nf(o<0?s:s.slice(0,o)),l=o<0?null:Nf(s.slice(o+1));if(a in e){let u=e[a];Mi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function x1(t){let e="";for(let n in t){const r=t[n];if(n=c$(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Mi(r)?r.map(s=>s&&Yv(s)):[r&&Yv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function p$(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Mi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const m$=Symbol(""),P1=Symbol(""),Jp=Symbol(""),tw=Symbol(""),zv=Symbol("");function $u(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function eo(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Xl(4,{from:n,to:e})):d instanceof Error?a(d):VL(d)?a(Xl(2,{from:e,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},u=t.call(r&&r.instances[i],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function fg(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(g$(a)){const u=(a.__vccOpts||a)[e];u&&i.push(eo(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=TL(u)?u.default:u;s.components[o]=c;const h=(c.__vccOpts||c)[e];return h&&eo(h,n,r,s,o)()}))}}return i}function g$(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function D1(t){const e=Pr(Jp),n=Pr(tw),r=re(()=>e.resolve(x(t.to))),i=re(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(Ql.bind(null,c));if(h>-1)return h;const f=R1(l[u-2]);return u>1&&R1(c)===f&&d[d.length-1].path!==f?d.findIndex(Ql.bind(null,l[u-2])):h}),s=re(()=>i.value>-1&&b$(n.params,r.value.params)),o=re(()=>i.value>-1&&i.value===n.matched.length-1&&FI(n.params,r.value.params));function a(l={}){return w$(l)?e[x(t.replace)?"replace":"push"](x(t.to)).catch(_c):Promise.resolve()}return{route:r,href:re(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const v$=Ee({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:D1,setup(t,{slots:e}){const n=Ln(D1(t)),{options:r}=Pr(Jp),i=re(()=>({[O1(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[O1(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Dd("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),y$=v$;function w$(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function b$(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Mi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function R1(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const O1=(t,e,n)=>t??e??n,_$=Ee({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Pr(zv),i=re(()=>t.route||r.value),s=Pr(P1,0),o=re(()=>{let u=x(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=re(()=>i.value.matched[o.value]);Nl(P1,re(()=>o.value+1)),Nl(m$,a),Nl(zv,i);const l=ue();return cn(()=>[l.value,a.value,t.name],([u,c,d],[h,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Ql(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return N1(n.default,{Component:h,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,y=Dd(h,jt({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return N1(n.default,{Component:y,route:u})||y}}});function N1(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const qI=_$;function T$(t){const e=QL(t.routes,t),n=t.parseQuery||f$,r=t.stringifyQuery||x1,i=t.history,s=$u(),o=$u(),a=$u(),l=bC(Ks);let u=Ks;fl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=dg.bind(null,q=>""+q),d=dg.bind(null,h$),h=dg.bind(null,Nf);function f(q,le){let Y,pe;return BI(q)?(Y=e.getRecordMatcher(q),pe=le):pe=q,e.addRoute(pe,Y)}function p(q){const le=e.getRecordMatcher(q);le&&e.removeRoute(le)}function m(){return e.getRoutes().map(q=>q.record)}function y(q){return!!e.getRecordMatcher(q)}function _(q,le){if(le=jt({},le||l.value),typeof q=="string"){const F=hg(n,q,le.path),G=e.resolve({path:F.path},le),he=i.createHref(F.fullPath);return jt(F,G,{params:h(G.params),hash:Nf(F.hash),redirectedFrom:void 0,href:he})}let Y;if("path"in q)Y=jt({},q,{path:hg(n,q.path,le.path).path});else{const F=jt({},q.params);for(const G in F)F[G]==null&&delete F[G];Y=jt({},q,{params:d(F)}),le.params=d(le.params)}const pe=e.resolve(Y,le),Se=q.hash||"";pe.params=c(h(pe.params));const E=CL(r,jt({},q,{hash:u$(Se),path:pe.path})),P=i.createHref(E);return jt({fullPath:E,hash:Se,query:r===x1?p$(q.query):q.query||{}},pe,{redirectedFrom:void 0,href:P})}function v(q){return typeof q=="string"?hg(n,q,l.value.path):jt({},q)}function b(q,le){if(u!==q)return Xl(8,{from:le,to:q})}function g(q){return O(q)}function w(q){return g(jt(v(q),{replace:!0}))}function T(q){const le=q.matched[q.matched.length-1];if(le&&le.redirect){const{redirect:Y}=le;let pe=typeof Y=="function"?Y(q):Y;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=v(pe):{path:pe},pe.params={}),jt({query:q.query,hash:q.hash,params:"path"in pe?{}:q.params},pe)}}function O(q,le){const Y=u=_(q),pe=l.value,Se=q.state,E=q.force,P=q.replace===!0,F=T(Y);if(F)return O(jt(v(F),{state:typeof F=="object"?jt({},Se,F.state):Se,force:E,replace:P}),le||Y);const G=Y;G.redirectedFrom=le;let he;return!E&&IL(r,pe,Y)&&(he=Xl(16,{to:G,from:pe}),Z(pe,pe,!0,!1)),(he?Promise.resolve(he):S(G,pe)).catch(fe=>hs(fe)?hs(fe,2)?fe:I(fe):J(fe,G,pe)).then(fe=>{if(fe){if(hs(fe,2))return O(jt({replace:P},v(fe.to),{state:typeof fe.to=="object"?jt({},Se,fe.to.state):Se,force:E}),le||G)}else fe=U(G,pe,!0,P,Se);return L(G,pe,fe),fe})}function k(q,le){const Y=b(q,le);return Y?Promise.reject(Y):Promise.resolve()}function A(q){const le=B.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(q):q()}function S(q,le){let Y;const[pe,Se,E]=E$(q,le);Y=fg(pe.reverse(),"beforeRouteLeave",q,le);for(const F of pe)F.leaveGuards.forEach(G=>{Y.push(eo(G,q,le))});const P=k.bind(null,q,le);return Y.push(P),j(Y).then(()=>{Y=[];for(const F of s.list())Y.push(eo(F,q,le));return Y.push(P),j(Y)}).then(()=>{Y=fg(Se,"beforeRouteUpdate",q,le);for(const F of Se)F.updateGuards.forEach(G=>{Y.push(eo(G,q,le))});return Y.push(P),j(Y)}).then(()=>{Y=[];for(const F of q.matched)if(F.beforeEnter&&!le.matched.includes(F))if(Mi(F.beforeEnter))for(const G of F.beforeEnter)Y.push(eo(G,q,le));else Y.push(eo(F.beforeEnter,q,le));return Y.push(P),j(Y)}).then(()=>(q.matched.forEach(F=>F.enterCallbacks={}),Y=fg(E,"beforeRouteEnter",q,le),Y.push(P),j(Y))).then(()=>{Y=[];for(const F of o.list())Y.push(eo(F,q,le));return Y.push(P),j(Y)}).catch(F=>hs(F,8)?F:Promise.reject(F))}function L(q,le,Y){for(const pe of a.list())A(()=>pe(q,le,Y))}function U(q,le,Y,pe,Se){const E=b(q,le);if(E)return E;const P=le===Ks,F=fl?history.state:{};Y&&(pe||P?i.replace(q.fullPath,jt({scroll:P&&F&&F.scroll},Se)):i.push(q.fullPath,Se)),l.value=q,Z(q,le,Y,P),I()}let C;function H(){C||(C=i.listen((q,le,Y)=>{if(!be.listening)return;const pe=_(q),Se=T(pe);if(Se){O(jt(Se,{replace:!0}),pe).catch(_c);return}u=pe;const E=l.value;fl&&NL(_1(E.fullPath,Y.delta),Xp()),S(pe,E).catch(P=>hs(P,12)?P:hs(P,2)?(O(P.to,pe).then(F=>{hs(F,20)&&!Y.delta&&Y.type===Xc.pop&&i.go(-1,!1)}).catch(_c),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),J(P,pe,E))).then(P=>{P=P||U(pe,E,!1),P&&(Y.delta&&!hs(P,8)?i.go(-Y.delta,!1):Y.type===Xc.pop&&hs(P,20)&&i.go(-1,!1)),L(pe,E,P)}).catch(_c)}))}let M=$u(),N=$u(),W;function J(q,le,Y){I(q);const pe=N.list();return pe.length?pe.forEach(Se=>Se(q,le,Y)):console.error(q),Promise.reject(q)}function $(){return W&&l.value!==Ks?Promise.resolve():new Promise((q,le)=>{M.add([q,le])})}function I(q){return W||(W=!q,H(),M.list().forEach(([le,Y])=>q?Y(q):le()),M.reset()),q}function Z(q,le,Y,pe){const{scrollBehavior:Se}=t;if(!fl||!Se)return Promise.resolve();const E=!Y&&ML(_1(q.fullPath,0))||(pe||!Y)&&history.state&&history.state.scroll||null;return Rr().then(()=>Se(q,le,E)).then(P=>P&&OL(P)).catch(P=>J(P,q,le))}const ie=q=>i.go(q);let ee;const B=new Set,be={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:y,getRoutes:m,resolve:_,options:t,push:g,replace:w,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:N.add,isReady:$,install(q){const le=this;q.component("RouterLink",y$),q.component("RouterView",qI),q.config.globalProperties.$router=le,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>x(l)}),fl&&!ee&&l.value===Ks&&(ee=!0,g(i.location).catch(Se=>{}));const Y={};for(const Se in Ks)Y[Se]=re(()=>l.value[Se]);q.provide(Jp,le),q.provide(tw,Ln(Y)),q.provide(zv,l);const pe=q.unmount;B.add(q),q.unmount=function(){B.delete(q),B.size<1&&(u=Ks,C&&C(),C=null,l.value=Ks,ee=!1,W=!1),pe()}}};function j(q){return q.reduce((le,Y)=>le.then(()=>A(Y)),Promise.resolve())}return be}function E$(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ql(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ql(u,l))||i.push(l))}return[n,r,i]}function QI(){return Pr(Jp)}function nw(){return Pr(tw)}const S$=Ee({__name:"App",setup(t){return(e,n)=>(D(),X(Ie,null,[ae(x(qI)),ae(_L)],64))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe=function(t,e){if(!t)throw bu(e)},bu=function(t){return new Error("Firebase Database ("+XI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new I$;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZI=function(t){const e=JI(t);return Zp.encodeByteArray(e,!0)},Mf=function(t){return ZI(t).replace(/\./g,"")},Lf=function(t){try{return Zp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){return ek(void 0,t)}function ek(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!A$(n)||(t[n]=ek(t[n],e[n]));return t}function A$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=()=>tk().__FIREBASE_DEFAULTS__,P$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lf(t[1]);return e&&JSON.parse(e)},em=()=>{try{return x$()||P$()||D$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nk=t=>{var e,n;return(n=(e=em())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rk=t=>{const e=nk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ik=()=>{var t;return(t=em())===null||t===void 0?void 0:t.config},sk=t=>{var e;return(e=em())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Mf(JSON.stringify(n)),Mf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function R$(){var t;const e=(t=em())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ak(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O$(){const t=Tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uk(){return XI.NODE_ADMIN===!0}function tm(){try{return typeof indexedDB=="object"}catch{return!1}}function ck(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function N$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M$,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mo.prototype.create)}}class Mo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?L$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ai(i,a,r)}}function L$(t,e){return t.replace($$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){return JSON.parse(t)}function er(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Jc(Lf(s[0])||""),n=Jc(Lf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},U$=function(t){const e=dk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},F$=function(t){const e=dk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $f(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(M1(s)&&M1(o)){if(!Zc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function B$(t,e){const n=new j$(t,e);return n.subscribe.bind(n)}class j${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pg),i.error===void 0&&(i.error=pg),i.complete===void 0&&(i.complete=pg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pg(){}function W$(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Pe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=1e3,G$=2,q$=4*60*60*1e3,Q$=.5;function qv(t,e=z$,n=G$){const r=e*Math.pow(n,t),i=Math.round(Q$*r*(Math.random()-.5)*2);return Math.min(q$,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z$(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J$(t){return t===Go?void 0:t}function Z$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const tU={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},nU=xt.INFO,rU={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},iU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tu{constructor(e){this.name=e,this._logLevel=nU,this._logHandler=iU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const sU=(t,e)=>e.some(n=>t instanceof n);let L1,$1;function oU(){return L1||(L1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aU(){return $1||($1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hk=new WeakMap,Qv=new WeakMap,fk=new WeakMap,mg=new WeakMap,iw=new WeakMap;function lU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(po(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hk.set(n,t)}).catch(()=>{}),iw.set(e,t),e}function uU(t){if(Qv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qv.set(t,e)}let Xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cU(t){Xv=t(Xv)}function dU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gg(this),e,...n);return fk.set(r,e.sort?e.sort():[e]),po(r)}:aU().includes(t)?function(...e){return t.apply(gg(this),e),po(hk.get(this))}:function(...e){return po(t.apply(gg(this),e))}}function hU(t){return typeof t=="function"?dU(t):(t instanceof IDBTransaction&&uU(t),sU(t,oU())?new Proxy(t,Xv):t)}function po(t){if(t instanceof IDBRequest)return lU(t);if(mg.has(t))return mg.get(t);const e=hU(t);return e!==t&&(mg.set(t,e),iw.set(e,t)),e}const gg=t=>iw.get(t);function fU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=po(o);return r&&o.addEventListener("upgradeneeded",l=>{r(po(o.result),l.oldVersion,l.newVersion,po(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pU=["get","getKey","getAll","getAllKeys","count"],mU=["put","add","delete","clear"],vg=new Map;function U1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return vg.set(e,s),s}cU(t=>({...t,get:(e,n,r)=>U1(e,n)||t.get(e,n,r),has:(e,n)=>!!U1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jv="@firebase/app",F1="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new Tu("@firebase/app"),yU="@firebase/app-compat",wU="@firebase/analytics-compat",bU="@firebase/analytics",_U="@firebase/app-check-compat",TU="@firebase/app-check",EU="@firebase/auth",SU="@firebase/auth-compat",CU="@firebase/database",IU="@firebase/database-compat",kU="@firebase/functions",AU="@firebase/functions-compat",xU="@firebase/installations",PU="@firebase/installations-compat",DU="@firebase/messaging",RU="@firebase/messaging-compat",OU="@firebase/performance",NU="@firebase/performance-compat",MU="@firebase/remote-config",LU="@firebase/remote-config-compat",$U="@firebase/storage",UU="@firebase/storage-compat",FU="@firebase/firestore",VU="@firebase/firestore-compat",BU="firebase",jU="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="[DEFAULT]",HU={[Jv]:"fire-core",[yU]:"fire-core-compat",[bU]:"fire-analytics",[wU]:"fire-analytics-compat",[TU]:"fire-app-check",[_U]:"fire-app-check-compat",[EU]:"fire-auth",[SU]:"fire-auth-compat",[CU]:"fire-rtdb",[IU]:"fire-rtdb-compat",[kU]:"fire-fn",[AU]:"fire-fn-compat",[xU]:"fire-iid",[PU]:"fire-iid-compat",[DU]:"fire-fcm",[RU]:"fire-fcm-compat",[OU]:"fire-perf",[NU]:"fire-perf-compat",[MU]:"fire-rc",[LU]:"fire-rc-compat",[$U]:"fire-gcs",[UU]:"fire-gcs-compat",[FU]:"fire-fst",[VU]:"fire-fst-compat","fire-js":"fire-js",[BU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Map,ey=new Map;function WU(t,e){try{t.container.addComponent(e)}catch(n){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zr(t){const e=t.name;if(ey.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,t);for(const n of Uf.values())WU(n,t);return!0}function cs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mo=new Mo("app","Firebase",KU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=jU;function pk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(n||(n=ik()),!n)throw mo.create("no-options");const s=Uf.get(i);if(s){if(Zc(n,s.options)&&Zc(r,s.config))return s;throw mo.create("duplicate-app",{appName:i})}const o=new eU(i);for(const l of ey.values())o.addComponent(l);const a=new YU(n,r,o);return Uf.set(i,a),a}function Eu(t=Zv){const e=Uf.get(t);if(!e&&t===Zv&&ik())return pk();if(!e)throw mo.create("no-app",{appName:t});return e}function ir(t,e,n){var r;let i=(r=HU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(a.join(" "));return}zr(new Or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="firebase-heartbeat-database",GU=1,ed="firebase-heartbeat-store";let yg=null;function mk(){return yg||(yg=fU(zU,GU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ed)}}}).catch(t=>{throw mo.create("idb-open",{originalErrorMessage:t.message})})),yg}async function qU(t){try{return await(await mk()).transaction(ed).objectStore(ed).get(gk(t))}catch(e){if(e instanceof ai)Ca.warn(e.message);else{const n=mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ca.warn(n.message)}}}async function V1(t,e){try{const r=(await mk()).transaction(ed,"readwrite");await r.objectStore(ed).put(e,gk(t)),await r.done}catch(n){if(n instanceof ai)Ca.warn(n.message);else{const r=mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ca.warn(r.message)}}}function gk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=1024,XU=30*24*60*60*1e3;class JU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=B1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=XU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=B1(),{heartbeatsToSend:n,unsentEntries:r}=ZU(this._heartbeatsCache.heartbeats),i=Mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function B1(){return new Date().toISOString().substring(0,10)}function ZU(t,e=QU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),j1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),j1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tm()?ck().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await qU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function j1(t){return Mf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){zr(new Or("platform-logger",e=>new gU(e),"PRIVATE")),zr(new Or("heartbeat",e=>new JU(e),"PRIVATE")),ir(Jv,F1,t),ir(Jv,F1,"esm2017"),ir("fire-js","")}tF("");const nF=(t,e)=>e.some(n=>t instanceof n);let H1,W1;function rF(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iF(){return W1||(W1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vk=new WeakMap,ty=new WeakMap,yk=new WeakMap,wg=new WeakMap,sw=new WeakMap;function sF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(go(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vk.set(n,t)}).catch(()=>{}),sw.set(e,t),e}function oF(t){if(ty.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aF(t){ny=t(ny)}function lF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bg(this),e,...n);return yk.set(r,e.sort?e.sort():[e]),go(r)}:iF().includes(t)?function(...e){return t.apply(bg(this),e),go(vk.get(this))}:function(...e){return go(t.apply(bg(this),e))}}function uF(t){return typeof t=="function"?lF(t):(t instanceof IDBTransaction&&oF(t),nF(t,rF())?new Proxy(t,ny):t)}function go(t){if(t instanceof IDBRequest)return sF(t);if(wg.has(t))return wg.get(t);const e=uF(t);return e!==t&&(wg.set(t,e),sw.set(e,t)),e}const bg=t=>sw.get(t);function cF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=go(o);return r&&o.addEventListener("upgradeneeded",l=>{r(go(o.result),l.oldVersion,l.newVersion,go(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const dF=["get","getKey","getAll","getAllKeys","count"],hF=["put","add","delete","clear"],_g=new Map;function K1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _g.set(e,s),s}aF(t=>({...t,get:(e,n,r)=>K1(e,n)||t.get(e,n,r),has:(e,n)=>!!K1(e,n)||t.has(e,n)}));const wk="@firebase/installations",ow="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=1e4,_k=`w:${ow}`,Tk="FIS_v2",fF="https://firebaseinstallations.googleapis.com/v1",pF=60*60*1e3,mF="installations",gF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ia=new Mo(mF,gF,vF);function Ek(t){return t instanceof ai&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk({projectId:t}){return`${fF}/projects/${t}/installations`}function Ck(t){return{token:t.token,requestStatus:2,expiresIn:wF(t.expiresIn),creationTime:Date.now()}}async function Ik(t,e){const r=(await e.json()).error;return Ia.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yF(t,{refreshToken:e}){const n=kk(t);return n.append("Authorization",bF(e)),n}async function Ak(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wF(t){return Number(t.replace("s","000"))}function bF(t){return`${Tk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Sk(t),i=kk(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Tk,appId:t.appId,sdkVersion:_k},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ak(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Ck(u.authToken)}}else throw await Ik("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=/^[cdef][\w-]{21}$/,ry="";function SF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=CF(t);return EF.test(n)?n:ry}catch{return ry}}function CF(t){return TF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Map;function Dk(t,e){const n=rm(t);Rk(n,e),IF(n,e)}function Rk(t,e){const n=Pk.get(t);if(n)for(const r of n)r(e)}function IF(t,e){const n=kF();n&&n.postMessage({key:t,fid:e}),AF()}let ia=null;function kF(){return!ia&&"BroadcastChannel"in self&&(ia=new BroadcastChannel("[Firebase] FID Change"),ia.onmessage=t=>{Rk(t.data.key,t.data.fid)}),ia}function AF(){Pk.size===0&&ia&&(ia.close(),ia=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF="firebase-installations-database",PF=1,ka="firebase-installations-store";let Tg=null;function aw(){return Tg||(Tg=cF(xF,PF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ka)}}})),Tg}async function Ff(t,e){const n=rm(t),i=(await aw()).transaction(ka,"readwrite"),s=i.objectStore(ka),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Dk(t,e.fid),e}async function Ok(t){const e=rm(t),r=(await aw()).transaction(ka,"readwrite");await r.objectStore(ka).delete(e),await r.done}async function im(t,e){const n=rm(t),i=(await aw()).transaction(ka,"readwrite"),s=i.objectStore(ka),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Dk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(t){let e;const n=await im(t.appConfig,r=>{const i=DF(r),s=RF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ry?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function DF(t){const e=t||{fid:SF(),registrationStatus:0};return Nk(e)}function RF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ia.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=OF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NF(t)}:{installationEntry:e}}async function OF(t,e){try{const n=await _F(t,e);return Ff(t.appConfig,n)}catch(n){throw Ek(n)&&n.customData.serverCode===409?await Ok(t.appConfig):await Ff(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function NF(t){let e=await Y1(t.appConfig);for(;e.registrationStatus===1;)await xk(100),e=await Y1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await lw(t);return r||n}return e}function Y1(t){return im(t,e=>{if(!e)throw Ia.create("installation-not-found");return Nk(e)})}function Nk(t){return MF(t)?{fid:t.fid,registrationStatus:0}:t}function MF(t){return t.registrationStatus===1&&t.registrationTime+bk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF({appConfig:t,heartbeatServiceProvider:e},n){const r=$F(t,n),i=yF(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:_k,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ak(()=>fetch(r,a));if(l.ok){const u=await l.json();return Ck(u)}else throw await Ik("Generate Auth Token",l)}function $F(t,{fid:e}){return`${Sk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(t,e=!1){let n;const r=await im(t.appConfig,s=>{if(!Mk(s))throw Ia.create("not-registered");const o=s.authToken;if(!e&&VF(o))return s;if(o.requestStatus===1)return n=UF(t,e),s;{if(!navigator.onLine)throw Ia.create("app-offline");const a=jF(s);return n=FF(t,a),a}});return n?await n:r.authToken}async function UF(t,e){let n=await z1(t.appConfig);for(;n.authToken.requestStatus===1;)await xk(100),n=await z1(t.appConfig);const r=n.authToken;return r.requestStatus===0?uw(t,e):r}function z1(t){return im(t,e=>{if(!Mk(e))throw Ia.create("not-registered");const n=e.authToken;return HF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function FF(t,e){try{const n=await LF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ff(t.appConfig,r),n}catch(n){if(Ek(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ok(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ff(t.appConfig,r)}throw n}}function Mk(t){return t!==void 0&&t.registrationStatus===2}function VF(t){return t.requestStatus===2&&!BF(t)}function BF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pF}function jF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function HF(t){return t.requestStatus===1&&t.requestTime+bk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t){const e=t,{installationEntry:n,registrationPromise:r}=await lw(e);return r?r.catch(console.error):uw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e=!1){const n=t;return await YF(n),(await uw(n,e)).token}async function YF(t){const{registrationPromise:e}=await lw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){if(!t||!t.options)throw Eg("App Configuration");if(!t.name)throw Eg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Eg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Eg(t){return Ia.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="installations",GF="installations-internal",qF=t=>{const e=t.getProvider("app").getImmediate(),n=zF(e),r=cs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},QF=t=>{const e=t.getProvider("app").getImmediate(),n=cs(e,Lk).getImmediate();return{getId:()=>WF(n),getToken:i=>KF(n,i)}};function XF(){zr(new Or(Lk,qF,"PUBLIC")),zr(new Or(GF,QF,"PRIVATE"))}XF();ir(wk,ow);ir(wk,ow,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="analytics",JF="firebase_id",ZF="origin",e3=60*1e3,t3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Tu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ri=new Mo("analytics","Analytics",n3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){if(!t.startsWith(cw)){const e=ri.create("invalid-gtag-resource",{gtagURL:t});return Kr.warn(e.message),""}return t}function $k(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function i3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function s3(t,e){const n=i3("firebase-js-sdk-policy",{createScriptURL:r3}),r=document.createElement("script"),i=`${cw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function o3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function a3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await $k(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Kr.error(a)}t("config",i,s)}async function l3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await $k(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Kr.error(s)}}function u3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await l3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await a3(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Kr.error(a)}}return i}function c3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=u3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function d3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(cw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=30,f3=1e3;class p3{constructor(e={},n=f3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uk=new p3;function m3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function g3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:m3(r)},s=t3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function v3(t,e=Uk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ri.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ri.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new b3;return setTimeout(async()=>{a.abort()},n!==void 0?n:e3),Fk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Fk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Uk){var s;const{appId:o,measurementId:a}=t;try{await y3(r,e)}catch(l){if(a)return Kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await g3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!w3(u)){if(i.deleteThrottleMetadata(o),a)return Kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?qv(n,i.intervalMillis,h3):qv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Kr.debug(`Calling attemptFetch again in ${c} millis`),Fk(t,d,r,i)}}function y3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function w3(t){if(!(t instanceof ai)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class b3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(){if(tm())try{await ck()}catch(t){return Kr.warn(ri.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Kr.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function E3(t,e,n,r,i,s,o){var a;const l=v3(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Kr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Kr.error(f)),e.push(l);const u=T3().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);d3(s)||s3(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[ZF]="firebase",h.update=!0,d!=null&&(h[JF]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.app=e}_delete(){return delete Ec[this.app.options.appId],Promise.resolve()}}let Ec={},G1=[];const q1={};let Sg="dataLayer",C3="gtag",Q1,Vk,X1=!1;function I3(){const t=[];if(ak()&&t.push("This is a browser extension environment."),N$()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ri.create("invalid-analytics-context",{errorInfo:e});Kr.warn(n.message)}}function k3(t,e,n){I3();const r=t.options.appId;if(!r)throw ri.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ri.create("no-api-key");if(Ec[r]!=null)throw ri.create("already-exists",{id:r});if(!X1){o3(Sg);const{wrappedGtag:s,gtagCore:o}=c3(Ec,G1,q1,Sg,C3);Vk=s,Q1=o,X1=!0}return Ec[r]=E3(t,G1,q1,e,Q1,Sg,n),new S3(t)}function A3(t=Eu()){t=Lt(t);const e=cs(t,Vf);return e.isInitialized()?e.getImmediate():x3(t)}function x3(t,e={}){const n=cs(t,Vf);if(n.isInitialized()){const i=n.getImmediate();if(Zc(e,n.getOptions()))return i;throw ri.create("already-initialized")}return n.initialize({options:e})}function P3(t,e,n,r){t=Lt(t),_3(Vk,Ec[t.app.options.appId],e,n,r).catch(i=>Kr.error(i))}const J1="@firebase/analytics",Z1="0.10.0";function D3(){zr(new Or(Vf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return k3(r,i,n)},"PUBLIC")),zr(new Or("analytics-internal",t,"PRIVATE")),ir(J1,Z1),ir(J1,Z1,"esm2017");function t(e){try{const n=e.getProvider(Vf).getImmediate();return{logEvent:(r,i,s)=>P3(n,r,i,s)}}catch(n){throw ri.create("interop-component-reg-failed",{reason:n})}}}D3();var R3="firebase",O3="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(R3,O3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map,Bk={activated:!1,tokenObservers:[]},N3={initialized:!1,enabled:!1};function Mn(t){return iy.get(t)||Object.assign({},Bk)}function M3(t,e){return iy.set(t,e),iy.get(t)}function sm(){return N3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="https://content-firebaseappcheck.googleapis.com/v1",L3="exchangeRecaptchaV3Token",$3="exchangeDebugToken",eT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},U3=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Sa,await V3(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Sa,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function V3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},jr=new Mo("appCheck","AppCheck",B3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function dw(t){if(!Mn(t).activated)throw jr.create("use-before-activation",{appName:t.name})}function Hk(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Sh(n)+"d:"),r&&(o+=Sh(r)+"h:"),o+=Sh(i)+"m:"+Sh(s)+"s",o}function Sh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw jr.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw jr.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw jr.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function j3(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${jk}/projects/${n}/apps/${r}:${L3}?key=${i}`,body:{recaptcha_v3_token:e}}}function Wk(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${jk}/projects/${n}/apps/${r}:${$3}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="firebase-app-check-database",W3=1,td="firebase-app-check-store",Kk="debug-token";let Ch=null;function Yk(){return Ch||(Ch=new Promise((t,e)=>{try{const n=indexedDB.open(H3,W3);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(jr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(td,{keyPath:"compositeKey"})}}}catch(n){e(jr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Ch)}function K3(t){return Gk(qk(t))}function Y3(t,e){return zk(qk(t),e)}function z3(t){return zk(Kk,t)}function G3(){return Gk(Kk)}async function zk(t,e){const r=(await Yk()).transaction(td,"readwrite"),s=r.objectStore(td).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(jr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function Gk(t){const n=(await Yk()).transaction(td,"readonly"),i=n.objectStore(td).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(jr.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function qk(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Tu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t){if(tm()){let e;try{e=await K3(t)}catch(n){nd.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Cg(t,e){return tm()?Y3(t,e).catch(n=>{nd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Q3(){let t;try{t=await G3()}catch{}if(t)return t;{const e=Y$();return z3(e).catch(n=>nd.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return sm().enabled}async function pw(){const t=sm();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function X3(){const t=tk(),e=sm();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new Sa;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Q3())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3={error:"UNKNOWN_ERROR"};function Z3(t){return Zp.encodeString(JSON.stringify(t),!1)}async function sy(t,e=!1){const n=t.app;dw(n);const r=Mn(n);let i=r.token,s;if(i&&!_l(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(_l(l)?i=l:await Cg(n,void 0))}if(!e&&i&&_l(i))return{token:i.token};let o=!1;if(fw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hw(Wk(n,await pw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await Cg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Mn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?nd.warn(l.message):nd.error(l),s=l}let a;return i?s?_l(i)?a={token:i.token,internalError:s}:a=rT(s):(a={token:i.token},r.token=i,await Cg(n,i)):a=rT(s),o&&Jk(n,a),a}async function e4(t){const e=t.app;dw(e);const{provider:n}=Mn(e);if(fw()){const r=await pw(),{token:i}=await hw(Wk(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Qk(t,e,n,r){const{app:i}=t,s=Mn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&_l(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),nT(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>nT(t))}function Xk(t,e){const n=Mn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function nT(t){const{app:e}=t,n=Mn(e);let r=n.tokenRefresher;r||(r=t4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function t4(t){const{app:e}=t;return new F3(async()=>{const n=Mn(e);let r;if(n.token?r=await sy(t,!0):r=await sy(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Mn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},eT.RETRIAL_MIN_WAIT,eT.RETRIAL_MAX_WAIT)}function Jk(t,e){const n=Mn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _l(t){return t.expireTimeMillis-Date.now()>0}function rT(t){return{token:Z3(J3),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mn(this.app);for(const n of e)Xk(this.app,n.next);return Promise.resolve()}}function r4(t,e){return new n4(t,e)}function i4(t){return{getToken:e=>sy(t,e),getLimitedUseToken:()=>e4(t),addTokenListener:e=>Qk(t,"INTERNAL",e),removeTokenListener:e=>Xk(t.app,e)}}const s4="@firebase/app-check",o4="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="https://www.google.com/recaptcha/api.js";function l4(t,e){const n=new Sa,r=Mn(t);r.reCAPTCHAState={initialized:n};const i=u4(t),s=tT(!1);return s?iT(t,e,s,i,n):h4(()=>{const o=tT(!1);if(!o)throw new Error("no recaptcha");iT(t,e,o,i,n)}),n.promise}function iT(t,e,n,r,i){n.ready(()=>{d4(t,e,n,r),i.resolve(n)})}function u4(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function c4(t){dw(t);const n=await Mn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Mn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function d4(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Mn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Mn(t).reCAPTCHAState.succeeded=!1}}),s=Mn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function h4(t){const e=document.createElement("script");e.src=a4,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;p4(this._throttleData);const i=await c4(this._app).catch(o=>{throw jr.create("recaptcha-error")});if(!(!((e=Mn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw jr.create("recaptcha-error");let s;try{s=await hw(j3(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=f4(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),jr.create("throttled",{time:Hk(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=cs(e,"heartbeat"),l4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof mw?this._siteKey===e._siteKey:!1}}function f4(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+U3,httpStatus:t};{const n=e?e.backoffCount:0,r=qv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function p4(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw jr.create("throttled",{time:Hk(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t=Eu(),e){t=Lt(t);const n=cs(t,"app-check");if(sm().initialized||X3(),fw()&&pw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw jr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return g4(t,e.provider,e.isTokenAutoRefreshEnabled),Mn(t).isTokenAutoRefreshEnabled&&Qk(r,"INTERNAL",()=>{}),r}function g4(t,e,n){const r=M3(t,Object.assign({},Bk));r.activated=!0,r.provider=e,r.cachedTokenPromise=q3(t).then(i=>(i&&_l(i)&&(r.token=i,Jk(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const v4="app-check",sT="app-check-internal";function y4(){zr(new Or(v4,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return r4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(sT).initialize()})),zr(new Or(sT,t=>{const e=t.getProvider("app-check").getImmediate();return i4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ir(s4,o4)}y4();const w4={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},b4=t=>{m4(t,{provider:new mw("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},_4=()=>{const t=pk(w4);return b4(t),A3(t),t},Zk=_4();var T4=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let eA;const om=t=>eA=t,tA=Symbol();function oy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Sc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Sc||(Sc={}));function E4(){const t=Mp(!0),e=t.run(()=>ue({}));let n=[],r=[];const i=Id({install(s){om(i),i._a=s,s.provide(tA,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!T4?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const nA=()=>{};function oT(t,e,n,r=nA){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Lp()&&A0(i),i}function tl(t,...e){t.slice().forEach(n=>{n(...e)})}const S4=t=>t();function ay(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];oy(i)&&oy(r)&&t.hasOwnProperty(n)&&!Gt(r)&&!Xi(r)?t[n]=ay(i,r):t[n]=r}return t}const C4=Symbol();function I4(t){return!oy(t)||!t.hasOwnProperty(C4)}const{assign:Qs}=Object;function k4(t){return!!(Gt(t)&&t.effect)}function A4(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=TC(n.state.value[t]);return Qs(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Id(re(()=>{om(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=rA(t,u,e,n,r,!0),l}function rA(t,e,n={},r,i,s){let o;const a=Qs({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),ue({});let m;function y(k){let A;u=c=!1,typeof k=="function"?(k(r.state.value[t]),A={type:Sc.patchFunction,storeId:t,events:f}):(ay(r.state.value[t],k),A={type:Sc.patchObject,payload:k,storeId:t,events:f});const S=m=Symbol();Rr().then(()=>{m===S&&(u=!0)}),c=!0,tl(d,A,r.state.value[t])}const _=s?function(){const{state:A}=n,S=A?A():{};this.$patch(L=>{Qs(L,S)})}:nA;function v(){o.stop(),d=[],h=[],r._s.delete(t)}function b(k,A){return function(){om(r);const S=Array.from(arguments),L=[],U=[];function C(N){L.push(N)}function H(N){U.push(N)}tl(h,{args:S,name:k,store:w,after:C,onError:H});let M;try{M=A.apply(this&&this.$id===t?this:w,S)}catch(N){throw tl(U,N),N}return M instanceof Promise?M.then(N=>(tl(L,N),N)).catch(N=>(tl(U,N),Promise.reject(N))):(tl(L,M),M)}}const g={_p:r,$id:t,$onAction:oT.bind(null,h),$patch:y,$reset:_,$subscribe(k,A={}){const S=oT(d,k,A.detached,()=>L()),L=o.run(()=>cn(()=>r.state.value[t],U=>{(A.flush==="sync"?c:u)&&k({storeId:t,type:Sc.direct,events:f},U)},Qs({},l,A)));return S},$dispose:v},w=Ln(g);r._s.set(t,w);const T=r._a&&r._a.runWithContext||S4,O=r._e.run(()=>(o=Mp(),T(()=>o.run(e))));for(const k in O){const A=O[k];if(Gt(A)&&!k4(A)||Xi(A))s||(p&&I4(A)&&(Gt(A)?A.value=p[k]:ay(A,p[k])),r.state.value[t][k]=A);else if(typeof A=="function"){const S=b(k,A);O[k]=S,a.actions[k]=A}}return Qs(w,O),Qs(pt(w),O),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:k=>{y(A=>{Qs(A,k)})}}),r._p.forEach(k=>{Qs(w,o.run(()=>k({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),u=!0,c=!0,w}function iA(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=qC();return a=a||(u?Pr(tA,null):null),a&&om(a),a=eA,a._s.has(r)||(s?rA(r,e,i,a):A4(r,i,a)),a._s.get(r)}return o.$id=r,o}function Qt(t){{t=pt(t);const e={};for(const n in t){const r=t[n];(Gt(r)||Xi(r))&&(e[n]=Kl(t,n))}return e}}const aT=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var x4=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),aT(l,e))}),e.$subscribe(()=>{a.forEach(l=>{aT(l,e)})})}};const sA=E4();sA.use(x4);const kr=class kr{constructor(e,n,r={}){kr.log(r.debug,n),r.route&&l_.push({name:r.route}),pL({title:e,type:e.toLowerCase(),text:n},5e3)}};jo(kr,"success",(e,n={})=>new kr("Success",e,n)),jo(kr,"warning",(e,n={})=>new kr("Warning",e,n)),jo(kr,"error",(e,n={})=>new kr("Error",e,n)),jo(kr,"generalError",(e,n)=>new kr("Error",(n==null?void 0:n.message)||oA,{debug:e})),jo(kr,"firebaseError",(e,n)=>(kr.log(e,n),n instanceof ai?n.message=Ig[n.code]:n instanceof Error&&Object.keys(Ig).includes(n.name)?n.message=Ig[n.name]:n=void 0,kr.generalError(e,n))),jo(kr,"log",(e,n)=>{e&&console.log(n)});let je=kr;const oA="Something went wrong",Ig={"":oA,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var P4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De,gw=gw||{},it=P4||self;function am(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function D4(t){return Object.prototype.hasOwnProperty.call(t,kg)&&t[kg]||(t[kg]=++R4)}var kg="closure_uid_"+(1e9*Math.random()>>>0),R4=0;function O4(t,e,n){return t.call.apply(t.bind,arguments)}function N4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function yr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yr=O4:yr=N4,yr.apply(null,arguments)}function Ih(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Yn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $o(){this.s=this.s,this.o=this.o}var M4=0;$o.prototype.s=!1;$o.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),M4!=0)&&D4(this)};$o.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function vw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(am(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function wr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}wr.prototype.h=function(){this.defaultPrevented=!0};var L4=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{it.addEventListener("test",()=>{},e),it.removeEventListener("test",()=>{},e)}catch{}return t}();function rd(t){return/^[\s\xa0]*$/.test(t)}function lm(){var t=it.navigator;return t&&(t=t.userAgent)?t:""}function Hi(t){return lm().indexOf(t)!=-1}function yw(t){return yw[" "](t),t}yw[" "]=function(){};function $4(t,e){var n=x5;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var U4=Hi("Opera"),Zl=Hi("Trident")||Hi("MSIE"),lA=Hi("Edge"),ly=lA||Zl,uA=Hi("Gecko")&&!(lm().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),F4=lm().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge");function cA(){var t=it.document;return t?t.documentMode:void 0}var uy;e:{var Ag="",xg=function(){var t=lm();if(uA)return/rv:([^\);]+)(\)|;)/.exec(t);if(lA)return/Edge\/([\d\.]+)/.exec(t);if(Zl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(F4)return/WebKit\/(\S+)/.exec(t);if(U4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xg&&(Ag=xg?xg[1]:""),Zl){var Pg=cA();if(Pg!=null&&Pg>parseFloat(Ag)){uy=String(Pg);break e}}uy=Ag}var cy;if(it.document&&Zl){var uT=cA();cy=uT||parseInt(uy,10)||void 0}else cy=void 0;var V4=cy;function id(t,e){if(wr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uA){e:{try{yw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:B4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&id.$.h.call(this)}}Yn(id,wr);var B4={2:"touch",3:"pen",4:"mouse"};id.prototype.h=function(){id.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Od="closure_listenable_"+(1e6*Math.random()|0),j4=0;function H4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++j4,this.fa=this.ia=!1}function um(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ww(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function W4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function dA(t){const e={};for(const n in t)e[n]=t[n];return e}const cT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<cT.length;s++)n=cT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cm(t){this.src=t,this.g={},this.h=0}cm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=hy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new H4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function dy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=aA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(um(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var bw="closure_lm_"+(1e6*Math.random()|0),Dg={};function fA(t,e,n,r,i){if(r&&r.once)return mA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fA(t,e[s],n,r,i);return null}return n=Ew(n),t&&t[Od]?t.O(e,n,Rd(r)?!!r.capture:!!r,i):pA(t,e,n,!1,r,i)}function pA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Rd(i)?!!i.capture:!!i,a=Tw(t);if(a||(t[bw]=a=new cm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=K4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)L4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function K4(){function t(n){return e.call(t.src,t.listener,n)}const e=Y4;return t}function mA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)mA(t,e[s],n,r,i);return null}return n=Ew(n),t&&t[Od]?t.P(e,n,Rd(r)?!!r.capture:!!r,i):pA(t,e,n,!0,r,i)}function gA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)gA(t,e[s],n,r,i);else r=Rd(r)?!!r.capture:!!r,n=Ew(n),t&&t[Od]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=hy(s,n,r,i),-1<n&&(um(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Tw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hy(e,n,r,i)),(n=-1<t?e[t]:null)&&_w(n))}function _w(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Od])dy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tw(e))?(dy(n,t),n.h==0&&(n.src=null,e[bw]=null)):um(t)}}}function vA(t){return t in Dg?Dg[t]:Dg[t]="on"+t}function Y4(t,e){if(t.fa)t=!0;else{e=new id(e,this);var n=t.listener,r=t.la||t.src;t.ia&&_w(t),t=n.call(r,e)}return t}function Tw(t){return t=t[bw],t instanceof cm?t:null}var Rg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ew(t){return typeof t=="function"?t:(t[Rg]||(t[Rg]=function(e){return t.handleEvent(e)}),t[Rg])}function Kn(){$o.call(this),this.i=new cm(this),this.S=this,this.J=null}Yn(Kn,$o);Kn.prototype[Od]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){gA(this,t,e,n,r)};function sr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new wr(e,t);else if(e instanceof wr)e.target=e.target||t;else{var i=e;e=new wr(r,t),hA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kh(o,r,!0,e)&&i}if(o=e.g=t,i=kh(o,r,!0,e)&&i,i=kh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=kh(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)um(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function kh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&dy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Sw=it.JSON.stringify;class z4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function G4(){var t=Cw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class q4{constructor(){this.h=this.g=null}add(e,n){const r=yA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yA=new z4(()=>new Q4,t=>t.reset());class Q4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function X4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function J4(t){it.setTimeout(()=>{throw t},0)}let sd,od=!1,Cw=new q4,wA=()=>{const t=it.Promise.resolve(void 0);sd=()=>{t.then(Z4)}};var Z4=()=>{for(var t;t=G4();){try{t.h.call(t.g)}catch(n){J4(n)}var e=yA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}od=!1};function dm(t,e){Kn.call(this),this.h=t||1,this.g=e||it,this.j=yr(this.qb,this),this.l=Date.now()}Yn(dm,Kn);De=dm.prototype;De.ga=!1;De.T=null;De.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sr(this,"tick"),this.ga&&(Iw(this),this.start()))}};De.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Iw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}De.N=function(){dm.$.N.call(this),Iw(this),delete this.g};function kw(t,e,n){if(typeof t=="function")n&&(t=yr(t,n));else if(t&&typeof t.handleEvent=="function")t=yr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:it.setTimeout(t,e||0)}function bA(t){t.g=kw(()=>{t.g=null,t.i&&(t.i=!1,bA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class e5 extends $o{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bA(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ad(t){$o.call(this),this.h=t,this.g={}}Yn(ad,$o);var dT=[];function _A(t,e,n,r){Array.isArray(n)||(n&&(dT[0]=n.toString()),n=dT);for(var i=0;i<n.length;i++){var s=fA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function TA(t){ww(t.g,function(e,n){this.g.hasOwnProperty(n)&&_w(e)},t),t.g={}}ad.prototype.N=function(){ad.$.N.call(this),TA(this)};ad.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hm(){this.g=!0}hm.prototype.Ea=function(){this.g=!1};function t5(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function n5(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Tl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+i5(t,n)+(r?" "+r:"")})}function r5(t,e){t.info(function(){return"TIMEOUT: "+e})}hm.prototype.info=function(){};function i5(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Sw(n)}catch{return e}}var Ha={},hT=null;function fm(){return hT=hT||new Kn}Ha.Ta="serverreachability";function EA(t){wr.call(this,Ha.Ta,t)}Yn(EA,wr);function ld(t){const e=fm();sr(e,new EA(e))}Ha.STAT_EVENT="statevent";function SA(t,e){wr.call(this,Ha.STAT_EVENT,t),this.stat=e}Yn(SA,wr);function xr(t){const e=fm();sr(e,new SA(e,t))}Ha.Ua="timingevent";function CA(t,e){wr.call(this,Ha.Ua,t),this.size=e}Yn(CA,wr);function Nd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){t()},e)}var pm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},IA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Aw(){}Aw.prototype.h=null;function fT(t){return t.h||(t.h=t.i())}function kA(){}var Md={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xw(){wr.call(this,"d")}Yn(xw,wr);function Pw(){wr.call(this,"c")}Yn(Pw,wr);var fy;function mm(){}Yn(mm,Aw);mm.prototype.g=function(){return new XMLHttpRequest};mm.prototype.i=function(){return{}};fy=new mm;function Ld(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ad(this),this.P=s5,t=ly?125:void 0,this.V=new dm(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AA}function AA(){this.i=null,this.g="",this.h=!1}var s5=45e3,py={},Bf={};De=Ld.prototype;De.setTimeout=function(t){this.P=t};function my(t,e,n){t.L=1,t.v=vm(Ds(e)),t.s=n,t.S=!0,xA(t,null)}function xA(t,e){t.G=Date.now(),$d(t),t.A=Ds(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),$A(n.i,"t",r),t.C=0,n=t.l.J,t.h=new AA,t.g=ix(t.l,n?e:null,!t.s),0<t.O&&(t.M=new e5(yr(t.Pa,t,t.g),t.O)),_A(t.U,t.g,"readystatechange",t.nb),e=t.I?dA(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ld(),t5(t.j,t.u,t.A,t.m,t.W,t.s)}De.nb=function(t){t=t.target;const e=this.M;e&&Yi(t)==3?e.l():this.Pa(t)};De.Pa=function(t){try{if(t==this.g)e:{const c=Yi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||ly||this.g&&(this.h.h||this.g.ja()||vT(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ld(3):ld(2)),gm(this);var n=this.g.da();this.ca=n;t:if(PA(this)){var r=vT(this.g);t="";var i=r.length,s=Yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),Cc(this);var o="";break t}this.h.i=new it.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,n5(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rd(a)){var u=a;break t}}u=null}if(n=u)Tl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gy(this,n);else{this.i=!1,this.o=3,xr(12),sa(this),Cc(this);break e}}this.S?(DA(this,c,o),ly&&this.i&&c==3&&(_A(this.U,this.V,"tick",this.mb),this.V.start())):(Tl(this.j,this.m,o,null),gy(this,o)),c==4&&sa(this),this.i&&!this.J&&(c==4?ex(this.l,this):(this.i=!1,$d(this)))}else I5(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,xr(12)):(this.o=0,xr(13)),sa(this),Cc(this)}}}catch{}finally{}};function PA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function DA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=o5(t,n),i==Bf){e==4&&(t.o=4,xr(14),r=!1),Tl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==py){t.o=4,xr(15),Tl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Tl(t.j,t.m,i,null),gy(t,i);PA(t)&&i!=Bf&&i!=py&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,xr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lw(e),e.M=!0,xr(11))):(Tl(t.j,t.m,n,"[Invalid Chunked Response]"),sa(t),Cc(t))}De.mb=function(){if(this.g){var t=Yi(this.g),e=this.g.ja();this.C<e.length&&(gm(this),DA(this,t,e),this.i&&t!=4&&$d(this))}};function o5(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Bf:(n=Number(e.substring(n,r)),isNaN(n)?py:(r+=1,r+n>e.length?Bf:(e=e.slice(r,r+n),t.C=r+n,e)))}De.cancel=function(){this.J=!0,sa(this)};function $d(t){t.Y=Date.now()+t.P,RA(t,t.P)}function RA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Nd(yr(t.lb,t),e)}function gm(t){t.B&&(it.clearTimeout(t.B),t.B=null)}De.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(r5(this.j,this.A),this.L!=2&&(ld(),xr(17)),sa(this),this.o=2,Cc(this)):RA(this,this.Y-t)};function Cc(t){t.l.H==0||t.J||ex(t.l,t)}function sa(t){gm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Iw(t.V),TA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function gy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vy(n.i,t))){if(!t.K&&vy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Wf(n),bm(n);else break e;Mw(n),xr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Nd(yr(n.ib,n),6e3));if(1>=VA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oa(n,11)}else if((t.K||n.g==t)&&Wf(n),!rd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Dw(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,nn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=rx(r,r.J?r.pa:null,r.Y),o.K){BA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(gm(a),$d(a)),r.g=o}else JA(r);0<n.j.length&&_m(n)}else u[0]!="stop"&&u[0]!="close"||oa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?oa(n,7):Nw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ld(4)}catch{}}function a5(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(am(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function l5(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(am(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function OA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(am(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=l5(t),r=a5(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var NA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ha(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ha){this.h=t.h,jf(this,t.j),this.s=t.s,this.g=t.g,Hf(this,t.m),this.l=t.l;var e=t.i,n=new ud;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pT(this,n),this.o=t.o}else t&&(e=String(t).match(NA))?(this.h=!1,jf(this,e[1]||"",!0),this.s=ic(e[2]||""),this.g=ic(e[3]||"",!0),Hf(this,e[4]),this.l=ic(e[5]||"",!0),pT(this,e[6]||"",!0),this.o=ic(e[7]||"")):(this.h=!1,this.i=new ud(null,this.h))}ha.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sc(e,mT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sc(e,mT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sc(n,n.charAt(0)=="/"?h5:d5,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sc(n,p5)),t.join("")};function Ds(t){return new ha(t)}function jf(t,e,n){t.j=n?ic(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pT(t,e,n){e instanceof ud?(t.i=e,m5(t.i,t.h)):(n||(e=sc(e,f5)),t.i=new ud(e,t.h))}function nn(t,e,n){t.i.set(e,n)}function vm(t){return nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ic(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,c5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function c5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mT=/[#\/\?@]/g,d5=/[#\?:]/g,h5=/[#\?]/g,f5=/[#\?@]/g,p5=/#/g;function ud(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Uo(t){t.g||(t.g=new Map,t.h=0,t.i&&u5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}De=ud.prototype;De.add=function(t,e){Uo(this),this.i=null,t=Su(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function MA(t,e){Uo(t),e=Su(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function LA(t,e){return Uo(t),e=Su(t,e),t.g.has(e)}De.forEach=function(t,e){Uo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};De.ta=function(){Uo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};De.Z=function(t){Uo(this);let e=[];if(typeof t=="string")LA(this,t)&&(e=e.concat(this.g.get(Su(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};De.set=function(t,e){return Uo(this),this.i=null,t=Su(this,t),LA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};De.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $A(t,e,n){MA(t,e),0<n.length&&(t.i=null,t.g.set(Su(t,e),vw(n)),t.h+=n.length)}De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Su(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function m5(t,e){e&&!t.j&&(Uo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MA(this,r),$A(this,i,n))},t)),t.j=e}var g5=class{constructor(t,e){this.g=t,this.map=e}};function UA(t){this.l=t||v5,it.PerformanceNavigationTiming?(t=it.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var v5=10;function FA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VA(t){return t.h?1:t.g?t.g.size:0}function vy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Dw(t,e){t.g?t.g.add(e):t.h=e}function BA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}UA.prototype.cancel=function(){if(this.i=jA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function jA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return vw(t.i)}var y5=class{stringify(t){return it.JSON.stringify(t,void 0)}parse(t){return it.JSON.parse(t,void 0)}};function w5(){this.g=new y5}function b5(t,e,n){const r=n||"";try{OA(t,function(i,s){let o=i;Rd(i)&&(o=Sw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _5(t,e){const n=new hm;if(it.Image){const r=new Image;r.onload=Ih(Ah,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ih(Ah,n,r,"TestLoadImage: error",!1,e),r.onabort=Ih(Ah,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ih(Ah,n,r,"TestLoadImage: timeout",!1,e),it.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ah(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ud(t){this.l=t.fc||null,this.j=t.ob||!1}Yn(Ud,Aw);Ud.prototype.g=function(){return new ym(this.l,this.j)};Ud.prototype.i=function(t){return function(){return t}}({});function ym(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Rw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yn(ym,Kn);var Rw=0;De=ym.prototype;De.open=function(t,e){if(this.readyState!=Rw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cd(this)};De.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||it).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fd(this)),this.readyState=Rw};De.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cd(this)),this.g&&(this.readyState=3,cd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof it.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function HA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}De.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fd(this):cd(this),this.readyState==3&&HA(this)}};De.Za=function(t){this.g&&(this.response=this.responseText=t,Fd(this))};De.Ya=function(t){this.g&&(this.response=t,Fd(this))};De.ka=function(){this.g&&Fd(this)};function Fd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cd(t)}De.setRequestHeader=function(t,e){this.v.append(t,e)};De.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};De.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ym.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var T5=it.JSON.parse;function bn(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WA,this.L=this.M=!1}Yn(bn,Kn);var WA="",E5=/^https?$/i,S5=["POST","PUT"];De=bn.prototype;De.Oa=function(t){this.M=t};De.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fy.g(),this.C=this.u?fT(this.u):fT(fy),this.g.onreadystatechange=yr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){gT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=it.FormData&&t instanceof it.FormData,!(0<=aA(S5,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zA(this),0<this.B&&((this.L=C5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.ua,this)):this.A=kw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){gT(this,s)}};function C5(t){return Zl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}De.ua=function(){typeof gw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sr(this,"timeout"),this.abort(8))};function gT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KA(t),wm(t)}function KA(t){t.F||(t.F=!0,sr(t,"complete"),sr(t,"error"))}De.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sr(this,"complete"),sr(this,"abort"),wm(this))};De.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wm(this,!0)),bn.$.N.call(this)};De.La=function(){this.s||(this.G||this.v||this.l?YA(this):this.kb())};De.kb=function(){YA(this)};function YA(t){if(t.h&&typeof gw<"u"&&(!t.C[1]||Yi(t)!=4||t.da()!=2)){if(t.v&&Yi(t)==4)kw(t.La,0,t);else if(sr(t,"readystatechange"),Yi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(NA)[1]||null;!i&&it.self&&it.self.location&&(i=it.self.location.protocol.slice(0,-1)),r=!E5.test(i?i.toLowerCase():"")}n=r}if(n)sr(t,"complete"),sr(t,"success");else{t.m=6;try{var s=2<Yi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",KA(t)}}finally{wm(t)}}}}function wm(t,e){if(t.g){zA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||sr(t,"ready");try{n.onreadystatechange=r}catch{}}}function zA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(it.clearTimeout(t.A),t.A=null)}De.isActive=function(){return!!this.g};function Yi(t){return t.g?t.g.readyState:0}De.da=function(){try{return 2<Yi(this)?this.g.status:-1}catch{return-1}};De.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};De.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),T5(e)}};function vT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function I5(t){const e={};t=(t.g&&2<=Yi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(rd(t[r]))continue;var n=X4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}W4(e,function(r){return r.join(", ")})}De.Ia=function(){return this.m};De.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GA(t){let e="";return ww(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ow(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):nn(t,e,n))}function Uu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qA(t){this.Ga=0,this.j=[],this.l=new hm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uu("baseRetryDelayMs",5e3,t),this.hb=Uu("retryDelaySeedMs",1e4,t),this.eb=Uu("forwardChannelMaxRetries",2,t),this.xa=Uu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new UA(t&&t.concurrentRequestLimit),this.Ja=new w5,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}De=qA.prototype;De.ra=8;De.H=1;function Nw(t){if(QA(t),t.H==3){var e=t.W++,n=Ds(t.I);if(nn(n,"SID",t.K),nn(n,"RID",e),nn(n,"TYPE","terminate"),Vd(t,n),e=new Ld(t,t.l,e),e.L=2,e.v=vm(Ds(n)),n=!1,it.navigator&&it.navigator.sendBeacon)try{n=it.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&it.Image&&(new Image().src=e.v,n=!0),n||(e.g=ix(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$d(e)}nx(t)}function bm(t){t.g&&(Lw(t),t.g.cancel(),t.g=null)}function QA(t){bm(t),t.u&&(it.clearTimeout(t.u),t.u=null),Wf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&it.clearTimeout(t.m),t.m=null)}function _m(t){if(!FA(t.i)&&!t.m){t.m=!0;var e=t.Na;sd||wA(),od||(sd(),od=!0),Cw.add(e,t),t.C=0}}function k5(t,e){return VA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Nd(yr(t.Na,t,e),tx(t,t.C)),t.C++,!0)}De.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ld(this,this.l,t);let s=this.s;if(this.U&&(s?(s=dA(s),hA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XA(this,i,e),n=Ds(this.I),nn(n,"RID",t),nn(n,"CVER",22),this.F&&nn(n,"X-HTTP-Session-Id",this.F),Vd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GA(s)))+"&"+e:this.o&&Ow(n,this.o,s)),Dw(this.i,i),this.bb&&nn(n,"TYPE","init"),this.P?(nn(n,"$req",e),nn(n,"SID","null"),i.aa=!0,my(i,n,null)):my(i,n,e),this.H=2}}else this.H==3&&(t?yT(this,t):this.j.length==0||FA(this.i)||yT(this))};function yT(t,e){var n;e?n=e.m:n=t.W++;const r=Ds(t.I);nn(r,"SID",t.K),nn(r,"RID",n),nn(r,"AID",t.V),Vd(t,r),t.o&&t.s&&Ow(r,t.o,t.s),n=new Ld(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Dw(t.i,n),my(n,r,e)}function Vd(t,e){t.na&&ww(t.na,function(n,r){nn(e,r,n)}),t.h&&OA({},function(n,r){nn(e,r,n)})}function XA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?yr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{b5(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sd||wA(),od||(sd(),od=!0),Cw.add(e,t),t.A=0}}function Mw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Nd(yr(t.Ma,t),tx(t,t.A)),t.A++,!0)}De.Ma=function(){if(this.u=null,ZA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Nd(yr(this.jb,this),t)}};De.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xr(10),bm(this),ZA(this))};function Lw(t){t.B!=null&&(it.clearTimeout(t.B),t.B=null)}function ZA(t){t.g=new Ld(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ds(t.wa);nn(e,"RID","rpc"),nn(e,"SID",t.K),nn(e,"AID",t.V),nn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&nn(e,"TO",t.qa),nn(e,"TYPE","xmlhttp"),Vd(t,e),t.o&&t.s&&Ow(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=vm(Ds(e)),n.s=null,n.S=!0,xA(n,t)}De.ib=function(){this.v!=null&&(this.v=null,bm(this),Mw(this),xr(19))};function Wf(t){t.v!=null&&(it.clearTimeout(t.v),t.v=null)}function ex(t,e){var n=null;if(t.g==e){Wf(t),Lw(t),t.g=null;var r=2}else if(vy(t.i,e))n=e.F,BA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=fm(),sr(r,new CA(r,n)),_m(t)}else JA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&k5(t,e)||r==2&&Mw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:oa(t,5);break;case 4:oa(t,10);break;case 3:oa(t,6);break;default:oa(t,2)}}}function tx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=yr(t.pb,t);n||(n=new ha("//www.google.com/images/cleardot.gif"),it.location&&it.location.protocol=="http"||jf(n,"https"),vm(n)),_5(n.toString(),r)}else xr(2);t.H=0,t.h&&t.h.za(e),nx(t),QA(t)}De.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xr(2)):(this.l.info("Failed to ping google.com"),xr(1))};function nx(t){if(t.H=0,t.ma=[],t.h){const e=jA(t.i);(e.length!=0||t.j.length!=0)&&(lT(t.ma,e),lT(t.ma,t.j),t.i.i.length=0,vw(t.j),t.j.length=0),t.h.ya()}}function rx(t,e,n){var r=n instanceof ha?Ds(n):new ha(n);if(r.g!="")e&&(r.g=e+"."+r.g),Hf(r,r.m);else{var i=it.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ha(null);r&&jf(s,r),e&&(s.g=e),i&&Hf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&nn(r,n,e),nn(r,"VER",t.ra),Vd(t,r),r}function ix(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new bn(new Ud({ob:!0})):new bn(t.va),e.Oa(t.J),e}De.isActive=function(){return!!this.h&&this.h.isActive(this)};function sx(){}De=sx.prototype;De.Ba=function(){};De.Aa=function(){};De.za=function(){};De.ya=function(){};De.isActive=function(){return!0};De.Va=function(){};function Kf(){if(Zl&&!(10<=Number(V4)))throw Error("Environmental error: no available transport.")}Kf.prototype.g=function(t,e){return new si(t,e)};function si(t,e){Kn.call(this),this.g=new qA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Cu(this)}Yn(si,Kn);si.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rx(t,null,t.Y),_m(t)};si.prototype.close=function(){Nw(this.g)};si.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Sw(t),t=n);e.j.push(new g5(e.fb++,t)),e.H==3&&_m(e)};si.prototype.N=function(){this.g.h=null,delete this.j,Nw(this.g),delete this.g,si.$.N.call(this)};function ox(t){xw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Yn(ox,xw);function ax(){Pw.call(this),this.status=1}Yn(ax,Pw);function Cu(t){this.g=t}Yn(Cu,sx);Cu.prototype.Ba=function(){sr(this.g,"a")};Cu.prototype.Aa=function(t){sr(this.g,new ox(t))};Cu.prototype.za=function(t){sr(this.g,new ax)};Cu.prototype.ya=function(){sr(this.g,"b")};function A5(){this.blockSize=-1}function Li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Yn(Li,A5);Li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Og(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Li.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Og(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Og(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Og(this,r),i=0;break}}this.h=i,this.i+=e};Li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Wt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var x5={};function $w(t){return-128<=t&&128>t?$4(t,function(e){return new Wt([e|0],0>e?-1:0)}):new Wt([t|0],0>t?-1:0)}function zi(t){if(isNaN(t)||!isFinite(t))return Ml;if(0>t)return Zn(zi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=yy;return new Wt(e,0)}function lx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Zn(lx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zi(Math.pow(e,8)),r=Ml,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=zi(Math.pow(e,s)),r=r.R(s).add(zi(o))):(r=r.R(n),r=r.add(zi(o)))}return r}var yy=4294967296,Ml=$w(0),wy=$w(1),wT=$w(16777216);De=Wt.prototype;De.ea=function(){if(hi(this))return-Zn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:yy+r)*e,e*=yy}return t};De.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ws(this))return"0";if(hi(this))return"-"+Zn(this).toString(t);for(var e=zi(Math.pow(t,6)),n=this,r="";;){var i=zf(n,e).g;n=Yf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ws(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};De.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ws(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hi(t){return t.h==-1}De.X=function(t){return t=Yf(this,t),hi(t)?-1:ws(t)?0:1};function Zn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Wt(n,~t.h).add(wy)}De.abs=function(){return hi(this)?Zn(this):this};De.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Wt(n,n[n.length-1]&-2147483648?-1:0)};function Yf(t,e){return t.add(Zn(e))}De.R=function(t){if(ws(this)||ws(t))return Ml;if(hi(this))return hi(t)?Zn(this).R(Zn(t)):Zn(Zn(this).R(t));if(hi(t))return Zn(this.R(Zn(t)));if(0>this.X(wT)&&0>t.X(wT))return zi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,xh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,xh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,xh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,xh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Wt(n,0)};function xh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fu(t,e){this.g=t,this.h=e}function zf(t,e){if(ws(e))throw Error("division by zero");if(ws(t))return new Fu(Ml,Ml);if(hi(t))return e=zf(Zn(t),e),new Fu(Zn(e.g),Zn(e.h));if(hi(e))return e=zf(t,Zn(e)),new Fu(Zn(e.g),e.h);if(30<t.g.length){if(hi(t)||hi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wy,r=e;0>=r.X(t);)n=bT(n),r=bT(r);var i=nl(n,1),s=nl(r,1);for(r=nl(r,2),n=nl(n,2);!ws(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=nl(r,1),n=nl(n,1)}return e=Yf(t,i.R(e)),new Fu(i,e)}for(i=Ml;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=zi(n),o=s.R(e);hi(o)||0<o.X(t);)n-=r,s=zi(n),o=s.R(e);ws(s)&&(s=wy),i=i.add(s),t=Yf(t,o)}return new Fu(i,t)}De.gb=function(t){return zf(this,t).h};De.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Wt(n,this.h&t.h)};De.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Wt(n,this.h|t.h)};De.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Wt(n,this.h^t.h)};function bT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Wt(n,t.h)}function nl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Wt(i,t.h)}Kf.prototype.createWebChannel=Kf.prototype.g;si.prototype.send=si.prototype.u;si.prototype.open=si.prototype.m;si.prototype.close=si.prototype.close;pm.NO_ERROR=0;pm.TIMEOUT=8;pm.HTTP_ERROR=6;IA.COMPLETE="complete";kA.EventType=Md;Md.OPEN="a";Md.CLOSE="b";Md.ERROR="c";Md.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;bn.prototype.listenOnce=bn.prototype.P;bn.prototype.getLastError=bn.prototype.Sa;bn.prototype.getLastErrorCode=bn.prototype.Ia;bn.prototype.getStatus=bn.prototype.da;bn.prototype.getResponseJson=bn.prototype.Wa;bn.prototype.getResponseText=bn.prototype.ja;bn.prototype.send=bn.prototype.ha;bn.prototype.setWithCredentials=bn.prototype.Oa;Li.prototype.digest=Li.prototype.l;Li.prototype.reset=Li.prototype.reset;Li.prototype.update=Li.prototype.j;Wt.prototype.add=Wt.prototype.add;Wt.prototype.multiply=Wt.prototype.R;Wt.prototype.modulo=Wt.prototype.gb;Wt.prototype.compare=Wt.prototype.X;Wt.prototype.toNumber=Wt.prototype.ea;Wt.prototype.toString=Wt.prototype.toString;Wt.prototype.getBits=Wt.prototype.D;Wt.fromNumber=zi;Wt.fromString=lx;var P5=function(){return new Kf},D5=function(){return fm()},Ng=pm,R5=IA,O5=Ha,_T={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},N5=Ud,Ph=kA,M5=bn,L5=Li,Ll=Wt;const TT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ur=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Tu("@firebase/firestore");function ET(){return Aa.logLevel}function Ke(t,...e){if(Aa.logLevel<=xt.DEBUG){const n=e.map(Uw);Aa.debug(`Firestore (${Iu}): ${t}`,...n)}}function Rs(t,...e){if(Aa.logLevel<=xt.ERROR){const n=e.map(Uw);Aa.error(`Firestore (${Iu}): ${t}`,...n)}}function eu(t,...e){if(Aa.logLevel<=xt.WARN){const n=e.map(Uw);Aa.warn(`Firestore (${Iu}): ${t}`,...n)}}function Uw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: `+t;throw Rs(e),new Error(e)}function sn(t,e){t||rt()}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ur.UNAUTHENTICATED))}shutdown(){}}class U5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F5{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sn(typeof r.accessToken=="string"),new ux(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return sn(e===null||typeof e=="string"),new ur(e)}}class V5{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class B5{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new V5(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(sn(typeof n.token=="string"),this.T=n.token,new j5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=W5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function tu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class sf{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sf.fromMillis(Date.now())}static fromDate(e){return sf.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new sf(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Dn(0,0))}static max(){return new ot(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dx=class by{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return by.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof by?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},wn=class of extends dx{construct(e,n,r){return new of(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new of(n)}static emptyPath(){return new of([])}};const K5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let ss=class pl extends dx{construct(e,n,r){return new pl(e,n,r)}static isValidIdentifier(e){return K5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pl(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ae(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ae(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ae(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pl(n)}static emptyPath(){return new pl([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(wn.fromString(e))}static fromName(e){return new ze(wn.fromString(e).popFirst(5))}static empty(){return new ze(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new wn(e.slice()))}}function Y5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(r===1e9?new Dn(n+1,0):new Dn(n,r));return new xo(i,ze.empty(),e)}function z5(t){return new xo(t.readTime,t.key,-1)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(ot.min(),ze.empty(),-1)}static max(){return new xo(ot.max(),ze.empty(),-1)}}function G5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let Q5=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==q5)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ke=class $r{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $r((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $r?n:$r.resolve(n)}catch(n){return $r.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$r.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$r.reject(n)}static resolve(e){return new $r((n,r)=>{n(e)})}static reject(e){return new $r((n,r)=>{r(e)})}static waitFor(e){return new $r((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$r.resolve(!1);for(const r of e)n=n.next(i=>i?$r.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $r((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $r((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function jd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};Fw.ct=-1;function Tm(t){return t==null}function Gf(t){return t===0&&1/t==-1/0}function X5(t){return typeof t=="number"&&Number.isInteger(t)&&!Gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class _y{constructor(e,n){this.comparator=e,this.root=n||vo.EMPTY}insert(e,n){return new _y(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vo.BLACK,null,null))}remove(e){return new _y(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}},Dh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vo=class ps{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ps.RED,this.left=i??ps.EMPTY,this.right=s??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ps(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1;vo.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new vo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CT(this.data.getIterator())}getIteratorFrom(e){return new CT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new br(this.comparator);return n.data=e,n}}let CT=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(ss.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new br(ss.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi=class Ty{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fx("Invalid base64 string: "+i):i}}(e);return new Ty(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ty(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};oi.EMPTY_BYTE_STRING=new oi("");const J5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(sn(!!t),typeof t=="string"){let e=0;const n=J5.exec(t);if(sn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xa(t){return typeof t=="string"?oi.fromBase64String(t):oi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vw(t){const e=t.mapValue.fields.__previous_value__;return Em(e)?Vw(e):e}function dd(t){const e=Po(t.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class hd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Em(t)?4:e6(t)?9007199254740991:10:rt()}function os(t,e){if(t===e)return!0;const n=Pa(t);if(n!==Pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dd(t).isEqual(dd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Po(r.timestampValue),o=Po(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return xa(r.bytesValue).isEqual(xa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return xn(r.geoPointValue.latitude)===xn(i.geoPointValue.latitude)&&xn(r.geoPointValue.longitude)===xn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xn(r.integerValue)===xn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=xn(r.doubleValue),o=xn(i.doubleValue);return s===o?Gf(s)===Gf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],os);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ST(s)!==ST(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!os(s[a],o[a])))return!1;return!0}(t,e);default:return rt()}}function fd(t,e){return(t.values||[]).find(n=>os(n,e))!==void 0}function nu(t,e){if(t===e)return 0;const n=Pa(t),r=Pa(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=xn(i.integerValue||i.doubleValue),a=xn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return IT(t.timestampValue,e.timestampValue);case 4:return IT(dd(t),dd(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=xa(i),a=xa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Mt(o[l],a[l]);if(u!==0)return u}return Mt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Mt(xn(i.latitude),xn(s.latitude));return o!==0?o:Mt(xn(i.longitude),xn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=nu(o[l],a[l]);if(u)return u}return Mt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Rh.mapValue&&s===Rh.mapValue)return 0;if(i===Rh.mapValue)return 1;if(s===Rh.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Mt(a[c],u[c]);if(d!==0)return d;const h=nu(o[a[c]],l[u[c]]);if(h!==0)return h}return Mt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw rt()}}function IT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=Po(t),r=Po(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function ru(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Po(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ze.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ey(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ey(r.fields[a])}`;return s+"}"}(t.mapValue):rt();var e,n}function qf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function Bw(t){return!!t&&"arrayValue"in t}function kT(t){return!!t&&"nullValue"in t}function AT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function af(t){return!!t&&"mapValue"in t}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function e6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=ss.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ic(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];af(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vr(Ic(this.value))}}function px(t){const e=[];return Wa(t.fields,(n,r)=>{const i=new ss([n]);if(af(r)){const s=px(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cr(e,0,ot.min(),ot.min(),ot.min(),Vr.empty(),0)}static newFoundDocument(e,n,r,i){return new cr(e,1,n,ot.min(),r,i,0)}static newNoDocument(e,n){return new cr(e,2,n,ot.min(),ot.min(),Vr.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,ot.min(),ot.min(),Vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=class{constructor(e,n){this.position=e,this.inclusive=n}};function xT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ze.comparator(ze.fromName(o.referenceValue),n.key):r=nu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function t6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mx=class{},Bn=class gx extends mx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r6(e,n,r):n==="array-contains"?new o6(e,r):n==="in"?new a6(e,r):n==="not-in"?new l6(e,r):n==="array-contains-any"?new u6(e,r):new gx(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i6(e,r):new s6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nu(n,this.value)):n!==null&&Pa(this.value)===Pa(n)&&this.matchesComparison(nu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},Os=class vx extends mx{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new vx(e,n)}matches(e){return yx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function yx(t){return t.op==="and"}function wx(t){return n6(t)&&yx(t)}function n6(t){for(const e of t.filters)if(e instanceof Os)return!1;return!0}function Cy(t){if(t instanceof Bn)return t.field.canonicalString()+t.op.toString()+ru(t.value);if(wx(t))return t.filters.map(e=>Cy(e)).join(",");{const e=t.filters.map(n=>Cy(n)).join(",");return`${t.op}(${e})`}}function bx(t,e){return t instanceof Bn?function(n,r){return r instanceof Bn&&n.op===r.op&&n.field.isEqual(r.field)&&os(n.value,r.value)}(t,e):t instanceof Os?function(n,r){return r instanceof Os&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&bx(s,r.filters[o]),!0):!1}(t,e):void rt()}function _x(t){return t instanceof Bn?function(e){return`${e.field.canonicalString()} ${e.op} ${ru(e.value)}`}(t):t instanceof Os?function(e){return e.op.toString()+" {"+e.getFilters().map(_x).join(" ,")+"}"}(t):"Filter"}let r6=class extends Bn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}},i6=class extends Bn{constructor(e,n){super(e,"in",n),this.keys=Tx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},s6=class extends Bn{constructor(e,n){super(e,"not-in",n),this.keys=Tx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Tx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}let o6=class extends Bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bw(n)&&fd(n.arrayValue,this.value)}},a6=class extends Bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fd(this.value.arrayValue,n)}};class l6 extends Bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fd(this.value.arrayValue,n)}}class u6 extends Bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c6=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function DT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new c6(t,e,n,r,i,s,o)}function jw(t){const e=ct(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),e.dt=n}return e.dt}function Hw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PT(t.startAt,e.startAt)&&PT(t.endAt,e.endAt)}function Iy(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function d6(t,e,n,r,i,s,o,a){return new Ka(t,e,n,r,i,s,o,a)}function Ww(t){return new Ka(t)}function RT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Yw(t){return t.collectionGroup!==null}function fa(t){const e=ct(t);if(e.wt===null){e.wt=[];const n=Sm(e),r=Kw(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new $l(n)),e.wt.push(new $l(ss.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $l(ss.keyField(),s))}}}return e.wt}function Ns(t){const e=ct(t);if(!e._t)if(e.limitType==="F")e._t=DT(e.path,e.collectionGroup,fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fa(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new $l(s.field,o))}const r=e.endAt?new iu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new iu(e.startAt.position,e.startAt.inclusive):null;e._t=DT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function ky(t,e){e.getFirstInequalityField(),Sm(t);const n=t.filters.concat([e]);return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qf(t,e,n){return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cm(t,e){return Hw(Ns(t),Ns(e))&&t.limitType===e.limitType}function Ex(t){return`${jw(Ns(t))}|lt:${t.limitType}`}function Ay(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>_x(r)).join(", ")}]`),Tm(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),`Target(${n})`}(Ns(t))}; limitType=${t.limitType})`}function Im(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ze.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of fa(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=xT(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fa(n),r)||n.endAt&&!function(i,s,o){const a=xT(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fa(n),r))}(t,e)}function h6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Sx(t){return(e,n)=>{let r=!1;for(const i of fa(t)){const s=f6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function f6(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?nu(a,l):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new Rn(ze.comparator);function Ms(){return p6}const Cx=new Rn(ze.comparator);function oc(...t){let e=Cx;for(const n of t)e=e.insert(n.key,n);return e}function Ix(t){let e=Cx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function aa(){return kc()}function kx(){return kc()}function kc(){return new ku(t=>t.toString(),(t,e)=>t.isEqual(e))}const m6=new Rn(ze.comparator),g6=new br(ze.comparator);function gt(...t){let e=g6;for(const n of t)e=e.add(n);return e}const v6=new br(Mt);function y6(){return v6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function xx(t){return{integerValue:""+t}}function w6(t,e){return X5(e)?xx(e):Ax(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this._=void 0}}function b6(t,e,n){return t instanceof Xf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Em(i)&&(i=Vw(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof pd?Dx(t,e):t instanceof md?Rx(t,e):function(r,i){const s=Px(r,i),o=OT(s)+OT(r.gt);return Sy(s)&&Sy(r.gt)?xx(o):Ax(r.serializer,o)}(t,e)}function _6(t,e,n){return t instanceof pd?Dx(t,e):t instanceof md?Rx(t,e):n}function Px(t,e){return t instanceof Jf?Sy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Xf extends km{}class pd extends km{constructor(e){super(),this.elements=e}}function Dx(t,e){const n=Ox(e);for(const r of t.elements)n.some(i=>os(i,r))||n.push(r);return{arrayValue:{values:n}}}class md extends km{constructor(e){super(),this.elements=e}}function Rx(t,e){let n=Ox(e);for(const r of t.elements)n=n.filter(i=>!os(i,r));return{arrayValue:{values:n}}}class Jf extends km{constructor(e,n){super(),this.serializer=e,this.gt=n}}function OT(t){return xn(t.integerValue||t.doubleValue)}function Ox(t){return Bw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function T6(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof pd&&r instanceof pd||n instanceof md&&r instanceof md?tu(n.elements,r.elements,os):n instanceof Jf&&r instanceof Jf?os(n.gt,r.gt):n instanceof Xf&&r instanceof Xf}(t.transform,e.transform)}class E6{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Am{}function Nx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zw(t.key,gi.none()):new Hd(t.key,t.data,gi.none());{const n=t.data,r=Vr.empty();let i=new br(ss.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fo(t.key,r,new Zr(i.toArray()),gi.none())}}function S6(t,e,n){t instanceof Hd?function(r,i,s){const o=r.value.clone(),a=MT(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(r,i,s){if(!lf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=MT(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Mx(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,r){return t instanceof Hd?function(i,s,o,a){if(!lf(i.precondition,s))return o;const l=i.value.clone(),u=LT(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(i,s,o,a){if(!lf(i.precondition,s))return o;const l=LT(i.fieldTransforms,a,s),u=s.data;return u.setAll(Mx(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return lf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function C6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Px(r.transform,i||null);s!=null&&(n===null&&(n=Vr.empty()),n.set(r.field,s))}return n||null}function NT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&tu(n,r,(i,s)=>T6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends Am{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends Am{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Mx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function MT(t,e,n){const r=new Map;sn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_6(o,a,n[i]))}return r}function LT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,b6(s,o,e))}return r}class zw extends Am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I6 extends Am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&S6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Nx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gt())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(n,r)=>NT(n,r))&&tu(this.baseMutations,e.baseMutations,(n,r)=>NT(n,r))}}class Gw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){sn(e.mutations.length===r.length);let i=m6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Gw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,Tt;function P6(t){switch(t){default:return rt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function Lx(t){if(t===void 0)return Rs("GRPC error has no .code"),ge.UNKNOWN;switch(t){case In.OK:return ge.OK;case In.CANCELLED:return ge.CANCELLED;case In.UNKNOWN:return ge.UNKNOWN;case In.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case In.INTERNAL:return ge.INTERNAL;case In.UNAVAILABLE:return ge.UNAVAILABLE;case In.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case In.NOT_FOUND:return ge.NOT_FOUND;case In.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case In.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case In.ABORTED:return ge.ABORTED;case In.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case In.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case In.DATA_LOSS:return ge.DATA_LOSS;default:return rt()}}(Tt=In||(In={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Oh}static getOrCreateInstance(){return Oh===null&&(Oh=new qw),Oh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Oh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new Ll([4294967295,4294967295],0);function $T(t){const e=D6().encode(t),n=new L5;return n.update(e),new Uint8Array(n.digest())}function UT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ll([n,r],0),new Ll([i,s],0)]}class Qw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(r<0)throw new ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ll.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ll.fromNumber(r)));return i.compare(R6)===1&&(i=new Ll([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=$T(e),[r,i]=UT(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Qw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=$T(e),[r,i]=UT(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xm(ot.min(),i,new Rn(Mt),Ms(),gt())}}class Wd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class $x{constructor(e,n){this.targetId=e,this.Vt=n}}class Ux{constructor(e,n,r=oi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FT{constructor(){this.St=0,this.Dt=BT(),this.Ct=oi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=gt(),n=gt(),r=gt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Wd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=BT()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class O6{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ms(),this.zt=VT(),this.Wt=new Rn(Mt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Iy(o))if(i===0){const a=new ze(o.path);this.Yt(r,a,cr.newNoDocument(a,ot.min()))}else sn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=qw.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,p,m,y,_;const v={localCacheCount:c,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(v.bloomFilter={applied:u===0,hashCount:(h=b==null?void 0:b.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(p=(f=b==null?void 0:b.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(_=(y=b==null?void 0:b.bits)===null||y===void 0?void 0:y.padding)!==null&&_!==void 0?_:0}),v}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=xa(s).toUint8Array()}catch(c){if(c instanceof fx)return eu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Qw(l,o,a)}catch(c){return eu(c instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Iy(a.target)){const l=new ze(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,cr.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=gt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new xm(e,n,this.Wt,this.jt,r);return this.jt=Ms(),this.zt=VT(),this.Wt=new Rn(Mt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new FT,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new br(Mt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new FT),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function VT(){return new Rn(ze.comparator)}function BT(){return new Rn(ze.comparator)}const N6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),M6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),L6=(()=>({and:"AND",or:"OR"}))();class $6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xy(t,e){return t.useProto3Json||Tm(e)?e:{value:e}}function Zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U6(t,e){return Zf(t,e.toTimestamp())}function Zi(t){return sn(!!t),ot.fromTimestamp(function(e){const n=Po(e);return new Dn(n.seconds,n.nanos)}(t))}function Xw(t,e){return function(n){return new wn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Vx(t){const e=wn.fromString(t);return sn(Wx(e)),e}function Py(t,e){return Xw(t.databaseId,e.path)}function Mg(t,e){const n=Vx(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(Bx(n))}function Dy(t,e){return Xw(t.databaseId,e)}function F6(t){const e=Vx(t);return e.length===4?wn.emptyPath():Bx(e)}function Ry(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bx(t){return sn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jT(t,e,n){return{name:Py(t,e),fields:n.value.mapValue.fields}}function V6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(sn(u===void 0||typeof u=="string"),oi.fromBase64String(u||"")):(sn(u===void 0||u instanceof Uint8Array),oi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?ge.UNKNOWN:Lx(l.code);return new Ae(u,l.message||"")}(o);n=new Ux(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mg(t,r.document.name),s=Zi(r.document.updateTime),o=r.document.createTime?Zi(r.document.createTime):ot.min(),a=new Vr({mapValue:{fields:r.document.fields}}),l=cr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new uf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mg(t,r.document),s=r.readTime?Zi(r.readTime):ot.min(),o=cr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new uf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mg(t,r.document),s=r.removedTargetIds||[];n=new uf([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new x6(i,s),a=r.targetId;n=new $x(a,o)}}return n}function B6(t,e){let n;if(e instanceof Hd)n={update:jT(t,e.key,e.value)};else if(e instanceof zw)n={delete:Py(t,e.key)};else if(e instanceof Fo)n={update:jT(t,e.key,e.data),updateMask:Q6(e.fieldMask)};else{if(!(e instanceof I6))return rt();n={verify:Py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Xf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof pd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof md)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Jf)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:U6(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:rt()}(t,e.precondition)),n}function j6(t,e){return t&&t.length>0?(sn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Zi(r.updateTime):Zi(i);return s.isEqual(ot.min())&&(s=Zi(i)),new E6(s,r.transformResults||[])}(n,e))):[]}function H6(t,e){return{documents:[Dy(t,e.path)]}}function W6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Dy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Hx(Os.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:ml(c.field),direction:z6(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=xy(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function K6(t){let e=F6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){sn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=jx(c);return d instanceof Os&&wx(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new $l(gl(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Tm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new iu(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new iu(h,d)}(n.endAt)),d6(e,i,o,s,a,"F",l,u)}function Y6(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=gl(e.unaryFilter.field);return Bn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=gl(e.unaryFilter.field);return Bn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gl(e.unaryFilter.field);return Bn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gl(e.unaryFilter.field);return Bn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(e){return Bn.create(gl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Os.create(e.compositeFilter.filters.map(n=>jx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(t):rt()}function z6(t){return N6[t]}function G6(t){return M6[t]}function q6(t){return L6[t]}function ml(t){return{fieldPath:t.canonicalString()}}function gl(t){return ss.fromServerFormat(t.fieldPath)}function Hx(t){return t instanceof Bn?function(e){if(e.op==="=="){if(AT(e.value))return{unaryFilter:{field:ml(e.field),op:"IS_NAN"}};if(kT(e.value))return{unaryFilter:{field:ml(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(AT(e.value))return{unaryFilter:{field:ml(e.field),op:"IS_NOT_NAN"}};if(kT(e.value))return{unaryFilter:{field:ml(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(e.field),op:G6(e.op),value:e.value}}}(t):t instanceof Os?function(e){const n=e.getFilters().map(r=>Hx(r));return n.length===1?n[0]:{compositeFilter:{op:q6(e.op),filters:n}}}(t):rt()}function Q6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Wx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jw=class lc{constructor(e,n,r,i,s=ot.min(),o=ot.min(),a=oi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.fe=e}}function J6(t){const e=K6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z6=class{constructor(){this.rn=new eV}addToCollectionParentIndex(e,n){return this.rn.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(xo.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}},eV=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new br(wn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new br(wn.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy=class Ny{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ny(0)}static Mn(){return new Ny(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tV=class{constructor(){this.changes=new ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rV=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ac(r.mutation,i,Zr.empty(),Dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,gt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=gt()){const i=aa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=oc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,gt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ms();const o=kc(),a=kc();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ac(c.mutation,u,c.mutation.getFieldMask(),Dn.now())):o.set(u.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new nV(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=kc();let i=new Rn((o,a)=>o-a),s=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||gt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=kx();c.forEach(h=>{if(!s.has(h)){const f=Nx(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ke.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ze.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ke.resolve(aa());let a=-1,l=s;return o.next(u=>ke.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?ke.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,gt())).next(c=>({batchId:a,changes:Ix(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=oc();return this.indexManager.getCollectionParents(e,i).next(o=>ke.forEach(o,a=>{const l=function(u,c){return new Ka(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,cr.newInvalidDocument(u)))});let o=oc();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ac(u.mutation,l,Zr.empty(),Dn.now()),Im(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iV=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return ke.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Zi(r.createTime)}),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:J6(r.bundledQuery),readTime:Zi(r.readTime)}}(n)),ke.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sV=class{constructor(){this.overlays=new Rn(ze.comparator),this.ls=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return ke.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=aa(),s=n.length+1,o=new ze(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=aa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=aa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ke.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new A6(n,r));let s=this.ls.get(n);s===void 0&&(s=gt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.fs=new br(Fn.ds),this.ws=new br(Fn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Fn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ze(new wn([])),r=new Fn(n,e),i=new Fn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ze(new wn([])),r=new Fn(n,e),i=new Fn(n,e+1);let s=gt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Fn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ze.comparator(e.key,n.key)||Mt(e.As,n.As)}static _s(e,n){return Mt(e.As,n.As)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new br(Fn.ds)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new k6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Fn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(e,n){return ke.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new br(Mt);return n.forEach(i=>{const s=new Fn(i,0),o=new Fn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),ke.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ze.isDocumentKey(s)||(s=s.child(""));const o=new Fn(new ze(s),0);let a=new br(Mt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),ke.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){sn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return ke.forEach(n.mutations,i=>{const s=new Fn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Fn(n,0),i=this.Rs.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.Ds=e,this.docs=new Rn(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let r=Ms();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cr.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ms();const o=n.path,a=new ze(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||G5(z5(c),r)<=0||(i.has(c.key)||Im(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Cs(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lV(this)}getSize(e){return ke.resolve(this.size)}}class lV extends tV{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.persistence=e,this.xs=new ku(n=>jw(n),Hw),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Zw,this.targetCount=0,this.Ms=Oy.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),ke.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Oy(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Fn(n),ke.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.$s={},this.overlays={},this.Os=new Fw(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uV(this),this.indexManager=new Z6,this.remoteDocumentCache=function(r){return new aV(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new X6(n),this.qs=new iV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new oV(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new dV(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return ke.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class dV extends Q5{constructor(e){super(),this.currentSequenceNumber=e}}class eb{constructor(e){this.persistence=e,this.Qs=new Zw,this.js=null}static zs(e){return new eb(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Ws,r=>{const i=ze.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ot.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return ke.or([()=>ke.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=gt(),i=gt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(RT(n))return ke.resolve(null);let r=Ns(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qf(n,null,"F"),r=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=gt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Qf(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return RT(n)||i.isEqual(ot.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(ET()<=xt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ay(n)),this.Wi(e,o,n,Y5(i,-1)))})}ji(e,n){let r=new br(Sx(e));return n.forEach((i,s)=>{Im(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return ET()<=xt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Ay(n)),this.Ui.getDocumentsMatchingQuery(e,n,xo.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Rn(Mt),this.Yi=new ku(s=>jw(s),Hw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function pV(t,e,n,r){return new fV(t,e,n,r)}async function Kx(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=gt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function mV(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=ke.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);sn(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=gt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Yx(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function gV(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(oi.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,m,y){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=Ms(),u=gt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(vV(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ot.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function vV(t,e,n){let r=gt(),i=gt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ms();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ot.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function yV(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wV(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,ke.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Jw(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function My(t,e,n){const r=ct(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jd(o))throw o;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function HT(t,e,n){const r=ct(t);let i=ot.min(),s=gt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ct(a),d=c.Yi.get(u);return d!==void 0?ke.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,Ns(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ot.min(),n?s:gt())).next(a=>(bV(r,h6(e),a),{documents:a,ir:s})))}function bV(t,e,n){let r=t.Xi.get(e)||ot.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class WT{constructor(){this.activeTargetIds=y6()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _V{constructor(){this.Hr=new WT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new WT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Lg(){return Nh===null?Nh=268435456+Math.round(2147483648*Math.random()):Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="WebChannelConnection";class CV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Lg(),a=this.To(e,n);Ke("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(Ke("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw eu("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Iu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=EV[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Lg();return new Promise((o,a)=>{const l=new M5;l.setWithCredentials(!0),l.listenOnce(R5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ng.NO_ERROR:const c=l.getResponseJson();Ke(or,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ng.TIMEOUT:Ke(or,`RPC '${e}' ${s} timed out`),a(new Ae(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Ng.HTTP_ERROR:const d=l.getStatus();if(Ke(or,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(y)>=0?y:ge.UNKNOWN}(f.status);a(new Ae(p,f.message))}else a(new Ae(ge.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ae(ge.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ke(or,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ke(or,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Lg(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=P5(),a=D5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new N5({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ke(or,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new SV({ro:y=>{f?Ke(or,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(Ke(or,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Ke(or,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,_,v)=>{y.listen(_,b=>{try{v(b)}catch(g){setTimeout(()=>{throw g},0)}})};return m(d,Ph.EventType.OPEN,()=>{f||Ke(or,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Ph.EventType.CLOSE,()=>{f||(f=!0,Ke(or,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Ph.EventType.ERROR,y=>{f||(f=!0,eu(or,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new Ae(ge.UNAVAILABLE,"The operation could not be completed")))}),m(d,Ph.EventType.MESSAGE,y=>{var _;if(!f){const v=y.data[0];sn(!!v);const b=v,g=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(g){Ke(or,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let T=function(k){const A=In[k];if(A!==void 0)return Lx(A)}(w),O=g.message;T===void 0&&(T=ge.INTERNAL,O="Unknown error status: "+w+" with message "+g.message),f=!0,p.wo(new Ae(T,O)),d.close()}else Ke(or,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),m(a,O5.STAT_EVENT,y=>{y.stat===_T.PROXY?Ke(or,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===_T.NOPROXY&&Ke(or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function $g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){return new $6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new zx(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Rs(n.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Ae(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IV extends Gx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=V6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ot.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ot.min():s.readTime?Zi(s.readTime):ot.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Ry(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Iy(a)?{documents:H6(i,a)}:{query:W6(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Fx(i,s.resumeToken);const l=xy(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ot.min())>0){o.readTime=Zf(i,s.snapshotVersion.toTimestamp());const l=xy(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=Y6(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Ry(this.serializer),n.removeTarget=e,this.Wo(n)}}class kV extends Gx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=j6(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.cu(r,n)}return sn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ry(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>B6(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ae(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(ge.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ge.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class xV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Rs(n),this.mu=!1):Ke("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Ya(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ct(a);l.vu.add(4),await Kd(l),l.bu.set("Unknown"),l.vu.delete(4),await Dm(l)}(this))})}),this.bu=new xV(r,i)}}async function Dm(t){if(Ya(t))for(const e of t.Ru)await e(!0)}async function Kd(t){for(const e of t.Ru)await e(!1)}function qx(t,e){const n=ct(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ib(n)?rb(n):Au(n).Ko()&&nb(n,e))}function Qx(t,e){const n=ct(t),r=Au(n);n.Au.delete(e),r.Ko()&&Xx(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ya(n)&&n.bu.set("Unknown"))}function nb(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Au(t).su(e)}function Xx(t,e){t.Vu.qt(e),Au(t).iu(e)}function rb(t){t.Vu=new O6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.bu.gu()}function ib(t){return Ya(t)&&!Au(t).Uo()&&t.Au.size>0}function Ya(t){return ct(t).vu.size===0}function Jx(t){t.Vu=void 0}async function DV(t){t.Au.forEach((e,n)=>{nb(t,e)})}async function RV(t,e){Jx(t),ib(t)?(t.bu.Iu(e),rb(t)):t.bu.set("Unknown")}async function OV(t,e,n){if(t.bu.set("Online"),e instanceof Ux&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ep(t,r)}else if(e instanceof uf?t.Vu.Ht(e):e instanceof $x?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ot.min()))try{const r=await Yx(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(oi.EMPTY_BYTE_STRING,u.snapshotVersion)),Xx(i,a);const c=new Jw(u.target,a,l,u.sequenceNumber);nb(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),await ep(t,r)}}async function ep(t,e,n){if(!jd(e))throw e;t.vu.add(1),await Kd(t),t.bu.set("Offline"),n||(n=()=>Yx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Dm(t)})}function Zx(t,e){return e().catch(n=>ep(t,n,e))}async function Rm(t){const e=ct(t),n=Do(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;NV(e);)try{const i=await yV(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,MV(e,i)}catch(i){await ep(e,i)}eP(e)&&tP(e)}function NV(t){return Ya(t)&&t.Eu.length<10}function MV(t,e){t.Eu.push(e);const n=Do(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function eP(t){return Ya(t)&&!Do(t).Uo()&&t.Eu.length>0}function tP(t){Do(t).start()}async function LV(t){Do(t).hu()}async function $V(t){const e=Do(t);for(const n of t.Eu)e.uu(n.mutations)}async function UV(t,e,n){const r=t.Eu.shift(),i=Gw.from(r,e,n);await Zx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rm(t)}async function FV(t,e){e&&Do(t).ou&&await async function(n,r){if(i=r.code,P6(i)&&i!==ge.ABORTED){const s=n.Eu.shift();Do(n).Qo(),await Zx(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Rm(n)}var i}(t,e),eP(t)&&tP(t)}async function YT(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=Ya(n);n.vu.add(3),await Kd(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Dm(n)}async function VV(t,e){const n=ct(t);e?(n.vu.delete(2),await Dm(n)):e||(n.vu.add(2),await Kd(n),n.bu.set("Unknown"))}function Au(t){return t.Su||(t.Su=function(e,n,r){const i=ct(e);return i.fu(),new IV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:DV.bind(null,t),ao:RV.bind(null,t),nu:OV.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ib(t)?rb(t):t.bu.set("Unknown")):(await t.Su.stop(),Jx(t))})),t.Su}function Do(t){return t.Du||(t.Du=function(e,n,r){const i=ct(e);return i.fu(),new kV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:LV.bind(null,t),ao:FV.bind(null,t),au:$V.bind(null,t),cu:UV.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Rm(t)):(await t.Du.stop(),t.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new sb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ob(t,e){if(Rs("AsyncQueue",`${e}: ${t}`),jd(t))return new Ae(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new Rn(this.comparator)}static emptySet(e){return new Ul(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.Cu=new Rn(ze.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class su{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new su(e,n,Ul.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.Nu=void 0,this.listeners=[]}}class jV{constructor(){this.queries=new ku(e=>Ex(e),Cm),this.onlineState="Unknown",this.ku=new Set}}async function nP(t,e){const n=ct(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new BV),i)try{s.Nu=await n.onListen(r)}catch(o){const a=ob(o,`Initialization of query '${Ay(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&ab(n)}async function rP(t,e){const n=ct(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function HV(t,e){const n=ct(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&ab(n)}function WV(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ab(t){t.ku.forEach(e=>{e.next()})}class iP{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.key=e}}class oP{constructor(e){this.key=e}}class KV{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=gt(),this.mutatedKeys=gt(),this.tc=Sx(e),this.ec=new Ul(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new zT,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Im(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new su(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zT,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new oP(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new sP(r))}),n}hc(e){this.Yu=e.ir,this.Zu=gt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return su.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class YV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zV{constructor(e){this.key=e,this.fc=!1}}class GV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ku(a=>Ex(a),Cm),this._c=new Map,this.mc=new Set,this.gc=new Rn(ze.comparator),this.yc=new Map,this.Ic=new Zw,this.Tc={},this.Ec=new Map,this.Ac=Oy.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function qV(t,e){const n=sB(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await wV(n.localStore,Ns(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await QV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&qx(n.remoteStore,o)}return i}async function QV(t,e,n,r,i){t.Rc=(d,h,f)=>async function(p,m,y,_){let v=m.view.sc(y);v.zi&&(v=await HT(p.localStore,m.query,!1).then(({documents:w})=>m.view.sc(w,v)));const b=_&&_.targetChanges.get(m.targetId),g=m.view.applyChanges(v,p.isPrimaryClient,b);return qT(p,m.targetId,g.cc),g.snapshot}(t,d,h,f);const s=await HT(t.localStore,e,!0),o=new KV(e,s.ir),a=o.sc(s.documents),l=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);qT(t,n,u.cc);const c=new YV(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function XV(t,e){const n=ct(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Cm(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await My(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Qx(n.remoteStore,r.targetId),Ly(n,r.targetId)}).catch(Bd)):(Ly(n,r.targetId),await My(n.localStore,r.targetId,!0))}async function JV(t,e,n){const r=oB(t);try{const i=await function(s,o){const a=ct(s),l=Dn.now(),u=o.reduce((h,f)=>h.add(f.key),gt());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ms(),p=gt();return a.Zi.getEntries(h,u).next(m=>{f=m,f.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const y=[];for(const _ of o){const v=C6(_,c.get(_.key).overlayedDocument);v!=null&&y.push(new Fo(_.key,v,px(v.value.mapValue),gi.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:Ix(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Rn(Mt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Yd(r,i.changes),await Rm(r.remoteStore)}catch(i){const s=ob(i,"Failed to persist write");n.reject(s)}}async function aP(t,e){const n=ct(t);try{const r=await gV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(sn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?sn(o.fc):i.removedDocuments.size>0&&(sn(o.fc),o.fc=!1))}),await Yd(n,r,e)}catch(r){await Bd(r)}}function GT(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ct(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&ab(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZV(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Rn(ze.comparator);o=o.insert(s,cr.newNoDocument(s,ot.min()));const a=gt().add(s),l=new xm(ot.min(),new Map,new Rn(Mt),o,a);await aP(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),lb(r)}else await My(r.localStore,e,!1).then(()=>Ly(r,e,n)).catch(Bd)}async function eB(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await mV(n.localStore,e);uP(n,r,null),lP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,i)}catch(i){await Bd(i)}}async function tB(t,e,n){const r=ct(t);try{const i=await function(s,o){const a=ct(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(sn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);uP(r,e,n),lP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,i)}catch(i){await Bd(i)}}function lP(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function uP(t,e,n){const r=ct(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||cP(t,r)})}function cP(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Qx(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),lb(t))}function qT(t,e,n){for(const r of n)r instanceof sP?(t.Ic.addReference(r.key,e),nB(t,r)):r instanceof oP?(Ke("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||cP(t,r.key)):rt()}function nB(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Ke("SyncEngine","New document in limbo: "+n),t.mc.add(r),lb(t))}function lb(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ze(wn.fromString(e)),r=t.Ac.next();t.yc.set(r,new zV(n)),t.gc=t.gc.insert(n,r),qx(t.remoteStore,new Jw(Ns(Ww(n.path)),r,"TargetPurposeLimboResolution",Fw.ct))}}async function Yd(t,e,n){const r=ct(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=tb.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=ct(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>ke.forEach(l,d=>ke.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>ke.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!jd(c))throw c;Ke("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function rB(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=await Kx(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Ae(ge.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.er)}}function iB(t,e){const n=ct(t),r=n.yc.get(e);if(r&&r.fc)return gt().add(r.key);{let i=gt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function sB(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.dc.nu=HV.bind(null,e.eventManager),e.dc.Pc=WV.bind(null,e.eventManager),e}function oB(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tB.bind(null,e),e}let QT=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Pm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pV(this.persistence,new hV,e.initialUser,this.serializer)}createPersistence(e){return new cV(eb.zs,this.serializer)}createSharedClientState(e){return new _V}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},aB=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rB.bind(null,this.syncEngine),await VV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jV}createDatastore(e){const n=Pm(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new CV(i));var i;return function(s,o,a,l){return new AV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>GT(this.syncEngine,a,0),o=KT.D()?new KT:new TV,new PV(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new GV(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ct(e);Ke("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Kd(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dP=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=cx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ke("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ke("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ob(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ug(t,e){t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Kx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cB(t);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>YT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>YT(e.remoteStore,s)),t._onlineComponents=e}function uB(t){return t.name==="FirebaseError"?t.code===ge.FAILED_PRECONDITION||t.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function cB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uB(n))throw n;eu("Error using user provided cache. Falling back to memory cache: "+n),await Ug(t,new QT)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await Ug(t,new QT);return t._offlineComponents}async function hP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await XT(t,t._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await XT(t,new aB))),t._onlineComponents}function dB(t){return hP(t).then(e=>e.syncEngine)}async function fP(t){const e=await hP(t),n=e.eventManager;return n.onListen=qV.bind(null,e.syncEngine),n.onUnlisten=XV.bind(null,e.syncEngine),n}function hB(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new dP({next:d=>{s.enqueueAndForget(()=>rP(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Ae(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Ae(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new iP(Ww(o.path),u,{includeMetadataChanges:!0,Ku:!0});return nP(i,c)}(await fP(t),t.asyncQueue,e,n,r)),r.promise}function fB(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new dP({next:d=>{s.enqueueAndForget(()=>rP(i,c)),d.fromCache&&a.source==="server"?l.reject(new Ae(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new iP(o,u,{includeMetadataChanges:!0,Ku:!0});return nP(i,c)}(await fP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e,n){if(!n)throw new Ae(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pB(t,e,n,r){if(e===!0&&r===!0)throw new Ae(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZT(t){if(!ze.isDocumentKey(t))throw new Ae(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eE(t){if(ze.isDocumentKey(t))throw new Ae(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Om(t);throw new Ae(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mB(t,e){if(e<=0)throw new Ae(ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Nm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ae(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $5;switch(n.type){case"firstParty":return new B5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ae(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=JT.get(e);n&&(Ke("ComponentProvider","Removing Datastore"),JT.delete(e),n.terminate())}(this),Promise.resolve()}}function gB(t,e,n,r={}){var i;const s=(t=$i(t,Nm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ur.MOCK_USER;else{a=ok(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ae(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ur(u)}t._authCredentials=new U5(new ux(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dr(this.firestore,e,this._key)}}class Vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class yo extends Vs{constructor(e,n,r){super(e,n,Ww(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new ze(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Ei(t,e,...n){if(t=Lt(t),mP("collection","path",e),t instanceof Nm){const r=wn.fromString(e,...n);return eE(r),new yo(t,null,r)}{if(!(t instanceof Dr||t instanceof yo))throw new Ae(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return eE(r),new yo(t.firestore,null,r)}}function Ot(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=cx.A()),mP("doc","path",e),t instanceof Nm){const r=wn.fromString(e,...n);return ZT(r),new Dr(t,null,new ze(r))}{if(!(t instanceof Dr||t instanceof yo))throw new Ae(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return ZT(r),new Dr(t.firestore,t instanceof yo?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new zx(this,"async_queue_retry"),this.Xc=()=>{const n=$g();n&&Ke("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=$g();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=$g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ks;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!jd(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Rs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=sb.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class za extends Nm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gP(this),this._firestoreClient.terminate()}}function yB(t,e){const n=typeof t=="object"?t:Eu(),r=typeof t=="string"?t:e||"(default)",i=cs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rk("firestore");s&&gB(i,...s)}return i}function ub(t){return t._firestoreClient||gP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gP(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new Z5(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,pP(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new lB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(oi.fromBase64String(e))}catch(n){throw new Ae(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ou(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=/^__.*__$/;class bB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}class vP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class hb{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new hb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return tp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(yP(this.ca)&&wB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _B{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pm(e)}ya(e,n,r,i=!1){return new hb({ca:e,methodName:n,ga:r,path:ss.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(t){const e=t._freezeSettings(),n=Pm(t._databaseId);return new _B(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wP(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);fb("Data must be an object, but it was:",o,r);const a=EP(r,o);let l,u;if(s.merge)l=new Zr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=$y(e,d,n);if(!o.contains(h))throw new Ae(ge.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CP(c,h)||c.push(h)}l=new Zr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new bB(new Vr(a),l,u)}let bP=class _P extends cb{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _P}};function TB(t,e,n,r){const i=t.ya(1,e,n);fb("Data must be an object, but it was:",i,r);const s=[],o=Vr.empty();Wa(r,(l,u)=>{const c=pb(e,l,n);u=Lt(u);const d=i.da(c);if(u instanceof bP)s.push(c);else{const h=Gd(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Zr(s);return new vP(o,a,i.fieldTransforms)}function EB(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[$y(e,r,n)],l=[i];if(s.length%2!=0)throw new Ae(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push($y(e,s[h])),l.push(s[h+1]);const u=[],c=Vr.empty();for(let h=a.length-1;h>=0;--h)if(!CP(u,a[h])){const f=a[h];let p=l[h];p=Lt(p);const m=o.da(f);if(p instanceof bP)u.push(f);else{const y=Gd(p,m);y!=null&&(u.push(f),c.set(f,y))}}const d=new Zr(u);return new vP(c,d,o.fieldTransforms)}function TP(t,e,n,r=!1){return Gd(n,t.ya(r?4:3,e))}function Gd(t,e){if(SP(t=Lt(t)))return fb("Unsupported field value:",e,t),EP(t,e);if(t instanceof cb)return function(n,r){if(!yP(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Gd(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return w6(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Dn.fromDate(n);return{timestampValue:Zf(r.serializer,i)}}if(n instanceof Dn){const i=new Dn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zf(r.serializer,i)}}if(n instanceof db)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ou)return{bytesValue:Fx(r.serializer,n._byteString)};if(n instanceof Dr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Om(n)}`)}(t,e)}function EP(t,e){const n={};return hx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(t,(r,i)=>{const s=Gd(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function SP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dn||t instanceof db||t instanceof ou||t instanceof Dr||t instanceof cb)}function fb(t,e,n){if(!SP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Om(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function $y(t,e,n){if((e=Lt(e))instanceof Mm)return e._internalPath;if(typeof e=="string")return pb(t,e);throw tp("Field path arguments must be of type string or ",t,!1,void 0,n)}const SB=new RegExp("[~\\*/\\[\\]]");function pb(t,e,n){if(e.search(SB)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mm(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ae(ge.INVALID_ARGUMENT,a+t+l)}function CP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mb=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},CB=class extends mb{data(){return super.data()}};function Lm(t,e){return typeof e=="string"?pb(t,e):e instanceof Mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let gb=class{},$m=class extends gb{};function kB(t,e,...n){let r=[];e instanceof gb&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof AB).length,o=i.filter(a=>a instanceof IP).length;if(s>1||s>0&&o>0)throw new Ae(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let IP=class kP extends $m{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kP(e,n,r)}_apply(e){const n=this._parse(e);return RP(e._query,n),new Vs(e.firestore,e.converter,ky(e._query,n))}_parse(e){const n=zd(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){sE(c,u);const h=[];for(const f of c)h.push(iE(a,i,f));d={arrayValue:{values:h}}}else d=iE(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||sE(c,u),d=TP(o,s,c,u==="in"||u==="not-in");return Bn.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function nE(t,e,n){const r=e,i=Lm("where",t);return IP._create(i,r,n)}let AB=class AP extends gb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AP(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)RP(s,a),s=ky(s,a)}(e._query,n),new Vs(e.firestore,e.converter,ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},xB=class xP extends $m{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xP(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new $l(i,s);return function(a,l){if(Kw(a)===null){const u=Sm(a);u!==null&&OP(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ka(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function rE(t,e="asc"){const n=e,r=Lm("orderBy",t);return xB._create(r,n)}let PB=class PP extends $m{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new PP(e,n,r)}_apply(e){return new Vs(e.firestore,e.converter,Qf(e._query,this._limit,this._limitType))}};function DB(t){return mB("limit",t),PB._create("limit",t,"F")}let RB=class DP extends $m{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new DP(e,n,r)}_apply(e){const n=NB(e,this.type,this._docOrFields,this._inclusive);return new Vs(e.firestore,e.converter,function(r,i){return new Ka(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}};function OB(...t){return RB._create("startAfter",t,!1)}function NB(t,e,n,r){if(n[0]=Lt(n[0]),n[0]instanceof mb)return function(i,s,o,a,l){if(!a)throw new Ae(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of fa(i))if(c.field.isKeyField())u.push(qf(s,a.key));else{const d=a.data.field(c.field);if(Em(d))throw new Ae(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new iu(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=zd(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new Ae(ge.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<u.length;f++){const p=u[f];if(d[f].field.isKeyField()){if(typeof p!="string")throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!Yw(s)&&p.indexOf("/")!==-1)throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(wn.fromString(p));if(!ze.isDocumentKey(m))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const y=new ze(m);h.push(qf(o,y))}else{const m=TP(a,l,p);h.push(m)}}return new iu(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function iE(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yw(e)&&n.indexOf("/")!==-1)throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wn.fromString(n));if(!ze.isDocumentKey(r))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qf(t,new ze(r))}if(n instanceof Dr)return qf(t,n._key);throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Om(n)}.`)}function sE(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RP(t,e){if(e.isInequality()){const r=Sm(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Kw(t);s!==null&&OP(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ae(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function OP(t,e,n){if(!n.isEqual(e))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let MB=class{convertValue(e,n="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new db(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const n=Po(e);return new Dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wn.fromString(e);sn(Wx(r));const i=new hd(r.get(1),r.get(3)),s=new ze(r.popFirst(5));return i.isEqual(n)||Rs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MP extends mb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cf extends MP{data(e={}){return super.data(e)}}class LB{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new uc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cf(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new cf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new uc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new cf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new uc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:$B(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $B(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t){t=$i(t,Dr);const e=$i(t.firestore,za);return hB(ub(e),t._key).then(n=>WB(e,t,n))}class LP extends MB{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,n)}}function FB(t){t=$i(t,Vs);const e=$i(t.firestore,za),n=ub(e),r=new LP(e);return IB(t._query),fB(n,t._query).then(i=>new LB(e,r,t,i))}function VB(t,e,n){t=$i(t,Dr);const r=$i(t.firestore,za),i=NP(t.converter,e,n);return Um(r,[wP(zd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gi.none())])}function BB(t,e,n,...r){t=$i(t,Dr);const i=$i(t.firestore,za),s=zd(i);let o;return o=typeof(e=Lt(e))=="string"||e instanceof Mm?EB(s,"updateDoc",t._key,e,n,r):TB(s,"updateDoc",t._key,e),Um(i,[o.toMutation(t._key,gi.exists(!0))])}function jB(t){return Um($i(t.firestore,za),[new zw(t._key,gi.none())])}function HB(t,e){const n=$i(t.firestore,za),r=Ot(t),i=NP(t.converter,e);return Um(n,[wP(zd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then(()=>r)}function Um(t,e){return function(n,r){const i=new ks;return n.asyncQueue.enqueueAndForget(async()=>JV(await dB(n),r,i)),i.promise}(ub(t),e)}function WB(t,e,n){const r=n.docs.get(e._key),i=new LP(t);return new MP(t,i,e._key,r,new uc(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Iu=n})(Lo),zr(new Or("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new za(new F5(n.getProvider("auth-internal")),new H5(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ae(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ir(TT,"3.12.2",t),ir(TT,"3.12.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebasestorage.googleapis.com",UP="storageBucket",KB=2*60*1e3,YB=10*60*1e3,zB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends ai{constructor(e,n,r=0){super(Fg(e),`Firebase Storage: ${n} (${Fg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function Fg(t){return"storage/"+t}function vb(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(on.UNKNOWN,t)}function GB(t){return new mn(on.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qB(t){return new mn(on.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(on.UNAUTHENTICATED,t)}function XB(){return new mn(on.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JB(t){return new mn(on.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function FP(){return new mn(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VP(){return new mn(on.CANCELED,"User canceled the upload/download.")}function ZB(t){return new mn(on.INVALID_URL,"Invalid URL '"+t+"'.")}function ej(t){return new mn(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tj(){return new mn(on.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UP+"' property when initializing the app?")}function BP(){return new mn(on.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nj(){return new mn(on.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function rj(){return new mn(on.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ij(t){return new mn(on.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Uy(t){return new mn(on.INVALID_ARGUMENT,t)}function jP(){return new mn(on.APP_DELETED,"The Firebase app was deleted.")}function sj(t){return new mn(on.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xc(t,e){return new mn(on.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vu(t){throw new mn(on.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(r.path==="")return r;throw ej(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(g){g.path_=decodeURIComponent(g.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===$P?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let g=0;g<b.length;g++){const w=b[g],T=w.regex.exec(e);if(T){const O=T[w.indices.bucket];let k=T[w.indices.path];k||(k=""),r=new ei(O,k),w.postModify(r);break}}if(r==null)throw ZB(e);return r}}class oj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,l())},y)}function h(){s&&clearTimeout(s)}function f(y,..._){if(u){h();return}if(y){h(),c.call(null,y,..._);return}if(l()||o){h(),c.call(null,y,..._);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let p=!1;function m(y){p||(p=!0,h(),!u&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function lj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){return t!==void 0}function cj(t){return typeof t=="function"}function dj(t){return typeof t=="object"&&!Array.isArray(t)}function Fm(t){return typeof t=="string"||t instanceof String}function oE(t){return yb()&&t instanceof Blob}function yb(){return typeof Blob<"u"&&!R$()}function aE(t,e,n,r){if(r<e)throw Uy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Uy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function HP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pa||(pa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===pa.NO_ERROR,l=s.getStatus();if(!a||WP(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===pa.ABORT;r(!1,new Mh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Mh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());uj(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=vb();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?jP():VP();o(l)}else{const l=FP();o(l)}};this.canceled_?n(!1,new Mh(!1,null,!0)):this.backoffId_=aj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vj(t,e,n,r,i,s,o=!0){const a=HP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return mj(u,e),fj(u,n),pj(u,s),gj(u,r),new hj(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wj(...t){const e=yj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yb())return new Blob(t);throw new mn(on.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){if(typeof atob>"u")throw ij("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vg{constructor(e,n){this.data=e,this.contentType=n||null}}function Tj(t,e){switch(t){case Gi.RAW:return new Vg(KP(e));case Gi.BASE64:case Gi.BASE64URL:return new Vg(YP(t,e));case Gi.DATA_URL:return new Vg(Sj(e),Cj(e))}throw vb()}function KP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Ej(t){let e;try{e=decodeURIComponent(t)}catch{throw xc(Gi.DATA_URL,"Malformed data URL.")}return KP(e)}function YP(t,e){switch(t){case Gi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw xc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw xc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_j(e)}catch(i){throw i.message.includes("polyfill")?i:xc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xc(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Ij(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Sj(t){const e=new zP(t);return e.base64?YP(Gi.BASE64,e.rest):Ej(e.rest)}function Cj(t){return new zP(t).contentType}function Ij(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){let r=0,i="";oE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(oE(this.data_)){const r=this.data_,i=bj(r,e,n);return i===null?null:new ro(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ro(r,!0)}}static getBlob(...e){if(yb()){const n=e.map(r=>r instanceof ro?r.data_:r);return new ro(wj.apply(null,n))}else{const n=e.map(o=>Fm(o)?Tj(Gi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ro(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){let e;try{e=JSON.parse(t)}catch{return null}return dj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Aj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t,e){return e}class Er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||xj}}let Lh=null;function Pj(t){return!Fm(t)||t.length<2?t:qP(t)}function QP(){if(Lh)return Lh;const t=[];t.push(new Er("bucket")),t.push(new Er("generation")),t.push(new Er("metageneration")),t.push(new Er("name","fullPath",!0));function e(s,o){return Pj(o)}const n=new Er("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Er("size");return i.xform=r,t.push(i),t.push(new Er("timeCreated")),t.push(new Er("updated")),t.push(new Er("md5Hash",null,!0)),t.push(new Er("cacheControl",null,!0)),t.push(new Er("contentDisposition",null,!0)),t.push(new Er("contentEncoding",null,!0)),t.push(new Er("contentLanguage",null,!0)),t.push(new Er("contentType",null,!0)),t.push(new Er("metadata","customMetadata",!0)),Lh=t,Lh}function Dj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ei(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Rj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Dj(r,t),r}function XP(t,e,n){const r=GP(e);return r===null?null:Rj(t,r,n)}function Oj(t,e,n,r){const i=GP(e);if(i===null||!Fm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=xu(h,n,r),p=HP({alt:"media",token:u});return f+p})[0]}function JP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ga{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t){if(!t)throw vb()}function wb(t,e){function n(r,i){const s=XP(t,i,e);return As(s!==null),s}return n}function Nj(t,e){function n(r,i){const s=XP(t,i,e);return As(s!==null),Oj(s,i,t.host,t._protocol)}return n}function qd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=XB():i=QB():n.getStatus()===402?i=qB(t.bucket):n.getStatus()===403?i=JB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function bb(t){const e=qd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=GB(t.path)),s.serverResponse=i.serverResponse,s}return n}function Mj(t,e,n){const r=e.fullServerUrl(),i=xu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ga(i,s,wb(t,n),o);return a.errorHandler=bb(e),a}function Lj(t,e,n){const r=e.fullServerUrl(),i=xu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ga(i,s,Nj(t,n),o);return a.errorHandler=bb(e),a}function $j(t,e){const n=e.fullServerUrl(),r=xu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Ga(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=bb(e),a}function Uj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Uj(null,e)),r}function Fj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=ZP(e,r,i),c=JP(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=ro.getBlob(d,r,h);if(f===null)throw BP();const p={name:u.fullPath},m=xu(s,t.host,t._protocol),y="POST",_=t.maxUploadRetryTime,v=new Ga(m,y,wb(t,n),_);return v.urlParams=p,v.headers=o,v.body=f.uploadData(),v.errorHandler=qd(e),v}class np{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function _b(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{As(!1)}return As(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Vj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=ZP(e,r,i),a={name:o.fullPath},l=xu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=JP(o,n),h=t.maxUploadRetryTime;function f(m){_b(m);let y;try{y=m.getResponseHeader("X-Goog-Upload-URL")}catch{As(!1)}return As(Fm(y)),y}const p=new Ga(l,u,f,h);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=qd(e),p}function Bj(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=_b(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{As(!1)}d||As(!1);const h=Number(d);return As(!isNaN(h)),new np(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ga(n,o,s,a);return l.headers=i,l.errorHandler=qd(e),l}const lE=256*1024;function jj(t,e,n,r,i,s,o,a){const l=new np(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw nj();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(m===null)throw BP();function y(g,w){const T=_b(g,["active","final"]),O=l.current+c,k=r.size();let A;return T==="final"?A=wb(e,s)(g,w):A=null,new np(O,k,T==="final",A)}const _="POST",v=e.maxUploadRetryTime,b=new Ga(n,_,y,v);return b.headers=p,b.body=m.uploadData(),b.progressCallback=a||null,b.errorHandler=qd(t),b}const Fr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bg(t){switch(t){case"running":case"pausing":case"canceling":return Fr.RUNNING;case"paused":return Fr.PAUSED;case"success":return Fr.SUCCESS;case"canceled":return Fr.CANCELED;case"error":return Fr.ERROR;default:return Fr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,r){if(cj(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Wj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Vu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Kj extends Wj{initXhr(){this.xhr_.responseType="text"}}function ta(){return new Kj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=QP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(on.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(WP(i.status,[]))if(s)i=FP();else{this.sleepTime=Math.max(this.sleepTime*2,zB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(on.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Vj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Bj(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ta,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=lE*this._chunkMultiplier,n=new np(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=jj(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ta,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){lE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Mj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Fj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=VP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Bg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Hj(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Bg(this._state)){case Fr.SUCCESS:rl(this._resolve.bind(null,this.snapshot))();break;case Fr.CANCELED:case Fr.ERROR:const n=this._reject;rl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Bg(this._state)){case Fr.RUNNING:case Fr.PAUSED:e.next&&rl(e.next.bind(e,this.snapshot))();break;case Fr.SUCCESS:e.complete&&rl(e.complete.bind(e))();break;case Fr.CANCELED:case Fr.ERROR:e.error&&rl(e.error.bind(e,this._error))();break;default:e.error&&rl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Da(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qP(this._location.path)}get storage(){return this._service}get parent(){const e=kj(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new Da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sj(e)}}function zj(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Yj(t,new ro(e),n)}function Gj(t){t._throwIfRoot("getDownloadURL");const e=Lj(t.storage,t._location,QP());return t.storage.makeRequestWithTokens(e,ta).then(n=>{if(n===null)throw rj();return n})}function qj(t){t._throwIfRoot("deleteObject");const e=$j(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ta)}function Qj(t,e){const n=Aj(t._location.path,e),r=new ei(t._location.bucket,n);return new Da(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){return/^[A-Za-z]+:\/\//.test(t)}function Jj(t,e){return new Da(t,e)}function eD(t,e){if(t instanceof Tb){const n=t;if(n._bucket==null)throw tj();const r=new Da(n,n._bucket);return e!=null?eD(r,e):r}else return e!==void 0?Qj(t,e):t}function Zj(t,e){if(e&&Xj(e)){if(t instanceof Tb)return Jj(t,e);throw Uy("To use ref(service, url), the first argument must be a Storage instance.")}else return eD(t,e)}function uE(t,e){const n=e==null?void 0:e[UP];return n==null?null:ei.makeFromBucketSpec(n,t)}function eH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ok(i,t.app.options.projectId))}class Tb{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=$P,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KB,this._maxUploadRetryTime=YB,this._requests=new Set,i!=null?this._bucket=ei.makeFromBucketSpec(i,this._host):this._bucket=uE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=uE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Da(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oj(jP());{const o=vj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const cE="@firebase/storage",dE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="storage";function tH(t,e,n){return t=Lt(t),zj(t,e,n)}function nH(t){return t=Lt(t),Gj(t)}function rH(t){return t=Lt(t),qj(t)}function iH(t,e){return t=Lt(t),Zj(t,e)}function sH(t=Eu(),e){t=Lt(t);const r=cs(t,tD).getImmediate({identifier:e}),i=rk("storage");return i&&oH(r,...i),r}function oH(t,e,n,r={}){eH(t,e,n,r)}function aH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Tb(n,r,i,e,Lo)}function lH(){zr(new Or(tD,aH,"PUBLIC").setMultipleInstances(!0)),ir(cE,dE,""),ir(cE,dE,"esm2017")}lH();const nD=1e3,Fy=nD*60,Vy=Fy*60,rp=Vy*24,ip=rp*365,rD=async t=>{const e=await UB(t),n=e.data();return n?{id:e.id,...n}:null},il=async(t,e)=>{const n=await FB(e?kB(t,...e):t);return Promise.all(n.docs.map(r=>rD(r.ref)))},ci=rD,uH=HB,sp=VB,to=BB,cc=jB,By=t=>iH(sH(),t),hE=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),cH=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},Di=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!Di(a,o[l])||o.some((u,c)=>!Di(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!Di(r,i))return!1}else if(r!==i)return!1}return!0},jy=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/ip,o=r%ip/rp,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}},df=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},dH=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Xs=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},vl=t=>Array.isArray(t)?t:[t],hH=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Hy=t=>t.join(", ").replace(/,([^,]*)$/," and$1");function Eb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fH=iD,sD=new Mo("auth","Firebase",iD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new Tu("@firebase/auth");function pH(t,...e){op.logLevel<=xt.WARN&&op.warn(`Auth (${Lo}): ${t}`,...e)}function hf(t,...e){op.logLevel<=xt.ERROR&&op.error(`Auth (${Lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,...e){throw Sb(t,...e)}function es(t,...e){return Sb(t,...e)}function mH(t,e,n){const r=Object.assign(Object.assign({},fH()),{[e]:n});return new Mo("auth","Firebase",r).create(e,{appName:t.name})}function Sb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sD.create(t,...e)}function Ze(t,e,...n){if(!t)throw Sb(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hf(e),new Error(e)}function Ls(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gH(){return fE()==="http:"||fE()==="https:"}function fE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gH()||ak()||"connection"in navigator)?navigator.onLine:!0}function yH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=rw()||lk()}get(){return vH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=new Qd(3e4,6e4);function qa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qa(t,e,n,r,i={}){return aD(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_u(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),oD.fetch()(lD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function aD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wH),e);try{const i=new _H(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $h(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $h(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mH(t,c,u);Ui(t,c)}}catch(i){if(i instanceof ai)throw i;Ui(t,"network-request-failed",{message:String(i)})}}async function Xd(t,e,n,r,i={}){const s=await Qa(t,e,n,r,i);return"mfaPendingCredential"in s&&Ui(t,"multi-factor-auth-required",{_serverResponse:s}),s}function lD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Cb(t.config,i):`${t.config.apiScheme}://${i}`}class _H{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(es(this.auth,"network-request-failed")),bH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=es(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TH(t,e){return Qa(t,"POST","/v1/accounts:delete",e)}async function EH(t,e){return Qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SH(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=Ib(r);Ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pc(jg(i.auth_time)),issuedAtTime:Pc(jg(i.iat)),expirationTime:Pc(jg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jg(t){return Number(t)*1e3}function Ib(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lf(n);return i?JSON.parse(i):(hf("Failed to decode base64 JWT payload"),null)}catch(i){return hf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CH(t){const e=Ib(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&IH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t){var e;const n=t.auth,r=await t.getIdToken(),i=await au(t,EH(n,{idToken:r}));Ze(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?PH(s.providerUserInfo):[],a=xH(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uD(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function AH(t){const e=Lt(t);await ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PH(t){return t.map(e=>{var{providerId:n}=e,r=Eb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DH(t,e){const n=await aD(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=lD(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ze(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await DH(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new gd;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ze(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gd,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ma{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Eb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uD(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SH(this,e)}reload(){return AH(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await au(this,TH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:g,isAnonymous:w,providerData:T,stsTokenManager:O}=n;Ze(b&&O,e,"internal-error");const k=gd.fromJSON(this.name,O);Ze(typeof b=="string",e,"internal-error"),Ys(d,e.name),Ys(h,e.name),Ze(typeof g=="boolean",e,"internal-error"),Ze(typeof w=="boolean",e,"internal-error"),Ys(f,e.name),Ys(p,e.name),Ys(m,e.name),Ys(y,e.name),Ys(_,e.name),Ys(v,e.name);const A=new ma({uid:b,auth:e,email:h,emailVerified:g,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:k,createdAt:_,lastLoginAt:v});return T&&Array.isArray(T)&&(A.providerData=T.map(S=>Object.assign({},S))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new gd;i.updateFromServerResponse(n);const s=new ma({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ap(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function _s(t){Ls(t instanceof Function,"Expected a class definition");let e=pE.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cD.type="NONE";const mE=cD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e,n){return`firebase:${t}:${e}:${n}`}class Fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ff(this.userKey,i.apiKey,s),this.fullPersistenceKey=ff("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ma._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fl(_s(mE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_s(mE);const o=ff(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ma._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mD(e))return"Blackberry";if(gD(e))return"Webos";if(kb(e))return"Safari";if((e.includes("chrome/")||hD(e))&&!e.includes("edge/"))return"Chrome";if(pD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dD(t=Tr()){return/firefox\//i.test(t)}function kb(t=Tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hD(t=Tr()){return/crios\//i.test(t)}function fD(t=Tr()){return/iemobile/i.test(t)}function pD(t=Tr()){return/android/i.test(t)}function mD(t=Tr()){return/blackberry/i.test(t)}function gD(t=Tr()){return/webos/i.test(t)}function Vm(t=Tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RH(t=Tr()){var e;return Vm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OH(){return O$()&&document.documentMode===10}function vD(t=Tr()){return Vm(t)||pD(t)||gD(t)||mD(t)||/windows phone/i.test(t)||fD(t)}function NH(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e=[]){let n;switch(t){case"Browser":n=gE(Tr());break;case"Worker":n=`${gE(Tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${r}`}async function wD(t,e){return Qa(t,"GET","/v2/recaptchaConfig",qa(t,e))}function vE(t){return t!==void 0&&t.enterprise!==void 0}class bD{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _D(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=es("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",MH().appendChild(r)})}function LH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $H="https://www.google.com/recaptcha/enterprise.js?render=",UH="recaptcha-enterprise",FH="NO_RECAPTCHA";class TD{constructor(e){this.type=UH,this.auth=Xa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{wD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new bD(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(FH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}_D($H+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function lu(t,e,n,r=!1){const i=new TD(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new VH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ap(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Lt(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}async initializeRecaptchaConfig(){const e=await wD(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new bD(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new TD(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xa(t){return Lt(t)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=B$(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t,e){const n=cs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zc(s,e??{}))return i;Ui(i,"already-initialized")}return n.initialize({options:e})}function HH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WH(t,e,n){const r=Xa(t);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ED(e),{host:o,port:a}=KH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||YH()}function ED(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KH(t){const e=ED(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wE(o)}}}function wE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function SD(t,e){return Qa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hg(t,e){return Xd(t,"POST","/v1/accounts:signInWithPassword",qa(t,e))}async function zH(t,e){return Qa(t,"POST","/v1/accounts:sendOobCode",qa(t,e))}async function Wg(t,e){return zH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",qa(t,e))}async function qH(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Ab{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await lu(e,r,"signInWithPassword");return Hg(e,i)}else return Hg(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await lu(e,r,"signInWithPassword");return Hg(e,s)}else return Promise.reject(i)});case"emailLink":return GH(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return SD(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return qH(e,{idToken:n,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return Xd(t,"POST","/v1/accounts:signInWithIdp",qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH="http://localhost";class Ra extends Ab{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Eb(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ra(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:QH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JH(t){const e=nc(rc(t)).link,n=e?nc(rc(e)).deep_link_id:null,r=nc(rc(t)).deep_link_id;return(r?nc(rc(r)).link:null)||r||n||e||t}class xb{constructor(e){var n,r,i,s,o,a;const l=nc(rc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=XH((i=l.mode)!==null&&i!==void 0?i:null);Ze(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=JH(e);try{return new xb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return vd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xb.parseLink(n);return Ze(r,"argument-error"),vd._fromEmailAndCode(e,r.code,r.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends CD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Jd{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return so.credential(n,r)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Jd{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Jd{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(t,e){return Xd(t,"POST","/v1/accounts:signUp",qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ma._fromIdTokenResponse(e,r,i),o=bE(r);return new Oa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bE(r);return new Oa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lp(e,n,r,i)}}function ID(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lp._fromErrorAndOperation(t,s,e,r):s})}async function ZH(t,e,n=!1){const r=await au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await au(t,ID(r,i,e,t),n);Ze(s.idToken,r,"internal-error");const o=Ib(s.idToken);Ze(o,r,"internal-error");const{sub:a}=o;return Ze(t.uid===a,r,"user-mismatch"),Oa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ui(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e,n=!1){const r="signIn",i=await ID(t,r,e),s=await Oa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function e9(t,e){return AD(Xa(t),e)}async function _E(t,e){return kD(Lt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e,n){var r;Ze(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ze(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ze(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ze(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(t,e,n){var r;const i=Xa(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await lu(i,s,"getOobCode",!0);n&&Yg(i,o,n),await Wg(i,o)}else n&&Yg(i,s,n),await Wg(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await lu(i,s,"getOobCode",!0);n&&Yg(i,a,n),await Wg(i,a)}else return Promise.reject(o)})}async function n9(t,e,n){var r;const i=Xa(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await lu(i,s,"signUpPassword");o=Kg(i,u)}else o=Kg(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await lu(i,s,"signUpPassword");return Kg(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Oa._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function r9(t,e,n){return e9(Lt(t),Ro.credential(e,n))}function i9(t,e){return xD(Lt(t),e,null)}function s9(t,e){return xD(Lt(t),null,e)}async function xD(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await au(t,SD(r,s));await t._updateTokensIfNecessary(o,!0)}function PD(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function o9(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function a9(t){return Lt(t).signOut()}async function l9(t){return Lt(t).delete()}const up="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(up,"1"),this.storage.removeItem(up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){const t=Tr();return kb(t)||Vm(t)}const c9=1e3,d9=10;class RD extends DD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=u9()&&NH(),this.fallbackToPolling=vD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},c9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RD.type="LOCAL";const h9=RD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD extends DD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OD.type="SESSION";const ND=OD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await f9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Pb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function m9(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function g9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y9(){return MD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="firebaseLocalStorageDb",w9=1,cp="firebaseLocalStorage",$D="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jm(t,e){return t.transaction([cp],e?"readwrite":"readonly").objectStore(cp)}function b9(){const t=indexedDB.deleteDatabase(LD);return new Zd(t).toPromise()}function Ky(){const t=indexedDB.open(LD,w9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cp,{keyPath:$D})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cp)?e(r):(r.close(),await b9(),e(await Ky()))})})}async function TE(t,e,n){const r=jm(t,!0).put({[$D]:e,value:n});return new Zd(r).toPromise()}async function _9(t,e){const n=jm(t,!1).get(e),r=await new Zd(n).toPromise();return r===void 0?null:r.value}function EE(t,e){const n=jm(t,!0).delete(e);return new Zd(n).toPromise()}const T9=800,E9=3;class UD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>E9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bm._getInstance(y9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await g9(),!this.activeServiceWorker)return;this.sender=new p9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ky();return await TE(e,up,"1"),await EE(e,up),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>EE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jm(i,!1).getAll();return new Zd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UD.type="LOCAL";const S9=UD;new Qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t,e){return e?_s(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends Ab{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I9(t){return AD(t.auth,new Db(t),t.bypassAuthState)}function k9(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),kD(n,new Db(t),t.bypassAuthState)}async function A9(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),ZH(n,new Db(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I9;case"linkViaPopup":case"linkViaRedirect":return A9;case"reauthViaPopup":case"reauthViaRedirect":return k9;default:Ui(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new Qd(2e3,1e4);class El extends FD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=Pb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x9.get())};e()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="pendingRedirect",pf=new Map;class D9 extends FD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await R9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R9(t,e){const n=M9(e),r=N9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function O9(t,e){pf.set(t._key(),e)}function N9(t){return _s(t._redirectPersistence)}function M9(t){return ff(P9,t.config.apiKey,t.name)}async function L9(t,e,n=!1){const r=Xa(t),i=C9(r,e),o=await new D9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=10*60*1e3;class U9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$9&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e={}){return Qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j9=/^https?/;async function H9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V9(t);for(const n of e)try{if(W9(n))return}catch{}Ui(t,"unauthorized-domain")}function W9(t){const e=Wy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!j9.test(n))return!1;if(B9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Qd(3e4,6e4);function CE(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y9(t){return new Promise((e,n)=>{var r,i,s;function o(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(es(t,"network-request-failed"))},timeout:K9.get()})}if(!((i=(r=ts().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ts().gapi)===null||s===void 0)&&s.load)o();else{const a=LH("iframefcb");return ts()[a]=()=>{gapi.load?o():n(es(t,"network-request-failed"))},_D(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mf=null,e})}let mf=null;function z9(t){return mf=mf||Y9(t),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=new Qd(5e3,15e3),q9="__/auth/iframe",Q9="emulator/auth/iframe",X9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z9(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cb(e,Q9):`https://${t.config.authDomain}/${q9}`,r={apiKey:e.apiKey,appName:t.name,v:Lo},i=J9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_u(r).slice(1)}`}async function e8(t){const e=await z9(t),n=ts().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:Z9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=es(t,"network-request-failed"),a=ts().setTimeout(()=>{s(o)},G9.get());function l(){ts().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n8=500,r8=600,i8="_blank",s8="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o8(t,e,n,r=n8,i=r8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},t8),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Tr().toLowerCase();n&&(a=hD(u)?i8:n),dD(u)&&(e=e||s8,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(RH(u)&&a!=="_self")return a8(e||"",a),new IE(null);const d=window.open(e||"",a,c);Ze(d,t,"popup-blocked");try{d.focus()}catch{}return new IE(d)}function a8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="__/auth/handler",u8="emulator/auth/handler",c8=encodeURIComponent("fac");async function kE(t,e,n,r,i,s){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lo,eventId:i};if(e instanceof CD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Jd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${c8}=${encodeURIComponent(l)}`:"";return`${d8(t)}?${_u(a).slice(1)}${u}`}function d8({config:t}){return t.emulator?Cb(t,u8):`https://${t.authDomain}/${l8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="webStorageSupport";class h8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ND,this._completeRedirectFn=L9,this._overrideRedirectResult=O9}async _openPopup(e,n,r,i){var s;Ls((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await kE(e,n,r,Wy(),i);return o8(e,o,Pb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kE(e,n,r,Wy(),i);return m9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await e8(e),r=new U9(e);return n.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zg,{type:zg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[zg];o!==void 0&&n(!!o),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vD()||kb()||Vm()}}const f8=h8;var AE="@firebase/auth",xE="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function g8(t){zr(new Or("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ze(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yD(t)},u=new BH(r,i,s,l);return HH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zr(new Or("auth-internal",e=>{const n=Xa(e.getProvider("auth").getImmediate());return(r=>new p8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(AE,xE,m8(t)),ir(AE,xE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=5*60,y8=sk("authIdTokenMaxAge")||v8;let PE=null;const w8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y8)return;const i=n==null?void 0:n.token;PE!==i&&(PE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BD(t=Eu()){const e=cs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jH(t,{popupRedirectResolver:f8,persistence:[S9,h9,ND]}),r=sk("authTokenSyncURL");if(r){const s=w8(r);o9(n,s,()=>s(n.currentUser)),PD(n,o=>s(o))}const i=nk("auth");return i&&WH(n,`http://${i}`),n}g8("Browser");const jD=Symbol("firebaseApp");function HD(t){return ls()&&Pr(jD,null)||Eu(t)}const Uh=new WeakMap;function b8(t,e){if(!Uh.has(t)){const n=Mp(!0);Uh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Uh.delete(t)}}return Uh.get(t)}const _8=new WeakMap,Fh=new WeakMap;function T8(t){const e=HD(t);if(!Fh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Fh.set(e,s),n(s.value)}];Fh.set(e,i)}return Fh.get(e)}function E8(t,e){const n=BD(e);PD(n,r=>{const i=T8();t.value=r,Array.isArray(i)&&i[1](t)})}const DE="@firebase/database",RE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WD="";function S8(t){WD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),er(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Jc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Fs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new C8(e)}}catch{}return new I8},la=KD("localStorage"),Yy=KD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new Tu("@firebase/database"),k8=function(){let t=1;return function(){return t++}}(),YD=function(t){const e=K$(t),n=new V$;n.update(e);const r=n.digest();return Zp.encodeByteArray(r)},eh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=eh.apply(null,r):typeof r=="object"?e+=er(r):e+=r,e+=" "}return e};let ga=null,OE=!0;const A8=function(t,e){Pe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Bl.logLevel=xt.VERBOSE,ga=Bl.log.bind(Bl),e&&Yy.set("logging_enabled",!0)):typeof t=="function"?ga=t:(ga=null,Yy.remove("logging_enabled"))},dr=function(...t){if(OE===!0&&(OE=!1,ga===null&&Yy.get("logging_enabled")===!0&&A8(!0)),ga){const e=eh.apply(null,t);ga(e)}},th=function(t){return function(...e){dr(t,...e)}},zy=function(...t){const e="FIREBASE INTERNAL ERROR: "+eh(...t);Bl.error(e)},Na=function(...t){const e=`FIREBASE FATAL ERROR: ${eh(...t)}`;throw Bl.error(e),new Error(e)},ii=function(...t){const e="FIREBASE WARNING: "+eh(...t);Bl.warn(e)},x8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},P8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},uu="[MIN_NAME]",Ma="[MAX_NAME]",Pu=function(t,e){if(t===e)return 0;if(t===uu||e===Ma)return-1;if(e===uu||t===Ma)return 1;{const n=NE(t),r=NE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},D8=function(t,e){return t===e?0:t<e?-1:1},Bu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+er(e))},Rb=function(t){if(typeof t!="object"||t===null)return er(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=er(e[r]),n+=":",n+=Rb(t[e[r]]);return n+="}",n},GD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const qD=function(t){Pe(!zD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},R8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},O8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},N8=new RegExp("^-?(0*)\\d{1,10}$"),M8=-2147483648,L8=2147483647,NE=function(t){if(N8.test(t)){const e=Number(t);if(e>=M8&&e<=L8)return e}return null},nh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ii("Exception was thrown by user callback.",n),e},Math.floor(0))}},$8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Dc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ii(e)}}class Gy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="5",QD="v",XD="s",JD="r",ZD="f",eR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tR="ls",nR="p",qy="ac",rR="websocket",iR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=la.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&la.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function B8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sR(t,e,n){Pe(typeof e=="string","typeof type must == string"),Pe(typeof n=="object","typeof params must == object");let r;if(e===rR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);B8(t)&&(n.ns=t.namespace);const i=[];return vi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this.counters_={}}incrementCounter(e,n=1){Fs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return k$(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg={},qg={};function Nb(t){const e=t.toString();return Gg[e]||(Gg[e]=new j8),Gg[e]}function H8(t,e){const n=t.toString();return qg[n]||(qg[n]=e()),qg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&nh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="start",K8="close",Y8="pLPCommand",z8="pRTLPCB",oR="id",aR="pw",lR="ser",G8="cb",q8="seg",Q8="ts",X8="d",J8="dframe",uR=1870,cR=30,Z8=uR-cR,eW=25e3,tW=3e4;class Sl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=th(e),this.stats_=Nb(n),this.urlFn=l=>(this.appCheckToken&&(l[qy]=this.appCheckToken),sR(n,iR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new W8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tW)),P8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mb((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ME)this.id=a,this.password=l;else if(o===K8)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[ME]="t",r[lR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[G8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[QD]=Ob,this.transportSessionId&&(r[XD]=this.transportSessionId),this.lastSessionId&&(r[tR]=this.lastSessionId),this.applicationId&&(r[nR]=this.applicationId),this.appCheckToken&&(r[qy]=this.appCheckToken),typeof location<"u"&&location.hostname&&eR.test(location.hostname)&&(r[JD]=ZD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sl.forceAllow_=!0}static forceDisallow(){Sl.forceDisallow_=!0}static isAvailable(){return Sl.forceAllow_?!0:!Sl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!R8()&&!O8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=er(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZI(n),i=GD(r,Z8);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[J8]="t",r[oR]=e,r[aR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=er(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Mb{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=k8(),window[Y8+this.uniqueCallbackIdentifier]=e,window[z8+this.uniqueCallbackIdentifier]=n,this.myIFrame=Mb.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dr("frame writing exception"),a.stack&&dr(a.stack),dr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[oR]=this.myID,e[aR]=this.myPW,e[lR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cR+r.length<=uR;){const o=this.pendingSegs.shift();r=r+"&"+q8+i+"="+o.seg+"&"+Q8+i+"="+o.ts+"&"+X8+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(eW)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=16384,rW=45e3;let dp=null;typeof MozWebSocket<"u"?dp=MozWebSocket:typeof WebSocket<"u"&&(dp=WebSocket);class ki{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=th(this.connId),this.stats_=Nb(n),this.connURL=ki.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[QD]=Ob,typeof location<"u"&&location.hostname&&eR.test(location.hostname)&&(o[JD]=ZD),n&&(o[XD]=n),r&&(o[tR]=r),i&&(o[qy]=i),s&&(o[nR]=s),sR(e,rR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,la.set("previous_websocket_failure",!0);try{let r;uk(),this.mySock=new dp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ki.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&dp!==null&&!ki.forceDisallow_}static previouslyFailed(){return la.isInMemoryStorage||la.get("previous_websocket_failure")===!0}markConnectionHealthy(){la.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Jc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Pe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=er(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=GD(n,nW);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(rW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ki.responsesRequiredToBeHealthy=2;ki.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Sl,ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ki&&ki.isAvailable();let r=n&&!ki.previouslyFailed();if(e.webSocketOnly&&(n||ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ki];else{const i=this.transports_=[];for(const s of yd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);yd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=6e4,sW=5e3,oW=10*1024,aW=100*1024,Qg="t",LE="d",lW="s",$E="r",uW="e",UE="o",FE="a",VE="n",BE="p",cW="h";class dW{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=th("c:"+this.id+":"),this.transportManager_=new yd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Dc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qg in e){const n=e[Qg];n===FE?this.upgradeIfSecondaryHealthy_():n===$E?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===UE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Bu("t",e),r=Bu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:BE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:VE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Bu("t",e),r=Bu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Bu(Qg,e);if(LE in e){const r=e[LE];if(n===cW){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===VE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lW?this.onConnectionShutdown_(r):n===$E?this.onReset_(r):n===uW?zy("Server Error: "+r):n===UE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ob!==r&&ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Dc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(iW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:BE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(la.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.allowedEvents_=e,this.listeners_={},Pe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Pe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends hR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hp}getInitialEvent(e){return Pe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=32,HE=768;class an{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function zt(){return new an("")}function St(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Oo(t){return t.pieces_.length-t.pieceNum_}function tn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new an(t.pieces_,e)}function fR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function hW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new an(e,0)}function jn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof an)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new an(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function fi(t,e){const n=St(t),r=St(e);if(n===null)return e;if(n===r)return fi(tn(t),tn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gR(t,e){if(Oo(t)!==Oo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function xi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Oo(t)>Oo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class fW{constructor(e,n){this.errorPrefix_=n,this.parts_=pR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=nm(this.parts_[r]);vR(this)}}function pW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nm(e),vR(t)}function mW(t){const e=t.parts_.pop();t.byteLength_-=nm(e),t.parts_.length>0&&(t.byteLength_-=1)}function vR(t){if(t.byteLength_>HE)throw new Error(t.errorPrefix_+"has a key path longer than "+HE+" bytes ("+t.byteLength_+").");if(t.parts_.length>jE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jE+") or object contains a cycle "+qo(t))}function qo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends hR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Lb}getInitialEvent(e){return Pe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=1e3,gW=60*5*1e3,WE=30*1e3,vW=1.3,yW=3e4,wW="server_kill",KE=3;class xs extends dR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=xs.nextPersistentConnectionId_++,this.log_=th("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ju,this.maxReconnectDelay_=gW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!uk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(er(s)),Pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Sa,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Pe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;xs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Fs(e,"w")){const r=Jl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||F$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=WE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=U$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Pe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+er(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):zy("Unrecognized action received from server: "+er(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yW&&(this.reconnectDelay_=ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+xs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Pe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?dr("getToken() completed but was canceled"):(dr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new dW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{ii(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(wW)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ii(d),l())}}}interrupt(e){dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gv(this.interruptReasons_)&&(this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Rb(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new an(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KE&&(this.reconnectDelay_=WE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+WD.replace(/\./g,"-")]=1,rw()?e["framework.cordova"]=1:lk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hp.getInstance().currentlyOnline();return Gv(this.interruptReasons_)&&e}}xs.nextPersistentConnectionId_=0;xs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ct(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ct(uu,e),i=new Ct(uu,n);return this.compare(r,i)!==0}minPost(){return Ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh;class yR extends Hm{static get __EMPTY_NODE(){return Vh}static set __EMPTY_NODE(e){Vh=e}compare(e,n){return Pu(e.name,n.name)}isDefinedOn(e){throw bu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ct.MIN}maxPost(){return new Ct(Ma,Vh)}makePost(e,n){return Pe(typeof e=="string","KeyIndex indexValue must always be a string."),new Ct(e,Vh)}toString(){return".key"}}const jl=new yR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vn.RED,this.left=i??Hr.EMPTY_NODE,this.right=s??Hr.EMPTY_NODE}copy(e,n,r,i,s){return new Vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Hr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Vn.RED=!0;Vn.BLACK=!1;class bW{copy(e,n,r,i,s){return this}insert(e,n,r){return new Vn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Hr{constructor(e,n=Hr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Hr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Hr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Bh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Bh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Bh(this.root_,null,this.comparator_,!0,e)}}Hr.EMPTY_NODE=new bW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t,e){return Pu(t.name,e.name)}function $b(t,e){return Pu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qy;function TW(t){Qy=t}const wR=function(t){return typeof t=="number"?"number:"+qD(t):"string:"+t},bR=function(t){if(t.isLeafNode()){const e=t.val();Pe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Fs(e,".sv"),"Priority must be a string or number.")}else Pe(t===Qy||t.isEmpty(),"priority of unexpected type.");Pe(t===Qy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YE;class Un{constructor(e,n=Un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Pe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bR(this.priorityNode_)}static set __childrenNodeConstructor(e){YE=e}static get __childrenNodeConstructor(){return YE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wt(e)?this:St(e)===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=St(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Pe(r!==".priority"||Oo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Un.__childrenNodeConstructor.EMPTY_NODE.updateChild(tn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=qD(this.value_):e+=this.value_,this.lazyHash_=YD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Un.__childrenNodeConstructor?-1:(Pe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Un.VALUE_TYPE_ORDER.indexOf(n),s=Un.VALUE_TYPE_ORDER.indexOf(r);return Pe(i>=0,"Unknown leaf type: "+n),Pe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _R,TR;function EW(t){_R=t}function SW(t){TR=t}class CW extends Hm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Pu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ct.MIN}maxPost(){return new Ct(Ma,new Un("[PRIORITY-POST]",TR))}makePost(e,n){const r=_R(e);return new Ct(n,new Un("[PRIORITY-POST]",r))}toString(){return".priority"}}const mr=new CW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=Math.log(2);class kW{constructor(e){const n=s=>parseInt(Math.log(s)/IW,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const fp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Vn(h,d.node,Vn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new Vn(h,d.node,Vn.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const y=d-p,_=d;d-=p;const v=i(y+1,_),b=t[y],g=n?n(b):b;f(new Vn(g,b.node,m,null,v))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?h(y,Vn.BLACK):(h(y,Vn.BLACK),h(y,Vn.RED))}return c},o=new kW(t.length),a=s(o);return new Hr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg;const sl={};class Ts{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Pe(sl&&mr,"ChildrenNode.ts has not been loaded"),Xg=Xg||new Ts({".priority":sl},{".priority":mr}),Xg}get(e){const n=Jl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Hr?n:null}hasIndex(e){return Fs(this.indexSet_,e.toString())}addIndex(e,n){Pe(e!==jl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ct.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=fp(r,e.getCompare()):a=sl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Ts(c,u)}addToIndexes(e,n){const r=$f(this.indexes_,(i,s)=>{const o=Jl(this.indexSet_,s);if(Pe(o,"Missing index implementation for "+s),i===sl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ct.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),fp(a,o.getCompare())}else return sl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ct(e.name,a))),l.insert(e,e.node)}});return new Ts(r,this.indexSet_)}removeFromIndexes(e,n){const r=$f(this.indexes_,i=>{if(i===sl)return i;{const s=n.get(e.name);return s?i.remove(new Ct(e.name,s)):i}});return new Ts(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class Vt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&bR(this.priorityNode_),this.children_.isEmpty()&&Pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hu||(Hu=new Vt(new Hr($b),null,Ts.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hu}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Hu:n}}getChild(e){const n=St(e);return n===null?this:this.getImmediateChild(n).getChild(tn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Pe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ct(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Hu:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,n){const r=St(e);if(r===null)return n;{Pe(St(e)!==".priority"||Oo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(tn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(mr,(o,a)=>{n[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wR(this.getPriority().val())+":"),this.forEachChild(mr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":YD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ct(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ct(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ct(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ct.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ct.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rh?-1:0}withIndex(e){if(e===jl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===jl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(mr),i=n.getIterator(mr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===jl?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AW extends Vt{constructor(){super(new Hr($b),Vt.EMPTY_NODE,Ts.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const rh=new AW;Object.defineProperties(Ct,{MIN:{value:new Ct(uu,Vt.EMPTY_NODE)},MAX:{value:new Ct(Ma,rh)}});yR.__EMPTY_NODE=Vt.EMPTY_NODE;Un.__childrenNodeConstructor=Vt;TW(rh);SW(rh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=!0;function hr(t,e=null){if(t===null)return Vt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Pe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Un(n,hr(e))}if(!(t instanceof Array)&&xW){const n=[];let r=!1;if(vi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=hr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ct(o,l)))}}),n.length===0)return Vt.EMPTY_NODE;const s=fp(n,_W,o=>o.name,$b);if(r){const o=fp(n,mr.getCompare());return new Vt(s,hr(e),new Ts({".priority":o},{".priority":mr}))}else return new Vt(s,hr(e),Ts.Default)}else{let n=Vt.EMPTY_NODE;return vi(t,(r,i)=>{if(Fs(t,r)&&r.substring(0,1)!=="."){const s=hr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(hr(e))}}EW(hr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW extends Hm{constructor(e){super(),this.indexPath_=e,Pe(!wt(e)&&St(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Pu(e.name,n.name):s}makePost(e,n){const r=hr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ct(n,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,rh);return new Ct(Ma,e)}toString(){return pR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW extends Hm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Pu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ct.MIN}maxPost(){return Ct.MAX}makePost(e,n){const r=hr(e);return new Ct(n,r)}toString(){return".value"}}const RW=new DW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t){return{type:"value",snapshotNode:t}}function NW(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function MW(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function LW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:uu}hasEnd(){return this.endSet_}getIndexEndValue(){return Pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Pe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new Ub;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mr?n="$priority":t.index_===RW?n="$value":t.index_===jl?n="$key":(Pe(t.index_ instanceof PW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=er(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=er(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+er(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=er(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+er(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends dR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=th("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Pe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=pp.getListenId_(e,r),a={};this.listens_[o]=a;const l=GE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Jl(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=pp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=GE(e._queryParams),r=e._path.toString(),i=new Sa;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_u(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Jc(a.responseText)}catch{ii("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ii("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){return{value:null,children:new Map}}function ER(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=St(e);t.children.has(r)||t.children.set(r,mp());const i=t.children.get(r);e=tn(e),ER(i,e,n)}}function Xy(t,e,n){t.value!==null?n(e,t.value):UW(t,(r,i)=>{const s=new an(e.toString()+"/"+r);Xy(i,s,n)})}function UW(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=10*1e3,VW=30*1e3,BW=5*60*1e3;class jW{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new FW(e);const r=QE+(VW-QE)*Math.random();Dc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vi(e,(i,s)=>{s>0&&Fs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Dc(this.reportStats_.bind(this),Math.floor(Math.random()*2*BW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function SR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function CR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function IR(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source=SR()}operationForChild(e){if(wt(this.path)){if(this.affectedTree.value!=null)return Pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new an(e));return new gp(zt(),n,this.revert)}}else return Pe(St(this.path)===e,"operationForChild called for unrelated child."),new gp(tn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qi.OVERWRITE}operationForChild(e){return wt(this.path)?new La(this.source,zt(),this.snap.getImmediateChild(e)):new La(this.source,tn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qi.MERGE}operationForChild(e){if(wt(this.path)){const n=this.children.subtree(new an(e));return n.isEmpty()?null:n.value?new La(this.source,zt(),n.value):new wd(this.source,zt(),n)}else return Pe(St(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wd(this.source,tn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wt(e))return this.isFullyInitialized()&&!this.filtered_;const n=St(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function HW(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(LW(o.childName,o.snapshotNode))}),Wu(t,i,"child_removed",e,r,n),Wu(t,i,"child_added",e,r,n),Wu(t,i,"child_moved",s,r,n),Wu(t,i,"child_changed",e,r,n),Wu(t,i,"value",e,r,n),i}function Wu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>KW(t,a,l)),o.forEach(a=>{const l=WW(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function WW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function KW(t,e,n){if(e.childName==null||n.childName==null)throw bu("Should only compare child_ events.");const r=new Ct(e.childName,e.snapshotNode),i=new Ct(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e){return{eventCache:t,serverCache:e}}function Rc(t,e,n,r){return kR(new Fb(e,n,r),t.serverCache)}function AR(t,e,n,r){return kR(t.eventCache,new Fb(e,n,r))}function Jy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $a(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg;const YW=()=>(Jg||(Jg=new Hr(D8)),Jg);class en{constructor(e,n=YW()){this.value=e,this.children=n}static fromObject(e){let n=new en(null);return vi(e,(r,i)=>{n=n.set(new an(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:zt(),value:this.value};if(wt(e))return null;{const r=St(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(tn(e),n);return s!=null?{path:jn(new an(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(wt(e))return this;{const n=St(e),r=this.children.get(n);return r!==null?r.subtree(tn(e)):new en(null)}}set(e,n){if(wt(e))return new en(n,this.children);{const r=St(e),s=(this.children.get(r)||new en(null)).set(tn(e),n),o=this.children.insert(r,s);return new en(this.value,o)}}remove(e){if(wt(e))return this.children.isEmpty()?new en(null):new en(null,this.children);{const n=St(e),r=this.children.get(n);if(r){const i=r.remove(tn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new en(null):new en(this.value,s)}else return this}}get(e){if(wt(e))return this.value;{const n=St(e),r=this.children.get(n);return r?r.get(tn(e)):null}}setTree(e,n){if(wt(e))return n;{const r=St(e),s=(this.children.get(r)||new en(null)).setTree(tn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new en(this.value,o)}}fold(e){return this.fold_(zt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(jn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,zt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(wt(e))return null;{const s=St(e),o=this.children.get(s);return o?o.findOnPath_(tn(e),jn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,zt(),n)}foreachOnPath_(e,n,r){if(wt(e))return this;{this.value&&r(n,this.value);const i=St(e),s=this.children.get(i);return s?s.foreachOnPath_(tn(e),jn(n,i),r):new en(null)}}foreach(e){this.foreach_(zt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(jn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.writeTree_=e}static empty(){return new Ri(new en(null))}}function Oc(t,e,n){if(wt(e))return new Ri(new en(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=fi(i,e);return s=s.updateChild(o,n),new Ri(t.writeTree_.set(i,s))}else{const i=new en(n),s=t.writeTree_.setTree(e,i);return new Ri(s)}}}function XE(t,e,n){let r=t;return vi(n,(i,s)=>{r=Oc(r,jn(e,i),s)}),r}function JE(t,e){if(wt(e))return Ri.empty();{const n=t.writeTree_.setTree(e,new en(null));return new Ri(n)}}function Zy(t,e){return Ja(t,e)!=null}function Ja(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fi(n.path,e)):null}function ZE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mr,(r,i)=>{e.push(new Ct(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ct(r,i.value))}),e}function wo(t,e){if(wt(e))return t;{const n=Ja(t,e);return n!=null?new Ri(new en(n)):new Ri(t.writeTree_.subtree(e))}}function e0(t){return t.writeTree_.isEmpty()}function cu(t,e){return xR(zt(),t.writeTree_,e)}function xR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Pe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=xR(jn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(jn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e){return MR(e,t)}function zW(t,e,n,r,i){Pe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Oc(t.visibleWrites,e,n)),t.lastWriteId=r}function GW(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function qW(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Pe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&QW(a,r.path)?i=!1:xi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return XW(t),!0;if(r.snap)t.visibleWrites=JE(t.visibleWrites,r.path);else{const a=r.children;vi(a,l=>{t.visibleWrites=JE(t.visibleWrites,jn(r.path,l))})}return!0}else return!1}function QW(t,e){if(t.snap)return xi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&xi(jn(t.path,n),e))return!0;return!1}function XW(t){t.visibleWrites=DR(t.allWrites,JW,zt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function JW(t){return t.visible}function DR(t,e,n){let r=Ri.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)xi(n,o)?(a=fi(n,o),r=Oc(r,a,s.snap)):xi(o,n)&&(a=fi(o,n),r=Oc(r,zt(),s.snap.getChild(a)));else if(s.children){if(xi(n,o))a=fi(n,o),r=XE(r,a,s.children);else if(xi(o,n))if(a=fi(o,n),wt(a))r=XE(r,zt(),s.children);else{const l=Jl(s.children,St(a));if(l){const u=l.getChild(tn(a));r=Oc(r,zt(),u)}}}else throw bu("WriteRecord should have .snap or .children")}}return r}function RR(t,e,n,r,i){if(!r&&!i){const s=Ja(t.visibleWrites,e);if(s!=null)return s;{const o=wo(t.visibleWrites,e);if(e0(o))return n;if(n==null&&!Zy(o,zt()))return null;{const a=n||Vt.EMPTY_NODE;return cu(o,a)}}}else{const s=wo(t.visibleWrites,e);if(!i&&e0(s))return n;if(!i&&n==null&&!Zy(s,zt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(xi(u.path,e)||xi(e,u.path))},a=DR(t.allWrites,o,e),l=n||Vt.EMPTY_NODE;return cu(a,l)}}}function ZW(t,e,n){let r=Vt.EMPTY_NODE;const i=Ja(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(mr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=wo(t.visibleWrites,e);return n.forEachChild(mr,(o,a)=>{const l=cu(wo(s,new an(o)),a);r=r.updateImmediateChild(o,l)}),ZE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=wo(t.visibleWrites,e);return ZE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function e7(t,e,n,r,i){Pe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=jn(e,n);if(Zy(t.visibleWrites,s))return null;{const o=wo(t.visibleWrites,s);return e0(o)?i.getChild(n):cu(o,i.getChild(n))}}function t7(t,e,n,r){const i=jn(e,n),s=Ja(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=wo(t.visibleWrites,i);return cu(o,r.getNode().getImmediateChild(n))}else return null}function n7(t,e){return Ja(t.visibleWrites,e)}function r7(t,e,n,r,i,s,o){let a;const l=wo(t.visibleWrites,e),u=Ja(l,zt());if(u!=null)a=u;else if(n!=null)a=cu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function i7(){return{visibleWrites:Ri.empty(),allWrites:[],lastWriteId:-1}}function t0(t,e,n,r){return RR(t.writeTree,t.treePath,e,n,r)}function OR(t,e){return ZW(t.writeTree,t.treePath,e)}function eS(t,e,n,r){return e7(t.writeTree,t.treePath,e,n,r)}function vp(t,e){return n7(t.writeTree,jn(t.treePath,e))}function s7(t,e,n,r,i,s){return r7(t.writeTree,t.treePath,e,n,r,i,s)}function Vb(t,e,n){return t7(t.writeTree,t.treePath,e,n)}function NR(t,e){return MR(jn(t.treePath,e),t.writeTree)}function MR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Pe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Pe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,zE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,MW(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,NW(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,zE(r,e.snapshotNode,i.oldSnap));else throw bu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const LR=new a7;class Bb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$a(this.viewCache_),s=s7(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function l7(t,e){Pe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Pe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function u7(t,e,n,r,i){const s=new o7;let o,a;if(n.type===qi.OVERWRITE){const u=n;u.source.fromUser?o=n0(t,e,u.path,u.snap,r,i,s):(Pe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!wt(u.path),o=yp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===qi.MERGE){const u=n;u.source.fromUser?o=d7(t,e,u.path,u.children,r,i,s):(Pe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=r0(t,e,u.path,u.children,r,i,a,s))}else if(n.type===qi.ACK_USER_WRITE){const u=n;u.revert?o=p7(t,e,u.path,r,i,s):o=h7(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===qi.LISTEN_COMPLETE)o=f7(t,e,n.path,r,s);else throw bu("Unknown operation type: "+n.type);const l=s.getChanges();return c7(e,o,l),{viewCache:o,changes:l}}function c7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Jy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(OW(Jy(e)))}}function $R(t,e,n,r,i,s){const o=e.eventCache;if(vp(r,n)!=null)return e;{let a,l;if(wt(n))if(Pe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=$a(e),c=u instanceof Vt?u:Vt.EMPTY_NODE,d=OR(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=t0(r,$a(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=St(n);if(u===".priority"){Pe(Oo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=eS(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=tn(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=eS(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Vb(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Rc(e,a,o.isFullyInitialized()||wt(n),t.filter.filtersNodes())}}function yp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(wt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=St(n);if(!l.isCompleteForPath(n)&&Oo(n)>1)return e;const p=tn(n),y=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),f,y,p,LR,null)}const d=AR(e,u,l.isFullyInitialized()||wt(n),c.filtersNodes()),h=new Bb(i,d,s);return $R(t,d,n,i,h,a)}function n0(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Bb(i,e,s);if(wt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Rc(e,u,!0,t.filter.filtersNodes());else{const d=St(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Rc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=tn(n),f=a.getNode().getImmediateChild(d);let p;if(wt(h))p=r;else{const m=c.getCompleteChild(d);m!=null?fR(h)===".priority"&&m.getChild(mR(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=Vt.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Rc(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function tS(t,e){return t.eventCache.isCompleteForChild(e)}function d7(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=jn(n,l);tS(e,St(c))&&(a=n0(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=jn(n,l);tS(e,St(c))||(a=n0(t,a,c,u,i,s,o))}),a}function nS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function r0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;wt(n)?u=r:u=new en(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=nS(t,f,h);l=yp(t,l,new an(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=nS(t,p,h);l=yp(t,l,new an(d),m,i,s,o,a)}}),l}function h7(t,e,n,r,i,s,o){if(vp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(wt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return yp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(wt(n)){let u=new en(null);return l.getNode().forEachChild(jl,(c,d)=>{u=u.set(new an(c),d)}),r0(t,e,n,u,i,s,a,o)}else return e}else{let u=new en(null);return r.foreach((c,d)=>{const h=jn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),r0(t,e,n,u,i,s,a,o)}}function f7(t,e,n,r,i){const s=e.serverCache,o=AR(e,s.getNode(),s.isFullyInitialized()||wt(n),s.isFiltered());return $R(t,o,n,r,LR,i)}function p7(t,e,n,r,i,s){let o;if(vp(r,n)!=null)return e;{const a=new Bb(r,e,i),l=e.eventCache.getNode();let u;if(wt(n)||St(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=t0(r,$a(e));else{const d=e.serverCache.getNode();Pe(d instanceof Vt,"serverChildren would be complete if leaf node"),c=OR(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=St(n);let d=Vb(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,tn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Vt.EMPTY_NODE,tn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=t0(r,$a(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||vp(r,zt())!=null,Rc(e,u,o,t.filter.filtersNodes())}}function m7(t,e){const n=$a(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(St(e)).isEmpty())?n.getChild(e):null}function rS(t,e,n,r){e.type===qi.MERGE&&e.source.queryId!==null&&(Pe($a(t.viewCache_),"We should always have a full cache before handling merges"),Pe(Jy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=u7(t.processor_,i,e,n,r);return l7(t.processor_,s.viewCache),Pe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,g7(t,s.changes,s.viewCache.eventCache.getNode(),null)}function g7(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return HW(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iS;function v7(t){Pe(!iS,"__referenceConstructor has already been defined"),iS=t}function jb(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Pe(s!=null,"SyncTree gave us an op for an invalid query."),rS(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(rS(o,e,n,r));return s}}function Hb(t,e){let n=null;for(const r of t.views.values())n=n||m7(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sS;function y7(t){Pe(!sS,"__referenceConstructor has already been defined"),sS=t}class oS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new en(null),this.pendingWriteTree_=i7(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function w7(t,e,n,r,i){return zW(t.pendingWriteTree_,e,n,r,i),i?Km(t,new La(SR(),e,n)):[]}function Cl(t,e,n=!1){const r=GW(t.pendingWriteTree_,e);if(qW(t.pendingWriteTree_,e)){let s=new en(null);return r.snap!=null?s=s.set(zt(),!0):vi(r.children,o=>{s=s.set(new an(o),!0)}),Km(t,new gp(r.path,s,n))}else return[]}function Wm(t,e,n){return Km(t,new La(CR(),e,n))}function b7(t,e,n){const r=en.fromObject(n);return Km(t,new wd(CR(),e,r))}function _7(t,e,n,r){const i=BR(t,r);if(i!=null){const s=jR(i),o=s.path,a=s.queryId,l=fi(o,e),u=new La(IR(a),l,n);return HR(t,o,u)}else return[]}function T7(t,e,n,r){const i=BR(t,r);if(i){const s=jR(i),o=s.path,a=s.queryId,l=fi(o,e),u=en.fromObject(n),c=new wd(IR(a),l,u);return HR(t,o,c)}else return[]}function UR(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=fi(o,e),u=Hb(a,l);if(u)return u});return RR(i,e,s,n,!0)}function Km(t,e){return FR(e,t.syncPointTree_,null,PR(t.pendingWriteTree_,zt()))}function FR(t,e,n,r){if(wt(t.path))return VR(t,e,n,r);{const i=e.get(zt());n==null&&i!=null&&(n=Hb(i,zt()));let s=[];const o=St(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=NR(r,o);s=s.concat(FR(a,l,u,c))}return i&&(s=s.concat(jb(i,t,r,n))),s}}function VR(t,e,n,r){const i=e.get(zt());n==null&&i!=null&&(n=Hb(i,zt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=NR(r,o),c=t.operationForChild(o);c&&(s=s.concat(VR(c,a,l,u)))}),i&&(s=s.concat(jb(i,t,r,n))),s}function BR(t,e){return t.tagToQueryMap.get(e)}function jR(t){const e=t.indexOf("$");return Pe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new an(t.substr(0,e))}}function HR(t,e,n){const r=t.syncPointTree_.get(e);Pe(r,"Missing sync point for query tag that we're tracking");const i=PR(t.pendingWriteTree_,e);return jb(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Wb(n)}node(){return this.node_}}class Kb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=jn(this.path_,e);return new Kb(this.syncTree_,n)}node(){return UR(this.syncTree_,this.path_)}}const E7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},aS=function(t,e,n){if(!t||typeof t!="object")return t;if(Pe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return S7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return C7(t[".sv"],e);Pe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},S7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Pe(!1,"Unexpected server value: "+t)}},C7=function(t,e,n){t.hasOwnProperty("increment")||Pe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Pe(!1,"Unexpected increment value: "+r);const i=e.node();if(Pe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},I7=function(t,e,n,r){return Yb(e,new Kb(n,t),r)},k7=function(t,e,n){return Yb(t,new Wb(e),n)};function Yb(t,e,n){const r=t.getPriority().val(),i=aS(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=aS(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Un(a,hr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Un(i))),o.forEachChild(mr,(a,l)=>{const u=Yb(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Gb(t,e){let n=e instanceof an?e:new an(e),r=t,i=St(n);for(;i!==null;){const s=Jl(r.node.children,i)||{children:{},childCount:0};r=new zb(i,r,s),n=tn(n),i=St(n)}return r}function Du(t){return t.node.value}function WR(t,e){t.node.value=e,i0(t)}function KR(t){return t.node.childCount>0}function A7(t){return Du(t)===void 0&&!KR(t)}function Ym(t,e){vi(t.node.children,(n,r)=>{e(new zb(n,t,r))})}function YR(t,e,n,r){n&&!r&&e(t),Ym(t,i=>{YR(i,e,!0,r)}),n&&r&&e(t)}function x7(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ih(t){return new an(t.parent===null?t.name:ih(t.parent)+"/"+t.name)}function i0(t){t.parent!==null&&P7(t.parent,t.name,t)}function P7(t,e,n){const r=A7(n),i=Fs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,i0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,i0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=/[\[\].#$\/\u0000-\u001F\u007F]/,R7=/[\[\].#$\u0000-\u001F\u007F]/,Zg=10*1024*1024,zR=function(t){return typeof t=="string"&&t.length!==0&&!D7.test(t)},O7=function(t){return typeof t=="string"&&t.length!==0&&!R7.test(t)},N7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),O7(t)},GR=function(t,e,n){const r=n instanceof an?new fW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qo(r));if(typeof e=="function")throw new Error(t+"contains a function "+qo(r)+" with contents = "+e.toString());if(zD(e))throw new Error(t+"contains "+e.toString()+" "+qo(r));if(typeof e=="string"&&e.length>Zg/3&&nm(e)>Zg)throw new Error(t+"contains a string greater than "+Zg+" utf8 bytes "+qo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(vi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!zR(o)))throw new Error(t+" contains an invalid key ("+o+") "+qo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pW(r,o),GR(t,a,r),mW(r)}),i&&s)throw new Error(t+' contains ".value" child '+qo(r)+" in addition to actual children.")}},M7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!N7(n))throw new Error(W$(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $7(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!gR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Za(t,e,n){$7(t,n),U7(t,r=>xi(r,e)||xi(e,r))}function U7(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(F7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function F7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ga&&dr("event: "+n.toString()),nh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7="repo_interrupt",B7=25;class j7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new L7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mp(),this.transactionQueueTree_=new zb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function H7(t,e,n){if(t.stats_=Nb(t.repoInfo_),t.forceRestClient_||$8())t.server_=new pp(t.repoInfo_,(r,i,s,o)=>{lS(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>uS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{er(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xs(t.repoInfo_,e,(r,i,s,o)=>{lS(t,r,i,s,o)},r=>{uS(t,r)},r=>{K7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=H8(t.repoInfo_,()=>new jW(t.stats_,t.server_)),t.infoData_=new $W,t.infoSyncTree_=new oS({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Wm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),qb(t,"connected",!1),t.serverSyncTree_=new oS({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Za(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function W7(t){const n=t.infoData_.getNode(new an(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qR(t){return E7({timestamp:W7(t)})}function lS(t,e,n,r,i){t.dataUpdateCount++;const s=new an(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=$f(n,u=>hr(u));o=T7(t.serverSyncTree_,s,l,i)}else{const l=hr(n);o=_7(t.serverSyncTree_,s,l,i)}else if(r){const l=$f(n,u=>hr(u));o=b7(t.serverSyncTree_,s,l)}else{const l=hr(n);o=Wm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Xb(t,s)),Za(t.eventQueue_,a,o)}function uS(t,e){qb(t,"connected",e),e===!1&&z7(t)}function K7(t,e){vi(e,(n,r)=>{qb(t,n,r)})}function qb(t,e,n){const r=new an("/.info/"+e),i=hr(n);t.infoData_.updateSnapshot(r,i);const s=Wm(t.infoSyncTree_,r,i);Za(t.eventQueue_,r,s)}function Y7(t){return t.nextWriteId_++}function z7(t){QR(t,"onDisconnectEvents");const e=qR(t),n=mp();Xy(t.onDisconnect_,zt(),(i,s)=>{const o=I7(i,s,t.serverSyncTree_,e);ER(n,i,o)});let r=[];Xy(n,zt(),(i,s)=>{r=r.concat(Wm(t.serverSyncTree_,i,s));const o=X7(t,i);Xb(t,o)}),t.onDisconnect_=mp(),Za(t.eventQueue_,zt(),r)}function G7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(V7)}function QR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dr(n,...e)}function XR(t,e,n){return UR(t.serverSyncTree_,e,n)||Vt.EMPTY_NODE}function Qb(t,e=t.transactionQueueTree_){if(e||zm(t,e),Du(e)){const n=ZR(t,e);Pe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&q7(t,ih(e),n)}else KR(e)&&Ym(e,n=>{Qb(t,n)})}function q7(t,e,n){const r=n.map(u=>u.currentWriteId),i=XR(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Pe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=fi(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{QR(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Cl(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();zm(t,Gb(t.transactionQueueTree_,e)),Qb(t,t.transactionQueueTree_),Za(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)nh(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ii("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Xb(t,e)}},o)}function Xb(t,e){const n=JR(t,e),r=ih(n),i=ZR(t,n);return Q7(t,i,r),r}function Q7(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=fi(n,l.path);let c=!1,d;if(Pe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Cl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=B7)c=!0,d="maxretry",i=i.concat(Cl(t.serverSyncTree_,l.currentWriteId,!0));else{const h=XR(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){GR("transaction failed: Data returned ",f,l.path);let p=hr(f);typeof f=="object"&&f!=null&&Fs(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,_=qR(t),v=k7(p,h,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Y7(t),o.splice(o.indexOf(y),1),i=i.concat(w7(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Cl(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(Cl(t.serverSyncTree_,l.currentWriteId,!0))}Za(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}zm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)nh(r[a]);Qb(t,t.transactionQueueTree_)}function JR(t,e){let n,r=t.transactionQueueTree_;for(n=St(e);n!==null&&Du(r)===void 0;)r=Gb(r,n),e=tn(e),n=St(e);return r}function ZR(t,e){const n=[];return eO(t,e,n),n.sort((r,i)=>r.order-i.order),n}function eO(t,e,n){const r=Du(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ym(e,i=>{eO(t,i,n)})}function zm(t,e){const n=Du(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,WR(e,n.length>0?n:void 0)}Ym(e,r=>{zm(t,r)})}function X7(t,e){const n=ih(JR(t,e)),r=Gb(t.transactionQueueTree_,e);return x7(r,i=>{ev(t,i)}),ev(t,r),YR(r,i=>{ev(t,i)}),n}function ev(t,e){const n=Du(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Pe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Pe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Cl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?WR(e,void 0):n.length=s+1,Za(t.eventQueue_,ih(e),i);for(let o=0;o<r.length;o++)nh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Z7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ii(`Invalid query segment '${n}' in query '${t}'`)}return e}const cS=function(t,e){const n=eK(t),r=n.namespace;n.domain==="firebase.com"&&Na(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Na("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||x8();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new V8(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new an(n.pathString)}},eK=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=J7(t.substring(c,d)));const h=Z7(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return wt(this._path)?null:fR(this._path)}get ref(){return new Ru(this._repo,this._path)}get _queryIdentifier(){const e=qE(this._queryParams),n=Rb(e);return n==="{}"?"default":n}get _queryObject(){return qE(this._queryParams)}isEqual(e){if(e=Lt(e),!(e instanceof Jb))return!1;const n=this._repo===e._repo,r=gR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+hW(this._path)}}class Ru extends Jb{constructor(e,n){super(e,n,new Ub,!1)}get parent(){const e=mR(this._path);return e===null?null:new Ru(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}v7(Ru);y7(Ru);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK="FIREBASE_DATABASE_EMULATOR_HOST",s0={};let nK=!1;function rK(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Na("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=cS(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[tK]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=cS(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Gy(Gy.OWNER):new F8(t.name,t.options,e);M7("Invalid Firebase Database URL",o),wt(o.path)||Na("Database URL must point to the root of a Firebase Database (not including a child path).");const d=sK(a,t,c,new U8(t.name,n));return new oK(d,t)}function iK(t,e){const n=s0[e];(!n||n[t.key]!==t)&&Na(`Database ${e}(${t.repoInfo_}) has already been deleted.`),G7(t),delete n[t.key]}function sK(t,e,n,r){let i=s0[e.name];i||(i={},s0[e.name]=i);let s=i[t.toURLString()];return s&&Na("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new j7(t,nK,n,r),i[t.toURLString()]=s,s}class oK{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(H7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ru(this._repo,zt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Na("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(t){S8(Lo),zr(new Or("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return rK(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ir(DE,RE,t),ir(DE,RE,"esm2017")}xs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};aK();function tO(t){return yB(HD(t))}function lK(t){return(e,n)=>{const r=b8(e,n).run(()=>ue(t));_8.set(e,r),E8(r,e)}}function uK(t,{firebaseApp:e,modules:n=[]}){t.provide(jD,e);for(const r of n)t.use(r.bind(null,e))}const cK=""+new URL("bundle.css",import.meta.url).href,nO={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},dK={avatarUrl:cK,headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},hK=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],fK=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],dS=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var An;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await ci(l)))??[])).map(async l=>wp.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(An||(An={}));var wp;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await ci(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(wp||(wp={}));var o0;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(o0||(o0={}));const na=[{value:"bg-gray-900",label:"Default",background:"bg-gray-900",text:"text-gray-900"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-red-700"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-500"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-900"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-500"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-500"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-500"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-600"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-600"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-600"}],hS=t=>na.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-gray-900",text:(t==null?void 0:t.text)||"text-gray-900"}:e),pK=na.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-gray-700"}:t),ol=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],Ft=tO(),Kt={content:Ei(Ft,"content"),projects:Ei(Ft,"projects"),menuItems:t=>Ei(Ft,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:Ei(Ft,"menuItemsPrivate"),blogPosts:t=>Ei(Ft,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:Ei(Ft,"blogPostsPrivate"),blogReactions:t=>Ei(Ft,t?"blogReactionsPrivate":"blogReactions"),usersPublic:Ei(Ft,"usersPublic"),files:Ei(Ft,"files")},zn=iA("main",{state:()=>({profile:nO,content:dK,menuItems:fK,projects:hK,blogPosts:{data:{public:[],private:[],single:null},isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1},publicUsers:[],online:!0,debug:!1,fetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility]},actions:{async fetchAll(t,e){try{this.fetchAllLoading||(this.fetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredProjects.length||!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()])))}catch(n){je.firebaseError(this.debug,n)}finally{this.fetchAllLoading=!1}},async fetchContent(){try{const t=await ci(Ot(Ft,Kt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){je.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await il(Kt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await ci(n)))})));this.projects=t.length?hE(t):this.projects}catch(t){je.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await il(Kt.menuItems());if(t)try{e=e.concat(await il(Kt.menuItemsPrivate,[nE("allowedUserIds","array-contains",Ot(Ft,Kt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?hE(e):this.menuItems,this.menuItems}catch(e){je.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{this.blogPosts.fetchLoading=!0;const r=e.visibility??this.blogPosts.visibility,i=this.blogPosts.data[r][this.blogPosts.data[r].length-1],s=[rE("datePinned","desc"),rE("date","desc"),DB(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&(this.blogPosts.data[r]=[]),!e.amount&&i&&s.push(OB(i.datePinned,i.date));var n=[];r==="private"&&t?n=await il(Kt.blogPostsPrivate,[nE("allowedUserIds","array-contains",Ot(Ft,Kt.usersPublic.id,t).id),...s]):r==="public"&&(n=await il(Kt.blogPosts(!1),s));const o=await Promise.all(n.map(async a=>await An.mapIncoming(a)));if(e.amount)this.blogPosts.data[r]=o;else for(const a of o)this.blogPosts.data[r].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(r){je.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchBlogPost(t,e){try{console.log("attempt to fetch single"),this.blogPosts.fetchLoading=!0;var n=await ci(Ot(Kt.blogPosts(!!(e!=null&&e.isPrivate)),t));return n||(n=await ci(Ot(Kt.blogPostsPrivate,t))),n?(this.blogPosts.data.single=await An.mapIncoming(n),this.blogPosts.data.single):null}catch(r){return je.firebaseError(this.debug,r),null}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await il(Kt.usersPublic)}catch(t){return je.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await ci(Ot(Ft,Kt.usersPublic.id,t))}catch(e){return je.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{this.blogPosts.mutationLoading=!0;const i=Xs(e);return await sp(Ot(Ft,Kt.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:Dn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Dn.fromDate(e.countdown):null,timer:e.timer?Dn.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),je.success("Successfully created Post"),!0}catch(i){return je.firebaseError(this.debug,i),!1}finally{this.blogPosts.mutationLoading=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.mutationLoading=!0;const i=Kt.blogPosts(n.isPrivate).id;let s="";if(An.Content.instanceOf(e)&&(await to(Ot(Ft,i,t),{...An.Content.convert(e),dateUpdated:Dn.now()}),s="content"),An.Styling.instanceOf(e)&&(await to(Ot(Ft,i,t),{...An.Styling.convert(e)}),s="styling"),An.Settings.instanceOf(e)&&(await to(Ot(Ft,i,t),{...An.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){const o=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){je.firebaseError(this.debug,i)}finally{this.blogPosts.mutationLoading=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||je.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,wp.convert(a),{includeTime:!0,fetch:!1})||je.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=By(a);await this.updateFileInfo(l.name,o)||je.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return je.error("Failed to re-create Post",{debug:this.debug}),!1}else return je.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return je.firebaseError(this.debug,s),!1}finally{this.blogPosts.mutationLoading=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=Xs(n);return await cc(Ot(Ft,Kt.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),je.success("Successfully deleted Post"),!0}return!1}catch(n){return je.firebaseError(this.debug,n),!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{const r=Xs(t),i=Ot(Ft,Kt.blogPosts(r.isPrivate).id,t.id),s=await ci(i);if(s){const o=await uH(Kt.blogReactions(r.isPrivate),{user:Ot(Ft,Kt.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:Dn.now(),post:i});if(await to(Ot(Ft,Kt.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(s.id,r);this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return je.success("Successfully created Reaction"),!0}return!1}catch(r){return je.firebaseError(this.debug,r),!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{const i=Xs(e);if(n.mutatePost){const s=Ot(Ft,Kt.blogPosts(i.isPrivate).id,e.id),o=await ci(s);o&&await to(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await cc(Ot(Ft,Kt.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),je.success("Successfully deleted Reaction"),!0}catch(i){return je.firebaseError(this.debug,i),!1}},async deleteBlogReactionsOfBlogPost(t){try{const e=Xs(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await cc(Ot(Ft,Kt.blogReactions(e.isPrivate).id,r.id));return n.length&&je.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return je.firebaseError(this.debug,e),!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await ci(Ot(Ft,Kt.files.path,t))}catch(e){return je.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=tH(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,je.success("Successfully uploaded File"),!0}catch(r){return je.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=Xs(i);s=Ot(Ft,Kt.blogPosts(o.isPrivate).id,i.id)}return await sp(Ot(Ft,Kt.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return je.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=Xs(e);n=Ot(Ft,Kt.blogPosts(r.isPrivate).id,e.id)}return await to(Ot(Ft,Kt.files.path,t),{post:n??null}),!0}catch(n){return je.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await cc(Ot(Ft,Kt.files.path,t.name)),await rH(t),e||je.success("Successfully deleted File"),!0}catch(n){return je.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(By(r),!0);return n.length&&je.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return je.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),yl=BD(Zk);yl.onAuthStateChanged(t=>{Wn().fetchUser(t);const e=zn();e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const gs=tO(),Ko={users:Ei(gs,"users"),usersPublic:Ei(gs,"usersPublic")},Wn=iA("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:yl.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await ci(Ot(gs,Ko.usersPublic.id,t.uid));const e=await ci(Ot(gs,Ko.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await r9(yl,t,e);await this.fetchUser(n),je.success("Successfully logged in",{route:"dashboard"})}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await n9(yl,t,e);await sp(Ot(gs,Ko.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),je.success("Successfully created your account",{route:"dashboard"})}catch(r){je.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Ro.credential(this.firebaseUser.email,e);await _E(this.firebaseUser,n),await i9(this.firebaseUser,t),je.success("Successfully changed your e-mail")}}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Ro.credential(this.firebaseUser.email,e);await _E(this.firebaseUser,n),await s9(this.firebaseUser,t),je.success("Successfully changed your password")}}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await t9(yl,t),je.success("Successfully requested password reset")}catch(e){je.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(Di(this.currentUser,t)?je.warning("Nothing changed in your details"):(await to(Ot(gs,Ko.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your profile")))}catch(e){je.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?Di(this.publicUser,t)?je.warning("Nothing changed in your public profile"):(await to(Ot(gs,Ko.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your public profile")):this.firebaseUser?(await sp(Ot(gs,Ko.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your public profile")):je.firebaseError(!1)}catch(e){je.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await a9(yl),this.currentUser=null,this.publicUser=null,je.success("Successfully logged out",{route:"home"})}catch(t){je.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await cc(Ot(gs,Ko.users.id,this.firebaseUser.uid)),await l9(this.firebaseUser),this.currentUser=null,this.publicUser=null,je.success("Successfully deleted your account",{route:"home"}))}catch(t){je.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}});function mK(t,e){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z","clip-rule":"evenodd"})])}function gK(t,e){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 018.75 1h2.5A2.75 2.75 0 0114 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 016 4.193V3.75zm6.5 0v.325a41.622 41.622 0 00-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25zM10 10a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1V11a1 1 0 00-1-1H10z","clip-rule":"evenodd"}),ne("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 01-9.274 0C3.985 17.585 3 16.402 3 15.055z"})])}function vK(t,e){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}function yK(t,e){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{"fill-rule":"evenodd",d:"M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 002.273 1.765 11.842 11.842 0 00.976.544l.062.029.018.008.006.003zM10 11.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z","clip-rule":"evenodd"})])}function wK(t,e){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{d:"M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z"})])}function bK(t,e){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})])}const _K=["href"],TK=Ee({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{}},setup(t){return(e,n)=>{const r=$s("RouterLink");return e.url?(D(),X(Ie,{key:0},[e.url.startsWith("http")?(D(),X("a",{key:1,class:Oe(e.class),href:e.url},[xe(e.$slots,"default")],10,_K)):(D(),ve(r,{key:0,class:Oe(e.class),"active-class":e.activeClass,to:{path:e.url}},{default:ye(()=>[xe(e.$slots,"default")]),_:3},8,["class","active-class","to"]))],64)):xe(e.$slots,"default",{key:1,class:Oe(e.class)})}}}),EK=["type","disabled"],SK={class:Oe("w-full flex flex-column justify-center")},vt=Ee({__name:"CustomButton",props:{class:{},url:{},type:{},activeClass:{},style:{},outlined:{type:Boolean},list:{type:Boolean},action:{},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=re(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"action-positive":return e.outlined?"button-outlined-action-positive":"button-action-positive";case"orange":return e.outlined?"button-outlined-orange":"button-orange";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(D(),ve(TK,{class:Oe([n.value,"md:mt-0 py-2 px-4 rounded-full",r.list?"flex flex-column justify-center":"",...x(vl)(e.class)]),activeClass:r.activeClass,url:r.url},{default:ye(({class:s})=>[ne("button",{class:Oe(s),style:Nn(r.style),type:r.action??"button",disabled:r.loading,onClick:i[0]||(i[0]=o=>r.$emit("click"))},[ne("span",SK,[r.loading?(D(),ve(x(mK),{key:0,class:"my-1 mr-2.5 h-5 w-5 animate-spin"})):oe("",!0),xe(r.$slots,"default")])],14,EK)]),_:3},8,["class","activeClass","url"]))}}),Ku=Ee({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(D(),X("span",{class:Oe({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},Qe(e.time),3))}});const CK=Ee({__name:"CountdownWrapper",props:{time:{},direction:{}},setup(t){const e=t,n=m=>(e.direction==="up"?m=Math.abs(m):m=Math.max(0,m),Math.floor(m)),r=ue(0),i=re(()=>n(r.value/ip)),s=re(()=>r.value%ip),o=re(()=>n(s.value/rp)),a=re(()=>s.value%rp),l=re(()=>n(a.value/Vy)),u=re(()=>a.value%Vy),c=re(()=>n(u.value/Fy)),d=re(()=>u.value%Fy),h=re(()=>n(d.value/nD)),f=re(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&h.value===0),p=()=>{r.value=e.time-new Date().getTime(),setTimeout(p,1e3)};return Jt(()=>{p()}),(m,y)=>xe(m.$slots,"default",{years:i.value,days:o.value,hours:l.value,minutes:c.value,seconds:h.value,isTimeUp:f.value,daysIsLast:m.direction==="down"?o.value===364:o.value===0,hoursIsLast:m.direction==="down"?l.value===23:o.value===0,minutesIsLast:m.direction==="down"?c.value===59:c.value===0,secondsIsLast:m.direction==="down"?h.value===59:h.value===0})}}),IK={class:"grid grid-flow-col text-center"},kK={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},AK={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},xK={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},PK={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},DK={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},RK={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},OK={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},NK={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},MK={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},LK={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},jh=Ee({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t;return(n,r)=>(D(),X("div",{class:Oe({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[ae(CK,{time:e.time,direction:n.direction},{default:ye(({years:i,days:s,hours:o,minutes:a,seconds:l,isTimeUp:u,daysIsLast:c,hoursIsLast:d,minutesIsLast:h,secondsIsLast:f})=>[ne("div",IK,[i>0?(D(),X("div",kK,[ne("span",AK,[ae(Ku,{time:i,animate:i>=0&&c&&d&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),qe(" years ")])):oe("",!0),i>0||s>0||u?(D(),X("div",xK,[ne("span",PK,[ae(Ku,{time:s,animate:s>=0&&d&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),qe(" days ")])):oe("",!0),i>0||s>0||o>0||u?(D(),X("div",DK,[ne("span",RK,[ae(Ku,{time:o,animate:o>=0&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),qe(" hrs ")])):oe("",!0),i>0||s>0||o>0||a>0||u?(D(),X("div",OK,[ne("span",NK,[ae(Ku,{time:a,animate:a>=0&&f,direction:n.direction},null,8,["time","animate","direction"])]),qe(" mins ")])):oe("",!0),i>0||s>0||o>0||a>0||l>0||u?(D(),X("div",MK,[ne("span",LK,[ae(Ku,{time:l,animate:!u,direction:n.direction},null,8,["time","animate","direction"])]),qe(" secs ")])):oe("",!0)])]),_:1},8,["time","direction"])],2))}}),$K={class:"flex justify-between"},UK={class:"flex flex-col"},FK={class:"flex justify-between"},VK={class:"xl:flex"},BK={key:0,class:"flex gap-2"},jK=["src"],HK=["href"],WK={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},KK={key:1,class:"flex gap-2"},YK=["src"],zK={key:0,class:"xl:mt-2"},_r=Ee({__name:"Bubble",props:{title:{},subTitle:{},url:{},description:{},avatar:{},loading:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},setup(t){return(e,n)=>(D(),X("div",{class:Oe(["group/bubble color-primary rounded-3xl p-5 md:p-10",e.url?"hover:bg-opacity-30":null,e.loading?"animate-pulse":null])},[ne("div",$K,[ne("div",UK,[ne("div",FK,[ne("div",VK,[e.url?(D(),X("div",BK,[e.avatar?(D(),X("img",{key:0,class:"rounded-full h-10 w-10",src:e.avatar},null,8,jK)):oe("",!0),ne("a",{href:e.url},[ne("h2",WK,Qe(e.title),1)],8,HK)])):e.title?(D(),X("div",KK,[e.avatar?(D(),X("img",{key:0,class:"rounded-full border border-gray-400 h-10 w-10",src:e.avatar},null,8,YK)):oe("",!0),ne("h2",Ht({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},e.titleProps),Qe(e.title),17)])):oe("",!0),e.subTitle?(D(),X("p",Ht({key:2,class:"text-sm text-gray-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},e.subTitleProps),Qe(e.subTitle),17)):oe("",!0)])]),e.description?(D(),X("div",zK,[(D(!0),X(Ie,null,ut(Array.isArray(e.description)?e.description:[e.description],r=>(D(),X("p",Ht({class:"text-gray-400 mb-2"},e.descriptionProps),Qe(r),17))),256))])):oe("",!0)]),xe(e.$slots,"right")]),xe(e.$slots,"default")],2))}}),GK={key:0,class:"text-red-600"},Zb=Ee({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(D(),X("p",GK,Qe(e.error),1)):oe("",!0)}});var e_=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(e_||{});const Et={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},qK={class:"m-4"},QK=["for"],Jn=Ee({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=re(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===e_.Required)?" *":""):void 0),o=re(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Et.Min),typeof r.maxValue=="number"&&h.push(Et.Max),typeof r.minLength=="number"&&h.push(Et.MinLength),typeof r.maxLength=="number"&&h.push(Et.MaxLength),r.compare&&h.push(Et.EqualTo);const f={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=h.filter(m=>!m.test(f)).map(m=>{var y;return((y=m.compareError)==null?void 0:y.call(m,f))||m.error(f)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,f;return D(),X("div",qK,[c.label?(D(),X("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Qe(s.value),17,QK)):oe("",!0),(D(),ve(kd(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"textarea":"input"),Ht({id:o.value,ref:"input",value:i.value,class:"input-field",type:((f=c.inputProps)==null?void 0:f.type)||"text",placeholder:c.placeholder,onInput:a},c.inputProps),null,16,["id","value","type","placeholder"])),c.error?(D(),ve(Zb,{key:1,name:c.name,error:c.error},null,8,["name","error"])):oe("",!0)])}}}),XK={class:"flex flex-col"},JK=Ee({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=Qt(Wn()),{deleteBlogReaction:i}=zn();return(s,o)=>(D(),ve(_r,{class:Oe(["p-5 mb-5 w-full md:w-3/4",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50"]),titleProps:{class:"!text-base mt-1"},title:e.reaction.user.displayName||"Unknown user",subTitle:x(jy)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message},rr({_:2},[x(n)&&e.reaction.user.id===x(n).id||x(r)?{name:"right",fn:ye(()=>[ne("div",XK,[e.post.locked?oe("",!0):(D(),ve(vt,{key:0,type:"danger",outlined:"",class:"h-fit",onClick:o[0]||(o[0]=a=>x(i)(e.reaction.id,e.post))},{default:ye(()=>[qe(" Delete ")]),_:1}))])]),key:"0"}:void 0]),1032,["class","title","subTitle","avatar","description"]))}}),ZK=["onSubmit"],eY={class:"grid justify-items-center p-5"},tY=Ee({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=Qt(Wn()),r=zn(),{content:i}=Qt(r),{createBlogReaction:s}=r,o=ue(),a=Ln({reaction:{value:"",error:""}}),l=async()=>{await o.value.test(),!a.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:a.reaction.value,date:new Date})&&(a.reaction.value=""),hH()};return(u,c)=>(D(),X("form",{action:"",onSubmit:Pt(l,["prevent"])},[ne("div",eY,[(D(!0),X(Ie,null,ut(u.post.reactions,d=>(D(),ve(JK,{post:u.post,reaction:d},null,8,["post","reaction"]))),256)),!x(n)||u.post.reactions.filter(d=>d.user.id===x(n).id).length<8?(D(),ve(_r,{key:0,class:Oe(["p-5 flex justify-center w-full md:w-3/4",u.post.colorTertiary||"bg-gray-700",u.post.opacityTertiary||"bg-opacity-50"])},{default:ye(()=>[ae(Jn,{class:"w-5/6",id:u.post.id,inputProps:{class:["rounded-xl border-none !placeholder-gray-300",u.post.colorSecondary||u.post.colorPrimary||"bg-gray-600",u.post.opacitySecondary||"!bg-opacity-20",!u.post.locked&&x(n)?"hover:!bg-gray-700 focus:!bg-gray-600 focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50"],disabled:!x(n)||u.post.locked},ref_key:"reaction",ref:o,name:"reaction",placeholder:u.post.locked?"Locked for comments":x(n)?"Reply":x(i).blogLoginGuest,modelValue:a.reaction.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.reaction.value=d),error:a.reaction.error,"onUpdate:error":c[1]||(c[1]=d=>a.reaction.error=d),rules:[x(Et).Required],onClick:c[2]||(c[2]=()=>!x(n)&&!u.post.locked?x(l_).push({name:"login"}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):oe("",!0)])],40,ZK))}}),nY=["href"],rY={class:"break-all"},iY={key:1},sY={key:2},Hh=Ee({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(D(!0),X(Ie,null,ut(e.description.split(`
`).map(s=>s.trim()),s=>(D(),X("div",{class:Oe(["text-lg",e.class])},[ne("div",{class:Oe({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(D(),X("a",{key:0,href:s,class:"underline hover:no-underline"},[ne("span",rY,Qe(s),1)],8,nY)):s?(D(),X("p",iY,Qe(s),1)):(D(),X("br",sY))],2)],2))),256))}}),oY=["src"],fS=Ee({__name:"BlogPostImage",props:{post:{},coverImageUrl:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=ue(0),r=ue(0),i=re(()=>n.value>r.value),s=re(()=>n.value>r.value*1.5),o=re(()=>r.value>n.value),a=re(()=>r.value>n.value*1.5);return Jt(()=>{const l=new Image;l.src=e.coverImageUrl,l.onload=()=>{n.value=l.height,r.value=l.width}}),(l,u)=>(D(),X("div",{class:Oe({flex:!0,"justify-start":l.alignment==="left","justify-center":l.alignment===void 0||l.alignment==="center","justify-end":l.alignment==="right"})},[ae(_r,{class:Oe(["!p-5 my-5 w-fit",l.post.colorTertiary||"",l.post.opacityTertiary||"bg-opacity-50"])},{default:ye(()=>[ne("img",{class:"cover-image",src:l.coverImageUrl,style:Nn({maxHeight:i.value?l.maxHeight??a.value?"60vh":"40h":"50vh",maxWidth:o.value?l.maxWidth??s.value?"60vw":"40vw":"50vw"})},null,12,oY)]),_:1},8,["class"])],2))}}),bp=Ee({__name:"ArrowIcon",props:{rotate:{type:Boolean},size:{}},setup(t){return(e,n)=>(D(),ve(x(vK),{class:Oe(["sm:block animation",{"rotate-180":e.rotate,"mt-0.5 mr-2.5 h-5 w-5":!e.size||e.size==="sm","h-10 w-10":e.size==="md","h-20 w-20":e.size==="xl"}])},null,8,["class"]))}}),aY=Ee({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(D(),X("div",{class:Oe(["text-lg",e.class])},[ne("div",{class:Oe({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[ne("span",{class:Oe(["flex text-3xl",{"hover:underline cursor-pointer":n.isExpandable}]),onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(D(),ve(bp,{key:0,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):oe("",!0),xe(n.$slots,"default"),n.isExpandable&&n.alignment==="center"||n.alignment==="left"?(D(),ve(bp,{key:1,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):oe("",!0)],2)],2)],2))}}),lY=t=>($0("data-v-6edda898"),t=t(),U0(),t),uY={class:"flex justify-between h-fit mt-2 gap-2"},cY={class:"flex flex-wrap gap-3"},dY={class:"w-full"},hY={key:0,class:"w-fit flex flex-col justify-start ms-5 gap-2"},fY={key:0},pY={class:"flex gap-3"},mY=lY(()=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6"},[ne("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})],-1)),gY=Ee({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=Qt(zn()),{firebaseUser:r,isOwner:i}=Qt(Wn()),s=ue(),o=re(()=>{var u;return(u=e.post.allowedUserIds)!=null&&u.length?n.value.filter(c=>{var d;return(d=e.post.allowedUserIds)==null?void 0:d.includes(c.id)}):[]}),a=u=>{s.value===u?s.value=void 0:s.value=u},l=()=>{const u=document.createElement("textarea"),{protocol:c,hostname:d,port:h,pathname:f}=window.location,p=`${c}//${d}`+(d==="localhost"?`:${h}`:"")+f;u.value=`${p}/${e.post.id}`,document.body.appendChild(u),u.select(),document.execCommand("copy"),document.body.removeChild(u),je.success("Copied link!")};return(u,c)=>(D(),ve(_r,{id:u.post.id,class:Oe(["min-h-[90vh] border-4 border-transparent",u.post.colorPrimary||"bg-gray-900",u.post.opacityPrimary||"bg-opacity-30"]),title:u.post.title,subTitle:x(jy)(new Date(u.post.date))+(u.post.dateUpdated?" - updated "+x(jy)(new Date(u.post.dateUpdated)):"")+(u.post.datePinned?" - [PINNED]":"")+(u.post.locked?" - [LOCKED]":""),loading:u.post.loading},{right:ye(()=>[ne("div",pY,[ae(vt,{class:"border-none bg-gray-500 text-purple-100 bg-opacity-10 h-fit",type:"secondary",outlined:"",onClick:l},{default:ye(()=>[mY]),_:1})])]),default:ye(()=>{var d;return[ne("div",uY,[ne("div",cY,[(D(!0),X(Ie,null,ut(o.value,h=>{var f;return D(),ve(_r,{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50","sub-title":h.id===((f=x(r))==null?void 0:f.uid)?"You":h.displayName,"sub-title-props":{class:"xl:!ms-0"}},null,8,["sub-title"])}),256))]),x(i)?(D(),X("div",{key:0,class:Oe(["flex justify-end lg:hidden h-fit ms-5 gap-3",(d=u.post.allowedUserIds)!=null&&d.length?"flex-col md:flex-row":"flex-row"])},[ae(vt,{class:"min-w-80",onClick:c[0]||(c[0]=h=>u.$emit("editClicked"))},{default:ye(()=>[qe(" Edit ")]),_:1}),ae(vt,{class:"min-w-80",type:"danger",outlined:"",onClick:c[1]||(c[1]=h=>u.$emit("deleteClicked"))},{default:ye(()=>[qe(" Delete ")]),_:1})],2)):oe("",!0)]),ae(_r,{class:Oe(["min-h-[125px] md:min-h-[160px] p-5 mt-5",u.post.colorSecondary||u.post.colorPrimary,u.post.opacitySecondary||"bg-opacity-25"])},{default:ye(()=>[ne("div",{class:Oe(["flex relative",u.post.countdown||u.post.alignment==="center"?"flex justify-between":""])},[ne("div",dY,[u.post.countdown?(D(),ve(jh,{key:0,time:new Date(u.post.countdown).getTime(),direction:"down",alignment:u.post.alignment},null,8,["time","alignment"])):oe("",!0),u.post.timer?(D(),ve(jh,{key:1,time:new Date(u.post.timer).getTime(),direction:"up",alignment:u.post.alignment},null,8,["time","alignment"])):oe("",!0),u.post.description?(D(),ve(Hh,{key:2,description:u.post.description,alignment:u.post.alignment},null,8,["description","alignment"])):oe("",!0)]),ne("div",{class:Oe(["hidden lg:flex w-full justify-end",u.post.countdown||u.post.alignment==="center"?"absolute":""])},[x(i)?(D(),X("div",hY,[ae(vt,{class:"col-span-full md:col-span-2 md:col-start-3",onClick:c[2]||(c[2]=h=>u.$emit("editClicked"))},{default:ye(()=>[qe(" Edit ")]),_:1}),ae(vt,{class:"col-span-full md:col-span-2 md:col-start-3",type:"danger",outlined:"",onClick:c[3]||(c[3]=h=>u.$emit("deleteClicked"))},{default:ye(()=>[qe(" Delete ")]),_:1})])):oe("",!0)],2)],2),u.post.coverImageUrl?(D(),ve(fS,{key:0,post:u.post,"cover-image-url":u.post.coverImageUrl},null,8,["post","cover-image-url"])):oe("",!0),u.post.descriptionFooter?(D(),ve(Hh,{key:1,description:u.post.descriptionFooter,alignment:u.post.alignment},null,8,["description","alignment"])):oe("",!0),(D(!0),X(Ie,null,ut(u.post.sections,(h,f)=>(D(),X("div",null,[h.title?(D(),ve(aY,{key:0,alignment:h.alignment,"is-expandable":!!h.description||!!h.coverImageUrl,"is-expanded":s.value===f,onClick:p=>a(f)},{default:ye(()=>[qe(Qe(h.title),1)]),_:2},1032,["alignment","is-expandable","is-expanded","onClick"])):oe("",!0),h.subTitle?(D(),ve(Hh,{key:1,description:h.subTitle,alignment:h.alignment},null,8,["description","alignment"])):oe("",!0),ae(us,null,{default:ye(()=>[s.value===f?(D(),X("div",fY,[h.description?(D(),ve(Hh,{key:0,description:h.description,alignment:h.alignment},null,8,["description","alignment"])):oe("",!0),h.coverImageUrl?(D(),ve(fS,{key:1,post:u.post,"cover-image-url":h.coverImageUrl,alignment:h.alignment,"max-height":"30vh"},null,8,["post","cover-image-url","alignment"])):oe("",!0)])):oe("",!0)]),_:2},1024),h.countdown?(D(),ve(jh,{key:2,time:new Date(h.countdown).getTime(),direction:"down",alignment:h.alignment},null,8,["time","alignment"])):oe("",!0),h.timer?(D(),ve(jh,{key:3,time:new Date(h.timer).getTime(),direction:"up",alignment:h.alignment},null,8,["time","alignment"])):oe("",!0)]))),256))]),_:1},8,["class"]),ae(tY,{post:u.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","loading"]))}});const rO=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},iO=rO(gY,[["__scopeId","data-v-6edda898"]]),vY={key:0,class:"flex justify-center mt-5"},yY={class:"grid grid-cols-6 mb-5 gap-5"},wY=Ee({__name:"BlogDetails",setup(t){const e=nw(),n=re(()=>e.params.postId),r=zn(),{fetchBlogPost:i}=r,{blogPosts:s}=Qt(r);return Jt(()=>{var o,a;n.value&&((o=s.value.data.single)==null?void 0:o.id)!==n.value&&((a=s.value.data.single)==null?void 0:a.id)!==n.value&&i(n.value)}),(o,a)=>x(s).fetchLoading?(D(),X("div",vY,[ae(vt,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:x(s).fetchLoading},{default:ye(()=>[qe(" Loading... ")]),_:1},8,["loading"])])):(D(),X(Ie,{key:1},[ne("div",yY,[ae(vt,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"orange",url:"/blog"},{default:ye(()=>[qe(" All Posts ")]),_:1})]),x(s).data.single?(D(),ve(iO,{key:0,post:x(s).data.single},null,8,["post"])):oe("",!0)],64))}}),bY={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},_Y={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},TY={class:"bg-gray-800 border border-gray-500 rounded-2xl p-5"},EY={class:"p-8"},SY={class:"title-secondary"},CY={class:"mt-4 text-gray-300"},IY={class:"my-2"},kY={class:"grid grid-cols-4 mt-10 gap-3"},t_=Ee({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return Pd(()=>{document.body.style.overflow=""}),cn(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${dH()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(D(),X("div",bY,[ne("div",{class:"fixed inset-0 bg-gray-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),ne("div",_Y,[ne("div",TY,[ne("div",EY,[ne("h3",SY,Qe(n.title),1),ne("div",CY,[(D(!0),X(Ie,null,ut(Array.isArray(n.description)?[...n.description]:[n.description],i=>(D(),X("p",IY,Qe(i),1))),256))]),xe(n.$slots,"default")]),ne("div",kY,[ae(vt,{class:Oe(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},{default:ye(()=>[qe(" Cancel ")]),_:1},8,["class"]),n.confirmText?(D(),ve(vt,Ht({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),{default:ye(()=>[qe(Qe(n.confirmText),1)]),_:1},16,["loading"])):oe("",!0)])])])])):oe("",!0)}}),AY={class:"flex m-4 justify-center"},Wh=Ee({__name:"Spoiler",props:{text:{}},setup(t){const e=ue(!1);return(n,r)=>(D(),X(Ie,null,[ne("div",AY,[ae(vt,{class:"w-3/4 md:w-2/3 flex justify-center",outlined:"",onClick:r[0]||(r[0]=i=>e.value=!e.value)},{default:ye(()=>[ae(bp,{rotate:e.value},null,8,["rotate"]),qe(" "+Qe(n.text),1)]),_:1})]),Ji(ne("div",null,[xe(n.$slots,"default")],512),[[Is,e.value]])],64))}}),xY={class:"m-4"},PY=["for"],DY=["id"],Nc=Ee({__name:"CheckBoxField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},inputProps:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re({get:()=>r.modelValue,set:u=>{l("update:modelValue",u)}}),s=re(()=>r.name+(r.id?"."+r.id:"")),o=async u=>{},a=u=>{u.stopPropagation(),l("update:modelValue",!r.modelValue)},l=n;return e({test:o}),(u,c)=>(D(),X("div",xY,[u.label?(D(),X("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:s.value},u.labelProps),Qe(u.label),17,PY)):oe("",!0),ne("div",{class:"checkbox-field",onClick:a},[Ji(ne("input",Ht({id:s.value,ref:"input","onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d),type:"checkbox"},u.inputProps),null,16,DY),[[Qp,i.value]])])]))}}),RY={class:"m-4"},OY=["for"],Kh=Ee({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=re(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>{const c=$s("VueDatePicker");return D(),X("div",RY,[l.label?(D(),X("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),Qe(l.label),17,OY)):oe("",!0),ae(c,{uid:s.value,class:"input-field px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d)},null,8,["uid","modelValue"])])}}});let Yh;const NY=new Uint8Array(16);function MY(){if(!Yh&&(Yh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yh(NY)}const qn=[];for(let t=0;t<256;++t)qn.push((t+256).toString(16).slice(1));function LY(t,e=0){return qn[t[e+0]]+qn[t[e+1]]+qn[t[e+2]]+qn[t[e+3]]+"-"+qn[t[e+4]]+qn[t[e+5]]+"-"+qn[t[e+6]]+qn[t[e+7]]+"-"+qn[t[e+8]]+qn[t[e+9]]+"-"+qn[t[e+10]]+qn[t[e+11]]+qn[t[e+12]]+qn[t[e+13]]+qn[t[e+14]]+qn[t[e+15]]}const $Y=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pS={randomUUID:$Y};function sO(t,e,n){if(pS.randomUUID&&!e&&!t)return pS.randomUUID();t=t||{};const r=t.random||(t.rng||MY)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return LY(r)}const UY=Ee({__name:"TrashIcon",setup(t){return(e,n)=>(D(),ve(x(bK),{class:"h-7 w-7"}))}}),FY=Ee({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(D(),ve(vt,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",onClick:r[0]||(r[0]=i=>n.$emit("click"))},{default:ye(()=>[ae(UY)]),_:1}))}}),VY={class:"m-4"},BY=["for"],jY={class:"flex justify-between gap-1"},HY=["id","disabled"],WY={key:2},KY={class:"flex justify-center"},YY=["src"],a0=Ee({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Qt(Wn()),{fetchFileInfo:i,uploadFile:s,deleteFile:o}=zn(),a=ue(),l=ue(null),u=ue(0),c=re(()=>By(n.modelValue||"uploads/"+sO())),d=re(()=>c.value.name),h=ue(),f=ue(""),p=v=>{const b=v.target;b.files&&b.files.length>0&&(l.value=b.files[0],f.value=l.value.name,m())},m=async()=>{var v,b;l.value&&((v=r.value)!=null&&v.uid)&&await s(c.value,l.value,g=>u.value=g,f.value,(b=r.value)==null?void 0:b.uid,n.isPublic,n.blogPost)&&(_("update:modelValue",await nH(c.value)),l.value=null,u.value=0)},y=async()=>{await o(c.value)?(window.URL.revokeObjectURL(n.modelValue),a.value.value=null,_("update:modelValue","")):_("update:error","Failed to delete File reference")};cn(()=>n.modelValue,async()=>{var v;h.value=n.modelValue?await i(d.value):void 0,f.value=((v=h.value)==null?void 0:v.name)??""},{immediate:!0});const _=e;return(v,b)=>(D(),X("div",VY,[v.label?(D(),X("label",{key:0,class:"block text-sm font-bold mb-2",for:`${v.id}`},Qe(v.label),9,BY)):oe("",!0),ne("div",jY,[ne("input",{id:`${v.id}`,ref_key:"fileUpload",ref:a,type:"file",accept:"image/*",onChange:p,class:"input-field",disabled:!!h.value},null,40,HY),h.value?(D(),ve(FY,{key:0,onClick:y})):oe("",!0)]),v.error?(D(),ve(Zb,{key:1,name:v.name,error:v.error},null,8,["name","error"])):oe("",!0),u.value>0?(D(),X("div",WY,"Uploading: "+Qe(u.value.toFixed(2))+"%",1)):oe("",!0),ne("div",KY,[ne("div",Tn(nr(v.imageContainerProps)),[h.value?(D(),X("img",Ht({key:0,class:"mt-4 simple-field w-full min-w-25 md:max-w-fit",src:v.modelValue},v.imageProps),null,16,YY)):oe("",!0)],16)])]))}}),zY={class:"m-4"},GY=["for"],qY=["id","name","multiple"],QY=["value"],lr=Ee({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=re(()=>(r.rules??[]).some(h=>h.type===e_.Required)),o=re({get:()=>{if(r.multiple){const h=Array.isArray(r.modelValue)?r.modelValue:[];return h.length?h:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const h=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return h||(s.value&&r.options.length?r.options[0].value:"")}},set:h=>{var f;d("update:modelValue",vl(h)[0]),d("update:arrayValue",vl(h)),r.multiple||(f=i.value)==null||f.blur()}}),a=re(()=>r.options.find(({value:h})=>h===o.value)),l=re(()=>r.label+(s.value?" *":"")),u=re(()=>r.name+(r.id?"."+r.id:"")),c=async()=>{const h=r.rules||[];let f="";for(const p of vl(o.value)){const m={value:p.toString()},y=h.filter(_=>!_.test(m)).map(_=>_.error(m))||[];if(y[0]){f=y[0];break}}d("update:error",f)};Jt(()=>{s.value&&(d("update:modelValue",vl(o.value)[0]),d("update:arrayValue",vl(o.value)))});const d=n;return e({test:c}),(h,f)=>{var p,m;return D(),X("div",zY,[ne("label",{class:"block text-sm font-bold mb-2",for:u.value},Qe(l.value),9,GY),Ji(ne("select",{ref_key:"select",ref:i,id:u.value,name:h.name,"onUpdate:modelValue":f[0]||(f[0]=y=>o.value=y),class:Oe(["w-full px-4 py-2 select-field block",(p=a.value)==null?void 0:p.background,(m=a.value)!=null&&m.background?"text-white focus:text-black bg-opacity-50":"",h.multiple?"bg-white":""]),multiple:h.multiple},[(D(!0),X(Ie,null,ut(h.options,({value:y,label:_,background:v,text:b},g)=>(D(),X("option",{value:y??g,class:Oe(["h-20 select-field",v,v?"bg-opacity-50":"bg-opacity-40",b])},Qe(_),11,QY))),256))],10,qY),[[Z0,o.value]]),h.error?(D(),ve(Zb,{key:0,name:h.name,error:h.error},null,8,["name","error"])):oe("",!0)])}}}),XY={class:"flex justify-evenly font-bold"},JY={class:"px-5"},ZY={class:"flex justify-evenly font-bold"},ez={class:"flex justify-center"},tz=Ee({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close","scroll-to-updated"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Qt(Wn()),i=zn(),{createBlogPost:s,updateBlogPost:o,allowedPublicUsers:a,deleteFilesOfBlogPost:l,toggleBlogPostVisibility:u}=i,{blogPosts:c,publicUsers:d}=Qt(i),h=ue(),f=ue(),p=ue(),m=ue(),y=ue(),_=ue([]),v=ue([]),b=ue([]),g=ue([]),w=ue([]),T=ue([]),O=ue(),k=ue(),A=ue(),S=ue(),L=ue(),U=ue(),C=ue(),H=ue(),M=ue(),N=ue(),W=ue(),J=ue(),$=ue(),I=re(()=>d.value.map(({id:de,displayName:te})=>({value:de,label:te}))),Z=ue([]),ie=re(()=>Z.value.map(de=>de.displayName).join(", ")),ee=()=>({id:{value:sO(),error:""},title:{value:"",error:""},description:{value:"",error:""},descriptionFooter:{value:"",error:""},alignment:{value:"center",error:""},sections:{value:[],error:""},locked:{value:!1,error:""},colorPrimary:{value:"",error:""},colorSecondary:{value:"",error:""},colorTertiary:{value:"",error:""},opacityPrimary:{value:"",error:""},opacitySecondary:{value:"",error:""},opacityTertiary:{value:"",error:""},coverImageUrl:{value:"",error:""},allowedUserIds:{value:[],error:""},countdown:{value:null,error:""},timer:{value:null,error:""},archived:{value:!1,error:""},pinned:{value:!1,error:""}}),B=Ln(ee()),be=re(()=>{var de,te,z,ce;return{id:B.id.value,title:B.title.value,description:B.description.value,descriptionFooter:B.descriptionFooter.value,alignment:B.alignment.value,sections:B.sections.value.map(we=>({title:we.title.value,subTitle:we.subTitle.value,description:we.description.value,alignment:we.alignment.value,coverImageUrl:we.coverImageUrl.value,countdown:we.countdown.value,timer:we.timer.value})),date:((de=n.selected)==null?void 0:de.date)||new Date,dateUpdated:((te=n.selected)==null?void 0:te.dateUpdated)||new Date,locked:!!B.locked.value,colorPrimary:B.colorPrimary.value,colorSecondary:B.colorSecondary.value,colorTertiary:B.colorTertiary.value,opacityPrimary:B.opacityPrimary.value,opacitySecondary:B.opacitySecondary.value,opacityTertiary:B.opacityTertiary.value,coverImageUrl:B.coverImageUrl.value,reactions:[],allowedUserIds:B.allowedUserIds.value,countdown:B.countdown.value,timer:B.timer.value,archived:B.archived.value,datePinned:B.pinned.value?(z=n.selected)!=null&&z.datePinned?((ce=n.selected)==null?void 0:ce.datePinned)??null:new Date:null}}),j=re(()=>An.Content.convert(be.value)),q=re(()=>!!n.selected&&!Di(An.Content.convert(An.convert(n.selected)),j.value)),le=re(()=>An.Styling.convert(be.value)),Y=re(()=>!!n.selected&&!Di(An.Styling.convert(An.convert(n.selected)),le.value)),pe=re(()=>An.Settings.convert(be.value)),Se=re(()=>!!n.selected&&!Di(An.Settings.convert(An.convert(n.selected)),pe.value)),E=re(()=>{var de,te,z,ce,we,Ce;return!!((te=(de=n.selected)==null?void 0:de.allowedUserIds)!=null&&te.length)&&!((z=pe.value.allowedUserIds)!=null&&z.length)||!((we=(ce=n.selected)==null?void 0:ce.allowedUserIds)!=null&&we.length)&&!!((Ce=pe.value.allowedUserIds)!=null&&Ce.length)}),P=re(()=>{const de=[];return q.value&&de.push("Content"),Y.value&&de.push("Styling"),Se.value&&de.push("Settings"),de.length?"Update "+Hy(de):void 0}),F=re(()=>Xs(n.selected)),G=async()=>{var de,te,z,ce,we,Ce,Me,We,Re,dt,Q;if(await Promise.all([f.value.test(),p.value.test(),m.value.test(),y.value.test(),...(de=_.value)==null?void 0:de.map(R=>R.test()),...(te=v.value)==null?void 0:te.map(R=>R.test()),...(z=b.value)==null?void 0:z.map(R=>R.test()),...(ce=g.value)==null?void 0:ce.map(R=>R.test()),...(we=w.value)==null?void 0:we.map(R=>R.test()),...(Ce=T.value)==null?void 0:Ce.map(R=>R.test()),k.value.test(),A.value.test(),S.value.test(),L.value.test(),U.value.test(),M.value.test(),N.value.test(),W.value.test(),J.value.test(),$.value.test()]),B.allowedUserIds.value.length&&!Z.value.length&&(B.allowedUserIds.error="Invalid user ID's"),Object.keys(B).map(R=>B[R].error).every(R=>!R))if(!n.selected)await s(B.id.value,be.value,(Me=r.value)==null?void 0:Me.uid)&&(fe("close"),fe("scroll-to-updated",B.id.value));else if(E.value){const R=n.selected.id;fe("close"),await u(R,An.convert(be.value),n.selected.reactions,be.value.allowedUserIds.length?"private":"public",(We=r.value)==null?void 0:We.uid)&&(je.success("Successfully updated Post Visibility"),fe("scroll-to-updated",R))}else{const R=n.selected.id;let K=[];q.value&&K.push(await o(R,j.value,F.value,(Re=r.value)==null?void 0:Re.uid)),Y.value&&K.push(await o(R,le.value,F.value,(dt=r.value)==null?void 0:dt.uid)),Se.value&&(K.push(await o(R,pe.value,F.value,(Q=r.value)==null?void 0:Q.uid)),fe("scroll-to-updated",R)),K=K.filter(V=>typeof V=="string"),K.length&&(je.success(`Successfully updated Post ${Hy(K)}`),fe("close"))}},he=async()=>{l(be.value,n.selected??void 0),Object.assign(B,ee()),fe("close")};cn(()=>n.selected,de=>{var te,z,ce,we,Ce,Me,We;de?(B.title.value=de.title,B.description.value=de.description,B.descriptionFooter.value=de.descriptionFooter||"",B.alignment.value=de.alignment,(te=de.sections)!=null&&te.length&&(B.sections.value=de.sections.map(Re=>({title:{value:Re.title,error:""},subTitle:{value:Re.subTitle,error:""},description:{value:Re.description,error:""},alignment:{value:Re.alignment,error:""},coverImageUrl:{value:Re.coverImageUrl??"",error:""},countdown:{value:Re.countdown,error:""},timer:{value:Re.timer,error:""}}))),B.locked.value=!!de.locked,B.colorPrimary.value=((z=na.find(Re=>Re.value===de.colorPrimary))==null?void 0:z.value.toString())||"bg-gray-900",B.colorSecondary.value=((ce=hS(na.find(Re=>Re.value===B.colorPrimary.value)).find(Re=>Re.value===(de.colorSecondary||"")))==null?void 0:ce.value.toString())||"",B.colorTertiary.value=((we=na.find(Re=>Re.value===(de.colorTertiary||"")))==null?void 0:we.value.toString())||"",B.opacityPrimary.value=((Ce=ol.find(Re=>Re.value===(de.opacityPrimary||"")))==null?void 0:Ce.value.toString())||"",B.opacitySecondary.value=((Me=ol.find(Re=>Re.value===(de.opacitySecondary||"")))==null?void 0:Me.value.toString())||"",B.opacityTertiary.value=((We=ol.find(Re=>Re.value===(de.opacityTertiary||"")))==null?void 0:We.value.toString())||"",B.coverImageUrl.value=de.coverImageUrl||"",B.allowedUserIds.value=de.allowedUserIds||[],B.countdown.value=de.countdown,B.timer.value=de.timer,B.archived.value=de.archived,B.pinned.value=!!de.datePinned):Object.assign(B,ee())}),cn(()=>B.allowedUserIds.value,async de=>{Z.value=await a(de)});const fe=e;return(de,te)=>(D(),ve(t_,{isOpen:de.isOpen,title:de.selected?"Update Post":"Create Post",description:de.selected?"Update this post":"Create a new post","confirm-text":de.selected?P.value:"Create","confirm-loading":x(c).mutationLoading,onConfirm:G,onCancel:he},{default:ye(()=>[ne("form",{ref_key:"dialog",ref:h,class:"pt-6 mb-4 xl:px-36"},[ae(Jn,{ref_key:"title",ref:f,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:B.title.value,"onUpdate:modelValue":te[0]||(te[0]=z=>B.title.value=z),error:B.title.error,"onUpdate:error":te[1]||(te[1]=z=>B.title.error=z),rules:[x(Et).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),ae(Jn,{ref_key:"description",ref:p,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:B.description.value,"onUpdate:modelValue":te[2]||(te[2]=z=>B.description.value=z),error:B.description.error,"onUpdate:error":te[3]||(te[3]=z=>B.description.error=z),"max-length":500,"input-props":{type:"textarea",rows:B.description.value.split(`
`).length<=5?B.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),ae(lr,{ref_key:"alignment",ref:y,name:"alignment",label:"Alignment",modelValue:B.alignment.value,"onUpdate:modelValue":te[4]||(te[4]=z=>B.alignment.value=z),error:B.alignment.error,"onUpdate:error":te[5]||(te[5]=z=>B.alignment.error=z),options:x(dS),rules:[x(Et).Required]},null,8,["modelValue","error","options","rules"]),ae(a0,{ref_key:"coverImageUrl",ref:H,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:B.coverImageUrl.value,"onUpdate:modelValue":te[6]||(te[6]=z=>B.coverImageUrl.value=z),error:B.coverImageUrl.error,"onUpdate:error":te[7]||(te[7]=z=>B.coverImageUrl.error=z),"blog-post":be.value},null,8,["modelValue","error","blog-post"]),de.isOpen?(D(),ve(Wh,{key:0,text:"Other content"},{default:ye(()=>[ae(Jn,{ref_key:"descriptionFooter",ref:m,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:B.descriptionFooter.value,"onUpdate:modelValue":te[8]||(te[8]=z=>B.descriptionFooter.value=z),error:B.descriptionFooter.error,"onUpdate:error":te[9]||(te[9]=z=>B.descriptionFooter.error=z),"max-length":300,"input-props":{type:"textarea",rows:B.descriptionFooter.value.split(`
`).length<=5?B.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),ae(Kh,{ref_key:"countdown",ref:N,name:"countdown",label:"Countdown",modelValue:B.countdown.value,"onUpdate:modelValue":te[10]||(te[10]=z=>B.countdown.value=z),error:B.countdown.error,"onUpdate:error":te[11]||(te[11]=z=>B.countdown.error=z)},null,8,["modelValue","error"]),ae(Kh,{ref_key:"timer",ref:W,name:"timer",label:"Timer",modelValue:B.timer.value,"onUpdate:modelValue":te[12]||(te[12]=z=>B.timer.value=z),error:B.timer.error,"onUpdate:error":te[13]||(te[13]=z=>B.timer.error=z)},null,8,["modelValue","error"])]),_:1})):oe("",!0),de.isOpen?(D(),ve(Wh,{key:1,text:"Sections"},{default:ye(()=>[(D(!0),X(Ie,null,ut(B.sections.value,(z,ce)=>(D(),X("div",{key:ce,class:"border border-gray-400 rounded-lg py-5 mb-5"},[ne("div",XY,[ne("p",null,"Section "+Qe(ce+1),1)]),ne("div",JY,[ae(Jn,{ref_for:!0,ref_key:"sectionTitle",ref:_,id:ce,name:"sectionTitle",label:"Section Title",modelValue:z.title.value,"onUpdate:modelValue":we=>z.title.value=we,error:z.title.error,"onUpdate:error":we=>z.title.error=we,max:50},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ae(Jn,{ref_for:!0,ref_key:"sectionSubTitle",ref:v,id:ce,name:"sectionSubTitle",label:"Section Subtitle",modelValue:z.subTitle.value,"onUpdate:modelValue":we=>z.subTitle.value=we,error:z.subTitle.error,"onUpdate:error":we=>z.subTitle.error=we,max:200},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ae(Jn,{ref_for:!0,ref_key:"sectionDescription",ref:b,id:ce,name:"sectionDescription",label:"Section Description",modelValue:z.description.value,"onUpdate:modelValue":we=>z.description.value=we,error:z.description.error,"onUpdate:error":we=>z.description.error=we,max:300},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ae(lr,{ref_for:!0,ref_key:"sectionAlignment",ref:g,id:ce,name:"sectionAlignment",label:"Alignment",modelValue:z.alignment.value,"onUpdate:modelValue":we=>z.alignment.value=we,error:z.alignment.error,"onUpdate:error":we=>z.alignment.error=we,options:x(dS),rules:[x(Et).Required]},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error","options","rules"]),ae(a0,{ref_for:!0,ref:"sectionCoverImageUrl",id:ce,name:"coverImageUrl",label:"Cover image",modelValue:z.coverImageUrl.value,"onUpdate:modelValue":we=>z.coverImageUrl.value=we,error:z.coverImageUrl.error,"onUpdate:error":we=>z.coverImageUrl.error=we},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ae(Kh,{ref_for:!0,ref_key:"sectionCountdown",ref:w,id:ce,name:"countdown",label:"Countdown",modelValue:z.countdown.value,"onUpdate:modelValue":we=>z.countdown.value=we,error:z.countdown.error,"onUpdate:error":we=>z.countdown.error=we},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ae(Kh,{ref_for:!0,ref_key:"sectionTimer",ref:T,id:ce,name:"timer",label:"Timer",modelValue:z.timer.value,"onUpdate:modelValue":we=>z.timer.value=we,error:z.timer.error,"onUpdate:error":we=>z.timer.error=we},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ne("div",ZY,[ae(vt,{class:"w-1/2",type:"danger",outlined:"",onClick:te[14]||(te[14]=we=>B.sections.value.pop())},{default:ye(()=>[qe(" Delete ")]),_:1})])])]))),128)),ne("div",ez,[ae(vt,{class:"w-1/2",type:"action-positive",onClick:te[15]||(te[15]=z=>B.sections.value.push({title:{value:"",error:""},subTitle:{value:"",error:""},description:{value:"",error:""},alignment:{value:"left",error:""},coverImageUrl:{value:"",error:""},countdown:{value:null,error:""},timer:{value:null,error:""}}))},{default:ye(()=>[qe(" Add Section ")]),_:1})])]),_:1})):oe("",!0),de.isOpen?(D(),ve(Wh,{key:2,text:"Styling"},{default:ye(()=>[ae(lr,{ref_key:"colorPrimary",ref:k,name:"colorPrimary",label:"Primary Style",modelValue:B.colorPrimary.value,"onUpdate:modelValue":te[16]||(te[16]=z=>B.colorPrimary.value=z),error:B.colorPrimary.error,"onUpdate:error":te[17]||(te[17]=z=>B.colorPrimary.error=z),options:x(na),rules:[x(Et).Required]},null,8,["modelValue","error","options","rules"]),ae(lr,{ref_key:"opacityPrimary",ref:L,name:"opacityPrimary",label:"Primary Opacity",modelValue:B.opacityPrimary.value,"onUpdate:modelValue":te[18]||(te[18]=z=>B.opacityPrimary.value=z),error:B.opacityPrimary.error,"onUpdate:error":te[19]||(te[19]=z=>B.opacityPrimary.error=z),options:x(ol)},null,8,["modelValue","error","options"]),ae(lr,{ref_key:"colorSecondary",ref:A,name:"colorSecondary",label:"Secondary Style",modelValue:B.colorSecondary.value,"onUpdate:modelValue":te[20]||(te[20]=z=>B.colorSecondary.value=z),error:B.colorSecondary.error,"onUpdate:error":te[21]||(te[21]=z=>B.colorSecondary.error=z),options:x(hS)(x(na).find(z=>z.value===B.colorPrimary.value))},null,8,["modelValue","error","options"]),ae(lr,{ref_key:"opacitySecondary",ref:U,name:"opacitySecondary",label:"Secondary Opacity",modelValue:B.opacitySecondary.value,"onUpdate:modelValue":te[22]||(te[22]=z=>B.opacitySecondary.value=z),error:B.opacitySecondary.error,"onUpdate:error":te[23]||(te[23]=z=>B.opacitySecondary.error=z),options:x(ol)},null,8,["modelValue","error","options"]),ae(lr,{ref_key:"colorTertiary",ref:S,name:"colorTertiary",label:"Tertiary Style",modelValue:B.colorTertiary.value,"onUpdate:modelValue":te[24]||(te[24]=z=>B.colorTertiary.value=z),error:B.colorTertiary.error,"onUpdate:error":te[25]||(te[25]=z=>B.colorTertiary.error=z),options:x(pK)},null,8,["modelValue","error","options"]),ae(lr,{ref_key:"opacityTertiary",ref:C,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:B.opacityTertiary.value,"onUpdate:modelValue":te[26]||(te[26]=z=>B.opacityTertiary.value=z),error:B.opacityTertiary.error,"onUpdate:error":te[27]||(te[27]=z=>B.opacityTertiary.error=z),options:x(ol)},null,8,["modelValue","error","options"])]),_:1})):oe("",!0),de.isOpen?(D(),ve(Wh,{key:3,text:"Advanced"},{default:ye(()=>[ae(Jn,{name:"allowedUserNames",label:"Allowed users","model-value":ie.value,"input-props":{disabled:!0}},null,8,["model-value"]),ae(lr,{ref_key:"allowedUsers",ref:M,name:"allowedUserIds",label:"Allowed users",options:I.value.filter(({value:z})=>{var ce;return z!==((ce=x(r))==null?void 0:ce.uid)}),multiple:"","model-value":B.allowedUserIds.value,error:B.allowedUserIds.error,"onUpdate:error":te[28]||(te[28]=z=>B.allowedUserIds.error=z),"onUpdate:arrayValue":te[29]||(te[29]=z=>B.allowedUserIds.value=[...z.length?I.value.filter(({value:ce})=>{var we;return ce===((we=x(r))==null?void 0:we.uid)}).map(ce=>ce.value):[],...z])},null,8,["options","model-value","error"]),ae(Nc,{ref_key:"pinned",ref:$,name:"pinned",label:"Pinned",modelValue:B.pinned.value,"onUpdate:modelValue":te[30]||(te[30]=z=>B.pinned.value=z)},null,8,["modelValue"]),ae(Nc,{ref_key:"locked",ref:O,name:"locked",label:"Locked for commenting",modelValue:B.locked.value,"onUpdate:modelValue":te[31]||(te[31]=z=>B.locked.value=z)},null,8,["modelValue"]),ae(Nc,{ref_key:"archived",ref:J,name:"archived",label:"Archived",modelValue:B.archived.value,"onUpdate:modelValue":te[32]||(te[32]=z=>B.archived.value=z)},null,8,["modelValue"])]),_:1})):oe("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),nz={key:0,class:"grid grid-cols-6 mb-5 gap-5"},rz={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},iz={class:"grid gap-4 md:gap-10 xl:gap-20"},sz={key:2,class:"flex justify-center mt-5"},oz=Ee({__name:"BlogPosts",setup(t){const e=zn(),{deleteBlogPost:n,fetchBlogPosts:r}=e,{blogPosts:i,visibleBlogPosts:s}=Qt(e),{isOwner:o,firebaseUser:a}=Qt(Wn()),l=ue(),u=ue(),c=ue(!1),d=ue(!1),h=ue(null),f=ue(),p=()=>{h.value=null,c.value=!0},m=w=>{h.value=w,c.value=!0},y=w=>{h.value=w,d.value=!0},_=async w=>{await n(w)&&(d.value=!1,h.value=null)},v=()=>{c.value=!1,h.value=null},b=async w=>{var T;i.value.visibility!==w&&(i.value.visibility=w,i.value.isLastPage=!1,s.value.length||await r((T=a.value)==null?void 0:T.uid),df(l.value))},g=async()=>{var T;const w=s.value.length;await r((T=a.value)==null?void 0:T.uid),s.value[w]&&df(u.value[w])};return cn(()=>{var w;return(w=u.value)==null?void 0:w.length},()=>{var w;if((w=u.value)!=null&&w.length&&f.value){const T=s.value.find(O=>O.id===f.value);if(T){const O=s.value.indexOf(T);df(u.value[O]),f.value=void 0}}}),(w,T)=>(D(),X(Ie,null,[ne("div",{ref_key:"container",ref:l},[x(a)?(D(),X("div",nz,[ae(vt,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"orange",outlined:x(i).visibility!=="public",loading:x(i).fetchLoading,onClick:T[0]||(T[0]=O=>b("public"))},{default:ye(()=>[qe(" Public Posts ")]),_:1},8,["outlined","loading"]),x(o)?(D(),ve(vt,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",onClick:p},{default:ye(()=>[qe(" New Post ")]),_:1})):oe("",!0),ae(vt,{type:"orange",class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",outlined:x(i).visibility!=="private",loading:x(i).fetchLoading,onClick:T[1]||(T[1]=O=>b("private"))},{default:ye(()=>[qe(" Private Posts ")]),_:1},8,["outlined","loading"])])):oe("",!0),x(a)?(D(),X("div",rz,[ae(vt,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"orange",outlined:x(i).visibility!=="public",loading:x(i).fetchLoading,onClick:T[2]||(T[2]=O=>b("public"))},{default:ye(()=>[qe(" Public Posts ")]),_:1},8,["outlined","loading"]),ae(vt,{type:"orange",class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",outlined:x(i).visibility!=="private",loading:x(i).fetchLoading,onClick:T[3]||(T[3]=O=>b("private"))},{default:ye(()=>[qe(" Private Posts ")]),_:1},8,["outlined","loading"])])):oe("",!0),ne("div",iz,[x(s).length?(D(!0),X(Ie,{key:0},ut(x(s),O=>(D(),X("div",{key:O.id,ref_for:!0,ref_key:"posts",ref:u},[ae(iO,{post:O,onEditClicked:k=>m(O),onDeleteClicked:k=>y(O)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):x(i).fetchLoading?oe("",!0):(D(),ve(_r,{key:1,class:"!bg-red-900 !bg-opacity-40",title:"No posts"}))]),x(i).isLastPage?oe("",!0):(D(),X("div",sz,[ae(vt,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:x(i).fetchLoading,onClick:g},{default:ye(()=>[qe(" Load more posts ")]),_:1},8,["loading"])]))],512),ae(tz,{isOpen:c.value,selected:h.value,onClose:v,onScrollToUpdated:T[4]||(T[4]=O=>f.value=O)},null,8,["isOpen","selected"]),h.value?(D(),ve(t_,{key:0,title:"Delete Post",isOpen:d.value,description:[` Are you sure you want to delete this post called ' ${h.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:T[5]||(T[5]=O=>_(h.value.id)),onCancel:T[6]||(T[6]=O=>d.value=!1)},null,8,["isOpen","description"])):oe("",!0)],64))}}),az={class:"bg-black text-white shadow-md py-4"},lz={class:"container mx-auto text-center"},uz=Ee({__name:"Footer",setup(t){const{content:e}=Qt(zn());return(n,r)=>(D(),X("footer",az,[ne("div",lz,[ne("p",null,"© "+Qe(new Date().getFullYear()+" "+x(e).footerCopyright),1)])]))}}),cz={class:"flex justify-between"},dz={class:"hidden sm:block w-full sm:min-w-fit"},hz=["src","alt"],fz={class:"w-fit sm:max-w-1/2"},pz={class:"title-primary"},mz={class:"title-secondary"},gz={class:"title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},vz={class:"mt-2 flex items-center whitespace-nowrap me-6"},yz={class:"mt-2 flex items-center whitespace-nowrap"},wz={class:"sm:hidden min-w-fit mt-3"},bz=["src","alt"],mS=Ee({__name:"HeaderTop",setup(t){const{profile:e,content:n}=Qt(zn());return(r,i)=>{const s=$s("RouterLink");return D(),X("div",cz,[ne("div",dz,[ae(s,{to:{name:"home"}},{default:ye(()=>[ne("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:x(n).avatarUrl,alt:x(e).name},null,8,hz)]),_:1})]),ne("div",fz,[ne("h1",pz,Qe(x(e).name),1),ne("h2",mz,Qe(x(e).service),1),ne("div",gz,[ne("div",vz,[ae(x(gK),{class:"mr-1.5 h-5 w-5 text-gray-400"}),qe(" "+Qe(x(e).role),1)]),ne("div",yz,[ae(x(yK),{class:"mr-1.5 h-5 w-5 text-gray-400"}),qe(" "+Qe(x(e).location.city)+", "+Qe(x(e).location.country),1)])])]),ne("div",wz,[ae(s,{to:{name:"home"}},{default:ye(()=>[ne("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:x(n).avatarUrl,alt:x(e).name},null,8,bz)]),_:1})])])}}}),_z=Ee({__name:"DropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=Wn(),{currentUser:n}=Qt(e),{visibleMenuItems:r}=Qt(zn());return(i,s)=>(D(),X(Ie,null,[Ji(ne("div",{class:"md:hidden w-screen h-screen z-10 bg-gray-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Is,i.isOpen]]),Ji(ne("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-gray-900 border border-indigo-600 rounded-xl",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(D(!0),X(Ie,null,ut(x(r),o=>(D(),ve(vt,{class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:o.url,loading:o.loading},{default:ye(()=>[qe(Qe(o.name),1)]),_:2},1032,["url","loading"]))),256)),x(n)?(D(),ve(vt,{key:0,class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:"dashboard"},{default:ye(()=>[qe(" Dashboard ")]),_:1})):oe("",!0),x(n)?(D(),ve(vt,{key:1,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"danger",onClick:x(e).logout},{default:ye(()=>[qe(" Logout ")]),_:1},8,["onClick"])):(D(),ve(vt,{key:2,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"secondary",url:"login"},{default:ye(()=>[qe(" Login ")]),_:1}))],512),[[Is,i.isOpen]])],64))}}),Tz={key:0,class:Oe(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},Ez={class:"group fixed w-full px-10 sm:px-0 sm:relative md:hidden"},Sz={class:"flex justify-between sm:justify-center"},Cz=ne("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),Iz=[Cz],kz=Ee({__name:"Menu",setup(t){const e=Wn(),{currentUser:n,logoutLoading:r}=Qt(e),{visibleMenuItems:i}=Qt(zn()),s=ue(),o=ue(!1),a=()=>{o.value=!o.value,o.value&&Rr(()=>{var l;(l=s.value)==null||l.scrollIntoView({behavior:"smooth",block:"center"})})};return(l,u)=>x(i).length?(D(),X("div",Tz,[(D(!0),X(Ie,null,ut(x(i),c=>(D(),ve(vt,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",outlined:"",url:c.url,loading:c.loading},{default:ye(()=>[qe(Qe(c.name),1)]),_:2},1032,["url","loading"]))),256)),x(n)?oe("",!0):(D(),ve(vt,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"secondary",outlined:"",url:"login"},{default:ye(()=>[qe(" Login ")]),_:1})),x(n)?(D(),ve(vt,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:x(r),onClick:x(e).logout},{default:ye(()=>[qe(" Logout ")]),_:1},8,["loading","onClick"])):oe("",!0),ne("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[ne("div",Ez,[ne("div",{class:Oe(["flex animation",o.value?"justify-center":"justify-end"])},[ae(vt,{class:Oe(["sm:w-full bg-black bg-opacity-50 sm:bg-transparent",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",onClick:a},{default:ye(()=>[ne("div",Sz,[ae(bp,{rotate:o.value,class:Oe(["group-hover:block",o.value?"block":"hidden"])},null,8,["rotate","class"]),ne("p",{class:Oe(["sm:block group-hover:block",o.value?"block":"hidden"])},"Menu",2),(D(),X("svg",{class:Oe(["h-6 sm:hidden group-hover:hidden",o.value?"hidden":null]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Iz,2))])]),_:1},8,["class"])],2)]),ae(_z,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):oe("",!0)}}),Az={class:Oe(["w-fit md:w-1/3","mb-8 py-8 bg-transparent text-indigo-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-black sm:bg-opacity-50 sm:rounded-3xl sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-3xl lg:rounded-t-none"])},xz={key:0,class:"hidden sm:flex justify-center mb-4"},Pz={class:"hidden md:block w-4/5 space-y-2"},Dz={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},Rz={class:"flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},Oz={key:1},Nz={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},Mz={class:"font-semibold text-base first:font-bold first:text-lg"},Lz=Ee({__name:"PersonCard",setup(t){const{currentUser:e}=Qt(Wn()),{content:n}=Qt(zn());return(r,i)=>{const s=$s("RouterLink");return D(),X("div",Az,[x(e)?(D(),X("div",xz,[ne("div",Pz,[(D(!0),X(Ie,null,ut(x(n).headerDescriptionUser,o=>(D(),X("p",Dz,Qe(o.replace("%USER%",x(e).firstName+(x(e).lastName?" "+x(e).lastName:""))),1))),256))]),ne("div",Rz,[ae(s,{to:{name:"dashboard"}},{default:ye(()=>[ae(x(wK),{class:"w-16 h-16 rounded-full border-2 text-indigo-600 border-indigo-600 animation-scale"})]),_:1})])])):(D(),X("div",Oz,[ne("div",Nz,[(D(!0),X(Ie,null,ut(x(n).headerDescriptionGuest,o=>(D(),X("p",Mz,Qe(o),1))),256))])])),ae(kz)])}}}),$z={class:"sm:flex sm:items-start sm:justify-between mb-20"},Uz={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},Fz=Ee({__name:"Header",setup(t){return(e,n)=>(D(),X("div",$z,[ae(mS,{class:"hidden sm:block"}),ne("div",Uz,[ae(Lz,{class:Oe(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto"])})]),ae(mS,{class:"sm:hidden"})]))}}),Vz={class:"min-h-screen bg-gradient-to-t from-black to-blue-900 via-gray-800"},Bz={class:"mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-3xl text-white bg-blue-gray-900 bg-opacity-50 bg-gradient-to-b from-transparent to-black via-purple-900 border-opacity-100"},Vo=Ee({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=nw(),r=ue(),i=()=>{e.scrollToContent&&df(r.value)};return cn(()=>n.fullPath,()=>{i()}),Jt(()=>{i()}),(s,o)=>(D(),X(Ie,null,[ne("div",Vz,[ne("div",Bz,[ne("header",null,[s.$slots.header?xe(s.$slots,"header",{key:0}):(D(),ve(Fz,{key:1}))]),ne("main",null,[ne("div",{ref_key:"content",ref:r},[xe(s.$slots,"content")],512)])])]),ne("footer",null,[s.$slots.footer?xe(s.$slots,"footer",{key:0}):(D(),ve(uz,{key:1}))])],64))}}),jz={class:"grid mt-10 md:mt-15"},Hz={class:"grid justify-center"},Wz={class:"text-lg md:text-xl text-white"},Kz=["innerHTML"],Yz={class:"grid my-5 xl:mx-20"},zz=Ee({__name:"Blog",setup(t){const{publicUser:e}=Qt(Wn()),{menuItems:n,content:r}=Qt(zn()),i=re(()=>window.location.hash),s=nw();return(o,a)=>(D(),ve(Vo,{"scroll-to-content":!i.value},{content:ye(()=>{var l;return[ne("div",jz,[ne("div",Hz,[(D(!0),X(Ie,null,ut(x(e)?[...x(r).blogDescriptionUser.map(u=>u.replace("%USER%",x(e).displayName||"Unknown user")),...((l=x(n).find(u=>u.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:l.description)||[]]:x(r).blogDescriptionGuest,u=>(D(),X("h1",Wz,[ne("span",{innerHTML:u},null,8,Kz)]))),256))]),ne("div",Yz,[x(s).params.postId?(D(),ve(wY,{key:0})):(D(),ve(oz,{key:1}))])])]}),_:1},8,["scroll-to-content"]))}}),Gz=Ee({__name:"Blog",setup(t){return(e,n)=>(D(),ve(zz))}}),qz={class:"flex flex-col items-center content-center"},Qz=Ee({__name:"CatCalc",setup(t){const e=Ln({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"Nederlandse Voedsel- en Warenautoriteit"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=re(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(w,T)=>{const k=o[w].sort((C,H)=>C.weight-H.weight);let A=k[k.length-2].weight,S=k[k.length-2].calories,L=k[k.length-1].weight,U=k[k.length-1].calories;for(let C=0;C<k.length-1;C++)if(T>=k[C].weight&&T<=k[C+1].weight){A=k[C].weight,S=k[C].calories,L=k[C+1].weight,U=k[C+1].calories;break}return{x1:A,y1:S,x2:L,y2:U}},l=(w,T)=>{const{x1:O,y1:k,x2:A,y2:S}=a(w,T);return k+(T-O)*(S-k)/(A-O)},u=()=>{const w=new Map;for(const k of Object.values(o).filter(A=>A!==o.average))for(const{weight:A,calories:S}of k)w.has(A)||w.set(A,{sum:0,count:0}),w.get(A).sum+=S,w.get(A).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(k=>w.has(k)).map(k=>({weight:k,calories:w.get(k).sum/w.get(k).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40}],f=re(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=re(()=>{var w;return f.value*(((w=r.find(T=>T.value===e.catAge.value))==null?void 0:w.rerIndex)??1)}),m=re(()=>{var w;return p.value*(((w=s.value.find(T=>T.value===e.catSize.value))==null?void 0:w.factor)??1)}),y=re(()=>{const w=h.find(T=>T.value===e.catFoodSnax.value);return w!=null&&w.calories?m.value*(Number(e.catFoodSnaxPercentage.value)/100)/w.calories:void 0}),_=re(()=>m.value*(1-Number(y.value?e.catFoodSnaxPercentage.value:0)/100)),v=re(()=>{const w=d.find(T=>T.value===e.catFoodWet.value);return w!=null&&w.calories?_.value/4/w.calories*100:void 0}),b=re(()=>_.value/4*(v.value?3:4)),g=re(()=>{var w;return b.value/(((w=c.find(T=>T.value===e.catFoodDry.value))==null?void 0:w.calories)??c[0].calories)*100});return(w,T)=>(D(),ve(Vo,null,{content:ye(()=>[ae(_r,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:ye(()=>{var O;return[ne("div",qz,[ae(lr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":T[0]||(T[0]=k=>e.calculator.value=k),error:e.calculator.error,"onUpdate:error":T[1]||(T[1]=k=>e.calculator.error=k),options:n,rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ae(Jn,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":T[2]||(T[2]=k=>e.catWeigth.value=k),error:e.catWeigth.error,"onUpdate:error":T[3]||(T[3]=k=>e.catWeigth.error=k),rules:[x(Et).Required,x(Et).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),ae(lr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":T[4]||(T[4]=k=>e.catAge.value=k),error:e.catAge.error,"onUpdate:error":T[5]||(T[5]=k=>e.catAge.error=k),options:r,rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ae(lr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":T[6]||(T[6]=k=>e.catGender.value=k),error:e.catGender.error,"onUpdate:error":T[7]||(T[7]=k=>e.catGender.error=k),options:i,rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ae(lr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":T[8]||(T[8]=k=>e.catSize.value=k),error:e.catSize.error,"onUpdate:error":T[9]||(T[9]=k=>e.catSize.error=k),options:s.value,rules:[x(Et).Required]},null,8,["modelValue","error","options","rules"]),ae(_r,{class:"w-full md:w-1/2 border border-gray-400",description:"Required energy per day: "+m.value.toFixed(1)+" kcal"},null,8,["description"]),ae(lr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":T[10]||(T[10]=k=>e.catFoodDry.value=k),error:e.catFoodDry.error,"onUpdate:error":T[11]||(T[11]=k=>e.catFoodDry.error=k),options:c,rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ae(lr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":T[12]||(T[12]=k=>e.catFoodWet.value=k),error:e.catFoodWet.error,"onUpdate:error":T[13]||(T[13]=k=>e.catFoodWet.error=k),options:d,rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ae(lr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":T[14]||(T[14]=k=>e.catFoodSnax.value=k),error:e.catFoodSnax.error,"onUpdate:error":T[15]||(T[15]=k=>e.catFoodSnax.error=k),options:h,rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(D(),ve(Jn,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":T[16]||(T[16]=k=>e.catFoodSnaxPercentage.value=k),error:e.catFoodSnaxPercentage.error,"onUpdate:error":T[17]||(T[17]=k=>e.catFoodSnaxPercentage.error=k),rules:[x(Et).Required,x(Et).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):oe("",!0),ae(_r,{class:"w-full md:w-1/2 border border-gray-400",title:"Result","sub-title":"Based on constants from "+((O=n.find(k=>k.value===e.calculator.value))==null?void 0:O.label),description:["Required dry food per day: "+g.value.toFixed(1)+" g","","","Required dry food per meal: "+(g.value/(v.value?2:3)).toFixed(1)+" g",...v.value?["Required wet food per day: "+v.value.toFixed(1)+" g"]:[],...y.value?["Allowed snacks per day: "+y.value.toFixed(y.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),Xz=Ee({__name:"CatCalc",setup(t){return(e,n)=>(D(),ve(Qz))}}),Jz={class:"min-w-0 flex-1"},Zz=ne("img",{class:"w-48 h-48 rounded-full animation-scale mb-4 cursor-pointer",src:"https://www.spigotmc.org/data/resource_icons/28/28103.jpg?1472586104",alt:"customvoting"},null,-1),eG=Ee({__name:"CustomVoting",setup(t){return(e,n)=>{const r=$s("RouterLink");return D(),ve(Vo,null,{header:ye(()=>[ne("div",Jz,[ae(r,{to:{name:"home"}},{default:ye(()=>[Zz]),_:1})])]),content:ye(()=>[ae(_r,{class:"!bg-yellow-700 !bg-opacity-50 my-5",title:"CustomVoting",description:"In Progress"})]),_:1})}}}),tG=Ee({__name:"CustomVoting",setup(t){return(e,n)=>(D(),ve(eG))}}),nG={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-primary"},rG={class:"m-1 lg:w-4/5"},n_=Ee({__name:"Privacy",setup(t){const{content:e}=Qt(zn());return(n,r)=>(D(),X("div",nG,[(D(!0),X(Ie,null,ut(x(e).privacyStatement,i=>(D(),X("p",rG,Qe(i),1))),256))]))}}),r_=Ee({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=re({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=re({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(D(),ve(Jn,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,x(Et).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),Il=Ee({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=re({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=re({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(D(),ve(Jn,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),iG={class:"flex flex-wrap pt-6 pb-8 mb-4"},sG={class:"basis-full lg:basis-1/2"},oG={class:"flex gap-3 mt-10 flex-wrap"},aG={class:"basis-full lg:basis-1/2"},lG={class:"flex flex-col items-center content-center"},uG=Ee({__name:"Dashboard",setup(t){const e=Wn(),{currentUser:n,firebaseUser:r,publicUser:i,isOwner:s,mutationLoading:o}=Qt(e),a=zn(),{fetchAll:l}=a,{content:u,online:c,debug:d}=Qt(a),h=ue(!1),f=ue(),p=ue(),m=ue(),y=ue(),_=ue(),v=ue(),b=ue(),g=ue(),w=Ln({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),T=re(()=>({firstName:w.firstName.value,lastName:w.lastName.value})),O=re(()=>({displayName:w.displayName.value,avatar:w.avatar.value})),k=re(()=>!!i.value&&!Di(o0.convert(i.value),O.value)),A=re(()=>{var U;return w.email.value!==((U=r.value)==null?void 0:U.email)}),S=re(()=>{const U=[];return Di(n.value,T.value)||U.push("Details"),k.value&&U.push("Public Profile"),A.value&&U.push("E-mail"),w.newPassword.value&&U.push("Password"),U.length?"Save "+Hy(U):void 0}),L=async()=>{var U;Object.keys(w).forEach(C=>w[C].error=""),w.newPassword.value&&(await Promise.all([_.value.test(),v.value.test(),b.value.test()]),!w.newPassword.error&&!w.currentPassword.error&&!w.repeatPassword.error&&(await e.updatePassword(w.newPassword.value,w.currentPassword.value),w.newPassword.value="",w.currentPassword.value="")),k.value&&(await m.value.test(),!w.displayName.error&&!w.avatar.error&&e.updatePublicUser({displayName:w.displayName.value,avatar:w.avatar.value})),A.value&&(await Promise.all([y.value.test(),v.value.test()]),!w.email.error&&!w.currentPassword.error&&(await e.updateMail(w.email.value,w.currentPassword.value),w.currentPassword.value="")),Di(n.value,T.value)||(await Promise.all([f.value.test(),p.value.test()]),!w.firstName.error&&!w.lastName.error&&e.updateUser({firstName:w.firstName.value,lastName:w.lastName.value})),await l((U=r.value)==null?void 0:U.uid,!0)};return RC(()=>{var U,C,H,M,N;w.firstName.value=((U=n.value)==null?void 0:U.firstName)||"",w.lastName.value=((C=n.value)==null?void 0:C.lastName)||"",w.displayName.value=((H=i.value)==null?void 0:H.displayName)||"",w.email.value=((M=r.value)==null?void 0:M.email)||"",w.avatar.value=((N=i.value)==null?void 0:N.avatar)||""}),(U,C)=>(D(),ve(Vo,null,{content:ye(()=>[x(n)&&x(r)?(D(),ve(_r,{key:0,class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Welcome "+x(n).firstName+(x(n).lastName?" "+x(n).lastName:""),description:x(u).dashboardDescription},{default:ye(()=>[ne("div",iG,[ne("div",sG,[ne("form",{onSubmit:C[19]||(C[19]=Pt(H=>L(),["prevent"]))},[ae(Jn,{name:"accountType",label:"Account Type","model-value":x(s)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),ae(Jn,{ref_key:"firstName",ref:f,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:w.firstName.value,"onUpdate:modelValue":C[0]||(C[0]=H=>w.firstName.value=H),error:w.firstName.error,"onUpdate:error":C[1]||(C[1]=H=>w.firstName.error=H),rules:[x(Et).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),ae(Jn,{ref_key:"lastName",ref:p,name:"lastName",label:"Last Name",modelValue:w.lastName.value,"onUpdate:modelValue":C[2]||(C[2]=H=>w.lastName.value=H),error:w.lastName.error,"onUpdate:error":C[3]||(C[3]=H=>w.lastName.error=H),"min-length":3,"max-length":50},null,8,["modelValue","error"]),ae(Jn,{ref_key:"displayName",ref:m,name:"displayName",label:"Public Username",modelValue:w.displayName.value,"onUpdate:modelValue":C[4]||(C[4]=H=>w.displayName.value=H),error:w.displayName.error,"onUpdate:error":C[5]||(C[5]=H=>w.displayName.error=H),rules:[x(Et).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),ae(r_,{ref_key:"email",ref:y,name:"email",label:"E-mail",modelValue:w.email.value,"onUpdate:modelValue":C[6]||(C[6]=H=>w.email.value=H),error:w.email.error,"onUpdate:error":C[7]||(C[7]=H=>w.email.error=H),rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),A.value?(D(),ve(Il,{key:0,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":C[8]||(C[8]=H=>w.currentPassword.value=H),error:w.currentPassword.error,"onUpdate:error":C[9]||(C[9]=H=>w.currentPassword.error=H),rules:[x(Et).Required]},null,8,["modelValue","error","rules"])):oe("",!0),ae(Il,{ref_key:"newPassword",ref:_,name:"newPassword",label:"New Password",modelValue:w.newPassword.value,"onUpdate:modelValue":C[10]||(C[10]=H=>w.newPassword.value=H),error:w.newPassword.error,"onUpdate:error":C[11]||(C[11]=H=>w.newPassword.error=H),min:6,max:50},null,8,["modelValue","error"]),w.newPassword.value?(D(),ve(Il,{key:1,ref_key:"repeatPassword",ref:b,name:"repeatPassword",label:"Repeat New Password",modelValue:w.repeatPassword.value,"onUpdate:modelValue":C[12]||(C[12]=H=>w.repeatPassword.value=H),error:w.repeatPassword.error,"onUpdate:error":C[13]||(C[13]=H=>w.repeatPassword.error=H),rules:[x(Et).Required],compare:{value:w.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):oe("",!0),w.newPassword.value&&!A.value?(D(),ve(Il,{key:2,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":C[14]||(C[14]=H=>w.currentPassword.value=H),error:w.currentPassword.error,"onUpdate:error":C[15]||(C[15]=H=>w.currentPassword.error=H),rules:[x(Et).Required]},null,8,["modelValue","error","rules"])):oe("",!0),ne("div",oG,[S.value?(D(),ve(vt,{key:0,class:"w-full",action:"submit",loading:x(o)},{default:ye(()=>[qe(Qe(S.value),1)]),_:1},8,["loading"])):oe("",!0),x(s)?oe("",!0):(D(),ve(vt,{key:1,class:"w-full",type:"danger",outlined:"",onClick:C[16]||(C[16]=H=>h.value=!0)},{default:ye(()=>[qe(" Delete account ")]),_:1}))]),x(s)?(D(),ve(Nc,{key:3,name:"online",label:"Online",modelValue:x(c),"onUpdate:modelValue":C[17]||(C[17]=H=>Gt(c)?c.value=H:null)},null,8,["modelValue"])):oe("",!0),x(s)?(D(),ve(Nc,{key:4,name:"debug",label:"Debug",modelValue:x(d),"onUpdate:modelValue":C[18]||(C[18]=H=>Gt(d)?d.value=H:null)},null,8,["modelValue"])):oe("",!0)],32)]),ne("div",aG,[ae(a0,{ref_key:"avatar",ref:g,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:w.avatar.value,"onUpdate:modelValue":C[20]||(C[20]=H=>w.avatar.value=H),error:w.avatar.error,"onUpdate:error":C[21]||(C[21]=H=>w.avatar.error=H),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])])]),ne("div",lG,[ae(n_)])]),_:1},8,["title","description"])):oe("",!0),ae(t_,{title:"Delete Account",isOpen:h.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:C[22]||(C[22]=H=>x(e).deleteAccount()),onCancel:C[23]||(C[23]=H=>h.value=!1)},null,8,["isOpen","description"])]),_:1}))}}),cG=Ee({__name:"Dashboard",setup(t){return(e,n)=>(D(),ve(uG))}});var dG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var aO={exports:{}};const fG=oO(uL);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function as(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){pG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gf=function(e){return typeof e}:gf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function pG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yi(){return yi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi.apply(this,arguments)}function mG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gG(t,e){if(t==null)return{};var n=mG(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vG(t){return yG(t)||wG(t)||bG(t)||_G()}function yG(t){if(Array.isArray(t))return l0(t)}function wG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bG(t,e){if(t){if(typeof t=="string")return l0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l0(t,e)}}function l0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var TG="1.14.0";function Ps(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Bs=Ps(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),sh=Ps(/Edge/i),vS=Ps(/firefox/i),Mc=Ps(/safari/i)&&!Ps(/chrome/i)&&!Ps(/android/i),lO=Ps(/iP(ad|od|hone)/i),EG=Ps(/chrome/i)&&Ps(/android/i),uO={capture:!1,passive:!1};function mt(t,e,n){t.addEventListener(e,n,!Bs&&uO)}function ht(t,e,n){t.removeEventListener(e,n,!Bs&&uO)}function _p(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function SG(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Si(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&_p(t,e):_p(t,e))||r&&t===n)return t;if(t===n)break}while(t=SG(t))}return null}var yS=/\s+/g;function fn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(yS," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(yS," ")}}function He(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function va(t,e){var n="";if(typeof t=="string")n=t;else do{var r=He(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function cO(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function ns(){var t=document.scrollingElement;return t||document.documentElement}function un(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==ns()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Bs))do if(i&&i.getBoundingClientRect&&(He(i,"transform")!=="none"||n&&He(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(He(i,"border-top-width")),a-=h.left+parseInt(He(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var f=va(i||t),p=f&&f.a,m=f&&f.d;f&&(o/=m,a/=p,d/=p,c/=m,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function wS(t,e,n){for(var r=uo(t,!0),i=un(t)[e];r;){var s=un(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===ns())break;r=uo(r,!1)}return!1}function du(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==tt.ghost&&(r||o[s]!==tt.dragged)&&Si(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function i_(t,e){for(var n=t.lastElementChild;n&&(n===tt.ghost||He(n,"display")==="none"||e&&!_p(n,e));)n=n.previousElementSibling;return n||null}function yn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==tt.clone&&(!e||_p(t,e))&&n++;return n}function bS(t){var e=0,n=0,r=ns();if(t)do{var i=va(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function CG(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function uo(t,e){if(!t||!t.getBoundingClientRect)return ns();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=He(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ns();if(r||e)return n;r=!0}}while(n=n.parentNode);return ns()}function IG(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function tv(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Lc;function dO(t,e){return function(){if(!Lc){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Lc=setTimeout(function(){Lc=void 0},e)}}}function kG(){clearTimeout(Lc),Lc=void 0}function hO(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function s_(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function _S(t,e){He(t,"position","absolute"),He(t,"top",e.top),He(t,"left",e.left),He(t,"width",e.width),He(t,"height",e.height)}function nv(t){He(t,"position",""),He(t,"top",""),He(t,"left",""),He(t,"width",""),He(t,"height","")}var pr="Sortable"+new Date().getTime();function AG(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(He(i,"display")==="none"||i===tt.ghost)){t.push({target:i,rect:un(i)});var s=as({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=va(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(CG(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=un(u),h=u.prevFromRect,f=u.prevToRect,p=a.rect,m=va(u,!0);m&&(d.top-=m.f,d.left-=m.e),u.toRect=d,u.thisAnimationDuration&&tv(h,d)&&!tv(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=PG(p,h,f,i.options)),tv(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){He(r,"transition",""),He(r,"transform","");var a=va(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,He(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=xG(r),He(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),He(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){He(r,"transition",""),He(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function xG(t){return t.offsetWidth}function PG(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var al=[],rv={initializeByDefault:!0},oh={mount:function(e){for(var n in rv)rv.hasOwnProperty(n)&&!(n in e)&&(e[n]=rv[n]);al.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),al.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";al.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](as({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](as({sortable:n},r)))})},initializePlugins:function(e,n,r,i){al.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,yi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return al.forEach(function(i){typeof i.eventProperties=="function"&&yi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return al.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function dc(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[pr],!!e){var m,y=e.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Bs&&!sh?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=f?f.lastPutMode:void 0;var v=as(as({},p),oh.getEventProperties(r,e));for(var b in v)m[b]=v[b];n&&n.dispatchEvent(m),y[_]&&y[_].call(e,m)}}var DG=["evt"],Mr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=gG(r,DG);oh.pluginEvent.bind(tt)(e,n,as({dragEl:Te,parentEl:gn,ghostEl:lt,rootEl:ln,nextEl:Qo,lastDownEl:vf,cloneEl:vn,cloneHidden:lo,dragStarted:hc,putSortable:Qn,activeSortable:tt.active,originalEvent:i,oldIndex:kl,oldDraggableIndex:$c,newIndex:Qr,newDraggableIndex:no,hideGhostForTarget:gO,unhideGhostForTarget:vO,cloneNowHidden:function(){lo=!0},cloneNowShown:function(){lo=!1},dispatchSortableEvent:function(a){Ir({sortable:n,name:a,originalEvent:i})}},s))};function Ir(t){dc(as({putSortable:Qn,cloneEl:vn,targetEl:Te,rootEl:ln,oldIndex:kl,oldDraggableIndex:$c,newIndex:Qr,newDraggableIndex:no},t))}var Te,gn,lt,ln,Qo,vf,vn,lo,kl,Qr,$c,no,zh,Qn,wl=!1,Tp=!1,Ep=[],Yo,bi,iv,sv,TS,ES,hc,ll,Uc,Fc=!1,Gh=!1,yf,ar,ov=[],u0=!1,Sp=[],Gm=typeof document<"u",qh=lO,SS=sh||Bs?"cssFloat":"float",RG=Gm&&!EG&&!lO&&"draggable"in document.createElement("div"),fO=function(){if(Gm){if(Bs)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),pO=function(e,n){var r=He(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=du(e,0,n),o=du(e,1,n),a=s&&He(s),l=o&&He(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+un(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+un(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[SS]==="none"||o&&r[SS]==="none"&&u+c>i)?"vertical":"horizontal"},OG=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},NG=function(e,n){var r;return Ep.some(function(i){var s=i[pr].options.emptyInsertThreshold;if(!(!s||i_(i))){var o=un(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},mO=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||gf(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},gO=function(){!fO&&lt&&He(lt,"display","none")},vO=function(){!fO&&lt&&He(lt,"display","")};Gm&&document.addEventListener("click",function(t){if(Tp)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Tp=!1,!1},!0);var zo=function(e){if(Te){e=e.touches?e.touches[0]:e;var n=NG(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[pr]._onDragOver(r)}}},MG=function(e){Te&&Te.parentNode[pr]._isOutsideThisEl(e.target)};function tt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=yi({},e),t[pr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return pO(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:tt.supportPointer!==!1&&"PointerEvent"in window&&!Mc,emptyInsertThreshold:5};oh.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);mO(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:RG,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?mt(t,"pointerdown",this._onTapStart):(mt(t,"mousedown",this._onTapStart),mt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(mt(t,"dragover",this),mt(t,"dragenter",this)),Ep.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),yi(this,AG())}tt.prototype={constructor:tt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ll=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Te):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(HG(r),!Te&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Mc&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Si(l,i.draggable,r,!1),!(l&&l.animated)&&vf!==l)){if(kl=yn(l),$c=yn(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Ir({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),Mr("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Si(u,d.trim(),r,!1),d)return Ir({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),Mr("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Si(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!Te&&r.parentNode===s){var u=un(r);if(ln=s,Te=r,gn=Te.parentNode,Qo=Te.nextSibling,vf=r,zh=o.group,tt.dragged=Te,Yo={target:Te,clientX:(n||e).clientX,clientY:(n||e).clientY},TS=Yo.clientX-u.left,ES=Yo.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Te.style["will-change"]="all",l=function(){if(Mr("delayEnded",i,{evt:e}),tt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!vS&&i.nativeDraggable&&(Te.draggable=!0),i._triggerDragStart(e,n),Ir({sortable:i,name:"choose",originalEvent:e}),fn(Te,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){cO(Te,c.trim(),av)}),mt(a,"dragover",zo),mt(a,"mousemove",zo),mt(a,"touchmove",zo),mt(a,"mouseup",i._onDrop),mt(a,"touchend",i._onDrop),mt(a,"touchcancel",i._onDrop),vS&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Te.draggable=!0),Mr("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(sh||Bs))){if(tt.eventCanceled){this._onDrop();return}mt(a,"mouseup",i._disableDelayedDrag),mt(a,"touchend",i._disableDelayedDrag),mt(a,"touchcancel",i._disableDelayedDrag),mt(a,"mousemove",i._delayedDragTouchMoveHandler),mt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&mt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Te&&av(Te),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ht(e,"mouseup",this._disableDelayedDrag),ht(e,"touchend",this._disableDelayedDrag),ht(e,"touchcancel",this._disableDelayedDrag),ht(e,"mousemove",this._delayedDragTouchMoveHandler),ht(e,"touchmove",this._delayedDragTouchMoveHandler),ht(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?mt(document,"pointermove",this._onTouchMove):n?mt(document,"touchmove",this._onTouchMove):mt(document,"mousemove",this._onTouchMove):(mt(Te,"dragend",this),mt(ln,"dragstart",this._onDragStart));try{document.selection?wf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(wl=!1,ln&&Te){Mr("dragStarted",this,{evt:n}),this.nativeDraggable&&mt(document,"dragover",MG);var r=this.options;!e&&fn(Te,r.dragClass,!1),fn(Te,r.ghostClass,!0),tt.active=this,e&&this._appendGhost(),Ir({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(bi){this._lastX=bi.clientX,this._lastY=bi.clientY,gO();for(var e=document.elementFromPoint(bi.clientX,bi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(bi.clientX,bi.clientY),e!==n);)n=e;if(Te.parentNode[pr]._isOutsideThisEl(e),n)do{if(n[pr]){var r=void 0;if(r=n[pr]._onDragOver({clientX:bi.clientX,clientY:bi.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);vO()}},_onTouchMove:function(e){if(Yo){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=lt&&va(lt,!0),a=lt&&o&&o.a,l=lt&&o&&o.d,u=qh&&ar&&bS(ar),c=(s.clientX-Yo.clientX+i.x)/(a||1)+(u?u[0]-ov[0]:0)/(a||1),d=(s.clientY-Yo.clientY+i.y)/(l||1)+(u?u[1]-ov[1]:0)/(l||1);if(!tt.active&&!wl){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(lt){o?(o.e+=c-(iv||0),o.f+=d-(sv||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");He(lt,"webkitTransform",h),He(lt,"mozTransform",h),He(lt,"msTransform",h),He(lt,"transform",h),iv=c,sv=d,bi=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!lt){var e=this.options.fallbackOnBody?document.body:ln,n=un(Te,!0,qh,!0,e),r=this.options;if(qh){for(ar=e;He(ar,"position")==="static"&&He(ar,"transform")==="none"&&ar!==document;)ar=ar.parentNode;ar!==document.body&&ar!==document.documentElement?(ar===document&&(ar=ns()),n.top+=ar.scrollTop,n.left+=ar.scrollLeft):ar=ns(),ov=bS(ar)}lt=Te.cloneNode(!0),fn(lt,r.ghostClass,!1),fn(lt,r.fallbackClass,!0),fn(lt,r.dragClass,!0),He(lt,"transition",""),He(lt,"transform",""),He(lt,"box-sizing","border-box"),He(lt,"margin",0),He(lt,"top",n.top),He(lt,"left",n.left),He(lt,"width",n.width),He(lt,"height",n.height),He(lt,"opacity","0.8"),He(lt,"position",qh?"absolute":"fixed"),He(lt,"zIndex","100000"),He(lt,"pointerEvents","none"),tt.ghost=lt,e.appendChild(lt),He(lt,"transform-origin",TS/parseInt(lt.style.width)*100+"% "+ES/parseInt(lt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(Mr("dragStart",this,{evt:e}),tt.eventCanceled){this._onDrop();return}Mr("setupClone",this),tt.eventCanceled||(vn=s_(Te),vn.draggable=!1,vn.style["will-change"]="",this._hideClone(),fn(vn,this.options.chosenClass,!1),tt.clone=vn),r.cloneId=wf(function(){Mr("clone",r),!tt.eventCanceled&&(r.options.removeCloneOnHide||ln.insertBefore(vn,Te),r._hideClone(),Ir({sortable:r,name:"clone"}))}),!n&&fn(Te,s.dragClass,!0),n?(Tp=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ht(document,"mouseup",r._onDrop),ht(document,"touchend",r._onDrop),ht(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,Te)),mt(document,"drop",r),He(Te,"transform","translateZ(0)")),wl=!0,r._dragStartId=wf(r._dragStarted.bind(r,n,e)),mt(document,"selectstart",r),hc=!0,Mc&&He(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=tt.active,c=zh===l,d=a.sort,h=Qn||u,f,p=this,m=!1;if(u0)return;function y(J,$){Mr(J,p,as({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:r,completed:v,onMove:function(Z,ie){return Qh(ln,n,Te,i,Z,un(Z),e,ie)},changed:b},$))}function _(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function v(J){return y("dragOverCompleted",{insertion:J}),J&&(c?u._hideClone():u._showClone(p),p!==h&&(fn(Te,Qn?Qn.options.ghostClass:u.options.ghostClass,!1),fn(Te,a.ghostClass,!0)),Qn!==p&&p!==tt.active?Qn=p:p===tt.active&&Qn&&(Qn=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Te&&!Te.animated||r===n&&!r.animated)&&(ll=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Te.parentNode[pr]._isOutsideThisEl(e.target),!J&&zo(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function b(){Qr=yn(Te),no=yn(Te,a.draggable),Ir({sortable:p,name:"change",toEl:n,newIndex:Qr,newDraggableIndex:no,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Si(r,a.draggable,n,!0),y("dragOver"),tt.eventCanceled)return m;if(Te.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return v(!1);if(Tp=!1,u&&!a.disabled&&(c?d||(o=gn!==ln):Qn===this||(this.lastPutMode=zh.checkPull(this,u,Te,e))&&l.checkPut(this,u,Te,e))){if(f=this._getDirection(e,r)==="vertical",i=un(Te),y("dragOverValid"),tt.eventCanceled)return m;if(o)return gn=ln,_(),this._hideClone(),y("revert"),tt.eventCanceled||(Qo?ln.insertBefore(Te,Qo):ln.appendChild(Te)),v(!0);var g=i_(n,a.draggable);if(!g||FG(e,f,this)&&!g.animated){if(g===Te)return v(!1);if(g&&n===e.target&&(r=g),r&&(s=un(r)),Qh(ln,n,Te,i,r,s,e,!!r)!==!1)return _(),n.appendChild(Te),gn=n,b(),v(!0)}else if(g&&UG(e,f,this)){var w=du(n,0,a,!0);if(w===Te)return v(!1);if(r=w,s=un(r),Qh(ln,n,Te,i,r,s,e,!1)!==!1)return _(),n.insertBefore(Te,w),gn=n,b(),v(!0)}else if(r.parentNode===n){s=un(r);var T=0,O,k=Te.parentNode!==n,A=!OG(Te.animated&&Te.toRect||i,r.animated&&r.toRect||s,f),S=f?"top":"left",L=wS(r,"top","top")||wS(Te,"top","top"),U=L?L.scrollTop:void 0;ll!==r&&(O=s[S],Fc=!1,Gh=!A&&a.invertSwap||k),T=VG(e,r,s,f,A?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Gh,ll===r);var C;if(T!==0){var H=yn(Te);do H-=T,C=gn.children[H];while(C&&(He(C,"display")==="none"||C===lt))}if(T===0||C===r)return v(!1);ll=r,Uc=T;var M=r.nextElementSibling,N=!1;N=T===1;var W=Qh(ln,n,Te,i,r,s,e,N);if(W!==!1)return(W===1||W===-1)&&(N=W===1),u0=!0,setTimeout($G,30),_(),N&&!M?n.appendChild(Te):r.parentNode.insertBefore(Te,N?M:r),L&&hO(L,0,U-L.scrollTop),gn=Te.parentNode,O!==void 0&&!Gh&&(yf=Math.abs(O-un(r)[S])),b(),v(!0)}if(n.contains(Te))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ht(document,"mousemove",this._onTouchMove),ht(document,"touchmove",this._onTouchMove),ht(document,"pointermove",this._onTouchMove),ht(document,"dragover",zo),ht(document,"mousemove",zo),ht(document,"touchmove",zo)},_offUpEvents:function(){var e=this.el.ownerDocument;ht(e,"mouseup",this._onDrop),ht(e,"touchend",this._onDrop),ht(e,"pointerup",this._onDrop),ht(e,"touchcancel",this._onDrop),ht(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Qr=yn(Te),no=yn(Te,r.draggable),Mr("drop",this,{evt:e}),gn=Te&&Te.parentNode,Qr=yn(Te),no=yn(Te,r.draggable),tt.eventCanceled){this._nulling();return}wl=!1,Gh=!1,Fc=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),c0(this.cloneId),c0(this._dragStartId),this.nativeDraggable&&(ht(document,"drop",this),ht(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Mc&&He(document.body,"user-select",""),He(Te,"transform",""),e&&(hc&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),lt&&lt.parentNode&&lt.parentNode.removeChild(lt),(ln===gn||Qn&&Qn.lastPutMode!=="clone")&&vn&&vn.parentNode&&vn.parentNode.removeChild(vn),Te&&(this.nativeDraggable&&ht(Te,"dragend",this),av(Te),Te.style["will-change"]="",hc&&!wl&&fn(Te,Qn?Qn.options.ghostClass:this.options.ghostClass,!1),fn(Te,this.options.chosenClass,!1),Ir({sortable:this,name:"unchoose",toEl:gn,newIndex:null,newDraggableIndex:null,originalEvent:e}),ln!==gn?(Qr>=0&&(Ir({rootEl:gn,name:"add",toEl:gn,fromEl:ln,originalEvent:e}),Ir({sortable:this,name:"remove",toEl:gn,originalEvent:e}),Ir({rootEl:gn,name:"sort",toEl:gn,fromEl:ln,originalEvent:e}),Ir({sortable:this,name:"sort",toEl:gn,originalEvent:e})),Qn&&Qn.save()):Qr!==kl&&Qr>=0&&(Ir({sortable:this,name:"update",toEl:gn,originalEvent:e}),Ir({sortable:this,name:"sort",toEl:gn,originalEvent:e})),tt.active&&((Qr==null||Qr===-1)&&(Qr=kl,no=$c),Ir({sortable:this,name:"end",toEl:gn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Mr("nulling",this),ln=Te=gn=lt=Qo=vn=vf=lo=Yo=bi=hc=Qr=no=kl=$c=ll=Uc=Qn=zh=tt.dragged=tt.ghost=tt.clone=tt.active=null,Sp.forEach(function(e){e.checked=!0}),Sp.length=iv=sv=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Te&&(this._onDragOver(e),LG(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Si(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||jG(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Si(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Si(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=oh.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&mO(r)},destroy:function(){Mr("destroy",this);var e=this.el;e[pr]=null,ht(e,"mousedown",this._onTapStart),ht(e,"touchstart",this._onTapStart),ht(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ht(e,"dragover",this),ht(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ep.splice(Ep.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!lo){if(Mr("hideClone",this),tt.eventCanceled)return;He(vn,"display","none"),this.options.removeCloneOnHide&&vn.parentNode&&vn.parentNode.removeChild(vn),lo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(lo){if(Mr("showClone",this),tt.eventCanceled)return;Te.parentNode==ln&&!this.options.group.revertClone?ln.insertBefore(vn,Te):Qo?ln.insertBefore(vn,Qo):ln.appendChild(vn),this.options.group.revertClone&&this.animate(Te,vn),He(vn,"display",""),lo=!1}}};function LG(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Qh(t,e,n,r,i,s,o,a){var l,u=t[pr],c=u.options.onMove,d;return window.CustomEvent&&!Bs&&!sh?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||un(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function av(t){t.draggable=!1}function $G(){u0=!1}function UG(t,e,n){var r=un(du(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function FG(t,e,n){var r=un(i_(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function VG(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o){if(a&&yf<u*i){if(!Fc&&(Uc===1?l>c+u*s/2:l<d-u*s/2)&&(Fc=!0),Fc)h=!0;else if(Uc===1?l<c+yf:l>d-yf)return-Uc}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return BG(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function BG(t){return yn(Te)<yn(t)?1:-1}function jG(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function HG(t){Sp.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Sp.push(r)}}function wf(t){return setTimeout(t,0)}function c0(t){return clearTimeout(t)}Gm&&mt(document,"touchmove",function(t){(tt.active||wl)&&t.cancelable&&t.preventDefault()});tt.utils={on:mt,off:ht,css:He,find:cO,is:function(e,n){return!!Si(e,n,e,!1)},extend:IG,throttle:dO,closest:Si,toggleClass:fn,clone:s_,index:yn,nextTick:wf,cancelNextTick:c0,detectDirection:pO,getChild:du};tt.get=function(t){return t[pr]};tt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(tt.utils=as(as({},tt.utils),r.utils)),oh.mount(r)})};tt.create=function(t,e){return new tt(t,e)};tt.version=TG;var kn=[],fc,d0,h0=!1,lv,uv,Cp,pc;function WG(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?mt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?mt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?mt(document,"touchmove",this._handleFallbackAutoScroll):mt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ht(document,"dragover",this._handleAutoScroll):(ht(document,"pointermove",this._handleFallbackAutoScroll),ht(document,"touchmove",this._handleFallbackAutoScroll),ht(document,"mousemove",this._handleFallbackAutoScroll)),CS(),bf(),kG()},nulling:function(){Cp=d0=fc=h0=pc=lv=uv=null,kn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(Cp=n,r||this.options.forceAutoScrollFallback||sh||Bs||Mc){cv(n,this.options,a,r);var l=uo(a,!0);h0&&(!pc||s!==lv||o!==uv)&&(pc&&CS(),pc=setInterval(function(){var u=uo(document.elementFromPoint(s,o),!0);u!==l&&(l=u,bf()),cv(n,i.options,u,r)},10),lv=s,uv=o)}else{if(!this.options.bubbleScroll||uo(a,!0)===ns()){bf();return}cv(n,this.options,uo(a,!1),!1)}}},yi(t,{pluginName:"scroll",initializeByDefault:!0})}function bf(){kn.forEach(function(t){clearInterval(t.pid)}),kn=[]}function CS(){clearInterval(pc)}var cv=dO(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=ns(),u=!1,c;d0!==n&&(d0=n,bf(),fc=e.scroll,c=e.scrollFn,fc===!0&&(fc=uo(n,!0)));var d=0,h=fc;do{var f=h,p=un(f),m=p.top,y=p.bottom,_=p.left,v=p.right,b=p.width,g=p.height,w=void 0,T=void 0,O=f.scrollWidth,k=f.scrollHeight,A=He(f),S=f.scrollLeft,L=f.scrollTop;f===l?(w=b<O&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),T=g<k&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(w=b<O&&(A.overflowX==="auto"||A.overflowX==="scroll"),T=g<k&&(A.overflowY==="auto"||A.overflowY==="scroll"));var U=w&&(Math.abs(v-i)<=o&&S+b<O)-(Math.abs(_-i)<=o&&!!S),C=T&&(Math.abs(y-s)<=o&&L+g<k)-(Math.abs(m-s)<=o&&!!L);if(!kn[d])for(var H=0;H<=d;H++)kn[H]||(kn[H]={});(kn[d].vx!=U||kn[d].vy!=C||kn[d].el!==f)&&(kn[d].el=f,kn[d].vx=U,kn[d].vy=C,clearInterval(kn[d].pid),(U!=0||C!=0)&&(u=!0,kn[d].pid=setInterval((function(){r&&this.layer===0&&tt.active._onTouchMove(Cp);var M=kn[this.layer].vy?kn[this.layer].vy*a:0,N=kn[this.layer].vx?kn[this.layer].vx*a:0;typeof c=="function"&&c.call(tt.dragged.parentNode[pr],N,M,t,Cp,kn[this.layer].el)!=="continue"||hO(kn[this.layer].el,N,M)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=uo(h,!1)));h0=u}},30),yO=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function o_(){}o_.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=du(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:yO};yi(o_,{pluginName:"revertOnSpill"});function a_(){}a_.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:yO};yi(a_,{pluginName:"removeOnSpill"});var ui;function KG(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;ui=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=ui;s(i)!==!1?(fn(i,c.swapClass,!0),ui=i):ui=null,d&&d!==ui&&fn(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;ui&&fn(ui,a.swapClass,!1),ui&&(a.swap||i&&i.options.swap)&&s!==ui&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),YG(s,ui),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){ui=null}},yi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:ui}}})}function YG(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=yn(t),s=yn(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var st=[],qr=[],Yu,_i,zu=!1,Lr=!1,ul=!1,Xt,Gu,Xh;function zG(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?mt(document,"pointerup",this._deselectMultiDrag):(mt(document,"mouseup",this._deselectMultiDrag),mt(document,"touchend",this._deselectMultiDrag)),mt(document,"keydown",this._checkKeyDown),mt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";st.length&&_i===e?st.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;Xt=r},delayEnded:function(){this.isMultiDrag=~st.indexOf(Xt)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<st.length;s++)qr.push(s_(st[s])),qr[s].sortableIndex=st[s].sortableIndex,qr[s].draggable=!1,qr[s].style["will-change"]="",fn(qr[s],this.options.selectedClass,!1),st[s]===Xt&&fn(qr[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||st.length&&_i===r&&(IS(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(IS(!1,i),qr.forEach(function(o){He(o,"display","")}),r(),Xh=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(qr.forEach(function(o){He(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Xh=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&_i&&_i.multiDrag._deselectMultiDrag(),st.forEach(function(r){r.sortableIndex=yn(r)}),st=st.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),ul=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){st.forEach(function(o){o!==Xt&&He(o,"position","absolute")});var s=un(Xt,!1,!0,!0);st.forEach(function(o){o!==Xt&&_S(o,s)}),Lr=!0,zu=!0}i.animateAll(function(){Lr=!1,zu=!1,r.options.animation&&st.forEach(function(o){nv(o)}),r.options.sort&&Jh()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;Lr&&~st.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;st.length>1&&(st.forEach(function(a){s.addAnimationState({target:a,rect:Lr?un(a):o}),nv(a),a.fromRect=o,r.removeAnimationState(a)}),Lr=!1,GG(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),zu=!1,u.animation&&st.length>1&&(Lr||!i&&!o.options.sort&&!l)){var c=un(Xt,!1,!0,!0);st.forEach(function(h){h!==Xt&&(_S(h,c),a.appendChild(h))}),Lr=!0}if(!i)if(Lr||Jh(),st.length>1){var d=Xh;o._showClone(r),o.options.animation&&!Xh&&d&&qr.forEach(function(h){o.addAnimationState({target:h,rect:Gu}),h.fromRect=Gu,h.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(st.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){Gu=yi({},r);var o=va(Xt,!0);Gu.top-=o.f,Gu.left-=o.e}},dragOverAnimationComplete:function(){Lr&&(Lr=!1,Jh())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=s.children;if(!ul)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),fn(Xt,d.selectedClass,!~st.indexOf(Xt)),~st.indexOf(Xt))st.splice(st.indexOf(Xt),1),Yu=null,dc({sortable:o,rootEl:i,name:"deselect",targetEl:Xt,originalEvt:r});else{if(st.push(Xt),dc({sortable:o,rootEl:i,name:"select",targetEl:Xt,originalEvt:r}),r.shiftKey&&Yu&&o.el.contains(Yu)){var f=yn(Yu),p=yn(Xt);if(~f&&~p&&f!==p){var m,y;for(p>f?(y=f,m=p):(y=p,m=f+1);y<m;y++)~st.indexOf(h[y])||(fn(h[y],d.selectedClass,!0),st.push(h[y]),dc({sortable:o,rootEl:i,name:"select",targetEl:h[y],originalEvt:r}))}}else Yu=Xt;_i=c}if(ul&&this.isMultiDrag){if(Lr=!1,(s[pr].options.sort||s!==i)&&st.length>1){var _=un(Xt),v=yn(Xt,":not(."+this.options.selectedClass+")");if(!zu&&d.animation&&(Xt.thisAnimationDuration=null),c.captureAnimationState(),!zu&&(d.animation&&(Xt.fromRect=_,st.forEach(function(g){if(g.thisAnimationDuration=null,g!==Xt){var w=Lr?un(g):_;g.fromRect=w,c.addAnimationState({target:g,rect:w})}})),Jh(),st.forEach(function(g){h[v]?s.insertBefore(g,h[v]):s.appendChild(g),v++}),l===yn(Xt))){var b=!1;st.forEach(function(g){if(g.sortableIndex!==yn(g)){b=!0;return}}),b&&a("update")}st.forEach(function(g){nv(g)}),c.animateAll()}_i=c}(i===s||u&&u.lastPutMode!=="clone")&&qr.forEach(function(g){g.parentNode&&g.parentNode.removeChild(g)})}},nullingGlobal:function(){this.isMultiDrag=ul=!1,qr.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ht(document,"pointerup",this._deselectMultiDrag),ht(document,"mouseup",this._deselectMultiDrag),ht(document,"touchend",this._deselectMultiDrag),ht(document,"keydown",this._checkKeyDown),ht(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof ul<"u"&&ul)&&_i===this.sortable&&!(n&&Si(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;st.length;){var r=st[0];fn(r,this.options.selectedClass,!1),st.shift(),dc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},yi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[pr];!r||!r.options.multiDrag||~st.indexOf(n)||(_i&&_i!==r&&(_i.multiDrag._deselectMultiDrag(),_i=r),fn(n,r.options.selectedClass,!0),st.push(n))},deselect:function(n){var r=n.parentNode[pr],i=st.indexOf(n);!r||!r.options.multiDrag||!~i||(fn(n,r.options.selectedClass,!1),st.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return st.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;Lr&&s!==Xt?o=-1:Lr?o=yn(s,":not(."+n.options.selectedClass+")"):o=yn(s),i.push({multiDragElement:s,index:o})}),{items:vG(st),clones:[].concat(qr),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function GG(t,e){st.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function IS(t,e){qr.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Jh(){st.forEach(function(t){t!==Xt&&t.parentNode&&t.parentNode.removeChild(t)})}tt.mount(new WG);tt.mount(a_,o_);const qG=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:zG,Sortable:tt,Swap:KG,default:tt},Symbol.toStringTag,{value:"Module"})),QG=oO(qG);(function(t,e){(function(r,i){t.exports=i(fG,QG)})(typeof self<"u"?self:dG,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,f){return l.call(u,d,h,f)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(f){return c&&u.call(f)=="[object Window]"?d(f):l(a(f))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),f=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(y,_){if(y=c(y),_=d(_,!0),f)try{return p(y,_)}catch{}if(h(y,_))return u(!l.f.call(y,_),y[_])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var h=a[d],f=h&&h.prototype;if(f&&f.forEach!==u)try{c(f,"forEach",u)}catch{f.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,f){if(!f&&!u)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},h(m)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],f=h.constructor={};return f[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),f=o("94ca");i.exports=function(p,m){var y=p.target,_=p.global,v=p.stat,b,g,w,T,O,k;if(_?g=a:v?g=a[y]||d(y,{}):g=(a[y]||{}).prototype,g)for(w in m){if(O=m[w],p.noTargetGet?(k=l(g,w),T=k&&k.value):T=g[w],b=f(_?w:y+(v?".":"#")+w,p.forced),!b&&T!==void 0){if(typeof O==typeof T)continue;h(O,T)}(p.sham||T&&T.sham)&&u(O,"sham",!0),c(g,w,O,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,f=h[d],p=u(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),m=f.name!=d;(p||m)&&a(RegExp.prototype,d,function(){var _=l(this),v=String(_.source),b=_.flags,g=String(b===void 0&&_ instanceof RegExp&&!("flags"in h)?c.call(_):b);return"/"+v+"/"+g},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),f=o("c430"),p="".startsWith,m=Math.min,y=h("startsWith"),_=!f&&!y&&!!function(){var v=l(String.prototype,"startsWith");return v&&!v.writable}();a({target:"String",proto:!0,forced:!_&&!y},{startsWith:function(b){var g=String(d(this));c(b);var w=u(m(arguments.length>1?arguments[1]:void 0,g.length)),T=String(b);return p?p.call(g,T,w):g.slice(w,w+T.length)===T}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,f;d?(h=d.split("."),f=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(f=h[1]))),i.exports=f&&+f},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(h,f){u(h);for(var p=c(f),m=p.length,y=0,_;m>y;)l.f(h,_=p[y++],f[_]);return h}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(f){d(this,{type:c,string:String(f),index:0})},function(){var p=h(this),m=p.string,y=p.index,_;return y>=m.length?{value:void 0,done:!0}:(_=a(m,y),p.index+=_.length,{value:_,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(h,f,p){var m=a(h),y=l(m.length),_=u(p,y),v;if(d&&f!=f){for(;y>_;)if(v=m[_++],v!=v)return!0}else for(;y>_;_++)if((d||_ in m)&&m[_]===f)return d||_||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),f=o("35a1");i.exports=function(m){var y=l(m),_=typeof this=="function"?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,g=b!==void 0,w=f(y),T=0,O,k,A,S,L,U;if(g&&(b=a(b,v>2?arguments[2]:void 0,2)),w!=null&&!(_==Array&&c(w)))for(S=w.call(y),L=S.next,k=new _;!(A=L.call(S)).done;T++)U=g?u(S,b,[A.value,T],!0):A.value,h(k,T,U);else for(O=d(y.length),k=new _(O);O>T;T++)U=g?b(y[T],T):y[T],h(k,T,U);return k.length=T,k}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),f=o("8aa5"),p=o("14c3"),m=Math.max,y=Math.min,_=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,g=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,T,O,k){var A=k.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=k.REPLACE_KEEPS_$0,L=A?"$":"$0";return[function(H,M){var N=h(this),W=H==null?void 0:H[w];return W!==void 0?W.call(H,N,M):T.call(String(N),H,M)},function(C,H){if(!A&&S||typeof H=="string"&&H.indexOf(L)===-1){var M=O(T,C,this,H);if(M.done)return M.value}var N=l(C),W=String(this),J=typeof H=="function";J||(H=String(H));var $=N.global;if($){var I=N.unicode;N.lastIndex=0}for(var Z=[];;){var ie=p(N,W);if(ie===null||(Z.push(ie),!$))break;var ee=String(ie[0]);ee===""&&(N.lastIndex=f(W,c(N.lastIndex),I))}for(var B="",be=0,j=0;j<Z.length;j++){ie=Z[j];for(var q=String(ie[0]),le=m(y(d(ie.index),W.length),0),Y=[],pe=1;pe<ie.length;pe++)Y.push(g(ie[pe]));var Se=ie.groups;if(J){var E=[q].concat(Y,le,W);Se!==void 0&&E.push(Se);var P=String(H.apply(void 0,E))}else P=U(q,W,le,Y,Se,H);le>=be&&(B+=W.slice(be,le)+P,be=le+q.length)}return B+W.slice(be)}];function U(C,H,M,N,W,J){var $=M+C.length,I=N.length,Z=b;return W!==void 0&&(W=u(W),Z=v),T.call(J,Z,function(ie,ee){var B;switch(ee.charAt(0)){case"$":return"$";case"&":return C;case"`":return H.slice(0,M);case"'":return H.slice($);case"<":B=W[ee.slice(1,-1)];break;default:var be=+ee;if(be===0)return ie;if(be>I){var j=_(be/10);return j===0?ie:j<=I?N[j-1]===void 0?ee.charAt(1):N[j-1]+ee.charAt(1):ie}B=N[be-1]}return B===void 0?"":B})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var f=l.f(c(h)),p=u.f;return p?f.concat(p(h)):f}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var m=u(this),y=c(m.length),_;return d(p),_=h(m,0),_.length=l(_,m,m,y,0,1,p,arguments.length>1?arguments[1]:void 0),_}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,h){var f=String(l(d)),p=a(h),m=f.length,y,_;return p<0||p>=m?c?"":void 0:(y=f.charCodeAt(p),y<55296||y>56319||p+1===m||(_=f.charCodeAt(p+1))<56320||_>57343?c?f.charAt(p):y:c?f.slice(p,p+2):(y-55296<<10)+(_-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,h){var f;return l(d)&&(f=d.constructor,typeof f=="function"&&(f===Array||l(f.prototype))?f=void 0:a(f)&&(f=f[c],f===null&&(f=void 0))),new(f===void 0?Array:f)(h===0?0:h)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),f=o("d012"),p=l.WeakMap,m,y,_,v=function(A){return _(A)?y(A):m(A,{})},b=function(A){return function(S){var L;if(!u(S)||(L=y(S)).type!==A)throw TypeError("Incompatible receiver, "+A+" required");return L}};if(a){var g=new p,w=g.get,T=g.has,O=g.set;m=function(A,S){return O.call(g,A,S),S},y=function(A){return w.call(g,A)||{}},_=function(A){return T.call(g,A)}}else{var k=h("state");f[k]=!0,m=function(A,S){return c(A,k,S),S},y=function(A){return d(A,k)?A[k]:{}},_=function(A){return d(A,k)}}i.exports={set:m,get:y,has:_,enforce:v,getterFor:b}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),f=h.get,p=h.enforce,m=String(String).split("String");(i.exports=function(y,_,v,b){var g=b?!!b.unsafe:!1,w=b?!!b.enumerable:!1,T=b?!!b.noTargetGet:!1;if(typeof v=="function"&&(typeof _=="string"&&!u(v,"name")&&l(v,"name",_),p(v).source=m.join(typeof _=="string"?_:"")),y===a){w?y[_]=v:c(_,v);return}else g?!T&&y[_]&&(w=!0):delete y[_];w?y[_]=v:l(y,_,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(h){return function(f){for(var p=u(f),m=l(p),y=m.length,_=0,v=[],b;y>_;)b=m[_++],(!a||c.call(p,b))&&v.push(h?[b,p[b]]:p[b]);return v}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),f=o("f772"),p=">",m="<",y="prototype",_="script",v=f("IE_PROTO"),b=function(){},g=function(A){return m+_+p+A+m+"/"+_+p},w=function(A){A.write(g("")),A.close();var S=A.parentWindow.Object;return A=null,S},T=function(){var A=h("iframe"),S="java"+_+":",L;return A.style.display="none",d.appendChild(A),A.src=String(S),L=A.contentWindow.document,L.open(),L.write(g("document.F=Object")),L.close(),L.F},O,k=function(){try{O=document.domain&&new ActiveXObject("htmlfile")}catch{}k=O?w(O):T();for(var A=u.length;A--;)delete k[y][u[A]];return k()};c[v]=!0,i.exports=Object.create||function(S,L){var U;return S!==null?(b[y]=a(S),U=new b,b[y]=null,U[v]=S):U=k(),L===void 0?U:l(U,L)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),f=o("6eeb"),p=o("b622"),m=o("c430"),y=o("3f8c"),_=o("ae93"),v=_.IteratorPrototype,b=_.BUGGY_SAFARI_ITERATORS,g=p("iterator"),w="keys",T="values",O="entries",k=function(){return this};i.exports=function(A,S,L,U,C,H,M){l(L,S,U);var N=function(j){if(j===C&&Z)return Z;if(!b&&j in $)return $[j];switch(j){case w:return function(){return new L(this,j)};case T:return function(){return new L(this,j)};case O:return function(){return new L(this,j)}}return function(){return new L(this)}},W=S+" Iterator",J=!1,$=A.prototype,I=$[g]||$["@@iterator"]||C&&$[C],Z=!b&&I||N(C),ie=S=="Array"&&$.entries||I,ee,B,be;if(ie&&(ee=u(ie.call(new A)),v!==Object.prototype&&ee.next&&(!m&&u(ee)!==v&&(c?c(ee,v):typeof ee[g]!="function"&&h(ee,g,k)),d(ee,W,!0,!0),m&&(y[W]=k))),C==T&&I&&I.name!==T&&(J=!0,Z=function(){return I.call(this)}),(!m||M)&&$[g]!==Z&&h($,g,Z),y[S]=Z,C)if(B={values:N(T),keys:H?Z:N(w),entries:N(O)},M)for(be in B)(b||J||!(be in $))&&f($,be,B[be]);else a({target:S,proto:!0,forced:b||J},B);return B}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,h){var f=a(d);f in c?l.f(c,f,u(0,h)):c[f]=h}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(O){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,p=h.exec(O.stack)||f.exec(O.stack),m=p&&p[1]||!1,y=p&&p[2]||!1,_=document.location.href.replace(document.location.hash,""),v,b,g,w=document.getElementsByTagName("script");m===_&&(v=document.documentElement.outerHTML,b=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),g=v.replace(b,"$1").trim());for(var T=0;T<w.length;T++)if(w[T].readyState==="interactive"||w[T].src===m||m===_&&w[T].innerHTML&&w[T].innerHTML.trim()===g)return w[T];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var y=/a/,_=/b*/g;return u.call(y,"a"),u.call(_,"a"),y.lastIndex!==0||_.lastIndex!==0}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=h||p||f;m&&(d=function(_){var v=this,b,g,w,T,O=f&&v.sticky,k=a.call(v),A=v.source,S=0,L=_;return O&&(k=k.replace("y",""),k.indexOf("g")===-1&&(k+="g"),L=String(_).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&_[v.lastIndex-1]!==`
`)&&(A="(?: "+A+")",L=" "+L,S++),g=new RegExp("^(?:"+A+")",k)),p&&(g=new RegExp("^"+A+"$(?!\\s)",k)),h&&(b=v.lastIndex),w=u.call(O?g:v,L),O?w?(w.input=w.input.slice(S),w[0]=w[0].slice(S),w.index=v.lastIndex,v.lastIndex+=w[0].length):v.lastIndex=0:h&&w&&(v.lastIndex=v.global?w.index+w[0].length:b),p&&w&&w.length>1&&c.call(w[0],g,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(w[T]=void 0)}),w}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,m){var y=d[c(p)];return y==f?!0:y==h?!1:typeof m=="function"?a(m):!!m},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",f=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),f=o("8418"),p=o("65f0"),m=o("1dde"),y=o("b622"),_=o("2d00"),v=y("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",w=_>=51||!l(function(){var A=[];return A[v]=!1,A.concat()[0]!==A}),T=m("concat"),O=function(A){if(!c(A))return!1;var S=A[v];return S!==void 0?!!S:u(A)},k=!w||!T;a({target:"Array",proto:!0,forced:k},{concat:function(S){var L=d(this),U=p(L,0),C=0,H,M,N,W,J;for(H=-1,N=arguments.length;H<N;H++)if(J=H===-1?L:arguments[H],O(J)){if(W=h(J.length),C+W>b)throw TypeError(g);for(M=0;M<W;M++,C++)M in J&&f(U,C,J[M])}else{if(C>=b)throw TypeError(g);f(U,C++,J)}return U.length=C,U}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(f){var h=l.return;throw h!==void 0&&a(h.call(l)),f}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(f,p,m){if(u(f),p=c(p,!0),u(m),l)try{return d(f,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(f[p]=m.value),f}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};i.exports=function(f,p,m){var y=p+" Iterator";return f.prototype=l(a,{next:u(1,m)}),c(f,y,!1,!0),d[y]=h,f}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,h,f,p,m,y,_,v){for(var b=m,g=0,w=_?u(_,v,3):!1,T;g<p;){if(g in f){if(T=w?w(f[g],g,h):f[g],y>0&&a(T))b=c(d,h,T,l(T.length),b,y-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[b]=T}b++}g++}return b};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),f=o("8418"),p=o("1dde"),m=o("ae40"),y=p("splice"),_=m("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,b=Math.min,g=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!_},{splice:function(O,k){var A=d(this),S=c(A.length),L=l(O,S),U=arguments.length,C,H,M,N,W,J;if(U===0?C=H=0:U===1?(C=0,H=S-L):(C=U-2,H=b(v(u(k),0),S-L)),S+C-H>g)throw TypeError(w);for(M=h(A,H),N=0;N<H;N++)W=L+N,W in A&&f(M,N,A[W]);if(M.length=H,C<H){for(N=L;N<S-H;N++)W=N+H,J=N+C,W in A?A[J]=A[W]:delete A[J];for(N=S;N>S-H+C;N--)delete A[N-1]}else if(C>H)for(N=S-H;N>L;N--)W=N+H-1,J=N+C-1,W in A?A[J]=A[W]:delete A[J];for(N=0;N<C;N++)A[N+L]=arguments[N+2];return A.length=S-H+C,M}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),f=o("fdbf"),p=o("d039"),m=o("5135"),y=o("e8b5"),_=o("861d"),v=o("825a"),b=o("7b0b"),g=o("fc6a"),w=o("c04e"),T=o("5c6c"),O=o("7c73"),k=o("df75"),A=o("241c"),S=o("057f"),L=o("7418"),U=o("06cf"),C=o("9bf2"),H=o("d1e7"),M=o("9112"),N=o("6eeb"),W=o("5692"),J=o("f772"),$=o("d012"),I=o("90e3"),Z=o("b622"),ie=o("e538"),ee=o("746f"),B=o("d44e"),be=o("69f3"),j=o("b727").forEach,q=J("hidden"),le="Symbol",Y="prototype",pe=Z("toPrimitive"),Se=be.set,E=be.getterFor(le),P=Object[Y],F=l.Symbol,G=u("JSON","stringify"),he=U.f,fe=C.f,de=S.f,te=H.f,z=W("symbols"),ce=W("op-symbols"),we=W("string-to-symbol-registry"),Ce=W("symbol-to-string-registry"),Me=W("wks"),We=l.QObject,Re=!We||!We[Y]||!We[Y].findChild,dt=d&&p(function(){return O(fe({},"a",{get:function(){return fe(this,"a",{value:7}).a}})).a!=7})?function(Ge,Ve,Xe){var yt=he(P,Ve);yt&&delete P[Ve],fe(Ge,Ve,Xe),yt&&Ge!==P&&fe(P,Ve,yt)}:fe,Q=function(Ge,Ve){var Xe=z[Ge]=O(F[Y]);return Se(Xe,{type:le,tag:Ge,description:Ve}),d||(Xe.description=Ve),Xe},R=f?function(Ge){return typeof Ge=="symbol"}:function(Ge){return Object(Ge)instanceof F},K=function(Ve,Xe,yt){Ve===P&&K(ce,Xe,yt),v(Ve);var It=w(Xe,!0);return v(yt),m(z,It)?(yt.enumerable?(m(Ve,q)&&Ve[q][It]&&(Ve[q][It]=!1),yt=O(yt,{enumerable:T(0,!1)})):(m(Ve,q)||fe(Ve,q,T(1,{})),Ve[q][It]=!0),dt(Ve,It,yt)):fe(Ve,It,yt)},V=function(Ve,Xe){v(Ve);var yt=g(Xe),It=k(yt).concat(et(yt));return j(It,function(Nr){(!d||me.call(yt,Nr))&&K(Ve,Nr,yt[Nr])}),Ve},se=function(Ve,Xe){return Xe===void 0?O(Ve):V(O(Ve),Xe)},me=function(Ve){var Xe=w(Ve,!0),yt=te.call(this,Xe);return this===P&&m(z,Xe)&&!m(ce,Xe)?!1:yt||!m(this,Xe)||!m(z,Xe)||m(this,q)&&this[q][Xe]?yt:!0},Be=function(Ve,Xe){var yt=g(Ve),It=w(Xe,!0);if(!(yt===P&&m(z,It)&&!m(ce,It))){var Nr=he(yt,It);return Nr&&m(z,It)&&!(m(yt,q)&&yt[q][It])&&(Nr.enumerable=!0),Nr}},Le=function(Ve){var Xe=de(g(Ve)),yt=[];return j(Xe,function(It){!m(z,It)&&!m($,It)&&yt.push(It)}),yt},et=function(Ve){var Xe=Ve===P,yt=de(Xe?ce:g(Ve)),It=[];return j(yt,function(Nr){m(z,Nr)&&(!Xe||m(P,Nr))&&It.push(z[Nr])}),It};if(h||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor");var Ve=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Xe=I(Ve),yt=function(It){this===P&&yt.call(ce,It),m(this,q)&&m(this[q],Xe)&&(this[q][Xe]=!1),dt(this,Xe,T(1,It))};return d&&Re&&dt(P,Xe,{configurable:!0,set:yt}),Q(Xe,Ve)},N(F[Y],"toString",function(){return E(this).tag}),N(F,"withoutSetter",function(Ge){return Q(I(Ge),Ge)}),H.f=me,C.f=K,U.f=Be,A.f=S.f=Le,L.f=et,ie.f=function(Ge){return Q(Z(Ge),Ge)},d&&(fe(F[Y],"description",{configurable:!0,get:function(){return E(this).description}}),c||N(P,"propertyIsEnumerable",me,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:F}),j(k(Me),function(Ge){ee(Ge)}),a({target:le,stat:!0,forced:!h},{for:function(Ge){var Ve=String(Ge);if(m(we,Ve))return we[Ve];var Xe=F(Ve);return we[Ve]=Xe,Ce[Xe]=Ve,Xe},keyFor:function(Ve){if(!R(Ve))throw TypeError(Ve+" is not a symbol");if(m(Ce,Ve))return Ce[Ve]},useSetter:function(){Re=!0},useSimple:function(){Re=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:se,defineProperty:K,defineProperties:V,getOwnPropertyDescriptor:Be}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Le,getOwnPropertySymbols:et}),a({target:"Object",stat:!0,forced:p(function(){L.f(1)})},{getOwnPropertySymbols:function(Ve){return L.f(b(Ve))}}),G){var Ut=!h||p(function(){var Ge=F();return G([Ge])!="[null]"||G({a:Ge})!="{}"||G(Object(Ge))!="{}"});a({target:"JSON",stat:!0,forced:Ut},{stringify:function(Ve,Xe,yt){for(var It=[Ve],Nr=1,tg;arguments.length>Nr;)It.push(arguments[Nr++]);if(tg=Xe,!(!_(Xe)&&Ve===void 0||R(Ve)))return y(Xe)||(Xe=function(sN,dh){if(typeof tg=="function"&&(dh=tg.call(this,sN,dh)),!R(dh))return dh}),It[1]=Xe,G.apply(null,It)}})}F[Y][pe]||M(F[Y],pe,F[Y].valueOf),B(F,le),$[q]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},h=function(f){throw f};i.exports=function(f,p){if(u(d,f))return d[f];p||(p={});var m=[][f],y=u(p,"ACCESSORS")?p.ACCESSORS:!1,_=u(p,0)?p[0]:h,v=u(p,1)?p[1]:void 0;return d[f]=!!m&&!l(function(){if(y&&!a)return!0;var b={length:-1};y?c(b,1,{enumerable:!0,get:h}):b[1]=1,m.call(b,_,v)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),f=!1,p=function(){return this},m,y,_;[].keys&&(_=[].keys(),"next"in _?(y=a(a(_)),y!==Object.prototype&&(m=y)):f=!0),m==null&&(m={}),!d&&!u(m,h)&&l(m,h,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:f}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),f=l("wks"),p=a.Symbol,m=h?p:p&&p.withoutSetter||c;i.exports=function(y){return u(f,y)||(d&&u(p,y)?f[y]=p[y]:f[y]=m("Symbol."+y)),f[y]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(f){return u(l(f))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,f=function(p){var m=p==1,y=p==2,_=p==3,v=p==4,b=p==6,g=p==5||b;return function(w,T,O,k){for(var A=u(w),S=l(A),L=a(T,O,3),U=c(S.length),C=0,H=k||d,M=m?H(w,U):y?H(w,0):void 0,N,W;U>C;C++)if((g||C in S)&&(N=S[C],W=L(N,C,A),p)){if(m)M[C]=W;else if(W)switch(p){case 3:return!0;case 5:return N;case 6:return C;case 2:h.call(M,N)}else if(v)return!1}return b?-1:_||v?v:M}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",h=!0,f=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!f},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,f=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!f||!p},{indexOf:function(y){return h?d.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,h){var f=l(d),p=0,m=[],y;for(y in f)!a(c,y)&&a(f,y)&&m.push(y);for(;h.length>p;)a(f,y=h[p++])&&(~u(m,y)||m.push(y));return m}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(f,p){return a(f),l(p),u?d.call(f,p):f.__proto__=p,f}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,h,f){d&&!l(d=f?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(h){return function(f,p,m,y){a(p);var _=l(f),v=u(_),b=c(_.length),g=h?b-1:0,w=h?-1:1;if(m<2)for(;;){if(g in v){y=v[g],g+=w;break}if(g+=w,h?g<0:b<=g)throw TypeError("Reduce of empty array with no initial value")}for(;h?g>=0:b>g;g+=w)g in v&&(y=p(y,v[g],g,_));return y}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),h=u("species"),f=!l(function(){var v=/./;return v.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(v,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=u("replace"),y=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),_=!l(function(){var v=/(?:)/,b=v.exec;v.exec=function(){return b.apply(this,arguments)};var g="ab".split(v);return g.length!==2||g[0]!=="a"||g[1]!=="b"});i.exports=function(v,b,g,w){var T=u(v),O=!l(function(){var C={};return C[T]=function(){return 7},""[v](C)!=7}),k=O&&!l(function(){var C=!1,H=/a/;return v==="split"&&(H={},H.constructor={},H.constructor[h]=function(){return H},H.flags="",H[T]=/./[T]),H.exec=function(){return C=!0,null},H[T](""),!C});if(!O||!k||v==="replace"&&!(f&&p&&!y)||v==="split"&&!_){var A=/./[T],S=g(T,""[v],function(C,H,M,N,W){return H.exec===c?O&&!W?{done:!0,value:A.call(H,M,N)}:{done:!0,value:C.call(M,H,N)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),L=S[0],U=S[1];a(String.prototype,v,L),a(RegExp.prototype,T,b==2?function(C,H){return U.call(C,this,H)}:function(C){return U.call(C,this)})}w&&d(RegExp.prototype[T],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=c(p),y=d.f,_=u(m),v={},b=0,g,w;_.length>b;)w=y(m,g=_[b++]),w!==void 0&&h(v,g,w);return v}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),f=d("toStringTag"),p=u.values;for(var m in l){var y=a[m],_=y&&y.prototype;if(_){if(_[h]!==p)try{c(_,h,p)}catch{_[h]=p}if(_[f]||c(_,f,m),l[m]){for(var v in u)if(_[v]!==u[v])try{c(_,v,u[v])}catch{_[v]=u[v]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,f=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},y=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),O=this instanceof y?new p(T):T===void 0?p():p(T);return T===""&&(m[O]=!0),O};f(y,p);var _=y.prototype=p.prototype;_.constructor=y;var v=_.toString,b=String(p("test"))=="Symbol(test)",g=/^Symbol\((.*)\)[^)]+$/;h(_,"description",{configurable:!0,get:function(){var T=d(this)?this.valueOf():this,O=v.call(T);if(c(m,T))return"";var k=b?O.slice(7,-1):O.replace(g,"$1");return k===""?void 0:k}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(f){return f=l(f),a(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",f=c.set,p=c.getterFor(h);i.exports=d(Array,"Array",function(m,y){f(this,{type:h,target:a(m),index:0,kind:y})},function(){var m=p(this),y=m.target,_=m.kind,v=m.index++;return!y||v>=y.length?(m.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:v,done:!1}:_=="values"?{value:y[v],done:!1}:{value:[v,y[v]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=l(function(){c(1)}),f=!d||h;a({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(m,y){return c(u(m),y)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,h){for(var f=l(h),p=c.f,m=u.f,y=0;y<f.length;y++){var _=f[y];a(d,_)||p(d,_,m(h,_))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(f,p){try{return f[p]}catch{}};i.exports=a?l:function(f){var p,m,y;return f===void 0?"Undefined":f===null?"Null":typeof(m=h(p=Object(f),c))=="string"?m:d?l(p):(y=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":y}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(R,K,V){return K in R?Object.defineProperty(R,K,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[K]=V,R}function d(R,K){var V=Object.keys(R);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(R);K&&(se=se.filter(function(me){return Object.getOwnPropertyDescriptor(R,me).enumerable})),V.push.apply(V,se)}return V}function h(R){for(var K=1;K<arguments.length;K++){var V=arguments[K]!=null?arguments[K]:{};K%2?d(Object(V),!0).forEach(function(se){c(R,se,V[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):d(Object(V)).forEach(function(se){Object.defineProperty(R,se,Object.getOwnPropertyDescriptor(V,se))})}return R}function f(R){if(Array.isArray(R))return R}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(R,K){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(R)))){var V=[],se=!0,me=!1,Be=void 0;try{for(var Le=R[Symbol.iterator](),et;!(se=(et=Le.next()).done)&&(V.push(et.value),!(K&&V.length===K));se=!0);}catch(Ut){me=!0,Be=Ut}finally{try{!se&&Le.return!=null&&Le.return()}finally{if(me)throw Be}}return V}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m(R,K){(K==null||K>R.length)&&(K=R.length);for(var V=0,se=new Array(K);V<K;V++)se[V]=R[V];return se}function y(R,K){if(R){if(typeof R=="string")return m(R,K);var V=Object.prototype.toString.call(R).slice(8,-1);if(V==="Object"&&R.constructor&&(V=R.constructor.name),V==="Map"||V==="Set")return Array.from(R);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return m(R,K)}}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(R,K){return f(R)||p(R,K)||y(R,K)||_()}function b(R){if(Array.isArray(R))return m(R)}function g(R){if(typeof Symbol<"u"&&Symbol.iterator in Object(R))return Array.from(R)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(R){return b(R)||g(R)||y(R)||w()}var O=o("a352"),k=o.n(O);function A(R){R.parentElement!==null&&R.parentElement.removeChild(R)}function S(R,K,V){var se=V===0?R.children[0]:R.children[V-1].nextSibling;R.insertBefore(K,se)}var L=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function U(R){var K=Object.create(null);return function(se){var me=K[se];return me||(K[se]=R(se))}}var C=/-(\w)/g,H=U(function(R){return R.replace(C,function(K,V){return V.toUpperCase()})});o("5db7"),o("73d9");var M=["Start","Add","Remove","Update","End"],N=["Choose","Unchoose","Sort","Filter","Clone"],W=["Move"],J=[W,M,N].flatMap(function(R){return R}).map(function(R){return"on".concat(R)}),$={manage:W,manageAndEmit:M,emit:N};function I(R){return J.indexOf(R)!==-1}o("caad"),o("2ca0");var Z=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ie(R){return Z.includes(R)}function ee(R){return["transition-group","TransitionGroup"].includes(R)}function B(R){return["id","class","role","style"].includes(R)||R.startsWith("data-")||R.startsWith("aria-")||R.startsWith("on")}function be(R){return R.reduce(function(K,V){var se=v(V,2),me=se[0],Be=se[1];return K[me]=Be,K},{})}function j(R){var K=R.$attrs,V=R.componentData,se=V===void 0?{}:V,me=be(Object.entries(K).filter(function(Be){var Le=v(Be,2),et=Le[0];return Le[1],B(et)}));return h(h({},me),se)}function q(R){var K=R.$attrs,V=R.callBackBuilder,se=be(le(K));Object.entries(V).forEach(function(Be){var Le=v(Be,2),et=Le[0],Ut=Le[1];$[et].forEach(function(Ge){se["on".concat(Ge)]=Ut(Ge)})});var me="[data-draggable]".concat(se.draggable||"");return h(h({},se),{},{draggable:me})}function le(R){return Object.entries(R).filter(function(K){var V=v(K,2),se=V[0];return V[1],!B(se)}).map(function(K){var V=v(K,2),se=V[0],me=V[1];return[H(se),me]}).filter(function(K){var V=v(K,2),se=V[0];return V[1],!I(se)})}o("c740");function Y(R,K){if(!(R instanceof K))throw new TypeError("Cannot call a class as a function")}function pe(R,K){for(var V=0;V<K.length;V++){var se=K[V];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Se(R,K,V){return K&&pe(R.prototype,K),V&&pe(R,V),R}var E=function(K){var V=K.el;return V},P=function(K,V){return K.__draggable_context=V},F=function(K){return K.__draggable_context},G=function(){function R(K){var V=K.nodes,se=V.header,me=V.default,Be=V.footer,Le=K.root,et=K.realList;Y(this,R),this.defaultNodes=me,this.children=[].concat(T(se),T(me),T(Be)),this.externalComponent=Le.externalComponent,this.rootTransition=Le.transition,this.tag=Le.tag,this.realList=et}return Se(R,[{key:"render",value:function(V,se){var me=this.tag,Be=this.children,Le=this._isRootComponent,et=Le?{default:function(){return Be}}:Be;return V(me,se,et)}},{key:"updated",value:function(){var V=this.defaultNodes,se=this.realList;V.forEach(function(me,Be){P(E(me),{element:se[Be],index:Be})})}},{key:"getUnderlyingVm",value:function(V){return F(V)}},{key:"getVmIndexFromDomIndex",value:function(V,se){var me=this.defaultNodes,Be=me.length,Le=se.children,et=Le.item(V);if(et===null)return Be;var Ut=F(et);if(Ut)return Ut.index;if(Be===0)return 0;var Ge=E(me[0]),Ve=T(Le).findIndex(function(Xe){return Xe===Ge});return V<Ve?0:Be}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),R}(),he=o("8bbf");function fe(R,K){var V=R[K];return V?V():[]}function de(R){var K=R.$slots,V=R.realList,se=R.getKey,me=V||[],Be=["header","footer"].map(function(Xe){return fe(K,Xe)}),Le=v(Be,2),et=Le[0],Ut=Le[1],Ge=K.item;if(!Ge)throw new Error("draggable element must have an item slot");var Ve=me.flatMap(function(Xe,yt){return Ge({element:Xe,index:yt}).map(function(It){return It.key=se(Xe),It.props=h(h({},It.props||{}),{},{"data-draggable":!0}),It})});if(Ve.length!==me.length)throw new Error("Item slot must have only one child");return{header:et,footer:Ut,default:Ve}}function te(R){var K=ee(R),V=!ie(R)&&!K;return{transition:K,externalComponent:V,tag:V?Object(he.resolveComponent)(R):K?he.TransitionGroup:R}}function z(R){var K=R.$slots,V=R.tag,se=R.realList,me=R.getKey,Be=de({$slots:K,realList:se,getKey:me}),Le=te(V);return new G({nodes:Be,root:Le,realList:se})}function ce(R,K){var V=this;Object(he.nextTick)(function(){return V.$emit(R.toLowerCase(),K)})}function we(R){var K=this;return function(V,se){if(K.realList!==null)return K["onDrag".concat(R)](V,se)}}function Ce(R){var K=this,V=we.call(this,R);return function(se,me){V.call(K,se,me),ce.call(K,R,se)}}var Me=null,We={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(K){return K}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Re=["update:modelValue","change"].concat(T([].concat(T($.manageAndEmit),T($.emit)).map(function(R){return R.toLowerCase()}))),dt=Object(he.defineComponent)({name:"draggable",inheritAttrs:!1,props:We,emits:Re,data:function(){return{error:!1}},render:function(){try{this.error=!1;var K=this.$slots,V=this.$attrs,se=this.tag,me=this.componentData,Be=this.realList,Le=this.getKey,et=z({$slots:K,tag:se,realList:Be,getKey:Le});this.componentStructure=et;var Ut=j({$attrs:V,componentData:me});return et.render(he.h,Ut)}catch(Ge){return this.error=!0,Object(he.h)("pre",{style:{color:"red"}},Ge.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&L.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var K=this;if(!this.error){var V=this.$attrs,se=this.$el,me=this.componentStructure;me.updated();var Be=q({$attrs:V,callBackBuilder:{manageAndEmit:function(Ut){return Ce.call(K,Ut)},emit:function(Ut){return ce.bind(K,Ut)},manage:function(Ut){return we.call(K,Ut)}}}),Le=se.nodeType===1?se:se.parentElement;this._sortable=new k.a(Le,Be),this.targetDomElement=Le,Le.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var K=this.list;return K||this.modelValue},getKey:function(){var K=this.itemKey;return typeof K=="function"?K:function(V){return V[K]}}},watch:{$attrs:{handler:function(K){var V=this._sortable;V&&le(K).forEach(function(se){var me=v(se,2),Be=me[0],Le=me[1];V.option(Be,Le)})},deep:!0}},methods:{getUnderlyingVm:function(K){return this.componentStructure.getUnderlyingVm(K)||null},getUnderlyingPotencialDraggableComponent:function(K){return K.__draggable_component__},emitChanges:function(K){var V=this;Object(he.nextTick)(function(){return V.$emit("change",K)})},alterList:function(K){if(this.list){K(this.list);return}var V=T(this.modelValue);K(V),this.$emit("update:modelValue",V)},spliceList:function(){var K=arguments,V=function(me){return me.splice.apply(me,T(K))};this.alterList(V)},updatePosition:function(K,V){var se=function(Be){return Be.splice(V,0,Be.splice(K,1)[0])};this.alterList(se)},getRelatedContextFromMoveEvent:function(K){var V=K.to,se=K.related,me=this.getUnderlyingPotencialDraggableComponent(V);if(!me)return{component:me};var Be=me.realList,Le={list:Be,component:me};if(V!==se&&Be){var et=me.getUnderlyingVm(se)||{};return h(h({},et),Le)}return Le},getVmIndexFromDomIndex:function(K){return this.componentStructure.getVmIndexFromDomIndex(K,this.targetDomElement)},onDragStart:function(K){this.context=this.getUnderlyingVm(K.item),K.item._underlying_vm_=this.clone(this.context.element),Me=K.item},onDragAdd:function(K){var V=K.item._underlying_vm_;if(V!==void 0){A(K.item);var se=this.getVmIndexFromDomIndex(K.newIndex);this.spliceList(se,0,V);var me={element:V,newIndex:se};this.emitChanges({added:me})}},onDragRemove:function(K){if(S(this.$el,K.item,K.oldIndex),K.pullMode==="clone"){A(K.clone);return}var V=this.context,se=V.index,me=V.element;this.spliceList(se,1);var Be={element:me,oldIndex:se};this.emitChanges({removed:Be})},onDragUpdate:function(K){A(K.item),S(K.from,K.item,K.oldIndex);var V=this.context.index,se=this.getVmIndexFromDomIndex(K.newIndex);this.updatePosition(V,se);var me={element:this.context.element,oldIndex:V,newIndex:se};this.emitChanges({moved:me})},computeFutureIndex:function(K,V){if(!K.element)return 0;var se=T(V.to.children).filter(function(et){return et.style.display!=="none"}),me=se.indexOf(V.related),Be=K.component.getVmIndexFromDomIndex(me),Le=se.indexOf(Me)!==-1;return Le||!V.willInsertAfter?Be:Be+1},onDragMove:function(K,V){var se=this.move,me=this.realList;if(!se||!me)return!0;var Be=this.getRelatedContextFromMoveEvent(K),Le=this.computeFutureIndex(Be,K),et=h(h({},this.context),{},{futureIndex:Le}),Ut=h(h({},K),{},{relatedContext:Be,draggedContext:et});return se(Ut,V)},onDragEnd:function(){Me=null}}}),Q=dt;s.default=Q},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),f=o("8418"),p=o("b622"),m=o("1dde"),y=o("ae40"),_=m("slice"),v=y("slice",{ACCESSORS:!0,0:0,1:2}),b=p("species"),g=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!_||!v},{slice:function(O,k){var A=h(this),S=d(A.length),L=c(O,S),U=c(k===void 0?S:k,S),C,H,M;if(u(A)&&(C=A.constructor,typeof C=="function"&&(C===Array||u(C.prototype))?C=void 0:l(C)&&(C=C[b],C===null&&(C=void 0)),C===Array||C===void 0))return g.call(A,L,U);for(H=new(C===void 0?Array:C)(w(U-L,0)),M=0;L<U;L++,M++)L in A&&f(H,M,A[L]);return H.length=M,H}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(aO);var XG=aO.exports;const JG=hG(XG),ZG=t=>($0("data-v-d69062a4"),t=t(),U0(),t),eq=ZG(()=>ne("h3",{class:"title-secondary"},"My Work",-1)),tq=Ee({__name:"Projects",setup(t){const e=zn(),{moveProject:n}=e,{projects:r}=Qt(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{Rr(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),cH(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return cn(()=>r.value,(o,a)=>{o>a&&s()}),Jt(()=>{s()}),(o,a)=>(D(),X(Ie,null,[eq,ae(x(JG),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":x(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:ye(({element:l})=>[ae(_r,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,description:l.description,loading:l.loading},{default:ye(()=>[(D(!0),X(Ie,null,ut(l.technologies,u=>(D(),ve(vt,{class:"m-1 md:mt-2 font-bold",style:Nn({backgroundColor:u.color})},{default:ye(()=>[qe(Qe(u.name),1)]),_:2},1032,["style"]))),256))]),_:2},1032,["title","url","description","loading"])]),_:1},8,["model-value"])],64))}});const nq=rO(tq,[["__scopeId","data-v-d69062a4"]]),rq={class:"grid mt-20"},iq=Ee({__name:"Home",setup(t){return(e,n)=>(D(),ve(Vo,{"scroll-to-content":!1},{content:ye(()=>[ne("div",rq,[ae(nq)])]),_:1}))}}),sq=Ee({__name:"Home",setup(t){return(e,n)=>(D(),ve(iq))}}),oq={class:"flex flex-col items-center content-center"},aq={class:"grid grid-cols-4 mt-10 gap-3"},lq=Ee({__name:"Login",setup(t){const e=Wn(),{loginLoading:n}=Qt(e),r=QI(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ue(),a=ue(),l=Ln({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return Jt(()=>{r.replace({query:void 0})}),(d,h)=>{const f=$s("RouterLink");return D(),ve(Vo,null,{content:ye(()=>[ae(_r,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:ye(()=>[ne("div",oq,[ne("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[4]||(h[4]=Pt(p=>u(),["prevent"]))},[ae(r_,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":h[0]||(h[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":h[1]||(h[1]=p=>l.email.error=p),rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ae(Il,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":h[2]||(h[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":h[3]||(h[3]=p=>l.password.error=p),rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ne("div",aq,[ae(vt,{class:"col-span-full md:col-span-2",action:"submit",loading:x(n)},{default:ye(()=>[qe(" Login ")]),_:1},8,["loading"]),ae(f,{class:"col-span-full md:col-span-2",to:{name:"register",query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:ye(()=>[ae(vt,{class:"w-full",outlined:""},{default:ye(()=>[qe(" Register ")]),_:1})]),_:1},8,["to"]),ae(vt,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",onClick:c},{default:ye(()=>[qe(" Forgot Password ")]),_:1})])],32),ae(n_)])]),_:1})]),_:1})}}}),uq=Ee({__name:"Login",setup(t){return(e,n)=>(D(),ve(lq))}}),cq=Ee({__name:"NotFound",setup(t){return(e,n)=>(D(),ve(Vo,{"scroll-to-content":!1},{content:ye(()=>[ae(_r,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),dq=Ee({__name:"NotFound",setup(t){return(e,n)=>(D(),ve(cq))}}),hq={class:"flex flex-col items-center content-center"},fq={class:"grid grid-cols-2 mt-10 gap-3"},pq=Ee({__name:"Register",setup(t){const e=Wn(),{loginLoading:n}=Qt(e),r=QI(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ue(),a=ue(),l=ue(),u=Ln({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return Jt(()=>{r.replace({query:void 0})}),(d,h)=>{const f=$s("RouterLink");return D(),ve(Vo,null,{content:ye(()=>[ae(_r,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:ye(()=>[ne("div",hq,[ne("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=Pt(p=>c(),["prevent"]))},[ae(Jn,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=p=>u.firstName.error=p),rules:[x(Et).Required,x(Et).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),ae(r_,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":h[3]||(h[3]=p=>u.email.error=p),rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ae(Il,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":h[5]||(h[5]=p=>u.password.error=p),rules:[x(Et).Required]},null,8,["modelValue","error","rules"]),ne("div",fq,[ae(vt,{class:"col-span-full md:col-span-1",action:"submit",loading:x(n)},{default:ye(()=>[qe(" Register ")]),_:1},8,["loading"]),ae(f,{to:{name:"login",query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:ye(()=>[ae(vt,{class:"w-full",outlined:""},{default:ye(()=>[qe(" Login ")]),_:1})]),_:1},8,["to"])])],32),ae(n_)])]),_:1})]),_:1})}}}),mq=Ee({__name:"Register",setup(t){return(e,n)=>(D(),ve(pq))}}),qm=T$({history:FL(""),routes:[{path:"/",name:"home",meta:{title:"Home"},component:sq,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];qm.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},{path:"/login",name:"login",meta:{title:"Login"},component:uq,beforeEnter:(t,e,n)=>{Wn().currentUser?n({name:"dashboard"}):n()}},{path:"/register",name:"register",meta:{title:"Register"},component:mq,beforeEnter:(t,e,n)=>{Wn().currentUser?n({name:"dashboard"}):n()}},{path:"/dashboard",name:"dashboard",meta:{title:"Dashboard"},component:cG,beforeEnter:(t,e,n)=>{Wn().currentUser?n():n({name:"login"})}},{path:"/blog/:postId?",name:"blog",meta:{title:"Blog"},component:Gz},{path:"/customvoting",name:"customvoting",meta:{title:"CustomVoting"},component:tG},{path:"/cat-calc",name:"cat-calc",meta:{title:"CatCalc"},component:Xz},{path:"/:pathMatch(.*)*",name:"notfound",meta:{title:"404"},component:dq}],scrollBehavior(t,e,n){return t.hash?new Promise((r,i)=>{let s=10;const o=()=>{setTimeout(()=>{try{document.getElementById(t.hash.replace("#",""))?r({el:t.hash,behavior:"smooth",top:15}):(s--,s>0?o():i())}catch(a){i(a)}},1e3)};o()}):n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),kS=nO.name;qm.beforeEach(async(t,e,n)=>{var r,i;if(t!==e){const s=zn();t.name&&(["home","login","register","dashboard","notfound"].includes(t.name.toString())||(i=await s.fetchMenuItems((r=Wn().firebaseUser)==null?void 0:r.uid))!=null&&i.some(o=>t.path.startsWith(o.url)))?n():n({name:"notfound"})}else n()});qm.beforeResolve(t=>{document.title=kS+" | "+t.meta.title||kS});const l_=qm;function wi(t){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ue(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ye(t){Ue(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||wi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ys(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Oi(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function wO(t,e){if(Ue(2,arguments),!e||wi(e)!=="object")return new Date(NaN);var n=e.years?Je(e.years):0,r=e.months?Je(e.months):0,i=e.weeks?Je(e.weeks):0,s=e.days?Je(e.days):0,o=e.hours?Je(e.hours):0,a=e.minutes?Je(e.minutes):0,l=e.seconds?Je(e.seconds):0,u=Ye(t),c=r||n?Oi(u,r+n*12):u,d=s||i?ys(c,s+i*7):c,h=a+o*60,f=l+h*60,p=f*1e3,m=new Date(d.getTime()+p);return m}function gq(t,e){Ue(2,arguments);var n=Ye(t).getTime(),r=Je(e);return new Date(n+r)}var vq={};function ds(){return vq}function Ua(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=ds(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function Ip(t){return Ue(1,arguments),Ua(t,{weekStartsOn:1})}function yq(t){Ue(1,arguments);var e=Ye(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Ip(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=Ip(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function wq(t){Ue(1,arguments);var e=yq(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ip(n);return r}function kp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function AS(t){Ue(1,arguments);var e=Ye(t);return e.setHours(0,0,0,0),e}var bq=864e5;function _q(t,e){Ue(2,arguments);var n=AS(t),r=AS(e),i=n.getTime()-kp(n),s=r.getTime()-kp(r);return Math.round((i-s)/bq)}function Tq(t,e){Ue(2,arguments);var n=Je(e),r=n*3;return Oi(t,r)}function u_(t,e){Ue(2,arguments);var n=Je(e);return Oi(t,n*12)}var c_=6e4,d_=36e5,Eq=1e3;function bO(t){return Ue(1,arguments),t instanceof Date||wi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Vc(t){if(Ue(1,arguments),!bO(t)&&typeof t!="number")return!1;var e=Ye(t);return!isNaN(Number(e))}function xS(t){Ue(1,arguments);var e=Ye(t),n=Math.floor(e.getMonth()/3)+1;return n}function _O(t,e){var n;Ue(1,arguments);var r=t||{},i=Ye(r.start),s=Ye(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Ye(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function bd(t){Ue(1,arguments);var e=Ye(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Sq(t){Ue(1,arguments);var e=t||{},n=Ye(e.start),r=Ye(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=bd(n),o=bd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(Ye(l)),l=Tq(l,1);return a}function Cq(t){Ue(1,arguments);var e=Ye(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Iq(t){Ue(1,arguments);var e=Ye(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function kq(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=ds(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getDay(),p=(f<d?-7:0)+6-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function PS(t){Ue(1,arguments);var e=Ye(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function TO(t,e){Ue(2,arguments);var n=Je(e);return gq(t,-n)}var Aq=864e5;function xq(t){Ue(1,arguments);var e=Ye(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Aq)+1}function hu(t){Ue(1,arguments);var e=1,n=Ye(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function EO(t){Ue(1,arguments);var e=Ye(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=hu(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=hu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Pq(t){Ue(1,arguments);var e=EO(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=hu(n);return r}var Dq=6048e5;function SO(t){Ue(1,arguments);var e=Ye(t),n=hu(e).getTime()-Pq(e).getTime();return Math.round(n/Dq)+1}function Fa(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=ds(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function h_(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=Ye(t),d=c.getUTCFullYear(),h=ds(),f=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=Fa(p,e),y=new Date(0);y.setUTCFullYear(d,0,f),y.setUTCHours(0,0,0,0);var _=Fa(y,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=_.getTime()?d:d-1}function Rq(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=ds(),d=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=h_(t,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var p=Fa(f,e);return p}var Oq=6048e5;function CO(t,e){Ue(1,arguments);var n=Ye(t),r=Fa(n,e).getTime()-Rq(n,e).getTime();return Math.round(r/Oq)+1}function Bt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Nq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Bt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Bt(r+1,2)},d:function(e,n){return Bt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Bt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Bt(e.getUTCHours(),n.length)},m:function(e,n){return Bt(e.getUTCMinutes(),n.length)},s:function(e,n){return Bt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Bt(s,n.length)}};const zs=Nq;var cl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return zs.y(e,n)},Y:function(e,n,r,i){var s=h_(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Bt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Bt(o,n.length)},R:function(e,n){var r=EO(e);return Bt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Bt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Bt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Bt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return zs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Bt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=CO(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Bt(s,n.length)},I:function(e,n,r){var i=SO(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Bt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):zs.d(e,n)},D:function(e,n,r){var i=xq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Bt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Bt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Bt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Bt(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=cl.noon:i===0?s=cl.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=cl.evening:i>=12?s=cl.afternoon:i>=4?s=cl.morning:s=cl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return zs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):zs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Bt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Bt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):zs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):zs.s(e,n)},S:function(e,n){return zs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return RS(o);case"XXXX":case"XX":return Xo(o);case"XXXXX":case"XXX":default:return Xo(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return RS(o);case"xxxx":case"xx":return Xo(o);case"xxxxx":case"xxx":default:return Xo(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+DS(o,":");case"OOOO":default:return"GMT"+Xo(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+DS(o,":");case"zzzz":default:return"GMT"+Xo(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Bt(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Bt(o,n.length)}};function DS(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Bt(s,2)}function RS(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Bt(Math.abs(t)/60,2)}return Xo(t,e)}function Xo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Bt(Math.floor(i/60),2),o=Bt(i%60,2);return r+s+n+o}const Lq=Mq;var OS=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},IO=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},$q=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return OS(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",OS(i,n)).replace("{{time}}",IO(s,n))},Uq={p:IO,P:$q};const f0=Uq;var Fq=["D","DD"],Vq=["YY","YYYY"];function kO(t){return Fq.indexOf(t)!==-1}function AO(t){return Vq.indexOf(t)!==-1}function Ap(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Bq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jq=function(e,n,r){var i,s=Bq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Hq=jq;function dv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Wq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zq={date:dv({formats:Wq,defaultWidth:"full"}),time:dv({formats:Kq,defaultWidth:"full"}),dateTime:dv({formats:Yq,defaultWidth:"full"})};const Gq=zq;var qq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qq=function(e,n,r,i){return qq[e]};const Xq=Qq;function qu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Jq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iQ=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sQ={ordinalNumber:iQ,era:qu({values:Jq,defaultWidth:"wide"}),quarter:qu({values:Zq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:qu({values:eQ,defaultWidth:"wide"}),day:qu({values:tQ,defaultWidth:"wide"}),dayPeriod:qu({values:nQ,defaultWidth:"wide",formattingValues:rQ,defaultFormattingWidth:"wide"})};const oQ=sQ;function Qu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?lQ(a,function(d){return d.test(o)}):aQ(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function aQ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function lQ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function uQ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var cQ=/^(\d+)(th|st|nd|rd)?/i,dQ=/\d+/i,hQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fQ={any:[/^b/i,/^(a|c)/i]},pQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mQ={any:[/1/i,/2/i,/3/i,/4/i]},gQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_Q={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TQ={ordinalNumber:uQ({matchPattern:cQ,parsePattern:dQ,valueCallback:function(e){return parseInt(e,10)}}),era:Qu({matchPatterns:hQ,defaultMatchWidth:"wide",parsePatterns:fQ,defaultParseWidth:"any"}),quarter:Qu({matchPatterns:pQ,defaultMatchWidth:"wide",parsePatterns:mQ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Qu({matchPatterns:gQ,defaultMatchWidth:"wide",parsePatterns:vQ,defaultParseWidth:"any"}),day:Qu({matchPatterns:yQ,defaultMatchWidth:"wide",parsePatterns:wQ,defaultParseWidth:"any"}),dayPeriod:Qu({matchPatterns:bQ,defaultMatchWidth:"any",parsePatterns:_Q,defaultParseWidth:"any"})};const EQ=TQ;var SQ={code:"en-US",formatDistance:Hq,formatLong:Gq,formatRelative:Xq,localize:oQ,match:EQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const xO=SQ;var CQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,IQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kQ=/^'([^]*?)'?$/,AQ=/''/g,xQ=/[a-zA-Z]/;function bo(t,e,n){var r,i,s,o,a,l,u,c,d,h,f,p,m,y,_,v,b,g;Ue(2,arguments);var w=String(e),T=ds(),O=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:xO,k=Je((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(d=T.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Je((f=(p=(m=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(_=n.locale)===null||_===void 0||(v=_.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&m!==void 0?m:T.weekStartsOn)!==null&&p!==void 0?p:(b=T.locale)===null||b===void 0||(g=b.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&f!==void 0?f:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var S=Ye(t);if(!Vc(S))throw new RangeError("Invalid time value");var L=kp(S),U=TO(S,L),C={firstWeekContainsDate:k,weekStartsOn:A,locale:O,_originalDate:S},H=w.match(IQ).map(function(M){var N=M[0];if(N==="p"||N==="P"){var W=f0[N];return W(M,O.formatLong)}return M}).join("").match(CQ).map(function(M){if(M==="''")return"'";var N=M[0];if(N==="'")return PQ(M);var W=Lq[N];if(W)return!(n!=null&&n.useAdditionalWeekYearTokens)&&AO(M)&&Ap(M,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&kO(M)&&Ap(M,e,String(t)),W(U,M,O.localize,C);if(N.match(xQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return M}).join("");return H}function PQ(t){var e=t.match(kQ);return e?e[1].replace(AQ,"'"):t}function DQ(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function RQ(t){Ue(1,arguments);var e=Ye(t),n=e.getDay();return n}function OQ(t){Ue(1,arguments);var e=Ye(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Ni(t){Ue(1,arguments);var e=Ye(t),n=e.getHours();return n}var NQ=6048e5;function MQ(t){Ue(1,arguments);var e=Ye(t),n=Ip(e).getTime()-wq(e).getTime();return Math.round(n/NQ)+1}function rs(t){Ue(1,arguments);var e=Ye(t),n=e.getMinutes();return n}function kt(t){Ue(1,arguments);var e=Ye(t),n=e.getMonth();return n}function fu(t){Ue(1,arguments);var e=Ye(t),n=e.getSeconds();return n}function LQ(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=Ye(t),d=c.getFullYear(),h=ds(),f=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var m=Ua(p,e),y=new Date(0);y.setFullYear(d,0,f),y.setHours(0,0,0,0);var _=Ua(y,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=_.getTime()?d:d-1}function $Q(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=ds(),d=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=LQ(t,e),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=Ua(f,e);return p}var UQ=6048e5;function FQ(t,e){Ue(1,arguments);var n=Ye(t),r=Ua(n,e).getTime()-$Q(n,e).getTime();return Math.round(r/UQ)+1}function ft(t){return Ue(1,arguments),Ye(t).getFullYear()}function _d(t,e){Ue(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()>r.getTime()}function Td(t,e){Ue(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()<r.getTime()}function Al(t,e){Ue(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()===r.getTime()}function NS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VQ(t,e){if(t){if(typeof t=="string")return NS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NS(t,e)}}function MS(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=VQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p0(t,e)}function Dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p0(t,e)}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function BQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jQ(t,e){if(e&&(wi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}function Rt(t){var e=BQ();return function(){var r=xp(t),i;if(e){var s=xp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return jQ(this,i)}}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HQ(t,e){if(wi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PO(t){var e=HQ(t,"string");return wi(e)==="symbol"?e:String(e)}function LS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PO(r.key),r)}}function _t(t,e,n){return e&&LS(t.prototype,e),n&&LS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ne(t,e,n){return e=PO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var WQ=10,DO=function(){function t(){bt(this,t),Ne(this,"priority",void 0),Ne(this,"subPriority",0)}return _t(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),KQ=function(t){Dt(n,t);var e=Rt(n);function n(r,i,s,o,a){var l;return bt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return _t(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(DO),YQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",WQ),Ne($e(r),"subPriority",-1),r}return _t(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(DO),$t=function(){function t(){bt(this,t),Ne(this,"incompatibleTokens",void 0),Ne(this,"priority",void 0),Ne(this,"subPriority",void 0)}return _t(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new KQ(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),zQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",140),Ne($e(r),"incompatibleTokens",["R","u","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}($t),En={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Sn(t,e){return t&&{value:e(t.value),rest:t.rest}}function pn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ki(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*d_+s*c_+o*Eq),rest:e.slice(n[0].length)}}function RO(t){return pn(En.anyDigitsSigned,t)}function _n(t,e){switch(t){case 1:return pn(En.singleDigit,e);case 2:return pn(En.twoDigits,e);case 3:return pn(En.threeDigits,e);case 4:return pn(En.fourDigits,e);default:return pn(new RegExp("^\\d{1,"+t+"}"),e)}}function Pp(t,e){switch(t){case 1:return pn(En.singleDigitSigned,e);case 2:return pn(En.twoDigitsSigned,e);case 3:return pn(En.threeDigitsSigned,e);case 4:return pn(En.fourDigitsSigned,e);default:return pn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function f_(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OO(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function NO(t){return t%400===0||t%4===0&&t%100!==0}var GQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Sn(_n(4,i),a);case"yo":return Sn(o.ordinalNumber(i,{unit:"year"}),a);default:return Sn(_n(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=OO(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}($t),qQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Sn(_n(4,i),a);case"Yo":return Sn(o.ordinalNumber(i,{unit:"year"}),a);default:return Sn(_n(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=h_(i,a);if(o.isTwoDigitYear){var u=OO(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Fa(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Fa(i,a)}}]),n}($t),QQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return Pp(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),hu(a)}}]),n}($t),XQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return Pp(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}($t),JQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",120),Ne($e(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return _n(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}($t),ZQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",120),Ne($e(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return _n(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}($t),eX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ne($e(r),"priority",110),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Sn(pn(En.month,i),a);case"MM":return Sn(_n(2,i),a);case"Mo":return Sn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}($t),tX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",110),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Sn(pn(En.month,i),a);case"LL":return Sn(_n(2,i),a);case"Lo":return Sn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}($t);function nX(t,e,n){Ue(2,arguments);var r=Ye(t),i=Je(e),s=CO(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var rX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",100),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return pn(En.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Fa(nX(i,o,a),a)}}]),n}($t);function iX(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e),i=SO(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var sX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",100),Ne($e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return pn(En.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return hu(iX(i,o))}}]),n}($t),oX=[31,28,31,30,31,30,31,31,30,31,30,31],aX=[31,29,31,30,31,30,31,31,30,31,30,31],lX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"subPriority",1),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return pn(En.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=NO(o),l=i.getUTCMonth();return a?s>=1&&s<=aX[l]:s>=1&&s<=oX[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}($t),uX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"subpriority",1),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return pn(En.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=NO(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}($t);function p_(t,e,n){var r,i,s,o,a,l,u,c;Ue(2,arguments);var d=ds(),h=Je((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ye(t),p=Je(e),m=f.getUTCDay(),y=p%7,_=(y+7)%7,v=(_<h?7:0)+p-m;return f.setUTCDate(f.getUTCDate()+v),f}var cX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=p_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}($t),dX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Sn(_n(s.length,i),l);case"eo":return Sn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=p_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}($t),hX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Sn(_n(s.length,i),l);case"co":return Sn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=p_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}($t);function fX(t,e){Ue(2,arguments);var n=Je(e);n%7===0&&(n=n-7);var r=1,i=Ye(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var pX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return _n(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Sn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Sn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Sn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Sn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=fX(i,o),i.setUTCHours(0,0,0,0),i}}]),n}($t),mX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(f_(o),0,0,0),i}}]),n}($t),gX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(f_(o),0,0,0),i}}]),n}($t),vX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["a","b","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(f_(o),0,0,0),i}}]),n}($t),yX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["H","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return pn(En.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}($t),wX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return pn(En.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}($t),bX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["h","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return pn(En.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}($t),_X=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return pn(En.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}($t),TX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",60),Ne($e(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return pn(En.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}($t),EX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",50),Ne($e(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return pn(En.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return _n(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}($t),SX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",30),Ne($e(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Sn(_n(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}($t),CX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",10),Ne($e(r),"incompatibleTokens",["t","T","x"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Ki(Wi.basicOptionalMinutes,i);case"XX":return Ki(Wi.basic,i);case"XXXX":return Ki(Wi.basicOptionalSeconds,i);case"XXXXX":return Ki(Wi.extendedOptionalSeconds,i);case"XXX":default:return Ki(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}($t),IX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",10),Ne($e(r),"incompatibleTokens",["t","T","X"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Ki(Wi.basicOptionalMinutes,i);case"xx":return Ki(Wi.basic,i);case"xxxx":return Ki(Wi.basicOptionalSeconds,i);case"xxxxx":return Ki(Wi.extendedOptionalSeconds,i);case"xxx":default:return Ki(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}($t),kX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",40),Ne($e(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return RO(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}($t),AX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",20),Ne($e(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return RO(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}($t),xX={G:new zQ,y:new GQ,Y:new qQ,R:new QQ,u:new XQ,Q:new JQ,q:new ZQ,M:new eX,L:new tX,w:new rX,I:new sX,d:new lX,D:new uX,E:new cX,e:new dX,c:new hX,i:new pX,a:new mX,b:new gX,B:new vX,h:new yX,H:new wX,K:new bX,k:new _X,m:new TX,s:new EX,S:new SX,X:new CX,x:new IX,t:new kX,T:new AX},PX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RX=/^'([^]*?)'?$/,OX=/''/g,NX=/\S/,MX=/[a-zA-Z]/;function m0(t,e,n,r){var i,s,o,a,l,u,c,d,h,f,p,m,y,_,v,b,g,w;Ue(3,arguments);var T=String(t),O=String(e),k=ds(),A=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:k.locale)!==null&&i!==void 0?i:xO;if(!A.match)throw new RangeError("locale must contain match property");var S=Je((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&a!==void 0?a:(h=k.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=Je((p=(m=(y=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(v=r.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&m!==void 0?m:(g=k.locale)===null||g===void 0||(w=g.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(L>=0&&L<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(O==="")return T===""?Ye(n):new Date(NaN);var U={firstWeekContainsDate:S,weekStartsOn:L,locale:A},C=[new YQ],H=O.match(DX).map(function(le){var Y=le[0];if(Y in f0){var pe=f0[Y];return pe(le,A.formatLong)}return le}).join("").match(PX),M=[],N=MS(H),W;try{var J=function(){var Y=W.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&AO(Y)&&Ap(Y,O,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&kO(Y)&&Ap(Y,O,t);var pe=Y[0],Se=xX[pe];if(Se){var E=Se.incompatibleTokens;if(Array.isArray(E)){var P=M.find(function(G){return E.includes(G.token)||G.token===pe});if(P)throw new RangeError("The format string mustn't contain `".concat(P.fullToken,"` and `").concat(Y,"` at the same time"))}else if(Se.incompatibleTokens==="*"&&M.length>0)throw new RangeError("The format string mustn't contain `".concat(Y,"` and any other token at the same time"));M.push({token:pe,fullToken:Y});var F=Se.run(T,Y,A.match,U);if(!F)return{v:new Date(NaN)};C.push(F.setter),T=F.rest}else{if(pe.match(MX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");if(Y==="''"?Y="'":pe==="'"&&(Y=LX(Y)),T.indexOf(Y)===0)T=T.slice(Y.length);else return{v:new Date(NaN)}}};for(N.s();!(W=N.n()).done;){var $=J();if(wi($)==="object")return $.v}}catch(le){N.e(le)}finally{N.f()}if(T.length>0&&NX.test(T))return new Date(NaN);var I=C.map(function(le){return le.priority}).sort(function(le,Y){return Y-le}).filter(function(le,Y,pe){return pe.indexOf(le)===Y}).map(function(le){return C.filter(function(Y){return Y.priority===le}).sort(function(Y,pe){return pe.subPriority-Y.subPriority})}).map(function(le){return le[0]}),Z=Ye(n);if(isNaN(Z.getTime()))return new Date(NaN);var ie=TO(Z,kp(Z)),ee={},B=MS(I),be;try{for(B.s();!(be=B.n()).done;){var j=be.value;if(!j.validate(ie,U))return new Date(NaN);var q=j.set(ie,ee,U);Array.isArray(q)?(ie=q[0],DQ(ee,q[1])):ie=q}}catch(le){B.e(le)}finally{B.f()}return ie}function LX(t){return t.match(RX)[1].replace(OX,"'")}function $S(t,e){Ue(2,arguments);var n=bd(t),r=bd(e);return n.getTime()===r.getTime()}function $X(t,e){Ue(2,arguments);var n=Je(e);return ys(t,-n)}function UX(t,e){var n;Ue(1,arguments);var r=Je((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=jX(t),s;if(i.date){var o=HX(i.date,r);s=WX(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=KX(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=YX(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var Zh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},FX=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VX=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,BX=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jX(t){var e={},n=t.split(Zh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Zh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Zh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Zh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function HX(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function WX(t,e){if(e===null)return new Date(NaN);var n=t.match(FX);if(!n)return new Date(NaN);var r=!!n[4],i=Xu(n[1]),s=Xu(n[2])-1,o=Xu(n[3]),a=Xu(n[4]),l=Xu(n[5])-1;if(r)return XX(e,a,l)?zX(e,a,l):new Date(NaN);var u=new Date(0);return!qX(e,s,o)||!QX(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Xu(t){return t?parseInt(t):1}function KX(t){var e=t.match(VX);if(!e)return NaN;var n=hv(e[1]),r=hv(e[2]),i=hv(e[3]);return JX(n,r,i)?n*d_+r*c_+i*1e3:NaN}function hv(t){return t&&parseFloat(t.replace(",","."))||0}function YX(t){if(t==="Z")return 0;var e=t.match(BX);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return ZX(r,i)?n*(r*d_+i*c_):NaN}function zX(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var GX=[31,null,31,30,31,30,31,31,30,31,30,31];function MO(t){return t%400===0||t%4===0&&t%100!==0}function qX(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(GX[e]||(MO(t)?29:28))}function QX(t,e){return e>=1&&e<=(MO(t)?366:365)}function XX(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function JX(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function ZX(t,e){return e>=0&&e<=59}function LO(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=OQ(o);return n.setMonth(r,Math.min(s,a)),n}function rn(t,e){if(Ue(2,arguments),wi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=Ye(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=LO(n,e.month)),e.date!=null&&n.setDate(Je(e.date)),e.hours!=null&&n.setHours(Je(e.hours)),e.minutes!=null&&n.setMinutes(Je(e.minutes)),e.seconds!=null&&n.setSeconds(Je(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Je(e.milliseconds)),n)}function $O(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return n.setHours(r),n}function m_(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return n.setMilliseconds(r),n}function UO(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return n.setMinutes(r),n}function g_(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return n.setSeconds(r),n}function Qi(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function pu(t,e){Ue(2,arguments);var n=Je(e);return Oi(t,-n)}function eJ(t,e){if(Ue(2,arguments),!e||wi(e)!=="object")return new Date(NaN);var n=e.years?Je(e.years):0,r=e.months?Je(e.months):0,i=e.weeks?Je(e.weeks):0,s=e.days?Je(e.days):0,o=e.hours?Je(e.hours):0,a=e.minutes?Je(e.minutes):0,l=e.seconds?Je(e.seconds):0,u=pu(t,r+n*12),c=$X(u,s+i*7),d=a+o*60,h=l+d*60,f=h*1e3,p=new Date(c.getTime()-f);return p}function FO(t,e){Ue(2,arguments);var n=Je(e);return u_(t,-n)}function ah(){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),ne("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ne("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ne("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}ah.compatConfig={MODE:3};function VO(){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),ne("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}VO.compatConfig={MODE:3};function v_(){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}v_.compatConfig={MODE:3};function y_(){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}y_.compatConfig={MODE:3};function w_(){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),ne("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}w_.compatConfig={MODE:3};function b_(){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}b_.compatConfig={MODE:3};function __(){return D(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}__.compatConfig={MODE:3};function T_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BO={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(BO);var tJ=BO.exports,g0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(g0,g0.exports);var nJ=g0.exports;const rJ=T_(nJ);var v0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(v0,v0.exports);var iJ=v0.exports;const US=T_(iJ);function sJ(t,e){var n=uJ(e);return n.formatToParts?aJ(n,t):lJ(n,t)}var oJ={year:0,month:1,day:2,hour:3,minute:4,second:5};function aJ(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=oJ[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function lJ(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var fv={};function uJ(t){if(!fv[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";fv[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return fv[t]}function E_(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var FS=36e5,cJ=6e4,pv={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function S_(t,e,n){var r,i;if(t===""||(r=pv.timezoneZ.exec(t),r))return 0;var s;if(r=pv.timezoneHH.exec(t),r)return s=parseInt(r[1],10),VS(s)?-(s*FS):NaN;if(r=pv.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return VS(s,o)?(i=Math.abs(s)*FS+o*cJ,s>0?-i:i):NaN}if(fJ(t)){e=new Date(e||Date.now());var a=n?e:dJ(e),l=y0(a,t),u=n?l:hJ(e,l,t);return-u}return NaN}function dJ(t){return E_(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function y0(t,e){var n=sJ(t,e),r=E_(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function hJ(t,e,n){var r=t.getTime(),i=r-e,s=y0(new Date(i),n);if(e===s)return e;i-=s-e;var o=y0(new Date(i),n);return s===o?s:Math.max(s,o)}function VS(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var BS={};function fJ(t){if(BS[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),BS[t]=!0,!0}catch{return!1}}var jO=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,mv=36e5,jS=6e4,pJ=2,Ar={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:jO};function w0(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?pJ:rJ(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=mJ(t),s=gJ(i.date,r),o=s.year,a=s.restDateString,l=vJ(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=yJ(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=S_(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=US(new Date(u+c)),d=US(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function mJ(t){var e={},n=Ar.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Ar.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Ar.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function gJ(t,e){var n=Ar.YYY[e],r=Ar.YYYYY[e],i;if(i=Ar.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Ar.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function vJ(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Ar.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,WS(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Ar.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return _J(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Ar.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return WS(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Ar.Www.exec(t),n)return s=parseInt(n[1],10)-1,KS(e,s)?HS(e,s):new Date(NaN);if(n=Ar.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return KS(e,s,l)?HS(e,s,l):new Date(NaN)}return null}function yJ(t){var e,n,r;if(e=Ar.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),gv(n)?n%24*mv:NaN;if(e=Ar.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),gv(n,r)?n%24*mv+r*jS:NaN;if(e=Ar.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return gv(n,r,i)?n%24*mv+r*jS+i*1e3:NaN}return null}function HS(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var wJ=[31,28,31,30,31,30,31,31,30,31,30,31],bJ=[31,29,31,30,31,30,31,31,30,31,30,31];function HO(t){return t%400===0||t%4===0&&t%100!==0}function WS(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=HO(t);if(r&&n>bJ[e]||!r&&n>wJ[e])return!1}return!0}function _J(t,e){if(e<1)return!1;var n=HO(t);return!(n&&e>366||!n&&e>365)}function KS(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function gv(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var b0={exports:{}},_0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(_0,_0.exports);var TJ=_0.exports;(function(t,e){var n=tJ.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(TJ);function i(s){return(0,r.default)({},s)}t.exports=e.default})(b0,b0.exports);var EJ=b0.exports;const SJ=T_(EJ);function CJ(t,e,n){var r=w0(t,n),i=S_(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function IJ(t,e,n){if(typeof t=="string"&&!t.match(jO)){var r=SJ(n);return r.timeZone=e,w0(t,r)}var i=w0(t,n),s=E_(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=S_(e,new Date(s));return new Date(s+o)}function YS(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function kJ(t){return e=>bo(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const AJ=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(kJ(t))}catch{i=r.map(YS(e))}else i=r.map(YS(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},C_=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},WO=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=bo(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},xJ=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],On=t=>{const e=x(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},PJ=t=>Object.assign({type:"dot"},t),KO=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Dp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},$n=t=>t,zS=t=>t===0?t:!t||isNaN(+t)?null:+t,GS=t=>t===null,DJ=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},RJ=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Ed=(t,e,n)=>{const r=n??n===0,i=e??e===0;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},mu=(t,e)=>RJ(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),_o=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},OJ=t=>{if(t.nextElementSibling)return t.nextElementSibling;for(;t.parentElement&&!t.parentElement.nextElementSibling;)t=t.parentElement;return t.parentElement?t.parentElement.nextElementSibling:null},NJ=t=>{if(!t)return!1;const e=["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])"],n=t.matches(e.join(", ")),r=t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0;return n&&r},MJ=t=>{if(!t)return null;let e=t;for(;e;)if(e=OJ(e),NJ(e))return e;return null},qS=(t,e,n,r,i)=>{const s=m0(t,e.slice(0,t.length),new Date);return Vc(s)&&bO(s)?r||i?s:rn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},LJ=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return qS(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=qS(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},_e=t=>t?new Date(t):new Date,$J=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Gr=t=>{let e=_e(JSON.parse(JSON.stringify(t)));return e=$O(e,0),e=UO(e,0),e=g_(e,0),e=m_(e,0),e},To=(t,e,n,r)=>{let i=t?_e(t):_e();return(e||e===0)&&(i=$O(i,+e)),(n||n===0)&&(i=UO(i,+n)),(r||r===0)&&(i=g_(i,+r)),m_(i,0)},tr=(t,e)=>!t||!e?!1:Td(Gr(t),Gr(e)),Nt=(t,e)=>!t||!e?!1:Al(Gr(t),Gr(e)),gr=(t,e)=>!t||!e?!1:_d(Gr(t),Gr(e)),Qm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?gr(n,t[0])&&tr(n,t[1]):t!=null&&t[0]&&e?gr(n,t[0])&&tr(n,e)||tr(n,t[0])&&gr(n,e):!1,Ai=t=>{const e=rn(new Date(t),{date:1});return Gr(e)},vv=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ya=t=>({hours:Ni(t),minutes:rs(t),seconds:fu(t)}),YO=(t,e)=>{if(e){const n=ft(_e(e));if(n>t)return 12;if(n===t)return kt(_e(e))}},zO=(t,e)=>{if(e){const n=ft(_e(e));return n<t?-1:n===t?kt(_e(e)):void 0}},gu=t=>{if(t)return ft(_e(t))},pi=(t,e)=>e?CJ(t,e):t,GO=(t,e)=>e?IJ(t,e):t,QS=t=>t instanceof Date?t:UX(t),qO=(t,e)=>{const n=gr(t,e)?e:t,r=gr(e,t)?e:t;return _O({start:n,end:r})},UJ=t=>{const e=Oi(t,1);return{month:kt(e),year:ft(e)}},_f=(t,e,n)=>{const r=Ua(pi(t,e),{weekStartsOn:+n}),i=kq(pi(t,e),{weekStartsOn:+n});return[r,i]},QO=(t,e)=>{const n={hours:Ni(_e()),minutes:rs(_e()),seconds:e?fu(_e()):0};return Object.assign(n,t)},co=(t,e,n)=>[rn(_e(t),{date:1}),rn(_e(),{month:e,year:n,date:1})],Es=(t,e,n)=>{let r=t?_e(t):_e();return(e||e===0)&&(r=LO(r,e)),n&&(r=Qi(r,n)),r},XO=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Oi(t,1):pu(t,1),o=[kt(s),ft(s)];return i?!VJ(...o,e):!FJ(...o,n)},FJ=(t,e,n)=>tr(...co(n,t,e))||Nt(...co(n,t,e)),VJ=(t,e,n)=>gr(...co(n,t,e))||Nt(...co(n,t,e)),JO=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${bo(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?bo(t[1],s,a):""}`:bo(t,s,a)},dl=t=>{if(t)return null;throw new Error(Dp.prop("partial-range"))},ef=(t,e)=>{if(e)return t();throw new Error(Dp.prop("range"))},T0=t=>Array.isArray(t)?Vc(t[0])&&(t[1]?Vc(t[1]):!0):t?Vc(t):!1,BJ=(t,e)=>rn(e??_e(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),yv=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Td(t,e):_d(t,e),s={seconds:0,milliseconds:0};return i||Al(rn(t,s),rn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},wv=(t,e,n)=>t?BJ(t,e):_e(n??e),XS=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=wv(t,r[0],e),a=wv(t,r[1],e);return yv(r[0],o,n,!!e)&&yv(r[1],a,n,!!e)&&i}const s=wv(t,r,e);return yv(r,s,n,!!e)&&i},bv=t=>rn(_e(),ya(t)),jJ=(t,e)=>Array.isArray(t)?t.map(n=>_e(n)).filter(n=>ft(_e(n))===e).map(n=>kt(n)):[],ZO=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),I_=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Ju=Ln({menuFocused:!1,shiftKeyInMenu:!1}),eN=()=>{const t=n=>{Ju.menuFocused=n},e=n=>{Ju.shiftKeyInMenu!==n&&(Ju.shiftKeyInMenu=n)};return{control:re(()=>({shiftKeyInMenu:Ju.shiftKeyInMenu,menuFocused:Ju.menuFocused})),setMenuFocused:t,setShiftKey:e}},Zt=Ln({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),_v=ue(null),tf=ue(!1),Tv=ue(!1),Ev=ue(!1),Sv=ue(!1),Sr=ue(0),Gn=ue(0),Bo=()=>{const t=re(()=>tf.value?[...Zt.selectionGrid,Zt.actionRow].filter(d=>d.length):Tv.value?[...Zt.timePicker[0],...Zt.timePicker[1],Sv.value?[]:[_v.value],Zt.actionRow].filter(d=>d.length):Ev.value?[...Zt.monthPicker,Zt.actionRow]:[Zt.monthYear,...Zt.calendar,Zt.time,Zt.actionRow].filter(d=>d.length)),e=d=>{Sr.value=d?Sr.value+1:Sr.value-1;let h=null;t.value[Gn.value]&&(h=t.value[Gn.value][Sr.value]),h||(Sr.value=d?Sr.value-1:Sr.value+1)},n=d=>{Gn.value===0&&!d||Gn.value===t.value.length&&d||(Gn.value=d?Gn.value+1:Gn.value-1,t.value[Gn.value]?t.value[Gn.value]&&!t.value[Gn.value][Sr.value]&&Sr.value!==0&&(Sr.value=t.value[Gn.value].length-1):Gn.value=d?Gn.value-1:Gn.value+1)},r=d=>{let h=null;t.value[Gn.value]&&(h=t.value[Gn.value][Sr.value]),h?h.focus({preventScroll:!tf.value}):Sr.value=d?Sr.value-1:Sr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{Zt[h]=d},u=(d,h)=>{Zt[h]=d},c=()=>{Sr.value=0,Gn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{_v.value=d},setSelectionGrid:d=>{tf.value=d,c(),d||(Zt.selectionGrid=[])},setTimePicker:(d,h=!1)=>{Tv.value=d,Sv.value=h,c(),d||(Zt.timePicker[0]=[],Zt.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{Zt.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{Zt.monthYear=[],Zt.calendar=[],Zt.time=[],Zt.actionRow=[],Zt.selectionGrid=[],Zt.timePicker[0]=[],Zt.timePicker[1]=[],tf.value=!1,Tv.value=!1,Sv.value=!1,Ev.value=!1,c(),_v.value=null},setMonthPicker:d=>{Ev.value=d,c()},refSets:Zt}},JS=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),HJ=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),ZS=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,WJ=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:ZS(!1)};const r=e?t:{},i=e?r.count??!0:t,s=ZS(i);return Object.assign(n,r,{count:s})},KJ=(t,e,n)=>t||(typeof n=="string"?n:e),YJ=t=>typeof t=="boolean"?t?JS({}):!1:JS(t),zJ=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},GJ=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),qJ=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),QJ=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},XJ=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,...t??{}}),JJ=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>_e(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},Cn=t=>{const e=()=>{const y=t.enableSeconds?":ss":"";return t.is24?`HH:mm${y}`:`hh:mm${y} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=y=>QO(y,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=re(()=>WJ(t.multiCalendars)),o=re(()=>i()),a=re(()=>HJ(t.ariaLabels)),l=re(()=>GJ(t.filters)),u=re(()=>YJ(t.transitions)),c=re(()=>qJ(t.actionRow)),d=re(()=>KJ(t.previewFormat,t.format,n())),h=re(()=>zJ(t.textInput)),f=re(()=>QJ(t.inline)),p=re(()=>XJ(t.config)),m=re(()=>JJ(t.highlight,t.highlightWeekDays,t.highlightDisabledDays));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:f,defaultedConfig:p,defaultedHighlight:m,getDefaultPattern:n,getDefaultStartTime:i}},ZJ=(t,e,n)=>{const r=ue(),{defaultedTextInput:i,getDefaultPattern:s}=Cn(e),o=ue(""),a=Kl(e,"format");cn(r,()=>{t("internal-model-change",r.value)}),cn(a,()=>{H()});const l=I=>GO(I,e.timezone),u=I=>pi(I,e.timezone),c=(I,Z,ie=!1)=>JO(I,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,Z??s(),ie),d=I=>I?e.modelType?N(I):{hours:Ni(I),minutes:rs(I),seconds:e.enableSeconds?fu(I):0}:null,h=I=>e.modelType?N(I):{month:kt(I),year:ft(I)},f=I=>Array.isArray(I)?e.multiDates?I.map(Z=>p(Z,Qi(_e(),Z))):ef(()=>[Qi(_e(),I[0]),I[1]?Qi(_e(),I[1]):dl(e.partialRange)],e.range):Qi(_e(),+I),p=(I,Z)=>(typeof I=="string"||typeof I=="number")&&e.modelType?M(I):Z,m=I=>Array.isArray(I)?[p(I[0],To(null,+I[0].hours,+I[0].minutes,I[0].seconds)),p(I[1],To(null,+I[1].hours,+I[1].minutes,I[1].seconds))]:p(I,To(null,I.hours,I.minutes,I.seconds)),y=I=>Array.isArray(I)?e.multiDates?I.map(Z=>p(Z,Es(null,+Z.month,+Z.year))):ef(()=>[p(I[0],Es(null,+I[0].month,+I[0].year)),p(I[1],I[1]?Es(null,+I[1].month,+I[1].year):dl(e.partialRange))],e.range):p(I,Es(null,+I.month,+I.year)),_=I=>{if(Array.isArray(I))return I.map(Z=>M(Z));throw new Error(Dp.dateArr("multi-dates"))},v=I=>{if(Array.isArray(I))return[_e(I[0]),_e(I[1])];throw new Error(Dp.dateArr("week-picker"))},b=I=>e.modelAuto?Array.isArray(I)?[M(I[0]),M(I[1])]:e.autoApply?[M(I)]:[M(I),null]:Array.isArray(I)?ef(()=>[M(I[0]),I[1]?M(I[1]):dl(e.partialRange)],e.range):M(I),g=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(dl(e.partialRange))},w=()=>{const I=r.value;return[N(I[0]),I[1]?N(I[1]):dl(e.partialRange)]},T=()=>r.value[1]?w():N($n(r.value[0])),O=()=>(r.value||[]).map(I=>N(I)),k=()=>(g(),e.modelAuto?T():e.multiDates?O():Array.isArray(r.value)?ef(()=>w(),e.range):N($n(r.value))),A=I=>!I||Array.isArray(I)&&!I.length?null:e.timePicker?m($n(I)):e.monthPicker?y($n(I)):e.yearPicker?f($n(I)):e.multiDates?_($n(I)):e.weekPicker?v($n(I)):b($n(I)),S=I=>{const Z=A(I);T0($n(Z))?(r.value=$n(Z),H()):(r.value=null,o.value="")},L=()=>{const I=Z=>bo(Z,i.value.format);return`${I(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?I(r.value[1]):""}`},U=()=>n.value&&r.value?Array.isArray(r.value)?L():bo(r.value,i.value.format):c(r.value),C=()=>r.value?e.multiDates?r.value.map(I=>c(I)).join("; "):i.value.enabled&&typeof i.value.format=="string"?U():c(r.value):"",H=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=C():o.value=e.format(r.value)},M=I=>{if(e.utc){const Z=new Date(I);return e.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(I)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?m0(I,s(),new Date):u(m0(I,e.modelType,new Date)):u(new Date(I))},N=I=>I?e.utc?$J(I,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(I):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(I)):c(l(I),e.modelType,!0):l(I):"",W=(I,Z=!1)=>{if(t("update:model-value",I),e.emitTimezone&&Z){const ie=Array.isArray(I)?I.map(ee=>pi($n(ee)),e.emitTimezone):pi($n(I),e.emitTimezone);t("update:model-timezone-value",ie)}},J=I=>Array.isArray(r.value)?e.multiDates?r.value.map(Z=>I(Z)):[I(r.value[0]),r.value[1]?I(r.value[1]):dl(e.partialRange)]:I($n(r.value)),$=I=>W($n(J(I)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:S,formatInputValue:H,emitModelValue:()=>(H(),e.monthPicker?$(h):e.timePicker?$(d):e.yearPicker?$(ft):e.weekPicker?W(r.value.map(I=>N(I)),!0):W(k(),!0))}},eZ=(t,e)=>{const{defaultedFilters:n}=Cn(t),{validateMonthYearInRange:r}=Ou(t),i=(u,c)=>{let d=u;return n.value.months.includes(kt(d))?(d=c?Oi(u,1):pu(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(ft(d))?(d=c?u_(u,1):FO(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=rn(new Date,{month:t.month,year:t.year});let h=u?Oi(d,1):pu(d,1);t.disableYearSelect&&(h=Qi(h,t.year));let f=kt(h),p=ft(h);n.value.months.includes(f)&&(h=i(h,u),f=kt(h),p=ft(h)),n.value.years.includes(p)&&(h=s(h,u),p=ft(h)),r(f,p,u,t.preventMinMaxNavigation)&&a(f,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=re(()=>u=>XO(rn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var bl=(t=>(t.center="center",t.left="left",t.right="right",t))(bl||{}),Ti=(t=>(t.month="month",t.year="year",t))(Ti||{}),Jo=(t=>(t.top="top",t.bottom="bottom",t))(Jo||{}),wa=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(wa||{}),Bi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Bi||{});const tZ=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=ue({}),u=ue(!1),c=ue({top:"0",left:"0"}),d=ue(!1),h=Kl(o,"teleportCenter");cn(h,()=>{c.value=JSON.parse(JSON.stringify({})),g()});const f=M=>{if(o.teleport){const N=M.getBoundingClientRect();return{left:N.left+window.scrollX,top:N.top+window.scrollY}}return{top:0,left:0}},p=(M,N)=>{c.value.left=`${M+N-l.value.width}px`},m=M=>{c.value.left=`${M}px`},y=(M,N)=>{o.position===bl.left&&m(M),o.position===bl.right&&p(M,N),o.position===bl.center&&(c.value.left=`${M+N/2-l.value.width/2}px`)},_=M=>{const{width:N,height:W}=M.getBoundingClientRect(),{top:J,left:$}=o.altPosition?o.altPosition(M):f(M);return{top:+J,left:+$,width:N,height:W}},v=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},b=()=>{const M=On(n),{top:N,left:W,transform:J}=o.altPosition(M);c.value={top:`${N}px`,left:`${W}px`,transform:J??""}},g=(M=!0)=>{var N;if(!i.value.enabled){if(h.value)return v();if(o.altPosition!==null)return b();if(M){const W=o.teleport?(N=e.value)==null?void 0:N.$el:t.value;W&&(l.value=W.getBoundingClientRect()),s("recalculate-position")}return L()}},w=({inputEl:M,left:N,width:W})=>{window.screen.width>768&&!u.value&&y(N,W),k(M)},T=M=>{const{top:N,left:W,height:J,width:$}=_(M);c.value.top=`${J+N+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${W+$/2-l.value.width/2}px`),w({inputEl:M,left:W,width:$})},O=M=>{const{top:N,left:W,width:J}=_(M);c.value.top=`${N-+o.offset-l.value.height}px`,d.value=!0,w({inputEl:M,left:W,width:J})},k=M=>{if(o.autoPosition){const{left:N,width:W}=_(M),{left:J,right:$}=l.value;if(!u.value){if(Math.abs(J)!==Math.abs($)){if(J<=0)return u.value=!0,m(N);if($>=document.documentElement.clientWidth)return u.value=!0,p(N,W)}return y(N,W)}}},A=()=>{const M=On(n);if(M){const{height:N}=l.value,{top:W,height:J}=M.getBoundingClientRect(),$=window.innerHeight-W-J,I=W;return N<=$?Jo.bottom:N>$&&N<=I?Jo.top:$>=I?Jo.bottom:Jo.top}return Jo.bottom},S=M=>A()===Jo.bottom?T(M):O(M),L=()=>{const M=On(n);if(M)return o.autoPosition?S(M):T(M)},U=function(M){if(M){const N=M.scrollHeight>M.clientHeight,W=window.getComputedStyle(M).overflowY.indexOf("hidden")!==-1;return N&&!W}return!0},C=function(M){return!M||M===document.body||M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:U(M)?M:C(M.parentNode)},H=M=>{if(M)switch(o.position){case bl.left:return{left:0,transform:"translateX(0)"};case bl.right:return{left:`${M.width}px`,transform:"translateX(-100%)"};default:return{left:`${M.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:g,getScrollableParent:C,shadowRender:(M,N)=>{var W,J,$;const I=document.createElement("div"),Z=(W=On(n))==null?void 0:W.getBoundingClientRect();I.setAttribute("id","dp--temp-container");const ie=(J=r.value)!=null&&J.clientWidth?r.value:document.body;ie.append(I);const ee=document.getElementById("dp--temp-container"),B=H(Z),be=Dd(M,{...N,shadow:!0,style:{opacity:0,position:"absolute",...B}},Object.fromEntries(Object.keys(a).filter(j=>["right-sidebar","left-sidebar"].includes(j)).map(j=>[j,a[j]])));Qc(be,ee),l.value=($=be.el)==null?void 0:$.getBoundingClientRect(),Qc(null,ee),ie.removeChild(ee)}}},Gs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],nZ=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],rZ={all:()=>Gs,monthYear:()=>Gs.filter(t=>t.use.includes("month-year")),input:()=>nZ,timePicker:()=>Gs.filter(t=>t.use.includes("time")),action:()=>Gs.filter(t=>t.use.includes("action")),calendar:()=>Gs.filter(t=>t.use.includes("calendar")),menu:()=>Gs.filter(t=>t.use.includes("menu")),shared:()=>Gs.filter(t=>t.use.includes("shared")),yearMode:()=>Gs.filter(t=>t.use.includes("year-mode"))},ti=(t,e,n)=>{const r=[];return rZ[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},lh=t=>{const e=re(()=>r=>t.value?r?t.value.open:t.value.close:""),n=re(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},uh=(t,e)=>{const n=_e(pi(new Date,t.timezone)),r=ue([{month:kt(n),year:ft(n)}]),i=Ln({hours:t.range?[Ni(n),Ni(n)]:Ni(n),minutes:t.range?[rs(n),rs(n)]:rs(n),seconds:t.range?[0,0]:0}),s=re({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=re(()=>l=>r.value[l]?r.value[l].month:0),a=re(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},iZ=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Cn(e),{isDisabled:i,matchDate:s}=Ou(e),o=ue(null),a=ue(_e(pi(new Date,e.timezone))),l=$=>{!$.current&&e.hideOffsetDates||(o.value=$.value)},u=()=>{o.value=null},c=$=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?$?gr(o.value,t.value[0]):tr(o.value,t.value[0]):!0,d=($,I)=>{const Z=()=>t.value?I?t.value[0]||null:t.value[1]:null,ie=t.value&&Array.isArray(t.value)?Z():null;return Nt(_e($.value),ie)},h=$=>{const I=Array.isArray(t.value)?t.value[0]:null;return $?!tr(o.value??null,I):!0},f=($,I=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!$.current?!1:Nt(_e($.value),t.value[I?0:1]):e.range?d($,I)&&h(I)||Nt($.value,Array.isArray(t.value)?t.value[0]:null)&&c(I):!1,p=($,I,Z)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?$?!1:Z?gr(t.value[0],I.value):tr(t.value[0],I.value):!1,m=$=>!t.value||e.hideOffsetDates&&!$.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Nt($.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(I=>Nt(I,$.value)):Nt($.value,t.value?t.value:a.value),y=$=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!$.current)return!1;const I=ys(o.value,+e.autoRange),Z=_f(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Nt(Z[1],_e($.value)):Nt(I,_e($.value))}return!1}return!1},_=$=>{if(e.autoRange||e.weekPicker){if(o.value){const I=ys(o.value,+e.autoRange);if(e.hideOffsetDates&&!$.current)return!1;const Z=_f(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?gr($.value,Z[0])&&tr($.value,Z[1]):gr($.value,o.value)&&tr($.value,I)}return!1}return!1},v=$=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!$.current)return!1;const I=_f(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Nt(I[0],$.value):Nt(o.value,$.value)}return!1}return!1},b=$=>Qm(t.value,o.value,$.value),g=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,w=()=>e.modelAuto?KO(e.internalModelValue):!0,T=$=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const I=e.range?!f($)&&!f($,!1):!0;return!i($.value)&&!m($)&&!(!$.current&&e.hideOffsetDates)&&I},O=$=>e.range?e.modelAuto?g()&&m($):!1:m($),k=$=>{var I;return r.value?typeof r.value=="function"?r.value($.value):s($.value,(I=e.arrMapValues)!=null&&I.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},A=$=>{const I=i($.value);return I&&(typeof r.value=="function"?!r.value($.value,I):!r.value.options.highlightDisabled)},S=$=>{var I;return typeof r.value=="function"?r.value($.value):(I=r.value.weekdays)==null?void 0:I.includes($.value.getDay())},L=$=>(e.range||e.weekPicker)&&(!(n.value.count>0)||$.current)&&w()&&!(!$.current&&e.hideOffsetDates)&&!m($)?b($):!1,U=$=>{const{isRangeStart:I,isRangeEnd:Z}=M($),ie=e.range?I||Z:!1;return{dp__cell_offset:!$.current,dp__pointer:!e.disabled&&!(!$.current&&e.hideOffsetDates)&&!i($.value),dp__cell_disabled:i($.value),dp__cell_highlight:!A($)&&(k($)||S($))&&!O($)&&!ie&&!v($)&&!(L($)&&e.weekPicker)&&!Z,dp__cell_highlight_active:!A($)&&(k($)||S($))&&O($),dp__today:!e.noToday&&Nt($.value,a.value)&&$.current}},C=$=>({dp__active_date:O($),dp__date_hover:T($)}),H=$=>({...N($),...W($),dp__range_between_week:L($)&&e.weekPicker}),M=$=>{const I=n.value.count>0?$.current&&f($)&&w():f($)&&w(),Z=n.value.count>0?$.current&&f($,!1)&&w():f($,!1)&&w();return{isRangeStart:I,isRangeEnd:Z}},N=$=>{const{isRangeStart:I,isRangeEnd:Z}=M($);return{dp__range_start:I,dp__range_end:Z,dp__range_between:L($)&&!e.weekPicker,dp__date_hover_start:p(T($),$,!0),dp__date_hover_end:p(T($),$,!1)}},W=$=>({...N($),dp__cell_auto_range:_($),dp__cell_auto_range_start:v($),dp__cell_auto_range_end:y($)}),J=$=>e.range?e.autoRange?W($):e.modelAuto?{...C($),...N($)}:N($):e.weekPicker?H($):C($);return{setHoverDate:l,clearHoverDate:u,getDayClassData:$=>e.hideOffsetDates&&!$.current?{}:{...U($),...J($),[e.dayClass?e.dayClass($.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ou=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Cn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=S=>{const L=Gr(s(_e(S))).toISOString(),[U]=L.split("T");return U},s=S=>t.utc==="preserve"?GO(S,r()):pi(S,r()),o=S=>{var L;const U=t.maxDate?gr(s(S),s(_e(t.maxDate))):!1,C=t.minDate?tr(s(S),s(_e(t.minDate))):!1,H=c(s(S),(L=t.arrMapValues)!=null&&L.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),M=e.value.months.map(I=>+I).includes(kt(S)),N=t.disabledWeekDays.length?t.disabledWeekDays.some(I=>+I===RQ(S)):!1,W=h(S),J=ft(S),$=J<+t.yearRange[0]||J>+t.yearRange[1];return!(U||C||H||M||$||N||W)},a=(S,L)=>tr(...co(t.minDate,S,L))||Nt(...co(t.minDate,S,L)),l=(S,L)=>gr(...co(t.maxDate,S,L))||Nt(...co(t.maxDate,S,L)),u=(S,L,U)=>{let C=!1;return t.maxDate&&U&&l(S,L)&&(C=!0),t.minDate&&!U&&a(S,L)&&(C=!0),C},c=(S,L)=>S?L instanceof Map?!!L.get(i(S)):Array.isArray(L)?L.some(U=>Nt(s(_e(U)),s(S))):L?L(_e(JSON.parse(JSON.stringify(S)))):!1:!0,d=(S,L,U,C)=>{let H=!1;return C?t.minDate&&t.maxDate?H=u(S,L,U):(t.minDate&&a(S,L)||t.maxDate&&l(S,L))&&(H=!0):H=!0,H},h=S=>{var L,U,C,H,M;return Array.isArray(t.allowedDates)&&!((L=t.allowedDates)!=null&&L.length)?!0:(U=t.arrMapValues)!=null&&U.allowedDates?!c(S,(C=t.arrMapValues)==null?void 0:C.allowedDates):(H=t.allowedDates)!=null&&H.length?!((M=t.allowedDates)!=null&&M.some(N=>Nt(s(_e(N)),s(S)))):!1},f=S=>!o(S),p=S=>t.noDisabledRange?!_O({start:S[0],end:S[1]}).some(L=>f(L)):!0,m=(S,L,U=0)=>{if(Array.isArray(L)&&L[U]){const C=_q(S,L[U]),H=qO(L[U],S),M=H.length===1?0:H.filter(W=>f(W)).length,N=Math.abs(C)-M;if(t.minRange&&t.maxRange)return N>=+t.minRange&&N<=+t.maxRange;if(t.minRange)return N>=+t.minRange;if(t.maxRange)return N<=+t.maxRange}return!0},y=S=>new Map(S.map(L=>[i(L),!0])),_=S=>Array.isArray(S)&&S.length>0,v=()=>{const S={disabledDates:null,allowedDates:null,highlightedDates:null};return _(t.allowedDates)&&(S.allowedDates=y(t.allowedDates)),typeof n.value!="function"&&_(n.value.dates)&&(S.highlightedDates=y(n.value.dates)),_(t.disabledDates)&&(S.disabledDates=y(t.disabledDates)),S},b=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,g=S=>Array.isArray(S)?[S[0]?bv(S[0]):null,S[1]?bv(S[1]):null]:bv(S),w=(S,L,U)=>S.find(C=>+C.hours===Ni(L)&&C.minutes==="*"?!0:+C.minutes===rs(L)&&+C.hours===Ni(L))&&U,T=(S,L,U)=>{const[C,H]=S,[M,N]=L;return!w(C,M,U)&&!w(H,N,U)&&U},O=(S,L)=>{const U=Array.isArray(L)?L:[L];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?T(t.disabledTimes,U,S):!U.some(C=>w(t.disabledTimes,C,S)):S},k=(S,L)=>{const U=Array.isArray(L)?[ya(L[0]),L[1]?ya(L[1]):void 0]:ya(L),C=!t.disabledTimes(U);return S&&C},A=(S,L)=>t.disabledTimes?Array.isArray(t.disabledTimes)?O(L,S):k(L,S):L;return{isDisabled:f,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:m,matchDate:c,mapDatesArrToMap:v,isValidTime:S=>{let L=!0;if(!S||b())return!0;const U=!t.minDate&&!t.maxDate?g(S):S;return(t.maxTime||t.maxDate)&&(L=XS(t.maxTime,t.maxDate,"max",$n(U),L)),(t.minTime||t.minDate)&&(L=XS(t.minTime,t.minDate,"min",$n(U),L)),A(S,L)}}},Xm=()=>{const t=re(()=>(r,i)=>r==null?void 0:r.includes(i)),e=re(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=re(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},sZ=(t,e,n)=>{const r=ue(0),i=Ln({[wa.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[wa.calendar]:!1,[wa.header]:!1}),s=(...c)=>{var d;(d=t.flow)!=null&&d.length&&(i[c]=!0,Object.keys(i).filter(h=>!i[h]).length||u())},o=()=>{var c;(c=t.flow)!=null&&c.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u())},a=()=>{r.value=-1},l=(c,d,...h)=>{t.flow[r.value]===c&&n.value&&n.value[d](...h)},u=()=>{l(Bi.month,"toggleMonthPicker",!0),l(Bi.year,"toggleYearPicker",!0),l(Bi.calendar,"toggleTimePicker",!1,!0),l(Bi.time,"toggleTimePicker",!0,!0);const c=t.flow[r.value];(c===Bi.hours||c===Bi.minutes||c===Bi.seconds)&&l(c,"toggleTimePicker",!0,!0,c)};return{childMount:s,updateFlowStep:o,resetFlow:a,flowStep:r}},Jm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Fi={...Jm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},oZ={key:1,class:"dp__input_wrap"},aZ=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],lZ={key:2,class:"dp__clear_icon"},uZ=Ee({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Jm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Cn(i),d=ue(),h=ue(null),f=ue(!1),p=ue(!1),m=re(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:f.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),y=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),d.value=null)},_=C=>{const H=c();return LJ(C,s.value.format??u(),H??QO({},i.enableSeconds),i.inputValue,p.value)},v=C=>{const{rangeSeparator:H}=s.value,[M,N]=C.split(`${H}`);if(M){const W=_(M.trim()),J=N?_(N.trim()):null,$=W&&J?[W,J]:[W];d.value=W?$:null}},b=()=>{p.value=!0},g=C=>{if(i.range)v(C);else if(i.multiDates){const H=C.split(";");d.value=H.map(M=>_(M.trim())).filter(M=>M)}else d.value=_(C)},w=C=>{var H;const M=typeof C=="string"?C:(H=C.target)==null?void 0:H.value;M!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),g(M),r("set-input-date",d.value)):y(),p.value=!1,r("update:input-value",M)},T=C=>{s.value.enabled?(g(C.target.value),s.value.enterSubmit&&T0(d.value)&&i.inputValue!==""?(r("set-input-date",d.value,!0),d.value=null):s.value.enterSubmit&&i.inputValue===""&&(d.value=null,r("clear"))):A(C)},O=C=>{s.value.enabled&&s.value.tabSubmit&&g(C.target.value),s.value.tabSubmit&&T0(d.value)&&i.inputValue!==""?(r("set-input-date",d.value,!0,!0),d.value=null):s.value.tabSubmit&&i.inputValue===""&&(d.value=null,r("clear",!0))},k=()=>{var C;f.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((C=h.value)==null||C.select())},A=C=>{C.preventDefault(),_o(C,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},S=()=>{r("real-blur"),f.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&d.value&&!i.isMenuOpen&&(r("set-input-date",d.value),r("select-date"),d.value=null)},L=C=>{_o(C,l.value,!0),r("clear")},U=C=>{if(!s.value.enabled){if(C.code==="Tab")return;C.preventDefault()}};return e({focusInput:()=>{var C;(C=h.value)==null||C.focus({preventScroll:!0})},setParsedDate:C=>{d.value=C}}),(C,H)=>{var M;return D(),X("div",{onClick:A},[C.$slots.trigger&&!C.$slots["dp-input"]&&!x(a).enabled?xe(C.$slots,"trigger",{key:0}):oe("",!0),!C.$slots.trigger&&(!x(a).enabled||x(a).input)?(D(),X("div",oZ,[C.$slots["dp-input"]&&!C.$slots.trigger&&!x(a).enabled?xe(C.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:w,onEnter:T,onTab:O,onClear:L,onBlur:S,onKeypress:U,onPaste:b}):oe("",!0),C.$slots["dp-input"]?oe("",!0):(D(),X("input",{key:1,id:C.uid?`dp-input-${C.uid}`:void 0,ref_key:"inputRef",ref:h,name:C.name,class:Oe(m.value),inputmode:x(s).enabled?"text":"none",placeholder:C.placeholder,disabled:C.disabled,readonly:C.readonly,required:C.required,value:t.inputValue,autocomplete:C.autocomplete,"aria-label":(M=x(o))==null?void 0:M.input,"aria-disabled":C.disabled||void 0,"aria-invalid":C.state===!1?!0:void 0,onInput:w,onKeydown:[at(T,["enter"]),at(O,["tab"]),U],onBlur:S,onFocus:k,onKeypress:U,onPaste:b},null,42,aZ)),ne("div",{onClick:H[2]||(H[2]=N=>r("toggle"))},[C.$slots["input-icon"]&&!C.hideInputIcon?(D(),X("span",{key:0,class:"dp__input_icon",onClick:H[0]||(H[0]=N=>r("toggle"))},[xe(C.$slots,"input-icon")])):oe("",!0),!C.$slots["input-icon"]&&!C.hideInputIcon&&!C.$slots["dp-input"]?(D(),ve(x(ah),{key:1,class:"dp__input_icon dp__input_icons",onClick:H[1]||(H[1]=N=>r("toggle"))})):oe("",!0)]),C.$slots["clear-icon"]&&t.inputValue&&C.clearable&&!C.disabled&&!C.readonly?(D(),X("span",lZ,[xe(C.$slots,"clear-icon",{clear:L})])):oe("",!0),C.clearable&&!C.$slots["clear-icon"]&&t.inputValue&&!C.disabled&&!C.readonly?(D(),ve(x(VO),{key:3,class:"dp__clear_icon dp__input_icons",onClick:H[3]||(H[3]=Pt(N=>L(N),["prevent"]))})):oe("",!0)])):oe("",!0)])}}}),cZ=["title"],dZ={class:"dp__action_buttons"},hZ=["disabled","onKeydown"],fZ=Ee({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Fi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Cn(r),{isValidTime:c}=Ou(r),{buildMatrix:d}=Bo(),h=ue(null),f=ue(null);Jt(()=>{r.arrowNavigation&&d([On(h),On(f)],"actionRow")});const p=re(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),m=re(()=>!y.value||!_.value||!p.value),y=re(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),_=re(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(S=>!k(S)).length:k(r.internalModelValue):!0),v=()=>{const S=s.value;return r.timePicker||r.monthPicker,S($n(r.internalModelValue))},b=()=>{const S=r.internalModelValue;return o.value.count>0?`${g(S[0])} - ${g(S[1])}`:[g(S[0]),g(S[1])]},g=S=>JO(S,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),w=re(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?b():r.multiDates?r.internalModelValue.map(S=>`${g(S)}`):r.modelAuto?`${g(r.internalModelValue[0])}`:`${g(r.internalModelValue[0])} -`:g(r.internalModelValue):v()),T=()=>r.multiDates?"; ":" - ",O=re(()=>Array.isArray(w.value)?w.value.join(T()):w.value),k=S=>{if(!r.monthPicker)return!0;let L=!0;const U=_e(Ai(S));if(r.minDate&&r.maxDate){const C=_e(Ai(r.minDate)),H=_e(Ai(r.maxDate));return gr(U,C)&&tr(U,H)||Nt(U,C)||Nt(U,H)}if(r.minDate){const C=_e(Ai(r.minDate));L=gr(U,C)||Nt(U,C)}if(r.maxDate){const C=_e(Ai(r.maxDate));L=tr(U,C)||Nt(U,C)}return L},A=()=>{y.value&&_.value&&p.value?n("select-date"):n("invalid-select")};return(S,L)=>(D(),X("div",{class:"dp__action_row",style:Nn(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[S.$slots["action-row"]?xe(S.$slots,"action-row",Tn(Ht({key:0},{internalModelValue:S.internalModelValue,disabled:m.value,selectDate:()=>S.$emit("select-date"),closePicker:()=>S.$emit("close-picker")}))):(D(),X(Ie,{key:1},[x(i).showPreview?(D(),X("div",{key:0,class:"dp__selection_preview",title:O.value},[S.$slots["action-preview"]?xe(S.$slots,"action-preview",{key:0,value:S.internalModelValue}):oe("",!0),S.$slots["action-preview"]?oe("",!0):(D(),X(Ie,{key:1},[qe(Qe(O.value),1)],64))],8,cZ)):oe("",!0),ne("div",dZ,[S.$slots["action-buttons"]?xe(S.$slots,"action-buttons",{key:0,value:S.internalModelValue}):oe("",!0),S.$slots["action-buttons"]?oe("",!0):(D(),X(Ie,{key:1},[!x(l).enabled&&x(i).showCancel?(D(),X("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:L[0]||(L[0]=U=>S.$emit("close-picker")),onKeydown:[L[1]||(L[1]=at(U=>S.$emit("close-picker"),["enter"])),L[2]||(L[2]=at(U=>S.$emit("close-picker"),["space"]))]},Qe(S.cancelText),545)):oe("",!0),x(i).showNow?(D(),X("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:L[3]||(L[3]=U=>S.$emit("select-now")),onKeydown:[L[4]||(L[4]=at(U=>S.$emit("select-now"),["enter"])),L[5]||(L[5]=at(U=>S.$emit("select-now"),["space"]))]},Qe(S.nowButtonLabel),545)):oe("",!0),x(i).showSelect?(D(),X("button",{key:2,ref_key:"selectButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_select",disabled:m.value,onKeydown:[at(A,["enter"]),at(A,["space"])],onClick:A},Qe(S.selectText),41,hZ)):oe("",!0)],64))])],64))],4))}}),pZ=["onKeydown"],mZ={class:"dp__selection_grid_header"},gZ=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],vZ=["aria-label","onKeydown"],ch=Ee({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Bo(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Cn(a),{hideNavigationButtons:d}=Xm(),h=ue(!1),f=ue(null),p=ue(null),m=ue([]),y=ue(),_=ue(null),v=ue(0),b=ue(null);K0(()=>{f.value=null}),Jt(()=>{Rr().then(()=>L()),a.noOverlayFocus||w(),g(!0)}),ja(()=>g(!1));const g=$=>{var I;a.arrowNavigation&&((I=a.headerRefs)!=null&&I.length?s($):r($))},w=()=>{var $;const I=On(p);I&&(u.value.enabled||(f.value?($=f.value)==null||$.focus({preventScroll:!0}):I.focus({preventScroll:!0})),h.value=I.clientHeight<I.scrollHeight)},T=re(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),O=re(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),k=re(()=>({dp__overlay_col:!0})),A=re(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),S=re(()=>{var $,I;return{dp__overlay_container:!0,dp__container_flex:(($=a.items)==null?void 0:$.length)<=6,dp__container_block:((I=a.items)==null?void 0:I.length)>6}});cn(()=>a.items,()=>L(),{deep:!0});const L=()=>{Rr().then(()=>{const $=On(f),I=On(p),Z=On(_),ie=On(b),ee=Z?Z.getBoundingClientRect().height:0;I&&(I.getBoundingClientRect().height?v.value=I.getBoundingClientRect().height-ee:v.value=c.value.modeHeight-ee),$&&ie&&(ie.scrollTop=$.offsetTop-ie.offsetTop-(v.value/2-$.getBoundingClientRect().height)-ee)})},U=$=>{$.disabled||o("selected",$.value)},C=()=>{o("toggle"),o("reset-flow")},H=()=>{a.escClose&&C()},M=($,I,Z,ie)=>{$&&(I.active&&(f.value=$),a.arrowNavigation&&(Array.isArray(m.value[Z])?m.value[Z][ie]=$:m.value[Z]=[$],N()))},N=()=>{var $,I;const Z=($=a.headerRefs)!=null&&$.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[_.value]]);i($n(Z),(I=a.headerRefs)!=null&&I.length?"monthPicker":"selectionGrid")},W=$=>{a.arrowNavigation||_o($,c.value,!0)},J=$=>{y.value=$,o("hover-value",$)};return e({focusGrid:w}),($,I)=>{var Z;return D(),X("div",{ref_key:"gridWrapRef",ref:p,class:Oe(T.value),style:Nn(O.value),role:"dialog",tabindex:"0",onKeydown:[at(Pt(H,["prevent"]),["esc"]),I[0]||(I[0]=at(Pt(ie=>W(ie),["prevent"]),["left"])),I[1]||(I[1]=at(Pt(ie=>W(ie),["prevent"]),["up"])),I[2]||(I[2]=at(Pt(ie=>W(ie),["prevent"]),["down"])),I[3]||(I[3]=at(Pt(ie=>W(ie),["prevent"]),["right"]))]},[ne("div",{ref_key:"containerRef",ref:b,class:Oe(S.value),role:"grid",style:Nn({height:`${v.value}px`})},[ne("div",mZ,[xe($.$slots,"header")]),$.$slots.overlay?xe($.$slots,"overlay",{key:0}):(D(!0),X(Ie,{key:1},ut($.items,(ie,ee)=>(D(),X("div",{key:ee,class:Oe(["dp__overlay_row",{dp__flex_row:$.items.length>=3}]),role:"row"},[(D(!0),X(Ie,null,ut(ie,(B,be)=>(D(),X("div",{key:B.value,ref_for:!0,ref:j=>M(j,B,ee,be),role:"gridcell",class:Oe(k.value),"aria-selected":B.active,"aria-disabled":B.disabled||void 0,tabindex:"0",onClick:j=>U(B),onKeydown:[at(Pt(j=>U(B),["prevent"]),["enter"]),at(Pt(j=>U(B),["prevent"]),["space"])],onMouseover:j=>J(B.value)},[ne("div",{class:Oe(B.className)},[$.$slots.item?xe($.$slots,"item",{key:0,item:B}):oe("",!0),$.$slots.item?oe("",!0):(D(),X(Ie,{key:1},[qe(Qe(B.text),1)],64))],2)],42,gZ))),128))],2))),128))],6),$.$slots["button-icon"]?Ji((D(),X("button",{key:0,ref_key:"toggleButton",ref:_,type:"button","aria-label":(Z=x(l))==null?void 0:Z.toggleOverlay,class:Oe(A.value),tabindex:"0",onClick:C,onKeydown:[at(C,["enter"]),at(C,["tab"])]},[xe($.$slots,"button-icon")],42,vZ)),[[Is,!x(d)($.hideNavigation,$.type)]]):oe("",!0)],46,pZ)}}}),Zm=Ee({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=re(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=re(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(D(),X("div",{class:Oe({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(D(!0),X(Ie,null,ut(n.value,(o,a)=>(D(),X("div",{key:o,class:Oe(r.value)},[xe(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),yZ=["aria-label","aria-disabled"],Bc=Ee({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=ue(null);return Jt(()=>n("set-ref",r)),(i,s)=>(D(),X("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Pt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Pt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[ne("span",{class:Oe(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[xe(i.$slots,"default")],2)],40,yZ))}}),wZ={class:"dp--year-mode-picker"},bZ=["aria-label"],tN=Ee({__name:"YearModePicker",props:{...Fi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Xm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Cn(r),{showTransition:c,transitionName:d}=lh(u),h=(m=!1,y)=>{n("toggle-year-picker",{flow:m,show:y})},f=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,y)=>{var _,v,b;return D(),X("div",wZ,[x(s)(x(a),t.instance)?(D(),ve(Bc,{key:0,ref:"mpPrevIconRef","aria-label":(_=x(l))==null?void 0:_.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=g=>p(!1))},{default:ye(()=>[m.$slots["arrow-left"]?xe(m.$slots,"arrow-left",{key:0}):oe("",!0),m.$slots["arrow-left"]?oe("",!0):(D(),ve(x(v_),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),ne("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(v=x(l))==null?void 0:v.openYearsOverlay,onClick:y[1]||(y[1]=()=>h(!1)),onKeydown:y[2]||(y[2]=at(()=>h(!1),["enter"]))},[m.$slots.year?xe(m.$slots,"year",{key:0,year:t.year}):oe("",!0),m.$slots.year?oe("",!0):(D(),X(Ie,{key:1},[qe(Qe(t.year),1)],64))],40,bZ),x(i)(x(a),t.instance)?(D(),ve(Bc,{key:1,ref:"mpNextIconRef","aria-label":(b=x(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=g=>p(!0))},{default:ye(()=>[m.$slots["arrow-right"]?xe(m.$slots,"arrow-right",{key:0}):oe("",!0),m.$slots["arrow-right"]?oe("",!0):(D(),ve(x(y_),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),ae(us,{name:x(d)(t.showYearPicker),css:x(c)},{default:ye(()=>[t.showYearPicker?(D(),ve(ch,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!x(o).keepActionRow,type:"year",onToggle:h,onSelected:y[4]||(y[4]=g=>f(g))},rr({"button-icon":ye(()=>[m.$slots["calendar-icon"]?xe(m.$slots,"calendar-icon",{key:0}):oe("",!0),m.$slots["calendar-icon"]?oe("",!0):(D(),ve(x(ah),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ye(({item:g})=>[xe(m.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last"])):oe("",!0)]),_:3},8,["name","css"])])}}}),k_=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Nt(t,r))){const r=e.value.filter(i=>!Nt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},A_=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?tr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},eg=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},nN=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=re(()=>C_(i.yearRange,i.reverseYears)),u=ue([!1]),c=re(()=>(g,w)=>{const T=rn(Ai(new Date),{month:o.value(g),year:s.value(g)});return XO(T,i.maxDate,i.minDate,i.preventMinMaxNavigation,w)}),d=()=>{for(let g=0;g<t.value.count;g++)if(g===0)n.value[g]=n.value[0];else{const w=rn(_e(),n.value[g-1]);n.value[g]={month:kt(w),year:ft(u_(w,1))}}},h=g=>{if(!g)return d();const w=rn(_e(),n.value[g]);return n.value[0].year=ft(FO(w,t.value.count-1)),d()},f=g=>i.focusStartDate?g[0]:g[1]?g[1]:g[0],p=()=>{if(r.value){const g=Array.isArray(r.value)?f(r.value):r.value;n.value[0]={month:kt(g),year:ft(g)}}};Jt(()=>{p(),t.value.count&&d()});const m=(g,w)=>{n.value[w].year=g,t.value.count&&!t.value.solo&&h(w)},y=re(()=>g=>mu(l.value,w=>{const T=s.value(g)===w.value,O=Ed(w.value,gu(i.minDate),gu(i.maxDate)),k=I_(e.value,w.value);return{active:T,disabled:O,highlighted:k}})),_=(g,w)=>{m(g,w),b(w)},v=(g,w=!1)=>{if(!c.value(g,w)){const T=w?s.value(g)+1:s.value(g)-1;m(T,g)}},b=(g,w=!1,T)=>{w||a("reset-flow"),T!==void 0?u.value[g]=T:u.value[g]=!u.value[g],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:y,showYearPicker:u,selectYear:m,toggleYearPicker:b,handleYearSelect:_,handleYear:v}},_Z=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Cn(t),{modelValue:a,year:l,month:u,calendars:c}=uh(t,e),d=re(()=>WO(t.formatLocale,t.locale,t.monthNameFormat)),h=ue(null),{selectYear:f,groupedYears:p,showYearPicker:m,toggleYearPicker:y,handleYearSelect:_,handleYear:v,isDisabled:b}=nN({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e}),g=W=>W?{month:kt(W),year:ft(W)}:{month:null,year:null},w=()=>a.value?Array.isArray(a.value)?a.value.map(W=>g(W)):g(a.value):g(),T=(W,J)=>{const $=c.value[W],I=w();return Array.isArray(I)?I.some(Z=>Z.year===($==null?void 0:$.year)&&Z.month===J):($==null?void 0:$.year)===I.year&&J===I.month},O=(W,J,$)=>{var I,Z;const ie=w();return Array.isArray(ie)?l.value(J)===((I=ie[$])==null?void 0:I.year)&&W===((Z=ie[$])==null?void 0:Z.month):!1},k=(W,J)=>{if(t.range){const $=w();if(Array.isArray(a.value)&&Array.isArray($)){const I=O(W,J,0)||O(W,J,1),Z=Es(Ai(_e()),W,l.value(J));return Qm(a.value,h.value,Z)&&!I}return!1}return!1},A=re(()=>W=>mu(d.value,J=>{const $=T(W,J.value),I=Ed(J.value,YO(l.value(W),t.minDate),zO(l.value(W),t.maxDate))||jJ(t.disabledDates,l.value(W)).includes(J.value),Z=k(J.value,W),ie=ZO(o.value,J.value,l.value(W));return{active:$,disabled:I,isBetween:Z,highlighted:ie}})),S=(W,J)=>Es(Ai(_e()),W,l.value(J)),L=(W,J)=>{const $=a.value?a.value:Ai(new Date);a.value=Es($,W,l.value(J)),e("auto-apply")},U=(W,J)=>{const $=A_(a,S(W,J),e);eg($,e,t.autoApply,t.modelAuto)},C=(W,J)=>{k_(S(W,J),a,t.multiDatesLimit),e("auto-apply",!0)},H=(W,J)=>(c.value[J].month=W,N(J,c.value[J].year,W),t.multiDates?C(W,J):t.range?U(W,J):L(W,J)),M=(W,J)=>{f(W,J),N(J,W,null)},N=(W,J,$)=>{let I=$;if(!I){const Z=w();I=Array.isArray(Z)?Z[W].month:Z.month}e("update-month-year",{instance:W,year:J,month:I})};return{groupedMonths:A,groupedYears:p,year:l,isDisabled:b,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:m,modelValue:a,setHoverDate:(W,J)=>{h.value=S(W,J)},selectMonth:H,selectYear:M,toggleYearPicker:y,handleYearSelect:_,handleYear:v,getModelMonthYear:w}},TZ=Ee({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Fi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=No(),s=ti(i,"yearMode"),o=t,{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:f,modelValue:p,setHoverDate:m,selectMonth:y,selectYear:_,toggleYearPicker:v,handleYearSelect:b,handleYear:g,getModelMonthYear:w}=_Z(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:w,selectMonth:y,selectYear:_,handleYear:g})}),(T,O)=>(D(),ve(Zm,{"multi-calendars":x(d).count,stretch:""},{default:ye(({instance:k})=>[T.$slots["month-year"]?xe(T.$slots,"month-year",Tn(Ht({key:0},{year:x(u),months:x(a)(k),years:x(l)(k),selectMonth:x(y),selectYear:x(_),instance:k}))):(D(),ve(ch,{key:1,items:x(a)(k),"arrow-navigation":T.arrowNavigation,"is-last":T.autoApply&&!x(h).keepActionRow,"esc-close":T.escClose,height:x(h).modeHeight,config:T.config,"no-overlay-focus":T.noOverlayFocus,"use-relative":"",type:"month",onSelected:A=>x(y)(A,k),onHoverValue:A=>x(m)(A,k)},{header:ye(()=>[ae(tN,Ht(T.$props,{items:x(l)(k),instance:k,"show-year-picker":x(f)[k],year:x(u)(k),"is-disabled":A=>x(c)(k,A),onHandleYear:A=>x(g)(k,A),onYearSelect:A=>x(b)(A,k),onToggleYearPicker:A=>x(v)(k,A==null?void 0:A.flow,A==null?void 0:A.show)}),rr({_:2},[ut(x(s),(A,S)=>({name:A,fn:ye(L=>[xe(T.$slots,A,Tn(nr(L)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),EZ=(t,e)=>{const{modelValue:n}=uh(t,e),r=ue(null),{defaultedHighlight:i}=Cn(t),s=u=>Array.isArray(n.value)?n.value.some(c=>ft(c)===u):n.value?ft(n.value)===u:!1,o=u=>t.range&&Array.isArray(n.value)?Qm(n.value,r.value,l(u)):!1,a=re(()=>mu(C_(t.yearRange,t.reverseYears),u=>{const c=s(u.value),d=Ed(u.value,gu(t.minDate),gu(t.maxDate)),h=o(u.value),f=I_(i.value,u.value);return{active:c,disabled:d,isBetween:h,highlighted:f}})),l=u=>Qi(Ai(new Date),u);return{groupedYears:a,modelValue:n,setHoverValue:u=>{r.value=Qi(Ai(new Date),u)},selectYear:u=>{var c;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((c=n.value)==null?void 0:c.map(d=>ft(d))).includes(u)?n.value=n.value.filter(d=>ft(d)!==u):n.value.push(Qi(Gr(_e()),u))):n.value=[Qi(Gr(_e()),u)],e("auto-apply",!0);if(t.range){const d=A_(n,l(u),e);return eg(d,e,t.autoApply,t.modelAuto)}n.value=l(u),e("auto-apply")}}},SZ=Ee({compatConfig:{MODE:3},__name:"YearPicker",props:{...Fi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,selectYear:a,setHoverValue:l}=EZ(i,r),{defaultedConfig:u}=Cn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:a})}),(c,d)=>(D(),X("div",null,[c.$slots["month-year"]?xe(c.$slots,"month-year",Tn(Ht({key:0},{years:x(s),selectYear:x(a)}))):(D(),ve(ch,{key:1,items:x(s),"is-last":c.autoApply&&!x(u).keepActionRow,height:x(u).modeHeight,config:c.config,"no-overlay-focus":c.noOverlayFocus,type:"year","use-relative":"",onSelected:x(a),onHoverValue:x(l)},rr({_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:ye(({item:h})=>[xe(c.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","onSelected","onHoverValue"]))]))}}),CZ={key:0,class:"dp__time_input"},IZ=["aria-label","onKeydown","onClick"],kZ=ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),AZ=ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),xZ=["aria-label","disabled","onKeydown","onClick"],PZ=["aria-label","onKeydown","onClick"],DZ=ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),RZ=ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),OZ={key:0},NZ=["aria-label","onKeydown"],MZ=Ee({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Fi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Bo(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Cn(i),{transitionName:d,showTransition:h}=lh(l),f=Ln({hours:!1,minutes:!1,seconds:!1}),p=ue("AM"),m=ue(null),y=ue([]);Jt(()=>{r("mounted")});const _=j=>rn(new Date,{hours:j.hours,minutes:j.minutes,seconds:i.enableSeconds?j.seconds:0,milliseconds:0}),v=re(()=>j=>H(j,i[j])||g(j,i[j])),b=re(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),g=(j,q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(j,q):!1,w=(j,q)=>{if(i.range&&!i.disableTimeRangeValidation){const le=q?+i[`${j}Increment`]:-+i[`${j}Increment`],Y=i[j]+le;return!i.validateTime(j,Y)}return!1},T=re(()=>j=>!N(+i[j]+ +i[`${j}Increment`],j)||w(j,!0)),O=re(()=>j=>!N(+i[j]-+i[`${j}Increment`],j)||w(j,!1)),k=(j,q)=>wO(rn(_e(),j),q),A=(j,q)=>eJ(rn(_e(),j),q),S=re(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),L=re(()=>{const j=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?j.concat([{type:"",separator:!0},{type:"seconds"}]):j}),U=re(()=>L.value.filter(j=>!j.separator)),C=re(()=>j=>{if(j==="hours"){const q=Z(+i.hours);return{text:q<10?`0${q}`:`${q}`,value:q}}return{text:i[j]<10?`0${i[j]}`:`${i[j]}`,value:i[j]}}),H=(j,q)=>{var le;if(!i.disabledTimesConfig)return!1;const Y=i.disabledTimesConfig(i.order,j==="hours"?q:void 0);return Y[j]?!!((le=Y[j])!=null&&le.includes(q)):!0},M=j=>{const q=i.is24?24:12,le=j==="hours"?q:60,Y=+i[`${j}GridIncrement`],pe=j==="hours"&&!i.is24?Y:0,Se=[];for(let E=pe;E<le;E+=Y)Se.push({value:E,text:E<10?`0${E}`:`${E}`});return j==="hours"&&!i.is24&&Se.push({value:0,text:"12"}),mu(Se,E=>({active:!1,disabled:u.value.times[j].includes(E.value)||!N(E.value,j)||H(j,E.value)||g(j,E.value)}))},N=(j,q)=>{const le=i.minTime?_(vv(i.minTime)):null,Y=i.maxTime?_(vv(i.maxTime)):null,pe=_(vv(b.value,q,j));return le&&Y?(Td(pe,Y)||Al(pe,Y))&&(_d(pe,le)||Al(pe,le)):le?_d(pe,le)||Al(pe,le):Y?Td(pe,Y)||Al(pe,Y):!0},W=j=>i[`no${j[0].toUpperCase()+j.slice(1)}Overlay`],J=j=>{W(j)||(f[j]=!f[j],f[j]||r("overlay-closed"))},$=j=>j==="hours"?Ni:j==="minutes"?rs:fu,I=(j,q=!0)=>{const le=q?k:A,Y=q?+i[`${j}Increment`]:-+i[`${j}Increment`];N(+i[j]+Y,j)&&r(`update:${j}`,$(j)(le({[j]:+i[j]},{[j]:+i[`${j}Increment`]})))},Z=j=>i.is24?j:(j>=12?p.value="PM":p.value="AM",xJ(j)),ie=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},ee=j=>{f[j]=!0},B=(j,q,le)=>{if(j&&i.arrowNavigation){Array.isArray(y.value[q])?y.value[q][le]=j:y.value[q]=[j];const Y=y.value.reduce((pe,Se)=>Se.map((E,P)=>[...pe[P]||[],Se[P]]),[]);o(i.closeTimePickerBtn),m.value&&(Y[1]=Y[1].concat(m.value)),s(Y,i.order)}},be=(j,q)=>(J(j),j==="hours"&&!i.is24?r(`update:${j}`,p.value==="PM"?q+12:q):r(`update:${j}`,q));return e({openChildCmp:ee}),(j,q)=>{var le;return j.disabled?oe("",!0):(D(),X("div",CZ,[(D(!0),X(Ie,null,ut(L.value,(Y,pe)=>{var Se,E,P;return D(),X("div",{key:pe,class:Oe(S.value)},[Y.separator?(D(),X(Ie,{key:0},[qe(" : ")],64)):(D(),X(Ie,{key:1},[ne("button",{ref_for:!0,ref:F=>B(F,pe,0),type:"button",class:Oe({dp__btn:!0,dp__inc_dec_button:!j.timePickerInline,dp__inc_dec_button_inline:j.timePickerInline,dp__tp_inline_btn_top:j.timePickerInline,dp__inc_dec_button_disabled:T.value(Y.type)}),"aria-label":(Se=x(a))==null?void 0:Se.incrementValue(Y.type),tabindex:"0",onKeydown:[at(Pt(F=>I(Y.type),["prevent"]),["enter"]),at(Pt(F=>I(Y.type),["prevent"]),["space"])],onClick:F=>I(Y.type)},[i.timePickerInline?(D(),X(Ie,{key:1},[kZ,AZ],64)):(D(),X(Ie,{key:0},[j.$slots["arrow-up"]?xe(j.$slots,"arrow-up",{key:0}):oe("",!0),j.$slots["arrow-up"]?oe("",!0):(D(),ve(x(b_),{key:1}))],64))],42,IZ),ne("button",{ref_for:!0,ref:F=>B(F,pe,1),type:"button","aria-label":(E=x(a))==null?void 0:E.openTpOverlay(Y.type),class:Oe({dp__time_display:!0,dp__time_display_block:!j.timePickerInline,dp__time_display_inline:j.timePickerInline,"dp--time-invalid":v.value(Y.type),"dp--time-overlay-btn":!v.value(Y.type)}),disabled:W(Y.type),tabindex:"0",onKeydown:[at(Pt(F=>J(Y.type),["prevent"]),["enter"]),at(Pt(F=>J(Y.type),["prevent"]),["space"])],onClick:F=>J(Y.type)},[j.$slots[Y.type]?xe(j.$slots,Y.type,{key:0,text:C.value(Y.type).text,value:C.value(Y.type).value}):oe("",!0),j.$slots[Y.type]?oe("",!0):(D(),X(Ie,{key:1},[qe(Qe(C.value(Y.type).text),1)],64))],42,xZ),ne("button",{ref_for:!0,ref:F=>B(F,pe,2),type:"button",class:Oe({dp__btn:!0,dp__inc_dec_button:!j.timePickerInline,dp__inc_dec_button_inline:j.timePickerInline,dp__tp_inline_btn_bottom:j.timePickerInline,dp__inc_dec_button_disabled:O.value(Y.type)}),"aria-label":(P=x(a))==null?void 0:P.decrementValue(Y.type),tabindex:"0",onKeydown:[at(Pt(F=>I(Y.type,!1),["prevent"]),["enter"]),at(Pt(F=>I(Y.type,!1),["prevent"]),["space"])],onClick:F=>I(Y.type,!1)},[i.timePickerInline?(D(),X(Ie,{key:1},[DZ,RZ],64)):(D(),X(Ie,{key:0},[j.$slots["arrow-down"]?xe(j.$slots,"arrow-down",{key:0}):oe("",!0),j.$slots["arrow-down"]?oe("",!0):(D(),ve(x(__),{key:1}))],64))],42,PZ)],64))],2)}),128)),j.is24?oe("",!0):(D(),X("div",OZ,[j.$slots["am-pm-button"]?xe(j.$slots,"am-pm-button",{key:0,toggle:ie,value:p.value}):oe("",!0),j.$slots["am-pm-button"]?oe("",!0):(D(),X("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(le=x(a))==null?void 0:le.amPmButton,tabindex:"0",onClick:ie,onKeydown:[at(Pt(ie,["prevent"]),["enter"]),at(Pt(ie,["prevent"]),["space"])]},Qe(p.value),41,NZ))])),(D(!0),X(Ie,null,ut(U.value,(Y,pe)=>(D(),ve(us,{key:pe,name:x(d)(f[Y.type]),css:x(h)},{default:ye(()=>[f[Y.type]?(D(),ve(ch,{key:0,items:M(Y.type),"is-last":j.autoApply&&!x(c).keepActionRow,"esc-close":j.escClose,type:Y.type,"text-input":j.textInput,config:j.config,"arrow-navigation":j.arrowNavigation,onSelected:Se=>be(Y.type,Se),onToggle:Se=>J(Y.type),onResetFlow:q[0]||(q[0]=Se=>j.$emit("reset-flow"))},rr({"button-icon":ye(()=>[j.$slots["clock-icon"]?xe(j.$slots,"clock-icon",{key:0}):oe("",!0),j.$slots["clock-icon"]?oe("",!0):(D(),ve(x(w_),{key:1}))]),_:2},[j.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:ye(({item:Se})=>[xe(j.$slots,`${Y.type}-overlay-value`,{text:Se.text,value:Se.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):oe("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),LZ={class:"dp--tp-wrap"},$Z=["aria-label","tabindex"],UZ=["tabindex"],FZ=["aria-label"],rN=Ee({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Fi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Bo(),a=No(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=Cn(i),{transitionName:h,showTransition:f}=lh(l),{hideNavigationButtons:p}=Xm(),m=ue(null),y=ue(null),_=ue([]),v=ue(null);Jt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([On(m.value)],"time"):o(!0,i.timePicker)});const b=re(()=>i.range&&i.modelAuto?KO(i.internalModelValue):!0),g=ue(!1),w=M=>({hours:Array.isArray(i.hours)?i.hours[M]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[M]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[M]:i.seconds}),T=re(()=>{const M=[];if(i.range)for(let N=0;N<2;N++)M.push(w(N));else M.push(w(0));return M}),O=(M,N=!1,W="")=>{N||r("reset-flow"),g.value=M,r(M?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(M),Rr(()=>{W!==""&&_.value[0]&&_.value[0].openChildCmp(W)})},k=re(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),A=ti(a,"timePicker"),S=(M,N,W)=>i.range?N===0?[M,T.value[1][W]]:[T.value[0][W],M]:M,L=M=>{r("update:hours",M)},U=M=>{r("update:minutes",M)},C=M=>{r("update:seconds",M)},H=()=>{if(v.value&&!c.value.enabled&&!i.noOverlayFocus){const M=DJ(v.value);M&&M.focus({preventScroll:!0})}};return e({toggleTimePicker:O}),(M,N)=>{var W;return D(),X("div",LZ,[!M.timePicker&&!M.timePickerInline?Ji((D(),X("button",{key:0,ref_key:"openTimePickerBtn",ref:m,type:"button",class:Oe(k.value),"aria-label":(W=x(u))==null?void 0:W.openTimePicker,tabindex:M.noOverlayFocus?void 0:0,onKeydown:[N[0]||(N[0]=at(J=>O(!0),["enter"])),N[1]||(N[1]=at(J=>O(!0),["space"]))],onClick:N[2]||(N[2]=J=>O(!0))},[M.$slots["clock-icon"]?xe(M.$slots,"clock-icon",{key:0}):oe("",!0),M.$slots["clock-icon"]?oe("",!0):(D(),ve(x(w_),{key:1}))],42,$Z)),[[Is,!x(p)(M.hideNavigation,"time")]]):oe("",!0),ae(us,{name:x(h)(g.value),css:x(f)&&!M.timePickerInline},{default:ye(()=>{var J;return[g.value||M.timePicker||M.timePickerInline?(D(),X("div",{key:0,ref_key:"overlayRef",ref:v,class:Oe({dp__overlay:!M.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!M.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Nn(M.timePicker?{height:`${x(d).modeHeight}px`}:void 0),tabindex:M.timePickerInline?void 0:0},[ne("div",{class:Oe(M.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[M.$slots["time-picker-overlay"]?xe(M.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:L,setMinutes:U,setSeconds:C}):oe("",!0),M.$slots["time-picker-overlay"]?oe("",!0):(D(),X("div",{key:1,class:Oe(M.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(D(!0),X(Ie,null,ut(T.value,($,I)=>Ji((D(),ve(MZ,Ht({key:I},{...M.$props,order:I,hours:$.hours,minutes:$.minutes,seconds:$.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:I===0?M.fixedStart:M.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:_,"validate-time":(Z,ie)=>t.validateTime(Z,S(ie,I,Z)),"onUpdate:hours":Z=>L(S(Z,I,"hours")),"onUpdate:minutes":Z=>U(S(Z,I,"minutes")),"onUpdate:seconds":Z=>C(S(Z,I,"seconds")),onMounted:H,onOverlayClosed:H,onAmPmChange:N[3]||(N[3]=Z=>M.$emit("am-pm-change",Z))}),rr({_:2},[ut(x(A),(Z,ie)=>({name:Z,fn:ye(ee=>[xe(M.$slots,Z,Tn(nr(ee)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Is,I===0?!0:b.value]])),128))],2)),!M.timePicker&&!M.timePickerInline?Ji((D(),X("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:Oe(k.value),"aria-label":(J=x(u))==null?void 0:J.closeTimePicker,tabindex:"0",onKeydown:[N[4]||(N[4]=at($=>O(!1),["enter"])),N[5]||(N[5]=at($=>O(!1),["space"]))],onClick:N[6]||(N[6]=$=>O(!1))},[M.$slots["calendar-icon"]?xe(M.$slots,"calendar-icon",{key:0}):oe("",!0),M.$slots["calendar-icon"]?oe("",!0):(D(),ve(x(ah),{key:1}))],42,FZ)),[[Is,!x(p)(M.hideNavigation,"time")]]):oe("",!0)],2)],14,UZ)):oe("",!0)]}),_:3},8,["name","css"])])}}}),iN=(t,e,n,r)=>{const i=(_,v)=>Array.isArray(e[_])?e[_][v]:e[_],s=_=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[_]:e.seconds:0,o=(_,v)=>_?v!==void 0?To(_,i("hours",v),i("minutes",v),s(v)):To(_,e.hours,e.minutes,s()):g_(_e(),s(v)),a=(_,v)=>{e[_]=v},l=(_,v)=>{const b=Object.fromEntries(Object.keys(e).map(g=>g===_?[g,v]:[g,e[g]].slice()));if(t.range&&!t.disableTimeRangeValidation){const g=T=>n.value?To(n.value[T],b.hours[T],b.minutes[T],b.seconds[T]):null,w=T=>m_(n.value[T],0);return!(Nt(g(0),g(1))&&(_d(g(0),w(1))||Td(g(1),w(0))))}return!0},u=(_,v)=>{l(_,v)&&(a(_,v),r&&r())},c=_=>{u("hours",_)},d=_=>{u("minutes",_)},h=_=>{u("seconds",_)},f=(_,v,b,g)=>{v&&c(_),!v&&!b&&d(_),b&&h(_),n.value&&g(n.value)},p=_=>{if(_){const v=Array.isArray(_),b=v?[+_[0].hours,+_[1].hours]:+_.hours,g=v?[+_[0].minutes,+_[1].minutes]:+_.minutes,w=v?[+_[0].seconds,+_[1].seconds]:+_.seconds;a("hours",b),a("minutes",g),t.enableSeconds&&a("seconds",w)}},m=(_,v)=>{const b={hours:Array.isArray(e.hours)?e.hours[_]:e.hours,disabledArr:[]};return(v||v===0)&&(b.hours=v),Array.isArray(t.disabledTimes)&&(b.disabledArr=t.range&&Array.isArray(t.disabledTimes[_])?t.disabledTimes[_]:t.disabledTimes),b},y=re(()=>(_,v)=>{var b;if(Array.isArray(t.disabledTimes)){const{disabledArr:g,hours:w}=m(_,v),T=g.filter(O=>+O.hours===w);return((b=T[0])==null?void 0:b.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(T==null?void 0:T.map(O=>+O.minutes))??[],seconds:(T==null?void 0:T.map(O=>O.seconds?+O.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:o,updateTimeValues:f,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:y}},VZ=(t,e)=>{const{modelValue:n,time:r}=uh(t,e),{defaultedStartTime:i}=Cn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=iN(t,r,n),d=v=>{const{hours:b,minutes:g,seconds:w}=v;return{hours:+b,minutes:+g,seconds:w?+w:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const b=d(t.startTime[0]),g=d(t.startTime[1]);return[rn(_e(),b),rn(_e(),g)]}const v=d(t.startTime);return rn(_e(),v)}return t.range?[null,null]:null},f=()=>{if(t.range){const[v,b]=h();n.value=[o(v,0),o(b,1)]}else n.value=o(h())},p=v=>Array.isArray(v)?[ya(_e(v[0])),ya(_e(v[1]))]:[ya(v??_e())],m=(v,b,g)=>{a("hours",v),a("minutes",b),a("seconds",t.enableSeconds?g:0)},y=()=>{const[v,b]=p(n.value);return t.range?m([v.hours,b.hours],[v.minutes,b.minutes],[v.seconds,b.minutes]):m(v.hours,v.minutes,v.seconds)};Jt(()=>{if(!t.shadow)return l(i.value),n.value?y():f()});const _=()=>{Array.isArray(n.value)?n.value=n.value.map((v,b)=>v&&o(v,b)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(v,b=!0,g=!1)=>{s(v,b,g,_)},validateTime:c}},BZ=Ee({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Fi},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=No(),o=ti(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=VZ(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,f)=>(D(),ve(Zm,{"multi-calendars":0,stretch:""},{default:ye(()=>[ae(rN,Ht(h.$props,{hours:x(a).hours,minutes:x(a).minutes,seconds:x(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":x(u),"validate-time":x(d),"onUpdate:hours":f[0]||(f[0]=p=>x(c)(p)),"onUpdate:minutes":f[1]||(f[1]=p=>x(c)(p,!1)),"onUpdate:seconds":f[2]||(f[2]=p=>x(c)(p,!1,!0)),onAmPmChange:f[3]||(f[3]=p=>h.$emit("am-pm-change",p))}),rr({_:2},[ut(x(o),(p,m)=>({name:p,fn:ye(y=>[xe(h.$slots,p,Tn(nr(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),jZ={class:"dp__month_year_row"},HZ=["aria-label","onClick","onKeydown"],WZ=Ee({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Fi},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Cn(i),{transitionName:d,showTransition:h}=lh(s),{buildMatrix:f}=Bo(),{handleMonthYearChange:p,isDisabled:m,updateMonthYear:y}=eZ(i,r),{showLeftIcon:_,showRightIcon:v}=Xm(),b=ue(!1),g=ue(!1),w=ue([null,null,null,null]);Jt(()=>{r("mount")});const T=I=>({get:()=>i[I],set:Z=>{const ie=I===Ti.month?Ti.year:Ti.month;r("update-month-year",{[I]:Z,[ie]:i[ie]}),I===Ti.month?H(!0):M(!0)}}),O=re(T(Ti.month)),k=re(T(Ti.year)),A=re(()=>I=>({month:i.month,year:i.year,items:I===Ti.month?i.months:i.years,instance:i.instance,updateMonthYear:y,toggle:I===Ti.month?H:M})),S=re(()=>i.months.find(Z=>Z.value===i.month)||{text:"",value:0}),L=re(()=>mu(i.months,I=>{const Z=i.month===I.value,ie=Ed(I.value,YO(i.year,i.minDate),zO(i.year,i.maxDate))||l.value.months.includes(I.value),ee=ZO(c.value,I.value,i.year);return{active:Z,disabled:ie,highlighted:ee}})),U=re(()=>mu(i.years,I=>{const Z=i.year===I.value,ie=Ed(I.value,gu(i.minDate),gu(i.maxDate))||l.value.years.includes(I.value),ee=I_(c.value,I.value);return{active:Z,disabled:ie,highlighted:ee}})),C=(I,Z)=>{Z!==void 0?I.value=Z:I.value=!I.value,I.value||r("overlay-closed")},H=(I=!1,Z)=>{N(I),C(b,Z)},M=(I=!1,Z)=>{N(I),C(g,Z)},N=I=>{I||r("reset-flow")},W=(I,Z)=>{i.arrowNavigation&&(w.value[Z]=On(I),f(w.value,"monthYear"))},J=re(()=>{var I,Z;return[{type:Ti.month,index:1,toggle:H,modelValue:O.value,updateModelValue:ie=>O.value=ie,text:S.value.text,showSelectionGrid:b.value,items:L.value,ariaLabel:(I=o.value)==null?void 0:I.openMonthsOverlay},{type:Ti.year,index:2,toggle:M,modelValue:k.value,updateModelValue:ie=>k.value=ie,text:i.year,showSelectionGrid:g.value,items:U.value,ariaLabel:(Z=o.value)==null?void 0:Z.openYearsOverlay}]}),$=re(()=>i.disableYearSelect?[J.value[0]]:i.yearFirst?[...J.value].reverse():J.value);return e({toggleMonthPicker:H,toggleYearPicker:M,handleMonthYearChange:p}),(I,Z)=>{var ie,ee,B;return D(),X("div",jZ,[I.$slots["month-year"]?xe(I.$slots,"month-year",Tn(Ht({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:x(y),handleMonthYearChange:x(p),instance:t.instance}))):(D(),X(Ie,{key:1},[x(_)(x(a),t.instance)&&!I.vertical?(D(),ve(Bc,{key:0,"aria-label":(ie=x(o))==null?void 0:ie.prevMonth,disabled:x(m)(!1),onActivate:Z[0]||(Z[0]=be=>x(p)(!1,!0)),onSetRef:Z[1]||(Z[1]=be=>W(be,0))},{default:ye(()=>[I.$slots["arrow-left"]?xe(I.$slots,"arrow-left",{key:0}):oe("",!0),I.$slots["arrow-left"]?oe("",!0):(D(),ve(x(v_),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),ne("div",{class:Oe(["dp__month_year_wrap",{dp__year_disable_select:I.disableYearSelect}])},[(D(!0),X(Ie,null,ut($.value,(be,j)=>(D(),X(Ie,{key:be.type},[ne("button",{ref_for:!0,ref:q=>W(q,j+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":be.ariaLabel,onClick:be.toggle,onKeydown:[at(Pt(be.toggle,["prevent"]),["enter"]),at(Pt(be.toggle,["prevent"]),["space"])]},[I.$slots[be.type]?xe(I.$slots,be.type,{key:0,text:be.text,value:i[be.type]}):oe("",!0),I.$slots[be.type]?oe("",!0):(D(),X(Ie,{key:1},[qe(Qe(be.text),1)],64))],40,HZ),ae(us,{name:x(d)(be.showSelectionGrid),css:x(h)},{default:ye(()=>[be.showSelectionGrid?(D(),ve(ch,{key:0,items:be.items,"arrow-navigation":I.arrowNavigation,"hide-navigation":I.hideNavigation,"is-last":I.autoApply&&!x(u).keepActionRow,"skip-button-ref":!1,config:I.config,type:be.type,"header-refs":[],"esc-close":I.escClose,"text-input":I.textInput,onSelected:be.updateModelValue,onToggle:be.toggle},rr({"button-icon":ye(()=>[I.$slots["calendar-icon"]?xe(I.$slots,"calendar-icon",{key:0}):oe("",!0),I.$slots["calendar-icon"]?oe("",!0):(D(),ve(x(ah),{key:1}))]),_:2},[I.$slots[`${be.type}-overlay-value`]?{name:"item",fn:ye(({item:q})=>[xe(I.$slots,`${be.type}-overlay-value`,{text:q.text,value:q.value})]),key:"0"}:void 0,I.$slots[`${be.type}-overlay`]?{name:"overlay",fn:ye(()=>[xe(I.$slots,`${be.type}-overlay`,Tn(nr(A.value(be.type))))]),key:"1"}:void 0,I.$slots[`${be.type}-overlay-header`]?{name:"header",fn:ye(()=>[xe(I.$slots,`${be.type}-overlay-header`,{toggle:be.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):oe("",!0)]),_:2},1032,["name","css"])],64))),128))],2),x(_)(x(a),t.instance)&&I.vertical?(D(),ve(Bc,{key:1,"aria-label":(ee=x(o))==null?void 0:ee.prevMonth,disabled:x(m)(!1),onActivate:Z[2]||(Z[2]=be=>x(p)(!1,!0))},{default:ye(()=>[I.$slots["arrow-up"]?xe(I.$slots,"arrow-up",{key:0}):oe("",!0),I.$slots["arrow-up"]?oe("",!0):(D(),ve(x(b_),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),x(v)(x(a),t.instance)?(D(),ve(Bc,{key:2,ref:"rightIcon",disabled:x(m)(!0),"aria-label":(B=x(o))==null?void 0:B.nextMonth,onActivate:Z[3]||(Z[3]=be=>x(p)(!0,!0)),onSetRef:Z[4]||(Z[4]=be=>W(be,I.disableYearSelect?2:3))},{default:ye(()=>[I.$slots[I.vertical?"arrow-down":"arrow-right"]?xe(I.$slots,I.vertical?"arrow-down":"arrow-right",{key:0}):oe("",!0),I.$slots[I.vertical?"arrow-down":"arrow-right"]?oe("",!0):(D(),ve(kd(I.vertical?x(__):x(y_)),{key:1}))]),_:3},8,["disabled","aria-label"])):oe("",!0)],64))])}}}),KZ=["aria-label"],YZ={class:"dp__calendar_header",role:"row"},zZ={key:0,class:"dp__calendar_header_item",role:"gridcell"},GZ=ne("div",{class:"dp__calendar_header_separator"},null,-1),qZ=["aria-label"],QZ={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},XZ={class:"dp__cell_inner"},JZ=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],ZZ=Ee({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Fi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Bo(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u}=Cn(i),c=ue(null),d=ue({bottom:"",left:"",transform:""}),h=ue([]),f=ue(null),p=ue(!0),m=ue(""),y=ue({startX:0,endX:0,startY:0,endY:0}),_=ue([]),v=ue({left:"50%"}),b=re(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),g=re(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):AJ(i.formatLocale,i.locale,+i.weekStart));Jt(()=>{r("mount",{cmp:"calendar",refs:h}),a.value.noSwipe||f.value&&(f.value.addEventListener("touchstart",H,{passive:!1}),f.value.addEventListener("touchend",M,{passive:!1}),f.value.addEventListener("touchmove",N,{passive:!1})),i.monthChangeOnScroll&&f.value&&f.value.addEventListener("wheel",$,{passive:!1})});const w=ee=>ee?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",T=(ee,B)=>{if(i.transitions){const be=Gr(Es(_e(),i.month,i.year));m.value=gr(Gr(Es(_e(),ee,B)),be)?o.value[w(!0)]:o.value[w(!1)],p.value=!1,Rr(()=>{p.value=!0})}},O=re(()=>({[i.calendarClassName]:!!i.calendarClassName})),k=re(()=>ee=>{const B=PJ(ee);return{dp__marker_dot:B.type==="dot",dp__marker_line:B.type==="line"}}),A=re(()=>ee=>Nt(ee,c.value)),S=re(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),L=re(()=>ee=>i.hideOffsetDates?ee.current:!0),U=async(ee,B,be)=>{var j,q;if(r("set-hover-date",ee),(q=(j=ee.marker)==null?void 0:j.tooltip)!=null&&q.length){const le=On(h.value[B][be]);if(le){const{width:Y,height:pe}=le.getBoundingClientRect();c.value=ee.value;let Se={left:`${Y/2}px`},E=-50;if(await Rr(),_.value[0]){const{left:P,width:F}=_.value[0].getBoundingClientRect();P<0&&(Se={left:"0"},E=0,v.value.left=`${Y/2}px`),window.innerWidth<P+F&&(Se={right:"0"},E=0,v.value.left=`${F-Y/2}px`)}d.value={bottom:`${pe}px`,...Se,transform:`translateX(${E}%)`},r("tooltip-open",ee.marker)}}},C=ee=>{c.value&&(c.value=null,d.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ee.marker))},H=ee=>{y.value.startX=ee.changedTouches[0].screenX,y.value.startY=ee.changedTouches[0].screenY},M=ee=>{y.value.endX=ee.changedTouches[0].screenX,y.value.endY=ee.changedTouches[0].screenY,W()},N=ee=>{i.vertical&&!i.inline&&ee.preventDefault()},W=()=>{const ee=i.vertical?"Y":"X";Math.abs(y.value[`start${ee}`]-y.value[`end${ee}`])>10&&r("handle-swipe",y.value[`start${ee}`]>y.value[`end${ee}`]?"right":"left")},J=(ee,B,be)=>{ee&&(Array.isArray(h.value[B])?h.value[B][be]=ee:h.value[B]=[ee]),i.arrowNavigation&&s(h.value,"calendar")},$=ee=>{i.monthChangeOnScroll&&(ee.preventDefault(),r("handle-scroll",ee))},I=ee=>{const B=ee[0];return i.weekNumbers==="local"?FQ(B.value,{weekStartsOn:+i.weekStart}):i.weekNumbers==="iso"?MQ(B.value):typeof i.weekNumbers=="function"?i.weekNumbers(B.value):""},Z=(ee,B)=>{_o(ee,a.value),r("select-date",B)},ie=ee=>{_o(ee,a.value)};return e({triggerTransition:T}),(ee,B)=>{var be;return D(),X("div",{class:Oe(S.value)},[ne("div",{ref_key:"calendarWrapRef",ref:f,role:"grid",class:Oe(O.value),"aria-label":(be=x(l))==null?void 0:be.calendarWrap},[(D(),X(Ie,{key:0},[ne("div",YZ,[ee.weekNumbers?(D(),X("div",zZ,Qe(ee.weekNumName),1)):oe("",!0),(D(!0),X(Ie,null,ut(g.value,(j,q)=>(D(),X("div",{key:q,class:"dp__calendar_header_item",role:"gridcell"},[ee.$slots["calendar-header"]?xe(ee.$slots,"calendar-header",{key:0,day:j,index:q}):oe("",!0),ee.$slots["calendar-header"]?oe("",!0):(D(),X(Ie,{key:1},[qe(Qe(j),1)],64))]))),128))]),GZ,ae(us,{name:m.value,css:!!ee.transitions},{default:ye(()=>{var j;return[p.value?(D(),X("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((j=x(l))==null?void 0:j.calendarDays)||void 0},[(D(!0),X(Ie,null,ut(b.value,(q,le)=>(D(),X("div",{key:le,class:"dp__calendar_row",role:"row"},[ee.weekNumbers?(D(),X("div",QZ,[ne("div",XZ,Qe(I(q.days)),1)])):oe("",!0),(D(!0),X(Ie,null,ut(q.days,(Y,pe)=>{var Se,E,P;return D(),X("div",{id:Y.value.toISOString().split("T")[0],ref_for:!0,ref:F=>J(F,le,pe),key:pe+le,role:"gridcell",class:"dp__calendar_item","aria-selected":Y.classData.dp__active_date||Y.classData.dp__range_start||Y.classData.dp__range_start,"aria-disabled":Y.classData.dp__cell_disabled||void 0,"aria-label":(E=(Se=x(l))==null?void 0:Se.day)==null?void 0:E.call(Se,Y),tabindex:"0",onClick:Pt(F=>Z(F,Y),["prevent"]),onKeydown:[at(F=>ee.$emit("select-date",Y),["enter"]),at(F=>ee.$emit("handle-space",Y),["space"])],onMouseenter:F=>U(Y,le,pe),onMouseleave:F=>C(Y)},[ne("div",{class:Oe(["dp__cell_inner",Y.classData])},[ee.$slots.day&&L.value(Y)?xe(ee.$slots,"day",{key:0,day:+Y.text,date:Y.value}):oe("",!0),ee.$slots.day?oe("",!0):(D(),X(Ie,{key:1},[qe(Qe(Y.text),1)],64)),Y.marker&&L.value(Y)?(D(),X(Ie,{key:2},[ee.$slots.marker?xe(ee.$slots,"marker",{key:0,marker:Y.marker,day:+Y.text,date:Y.value}):(D(),X("div",{key:1,class:Oe(k.value(Y.marker)),style:Nn(Y.marker.color?{backgroundColor:Y.marker.color}:{})},null,6))],64)):oe("",!0),A.value(Y.value)?(D(),X("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:_,class:"dp__marker_tooltip",style:Nn(d.value)},[(P=Y.marker)!=null&&P.tooltip?(D(),X("div",{key:0,class:"dp__tooltip_content",onClick:ie},[(D(!0),X(Ie,null,ut(Y.marker.tooltip,(F,G)=>(D(),X("div",{key:G,class:"dp__tooltip_text"},[ee.$slots["marker-tooltip"]?xe(ee.$slots,"marker-tooltip",{key:0,tooltip:F,day:Y.value}):oe("",!0),ee.$slots["marker-tooltip"]?oe("",!0):(D(),X(Ie,{key:1},[ne("div",{class:"dp__tooltip_mark",style:Nn(F.color?{backgroundColor:F.color}:{})},null,4),ne("div",null,Qe(F.text),1)],64))]))),128)),ne("div",{class:"dp__arrow_bottom_tp",style:Nn(v.value)},null,4)])):oe("",!0)],4)):oe("",!0)],2)],40,JZ)}),128))]))),128))],8,qZ)):oe("",!0)]}),_:3},8,["name","css"])],64))],10,KZ)],2)}}}),eC=t=>Array.isArray(t),eee=(t,e,n,r)=>{const i=ue([]),{modelValue:s,calendars:o,time:a}=uh(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Cn(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:f}=Ou(t),{updateTimeValues:p,getSetDateTime:m,setTime:y,assignStartTime:_,validateTime:v,disabledTimesConfig:b}=iN(t,a,s,r),g=re(()=>Q=>o.value[Q]?o.value[Q].month:0),w=re(()=>Q=>o.value[Q]?o.value[Q].year:0),T=(Q,R,K)=>{var V,se;o.value[Q]||(o.value[Q]={month:0,year:0}),o.value[Q].month=GS(R)?(V=o.value[Q])==null?void 0:V.month:R,o.value[Q].year=GS(K)?(se=o.value[Q])==null?void 0:se.year:K},O=()=>{t.autoApply&&e("select-date")};cn(s,(Q,R)=>{JSON.stringify(Q)!==JSON.stringify(R)&&S()}),Jt(()=>{t.shadow||(s.value||(I(),u.value&&_(u.value)),S(!0),t.focusStartDate&&t.startDate&&I())});const k=re(()=>{var Q;return(Q=t.flow)!=null&&Q.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),A=()=>{t.autoApply&&k.value&&e("auto-apply",t.partialFlow)},S=(Q=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,N(Q)):U(s.value,Q);if(l.value.count&&Q&&!t.startDate)return L(_e(),Q)},L=(Q,R=!1)=>{if((!l.value.count||!l.value.static||R)&&T(0,kt(Q),ft(Q)),l.value.count)for(let K=1;K<l.value.count;K++){const V=rn(_e(),{month:g.value(K-1),year:w.value(K-1)}),se=wO(V,{months:1});o.value[K]={month:kt(se),year:ft(se)}}},U=(Q,R)=>{L(Q),y("hours",Ni(Q)),y("minutes",rs(Q)),y("seconds",fu(Q)),l.value.count&&R&&$()},C=Q=>{if(l.value.count){if(l.value.solo)return 0;const R=kt(Q[0]),K=kt(Q[1]);return Math.abs(K-R)<l.value.count?0:1}return 1},H=(Q,R)=>{Q[1]&&t.showLastInRange?L(Q[C(Q)],R):L(Q[0],R);const K=(V,se)=>[V(Q[0]),Q[1]?V(Q[1]):a[se][1]];y("hours",K(Ni,"hours")),y("minutes",K(rs,"minutes")),y("seconds",K(fu,"seconds"))},M=(Q,R)=>{if((t.range||t.weekPicker)&&!t.multiDates)return H(Q,R);if(t.multiDates&&R){const K=Q[Q.length-1];return U(K,R)}},N=Q=>{const R=s.value;M(R,Q),l.value.count&&l.value.solo&&$()},W=(Q,R)=>{const K=rn(_e(),{month:g.value(R),year:w.value(R)}),V=Q<0?Oi(K,1):pu(K,1);c(kt(V),ft(V),Q<0,t.preventMinMaxNavigation)&&(T(R,kt(V),ft(V)),e("update-month-year",{instance:R,month:kt(V),year:ft(V)}),l.value.count&&!l.value.solo&&J(R),n())},J=Q=>{for(let R=Q-1;R>=0;R--){const K=pu(rn(_e(),{month:g.value(R+1),year:w.value(R+1)}),1);T(R,kt(K),ft(K))}for(let R=Q+1;R<=l.value.count-1;R++){const K=Oi(rn(_e(),{month:g.value(R-1),year:w.value(R-1)}),1);T(R,kt(K),ft(K))}},$=()=>{if(Array.isArray(s.value)&&s.value.length===2){const Q=_e(_e(s.value[1]?s.value[1]:Oi(s.value[0],1))),[R,K]=[kt(s.value[0]),ft(s.value[0])],[V,se]=[kt(s.value[1]),ft(s.value[1])];(R!==V||R===V&&K!==se)&&l.value.solo&&T(1,kt(Q),ft(Q))}else s.value&&!Array.isArray(s.value)&&(T(0,kt(s.value),ft(s.value)),L(_e()))},I=()=>{t.startDate&&(T(0,kt(_e(t.startDate)),ft(_e(t.startDate))),l.value.count&&J(0))},Z=(Q,R)=>{t.monthChangeOnScroll&&W(t.monthChangeOnScroll!=="inverse"?-Q.deltaY:Q.deltaY,R)},ie=(Q,R,K=!1)=>{t.monthChangeOnArrows&&t.vertical===K&&ee(Q,R)},ee=(Q,R)=>{W(Q==="right"?-1:1,R)},B=Q=>t.markers.find(R=>Nt(QS(Q.value),QS(R.date))),be=(Q,R)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[Q==0,!0];case"fair":return[Q==0||R>Q,!0];case"append":return[!1,!1];default:return[!1,!1]}},j=(Q,R,K,V)=>{if(t.sixWeeks&&Q.length<6){const se=6-Q.length,me=(R.getDay()+7-V)%7,Be=6-(K.getDay()+7-V)%7,[Le,et]=be(me,Be);for(let Ut=1;Ut<=se;Ut++)if(et?!!(Ut%2)==Le:Le){const Ge=Q[0].days[0],Ve=q(ys(Ge.value,-7),kt(R));Q.unshift({days:Ve})}else{const Ge=Q[Q.length-1],Ve=Ge.days[Ge.days.length-1],Xe=q(ys(Ve.value,1),kt(R));Q.push({days:Xe})}}return Q},q=(Q,R)=>{const K=_e(Q),V=[];for(let se=0;se<7;se++){const me=ys(K,se),Be=kt(me)!==R;V.push({text:t.hideOffsetDates&&Be?"":me.getDate(),value:me,current:!Be,classData:{}})}return V},le=(Q,R)=>{const K=[],V=_e(pi(new Date(R,Q),t.timezone)),se=_e(pi(new Date(R,Q+1,0),t.timezone)),me=t.weekStart,Be=Ua(V,{weekStartsOn:me}),Le=et=>{const Ut=q(et,Q);if(K.push({days:Ut}),!K[K.length-1].days.some(Ge=>Nt(Gr(Ge.value),Gr(se)))){const Ge=ys(et,7);Le(Ge)}};return Le(Be),j(K,V,se,me)},Y=Q=>(s.value=_f(_e(Q.value),t.timezone,t.weekStart),e("date-update",Q.value),A()),pe=Q=>{const R=To(_e(Q.value),a.hours,a.minutes,de());e("date-update",R),t.multiDates?k_(R,s,t.multiDatesLimit):s.value=R,r(),Rr().then(()=>{A()})},Se=Q=>t.noDisabledRange?qO(i.value[0],Q).some(R=>d(R)):!1,E=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},P=(Q,R)=>{const K=[_e(Q.value),ys(_e(Q.value),+t.autoRange)];h(K)?(R&&F(Q.value),i.value=K):e("invalid-date",Q.value)},F=Q=>{const R=kt(_e(Q)),K=ft(_e(Q));if(T(0,R,K),l.value.count>0)for(let V=1;V<l.value.count;V++){const se=UJ(rn(_e(Q),{year:g.value(V-1),month:w.value(V-1)}));T(V,se.month,se.year)}},G=Q=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(gr(Q,s.value[0])||Nt(Q,s.value[0]))?[s.value[0],Q]:t.fixedEnd&&(tr(Q,s.value[1])||Nt(Q,s.value[1]))?[Q,s.value[1]]:(e("invalid-fixed-range",Q),s.value):[],he=Q=>{if(Se(Q.value)||!f(Q.value,s.value,t.fixedStart?0:1))return e("invalid-date",Q.value);i.value=G(_e(Q.value))},fe=(Q,R)=>{if(E(),t.autoRange)return P(Q,R);if(t.fixedStart||t.fixedEnd)return he(Q);i.value[0]?f(_e(Q.value),s.value)&&!Se(Q.value)?tr(_e(Q.value),_e(i.value[0]))?(i.value.unshift(_e(Q.value)),e("range-end",i.value[0])):(i.value[1]=_e(Q.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",Q.value),e("invalid-date",Q.value)):(i.value[0]=_e(Q.value),e("range-start",i.value[0]))},de=(Q=!0)=>t.enableSeconds?Array.isArray(a.seconds)?Q?a.seconds[0]:a.seconds[1]:a.seconds:0,te=Q=>{i.value[Q]=To(i.value[Q],a.hours[Q],a.minutes[Q],de(Q!==1))},z=()=>{var Q,R;i.value[0]&&i.value[1]&&+((Q=i.value)==null?void 0:Q[0])>+((R=i.value)==null?void 0:R[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},ce=()=>{i.value.length&&(i.value[0]&&!i.value[1]?te(0):(te(0),te(1),r()),z(),s.value=i.value.slice(),eg(i.value,e,t.autoApply,t.modelAuto))},we=(Q,R=!1)=>{if(d(Q.value)||!Q.current&&t.hideOffsetDates)return e("invalid-date",Q.value);if(t.weekPicker)return Y(Q);if(!t.range)return pe(Q);eC(a.hours)&&eC(a.minutes)&&!t.multiDates&&(fe(Q,R),ce())},Ce=(Q,R)=>{var K;T(Q,R.month,R.year),l.value.count&&!l.value.solo&&J(Q),e("update-month-year",{instance:Q,month:R.month,year:R.year}),n(l.value.solo?Q:void 0);const V=(K=t.flow)!=null&&K.length?t.flow[t.flowStep]:void 0;!R.fromNav&&(V===Bi.month||V===Bi.year)&&r()},Me=(Q,R)=>{Array.isArray(Q)&&Q.length<=2&&t.range?s.value=Q.map(K=>pi(_e(K),R?void 0:t.timezone)):Array.isArray(Q)||(s.value=pi(_e(Q),R?void 0:t.timezone)),O(),t.multiCalendars&&Rr().then(()=>S(!0))},We=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=tr(_e(),s.value[0])?[_e(),s.value[0]]:[s.value[0],_e()]:s.value=[_e()]:s.value=_e(),O()},Re=()=>{if(Array.isArray(s.value))if(t.multiDates){const Q=dt();s.value[s.value.length-1]=m(Q)}else s.value=s.value.map((Q,R)=>Q&&m(Q,R));else s.value=m(s.value);e("time-update")},dt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:g,year:w,time:a,disabledTimesConfig:b,validateTime:v,getCalendarDays:le,getMarker:B,handleScroll:Z,handleSwipe:ee,handleArrow:ie,selectDate:we,updateMonthYear:Ce,presetDate:Me,selectCurrentDate:We,updateTime:(Q,R=!0,K=!1)=>{p(Q,R,K,Re)}}},tee={key:0},nee=Ee({__name:"DatePicker",props:{...Fi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:f,handleArrow:p,handleScroll:m,handleSwipe:y,selectDate:_,updateMonthYear:v,presetDate:b,selectCurrentDate:g,updateTime:w}=eee(i,r,$,I),T=No(),{setHoverDate:O,getDayClassData:k,clearHoverDate:A}=iZ(l,i),{defaultedMultiCalendars:S}=Cn(i),L=ue([]),U=ue([]),C=ue(null),H=ti(T,"calendar"),M=ti(T,"monthYear"),N=ti(T,"timePicker"),W=ie=>{i.shadow||r("mount",ie)};cn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const J=re(()=>ie=>h(o.value(ie),a.value(ie)).map(ee=>({...ee,days:ee.days.map(B=>(B.marker=f(B),B.classData=k(B),B))})));function $(ie){var ee;ie||ie===0?(ee=U.value[ie])==null||ee.triggerTransition(o.value(ie),a.value(ie)):U.value.forEach((B,be)=>B.triggerTransition(o.value(be),a.value(be)))}function I(){r("update-flow-step")}const Z=(ie,ee=!1)=>{_(ie,ee),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:A,presetDate:b,selectCurrentDate:g,toggleMonthPicker:(ie,ee,B=0)=>{var be;(be=L.value[B])==null||be.toggleMonthPicker(ie,ee)},toggleYearPicker:(ie,ee,B=0)=>{var be;(be=L.value[B])==null||be.toggleYearPicker(ie,ee)},toggleTimePicker:(ie,ee,B)=>{var be;(be=C.value)==null||be.toggleTimePicker(ie,ee,B)},handleArrow:p,updateMonthYear:v,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:w,updateMonthYear:v,selectDate:_,presetDate:b})}),(ie,ee)=>(D(),X(Ie,null,[ae(Zm,{"multi-calendars":x(S).count},{default:ye(({instance:B,index:be})=>[ie.disableMonthYearSelect?oe("",!0):(D(),ve(WZ,Ht({key:0,ref:j=>{j&&(L.value[be]=j)},months:x(WO)(ie.formatLocale,ie.locale,ie.monthNameFormat),years:x(C_)(ie.yearRange,ie.reverseYears),month:x(o)(B),year:x(a)(B),instance:B},ie.$props,{onMount:ee[0]||(ee[0]=j=>W(x(wa).header)),onResetFlow:ee[1]||(ee[1]=j=>ie.$emit("reset-flow")),onUpdateMonthYear:j=>x(v)(B,j),onOverlayClosed:ee[2]||(ee[2]=j=>ie.$emit("focus-menu"))}),rr({_:2},[ut(x(M),(j,q)=>({name:j,fn:ye(le=>[xe(ie.$slots,j,Tn(nr(le)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),ae(ZZ,Ht({ref:j=>{j&&(U.value[be]=j)},"mapped-dates":J.value(B),month:x(o)(B),year:x(a)(B),instance:B},ie.$props,{onSelectDate:j=>x(_)(j,B!==1),onHandleSpace:j=>Z(j,B!==1),onSetHoverDate:ee[3]||(ee[3]=j=>x(O)(j)),onHandleScroll:j=>x(m)(j,B),onHandleSwipe:j=>x(y)(j,B),onMount:ee[4]||(ee[4]=j=>W(x(wa).calendar)),onResetFlow:ee[5]||(ee[5]=j=>ie.$emit("reset-flow")),onTooltipOpen:ee[6]||(ee[6]=j=>ie.$emit("tooltip-open",j)),onTooltipClose:ee[7]||(ee[7]=j=>ie.$emit("tooltip-close",j))}),rr({_:2},[ut(x(H),(j,q)=>({name:j,fn:ye(le=>[xe(ie.$slots,j,Tn(nr({...le})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),ie.enableTimePicker?(D(),X("div",tee,[ie.$slots["time-picker"]?xe(ie.$slots,"time-picker",Tn(Ht({key:0},{time:x(u),updateTime:x(w)}))):(D(),ve(rN,Ht({key:1,ref_key:"timePickerRef",ref:C},ie.$props,{hours:x(u).hours,minutes:x(u).minutes,seconds:x(u).seconds,"internal-model-value":ie.internalModelValue,"disabled-times-config":x(c),"validate-time":x(d),onMount:ee[8]||(ee[8]=B=>W(x(wa).timePicker)),"onUpdate:hours":ee[9]||(ee[9]=B=>x(w)(B)),"onUpdate:minutes":ee[10]||(ee[10]=B=>x(w)(B,!1)),"onUpdate:seconds":ee[11]||(ee[11]=B=>x(w)(B,!1,!0)),onResetFlow:ee[12]||(ee[12]=B=>ie.$emit("reset-flow")),onOverlayClosed:ee[13]||(ee[13]=B=>ie.$emit("time-picker-close")),onOverlayOpened:ee[14]||(ee[14]=B=>ie.$emit("time-picker-open",B)),onAmPmChange:ee[15]||(ee[15]=B=>ie.$emit("am-pm-change",B))}),rr({_:2},[ut(x(N),(B,be)=>({name:B,fn:ye(j=>[xe(ie.$slots,B,Tn(nr(j)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):oe("",!0)],64))}}),ree=(t,e)=>{const n=ue(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Cn(t),{modelValue:o,year:a,month:l,calendars:u}=uh(t,e),{isDisabled:c}=Ou(t),{selectYear:d,groupedYears:h,showYearPicker:f,isDisabled:p,toggleYearPicker:m,handleYearSelect:y,handleYear:_}=nN({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),v=(A,S)=>[A,S].map(L=>bo(L,"MMMM",{locale:t.formatLocale})).join("-"),b=re(()=>A=>o.value?Array.isArray(o.value)?o.value.some(S=>$S(A,S)):$S(o.value,A):!1),g=A=>{if(t.range){if(Array.isArray(o.value)){const S=Nt(A,o.value[0])||Nt(A,o.value[1]);return Qm(o.value,n.value,A)&&!S}return!1}return!1},w=re(()=>A=>{const S=rn(new Date,{year:a.value(A)});return Sq({start:Iq(S),end:Cq(S)}).map(L=>{const U=bd(L),C=PS(L),H=c(L),M=g(U),N=typeof s.value=="function"?s.value({quarter:xS(U),year:ft(U)}):!!s.value.quarters.find(W=>W.quarter===xS(U)&&W.year===ft(U));return{text:v(U,C),value:U,active:b.value(U),highlighted:N,disabled:H,isBetween:M}})}),T=A=>{k_(A,o,t.multiDatesLimit),e("auto-apply",!0)},O=A=>{const S=A_(o,A,e);eg(S,e,t.autoApply,t.modelAuto)},k=A=>{o.value=A,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:p,quarters:w,showYearPicker:f,modelValue:o,setHoverDate:A=>{n.value=A},selectYear:d,selectQuarter:(A,S,L)=>{if(!L)return u.value[S].month=kt(PS(A)),t.multiDates?T(A):t.range?O(A):k(A)},toggleYearPicker:m,handleYearSelect:y,handleYear:_}},iee={class:"dp--quarter-items"},see=["disabled","onClick","onMouseover"],oee=Ee({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Fi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=No(),o=ti(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:f,showYearPicker:p,setHoverDate:m,selectQuarter:y,toggleYearPicker:_,handleYearSelect:v,handleYear:b}=ree(i,r);return e({getSidebarProps:()=>({modelValue:f,year:c,selectQuarter:y,handleYearSelect:v,handleYear:b})}),(g,w)=>(D(),ve(Zm,{"multi-calendars":x(a).count,stretch:""},{default:ye(({instance:T})=>[ne("div",{class:"dp-quarter-picker-wrap",style:Nn({minHeight:`${x(l).modeHeight}px`})},[ne("div",null,[ae(tN,Ht(g.$props,{items:x(u)(T),instance:T,"show-year-picker":x(p)[T],year:x(c)(T),"is-disabled":O=>x(d)(T,O),onHandleYear:O=>x(b)(T,O),onYearSelect:O=>x(v)(O,T),onToggleYearPicker:O=>x(_)(T,O==null?void 0:O.flow,O==null?void 0:O.show)}),rr({_:2},[ut(x(o),(O,k)=>({name:O,fn:ye(A=>[xe(g.$slots,O,Tn(nr(A)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ne("div",iee,[(D(!0),X(Ie,null,ut(x(h)(T),(O,k)=>(D(),X("div",{key:k},[ne("button",{type:"button",class:Oe(["dp--qr-btn",{"dp--qr-btn-active":O.active,"dp--qr-btn-between":O.isBetween,"dp--qr-btn-disabled":O.disabled,"dp--highlighted":O.highlighted}]),disabled:O.disabled,onClick:A=>x(y)(O.value,T,O.disabled),onMouseover:A=>x(m)(O.value)},[g.$slots.quarter?xe(g.$slots,"quarter",{key:0,value:O.value,text:O.text}):(D(),X(Ie,{key:1},[qe(Qe(O.text),1)],64))],42,see)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),aee=["id","onKeydown"],lee={key:0,class:"dp__sidebar_left"},uee={key:1,class:"dp--preset-dates"},cee=["onClick","onKeydown"],dee={key:2,class:"dp__sidebar_right"},hee={key:3,class:"dp__action_extra"},tC=Ee({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Jm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=re(()=>{const{openOnTop:E,...P}=i;return{...P,flowStep:k.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=eN(),u=No(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=Cn(i),f=ue(null),p=ue(0),m=ue(null),y=ue(null),_=ue(!1),v=ue(null);Jt(()=>{if(!i.shadow){_.value=!0,b(),window.addEventListener("resize",b);const E=On(m);if(E&&!c.value.enabled&&!d.value.enabled&&(o(!0),C()),E){const P=F=>{h.value.allowPreventDefault&&F.preventDefault(),_o(F,h.value,!0)};E.addEventListener("pointerdown",P),E.addEventListener("mousedown",P)}}}),ja(()=>{window.removeEventListener("resize",b)});const b=()=>{const E=On(y);E&&(p.value=E.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:w,arrowDown:T,arrowUp:O}=Bo(),{flowStep:k,updateFlowStep:A,childMount:S,resetFlow:L}=sZ(i,r,v),U=re(()=>i.monthPicker?TZ:i.yearPicker?SZ:i.timePicker?BZ:i.quarterPicker?oee:nee),C=()=>{const E=On(m);E&&E.focus({preventScroll:!0})},H=re(()=>{var E;return((E=v.value)==null?void 0:E.getSidebarProps())||{}}),M=()=>{i.openOnTop&&r("recalculate-position")},N=ti(u,"action"),W=re(()=>i.monthPicker||i.yearPicker?ti(u,"monthYear"):i.timePicker?ti(u,"timePicker"):ti(u,"shared")),J=re(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$=re(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),I=re(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),Z=E=>{_o(E,h.value,!0)},ie=()=>{i.escClose&&r("close-picker")},ee=E=>{if(i.arrowNavigation){if(E==="up")return O();if(E==="down")return T();if(E==="left")return w();if(E==="right")return g()}else E==="left"||E==="up"?le("handleArrow","left",0,E==="up"):le("handleArrow","right",0,E==="down")},B=E=>{a(E.shiftKey),!i.disableMonthYearSelect&&E.code==="Tab"&&E.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(E.preventDefault(),_o(E,h.value,!0),r("close-picker"))},be=()=>{C(),r("time-picker-close")},j=E=>{var P,F,G;(P=v.value)==null||P.toggleTimePicker(!1,!1),(F=v.value)==null||F.toggleMonthPicker(!1,!1,E),(G=v.value)==null||G.toggleYearPicker(!1,!1,E)},q=(E,P=0)=>{var F,G,he;return E==="month"?(F=v.value)==null?void 0:F.toggleMonthPicker(!1,!0,P):E==="year"?(G=v.value)==null?void 0:G.toggleYearPicker(!1,!0,P):E==="time"?(he=v.value)==null?void 0:he.toggleTimePicker(!0,!1):j(P)},le=(E,...P)=>{var F,G;(F=v.value)!=null&&F[E]&&((G=v.value)==null||G[E](...P))},Y=()=>{le("selectCurrentDate")},pe=(E,P)=>{le("presetDate",E,P)},Se=()=>{le("clearHoverDate")};return e({updateMonthYear:(E,P)=>{le("updateMonthYear",E,P)},switchView:q}),(E,P)=>{var F;return D(),X("div",{id:E.uid?`dp-menu-${E.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog",class:Oe(I.value),onMouseleave:Se,onClick:Z,onKeydown:[at(ie,["esc"]),P[18]||(P[18]=at(Pt(G=>ee("left"),["prevent"]),["left"])),P[19]||(P[19]=at(Pt(G=>ee("up"),["prevent"]),["up"])),P[20]||(P[20]=at(Pt(G=>ee("down"),["prevent"]),["down"])),P[21]||(P[21]=at(Pt(G=>ee("right"),["prevent"]),["right"])),B]},[(E.disabled||E.readonly)&&x(d).enabled?(D(),X("div",{key:0,class:Oe($.value)},null,2)):oe("",!0),!x(d).enabled&&!E.teleportCenter?(D(),X("div",{key:1,class:Oe(J.value)},null,2)):oe("",!0),ne("div",{ref_key:"innerMenuRef",ref:y,class:Oe({dp__menu_content_wrapper:((F=E.presetDates)==null?void 0:F.length)||!!E.$slots["left-sidebar"]||!!E.$slots["right-sidebar"]}),style:Nn({"--dp-menu-width":`${p.value}px`})},[E.$slots["left-sidebar"]?(D(),X("div",lee,[xe(E.$slots,"left-sidebar",Tn(nr(H.value)))])):oe("",!0),E.presetDates.length?(D(),X("div",uee,[(D(!0),X(Ie,null,ut(E.presetDates,(G,he)=>(D(),X(Ie,{key:he},[G.slot?xe(E.$slots,G.slot,{key:0,presetDate:pe,label:G.label,value:G.value}):(D(),X("button",{key:1,type:"button",style:Nn(G.style||{}),class:"dp__btn dp--preset-range",onClick:Pt(fe=>pe(G.value,G.noTz),["prevent"]),onKeydown:[at(Pt(fe=>pe(G.value,G.noTz),["prevent"]),["enter"]),at(Pt(fe=>pe(G.value,G.noTz),["prevent"]),["space"])]},Qe(G.label),45,cee))],64))),128))])):oe("",!0),ne("div",{ref_key:"calendarWrapperRef",ref:f,class:"dp__instance_calendar",role:"document"},[(D(),ve(kd(U.value),Ht({ref_key:"dynCmpRef",ref:v},s.value,{"flow-step":x(k),onMount:x(S),onUpdateFlowStep:x(A),onResetFlow:x(L),onFocusMenu:C,onSelectDate:P[0]||(P[0]=G=>E.$emit("select-date")),onDateUpdate:P[1]||(P[1]=G=>E.$emit("date-update",G)),onTooltipOpen:P[2]||(P[2]=G=>E.$emit("tooltip-open",G)),onTooltipClose:P[3]||(P[3]=G=>E.$emit("tooltip-close",G)),onAutoApply:P[4]||(P[4]=G=>E.$emit("auto-apply",G)),onRangeStart:P[5]||(P[5]=G=>E.$emit("range-start",G)),onRangeEnd:P[6]||(P[6]=G=>E.$emit("range-end",G)),onInvalidFixedRange:P[7]||(P[7]=G=>E.$emit("invalid-fixed-range",G)),onTimeUpdate:P[8]||(P[8]=G=>E.$emit("time-update")),onAmPmChange:P[9]||(P[9]=G=>E.$emit("am-pm-change",G)),onTimePickerOpen:P[10]||(P[10]=G=>E.$emit("time-picker-open",G)),onTimePickerClose:be,onRecalculatePosition:M,onUpdateMonthYear:P[11]||(P[11]=G=>E.$emit("update-month-year",G)),onAutoApplyInvalid:P[12]||(P[12]=G=>E.$emit("auto-apply-invalid",G)),onInvalidDate:P[13]||(P[13]=G=>E.$emit("invalid-date",G)),"onUpdate:internalModelValue":P[14]||(P[14]=G=>E.$emit("update:internal-model-value",G))}),rr({_:2},[ut(W.value,(G,he)=>({name:G,fn:ye(fe=>[xe(E.$slots,G,Tn(nr({...fe})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),E.$slots["right-sidebar"]?(D(),X("div",dee,[xe(E.$slots,"right-sidebar",Tn(nr(H.value)))])):oe("",!0),E.$slots["action-extra"]?(D(),X("div",hee,[E.$slots["action-extra"]?xe(E.$slots,"action-extra",{key:0,selectCurrentDate:Y}):oe("",!0)])):oe("",!0)],6),!E.autoApply||x(h).keepActionRow?(D(),ve(fZ,Ht({key:2,"menu-mount":_.value},s.value,{"calendar-width":p.value,onClosePicker:P[15]||(P[15]=G=>E.$emit("close-picker")),onSelectDate:P[16]||(P[16]=G=>E.$emit("select-date")),onInvalidSelect:P[17]||(P[17]=G=>E.$emit("invalid-select")),onSelectNow:Y}),rr({_:2},[ut(x(N),(G,he)=>({name:G,fn:ye(fe=>[xe(E.$slots,G,Tn(nr({...fe})))])}))]),1040,["menu-mount","calendar-width"])):oe("",!0)],42,aee)}}}),fee=typeof window<"u"?window:void 0,Cv=()=>{},pee=t=>Lp()?(A0(t),!0):!1,mee=(t,e,n,r)=>{if(!t)return Cv;let i=Cv;const s=cn(()=>x(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Cv})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return pee(o),o},gee=(t,e,n,r={})=>{const{window:i=fee,event:s="pointerdown"}=r;return i?mee(i,s,o=>{const a=On(t),l=On(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},vee=Ee({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Jm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=No(),o=ue(!1),a=Kl(i,"modelValue"),l=Kl(i,"timezone"),u=ue(null),c=ue(null),d=ue(null),h=ue(!1),f=ue(null),p=ue(!1),{setMenuFocused:m,setShiftKey:y}=eN(),{clearArrowNav:_}=Bo(),{mapDatesArrToMap:v,validateDate:b,isValidTime:g}=Ou(i),{defaultedTransitions:w,defaultedTextInput:T,defaultedInline:O,defaultedConfig:k}=Cn(i),{menuTransition:A,showTransition:S}=lh(w);Jt(()=>{ie(i.modelValue),Rr().then(()=>{O.value.enabled||(J(f.value).addEventListener("scroll",pe),window.addEventListener("resize",Se))}),O.value.enabled&&(o.value=!0)});const L=re(()=>v());ja(()=>{if(!O.value.enabled){const V=J(f.value);V&&V.removeEventListener("scroll",pe),window.removeEventListener("resize",Se)}});const U=ti(s,"all",i.presetDates),C=ti(s,"input");cn([a,l],()=>{ie(a.value)},{deep:!0});const{openOnTop:H,menuStyle:M,xCorrect:N,setMenuPosition:W,getScrollableParent:J,shadowRender:$}=tZ({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:f,inline:O,emit:r,props:i,slots:s}),{inputValue:I,internalModelValue:Z,parseExternalModelValue:ie,emitModelValue:ee,formatInputValue:B,checkBeforeEmit:be}=ZJ(r,i,h),j=re(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:O.value.enabled,dp__flex_display_with_input:O.value.input})),q=re(()=>i.dark?"dp__theme_dark":"dp__theme_light"),le=re(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:O.value.enabled}:{class:"dp__outer_menu_wrap"}),Y=re(()=>O.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),pe=()=>{o.value&&(k.value.closeOnScroll?z():W())},Se=()=>{o.value&&W()},E=()=>{!i.disabled&&!i.readonly&&($(tC,i),W(!1),o.value=!0,o.value&&r("open"),o.value||te(),ie(i.modelValue))},P=()=>{var V;I.value="",te(),(V=d.value)==null||V.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),k.value.closeOnClearValue&&z()},F=()=>{const V=Z.value;return!V||!Array.isArray(V)&&b(V)?!0:Array.isArray(V)?V.length===2&&b(V[0])&&b(V[1])?!0:i.partialRange&&!i.timePicker?b(V[0]):!1:!1},G=()=>{be()&&F()?(ee(),z()):r("invalid-select",Z.value)},he=V=>{fe(),ee(),k.value.closeOnAutoApply&&!V&&z()},fe=()=>{d.value&&T.value.enabled&&d.value.setParsedDate(Z.value)},de=(V=!1)=>{i.autoApply&&g(Z.value)&&F()&&(i.range&&Array.isArray(Z.value)?(i.partialRange||Z.value.length===2)&&he(V):he(V))},te=()=>{T.value.enabled||(Z.value=null)},z=()=>{O.value.enabled||(o.value&&(o.value=!1,N.value=!1,m(!1),y(!1),_(),r("closed"),I.value&&ie(a.value)),te(),r("blur"))},ce=(V,se,me=!1)=>{if(!V){Z.value=null;return}const Be=Array.isArray(V)?!V.some(et=>!b(et)):b(V),Le=g(V);Be&&Le&&(Z.value=V,se&&(p.value=me,G(),r("text-submit")))},we=()=>{i.autoApply&&g(Z.value)&&ee(),fe()},Ce=()=>o.value?z():E(),Me=V=>{Z.value=V},We=()=>{T.value.enabled&&(h.value=!0,B()),r("focus")},Re=()=>{if(T.value.enabled&&(h.value=!1,ie(i.modelValue),p.value)){const V=MJ(f.value);V==null||V.focus()}r("blur")},dt=V=>{c.value&&c.value.updateMonthYear(0,{month:zS(V.month),year:zS(V.year)})},Q=V=>{ie(V??i.modelValue)},R=(V,se)=>{var me;(me=c.value)==null||me.switchView(V,se)},K=V=>k.value.onClickOutside?k.value.onClickOutside(V):z();return gee(u,d,()=>K(F)),e({closeMenu:z,selectDate:G,clearValue:P,openMenu:E,onScroll:pe,formatInputValue:B,updateInternalModelValue:Me,setMonthYear:dt,parseModel:Q,switchView:R}),(V,se)=>(D(),X("div",{ref_key:"pickerWrapperRef",ref:f,class:Oe(j.value)},[ae(uZ,Ht({ref_key:"inputRef",ref:d,"input-value":x(I),"onUpdate:inputValue":se[0]||(se[0]=me=>Gt(I)?I.value=me:null),"is-menu-open":o.value},V.$props,{onClear:P,onOpen:E,onSetInputDate:ce,onSetEmptyDate:x(ee),onSelectDate:G,onToggle:Ce,onClose:z,onFocus:We,onBlur:Re,onRealBlur:se[1]||(se[1]=me=>h.value=!1)}),rr({_:2},[ut(x(C),(me,Be)=>({name:me,fn:ye(Le=>[xe(V.$slots,me,Tn(nr(Le)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),ae(us,{name:x(A)(x(H)),css:x(S)&&!x(O).enabled},{default:ye(()=>[o.value?(D(),ve(kd(V.teleport?sI:"div"),Ht({key:0,ref_key:"dpWrapMenuRef",ref:u},le.value,{class:{"dp--menu-wrapper":!x(O).enabled},style:x(O).enabled?void 0:x(M)}),{default:ye(()=>[ae(tC,Ht({ref_key:"dpMenuRef",ref:c},V.$props,{"internal-model-value":x(Z),"onUpdate:internalModelValue":se[2]||(se[2]=me=>Gt(Z)?Z.value=me:null),class:{[q.value]:!0,"dp--menu-wrapper":V.teleport},style:V.teleport?x(M):void 0,"open-on-top":x(H),"arr-map-values":L.value,"no-overlay-focus":Y.value,onClosePicker:z,onSelectDate:G,onAutoApply:de,onTimeUpdate:we,onFlowStep:se[3]||(se[3]=me=>V.$emit("flow-step",me)),onUpdateMonthYear:se[4]||(se[4]=me=>V.$emit("update-month-year",me)),onInvalidSelect:se[5]||(se[5]=me=>V.$emit("invalid-select",x(Z))),onAutoApplyInvalid:se[6]||(se[6]=me=>V.$emit("invalid-select",me)),onInvalidFixedRange:se[7]||(se[7]=me=>V.$emit("invalid-fixed-range",me)),onRecalculatePosition:x(W),onTooltipOpen:se[8]||(se[8]=me=>V.$emit("tooltip-open",me)),onTooltipClose:se[9]||(se[9]=me=>V.$emit("tooltip-close",me)),onTimePickerOpen:se[10]||(se[10]=me=>V.$emit("time-picker-open",me)),onTimePickerClose:se[11]||(se[11]=me=>V.$emit("time-picker-close",me)),onAmPmChange:se[12]||(se[12]=me=>V.$emit("am-pm-change",me)),onRangeStart:se[13]||(se[13]=me=>V.$emit("range-start",me)),onRangeEnd:se[14]||(se[14]=me=>V.$emit("range-end",me)),onDateUpdate:se[15]||(se[15]=me=>V.$emit("date-update",me)),onInvalidDate:se[16]||(se[16]=me=>V.$emit("invalid-date",me))}),rr({_:2},[ut(x(U),(me,Be)=>({name:me,fn:ye(Le=>[xe(V.$slots,me,Tn(nr({...Le})))])}))]),1040,["internal-model-value","class","style","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])]),_:3},16,["class","style"])):oe("",!0)]),_:3},8,["name","css"])],2))}}),x_=(()=>{const t=vee;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),yee=Object.freeze(Object.defineProperty({__proto__:null,default:x_},Symbol.toStringTag,{value:"Module"}));Object.entries(yee).forEach(([t,e])=>{t!=="default"&&(x_[t]=e)});const Nu=MI(S$);Nu.use(l_);Nu.use(uK,{firebaseApp:Zk,modules:[lK()]});Nu.use(sA);Nu.use(fL);Nu.component("VueDatePicker",x_);Nu.mount("#app");
