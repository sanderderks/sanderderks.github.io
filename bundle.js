var qN=Object.defineProperty;var zN=(t,e,n)=>e in t?qN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fi=(t,e,n)=>(zN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const gt={},ml=[],ui=()=>{},KN=()=>!1,Td=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),qy=t=>t.startsWith("onUpdate:"),Gt=Object.assign,zy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},GN=Object.prototype.hasOwnProperty,kt=(t,e)=>GN.call(t,e),$e=Array.isArray,gl=t=>iu(t)==="[object Map]",Sa=t=>iu(t)==="[object Set]",Cw=t=>iu(t)==="[object Date]",YN=t=>iu(t)==="[object RegExp]",et=t=>typeof t=="function",Zt=t=>typeof t=="string",Di=t=>typeof t=="symbol",Ht=t=>t!==null&&typeof t=="object",Ky=t=>(Ht(t)||et(t))&&et(t.then)&&et(t.catch),XS=Object.prototype.toString,iu=t=>XS.call(t),QN=t=>iu(t).slice(8,-1),Tp=t=>iu(t)==="[object Object]",Gy=t=>Zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vl=wp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ep=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},XN=/-(\w)/g,yr=Ep(t=>t.replace(XN,(e,n)=>n?n.toUpperCase():"")),JN=/\B([A-Z])/g,Vr=Ep(t=>t.replace(JN,"-$1").toLowerCase()),Ip=Ep(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gh=Ep(t=>t?`on${Ip(t)}`:""),Cr=(t,e)=>!Object.is(t,e),yl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},JS=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},pf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},mf=t=>{const e=Zt(t)?Number(t):NaN;return isNaN(e)?t:e};let Ow;const Sp=()=>Ow||(Ow=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ZN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",eM=wp(ZN);function kr(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Zt(r)?iM(r):kr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Zt(t)||Ht(t))return t}const tM=/;(?![^(]*\))/g,nM=/:([^]+)/,rM=/\/\*[^]*?\*\//g;function iM(t){const e={};return t.replace(rM,"").split(tM).forEach(n=>{if(n){const r=n.split(nM);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tt(t){let e="";if(Zt(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=tt(t[n]);r&&(e+=r+" ")}else if(Ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Tn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Zt(e)&&(t.class=tt(e)),n&&(t.style=kr(n)),t}const sM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oM=wp(sM);function ZS(t){return!!t||t===""}function aM(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=go(t[r],e[r]);return n}function go(t,e){if(t===e)return!0;let n=Cw(t),r=Cw(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Di(t),r=Di(e),n||r)return t===e;if(n=$e(t),r=$e(e),n||r)return n&&r?aM(t,e):!1;if(n=Ht(t),r=Ht(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!go(t[o],e[o]))return!1}}return String(t)===String(e)}function Ap(t,e){return t.findIndex(n=>go(n,e))}const eA=t=>!!(t&&t.__v_isRef===!0),ht=t=>Zt(t)?t:t==null?"":$e(t)||Ht(t)&&(t.toString===XS||!et(t.toString))?eA(t)?ht(t.value):JSON.stringify(t,tA,2):String(t),tA=(t,e)=>eA(e)?tA(t,e.value):gl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[zm(r,s)+" =>"]=i,n),{})}:Sa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zm(n))}:Di(e)?zm(e):Ht(e)&&!$e(e)&&!Tp(e)?String(e):e,zm=(t,e="")=>{var n;return Di(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ar;class nA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ar,!e&&Ar&&(this.index=(Ar.scopes||(Ar.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ar;try{return Ar=this,e()}finally{Ar=n}}}on(){Ar=this}off(){Ar=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Yy(t){return new nA(t)}function Qy(){return Ar}function rA(t,e=!1){Ar&&Ar.cleanups.push(t)}let Qt;const Km=new WeakSet;class gf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ar&&Ar.active&&Ar.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Km.has(this)&&(Km.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||sA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pw(this),oA(this);const e=Qt,n=Ai;Qt=this,Ai=!0;try{return this.fn()}finally{aA(this),Qt=e,Ai=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Zy(e);this.deps=this.depsTail=void 0,Pw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Km.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){iv(this)&&this.run()}get dirty(){return iv(this)}}let iA=0,ec,tc;function sA(t,e=!1){if(t.flags|=8,e){t.next=tc,tc=t;return}t.next=ec,ec=t}function Xy(){iA++}function Jy(){if(--iA>0)return;if(tc){let e=tc;for(tc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ec;){let e=ec;for(ec=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function oA(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function aA(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Zy(r),lM(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function iv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(lA(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function lA(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oc))return;t.globalVersion=Oc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!iv(t)){t.flags&=-3;return}const n=Qt,r=Ai;Qt=t,Ai=!0;try{oA(t);const i=t.fn(t._value);(e.version===0||Cr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Qt=n,Ai=r,aA(t),t.flags&=-3}}function Zy(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Zy(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function lM(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function wne(t,e){t.effect instanceof gf&&(t=t.effect.fn);const n=new gf(t);e&&Gt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function Tne(t){t.effect.stop()}let Ai=!0;const uA=[];function Ao(){uA.push(Ai),Ai=!1}function Co(){const t=uA.pop();Ai=t===void 0?!0:t}function Pw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Qt;Qt=void 0;try{e()}finally{Qt=n}}}let Oc=0;class uM{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Qt||!Ai||Qt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Qt)n=this.activeLink=new uM(Qt,this),Qt.deps?(n.prevDep=Qt.depsTail,Qt.depsTail.nextDep=n,Qt.depsTail=n):Qt.deps=Qt.depsTail=n,cA(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Qt.depsTail,n.nextDep=void 0,Qt.depsTail.nextDep=n,Qt.depsTail=n,Qt.deps===n&&(Qt.deps=r)}return n}trigger(e){this.version++,Oc++,this.notify(e)}notify(e){Xy();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Jy()}}}function cA(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)cA(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const vf=new WeakMap,Qo=Symbol(""),sv=Symbol(""),Pc=Symbol("");function cr(t,e,n){if(Ai&&Qt){let r=vf.get(t);r||vf.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Cp),i.map=r,i.key=n),i.track()}}function fs(t,e,n,r,i,s){const o=vf.get(t);if(!o){Oc++;return}const a=l=>{l&&l.trigger()};if(Xy(),e==="clear")o.forEach(a);else{const l=$e(t),u=l&&Gy(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Pc||!Di(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Pc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Qo)),gl(t)&&a(o.get(sv)));break;case"delete":l||(a(o.get(Qo)),gl(t)&&a(o.get(sv)));break;case"set":gl(t)&&a(o.get(Qo));break}}Jy()}function cM(t,e){const n=vf.get(t);return n&&n.get(e)}function Wa(t){const e=mt(t);return e===t?e:(cr(e,"iterate",Pc),ci(t)?e:e.map(dr))}function Op(t){return cr(t=mt(t),"iterate",Pc),t}const dM={__proto__:null,[Symbol.iterator](){return Gm(this,Symbol.iterator,dr)},concat(...t){return Wa(this).concat(...t.map(e=>$e(e)?Wa(e):e))},entries(){return Gm(this,"entries",t=>(t[1]=dr(t[1]),t))},every(t,e){return us(this,"every",t,e,void 0,arguments)},filter(t,e){return us(this,"filter",t,e,n=>n.map(dr),arguments)},find(t,e){return us(this,"find",t,e,dr,arguments)},findIndex(t,e){return us(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return us(this,"findLast",t,e,dr,arguments)},findLastIndex(t,e){return us(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return us(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ym(this,"includes",t)},indexOf(...t){return Ym(this,"indexOf",t)},join(t){return Wa(this).join(t)},lastIndexOf(...t){return Ym(this,"lastIndexOf",t)},map(t,e){return us(this,"map",t,e,void 0,arguments)},pop(){return Pu(this,"pop")},push(...t){return Pu(this,"push",t)},reduce(t,...e){return kw(this,"reduce",t,e)},reduceRight(t,...e){return kw(this,"reduceRight",t,e)},shift(){return Pu(this,"shift")},some(t,e){return us(this,"some",t,e,void 0,arguments)},splice(...t){return Pu(this,"splice",t)},toReversed(){return Wa(this).toReversed()},toSorted(t){return Wa(this).toSorted(t)},toSpliced(...t){return Wa(this).toSpliced(...t)},unshift(...t){return Pu(this,"unshift",t)},values(){return Gm(this,"values",dr)}};function Gm(t,e,n){const r=Op(t),i=r[e]();return r!==t&&!ci(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const hM=Array.prototype;function us(t,e,n,r,i,s){const o=Op(t),a=o!==t&&!ci(t),l=o[e];if(l!==hM[e]){const h=l.apply(t,s);return a?dr(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,dr(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function kw(t,e,n,r){const i=Op(t);let s=n;return i!==t&&(ci(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,dr(a),l,t)}),i[e](s,...r)}function Ym(t,e,n){const r=mt(t);cr(r,"iterate",Pc);const i=r[e](...n);return(i===-1||i===!1)&&t_(n[0])?(n[0]=mt(n[0]),r[e](...n)):i}function Pu(t,e,n=[]){Ao(),Xy();const r=mt(t)[e].apply(t,n);return Jy(),Co(),r}const fM=wp("__proto__,__v_isRef,__isVue"),dA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Di));function pM(t){Di(t)||(t=String(t));const e=mt(this);return cr(e,"has",t),e.hasOwnProperty(t)}class hA{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?yA:vA:s?gA:mA).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$e(e);if(!i){let l;if(o&&(l=dM[n]))return l;if(n==="hasOwnProperty")return pM}const a=Reflect.get(e,n,ln(e)?e:r);return(Di(n)?dA.has(n):fM(n))||(i||cr(e,"get",n),s)?a:ln(a)?o&&Gy(n)?a:a.value:Ht(a)?i?e_(a):Dr(a):a}}class fA extends hA{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=oa(s);if(!ci(r)&&!oa(r)&&(s=mt(s),r=mt(r)),!$e(e)&&ln(s)&&!ln(r))return l?!1:(s.value=r,!0)}const o=$e(e)&&Gy(n)?Number(n)<e.length:kt(e,n),a=Reflect.set(e,n,r,ln(e)?e:i);return e===mt(i)&&(o?Cr(r,s)&&fs(e,"set",n,r):fs(e,"add",n,r)),a}deleteProperty(e,n){const r=kt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&fs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Di(n)||!dA.has(n))&&cr(e,"has",n),r}ownKeys(e){return cr(e,"iterate",$e(e)?"length":Qo),Reflect.ownKeys(e)}}class pA extends hA{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const mM=new fA,gM=new pA,vM=new fA(!0),yM=new pA(!0),ov=t=>t,fh=t=>Reflect.getPrototypeOf(t);function _M(t,e,n){return function(...r){const i=this.__v_raw,s=mt(i),o=gl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?ov:e?av:dr;return!e&&cr(s,"iterate",l?sv:Qo),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function ph(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function bM(t,e){const n={get(i){const s=this.__v_raw,o=mt(s),a=mt(i);t||(Cr(i,a)&&cr(o,"get",i),cr(o,"get",a));const{has:l}=fh(o),u=e?ov:t?av:dr;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&cr(mt(i),"iterate",Qo),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=mt(s),a=mt(i);return t||(Cr(i,a)&&cr(o,"has",i),cr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=mt(a),u=e?ov:t?av:dr;return!t&&cr(l,"iterate",Qo),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return Gt(n,t?{add:ph("add"),set:ph("set"),delete:ph("delete"),clear:ph("clear")}:{add(i){!e&&!ci(i)&&!oa(i)&&(i=mt(i));const s=mt(this);return fh(s).has.call(s,i)||(s.add(i),fs(s,"add",i,i)),this},set(i,s){!e&&!ci(s)&&!oa(s)&&(s=mt(s));const o=mt(this),{has:a,get:l}=fh(o);let u=a.call(o,i);u||(i=mt(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Cr(s,c)&&fs(o,"set",i,s):fs(o,"add",i,s),this},delete(i){const s=mt(this),{has:o,get:a}=fh(s);let l=o.call(s,i);l||(i=mt(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&fs(s,"delete",i,void 0),u},clear(){const i=mt(this),s=i.size!==0,o=i.clear();return s&&fs(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=_M(i,t,e)}),n}function Pp(t,e){const n=bM(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(kt(n,i)&&i in r?n:r,i,s)}const wM={get:Pp(!1,!1)},TM={get:Pp(!1,!0)},EM={get:Pp(!0,!1)},IM={get:Pp(!0,!0)},mA=new WeakMap,gA=new WeakMap,vA=new WeakMap,yA=new WeakMap;function SM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function AM(t){return t.__v_skip||!Object.isExtensible(t)?0:SM(QN(t))}function Dr(t){return oa(t)?t:kp(t,!1,mM,wM,mA)}function _A(t){return kp(t,!1,vM,TM,gA)}function e_(t){return kp(t,!0,gM,EM,vA)}function Ene(t){return kp(t,!0,yM,IM,yA)}function kp(t,e,n,r,i){if(!Ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=AM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Qi(t){return oa(t)?Qi(t.__v_raw):!!(t&&t.__v_isReactive)}function oa(t){return!!(t&&t.__v_isReadonly)}function ci(t){return!!(t&&t.__v_isShallow)}function t_(t){return t?!!t.__v_raw:!1}function mt(t){const e=t&&t.__v_raw;return e?mt(e):t}function n_(t){return!kt(t,"__v_skip")&&Object.isExtensible(t)&&JS(t,"__v_skip",!0),t}const dr=t=>Ht(t)?Dr(t):t,av=t=>Ht(t)?e_(t):t;function ln(t){return t?t.__v_isRef===!0:!1}function ce(t){return wA(t,!1)}function bA(t){return wA(t,!0)}function wA(t,e){return ln(t)?t:new CM(t,e)}class CM{constructor(e,n){this.dep=new Cp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:mt(e),this._value=n?e:dr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||ci(e)||oa(e);e=r?e:mt(e),Cr(e,n)&&(this._rawValue=e,this._value=r?e:dr(e),this.dep.trigger())}}function Ine(t){t.dep&&t.dep.trigger()}function Y(t){return ln(t)?t.value:t}function Sne(t){return et(t)?t():Y(t)}const OM={get:(t,e,n)=>e==="__v_raw"?t:Y(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ln(i)&&!ln(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function TA(t){return Qi(t)?t:new Proxy(t,OM)}class PM{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Cp,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function kM(t){return new PM(t)}function RM(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=EA(t,n);return e}class DM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return cM(mt(this._object),this._key)}}class xM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function kc(t,e,n){return ln(t)?t:et(t)?new xM(t):Ht(t)&&arguments.length>1?EA(t,e,n):ce(t)}function EA(t,e,n){const r=t[e];return ln(r)?r:new DM(t,e,n)}class NM{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Cp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Qt!==this)return sA(this,!0),!0}get value(){const e=this.dep.track();return lA(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function MM(t,e,n=!1){let r,i;return et(t)?r=t:(r=t.get,i=t.set),new NM(r,i,n)}const Ane={GET:"get",HAS:"has",ITERATE:"iterate"},Cne={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},mh={},yf=new WeakMap;let Ks;function One(){return Ks}function LM(t,e=!1,n=Ks){if(n){let r=yf.get(n);r||yf.set(n,r=[]),r.push(t)}}function VM(t,e,n=gt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=y=>i?y:ci(y)||i===!1||i===0?ps(y,1):ps(y);let c,h,f,p,g=!1,w=!1;if(ln(t)?(h=()=>t.value,g=ci(t)):Qi(t)?(h=()=>u(t),g=!0):$e(t)?(w=!0,g=t.some(y=>Qi(y)||ci(y)),h=()=>t.map(y=>{if(ln(y))return y.value;if(Qi(y))return u(y);if(et(y))return l?l(y,2):y()})):et(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Ao();try{f()}finally{Co()}}const y=Ks;Ks=c;try{return l?l(t,3,[p]):t(p)}finally{Ks=y}}:h=ui,e&&i){const y=h,M=i===!0?1/0:i;h=()=>ps(y(),M)}const E=Qy(),R=()=>{c.stop(),E&&E.active&&zy(E.effects,c)};if(s&&e){const y=e;e=(...M)=>{y(...M),R()}}let P=w?new Array(t.length).fill(mh):mh;const T=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(e){const M=c.run();if(i||g||(w?M.some((L,S)=>Cr(L,P[S])):Cr(M,P))){f&&f();const L=Ks;Ks=c;try{const S=[M,P===mh?void 0:w&&P[0]===mh?[]:P,p];l?l(e,3,S):e(...S),P=M}finally{Ks=L}}}else c.run()};return a&&a(T),c=new gf(h),c.scheduler=o?()=>o(T,!1):T,p=y=>LM(y,!1,c),f=c.onStop=()=>{const y=yf.get(c);if(y){if(l)l(y,4);else for(const M of y)M();yf.delete(c)}},e?r?T(!0):P=c.run():o?o(T.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function ps(t,e=1/0,n){if(e<=0||!Ht(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ln(t))ps(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)ps(t[r],e,n);else if(Sa(t)||gl(t))t.forEach(r=>{ps(r,e,n)});else if(Tp(t)){for(const r in t)ps(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ps(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const IA=[];function FM(t){IA.push(t)}function $M(){IA.pop()}function Pne(t,e){}const kne={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},UM={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ed(t,e,n,r){try{return r?t(...r):t()}catch(i){su(i,e,n)}}function xi(t,e,n,r){if(et(t)){const i=Ed(t,e,n,r);return i&&Ky(i)&&i.catch(s=>{su(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(xi(t[s],e,n,r));return i}}function su(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||gt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){Ao(),Ed(s,null,10,[t,l,u]),Co();return}}BM(t,n,i,r,o)}function BM(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Or=[];let Bi=-1;const _l=[];let Gs=null,Ja=0;const SA=Promise.resolve();let _f=null;function Wn(t){const e=_f||SA;return t?e.then(this?t.bind(this):t):e}function jM(t){let e=Bi+1,n=Or.length;for(;e<n;){const r=e+n>>>1,i=Or[r],s=Rc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function r_(t){if(!(t.flags&1)){const e=Rc(t),n=Or[Or.length-1];!n||!(t.flags&2)&&e>=Rc(n)?Or.push(t):Or.splice(jM(e),0,t),t.flags|=1,AA()}}function AA(){_f||(_f=SA.then(CA))}function bf(t){$e(t)?_l.push(...t):Gs&&t.id===-1?Gs.splice(Ja+1,0,t):t.flags&1||(_l.push(t),t.flags|=1),AA()}function Rw(t,e,n=Bi+1){for(;n<Or.length;n++){const r=Or[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Or.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function wf(t){if(_l.length){const e=[...new Set(_l)].sort((n,r)=>Rc(n)-Rc(r));if(_l.length=0,Gs){Gs.push(...e);return}for(Gs=e,Ja=0;Ja<Gs.length;Ja++){const n=Gs[Ja];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Gs=null,Ja=0}}const Rc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function CA(t){try{for(Bi=0;Bi<Or.length;Bi++){const e=Or[Bi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ed(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Bi<Or.length;Bi++){const e=Or[Bi];e&&(e.flags&=-2)}Bi=-1,Or.length=0,wf(),_f=null,(Or.length||_l.length)&&CA()}}let Za,gh=[];function OA(t,e){var n,r;Za=t,Za?(Za.enabled=!0,gh.forEach(({event:i,args:s})=>Za.emit(i,...s)),gh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{OA(s,e)}),setTimeout(()=>{Za||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,gh=[])},3e3)):gh=[]}let Ln=null,Rp=null;function Dc(t){const e=Ln;return Ln=t,Rp=t&&t.type.__scopeId||null,e}function Rne(t){Rp=t}function Dne(){Rp=null}const xne=t=>Qe;function Qe(t,e=Ln,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&qw(-1);const s=Dc(e);let o;try{o=t(...i)}finally{Dc(s),r._d&&qw(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Xo(t,e){if(Ln===null)return t;const n=Ad(Ln),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=gt]=e[i];s&&(et(s)&&(s={mounted:s,updated:s}),s.deep&&ps(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Hi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Ao(),xi(l,n,8,[t.el,a,t,e]),Co())}}const PA=Symbol("_vte"),kA=t=>t.__isTeleport,nc=t=>t&&(t.disabled||t.disabled===""),Dw=t=>t&&(t.defer||t.defer===""),xw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Nw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,lv=(t,e)=>{const n=t&&t.to;return Zt(n)?e?e(n):null:n},RA={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:w,createComment:E}}=u,R=nc(e.props);let{shapeFlag:P,children:T,dynamicChildren:y}=e;if(t==null){const M=e.el=w(""),L=e.anchor=w("");p(M,n,r),p(L,n,r);const S=(b,v)=>{P&16&&(i&&i.isCE&&(i.ce._teleportTarget=b),c(T,b,v,i,s,o,a,l))},I=()=>{const b=e.target=lv(e.props,g),v=xA(b,e,w,p);b&&(o!=="svg"&&xw(b)?o="svg":o!=="mathml"&&Nw(b)&&(o="mathml"),R||(S(b,v),Yh(e,!1)))};R&&(S(n,L),Yh(e,!0)),Dw(e.props)?Rn(()=>{I(),e.el.__isMounted=!0},s):I()}else{if(Dw(e.props)&&!t.el.__isMounted){Rn(()=>{RA.process(t,e,n,r,i,s,o,a,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,L=e.target=t.target,S=e.targetAnchor=t.targetAnchor,I=nc(t.props),b=I?n:L,v=I?M:S;if(o==="svg"||xw(L)?o="svg":(o==="mathml"||Nw(L))&&(o="mathml"),y?(f(t.dynamicChildren,y,b,i,s,o,a),p_(t,e,!0)):l||h(t,e,b,v,i,s,o,a,!1),R)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):vh(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=lv(e.props,g);C&&vh(e,C,null,u,0)}else I&&vh(e,L,S,u,1);Yh(e,R)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!nc(f);for(let g=0;g<a.length;g++){const w=a[g];r(w,e,n,p,!!w.dynamicChildren)}}},move:vh,hydrate:HM};function vh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||nc(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function HM(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=lv(e.props,l);if(f){const p=nc(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let w=g;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}w=o(w)}e.targetAnchor||xA(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}Yh(e,p)}return e.anchor&&o(e.anchor)}const DA=RA;function Yh(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function xA(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[PA]=s,t&&(r(i,t),r(s,t)),s}const Ys=Symbol("_leaveCb"),yh=Symbol("_enterCb");function NA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _n(()=>{t.isMounted=!0}),l_(()=>{t.isUnmounting=!0}),t}const ri=[Function,Array],MA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ri,onEnter:ri,onAfterEnter:ri,onEnterCancelled:ri,onBeforeLeave:ri,onLeave:ri,onAfterLeave:ri,onLeaveCancelled:ri,onBeforeAppear:ri,onAppear:ri,onAfterAppear:ri,onAppearCancelled:ri},LA=t=>{const e=t.subTree;return e.component?LA(e.component):e},WM={name:"BaseTransition",props:MA,setup(t,{slots:e}){const n=ti(),r=NA();return()=>{const i=e.default&&i_(e.default(),!0);if(!i||!i.length)return;const s=VA(i),o=mt(t),{mode:a}=o;if(r.isLeaving)return Qm(s);const l=Mw(s);if(!l)return Qm(s);let u=xc(l,o,r,n,h=>u=h);l.type!==Dn&&vo(l,u);let c=n.subTree&&Mw(n.subTree);if(c&&c.type!==Dn&&!bi(l,c)&&LA(n).type!==Dn){let h=xc(c,o,r,n);if(vo(c,h),a==="out-in"&&l.type!==Dn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},Qm(s);a==="in-out"&&l.type!==Dn?h.delayLeave=(f,p,g)=>{const w=FA(r,c);w[String(c.key)]=c,f[Ys]=()=>{p(),f[Ys]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function VA(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Dn){e=n;break}}return e}const qM=WM;function FA(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function xc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:w,onBeforeAppear:E,onAppear:R,onAfterAppear:P,onAppearCancelled:T}=e,y=String(t.key),M=FA(n,t),L=(b,v)=>{b&&xi(b,r,9,v)},S=(b,v)=>{const C=v[1];L(b,v),$e(b)?b.every(O=>O.length<=1)&&C():b.length<=1&&C()},I={mode:o,persisted:a,beforeEnter(b){let v=l;if(!n.isMounted)if(s)v=E||l;else return;b[Ys]&&b[Ys](!0);const C=M[y];C&&bi(t,C)&&C.el[Ys]&&C.el[Ys](),L(v,[b])},enter(b){let v=u,C=c,O=h;if(!n.isMounted)if(s)v=R||u,C=P||c,O=T||h;else return;let k=!1;const G=b[yh]=$=>{k||(k=!0,$?L(O,[b]):L(C,[b]),I.delayedLeave&&I.delayedLeave(),b[yh]=void 0)};v?S(v,[b,G]):G()},leave(b,v){const C=String(t.key);if(b[yh]&&b[yh](!0),n.isUnmounting)return v();L(f,[b]);let O=!1;const k=b[Ys]=G=>{O||(O=!0,v(),G?L(w,[b]):L(g,[b]),b[Ys]=void 0,M[C]===t&&delete M[C])};M[C]=t,p?S(p,[b,k]):k()},clone(b){const v=xc(b,e,n,r,i);return i&&i(v),v}};return I}function Qm(t){if(Id(t))return t=Ss(t),t.children=null,t}function Mw(t){if(!Id(t))return kA(t.type)&&t.children?VA(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&et(n.default))return n.default()}}function vo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,vo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function i_(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Me?(o.patchFlag&128&&i++,r=r.concat(i_(o.children,e,a))):(e||o.type!==Dn)&&r.push(a!=null?Ss(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Yt(t,e){return et(t)?Gt({name:t.name},e,{setup:t}):t}function Nne(){const t=ti();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function s_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Mne(t){const e=ti(),n=bA(null);if(e){const i=e.refs===gt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Nc(t,e,n,r,i=!1){if($e(t)){t.forEach((g,w)=>Nc(g,e&&($e(e)?e[w]:e),n,r,i));return}if(so(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Nc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Ad(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===gt?a.refs={}:a.refs,h=a.setupState,f=mt(h),p=h===gt?()=>!1:g=>kt(f,g);if(u!=null&&u!==l&&(Zt(u)?(c[u]=null,p(u)&&(h[u]=null)):ln(u)&&(u.value=null)),et(l))Ed(l,a,12,[o,c]);else{const g=Zt(l),w=ln(l);if(g||w){const E=()=>{if(t.f){const R=g?p(l)?h[l]:c[l]:l.value;i?$e(R)&&zy(R,s):$e(R)?R.includes(s)||R.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):w&&(l.value=o,t.k&&(c[t.k]=o))};o?(E.id=-1,Rn(E,n)):E()}}}let Lw=!1;const qa=()=>{Lw||(console.error("Hydration completed but contains mismatches."),Lw=!0)},zM=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",KM=t=>t.namespaceURI.includes("MathML"),_h=t=>{if(t.nodeType===1){if(zM(t))return"svg";if(KM(t))return"mathml"}},ol=t=>t.nodeType===8;function GM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(T,y)=>{if(!y.hasChildNodes()){n(null,T,y),wf(),y._vnode=T;return}h(y.firstChild,T,null,null,null),wf(),y._vnode=T},h=(T,y,M,L,S,I=!1)=>{I=I||!!y.dynamicChildren;const b=ol(T)&&T.data==="[",v=()=>w(T,y,M,L,S,b),{type:C,ref:O,shapeFlag:k,patchFlag:G}=y;let $=T.nodeType;y.el=T,G===-2&&(I=!1,y.dynamicChildren=null);let B=null;switch(C){case Zo:$!==3?y.children===""?(l(y.el=i(""),o(T),T),B=T):B=v():(T.data!==y.children&&(qa(),T.data=y.children),B=s(T));break;case Dn:P(T)?(B=s(T),R(y.el=T.content.firstChild,T,M)):$!==8||b?B=v():B=s(T);break;case wl:if(b&&(T=s(T),$=T.nodeType),$===1||$===3){B=T;const U=!y.children.length;for(let V=0;V<y.staticCount;V++)U&&(y.children+=B.nodeType===1?B.outerHTML:B.data),V===y.staticCount-1&&(y.anchor=B),B=s(B);return b?s(B):B}else v();break;case Me:b?B=g(T,y,M,L,S,I):B=v();break;default:if(k&1)($!==1||y.type.toLowerCase()!==T.tagName.toLowerCase())&&!P(T)?B=v():B=f(T,y,M,L,S,I);else if(k&6){y.slotScopeIds=S;const U=o(T);if(b?B=E(T):ol(T)&&T.data==="teleport start"?B=E(T,T.data,"teleport end"):B=s(T),e(y,U,null,M,L,_h(U),I),so(y)&&!y.type.__asyncResolved){let V;b?(V=Je(Me),V.anchor=B?B.previousSibling:U.lastChild):V=T.nodeType===3?xn(""):Je("div"),V.el=T,y.component.subTree=V}}else k&64?$!==8?B=v():B=y.type.hydrate(T,y,M,L,S,I,t,p):k&128&&(B=y.type.hydrate(T,y,M,L,_h(o(T)),S,I,t,h))}return O!=null&&Nc(O,null,L,y),B},f=(T,y,M,L,S,I)=>{I=I||!!y.dynamicChildren;const{type:b,props:v,patchFlag:C,shapeFlag:O,dirs:k,transition:G}=y,$=b==="input"||b==="option";if($||C!==-1){k&&Hi(y,null,M,"created");let B=!1;if(P(T)){B=tC(null,G)&&M&&M.vnode.props&&M.vnode.props.appear;const V=T.content.firstChild;B&&G.beforeEnter(V),R(V,T,M),y.el=T=V}if(O&16&&!(v&&(v.innerHTML||v.textContent))){let V=p(T.firstChild,y,T,M,L,S,I);for(;V;){bh(T,1)||qa();const D=V;V=V.nextSibling,a(D)}}else if(O&8){let V=y.children;V[0]===`
`&&(T.tagName==="PRE"||T.tagName==="TEXTAREA")&&(V=V.slice(1)),T.textContent!==V&&(bh(T,0)||qa(),T.textContent=y.children)}if(v){if($||!I||C&48){const V=T.tagName.includes("-");for(const D in v)($&&(D.endsWith("value")||D==="indeterminate")||Td(D)&&!vl(D)||D[0]==="."||V)&&r(T,D,null,v[D],void 0,M)}else if(v.onClick)r(T,"onClick",null,v.onClick,void 0,M);else if(C&4&&Qi(v.style))for(const V in v.style)v.style[V]}let U;(U=v&&v.onVnodeBeforeMount)&&Nr(U,M,y),k&&Hi(y,null,M,"beforeMount"),((U=v&&v.onVnodeMounted)||k||B)&&aC(()=>{U&&Nr(U,M,y),B&&G.enter(T),k&&Hi(y,null,M,"mounted")},L)}return T.nextSibling},p=(T,y,M,L,S,I,b)=>{b=b||!!y.dynamicChildren;const v=y.children,C=v.length;for(let O=0;O<C;O++){const k=b?v[O]:v[O]=Lr(v[O]),G=k.type===Zo;T?(G&&!b&&O+1<C&&Lr(v[O+1]).type===Zo&&(l(i(T.data.slice(k.children.length)),M,s(T)),T.data=k.children),T=h(T,k,L,S,I,b)):G&&!k.children?l(k.el=i(""),M):(bh(M,1)||qa(),n(null,k,M,null,L,S,_h(M),I))}return T},g=(T,y,M,L,S,I)=>{const{slotScopeIds:b}=y;b&&(S=S?S.concat(b):b);const v=o(T),C=p(s(T),y,v,M,L,S,I);return C&&ol(C)&&C.data==="]"?s(y.anchor=C):(qa(),l(y.anchor=u("]"),v,C),C)},w=(T,y,M,L,S,I)=>{if(bh(T.parentElement,1)||qa(),y.el=null,I){const C=E(T);for(;;){const O=s(T);if(O&&O!==C)a(O);else break}}const b=s(T),v=o(T);return a(T),n(null,y,v,b,M,L,_h(v),S),M&&(M.vnode.el=y.el,Np(M,y.el)),b},E=(T,y="[",M="]")=>{let L=0;for(;T;)if(T=s(T),T&&ol(T)&&(T.data===y&&L++,T.data===M)){if(L===0)return s(T);L--}return T},R=(T,y,M)=>{const L=y.parentNode;L&&L.replaceChild(T,y);let S=M;for(;S;)S.vnode.el===y&&(S.vnode.el=S.subTree.el=T),S=S.parent},P=T=>T.nodeType===1&&T.tagName==="TEMPLATE";return[c,h]}const Vw="data-allow-mismatch",YM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function bh(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Vw);)t=t.parentElement;const n=t&&t.getAttribute(Vw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(YM[e])}}const QM=Sp().requestIdleCallback||(t=>setTimeout(t,1)),XM=Sp().cancelIdleCallback||(t=>clearTimeout(t)),Lne=(t=1e4)=>e=>{const n=QM(e,{timeout:t});return()=>XM(n)};function JM(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const Vne=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(JM(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},Fne=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},$ne=(t=[])=>(e,n)=>{Zt(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function ZM(t,e){if(ol(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(ol(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const so=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Une(t){et(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),l)return new Promise((E,R)=>{l(w,()=>E(f()),()=>R(w),h+1)});throw w}).then(w=>g!==u&&u?u:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),c=w,w)))};return Yt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,w,E){const R=s?()=>{const P=s(E,T=>ZM(g,T));P&&(w.bum||(w.bum=[])).push(P)}:E;c?R():p().then(()=>!w.isUnmounted&&R())},get __asyncResolved(){return c},setup(){const g=Nn;if(s_(g),c)return()=>Xm(c,g);const w=T=>{u=null,su(T,g,13,!r)};if(a&&g.suspense||Dl)return p().then(T=>()=>Xm(T,g)).catch(T=>(w(T),()=>r?Je(r,{error:T}):null));const E=ce(!1),R=ce(),P=ce(!!i);return i&&setTimeout(()=>{P.value=!1},i),o!=null&&setTimeout(()=>{if(!E.value&&!R.value){const T=new Error(`Async component timed out after ${o}ms.`);w(T),R.value=T}},o),p().then(()=>{E.value=!0,g.parent&&Id(g.parent.vnode)&&g.parent.update()}).catch(T=>{w(T),R.value=T}),()=>{if(E.value&&c)return Xm(c,g);if(R.value&&r)return Je(r,{error:R.value});if(n&&!P.value)return Je(n)}}})}function Xm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=Je(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Id=t=>t.type.__isKeepAlive,eL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ti(),r=n.ctx;if(!r.renderer)return()=>{const P=e.default&&e.default();return P&&P.length===1?P[0]:P};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(P,T,y,M,L)=>{const S=P.component;u(P,T,y,0,a),l(S.vnode,P,T,y,S,a,M,P.slotScopeIds,L),Rn(()=>{S.isDeactivated=!1,S.a&&yl(S.a);const I=P.props&&P.props.onVnodeMounted;I&&Nr(I,S.parent,P)},a)},r.deactivate=P=>{const T=P.component;Ef(T.m),Ef(T.a),u(P,f,null,1,a),Rn(()=>{T.da&&yl(T.da);const y=P.props&&P.props.onVnodeUnmounted;y&&Nr(y,T.parent,P),T.isDeactivated=!0},a)};function p(P){Jm(P),c(P,n,a,!0)}function g(P){i.forEach((T,y)=>{const M=_v(T.type);M&&!P(M)&&w(y)})}function w(P){const T=i.get(P);T&&(!o||!bi(T,o))?p(T):o&&Jm(o),i.delete(P),s.delete(P)}Sn(()=>[t.include,t.exclude],([P,T])=>{P&&g(y=>qu(P,y)),T&&g(y=>!qu(T,y))},{flush:"post",deep:!0});let E=null;const R=()=>{E!=null&&(If(n.subTree.type)?Rn(()=>{i.set(E,wh(n.subTree))},n.subTree.suspense):i.set(E,wh(n.subTree)))};return _n(R),a_(R),l_(()=>{i.forEach(P=>{const{subTree:T,suspense:y}=n,M=wh(T);if(P.type===M.type&&P.key===M.key){Jm(M);const L=M.component.da;L&&Rn(L,y);return}p(P)})}),()=>{if(E=null,!e.default)return o=null;const P=e.default(),T=P[0];if(P.length>1)return o=null,P;if(!yo(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let y=wh(T);if(y.type===Dn)return o=null,y;const M=y.type,L=_v(so(y)?y.type.__asyncResolved||{}:M),{include:S,exclude:I,max:b}=t;if(S&&(!L||!qu(S,L))||I&&L&&qu(I,L))return y.shapeFlag&=-257,o=y,T;const v=y.key==null?M:y.key,C=i.get(v);return y.el&&(y=Ss(y),T.shapeFlag&128&&(T.ssContent=y)),E=v,C?(y.el=C.el,y.component=C.component,y.transition&&vo(y,y.transition),y.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),b&&s.size>parseInt(b,10)&&w(s.values().next().value)),y.shapeFlag|=256,o=y,If(T.type)?T:y}}},Bne=eL;function qu(t,e){return $e(t)?t.some(n=>qu(n,e)):Zt(t)?t.split(",").includes(e):YN(t)?(t.lastIndex=0,t.test(e)):!1}function tL(t,e){$A(t,"a",e)}function nL(t,e){$A(t,"da",e)}function $A(t,e,n=Nn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Dp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Id(i.parent.vnode)&&rL(r,e,n,i),i=i.parent}}function rL(t,e,n,r){const i=Dp(e,t,r,!0);Aa(()=>{zy(r[e],i)},n)}function Jm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function wh(t){return t.shapeFlag&128?t.ssContent:t}function Dp(t,e,n=Nn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ao();const a=la(n),l=xi(e,n,t,o);return a(),Co(),l});return r?i.unshift(s):i.push(s),s}}const Ds=t=>(e,n=Nn)=>{(!Dl||t==="sp")&&Dp(t,(...r)=>e(...r),n)},iL=Ds("bm"),_n=Ds("m"),o_=Ds("bu"),a_=Ds("u"),l_=Ds("bum"),Aa=Ds("um"),sL=Ds("sp"),oL=Ds("rtg"),aL=Ds("rtc");function lL(t,e=Nn){Dp("ec",t,e)}const u_="components",uL="directives";function Gr(t,e){return c_(u_,t,!0,e)||t}const UA=Symbol.for("v-ndc");function zr(t){return Zt(t)?c_(u_,t,!1)||t:t||UA}function BA(t){return c_(uL,t)}function c_(t,e,n=!0,r=!1){const i=Ln||Nn;if(i){const s=i.type;if(t===u_){const a=_v(s,!1);if(a&&(a===e||a===yr(e)||a===Ip(yr(e))))return s}const o=Fw(i[t]||s[t],e)||Fw(i.appContext[t],e);return!o&&r?s:o}}function Fw(t,e){return t&&(t[e]||t[yr(e)]||t[Ip(yr(e))])}function Ft(t,e,n,r){let i;const s=n&&n[r],o=$e(t);if(o||Zt(t)){const a=o&&Qi(t);let l=!1;a&&(l=!ci(t),t=Op(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?dr(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Ht(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function tr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if($e(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function _e(t,e,n={},r,i){if(Ln.ce||Ln.parent&&so(Ln.parent)&&Ln.parent.ce)return e!=="default"&&(n.name=e),q(),qe(Me,null,[Je("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),q();const o=s&&d_(s(n)),a=n.key||o&&o.key,l=qe(Me,{key:(a&&!Di(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function d_(t){return t.some(e=>yo(e)?!(e.type===Dn||e.type===Me&&!d_(e.children)):!0)?t:null}function jne(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Gh(r)]=t[r];return n}const uv=t=>t?hC(t)?Ad(t):uv(t.parent):null,rc=Gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>uv(t.parent),$root:t=>uv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>h_(t),$forceUpdate:t=>t.f||(t.f=()=>{r_(t.update)}),$nextTick:t=>t.n||(t.n=Wn.bind(t.proxy)),$watch:t=>RL.bind(t)}),Zm=(t,e)=>t!==gt&&!t.__isScriptSetup&&kt(t,e),cv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Zm(r,e))return o[e]=1,r[e];if(i!==gt&&kt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&kt(u,e))return o[e]=3,s[e];if(n!==gt&&kt(n,e))return o[e]=4,n[e];dv&&(o[e]=0)}}const c=rc[e];let h,f;if(c)return e==="$attrs"&&cr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==gt&&kt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,kt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Zm(i,e)?(i[e]=n,!0):r!==gt&&kt(r,e)?(r[e]=n,!0):kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==gt&&kt(t,o)||Zm(e,o)||(a=s[0])&&kt(a,o)||kt(r,o)||kt(rc,o)||kt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},cL=Gt({},cv,{get(t,e){if(e!==Symbol.unscopables)return cv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!eM(e)}});function Hne(){return null}function Wne(){return null}function qne(t){}function zne(t){}function Kne(){return null}function Gne(){}function Yne(t,e){return null}function Ca(){return jA().slots}function Qne(){return jA().attrs}function jA(){const t=ti();return t.setupContext||(t.setupContext=mC(t))}function Mc(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Xne(t,e){const n=Mc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?$e(i)||et(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Jne(t,e){return!t||!e?t||e:$e(t)&&$e(e)?t.concat(e):Gt({},Mc(t),Mc(e))}function Zne(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function ere(t){const e=ti();let n=t();return gv(),Ky(n)&&(n=n.catch(r=>{throw la(e),r})),[n,()=>la(e)]}let dv=!0;function dL(t){const e=h_(t),n=t.proxy,r=t.ctx;dv=!1,e.beforeCreate&&$w(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:w,deactivated:E,beforeDestroy:R,beforeUnmount:P,destroyed:T,unmounted:y,render:M,renderTracked:L,renderTriggered:S,errorCaptured:I,serverPrefetch:b,expose:v,inheritAttrs:C,components:O,directives:k,filters:G}=e;if(u&&hL(u,r,null),o)for(const U in o){const V=o[U];et(V)&&(r[U]=V.bind(n))}if(i){const U=i.call(n,n);Ht(U)&&(t.data=Dr(U))}if(dv=!0,s)for(const U in s){const V=s[U],D=et(V)?V.bind(n,n):et(V.get)?V.get.bind(n,n):ui,A=!et(V)&&et(V.set)?V.set.bind(n):ui,H=le({get:D,set:A});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>H.value,set:z=>H.value=z})}if(a)for(const U in a)HA(a[U],r,n,U);if(l){const U=et(l)?l.call(n):l;Reflect.ownKeys(U).forEach(V=>{ic(V,U[V])})}c&&$w(c,t,"c");function B(U,V){$e(V)?V.forEach(D=>U(D.bind(n))):V&&U(V.bind(n))}if(B(iL,h),B(_n,f),B(o_,p),B(a_,g),B(tL,w),B(nL,E),B(lL,I),B(aL,L),B(oL,S),B(l_,P),B(Aa,y),B(sL,b),$e(v))if(v.length){const U=t.exposed||(t.exposed={});v.forEach(V=>{Object.defineProperty(U,V,{get:()=>n[V],set:D=>n[V]=D})})}else t.exposed||(t.exposed={});M&&t.render===ui&&(t.render=M),C!=null&&(t.inheritAttrs=C),O&&(t.components=O),k&&(t.directives=k),b&&s_(t)}function hL(t,e,n=ui){$e(t)&&(t=hv(t));for(const r in t){const i=t[r];let s;Ht(i)?"default"in i?s=Rr(i.from||r,i.default,!0):s=Rr(i.from||r):s=Rr(i),ln(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function $w(t,e,n){xi($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function HA(t,e,n,r){let i=r.includes(".")?rC(n,r):()=>n[r];if(Zt(t)){const s=e[t];et(s)&&Sn(i,s)}else if(et(t))Sn(i,t.bind(n));else if(Ht(t))if($e(t))t.forEach(s=>HA(s,e,n,r));else{const s=et(t.handler)?t.handler.bind(n):e[t.handler];et(s)&&Sn(i,s,t)}}function h_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Tf(l,u,o,!0)),Tf(l,e,o)),Ht(e)&&s.set(e,l),l}function Tf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Tf(t,s,n,!0),i&&i.forEach(o=>Tf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=fL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const fL={data:Uw,props:Bw,emits:Bw,methods:zu,computed:zu,beforeCreate:Sr,created:Sr,beforeMount:Sr,mounted:Sr,beforeUpdate:Sr,updated:Sr,beforeDestroy:Sr,beforeUnmount:Sr,destroyed:Sr,unmounted:Sr,activated:Sr,deactivated:Sr,errorCaptured:Sr,serverPrefetch:Sr,components:zu,directives:zu,watch:mL,provide:Uw,inject:pL};function Uw(t,e){return e?t?function(){return Gt(et(t)?t.call(this,this):t,et(e)?e.call(this,this):e)}:e:t}function pL(t,e){return zu(hv(t),hv(e))}function hv(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Sr(t,e){return t?[...new Set([].concat(t,e))]:e}function zu(t,e){return t?Gt(Object.create(null),t,e):e}function Bw(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:Gt(Object.create(null),Mc(t),Mc(e??{})):e}function mL(t,e){if(!t)return e;if(!e)return t;const n=Gt(Object.create(null),t);for(const r in e)n[r]=Sr(t[r],e[r]);return n}function WA(){return{app:null,config:{isNativeTag:KN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gL=0;function vL(t,e){return function(r,i=null){et(r)||(r=Gt({},r)),i!=null&&!Ht(i)&&(i=null);const s=WA(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:gL++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:QL,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&et(c.install)?(o.add(c),c.install(u,...h)):et(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||Je(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Ad(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(xi(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Jo;Jo=u;try{return c()}finally{Jo=h}}};return u}}let Jo=null;function ic(t,e){if(Nn){let n=Nn.provides;const r=Nn.parent&&Nn.parent.provides;r===n&&(n=Nn.provides=Object.create(r)),n[t]=e}}function Rr(t,e,n=!1){const r=Nn||Ln;if(r||Jo){const i=Jo?Jo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&et(e)?e.call(r&&r.proxy):e}}function yL(){return!!(Nn||Ln||Jo)}const qA={},zA=()=>Object.create(qA),KA=t=>Object.getPrototypeOf(t)===qA;function _L(t,e,n,r=!1){const i={},s=zA();t.propsDefaults=Object.create(null),GA(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:_A(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function bL(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=mt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(xp(t.emitsOptions,f))continue;const p=e[f];if(l)if(kt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=yr(f);i[g]=fv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{GA(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!kt(e,h)&&((c=Vr(h))===h||!kt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=fv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!kt(e,h))&&(delete s[h],u=!0)}u&&fs(t.attrs,"set","")}function GA(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(vl(l))continue;const u=e[l];let c;i&&kt(i,c=yr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:xp(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=mt(n),u=a||gt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=fv(i,l,h,u[h],t,!kt(u,h))}}return o}function fv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&et(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=la(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Vr(n))&&(r=!0))}return r}const wL=new WeakMap;function YA(t,e,n=!1){const r=n?wL:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!et(t)){const c=h=>{l=!0;const[f,p]=YA(h,e,!0);Gt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Ht(t)&&r.set(t,ml),ml;if($e(s))for(let c=0;c<s.length;c++){const h=yr(s[c]);jw(h)&&(o[h]=gt)}else if(s)for(const c in s){const h=yr(c);if(jw(h)){const f=s[c],p=o[h]=$e(f)||et(f)?{type:f}:Gt({},f),g=p.type;let w=!1,E=!0;if($e(g))for(let R=0;R<g.length;++R){const P=g[R],T=et(P)&&P.name;if(T==="Boolean"){w=!0;break}else T==="String"&&(E=!1)}else w=et(g)&&g.name==="Boolean";p[0]=w,p[1]=E,(w||kt(p,"default"))&&a.push(h)}}const u=[o,a];return Ht(t)&&r.set(t,u),u}function jw(t){return t[0]!=="$"&&!vl(t)}const QA=t=>t[0]==="_"||t==="$stable",f_=t=>$e(t)?t.map(Lr):[Lr(t)],TL=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>f_(e(...i)),n);return r._c=!1,r},XA=(t,e,n)=>{const r=t._ctx;for(const i in t){if(QA(i))continue;const s=t[i];if(et(s))e[i]=TL(i,s,r);else if(s!=null){const o=f_(s);e[i]=()=>o}}},JA=(t,e)=>{const n=f_(e);t.slots.default=()=>n},ZA=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},EL=(t,e,n)=>{const r=t.slots=zA();if(t.vnode.shapeFlag&32){const i=e._;i?(ZA(r,e,n),n&&JS(r,"_",i,!0)):XA(e,r)}else e&&JA(t,e)},IL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=gt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:ZA(i,e,n):(s=!e.$stable,XA(e,i)),o=e}else e&&(JA(t,e),o={default:1});if(s)for(const a in i)!QA(a)&&o[a]==null&&delete i[a]},Rn=aC;function SL(t){return eC(t)}function AL(t){return eC(t,GM)}function eC(t,e){const n=Sp();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=ui,insertStaticContent:g}=t,w=(x,F,j,oe=null,se=null,me=null,Se=void 0,Ee=null,Te=!!F.dynamicChildren)=>{if(x===F)return;x&&!bi(x,F)&&(oe=Q(x),z(x,se,me,!0),x=null),F.patchFlag===-2&&(Te=!1,F.dynamicChildren=null);const{type:ge,ref:He,shapeFlag:Ie}=F;switch(ge){case Zo:E(x,F,j,oe);break;case Dn:R(x,F,j,oe);break;case wl:x==null&&P(F,j,oe,Se);break;case Me:O(x,F,j,oe,se,me,Se,Ee,Te);break;default:Ie&1?M(x,F,j,oe,se,me,Se,Ee,Te):Ie&6?k(x,F,j,oe,se,me,Se,Ee,Te):(Ie&64||Ie&128)&&ge.process(x,F,j,oe,se,me,Se,Ee,Te,de)}He!=null&&se&&Nc(He,x&&x.ref,me,F||x,!F)},E=(x,F,j,oe)=>{if(x==null)r(F.el=a(F.children),j,oe);else{const se=F.el=x.el;F.children!==x.children&&u(se,F.children)}},R=(x,F,j,oe)=>{x==null?r(F.el=l(F.children||""),j,oe):F.el=x.el},P=(x,F,j,oe)=>{[x.el,x.anchor]=g(x.children,F,j,oe,x.el,x.anchor)},T=({el:x,anchor:F},j,oe)=>{let se;for(;x&&x!==F;)se=f(x),r(x,j,oe),x=se;r(F,j,oe)},y=({el:x,anchor:F})=>{let j;for(;x&&x!==F;)j=f(x),i(x),x=j;i(F)},M=(x,F,j,oe,se,me,Se,Ee,Te)=>{F.type==="svg"?Se="svg":F.type==="math"&&(Se="mathml"),x==null?L(F,j,oe,se,me,Se,Ee,Te):b(x,F,se,me,Se,Ee,Te)},L=(x,F,j,oe,se,me,Se,Ee)=>{let Te,ge;const{props:He,shapeFlag:Ie,transition:Fe,dirs:Ye}=x;if(Te=x.el=o(x.type,me,He&&He.is,He),Ie&8?c(Te,x.children):Ie&16&&I(x.children,Te,null,oe,se,eg(x,me),Se,Ee),Ye&&Hi(x,null,oe,"created"),S(Te,x,x.scopeId,Se,oe),He){for(const K in He)K!=="value"&&!vl(K)&&s(Te,K,null,He[K],me,oe);"value"in He&&s(Te,"value",null,He.value,me),(ge=He.onVnodeBeforeMount)&&Nr(ge,oe,x)}Ye&&Hi(x,null,oe,"beforeMount");const Ke=tC(se,Fe);Ke&&Fe.beforeEnter(Te),r(Te,F,j),((ge=He&&He.onVnodeMounted)||Ke||Ye)&&Rn(()=>{ge&&Nr(ge,oe,x),Ke&&Fe.enter(Te),Ye&&Hi(x,null,oe,"mounted")},se)},S=(x,F,j,oe,se)=>{if(j&&p(x,j),oe)for(let me=0;me<oe.length;me++)p(x,oe[me]);if(se){let me=se.subTree;if(F===me||If(me.type)&&(me.ssContent===F||me.ssFallback===F)){const Se=se.vnode;S(x,Se,Se.scopeId,Se.slotScopeIds,se.parent)}}},I=(x,F,j,oe,se,me,Se,Ee,Te=0)=>{for(let ge=Te;ge<x.length;ge++){const He=x[ge]=Ee?Qs(x[ge]):Lr(x[ge]);w(null,He,F,j,oe,se,me,Se,Ee)}},b=(x,F,j,oe,se,me,Se)=>{const Ee=F.el=x.el;let{patchFlag:Te,dynamicChildren:ge,dirs:He}=F;Te|=x.patchFlag&16;const Ie=x.props||gt,Fe=F.props||gt;let Ye;if(j&&Vo(j,!1),(Ye=Fe.onVnodeBeforeUpdate)&&Nr(Ye,j,F,x),He&&Hi(F,x,j,"beforeUpdate"),j&&Vo(j,!0),(Ie.innerHTML&&Fe.innerHTML==null||Ie.textContent&&Fe.textContent==null)&&c(Ee,""),ge?v(x.dynamicChildren,ge,Ee,j,oe,eg(F,se),me):Se||V(x,F,Ee,null,j,oe,eg(F,se),me,!1),Te>0){if(Te&16)C(Ee,Ie,Fe,j,se);else if(Te&2&&Ie.class!==Fe.class&&s(Ee,"class",null,Fe.class,se),Te&4&&s(Ee,"style",Ie.style,Fe.style,se),Te&8){const Ke=F.dynamicProps;for(let K=0;K<Ke.length;K++){const ae=Ke[K],Ne=Ie[ae],We=Fe[ae];(We!==Ne||ae==="value")&&s(Ee,ae,Ne,We,se,j)}}Te&1&&x.children!==F.children&&c(Ee,F.children)}else!Se&&ge==null&&C(Ee,Ie,Fe,j,se);((Ye=Fe.onVnodeUpdated)||He)&&Rn(()=>{Ye&&Nr(Ye,j,F,x),He&&Hi(F,x,j,"updated")},oe)},v=(x,F,j,oe,se,me,Se)=>{for(let Ee=0;Ee<F.length;Ee++){const Te=x[Ee],ge=F[Ee],He=Te.el&&(Te.type===Me||!bi(Te,ge)||Te.shapeFlag&70)?h(Te.el):j;w(Te,ge,He,null,oe,se,me,Se,!0)}},C=(x,F,j,oe,se)=>{if(F!==j){if(F!==gt)for(const me in F)!vl(me)&&!(me in j)&&s(x,me,F[me],null,se,oe);for(const me in j){if(vl(me))continue;const Se=j[me],Ee=F[me];Se!==Ee&&me!=="value"&&s(x,me,Ee,Se,se,oe)}"value"in j&&s(x,"value",F.value,j.value,se)}},O=(x,F,j,oe,se,me,Se,Ee,Te)=>{const ge=F.el=x?x.el:a(""),He=F.anchor=x?x.anchor:a("");let{patchFlag:Ie,dynamicChildren:Fe,slotScopeIds:Ye}=F;Ye&&(Ee=Ee?Ee.concat(Ye):Ye),x==null?(r(ge,j,oe),r(He,j,oe),I(F.children||[],j,He,se,me,Se,Ee,Te)):Ie>0&&Ie&64&&Fe&&x.dynamicChildren?(v(x.dynamicChildren,Fe,j,se,me,Se,Ee),(F.key!=null||se&&F===se.subTree)&&p_(x,F,!0)):V(x,F,j,He,se,me,Se,Ee,Te)},k=(x,F,j,oe,se,me,Se,Ee,Te)=>{F.slotScopeIds=Ee,x==null?F.shapeFlag&512?se.ctx.activate(F,j,oe,Se,Te):G(F,j,oe,se,me,Se,Te):$(x,F,Te)},G=(x,F,j,oe,se,me,Se)=>{const Ee=x.component=dC(x,oe,se);if(Id(x)&&(Ee.ctx.renderer=de),fC(Ee,!1,Se),Ee.asyncDep){if(se&&se.registerDep(Ee,B,Se),!x.el){const Te=Ee.subTree=Je(Dn);R(null,Te,F,j)}}else B(Ee,x,F,j,se,me,Se)},$=(x,F,j)=>{const oe=F.component=x.component;if(LL(x,F,j))if(oe.asyncDep&&!oe.asyncResolved){U(oe,F,j);return}else oe.next=F,oe.update();else F.el=x.el,oe.vnode=F},B=(x,F,j,oe,se,me,Se)=>{const Ee=()=>{if(x.isMounted){let{next:Ie,bu:Fe,u:Ye,parent:Ke,vnode:K}=x;{const Nt=nC(x);if(Nt){Ie&&(Ie.el=K.el,U(x,Ie,Se)),Nt.asyncDep.then(()=>{x.isUnmounted||Ee()});return}}let ae=Ie,Ne;Vo(x,!1),Ie?(Ie.el=K.el,U(x,Ie,Se)):Ie=K,Fe&&yl(Fe),(Ne=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Nr(Ne,Ke,Ie,K),Vo(x,!0);const We=Qh(x),dt=x.subTree;x.subTree=We,w(dt,We,h(dt.el),Q(dt),x,se,me),Ie.el=We.el,ae===null&&Np(x,We.el),Ye&&Rn(Ye,se),(Ne=Ie.props&&Ie.props.onVnodeUpdated)&&Rn(()=>Nr(Ne,Ke,Ie,K),se)}else{let Ie;const{el:Fe,props:Ye}=F,{bm:Ke,m:K,parent:ae,root:Ne,type:We}=x,dt=so(F);if(Vo(x,!1),Ke&&yl(Ke),!dt&&(Ie=Ye&&Ye.onVnodeBeforeMount)&&Nr(Ie,ae,F),Vo(x,!0),Fe&&te){const Nt=()=>{x.subTree=Qh(x),te(Fe,x.subTree,x,se,null)};dt&&We.__asyncHydrate?We.__asyncHydrate(Fe,x,Nt):Nt()}else{Ne.ce&&Ne.ce._injectChildStyle(We);const Nt=x.subTree=Qh(x);w(null,Nt,j,oe,x,se,me),F.el=Nt.el}if(K&&Rn(K,se),!dt&&(Ie=Ye&&Ye.onVnodeMounted)){const Nt=F;Rn(()=>Nr(Ie,ae,Nt),se)}(F.shapeFlag&256||ae&&so(ae.vnode)&&ae.vnode.shapeFlag&256)&&x.a&&Rn(x.a,se),x.isMounted=!0,F=j=oe=null}};x.scope.on();const Te=x.effect=new gf(Ee);x.scope.off();const ge=x.update=Te.run.bind(Te),He=x.job=Te.runIfDirty.bind(Te);He.i=x,He.id=x.uid,Te.scheduler=()=>r_(He),Vo(x,!0),ge()},U=(x,F,j)=>{F.component=x;const oe=x.vnode.props;x.vnode=F,x.next=null,bL(x,F.props,oe,j),IL(x,F.children,j),Ao(),Rw(x),Co()},V=(x,F,j,oe,se,me,Se,Ee,Te=!1)=>{const ge=x&&x.children,He=x?x.shapeFlag:0,Ie=F.children,{patchFlag:Fe,shapeFlag:Ye}=F;if(Fe>0){if(Fe&128){A(ge,Ie,j,oe,se,me,Se,Ee,Te);return}else if(Fe&256){D(ge,Ie,j,oe,se,me,Se,Ee,Te);return}}Ye&8?(He&16&&W(ge,se,me),Ie!==ge&&c(j,Ie)):He&16?Ye&16?A(ge,Ie,j,oe,se,me,Se,Ee,Te):W(ge,se,me,!0):(He&8&&c(j,""),Ye&16&&I(Ie,j,oe,se,me,Se,Ee,Te))},D=(x,F,j,oe,se,me,Se,Ee,Te)=>{x=x||ml,F=F||ml;const ge=x.length,He=F.length,Ie=Math.min(ge,He);let Fe;for(Fe=0;Fe<Ie;Fe++){const Ye=F[Fe]=Te?Qs(F[Fe]):Lr(F[Fe]);w(x[Fe],Ye,j,null,se,me,Se,Ee,Te)}ge>He?W(x,se,me,!0,!1,Ie):I(F,j,oe,se,me,Se,Ee,Te,Ie)},A=(x,F,j,oe,se,me,Se,Ee,Te)=>{let ge=0;const He=F.length;let Ie=x.length-1,Fe=He-1;for(;ge<=Ie&&ge<=Fe;){const Ye=x[ge],Ke=F[ge]=Te?Qs(F[ge]):Lr(F[ge]);if(bi(Ye,Ke))w(Ye,Ke,j,null,se,me,Se,Ee,Te);else break;ge++}for(;ge<=Ie&&ge<=Fe;){const Ye=x[Ie],Ke=F[Fe]=Te?Qs(F[Fe]):Lr(F[Fe]);if(bi(Ye,Ke))w(Ye,Ke,j,null,se,me,Se,Ee,Te);else break;Ie--,Fe--}if(ge>Ie){if(ge<=Fe){const Ye=Fe+1,Ke=Ye<He?F[Ye].el:oe;for(;ge<=Fe;)w(null,F[ge]=Te?Qs(F[ge]):Lr(F[ge]),j,Ke,se,me,Se,Ee,Te),ge++}}else if(ge>Fe)for(;ge<=Ie;)z(x[ge],se,me,!0),ge++;else{const Ye=ge,Ke=ge,K=new Map;for(ge=Ke;ge<=Fe;ge++){const Be=F[ge]=Te?Qs(F[ge]):Lr(F[ge]);Be.key!=null&&K.set(Be.key,ge)}let ae,Ne=0;const We=Fe-Ke+1;let dt=!1,Nt=0;const qn=new Array(We);for(ge=0;ge<We;ge++)qn[ge]=0;for(ge=Ye;ge<=Ie;ge++){const Be=x[ge];if(Ne>=We){z(Be,se,me,!0);continue}let je;if(Be.key!=null)je=K.get(Be.key);else for(ae=Ke;ae<=Fe;ae++)if(qn[ae-Ke]===0&&bi(Be,F[ae])){je=ae;break}je===void 0?z(Be,se,me,!0):(qn[je-Ke]=ge+1,je>=Nt?Nt=je:dt=!0,w(Be,F[je],j,null,se,me,Se,Ee,Te),Ne++)}const Oe=dt?CL(qn):ml;for(ae=Oe.length-1,ge=We-1;ge>=0;ge--){const Be=Ke+ge,je=F[Be],zn=Be+1<He?F[Be+1].el:oe;qn[ge]===0?w(null,je,j,zn,se,me,Se,Ee,Te):dt&&(ae<0||ge!==Oe[ae]?H(je,j,zn,2):ae--)}}},H=(x,F,j,oe,se=null)=>{const{el:me,type:Se,transition:Ee,children:Te,shapeFlag:ge}=x;if(ge&6){H(x.component.subTree,F,j,oe);return}if(ge&128){x.suspense.move(F,j,oe);return}if(ge&64){Se.move(x,F,j,de);return}if(Se===Me){r(me,F,j);for(let Ie=0;Ie<Te.length;Ie++)H(Te[Ie],F,j,oe);r(x.anchor,F,j);return}if(Se===wl){T(x,F,j);return}if(oe!==2&&ge&1&&Ee)if(oe===0)Ee.beforeEnter(me),r(me,F,j),Rn(()=>Ee.enter(me),se);else{const{leave:Ie,delayLeave:Fe,afterLeave:Ye}=Ee,Ke=()=>r(me,F,j),K=()=>{Ie(me,()=>{Ke(),Ye&&Ye()})};Fe?Fe(me,Ke,K):K()}else r(me,F,j)},z=(x,F,j,oe=!1,se=!1)=>{const{type:me,props:Se,ref:Ee,children:Te,dynamicChildren:ge,shapeFlag:He,patchFlag:Ie,dirs:Fe,cacheIndex:Ye}=x;if(Ie===-2&&(se=!1),Ee!=null&&Nc(Ee,null,j,x,!0),Ye!=null&&(F.renderCache[Ye]=void 0),He&256){F.ctx.deactivate(x);return}const Ke=He&1&&Fe,K=!so(x);let ae;if(K&&(ae=Se&&Se.onVnodeBeforeUnmount)&&Nr(ae,F,x),He&6)Z(x.component,j,oe);else{if(He&128){x.suspense.unmount(j,oe);return}Ke&&Hi(x,null,F,"beforeUnmount"),He&64?x.type.remove(x,F,j,de,oe):ge&&!ge.hasOnce&&(me!==Me||Ie>0&&Ie&64)?W(ge,F,j,!1,!0):(me===Me&&Ie&384||!se&&He&16)&&W(Te,F,j),oe&&ne(x)}(K&&(ae=Se&&Se.onVnodeUnmounted)||Ke)&&Rn(()=>{ae&&Nr(ae,F,x),Ke&&Hi(x,null,F,"unmounted")},j)},ne=x=>{const{type:F,el:j,anchor:oe,transition:se}=x;if(F===Me){fe(j,oe);return}if(F===wl){y(x);return}const me=()=>{i(j),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(x.shapeFlag&1&&se&&!se.persisted){const{leave:Se,delayLeave:Ee}=se,Te=()=>Se(j,me);Ee?Ee(x.el,me,Te):Te()}else me()},fe=(x,F)=>{let j;for(;x!==F;)j=f(x),i(x),x=j;i(F)},Z=(x,F,j)=>{const{bum:oe,scope:se,job:me,subTree:Se,um:Ee,m:Te,a:ge}=x;Ef(Te),Ef(ge),oe&&yl(oe),se.stop(),me&&(me.flags|=8,z(Se,x,F,j)),Ee&&Rn(Ee,F),Rn(()=>{x.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},W=(x,F,j,oe=!1,se=!1,me=0)=>{for(let Se=me;Se<x.length;Se++)z(x[Se],F,j,oe,se)},Q=x=>{if(x.shapeFlag&6)return Q(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const F=f(x.anchor||x.el),j=F&&F[PA];return j?f(j):F};let ie=!1;const X=(x,F,j)=>{x==null?F._vnode&&z(F._vnode,null,null,!0):w(F._vnode||null,x,F,null,null,null,j),F._vnode=x,ie||(ie=!0,Rw(),wf(),ie=!1)},de={p:w,um:z,m:H,r:ne,mt:G,mc:I,pc:V,pbc:v,n:Q,o:t};let be,te;return e&&([be,te]=e(de)),{render:X,hydrate:be,createApp:vL(X,be)}}function eg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Vo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function tC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function p_(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Qs(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&p_(o,a)),a.type===Zo&&(a.el=o.el)}}function CL(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function nC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nC(e)}function Ef(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const OL=Symbol.for("v-scx"),PL=()=>Rr(OL);function tre(t,e){return Sd(t,null,e)}function nre(t,e){return Sd(t,null,{flush:"post"})}function kL(t,e){return Sd(t,null,{flush:"sync"})}function Sn(t,e,n){return Sd(t,e,n)}function Sd(t,e,n=gt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Gt({},n),l=e&&r||!e&&s!=="post";let u;if(Dl){if(s==="sync"){const p=PL();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ui,p.resume=ui,p.pause=ui,p}}const c=Nn;a.call=(p,g,w)=>xi(p,c,g,w);let h=!1;s==="post"?a.scheduler=p=>{Rn(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():r_(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=VM(t,e,a);return Dl&&(u?u.push(f):l&&f()),f}function RL(t,e,n){const r=this.proxy,i=Zt(t)?t.includes(".")?rC(r,t):()=>r[t]:t.bind(r,r);let s;et(e)?s=e:(s=e.handler,n=e);const o=la(this),a=Sd(i,s.bind(r),n);return o(),a}function rC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function rre(t,e,n=gt){const r=ti(),i=yr(e),s=Vr(e),o=iC(t,i),a=kM((l,u)=>{let c,h=gt,f;return kL(()=>{const p=t[i];Cr(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Cr(g,c)&&!(h!==gt&&Cr(p,h)))return;const w=r.vnode.props;w&&(e in w||i in w||s in w)&&(`onUpdate:${e}`in w||`onUpdate:${i}`in w||`onUpdate:${s}`in w)||(c=p,u()),r.emit(`update:${e}`,g),Cr(p,g)&&Cr(p,h)&&!Cr(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||gt:a,done:!1}:{done:!0}}}},a}const iC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${yr(e)}Modifiers`]||t[`${Vr(e)}Modifiers`];function DL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||gt;let i=n;const s=e.startsWith("update:"),o=s&&iC(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Zt(c)?c.trim():c)),o.number&&(i=n.map(pf)));let a,l=r[a=Gh(e)]||r[a=Gh(yr(e))];!l&&s&&(l=r[a=Gh(Vr(e))]),l&&xi(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xi(u,t,6,i)}}function sC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!et(t)){const l=u=>{const c=sC(u,e,!0);c&&(a=!0,Gt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ht(t)&&r.set(t,null),null):($e(s)?s.forEach(l=>o[l]=null):Gt(o,s),Ht(t)&&r.set(t,o),o)}function xp(t,e){return!t||!Td(e)?!1:(e=e.slice(2).replace(/Once$/,""),kt(t,e[0].toLowerCase()+e.slice(1))||kt(t,Vr(e))||kt(t,e))}function Qh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:w}=t,E=Dc(t);let R,P;try{if(n.shapeFlag&4){const y=i||r,M=y;R=Lr(u.call(M,y,c,h,p,f,g)),P=a}else{const y=e;R=Lr(y.length>1?y(h,{attrs:a,slots:o,emit:l}):y(h,null)),P=e.props?a:NL(a)}}catch(y){sc.length=0,su(y,t,1),R=Je(Dn)}let T=R;if(P&&w!==!1){const y=Object.keys(P),{shapeFlag:M}=T;y.length&&M&7&&(s&&y.some(qy)&&(P=ML(P,s)),T=Ss(T,P,!1,!0))}return n.dirs&&(T=Ss(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&vo(T,n.transition),R=T,Dc(E),R}function xL(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(yo(i)){if(i.type!==Dn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const NL=t=>{let e;for(const n in t)(n==="class"||n==="style"||Td(n))&&((e||(e={}))[n]=t[n]);return e},ML=(t,e)=>{const n={};for(const r in t)(!qy(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function LL(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Hw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!xp(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Hw(r,o,u):!0:!!o;return!1}function Hw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!xp(n,s))return!0}return!1}function Np({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const If=t=>t.__isSuspense;let pv=0;const VL={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)FL(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}$L(t,e,n,r,i,o,a,l,u)}},hydrate:UL,normalize:BL},ire=VL;function Lc(t,e){const n=t.props&&t.props[e];et(n)&&n()}function FL(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=oC(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?(Lc(t,"onPending"),Lc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),bl(f,t.ssFallback)):f.resolve(!1,!0)}function $L(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:w,isInFallback:E,isHydrating:R}=h;if(w)h.pendingBranch=f,bi(f,w)?(l(w,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():E&&(R||(l(g,p,n,r,i,null,s,o,a),bl(h,p)))):(h.pendingId=pv++,R?(h.isHydrating=!1,h.activeBranch=w):u(w,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),E?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),bl(h,p))):g&&bi(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&bi(f,g))l(g,f,n,r,i,h,s,o,a),bl(h,f);else if(Lc(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=pv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:P,pendingId:T}=h;P>0?setTimeout(()=>{h.pendingId===T&&h.fallback(p)},P):P===0&&h.fallback(p)}}function oC(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:w,remove:E}}=u;let R;const P=jL(t);P&&e&&e.pendingBranch&&(R=e.pendingId,e.deps++);const T=t.props?mf(t.props.timeout):void 0,y=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:pv++,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(L=!1,S=!1){const{vnode:I,activeBranch:b,pendingBranch:v,pendingId:C,effects:O,parentComponent:k,container:G}=M;let $=!1;M.isHydrating?M.isHydrating=!1:L||($=b&&v.transition&&v.transition.mode==="out-in",$&&(b.transition.afterLeave=()=>{C===M.pendingId&&(f(v,G,s===y?g(b):s,0),bf(O))}),b&&(w(b.el)===G&&(s=g(b)),p(b,k,M,!0)),$||f(v,G,s,0)),bl(M,v),M.pendingBranch=null,M.isInFallback=!1;let B=M.parent,U=!1;for(;B;){if(B.pendingBranch){B.effects.push(...O),U=!0;break}B=B.parent}!U&&!$&&bf(O),M.effects=[],P&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!S&&e.resolve()),Lc(I,"onResolve")},fallback(L){if(!M.pendingBranch)return;const{vnode:S,activeBranch:I,parentComponent:b,container:v,namespace:C}=M;Lc(S,"onFallback");const O=g(I),k=()=>{M.isInFallback&&(h(null,L,v,O,b,null,C,a,l),bl(M,L))},G=L.transition&&L.transition.mode==="out-in";G&&(I.transition.afterLeave=k),M.isInFallback=!0,p(I,b,null,!0),G||k()},move(L,S,I){M.activeBranch&&f(M.activeBranch,L,S,I),M.container=L},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(L,S,I){const b=!!M.pendingBranch;b&&M.deps++;const v=L.vnode.el;L.asyncDep.catch(C=>{su(C,L,0)}).then(C=>{if(L.isUnmounted||M.isUnmounted||M.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:O}=L;vv(L,C,!1),v&&(O.el=v);const k=!v&&L.subTree.el;S(L,O,w(v||L.subTree.el),v?null:g(L.subTree),M,o,I),k&&E(k),Np(L,O.el),b&&--M.deps===0&&M.resolve()})},unmount(L,S){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,L,S),M.pendingBranch&&p(M.pendingBranch,n,L,S)}};return M}function UL(t,e,n,r,i,s,o,a,l){const u=e.suspense=oC(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function BL(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Ww(r?n.default:n),t.ssFallback=r?Ww(n.fallback):Je(Dn)}function Ww(t){let e;if(et(t)){const n=aa&&t._c;n&&(t._d=!1,q()),t=t(),n&&(t._d=!0,e=mr,lC())}return $e(t)&&(t=xL(t)),t=Lr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function aC(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):bf(t)}function bl(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Np(r,i))}function jL(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Me=Symbol.for("v-fgt"),Zo=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),wl=Symbol.for("v-stc"),sc=[];let mr=null;function q(t=!1){sc.push(mr=t?null:[])}function lC(){sc.pop(),mr=sc[sc.length-1]||null}let aa=1;function qw(t,e=!1){aa+=t,t<0&&mr&&e&&(mr.hasOnce=!0)}function uC(t){return t.dynamicChildren=aa>0?mr||ml:null,lC(),aa>0&&mr&&mr.push(t),t}function ee(t,e,n,r,i,s){return uC(Ae(t,e,n,r,i,s,!0))}function qe(t,e,n,r,i){return uC(Je(t,e,n,r,i,!0))}function yo(t){return t?t.__v_isVNode===!0:!1}function bi(t,e){return t.type===e.type&&t.key===e.key}function sre(t){}const cC=({key:t})=>t??null,Xh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Zt(t)||ln(t)||et(t)?{i:Ln,r:t,k:e,f:!!n}:t:null);function Ae(t,e=null,n=null,r=0,i=null,s=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cC(e),ref:e&&Xh(e),scopeId:Rp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ln};return a?(m_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Zt(n)?8:16),aa>0&&!o&&mr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&mr.push(l),l}const Je=HL;function HL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===UA)&&(t=Dn),yo(t)){const a=Ss(t,e,!0);return n&&m_(a,n),aa>0&&!s&&mr&&(a.shapeFlag&6?mr[mr.indexOf(t)]=a:mr.push(a)),a.patchFlag=-2,a}if(GL(t)&&(t=t.__vccOpts),e){e=er(e);let{class:a,style:l}=e;a&&!Zt(a)&&(e.class=tt(a)),Ht(l)&&(t_(l)&&!$e(l)&&(l=Gt({},l)),e.style=kr(l))}const o=Zt(t)?1:If(t)?128:kA(t)?64:Ht(t)?4:et(t)?2:0;return Ae(t,e,n,r,i,o,s,!0)}function er(t){return t?t_(t)||KA(t)?Gt({},t):t:null}function Ss(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?pe(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&cC(u),ref:e&&e.ref?n&&s?$e(s)?s.concat(Xh(e)):[s,Xh(e)]:Xh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ss(t.ssContent),ssFallback:t.ssFallback&&Ss(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&vo(c,l.clone(c)),c}function xn(t=" ",e=0){return Je(Zo,null,t,e)}function ore(t,e){const n=Je(wl,null,t);return n.staticCount=e,n}function he(t="",e=!1){return e?(q(),qe(Dn,null,t)):Je(Dn,null,t)}function Lr(t){return t==null||typeof t=="boolean"?Je(Dn):$e(t)?Je(Me,null,t.slice()):yo(t)?Qs(t):Je(Zo,null,String(t))}function Qs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ss(t)}function m_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),m_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!KA(e)?e._ctx=Ln:i===3&&Ln&&(Ln.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else et(e)?(e={default:e,_ctx:Ln},n=32):(e=String(e),r&64?(n=16,e=[xn(e)]):n=8);t.children=e,t.shapeFlag|=n}function pe(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=tt([e.class,r.class]));else if(i==="style")e.style=kr([e.style,r.style]);else if(Td(i)){const s=e[i],o=r[i];o&&s!==o&&!($e(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Nr(t,e,n,r=null){xi(t,e,7,[n,r])}const WL=WA();let qL=0;function dC(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||WL,s={uid:qL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YA(r,i),emitsOptions:sC(r,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=DL.bind(null,s),t.ce&&t.ce(s),s}let Nn=null;const ti=()=>Nn||Ln;let Sf,mv;{const t=Sp(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Sf=e("__VUE_INSTANCE_SETTERS__",n=>Nn=n),mv=e("__VUE_SSR_SETTERS__",n=>Dl=n)}const la=t=>{const e=Nn;return Sf(t),t.scope.on(),()=>{t.scope.off(),Sf(e)}},gv=()=>{Nn&&Nn.scope.off(),Sf(null)};function hC(t){return t.vnode.shapeFlag&4}let Dl=!1;function fC(t,e=!1,n=!1){e&&mv(e);const{props:r,children:i}=t.vnode,s=hC(t);_L(t,r,s,e),EL(t,i,n);const o=s?zL(t,e):void 0;return e&&mv(!1),o}function zL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,cv);const{setup:r}=n;if(r){Ao();const i=t.setupContext=r.length>1?mC(t):null,s=la(t),o=Ed(r,t,0,[t.props,i]),a=Ky(o);if(Co(),s(),(a||t.sp)&&!so(t)&&s_(t),a){if(o.then(gv,gv),e)return o.then(l=>{vv(t,l,e)}).catch(l=>{su(l,t,0)});t.asyncDep=o}else vv(t,o,e)}else pC(t,e)}function vv(t,e,n){et(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ht(e)&&(t.setupState=TA(e)),pC(t,n)}let Af,yv;function are(t){Af=t,yv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,cL))}}const lre=()=>!Af;function pC(t,e,n){const r=t.type;if(!t.render){if(!e&&Af&&!r.render){const i=r.template||h_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Gt(Gt({isCustomElement:s,delimiters:a},o),l);r.render=Af(i,u)}}t.render=r.render||ui,yv&&yv(t)}{const i=la(t);Ao();try{dL(t)}finally{Co(),i()}}}const KL={get(t,e){return cr(t,"get",""),t[e]}};function mC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,KL),slots:t.slots,emit:t.emit,expose:e}}function Ad(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(TA(n_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in rc)return rc[n](t)},has(e,n){return n in e||n in rc}})):t.proxy}function _v(t,e=!0){return et(t)?t.displayName||t.name:t.name||e&&t.__name}function GL(t){return et(t)&&"__vccOpts"in t}const le=(t,e)=>MM(t,e,Dl);function xl(t,e,n){const r=arguments.length;return r===2?Ht(e)&&!$e(e)?yo(e)?Je(t,null,[e]):Je(t,e):Je(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&yo(n)&&(n=[n]),Je(t,e,n))}function ure(){}function cre(t,e,n,r){const i=n[r];if(i&&YL(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function YL(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Cr(n[r],e[r]))return!1;return aa>0&&mr&&mr.push(t),!0}const QL="3.5.13",dre=ui,hre=UM,fre=Za,pre=OA,XL={createComponentInstance:dC,setupComponent:fC,renderComponentRoot:Qh,setCurrentRenderingInstance:Dc,isVNode:yo,normalizeVNode:Lr,getComponentPublicInstance:Ad,ensureValidVNode:d_,pushWarningContext:FM,popWarningContext:$M},mre=XL,gre=null,vre=null,yre=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bv;const zw=typeof window<"u"&&window.trustedTypes;if(zw)try{bv=zw.createPolicy("vue",{createHTML:t=>t})}catch{}const gC=bv?t=>bv.createHTML(t):t=>t,JL="http://www.w3.org/2000/svg",ZL="http://www.w3.org/1998/Math/MathML",hs=typeof document<"u"?document:null,Kw=hs&&hs.createElement("template"),e2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?hs.createElementNS(JL,t):e==="mathml"?hs.createElementNS(ZL,t):n?hs.createElement(t,{is:n}):hs.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>hs.createTextNode(t),createComment:t=>hs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Kw.innerHTML=gC(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Kw.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$s="transition",ku="animation",Nl=Symbol("_vtc"),vC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yC=Gt({},MA,vC),t2=t=>(t.displayName="Transition",t.props=yC,t),Oo=t2((t,{slots:e})=>xl(qM,_C(t),e)),Fo=(t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},Gw=t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1;function _C(t){const e={};for(const O in t)O in vC||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=n2(i),w=g&&g[0],E=g&&g[1],{onBeforeEnter:R,onEnter:P,onEnterCancelled:T,onLeave:y,onLeaveCancelled:M,onBeforeAppear:L=R,onAppear:S=P,onAppearCancelled:I=T}=e,b=(O,k,G,$)=>{O._enterCancelled=$,qs(O,k?c:a),qs(O,k?u:o),G&&G()},v=(O,k)=>{O._isLeaving=!1,qs(O,h),qs(O,p),qs(O,f),k&&k()},C=O=>(k,G)=>{const $=O?S:P,B=()=>b(k,O,G);Fo($,[k,B]),Yw(()=>{qs(k,O?l:s),Ui(k,O?c:a),Gw($)||Qw(k,r,w,B)})};return Gt(e,{onBeforeEnter(O){Fo(R,[O]),Ui(O,s),Ui(O,o)},onBeforeAppear(O){Fo(L,[O]),Ui(O,l),Ui(O,u)},onEnter:C(!1),onAppear:C(!0),onLeave(O,k){O._isLeaving=!0;const G=()=>v(O,k);Ui(O,h),O._enterCancelled?(Ui(O,f),wv()):(wv(),Ui(O,f)),Yw(()=>{O._isLeaving&&(qs(O,h),Ui(O,p),Gw(y)||Qw(O,r,E,G))}),Fo(y,[O,G])},onEnterCancelled(O){b(O,!1,void 0,!0),Fo(T,[O])},onAppearCancelled(O){b(O,!0,void 0,!0),Fo(I,[O])},onLeaveCancelled(O){v(O),Fo(M,[O])}})}function n2(t){if(t==null)return null;if(Ht(t))return[tg(t.enter),tg(t.leave)];{const e=tg(t);return[e,e]}}function tg(t){return mf(t)}function Ui(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Nl]||(t[Nl]=new Set)).add(e)}function qs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Nl];n&&(n.delete(e),n.size||(t[Nl]=void 0))}function Yw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let r2=0;function Qw(t,e,n,r){const i=t._endId=++r2,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=bC(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function bC(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${$s}Delay`),s=r(`${$s}Duration`),o=Xw(i,s),a=r(`${ku}Delay`),l=r(`${ku}Duration`),u=Xw(a,l);let c=null,h=0,f=0;e===$s?o>0&&(c=$s,h=o,f=s.length):e===ku?u>0&&(c=ku,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?$s:ku:null,f=c?c===$s?s.length:l.length:0);const p=c===$s&&/\b(transform|all)(,|$)/.test(r(`${$s}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function Xw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Jw(n)+Jw(t[r])))}function Jw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function wv(){return document.body.offsetHeight}function i2(t,e,n){const r=t[Nl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Cf=Symbol("_vod"),wC=Symbol("_vsh"),oc={beforeMount(t,{value:e},{transition:n}){t[Cf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ru(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ru(t,!0),r.enter(t)):r.leave(t,()=>{Ru(t,!1)}):Ru(t,e))},beforeUnmount(t,{value:e}){Ru(t,e)}};function Ru(t,e){t.style.display=e?t[Cf]:"none",t[wC]=!e}function s2(){oc.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const TC=Symbol("");function _re(t){const e=ti();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Of(s,i))},r=()=>{const i=t(e.proxy);e.ce?Of(e.ce,i):Tv(e.subTree,i),n(i)};o_(()=>{bf(r)}),_n(()=>{Sn(r,ui,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Aa(()=>i.disconnect())})}function Tv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Tv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Of(t.el,e);else if(t.type===Me)t.children.forEach(n=>Tv(n,e));else if(t.type===wl){let{el:n,anchor:r}=t;for(;n&&(Of(n,e),n!==r);)n=n.nextSibling}}function Of(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[TC]=r}}const o2=/(^|;)\s*display\s*:/;function a2(t,e,n){const r=t.style,i=Zt(n);let s=!1;if(n&&!i){if(e)if(Zt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Jh(r,a,"")}else for(const o in e)n[o]==null&&Jh(r,o,"");for(const o in n)o==="display"&&(s=!0),Jh(r,o,n[o])}else if(i){if(e!==n){const o=r[TC];o&&(n+=";"+o),r.cssText=n,s=o2.test(n)}}else e&&t.removeAttribute("style");Cf in t&&(t[Cf]=s?r.display:"",t[wC]&&(r.display="none"))}const Zw=/\s*!important$/;function Jh(t,e,n){if($e(n))n.forEach(r=>Jh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=l2(t,e);Zw.test(n)?t.setProperty(Vr(r),n.replace(Zw,""),"important"):t[r]=n}}const eT=["Webkit","Moz","ms"],ng={};function l2(t,e){const n=ng[e];if(n)return n;let r=yr(e);if(r!=="filter"&&r in t)return ng[e]=r;r=Ip(r);for(let i=0;i<eT.length;i++){const s=eT[i]+r;if(s in t)return ng[e]=s}return e}const tT="http://www.w3.org/1999/xlink";function nT(t,e,n,r,i,s=oM(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(tT,e.slice(6,e.length)):t.setAttributeNS(tT,e,n):n==null||s&&!ZS(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Di(n)?String(n):n)}function rT(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?gC(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=ZS(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ms(t,e,n,r){t.addEventListener(e,n,r)}function u2(t,e,n,r){t.removeEventListener(e,n,r)}const iT=Symbol("_vei");function c2(t,e,n,r,i=null){const s=t[iT]||(t[iT]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=d2(e);if(r){const u=s[e]=p2(r,i);ms(t,a,u,l)}else o&&(u2(t,a,o,l),s[e]=void 0)}}const sT=/(?:Once|Passive|Capture)$/;function d2(t){let e;if(sT.test(t)){e={};let r;for(;r=t.match(sT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vr(t.slice(2)),e]}let rg=0;const h2=Promise.resolve(),f2=()=>rg||(h2.then(()=>rg=0),rg=Date.now());function p2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;xi(m2(r,n.value),e,5,[r])};return n.value=t,n.attached=f2(),n}function m2(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const oT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,g2=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?i2(t,r,o):e==="style"?a2(t,n,r):Td(e)?qy(e)||c2(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):v2(t,e,r,o))?(rT(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&nT(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Zt(r))?rT(t,yr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),nT(t,e,r,o))};function v2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&oT(e)&&et(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return oT(e)&&Zt(n)?!1:e in t}const aT={};/*! #__NO_SIDE_EFFECTS__ */function y2(t,e,n){const r=Yt(t,e);Tp(r)&&Gt(r,e);class i extends g_{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const bre=(t,e)=>y2(t,e,M2),_2=typeof HTMLElement<"u"?HTMLElement:class{};class g_ extends _2{constructor(e,n={},r=Iv){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Iv?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof g_){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Wn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!$e(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=mf(this._props[l])),(a||(a=Object.create(null)))[yr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)kt(this,r)||Object.defineProperty(this,r,{get:()=>Y(n[r])})}_resolveProps(e){const{props:n}=e,r=$e(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(yr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):aT;const i=yr(e);n&&this._numberProps&&this._numberProps[i]&&(r=mf(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===aT?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(Vr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Vr(e),n+""):n||this.removeAttribute(Vr(e)),s&&s.observe(this,{attributes:!0})}}_update(){Vc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Je(this._def,Gt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,Tp(o[0])?Gt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Vr(s)!==s&&i(Vr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function b2(t){const e=ti(),n=e&&e.ce;return n||null}function wre(){const t=b2();return t&&t.shadowRoot}function Tre(t="$style"){{const e=ti();if(!e)return gt;const n=e.type.__cssModules;if(!n)return gt;const r=n[t];return r||gt}}const EC=new WeakMap,IC=new WeakMap,Pf=Symbol("_moveCb"),lT=Symbol("_enterCb"),w2=t=>(delete t.props.mode,t),T2=w2({name:"TransitionGroup",props:Gt({},yC,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ti(),r=NA();let i,s;return a_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!C2(i[0].el,n.vnode.el,o))return;i.forEach(I2),i.forEach(S2);const a=i.filter(A2);wv(),a.forEach(l=>{const u=l.el,c=u.style;Ui(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[Pf]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[Pf]=null,qs(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=mt(t),a=_C(o);let l=o.tag||Me;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),vo(c,xc(c,a,r,n)),EC.set(c,c.el.getBoundingClientRect()))}s=e.default?i_(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&vo(c,xc(c,a,r,n))}return Je(l,null,s)}}}),E2=T2;function I2(t){const e=t.el;e[Pf]&&e[Pf](),e[lT]&&e[lT]()}function S2(t){IC.set(t,t.el.getBoundingClientRect())}function A2(t){const e=EC.get(t),n=IC.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function C2(t,e,n){const r=t.cloneNode(),i=t[Nl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=bC(r);return s.removeChild(r),o}const _o=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>yl(e,n):e};function O2(t){t.target.composing=!0}function uT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const di=Symbol("_assign"),Ev={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[di]=_o(i);const s=r||i.props&&i.props.type==="number";ms(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=pf(a)),t[di](a)}),n&&ms(t,"change",()=>{t.value=t.value.trim()}),e||(ms(t,"compositionstart",O2),ms(t,"compositionend",uT),ms(t,"change",uT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[di]=_o(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?pf(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},SC={deep:!0,created(t,e,n){t[di]=_o(n),ms(t,"change",()=>{const r=t._modelValue,i=Ml(t),s=t.checked,o=t[di];if($e(r)){const a=Ap(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Sa(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(CC(t,s))})},mounted:cT,beforeUpdate(t,e,n){t[di]=_o(n),cT(t,e,n)}};function cT(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if($e(e))i=Ap(e,r.props.value)>-1;else if(Sa(e))i=e.has(r.props.value);else{if(e===n)return;i=go(e,CC(t,!0))}t.checked!==i&&(t.checked=i)}const AC={created(t,{value:e},n){t.checked=go(e,n.props.value),t[di]=_o(n),ms(t,"change",()=>{t[di](Ml(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[di]=_o(r),e!==n&&(t.checked=go(e,r.props.value))}},P2={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Sa(e);ms(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?pf(Ml(o)):Ml(o));t[di](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Wn(()=>{t._assigning=!1})}),t[di]=_o(r)},mounted(t,{value:e}){dT(t,e)},beforeUpdate(t,e,n){t[di]=_o(n)},updated(t,{value:e}){t._assigning||dT(t,e)}};function dT(t,e){const n=t.multiple,r=$e(e);if(!(n&&!r&&!Sa(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Ml(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Ap(e,a)>-1}else o.selected=e.has(a);else if(go(Ml(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ml(t){return"_value"in t?t._value:t.value}function CC(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const k2={created(t,e,n){Th(t,e,n,null,"created")},mounted(t,e,n){Th(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Th(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Th(t,e,n,r,"updated")}};function OC(t,e){switch(t){case"SELECT":return P2;case"TEXTAREA":return Ev;default:switch(e){case"checkbox":return SC;case"radio":return AC;default:return Ev}}}function Th(t,e,n,r,i){const o=OC(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function R2(){Ev.getSSRProps=({value:t})=>({value:t}),AC.getSSRProps=({value:t},e)=>{if(e.props&&go(e.props.value,t))return{checked:!0}},SC.getSSRProps=({value:t},e)=>{if($e(t)){if(e.props&&Ap(t,e.props.value)>-1)return{checked:!0}}else if(Sa(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},k2.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=OC(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const D2=["ctrl","shift","alt","meta"],x2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>D2.some(n=>t[`${n}Key`]&&!e.includes(n))},Lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=x2[e[o]];if(a&&a(i,e))return}return t(i,...s)})},N2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Vr(i.key);if(e.some(o=>o===s||N2[o]===s))return t(i)})},PC=Gt({patchProp:g2},e2);let ac,hT=!1;function kC(){return ac||(ac=SL(PC))}function RC(){return ac=hT?ac:AL(PC),hT=!0,ac}const Vc=(...t)=>{kC().render(...t)},Ere=(...t)=>{RC().hydrate(...t)},Iv=(...t)=>{const e=kC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=xC(r);if(!i)return;const s=e._component;!et(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,DC(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},M2=(...t)=>{const e=RC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=xC(r);if(i)return n(i,!0,DC(i))},e};function DC(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xC(t){return Zt(t)?document.querySelector(t):t}let fT=!1;const Ire=()=>{fT||(fT=!0,R2(),s2())};function L2(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const kf=L2();let pT=0;const V2=()=>{const t=pT;return pT+=1,t},NC=()=>(t,e)=>{const n={...t,id:V2(),group:t.group||""};return kf.emit("notify",{notification:n,timeout:e}),()=>kf.emit("close",n.id)},MC="context",Sv=Yt({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=e,i=Rr(MC),s=Dr({notifications:[],timeouts:{}}),o=le(()=>s.notifications.filter(p=>p.group===i.group)),a=le(()=>i.position==="bottom"?[...o.value]:[...o.value].reverse()),l=(p,g)=>{s.timeouts[p]=window.setTimeout(()=>{g!==-1&&u(p)},Math.max(g||3e3,0))},u=p=>{s.notifications.splice(s.notifications.findIndex(g=>g.id===p),1),clearTimeout(s.timeouts[p])},c=({notification:p,timeout:g})=>{s.notifications.length!==n.maxNotifications&&(s.notifications.push(p),l(p.id,g))},h=p=>{r("close"),u(p)},f=(p,g,w)=>{g?clearTimeout(s.timeouts[p]):l(p,w)};return _n(()=>{kf.on("notify",c),kf.on("close",u)}),(p,g)=>(q(),qe(E2,{"enter-active-class":o.value.length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Qe(()=>[_e(p.$slots,"default",{notifications:a.value,close:h,hovering:f})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),mT=Yt({inheritAttrs:!1,__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return ic(MC,{group:e.group,position:e.position}),(n,r)=>_e(n.$slots,"default",{group:n.group})}});function F2(t){t.config.globalProperties.$notify=NC(),t.component("Notification",Sv),t.component("NotificationGroup",mT),t.component("notification",Sv),t.component("notificationGroup",mT)}const $2={install:F2},U2=NC(),B2={class:"px-4 py-2 -mx-3"},j2={class:"mx-3"},H2={class:"font-semibold text-white"},W2={class:"text-sm text-gray-100"},Eh=Yt({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(q(),qe(Y(Sv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Qe(({notifications:r})=>[(q(!0),ee(Me,null,Ft(r,i=>(q(),ee("div",{key:i.id},[i.type===e.type?(q(),ee("div",{key:0,class:tt("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[Ae("div",B2,[Ae("div",j2,[Ae("span",H2,ht(i.title),1),Ae("p",W2,ht(i.text),1)])])],2)):he("",!0)]))),128))]),_:1}))}}),q2={class:"fixed z-50 inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},z2={class:"w-full max-w-sm"},K2=Yt({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Gr("NotificationGroup",!0);return q(),qe(r,null,{default:Qe(()=>[Ae("div",q2,[Ae("div",z2,[Je(Eh,{type:"success",color:"bg-green-800"}),Je(Eh,{type:"info",color:"bg-blue-500"}),Je(Eh,{type:"warning",color:"bg-yellow-800"}),Je(Eh,{type:"error",color:"bg-red-800"})])])]),_:1})}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const el=typeof document<"u";function LC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function G2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&LC(t.default)}const Mt=Object.assign;function ig(t,e){const n={};for(const r in e){const i=e[r];n[r]=Ni(i)?i.map(t):t(i)}return n}const lc=()=>{},Ni=Array.isArray,VC=/#/g,Y2=/&/g,Q2=/\//g,X2=/=/g,J2=/\?/g,FC=/\+/g,Z2=/%5B/g,eV=/%5D/g,$C=/%5E/g,tV=/%60/g,UC=/%7B/g,nV=/%7C/g,BC=/%7D/g,rV=/%20/g;function v_(t){return encodeURI(""+t).replace(nV,"|").replace(Z2,"[").replace(eV,"]")}function iV(t){return v_(t).replace(UC,"{").replace(BC,"}").replace($C,"^")}function Av(t){return v_(t).replace(FC,"%2B").replace(rV,"+").replace(VC,"%23").replace(Y2,"%26").replace(tV,"`").replace(UC,"{").replace(BC,"}").replace($C,"^")}function sV(t){return Av(t).replace(X2,"%3D")}function oV(t){return v_(t).replace(VC,"%23").replace(J2,"%3F")}function aV(t){return t==null?"":oV(t).replace(Q2,"%2F")}function Fc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const lV=/\/$/,uV=t=>t.replace(lV,"");function sg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=fV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Fc(o)}}function cV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function gT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function dV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ll(e.matched[r],n.matched[i])&&jC(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ll(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jC(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!hV(t[n],e[n]))return!1;return!0}function hV(t,e){return Ni(t)?vT(t,e):Ni(e)?vT(e,t):t===e}function vT(t,e){return Ni(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function fV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $c;(function(t){t.pop="pop",t.push="push"})($c||($c={}));var uc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(uc||(uc={}));function pV(t){if(!t)if(el){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),uV(t)}const mV=/^[^#]+#/;function gV(t,e){return t.replace(mV,"#")+e}function vV(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Mp=()=>({left:window.scrollX,top:window.scrollY});function yV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=vV(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function yT(t,e){return(history.state?history.state.position-e:-1)+t}const Cv=new Map;function _V(t,e){Cv.set(t,e)}function bV(t){const e=Cv.get(t);return Cv.delete(t),e}let wV=()=>location.protocol+"//"+location.host;function HC(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),gT(l,"")}return gT(n,t)+r+i}function TV(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=HC(t,location),g=n.value,w=e.value;let E=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}E=w?f.position-w.position:0}else r(p);i.forEach(R=>{R(n.value,g,{delta:E,type:$c.pop,direction:E?E>0?uc.forward:uc.back:uc.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Mt({},f.state,{scroll:Mp()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function _T(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Mp():null}}function EV(t){const{history:e,location:n}=window,r={value:HC(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:wV()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=Mt({},e.state,_T(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Mt({},i.value,e.state,{forward:l,scroll:Mp()});s(c.current,c,!0);const h=Mt({},_T(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function IV(t){t=pV(t);const e=EV(t),n=TV(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Mt({location:"",base:t,go:r,createHref:gV.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function SV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),IV(t)}function AV(t){return typeof t=="string"||t&&typeof t=="object"}function WC(t){return typeof t=="string"||typeof t=="symbol"}const qC=Symbol("");var bT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bT||(bT={}));function Vl(t,e){return Mt(new Error,{type:t,[qC]:!0},e)}function cs(t,e){return t instanceof Error&&qC in t&&(e==null||!!(t.type&e))}const wT="[^/]+?",CV={sensitive:!1,strict:!1,start:!0,end:!0},OV=/[.+*?^${}()[\]/\\]/g;function PV(t,e){const n=Mt({},CV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(OV,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:w,optional:E,regexp:R}=f;s.push({name:g,repeatable:w,optional:E});const P=R||wT;if(P!==wT){p+=10;try{new RegExp(`(${P})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+y.message)}}let T=w?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(T=E&&u.length<2?`(?:/${T})`:"/"+T),E&&(T+="?"),i+=T,p+=20,E&&(p+=-8),w&&(p+=-20),P===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:w,optional:E}=p,R=g in u?u[g]:"";if(Ni(R)&&!w)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=Ni(R)?R.join("/"):R;if(!P)if(E)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=P}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function kV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function zC(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=kV(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(TT(r))return 1;if(TT(i))return-1}return i.length-r.length}function TT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RV={type:0,value:""},DV=/[a-zA-Z0-9_]/;function xV(t){if(!t)return[[]];if(t==="/")return[[RV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:DV.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function NV(t,e,n){const r=PV(xV(t.path),n),i=Mt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function MV(t,e){const n=[],r=new Map;e=AT({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,w=IT(h);w.aliasOf=p&&p.record;const E=AT(e,h),R=[w];if("alias"in h){const y=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of y)R.push(IT(Mt({},w,{components:p?p.record.components:w.components,path:M,aliasOf:p?p.record:w})))}let P,T;for(const y of R){const{path:M}=y;if(f&&M[0]!=="/"){const L=f.record.path,S=L[L.length-1]==="/"?"":"/";y.path=f.record.path+(M&&S+M)}if(P=NV(y,f,E),p?p.alias.push(P):(T=T||P,T!==P&&T.alias.push(P),g&&h.name&&!ST(P)&&o(h.name)),KC(P)&&l(P),w.children){const L=w.children;for(let S=0;S<L.length;S++)s(L[S],P,p&&p.children[S])}p=p||P}return T?()=>{o(T)}:lc}function o(h){if(WC(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=FV(h,n);n.splice(f,0,h),h.record.name&&!ST(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},w,E;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Vl(1,{location:h});E=p.record.name,g=Mt(ET(f.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&ET(h.params,p.keys.map(T=>T.name))),w=p.stringify(g)}else if(h.path!=null)w=h.path,p=n.find(T=>T.re.test(w)),p&&(g=p.parse(w),E=p.record.name);else{if(p=f.name?r.get(f.name):n.find(T=>T.re.test(f.path)),!p)throw Vl(1,{location:h,currentLocation:f});E=p.record.name,g=Mt({},f.params,h.params),w=p.stringify(g)}const R=[];let P=p;for(;P;)R.unshift(P.record),P=P.parent;return{name:E,path:w,params:g,matched:R,meta:VV(R)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function ET(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function IT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:LV(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function LV(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ST(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function VV(t){return t.reduce((e,n)=>Mt(e,n.meta),{})}function AT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function FV(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;zC(t,e[s])<0?r=s:n=s+1}const i=$V(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function $V(t){let e=t;for(;e=e.parent;)if(KC(e)&&zC(t,e)===0)return e}function KC({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function UV(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(FC," "),o=s.indexOf("="),a=Fc(o<0?s:s.slice(0,o)),l=o<0?null:Fc(s.slice(o+1));if(a in e){let u=e[a];Ni(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function CT(t){let e="";for(let n in t){const r=t[n];if(n=sV(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ni(r)?r.map(s=>s&&Av(s)):[r&&Av(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function BV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Ni(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const jV=Symbol(""),OT=Symbol(""),Lp=Symbol(""),y_=Symbol(""),Ov=Symbol("");function Du(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Vl(4,{from:n,to:e})):f instanceof Error?l(f):AV(f)?l(Vl(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function og(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(LC(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Xs(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=G2(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Xs(p,n,r,o,a,i)()}))}}return s}function PT(t){const e=Rr(Lp),n=Rr(y_),r=le(()=>{const l=Y(t.to);return e.resolve(l)}),i=le(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Ll.bind(null,c));if(f>-1)return f;const p=kT(l[u-2]);return u>1&&kT(c)===p&&h[h.length-1].path!==p?h.findIndex(Ll.bind(null,l[u-2])):f}),s=le(()=>i.value>-1&&KV(n.params,r.value.params)),o=le(()=>i.value>-1&&i.value===n.matched.length-1&&jC(n.params,r.value.params));function a(l={}){if(zV(l)){const u=e[Y(t.replace)?"replace":"push"](Y(t.to)).catch(lc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function HV(t){return t.length===1?t[0]:t}const WV=Yt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:PT,setup(t,{slots:e}){const n=Dr(PT(t)),{options:r}=Rr(Lp),i=le(()=>({[RT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[RT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&HV(e.default(n));return t.custom?s:xl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),qV=WV;function zV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function KV(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ni(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function kT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const RT=(t,e,n)=>t??e??n,GV=Yt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Rr(Ov),i=le(()=>t.route||r.value),s=Rr(OT,0),o=le(()=>{let u=Y(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=le(()=>i.value.matched[o.value]);ic(OT,le(()=>o.value+1)),ic(jV,a),ic(Ov,i);const l=ce();return Sn(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Ll(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return DT(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,E=xl(f,Mt({},g,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return DT(n.default,{Component:E,route:u})||E}}});function DT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const GC=GV;function YV(t){const e=MV(t.routes,t),n=t.parseQuery||UV,r=t.stringifyQuery||CT,i=t.history,s=Du(),o=Du(),a=Du(),l=bA(Us);let u=Us;el&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ig.bind(null,Q=>""+Q),h=ig.bind(null,aV),f=ig.bind(null,Fc);function p(Q,ie){let X,de;return WC(Q)?(X=e.getRecordMatcher(Q),de=ie):de=Q,e.addRoute(de,X)}function g(Q){const ie=e.getRecordMatcher(Q);ie&&e.removeRoute(ie)}function w(){return e.getRoutes().map(Q=>Q.record)}function E(Q){return!!e.getRecordMatcher(Q)}function R(Q,ie){if(ie=Mt({},ie||l.value),typeof Q=="string"){const F=sg(n,Q,ie.path),j=e.resolve({path:F.path},ie),oe=i.createHref(F.fullPath);return Mt(F,j,{params:f(j.params),hash:Fc(F.hash),redirectedFrom:void 0,href:oe})}let X;if(Q.path!=null)X=Mt({},Q,{path:sg(n,Q.path,ie.path).path});else{const F=Mt({},Q.params);for(const j in F)F[j]==null&&delete F[j];X=Mt({},Q,{params:h(F)}),ie.params=h(ie.params)}const de=e.resolve(X,ie),be=Q.hash||"";de.params=c(f(de.params));const te=cV(r,Mt({},Q,{hash:iV(be),path:de.path})),x=i.createHref(te);return Mt({fullPath:te,hash:be,query:r===CT?BV(Q.query):Q.query||{}},de,{redirectedFrom:void 0,href:x})}function P(Q){return typeof Q=="string"?sg(n,Q,l.value.path):Mt({},Q)}function T(Q,ie){if(u!==Q)return Vl(8,{from:ie,to:Q})}function y(Q){return S(Q)}function M(Q){return y(Mt(P(Q),{replace:!0}))}function L(Q){const ie=Q.matched[Q.matched.length-1];if(ie&&ie.redirect){const{redirect:X}=ie;let de=typeof X=="function"?X(Q):X;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=P(de):{path:de},de.params={}),Mt({query:Q.query,hash:Q.hash,params:de.path!=null?{}:Q.params},de)}}function S(Q,ie){const X=u=R(Q),de=l.value,be=Q.state,te=Q.force,x=Q.replace===!0,F=L(X);if(F)return S(Mt(P(F),{state:typeof F=="object"?Mt({},be,F.state):be,force:te,replace:x}),ie||X);const j=X;j.redirectedFrom=ie;let oe;return!te&&dV(r,de,X)&&(oe=Vl(16,{to:j,from:de}),H(de,de,!0,!1)),(oe?Promise.resolve(oe):v(j,de)).catch(se=>cs(se)?cs(se,2)?se:A(se):V(se,j,de)).then(se=>{if(se){if(cs(se,2))return S(Mt({replace:x},P(se.to),{state:typeof se.to=="object"?Mt({},be,se.to.state):be,force:te}),ie||j)}else se=O(j,de,!0,x,be);return C(j,de,se),se})}function I(Q,ie){const X=T(Q,ie);return X?Promise.reject(X):Promise.resolve()}function b(Q){const ie=fe.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(Q):Q()}function v(Q,ie){let X;const[de,be,te]=QV(Q,ie);X=og(de.reverse(),"beforeRouteLeave",Q,ie);for(const F of de)F.leaveGuards.forEach(j=>{X.push(Xs(j,Q,ie))});const x=I.bind(null,Q,ie);return X.push(x),W(X).then(()=>{X=[];for(const F of s.list())X.push(Xs(F,Q,ie));return X.push(x),W(X)}).then(()=>{X=og(be,"beforeRouteUpdate",Q,ie);for(const F of be)F.updateGuards.forEach(j=>{X.push(Xs(j,Q,ie))});return X.push(x),W(X)}).then(()=>{X=[];for(const F of te)if(F.beforeEnter)if(Ni(F.beforeEnter))for(const j of F.beforeEnter)X.push(Xs(j,Q,ie));else X.push(Xs(F.beforeEnter,Q,ie));return X.push(x),W(X)}).then(()=>(Q.matched.forEach(F=>F.enterCallbacks={}),X=og(te,"beforeRouteEnter",Q,ie,b),X.push(x),W(X))).then(()=>{X=[];for(const F of o.list())X.push(Xs(F,Q,ie));return X.push(x),W(X)}).catch(F=>cs(F,8)?F:Promise.reject(F))}function C(Q,ie,X){a.list().forEach(de=>b(()=>de(Q,ie,X)))}function O(Q,ie,X,de,be){const te=T(Q,ie);if(te)return te;const x=ie===Us,F=el?history.state:{};X&&(de||x?i.replace(Q.fullPath,Mt({scroll:x&&F&&F.scroll},be)):i.push(Q.fullPath,be)),l.value=Q,H(Q,ie,X,x),A()}let k;function G(){k||(k=i.listen((Q,ie,X)=>{if(!Z.listening)return;const de=R(Q),be=L(de);if(be){S(Mt(be,{replace:!0,force:!0}),de).catch(lc);return}u=de;const te=l.value;el&&_V(yT(te.fullPath,X.delta),Mp()),v(de,te).catch(x=>cs(x,12)?x:cs(x,2)?(S(Mt(P(x.to),{force:!0}),de).then(F=>{cs(F,20)&&!X.delta&&X.type===$c.pop&&i.go(-1,!1)}).catch(lc),Promise.reject()):(X.delta&&i.go(-X.delta,!1),V(x,de,te))).then(x=>{x=x||O(de,te,!1),x&&(X.delta&&!cs(x,8)?i.go(-X.delta,!1):X.type===$c.pop&&cs(x,20)&&i.go(-1,!1)),C(de,te,x)}).catch(lc)}))}let $=Du(),B=Du(),U;function V(Q,ie,X){A(Q);const de=B.list();return de.length?de.forEach(be=>be(Q,ie,X)):console.error(Q),Promise.reject(Q)}function D(){return U&&l.value!==Us?Promise.resolve():new Promise((Q,ie)=>{$.add([Q,ie])})}function A(Q){return U||(U=!Q,G(),$.list().forEach(([ie,X])=>Q?X(Q):ie()),$.reset()),Q}function H(Q,ie,X,de){const{scrollBehavior:be}=t;if(!el||!be)return Promise.resolve();const te=!X&&bV(yT(Q.fullPath,0))||(de||!X)&&history.state&&history.state.scroll||null;return Wn().then(()=>be(Q,ie,te)).then(x=>x&&yV(x)).catch(x=>V(x,Q,ie))}const z=Q=>i.go(Q);let ne;const fe=new Set,Z={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:w,resolve:R,options:t,push:y,replace:M,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:B.add,isReady:D,install(Q){const ie=this;Q.component("RouterLink",qV),Q.component("RouterView",GC),Q.config.globalProperties.$router=ie,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>Y(l)}),el&&!ne&&l.value===Us&&(ne=!0,y(i.location).catch(be=>{}));const X={};for(const be in Us)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});Q.provide(Lp,ie),Q.provide(y_,_A(X)),Q.provide(Ov,l);const de=Q.unmount;fe.add(Q),Q.unmount=function(){fe.delete(Q),fe.size<1&&(u=Us,k&&k(),k=null,l.value=Us,ne=!1,U=!1),de()}}};function W(Q){return Q.reduce((ie,X)=>ie.then(()=>b(X)),Promise.resolve())}return Z}function QV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ll(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ll(u,l))||i.push(l))}return[n,r,i]}function Sre(){return Rr(Lp)}function Are(t){return Rr(y_)}const XV=Yt({__name:"App",setup(t){return(e,n)=>(q(),ee(Me,null,[Je(Y(GC)),Je(K2)],64))}});var xT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw ou(e)},ou=function(t){return new Error("Firebase Database ("+YC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new ZV;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XC=function(t){const e=QC(t);return Vp.encodeByteArray(e,!0)},Rf=function(t){return XC(t).replace(/\./g,"")},Df=function(t){try{return Vp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){return JC(void 0,t)}function JC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tF(n)||(t[n]=JC(t[n],e[n]));return t}function tF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=()=>ZC().__FIREBASE_DEFAULTS__,rF=()=>{if(typeof process>"u"||typeof xT>"u")return;const t=xT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Df(t[1]);return e&&JSON.parse(e)},Fp=()=>{try{return nF()||rF()||iF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sF=t=>{var e,n;return(n=(e=Fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eO=t=>{const e=sF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tO=()=>{var t;return(t=Fp())===null||t===void 0?void 0:t.config},oF=t=>{var e;return(e=Fp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function __(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wr())}function aF(){var t;const e=(t=Fp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uF(){const t=wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sO(){return YC.NODE_ADMIN===!0}function cF(){return!aF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $p(){try{return typeof indexedDB=="object"}catch{return!1}}function oO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function dF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hF,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ni(i,a,r)}}function fF(t,e){return t.replace(pF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){return JSON.parse(t)}function Qn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Uc(Df(s[0])||""),n=Uc(Df(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},mF=function(t){const e=aO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gF=function(t){const e=aO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Pv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(NT(s)&&NT(o)){if(!Bc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function NT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function yF(t,e){const n=new _F(t,e);return n.subscribe.bind(n)}class _F{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ag),i.error===void 0&&(i.error=ag),i.complete===void 0&&(i.complete=ag);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ag(){}function wF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Up=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=1e3,SF=2,AF=4*60*60*1e3,CF=.5;function kv(t,e=IF,n=SF){const r=e*Math.pow(n,t),i=Math.round(CF*r*(Math.random()-.5)*2);return Math.min(AF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ua;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kF(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PF(t){return t===Uo?void 0:t}function kF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const DF={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},xF=ft.INFO,NF={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},MF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lu{constructor(e){this.name=e,this._logLevel=xF,this._logHandler=MF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const LF=(t,e)=>e.some(n=>t instanceof n);let MT,LT;function VF(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FF(){return LT||(LT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lO=new WeakMap,Rv=new WeakMap,uO=new WeakMap,lg=new WeakMap,b_=new WeakMap;function $F(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lO.set(n,t)}).catch(()=>{}),b_.set(e,t),e}function UF(t){if(Rv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rv.set(t,e)}let Dv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BF(t){Dv=t(Dv)}function jF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ug(this),e,...n);return uO.set(r,e.sort?e.sort():[e]),oo(r)}:FF().includes(t)?function(...e){return t.apply(ug(this),e),oo(lO.get(this))}:function(...e){return oo(t.apply(ug(this),e))}}function HF(t){return typeof t=="function"?jF(t):(t instanceof IDBTransaction&&UF(t),LF(t,VF())?new Proxy(t,Dv):t)}function oo(t){if(t instanceof IDBRequest)return $F(t);if(lg.has(t))return lg.get(t);const e=HF(t);return e!==t&&(lg.set(t,e),b_.set(e,t)),e}const ug=t=>b_.get(t);function cO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(oo(o.result),l.oldVersion,l.newVersion,oo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const WF=["get","getKey","getAll","getAllKeys","count"],qF=["put","add","delete","clear"],cg=new Map;function VT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cg.set(e,s),s}BF(t=>({...t,get:(e,n,r)=>VT(e,n)||t.get(e,n,r),has:(e,n)=>!!VT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xv="@firebase/app",FT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new lu("@firebase/app"),GF="@firebase/app-compat",YF="@firebase/analytics-compat",QF="@firebase/analytics",XF="@firebase/app-check-compat",JF="@firebase/app-check",ZF="@firebase/auth",e$="@firebase/auth-compat",t$="@firebase/database",n$="@firebase/data-connect",r$="@firebase/database-compat",i$="@firebase/functions",s$="@firebase/functions-compat",o$="@firebase/installations",a$="@firebase/installations-compat",l$="@firebase/messaging",u$="@firebase/messaging-compat",c$="@firebase/performance",d$="@firebase/performance-compat",h$="@firebase/remote-config",f$="@firebase/remote-config-compat",p$="@firebase/storage",m$="@firebase/storage-compat",g$="@firebase/firestore",v$="@firebase/vertexai-preview",y$="@firebase/firestore-compat",_$="firebase",b$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="[DEFAULT]",w$={[xv]:"fire-core",[GF]:"fire-core-compat",[QF]:"fire-analytics",[YF]:"fire-analytics-compat",[JF]:"fire-app-check",[XF]:"fire-app-check-compat",[ZF]:"fire-auth",[e$]:"fire-auth-compat",[t$]:"fire-rtdb",[n$]:"fire-data-connect",[r$]:"fire-rtdb-compat",[i$]:"fire-fn",[s$]:"fire-fn-compat",[o$]:"fire-iid",[a$]:"fire-iid-compat",[l$]:"fire-fcm",[u$]:"fire-fcm-compat",[c$]:"fire-perf",[d$]:"fire-perf-compat",[h$]:"fire-rc",[f$]:"fire-rc-compat",[p$]:"fire-gcs",[m$]:"fire-gcs-compat",[g$]:"fire-fst",[y$]:"fire-fst-compat",[v$]:"fire-vertex","fire-js":"fire-js",[_$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,T$=new Map,Mv=new Map;function $T(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hr(t){const e=t.name;if(Mv.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;Mv.set(e,t);for(const n of Nf.values())$T(n,t);for(const n of T$.values())$T(n,t);return!0}function Ns(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new Po("app","Firebase",E$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=b$;function dO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ao.create("bad-app-name",{appName:String(i)});if(n||(n=tO()),!n)throw ao.create("no-options");const s=Nf.get(i);if(s){if(Bc(n,s.options)&&Bc(r,s.config))return s;throw ao.create("duplicate-app",{appName:i})}const o=new RF(i);for(const l of Mv.values())o.addComponent(l);const a=new I$(n,r,o);return Nf.set(i,a),a}function Cd(t=Nv){const e=Nf.get(t);if(!e&&t===Nv&&tO())return dO();if(!e)throw ao.create("no-app",{appName:t});return e}function nr(t,e,n){var r;let i=(r=w$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(a.join(" "));return}Hr(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="firebase-heartbeat-database",A$=1,jc="firebase-heartbeat-store";let dg=null;function hO(){return dg||(dg=cO(S$,A$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),dg}async function C$(t){try{const n=(await hO()).transaction(jc),r=await n.objectStore(jc).get(fO(t));return await n.done,r}catch(e){if(e instanceof ni)As.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});As.warn(n.message)}}}async function UT(t,e){try{const r=(await hO()).transaction(jc,"readwrite");await r.objectStore(jc).put(e,fO(t)),await r.done}catch(n){if(n instanceof ni)As.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});As.warn(r.message)}}}function fO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=1024,P$=30*24*60*60*1e3;class k${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=P$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){As.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BT(),{heartbeatsToSend:r,unsentEntries:i}=R$(this._heartbeatsCache.heartbeats),s=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return As.warn(n),""}}}function BT(){return new Date().toISOString().substring(0,10)}function R$(t,e=O$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $p()?oO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return UT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return UT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jT(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){Hr(new xr("platform-logger",e=>new zF(e),"PRIVATE")),Hr(new xr("heartbeat",e=>new k$(e),"PRIVATE")),nr(xv,FT,t),nr(xv,FT,"esm2017"),nr("fire-js","")}x$("");const pO="@firebase/installations",w_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1e4,gO=`w:${w_}`,vO="FIS_v2",N$="https://firebaseinstallations.googleapis.com/v1",M$=60*60*1e3,L$="installations",V$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new Po(L$,V$,F$);function yO(t){return t instanceof ni&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O({projectId:t}){return`${N$}/projects/${t}/installations`}function bO(t){return{token:t.token,requestStatus:2,expiresIn:U$(t.expiresIn),creationTime:Date.now()}}async function wO(t,e){const r=(await e.json()).error;return ca.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function TO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $$(t,{refreshToken:e}){const n=TO(t);return n.append("Authorization",B$(e)),n}async function EO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function U$(t){return Number(t.replace("s","000"))}function B$(t){return`${vO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_O(t),i=TO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:vO,appId:t.appId,sdkVersion:gO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await EO(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:bO(u.authToken)}}else throw await wO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=/^[cdef][\w-]{21}$/,Lv="";function q$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=z$(t);return W$.test(n)?n:Lv}catch{return Lv}}function z$(t){return H$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Map;function AO(t,e){const n=Bp(t);CO(n,e),K$(n,e)}function CO(t,e){const n=SO.get(t);if(n)for(const r of n)r(e)}function K$(t,e){const n=G$();n&&n.postMessage({key:t,fid:e}),Y$()}let zo=null;function G$(){return!zo&&"BroadcastChannel"in self&&(zo=new BroadcastChannel("[Firebase] FID Change"),zo.onmessage=t=>{CO(t.data.key,t.data.fid)}),zo}function Y$(){SO.size===0&&zo&&(zo.close(),zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$="firebase-installations-database",X$=1,da="firebase-installations-store";let hg=null;function T_(){return hg||(hg=cO(Q$,X$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(da)}}})),hg}async function Mf(t,e){const n=Bp(t),i=(await T_()).transaction(da,"readwrite"),s=i.objectStore(da),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&AO(t,e.fid),e}async function OO(t){const e=Bp(t),r=(await T_()).transaction(da,"readwrite");await r.objectStore(da).delete(e),await r.done}async function jp(t,e){const n=Bp(t),i=(await T_()).transaction(da,"readwrite"),s=i.objectStore(da),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&AO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E_(t){let e;const n=await jp(t.appConfig,r=>{const i=J$(r),s=Z$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Lv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function J$(t){const e=t||{fid:q$(),registrationStatus:0};return PO(e)}function Z$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=e3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:t3(t)}:{installationEntry:e}}async function e3(t,e){try{const n=await j$(t,e);return Mf(t.appConfig,n)}catch(n){throw yO(n)&&n.customData.serverCode===409?await OO(t.appConfig):await Mf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function t3(t){let e=await HT(t.appConfig);for(;e.registrationStatus===1;)await IO(100),e=await HT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await E_(t);return r||n}return e}function HT(t){return jp(t,e=>{if(!e)throw ca.create("installation-not-found");return PO(e)})}function PO(t){return n3(t)?{fid:t.fid,registrationStatus:0}:t}function n3(t){return t.registrationStatus===1&&t.registrationTime+mO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3({appConfig:t,heartbeatServiceProvider:e},n){const r=i3(t,n),i=$$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:gO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await EO(()=>fetch(r,a));if(l.ok){const u=await l.json();return bO(u)}else throw await wO("Generate Auth Token",l)}function i3(t,{fid:e}){return`${_O(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I_(t,e=!1){let n;const r=await jp(t.appConfig,s=>{if(!kO(s))throw ca.create("not-registered");const o=s.authToken;if(!e&&a3(o))return s;if(o.requestStatus===1)return n=s3(t,e),s;{if(!navigator.onLine)throw ca.create("app-offline");const a=u3(s);return n=o3(t,a),a}});return n?await n:r.authToken}async function s3(t,e){let n=await WT(t.appConfig);for(;n.authToken.requestStatus===1;)await IO(100),n=await WT(t.appConfig);const r=n.authToken;return r.requestStatus===0?I_(t,e):r}function WT(t){return jp(t,e=>{if(!kO(e))throw ca.create("not-registered");const n=e.authToken;return c3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function o3(t,e){try{const n=await r3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Mf(t.appConfig,r),n}catch(n){if(yO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mf(t.appConfig,r)}throw n}}function kO(t){return t!==void 0&&t.registrationStatus===2}function a3(t){return t.requestStatus===2&&!l3(t)}function l3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+M$}function u3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function c3(t){return t.requestStatus===1&&t.requestTime+mO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t){const e=t,{installationEntry:n,registrationPromise:r}=await E_(e);return r?r.catch(console.error):I_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e=!1){const n=t;return await f3(n),(await I_(n,e)).token}async function f3(t){const{registrationPromise:e}=await E_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){if(!t||!t.options)throw fg("App Configuration");if(!t.name)throw fg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fg(t){return ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="installations",m3="installations-internal",g3=t=>{const e=t.getProvider("app").getImmediate(),n=p3(e),r=Ns(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},v3=t=>{const e=t.getProvider("app").getImmediate(),n=Ns(e,RO).getImmediate();return{getId:()=>d3(n),getToken:i=>h3(n,i)}};function y3(){Hr(new xr(RO,g3,"PUBLIC")),Hr(new xr(m3,v3,"PRIVATE"))}y3();nr(pO,w_);nr(pO,w_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="analytics",_3="firebase_id",b3="origin",w3=60*1e3,T3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new lu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zr=new Po("analytics","Analytics",E3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){if(!t.startsWith(S_)){const e=Zr.create("invalid-gtag-resource",{gtagURL:t});return Br.warn(e.message),""}return t}function DO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function S3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function A3(t,e){const n=S3("firebase-js-sdk-policy",{createScriptURL:I3}),r=document.createElement("script"),i=`${S_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function C3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function O3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await DO(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Br.error(a)}t("config",i,s)}async function P3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await DO(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Br.error(s)}}function k3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await P3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await O3(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Br.error(a)}}return i}function R3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=k3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function D3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(S_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=30,N3=1e3;class M3{constructor(e={},n=N3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xO=new M3;function L3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function V3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:L3(r)},s=T3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function F3(t,e=xO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Zr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Zr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new B3;return setTimeout(async()=>{a.abort()},n!==void 0?n:w3),NO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function NO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xO){var s;const{appId:o,measurementId:a}=t;try{await $3(r,e)}catch(l){if(a)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await V3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!U3(u)){if(i.deleteThrottleMetadata(o),a)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?kv(n,i.intervalMillis,x3):kv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Br.debug(`Calling attemptFetch again in ${c} millis`),NO(t,h,r,i)}}function $3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function U3(t){if(!(t instanceof ni)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class B3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function j3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(){if($p())try{await oO()}catch(t){return Br.warn(Zr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Br.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function W3(t,e,n,r,i,s,o){var a;const l=F3(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Br.error(p)),e.push(l);const u=H3().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);D3(s)||A3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[b3]="firebase",f.update=!0,h!=null&&(f[_3]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.app=e}_delete(){return delete cc[this.app.options.appId],Promise.resolve()}}let cc={},qT=[];const zT={};let pg="dataLayer",z3="gtag",KT,MO,GT=!1;function K3(){const t=[];if(rO()&&t.push("This is a browser extension environment."),dF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zr.create("invalid-analytics-context",{errorInfo:e});Br.warn(n.message)}}function G3(t,e,n){K3();const r=t.options.appId;if(!r)throw Zr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zr.create("no-api-key");if(cc[r]!=null)throw Zr.create("already-exists",{id:r});if(!GT){C3(pg);const{wrappedGtag:s,gtagCore:o}=R3(cc,qT,zT,pg,z3);MO=s,KT=o,GT=!0}return cc[r]=W3(t,qT,zT,e,KT,pg,n),new q3(t)}function LO(t=Cd()){t=Dt(t);const e=Ns(t,Lf);return e.isInitialized()?e.getImmediate():Y3(t)}function Y3(t,e={}){const n=Ns(t,Lf);if(n.isInitialized()){const i=n.getImmediate();if(Bc(e,n.getOptions()))return i;throw Zr.create("already-initialized")}return n.initialize({options:e})}function VO(t,e,n,r){t=Dt(t),j3(MO,cc[t.app.options.appId],e,n,r).catch(i=>Br.error(i))}const YT="@firebase/analytics",QT="0.10.8";function Q3(){Hr(new xr(Lf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return G3(r,i,n)},"PUBLIC")),Hr(new xr("analytics-internal",t,"PRIVATE")),nr(YT,QT),nr(YT,QT,"esm2017");function t(e){try{const n=e.getProvider(Lf).getImmediate();return{logEvent:(r,i,s)=>VO(n,r,i,s)}}catch(n){throw Zr.create("interop-component-reg-failed",{reason:n})}}}Q3();var X3="firebase",J3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(X3,J3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map,FO={activated:!1,tokenObservers:[]},Z3={initialized:!1,enabled:!1};function Vn(t){return Vv.get(t)||Object.assign({},FO)}function eU(t,e){return Vv.set(t,e),Vv.get(t)}function Hp(){return Z3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="https://content-firebaseappcheck.googleapis.com/v1",tU="exchangeRecaptchaV3Token",nU="exchangeDebugToken",XT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},rU=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ua,this.pending.promise.catch(n=>{}),await sU(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ua,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function sU(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$r=new Po("appCheck","AppCheck",oU);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function A_(t){if(!Vn(t).activated)throw $r.create("use-before-activation",{appName:t.name})}function UO(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Ih(n)+"d:"),r&&(o+=Ih(r)+"h:"),o+=Ih(i)+"m:"+Ih(s)+"s",o}function Ih(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw $r.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw $r.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw $r.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw $r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function aU(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$O}/projects/${n}/apps/${r}:${tU}?key=${i}`,body:{recaptcha_v3_token:e}}}function BO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$O}/projects/${n}/apps/${r}:${nU}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="firebase-app-check-database",uU=1,Hc="firebase-app-check-store",jO="debug-token";let Sh=null;function HO(){return Sh||(Sh=new Promise((t,e)=>{try{const n=indexedDB.open(lU,uU);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($r.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Hc,{keyPath:"compositeKey"})}}}catch(n){e($r.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Sh)}function cU(t){return qO(zO(t))}function dU(t,e){return WO(zO(t),e)}function hU(t){return WO(jO,t)}function fU(){return qO(jO)}async function WO(t,e){const r=(await HO()).transaction(Hc,"readwrite"),s=r.objectStore(Hc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a($r.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function qO(t){const n=(await HO()).transaction(Hc,"readonly"),i=n.objectStore(Hc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o($r.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function zO(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new lu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t){if($p()){let e;try{e=await cU(t)}catch(n){Wc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function mg(t,e){return $p()?dU(t,e).catch(n=>{Wc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function mU(){let t;try{t=await fU()}catch{}if(t)return t;{const e=EF();return hU(e).catch(n=>Wc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){return Hp().enabled}async function P_(){const t=Hp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function gU(){const t=ZC(),e=Hp();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new ua;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(mU())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU={error:"UNKNOWN_ERROR"};function yU(t){return Vp.encodeString(JSON.stringify(t),!1)}async function Fv(t,e=!1){const n=t.app;A_(n);const r=Vn(n);let i=r.token,s;if(i&&!al(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(al(l)?i=l:await mg(n,void 0))}if(!e&&i&&al(i))return{token:i.token};let o=!1;if(O_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=C_(BO(n,await P_()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await mg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Vn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Wc.warn(l.message):Wc.error(l),s=l}let a;return i?s?al(i)?a={token:i.token,internalError:s}:a=e1(s):(a={token:i.token},r.token=i,await mg(n,i)):a=e1(s),o&&YO(n,a),a}async function _U(t){const e=t.app;A_(e);const{provider:n}=Vn(e);if(O_()){const r=await P_(),{token:i}=await C_(BO(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function KO(t,e,n,r){const{app:i}=t,s=Vn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&al(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),ZT(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ZT(t))}function GO(t,e){const n=Vn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function ZT(t){const{app:e}=t,n=Vn(e);let r=n.tokenRefresher;r||(r=bU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function bU(t){const{app:e}=t;return new iU(async()=>{const n=Vn(e);let r;if(n.token?r=await Fv(t,!0):r=await Fv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Vn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},XT.RETRIAL_MIN_WAIT,XT.RETRIAL_MAX_WAIT)}function YO(t,e){const n=Vn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function al(t){return t.expireTimeMillis-Date.now()>0}function e1(t){return{token:yU(vU),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Vn(this.app);for(const n of e)GO(this.app,n.next);return Promise.resolve()}}function TU(t,e){return new wU(t,e)}function EU(t){return{getToken:e=>Fv(t,e),getLimitedUseToken:()=>_U(t),addTokenListener:e=>KO(t,"INTERNAL",e),removeTokenListener:e=>GO(t.app,e)}}const IU="@firebase/app-check",SU="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="https://www.google.com/recaptcha/api.js";function CU(t,e){const n=new ua,r=Vn(t);r.reCAPTCHAState={initialized:n};const i=OU(t),s=JT(!1);return s?t1(t,e,s,i,n):RU(()=>{const o=JT(!1);if(!o)throw new Error("no recaptcha");t1(t,e,o,i,n)}),n.promise}function t1(t,e,n,r,i){n.ready(()=>{kU(t,e,n,r),i.resolve(n)})}function OU(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function PU(t){A_(t);const n=await Vn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Vn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function kU(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Vn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Vn(t).reCAPTCHAState.succeeded=!1}}),s=Vn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function RU(t){const e=document.createElement("script");e.src=AU,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;xU(this._throttleData);const i=await PU(this._app).catch(o=>{throw $r.create("recaptcha-error")});if(!(!((e=Vn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw $r.create("recaptcha-error");let s;try{s=await C_(aU(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=DU(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),$r.create("throttled",{time:UO(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Ns(e,"heartbeat"),CU(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof k_?this._siteKey===e._siteKey:!1}}function DU(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+rU,httpStatus:t};{const n=e?e.backoffCount:0,r=kv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function xU(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw $r.create("throttled",{time:UO(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t=Cd(),e){t=Dt(t);const n=Ns(t,"app-check");if(Hp().initialized||gU(),O_()&&P_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw $r.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return MU(t,e.provider,e.isTokenAutoRefreshEnabled),Vn(t).isTokenAutoRefreshEnabled&&KO(r,"INTERNAL",()=>{}),r}function MU(t,e,n){const r=eU(t,Object.assign({},FO));r.activated=!0,r.provider=e,r.cachedTokenPromise=pU(t).then(i=>(i&&al(i)&&(r.token=i,YO(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const LU="app-check",n1="app-check-internal";function VU(){Hr(new xr(LU,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return TU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(n1).initialize()})),Hr(new xr(n1,t=>{const e=t.getProvider("app-check").getImmediate();return EU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),nr(IU,SU)}VU();var fn=(t=>(t.CONTENT="content",t.PROJECTS="projects",t.MENU_ITEMS="menuItems",t.MENU_ITEMS_PRIVATE="menuItemsPrivate",t.BLOG_POSTS="blogPosts",t.BLOG_POSTS_PRIVATE="blogPostsPrivate",t.BLOG_REACTIONS="blogReactions",t.BLOG_REACTIONS_PRIVATE="blogReactionsPrivate",t.PETS="pets",t.USERS="users",t.USERS_PUBLIC="usersPublic",t.USERS_ONLINE="usersOnline",t.FILES="files",t.GAME_DATA="gameData",t.HIGHSCORES="highscores",t.SCORES="scores",t.ONLINE_GAMES="onlineGames",t))(fn||{});const FU={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},$U=t=>{NU(t,{provider:new k_("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},UU=()=>{const t=dO(FU);return $U(t),LO(t),t},BU=UU();var jU=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let QO;const Wp=t=>QO=t,XO=Symbol();function $v(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var dc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(dc||(dc={}));function HU(){const t=Yy(!0),e=t.run(()=>ce({}));let n=[],r=[];const i=n_({install(s){Wp(i),i._a=s,s.provide(XO,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!jU?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const JO=()=>{};function r1(t,e,n,r=JO){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Qy()&&rA(i),i}function za(t,...e){t.slice().forEach(n=>{n(...e)})}const WU=t=>t(),i1=Symbol(),gg=Symbol();function Uv(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];$v(i)&&$v(r)&&t.hasOwnProperty(n)&&!ln(r)&&!Qi(r)?t[n]=Uv(i,r):t[n]=r}return t}const qU=Symbol();function zU(t){return!$v(t)||!t.hasOwnProperty(qU)}const{assign:zs}=Object;function KU(t){return!!(ln(t)&&t.effect)}function GU(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=RM(n.state.value[t]);return zs(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=n_(le(()=>{Wp(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=ZO(t,u,e,n,r,!0),l}function ZO(t,e,n={},r,i,s){let o;const a=zs({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),ce({});let w;function E(I){let b;u=c=!1,typeof I=="function"?(I(r.state.value[t]),b={type:dc.patchFunction,storeId:t,events:p}):(Uv(r.state.value[t],I),b={type:dc.patchObject,payload:I,storeId:t,events:p});const v=w=Symbol();Wn().then(()=>{w===v&&(u=!0)}),c=!0,za(h,b,r.state.value[t])}const R=s?function(){const{state:b}=n,v=b?b():{};this.$patch(C=>{zs(C,v)})}:JO;function P(){o.stop(),h=[],f=[],r._s.delete(t)}const T=(I,b="")=>{if(i1 in I)return I[gg]=b,I;const v=function(){Wp(r);const C=Array.from(arguments),O=[],k=[];function G(U){O.push(U)}function $(U){k.push(U)}za(f,{args:C,name:v[gg],store:M,after:G,onError:$});let B;try{B=I.apply(this&&this.$id===t?this:M,C)}catch(U){throw za(k,U),U}return B instanceof Promise?B.then(U=>(za(O,U),U)).catch(U=>(za(k,U),Promise.reject(U))):(za(O,B),B)};return v[i1]=!0,v[gg]=b,v},y={_p:r,$id:t,$onAction:r1.bind(null,f),$patch:E,$reset:R,$subscribe(I,b={}){const v=r1(h,I,b.detached,()=>C()),C=o.run(()=>Sn(()=>r.state.value[t],O=>{(b.flush==="sync"?c:u)&&I({storeId:t,type:dc.direct,events:p},O)},zs({},l,b)));return v},$dispose:P},M=Dr(y);r._s.set(t,M);const S=(r._a&&r._a.runWithContext||WU)(()=>r._e.run(()=>(o=Yy()).run(()=>e({action:T}))));for(const I in S){const b=S[I];if(ln(b)&&!KU(b)||Qi(b))s||(g&&zU(b)&&(ln(b)?b.value=g[I]:Uv(b,g[I])),r.state.value[t][I]=b);else if(typeof b=="function"){const v=T(b,I);S[I]=v,a.actions[I]=b}}return zs(M,S),zs(mt(M),S),Object.defineProperty(M,"$state",{get:()=>r.state.value[t],set:I=>{E(b=>{zs(b,I)})}}),r._p.forEach(I=>{zs(M,o.run(()=>I({store:M,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(M.$state,g),u=!0,c=!0,M}/*! #__NO_SIDE_EFFECTS__ */function Oa(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=yL();return a=a||(u?Rr(XO,null):null),a&&Wp(a),a=QO,a._s.has(r)||(s?ZO(r,e,i,a):GU(r,i,a)),a._s.get(r)}return o.$id=r,o}function bo(t){{const e=mt(t),n={};for(const r in e){const i=e[r];i.effect?n[r]=le({get:()=>t[r],set(s){t[r]=s}}):(ln(i)||Qi(i))&&(n[r]=kc(t,r))}return n}}const s1=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var YU=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),s1(l,e))}),e.$subscribe(()=>{a.forEach(l=>{s1(l,e)})})}};const eP=HU();eP.use(YU);const QU="modulepreload",XU=function(t,e){return new URL(t,e).href},o1={},Fn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=XU(o,r),o in o1)return;o1[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":QU,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var a1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,tP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function b(){}b.prototype=I.prototype,S.D=I.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(v,C,O){for(var k=Array(arguments.length-2),G=2;G<arguments.length;G++)k[G-2]=arguments[G];return I.prototype[C].apply(v,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,b){b||(b=0);var v=Array(16);if(typeof I=="string")for(var C=0;16>C;++C)v[C]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(C=0;16>C;++C)v[C]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=S.g[0],b=S.g[1],C=S.g[2];var O=S.g[3],k=I+(O^b&(C^O))+v[0]+3614090360&4294967295;I=b+(k<<7&4294967295|k>>>25),k=O+(C^I&(b^C))+v[1]+3905402710&4294967295,O=I+(k<<12&4294967295|k>>>20),k=C+(b^O&(I^b))+v[2]+606105819&4294967295,C=O+(k<<17&4294967295|k>>>15),k=b+(I^C&(O^I))+v[3]+3250441966&4294967295,b=C+(k<<22&4294967295|k>>>10),k=I+(O^b&(C^O))+v[4]+4118548399&4294967295,I=b+(k<<7&4294967295|k>>>25),k=O+(C^I&(b^C))+v[5]+1200080426&4294967295,O=I+(k<<12&4294967295|k>>>20),k=C+(b^O&(I^b))+v[6]+2821735955&4294967295,C=O+(k<<17&4294967295|k>>>15),k=b+(I^C&(O^I))+v[7]+4249261313&4294967295,b=C+(k<<22&4294967295|k>>>10),k=I+(O^b&(C^O))+v[8]+1770035416&4294967295,I=b+(k<<7&4294967295|k>>>25),k=O+(C^I&(b^C))+v[9]+2336552879&4294967295,O=I+(k<<12&4294967295|k>>>20),k=C+(b^O&(I^b))+v[10]+4294925233&4294967295,C=O+(k<<17&4294967295|k>>>15),k=b+(I^C&(O^I))+v[11]+2304563134&4294967295,b=C+(k<<22&4294967295|k>>>10),k=I+(O^b&(C^O))+v[12]+1804603682&4294967295,I=b+(k<<7&4294967295|k>>>25),k=O+(C^I&(b^C))+v[13]+4254626195&4294967295,O=I+(k<<12&4294967295|k>>>20),k=C+(b^O&(I^b))+v[14]+2792965006&4294967295,C=O+(k<<17&4294967295|k>>>15),k=b+(I^C&(O^I))+v[15]+1236535329&4294967295,b=C+(k<<22&4294967295|k>>>10),k=I+(C^O&(b^C))+v[1]+4129170786&4294967295,I=b+(k<<5&4294967295|k>>>27),k=O+(b^C&(I^b))+v[6]+3225465664&4294967295,O=I+(k<<9&4294967295|k>>>23),k=C+(I^b&(O^I))+v[11]+643717713&4294967295,C=O+(k<<14&4294967295|k>>>18),k=b+(O^I&(C^O))+v[0]+3921069994&4294967295,b=C+(k<<20&4294967295|k>>>12),k=I+(C^O&(b^C))+v[5]+3593408605&4294967295,I=b+(k<<5&4294967295|k>>>27),k=O+(b^C&(I^b))+v[10]+38016083&4294967295,O=I+(k<<9&4294967295|k>>>23),k=C+(I^b&(O^I))+v[15]+3634488961&4294967295,C=O+(k<<14&4294967295|k>>>18),k=b+(O^I&(C^O))+v[4]+3889429448&4294967295,b=C+(k<<20&4294967295|k>>>12),k=I+(C^O&(b^C))+v[9]+568446438&4294967295,I=b+(k<<5&4294967295|k>>>27),k=O+(b^C&(I^b))+v[14]+3275163606&4294967295,O=I+(k<<9&4294967295|k>>>23),k=C+(I^b&(O^I))+v[3]+4107603335&4294967295,C=O+(k<<14&4294967295|k>>>18),k=b+(O^I&(C^O))+v[8]+1163531501&4294967295,b=C+(k<<20&4294967295|k>>>12),k=I+(C^O&(b^C))+v[13]+2850285829&4294967295,I=b+(k<<5&4294967295|k>>>27),k=O+(b^C&(I^b))+v[2]+4243563512&4294967295,O=I+(k<<9&4294967295|k>>>23),k=C+(I^b&(O^I))+v[7]+1735328473&4294967295,C=O+(k<<14&4294967295|k>>>18),k=b+(O^I&(C^O))+v[12]+2368359562&4294967295,b=C+(k<<20&4294967295|k>>>12),k=I+(b^C^O)+v[5]+4294588738&4294967295,I=b+(k<<4&4294967295|k>>>28),k=O+(I^b^C)+v[8]+2272392833&4294967295,O=I+(k<<11&4294967295|k>>>21),k=C+(O^I^b)+v[11]+1839030562&4294967295,C=O+(k<<16&4294967295|k>>>16),k=b+(C^O^I)+v[14]+4259657740&4294967295,b=C+(k<<23&4294967295|k>>>9),k=I+(b^C^O)+v[1]+2763975236&4294967295,I=b+(k<<4&4294967295|k>>>28),k=O+(I^b^C)+v[4]+1272893353&4294967295,O=I+(k<<11&4294967295|k>>>21),k=C+(O^I^b)+v[7]+4139469664&4294967295,C=O+(k<<16&4294967295|k>>>16),k=b+(C^O^I)+v[10]+3200236656&4294967295,b=C+(k<<23&4294967295|k>>>9),k=I+(b^C^O)+v[13]+681279174&4294967295,I=b+(k<<4&4294967295|k>>>28),k=O+(I^b^C)+v[0]+3936430074&4294967295,O=I+(k<<11&4294967295|k>>>21),k=C+(O^I^b)+v[3]+3572445317&4294967295,C=O+(k<<16&4294967295|k>>>16),k=b+(C^O^I)+v[6]+76029189&4294967295,b=C+(k<<23&4294967295|k>>>9),k=I+(b^C^O)+v[9]+3654602809&4294967295,I=b+(k<<4&4294967295|k>>>28),k=O+(I^b^C)+v[12]+3873151461&4294967295,O=I+(k<<11&4294967295|k>>>21),k=C+(O^I^b)+v[15]+530742520&4294967295,C=O+(k<<16&4294967295|k>>>16),k=b+(C^O^I)+v[2]+3299628645&4294967295,b=C+(k<<23&4294967295|k>>>9),k=I+(C^(b|~O))+v[0]+4096336452&4294967295,I=b+(k<<6&4294967295|k>>>26),k=O+(b^(I|~C))+v[7]+1126891415&4294967295,O=I+(k<<10&4294967295|k>>>22),k=C+(I^(O|~b))+v[14]+2878612391&4294967295,C=O+(k<<15&4294967295|k>>>17),k=b+(O^(C|~I))+v[5]+4237533241&4294967295,b=C+(k<<21&4294967295|k>>>11),k=I+(C^(b|~O))+v[12]+1700485571&4294967295,I=b+(k<<6&4294967295|k>>>26),k=O+(b^(I|~C))+v[3]+2399980690&4294967295,O=I+(k<<10&4294967295|k>>>22),k=C+(I^(O|~b))+v[10]+4293915773&4294967295,C=O+(k<<15&4294967295|k>>>17),k=b+(O^(C|~I))+v[1]+2240044497&4294967295,b=C+(k<<21&4294967295|k>>>11),k=I+(C^(b|~O))+v[8]+1873313359&4294967295,I=b+(k<<6&4294967295|k>>>26),k=O+(b^(I|~C))+v[15]+4264355552&4294967295,O=I+(k<<10&4294967295|k>>>22),k=C+(I^(O|~b))+v[6]+2734768916&4294967295,C=O+(k<<15&4294967295|k>>>17),k=b+(O^(C|~I))+v[13]+1309151649&4294967295,b=C+(k<<21&4294967295|k>>>11),k=I+(C^(b|~O))+v[4]+4149444226&4294967295,I=b+(k<<6&4294967295|k>>>26),k=O+(b^(I|~C))+v[11]+3174756917&4294967295,O=I+(k<<10&4294967295|k>>>22),k=C+(I^(O|~b))+v[2]+718787259&4294967295,C=O+(k<<15&4294967295|k>>>17),k=b+(O^(C|~I))+v[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var b=I-this.blockSize,v=this.B,C=this.h,O=0;O<I;){if(C==0)for(;O<=b;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<I;)if(v[C++]=S.charCodeAt(O++),C==this.blockSize){i(this,v),C=0;break}}else for(;O<I;)if(v[C++]=S[O++],C==this.blockSize){i(this,v),C=0;break}}this.h=C,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var b=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=b&255,b/=256;for(this.u(S),S=Array(16),I=b=0;4>I;++I)for(var v=0;32>v;v+=8)S[b++]=this.g[I]>>>v&255;return S};function s(S,I){var b=a;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=I(S)}function o(S,I){this.h=I;for(var b=[],v=!0,C=S.length-1;0<=C;C--){var O=S[C]|0;v&&O==I||(b[C]=O,v=!1)}this.g=b}var a={};function l(S){return-128<=S&&128>S?s(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return E(u(-S));for(var I=[],b=1,v=0;S>=b;v++)I[v]=S/b|0,b*=4294967296;return new o(I,0)}function c(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return E(c(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(I,8)),v=h,C=0;C<S.length;C+=8){var O=Math.min(8,S.length-C),k=parseInt(S.substring(C,C+O),I);8>O?(O=u(Math.pow(I,O)),v=v.j(O).add(u(k))):(v=v.j(b),v=v.add(u(k)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var S=0,I=1,b=0;b<this.g.length;b++){var v=this.i(b);S+=(0<=v?v:4294967296+v)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(w(this))return"-"+E(this).toString(S);for(var I=u(Math.pow(S,6)),b=this,v="";;){var C=y(b,I).g;b=R(b,C.j(I));var O=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=C,g(b))return O+v;for(;6>O.length;)O="0"+O;v=O+v}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=R(this,S),w(S)?-1:g(S)?0:1};function E(S){for(var I=S.g.length,b=[],v=0;v<I;v++)b[v]=~S.g[v];return new o(b,~S.h).add(f)}t.abs=function(){return w(this)?E(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],v=0,C=0;C<=I;C++){var O=v+(this.i(C)&65535)+(S.i(C)&65535),k=(O>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);v=k>>>16,O&=65535,k&=65535,b[C]=k<<16|O}return new o(b,b[b.length-1]&-2147483648?-1:0)};function R(S,I){return S.add(E(I))}t.j=function(S){if(g(this)||g(S))return h;if(w(this))return w(S)?E(this).j(E(S)):E(E(this).j(S));if(w(S))return E(this.j(E(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var I=this.g.length+S.g.length,b=[],v=0;v<2*I;v++)b[v]=0;for(v=0;v<this.g.length;v++)for(var C=0;C<S.g.length;C++){var O=this.i(v)>>>16,k=this.i(v)&65535,G=S.i(C)>>>16,$=S.i(C)&65535;b[2*v+2*C]+=k*$,P(b,2*v+2*C),b[2*v+2*C+1]+=O*$,P(b,2*v+2*C+1),b[2*v+2*C+1]+=k*G,P(b,2*v+2*C+1),b[2*v+2*C+2]+=O*G,P(b,2*v+2*C+2)}for(v=0;v<I;v++)b[v]=b[2*v+1]<<16|b[2*v];for(v=I;v<2*I;v++)b[v]=0;return new o(b,0)};function P(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function T(S,I){this.g=S,this.h=I}function y(S,I){if(g(I))throw Error("division by zero");if(g(S))return new T(h,h);if(w(S))return I=y(E(S),I),new T(E(I.g),E(I.h));if(w(I))return I=y(S,E(I)),new T(E(I.g),I.h);if(30<S.g.length){if(w(S)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var b=f,v=I;0>=v.l(S);)b=M(b),v=M(v);var C=L(b,1),O=L(v,1);for(v=L(v,2),b=L(b,2);!g(v);){var k=O.add(v);0>=k.l(S)&&(C=C.add(b),O=k),v=L(v,1),b=L(b,1)}return I=R(S,C.j(I)),new T(C,I)}for(C=h;0<=S.l(I);){for(b=Math.max(1,Math.floor(S.m()/I.m())),v=Math.ceil(Math.log(b)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),O=u(b),k=O.j(I);w(k)||0<k.l(S);)b-=v,O=u(b),k=O.j(I);g(O)&&(O=f),C=C.add(O),S=R(S,k)}return new T(C,S)}t.A=function(S){return y(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],v=0;v<I;v++)b[v]=this.i(v)&S.i(v);return new o(b,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],v=0;v<I;v++)b[v]=this.i(v)|S.i(v);return new o(b,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],v=0;v<I;v++)b[v]=this.i(v)^S.i(v);return new o(b,this.h^S.h)};function M(S){for(var I=S.g.length+1,b=[],v=0;v<I;v++)b[v]=S.i(v)<<1|S.i(v-1)>>>31;return new o(b,S.h)}function L(S,I){var b=I>>5;I%=32;for(var v=S.g.length-b,C=[],O=0;O<v;O++)C[O]=0<I?S.i(O+b)>>>I|S.i(O+b+1)<<32-I:S.i(O+b);return new o(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ea=o}).apply(typeof a1<"u"?a1:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nP,Yu,rP,Zh,Bv,iP,sP,oP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,_){return d==Array.prototype||d==Object.prototype||(d[m]=_.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var m=0;m<d.length;++m){var _=d[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var _=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var J=d[N];if(!(J in _))break e;_=_[J]}d=d[d.length-1],N=_[d],m=m(N),m!=N&&m!=null&&e(_,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var _=0,N=!1,J={next:function(){if(!N&&_<d.length){var re=_++;return{value:m(re,d[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,_){return d.call.apply(d.bind,arguments)}function h(d,m,_){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),d.apply(m,J)}}return function(){return d.apply(m,arguments)}}function f(d,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var _=Array.prototype.slice.call(arguments,1);return function(){var N=_.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function g(d,m){function _(){}_.prototype=m.prototype,d.aa=m.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(N,J,re){for(var Ce=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)Ce[Wt-2]=arguments[Wt];return m.prototype[J].apply(N,Ce)}}function w(d){const m=d.length;if(0<m){const _=Array(m);for(let N=0;N<m;N++)_[N]=d[N];return _}return[]}function E(d,m){for(let _=1;_<arguments.length;_++){const N=arguments[_];if(l(N)){const J=d.length||0,re=N.length||0;d.length=J+re;for(let Ce=0;Ce<re;Ce++)d[J+Ce]=N[Ce]}else d.push(N)}}class R{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function y(d){return y[" "](d),d}y[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(d,m,_){for(const N in d)m.call(_,d[N],N,d)}function S(d,m){for(const _ in d)m.call(void 0,d[_],_,d)}function I(d){const m={};for(const _ in d)m[_]=d[_];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let _,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(_ in N)d[_]=N[_];for(let re=0;re<b.length;re++)_=b[re],Object.prototype.hasOwnProperty.call(N,_)&&(d[_]=N[_])}}function C(d){var m=1;d=d.split(":");const _=[];for(;0<m&&d.length;)_.push(d.shift()),m--;return d.length&&_.push(d.join(":")),_}function O(d){a.setTimeout(()=>{throw d},0)}function k(){var d=D;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class G{constructor(){this.h=this.g=null}add(m,_){const N=$.get();N.set(m,_),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new R(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let U,V=!1,D=new G,A=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(H)}};var H=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(_){O(_)}var m=$;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}V=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return d}();function Z(d,m){if(ne.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(M){e:{try{y(m.nodeName);var J=!0;break e}catch{}J=!1}J||(m=null)}}else _=="mouseover"?m=d.fromElement:_=="mouseout"&&(m=d.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:W[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}g(Z,ne);var W={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ie=0;function X(d,m,_,N,J){this.listener=d,this.proxy=null,this.src=m,this.type=_,this.capture=!!N,this.ha=J,this.key=++ie,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,m,_,N,J){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var Ce=x(d,m,N,J);return-1<Ce?(m=d[Ce],_||(m.fa=!1)):(m=new X(m,this.src,re,!!N,J),m.fa=_,d.push(m)),m};function te(d,m){var _=m.type;if(_ in d.g){var N=d.g[_],J=Array.prototype.indexOf.call(N,m,void 0),re;(re=0<=J)&&Array.prototype.splice.call(N,J,1),re&&(de(m),d.g[_].length==0&&(delete d.g[_],d.h--))}}function x(d,m,_,N){for(var J=0;J<d.length;++J){var re=d[J];if(!re.da&&re.listener==m&&re.capture==!!_&&re.ha==N)return J}return-1}var F="closure_lm_"+(1e6*Math.random()|0),j={};function oe(d,m,_,N,J){if(N&&N.once)return Se(d,m,_,N,J);if(Array.isArray(m)){for(var re=0;re<m.length;re++)oe(d,m[re],_,N,J);return null}return _=Ye(_),d&&d[Q]?d.K(m,_,u(N)?!!N.capture:!!N,J):se(d,m,_,!1,N,J)}function se(d,m,_,N,J,re){if(!m)throw Error("Invalid event type");var Ce=u(J)?!!J.capture:!!J,Wt=Ie(d);if(Wt||(d[F]=Wt=new be(d)),_=Wt.add(m,_,N,Ce,re),_.proxy)return _;if(N=me(),_.proxy=N,N.src=d,N.listener=_,d.addEventListener)fe||(J=Ce),J===void 0&&(J=!1),d.addEventListener(m.toString(),N,J);else if(d.attachEvent)d.attachEvent(ge(m.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return _}function me(){function d(_){return m.call(d.src,d.listener,_)}const m=He;return d}function Se(d,m,_,N,J){if(Array.isArray(m)){for(var re=0;re<m.length;re++)Se(d,m[re],_,N,J);return null}return _=Ye(_),d&&d[Q]?d.L(m,_,u(N)?!!N.capture:!!N,J):se(d,m,_,!0,N,J)}function Ee(d,m,_,N,J){if(Array.isArray(m))for(var re=0;re<m.length;re++)Ee(d,m[re],_,N,J);else N=u(N)?!!N.capture:!!N,_=Ye(_),d&&d[Q]?(d=d.i,m=String(m).toString(),m in d.g&&(re=d.g[m],_=x(re,_,N,J),-1<_&&(de(re[_]),Array.prototype.splice.call(re,_,1),re.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ie(d))&&(m=d.g[m.toString()],d=-1,m&&(d=x(m,_,N,J)),(_=-1<d?m[d]:null)&&Te(_))}function Te(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Q])te(m.i,d);else{var _=d.type,N=d.proxy;m.removeEventListener?m.removeEventListener(_,N,d.capture):m.detachEvent?m.detachEvent(ge(_),N):m.addListener&&m.removeListener&&m.removeListener(N),(_=Ie(m))?(te(_,d),_.h==0&&(_.src=null,m[F]=null)):de(d)}}}function ge(d){return d in j?j[d]:j[d]="on"+d}function He(d,m){if(d.da)d=!0;else{m=new Z(m,this);var _=d.listener,N=d.ha||d.src;d.fa&&Te(d),d=_.call(N,m)}return d}function Ie(d){return d=d[F],d instanceof be?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(m){return d.handleEvent(m)}),d[Fe])}function Ke(){z.call(this),this.i=new be(this),this.M=this,this.F=null}g(Ke,z),Ke.prototype[Q]=!0,Ke.prototype.removeEventListener=function(d,m,_,N){Ee(this,d,m,_,N)};function K(d,m){var _,N=d.F;if(N)for(_=[];N;N=N.F)_.push(N);if(d=d.M,N=m.type||m,typeof m=="string")m=new ne(m,d);else if(m instanceof ne)m.target=m.target||d;else{var J=m;m=new ne(N,d),v(m,J)}if(J=!0,_)for(var re=_.length-1;0<=re;re--){var Ce=m.g=_[re];J=ae(Ce,N,!0,m)&&J}if(Ce=m.g=d,J=ae(Ce,N,!0,m)&&J,J=ae(Ce,N,!1,m)&&J,_)for(re=0;re<_.length;re++)Ce=m.g=_[re],J=ae(Ce,N,!1,m)&&J}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var _=d.g[m],N=0;N<_.length;N++)de(_[N]);delete d.g[m],d.h--}}this.F=null},Ke.prototype.K=function(d,m,_,N){return this.i.add(String(d),m,!1,_,N)},Ke.prototype.L=function(d,m,_,N){return this.i.add(String(d),m,!0,_,N)};function ae(d,m,_,N){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var J=!0,re=0;re<m.length;++re){var Ce=m[re];if(Ce&&!Ce.da&&Ce.capture==_){var Wt=Ce.listener,Kn=Ce.ha||Ce.src;Ce.fa&&te(d.i,Ce),J=Wt.call(Kn,N)!==!1&&J}}return J&&!N.defaultPrevented}function Ne(d,m,_){if(typeof d=="function")_&&(d=f(d,_));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function We(d){d.g=Ne(()=>{d.g=null,d.i&&(d.i=!1,We(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class dt extends z{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(d){z.call(this),this.h=d,this.g={}}g(Nt,z);var qn=[];function Oe(d){L(d.g,function(m,_){this.g.hasOwnProperty(_)&&Te(m)},d),d.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),Oe(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=a.JSON.stringify,je=a.JSON.parse,zn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Wr(){}Wr.prototype.h=null;function $a(d){return d.h||(d.h=d.i())}function Vb(){}var vu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dm(){ne.call(this,"d")}g(Dm,ne);function xm(){ne.call(this,"c")}g(xm,ne);var xo={},Fb=null;function Jd(){return Fb=Fb||new Ke}xo.La="serverreachability";function $b(d){ne.call(this,xo.La,d)}g($b,ne);function yu(d){const m=Jd();K(m,new $b(m))}xo.STAT_EVENT="statevent";function Ub(d,m){ne.call(this,xo.STAT_EVENT,d),this.stat=m}g(Ub,ne);function Tr(d){const m=Jd();K(m,new Ub(m,d))}xo.Ma="timingevent";function Bb(d,m){ne.call(this,xo.Ma,d),this.size=m}g(Bb,ne);function _u(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function bu(){this.g=!0}bu.prototype.xa=function(){this.g=!1};function TN(d,m,_,N,J,re){d.info(function(){if(d.g)if(re)for(var Ce="",Wt=re.split("&"),Kn=0;Kn<Wt.length;Kn++){var At=Wt[Kn].split("=");if(1<At.length){var sr=At[0];At=At[1];var or=sr.split("_");Ce=2<=or.length&&or[1]=="type"?Ce+(sr+"="+At+"&"):Ce+(sr+"=redacted&")}}else Ce=null;else Ce=re;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+m+`
`+_+`
`+Ce})}function EN(d,m,_,N,J,re,Ce){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+m+`
`+_+`
`+re+" "+Ce})}function Ua(d,m,_,N){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+SN(d,_)+(N?" "+N:"")})}function IN(d,m){d.info(function(){return"TIMEOUT: "+m})}bu.prototype.info=function(){};function SN(d,m){if(!d.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var N=_[d];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var Ce=1;Ce<J.length;Ce++)J[Ce]=""}}}}return Be(_)}catch{return m}}var Zd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nm;function eh(){}g(eh,Wr),eh.prototype.g=function(){return new XMLHttpRequest},eh.prototype.i=function(){return{}},Nm=new eh;function Ls(d,m,_,N){this.j=d,this.i=m,this.l=_,this.R=N||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hb}function Hb(){this.i=null,this.g="",this.h=!1}var Wb={},Mm={};function Lm(d,m,_){d.L=1,d.v=ih(as(m)),d.m=_,d.P=!0,qb(d,null)}function qb(d,m){d.F=Date.now(),th(d),d.A=as(d.v);var _=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),sw(_.i,"t",N),d.C=0,_=d.j.J,d.h=new Hb,d.g=Ew(d.j,_?m:null,!d.m),0<d.O&&(d.M=new dt(f(d.Y,d,d.g),d.O)),m=d.U,_=d.g,N=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(qn[0]=J.toString()),J=qn);for(var re=0;re<J.length;re++){var Ce=oe(_,J[re],N||m.handleEvent,!1,m.h||m);if(!Ce)break;m.g[Ce.key]=Ce}m=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),yu(),TN(d.i,d.u,d.A,d.l,d.R,d.m)}Ls.prototype.ca=function(d){d=d.target;const m=this.M;m&&ls(d)==3?m.j():this.Y(d)},Ls.prototype.Y=function(d){try{if(d==this.g)e:{const or=ls(this.g);var m=this.g.Ba();const Ha=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||hw(this.g)))){this.J||or!=4||m==7||(m==8||0>=Ha?yu(3):yu(2)),Vm(this);var _=this.g.Z();this.X=_;t:if(zb(this)){var N=hw(this.g);d="";var J=N.length,re=ls(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){No(this),wu(this);var Ce="";break t}this.h.i=new a.TextDecoder}for(m=0;m<J;m++)this.h.h=!0,d+=this.h.i.decode(N[m],{stream:!(re&&m==J-1)});N.length=0,this.h.g+=d,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=_==200,EN(this.i,this.u,this.A,this.l,this.R,or,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,Kn=this.g;if((Wt=Kn.g?Kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Wt)){var At=Wt;break t}}At=null}if(_=At)Ua(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fm(this,_);else{this.o=!1,this.s=3,Tr(12),No(this),wu(this);break e}}if(this.P){_=!0;let vi;for(;!this.J&&this.C<Ce.length;)if(vi=AN(this,Ce),vi==Mm){or==4&&(this.s=4,Tr(14),_=!1),Ua(this.i,this.l,null,"[Incomplete Response]");break}else if(vi==Wb){this.s=4,Tr(15),Ua(this.i,this.l,Ce,"[Invalid Chunk]"),_=!1;break}else Ua(this.i,this.l,vi,null),Fm(this,vi);if(zb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||Ce.length!=0||this.h.h||(this.s=1,Tr(16),_=!1),this.o=this.o&&_,!_)Ua(this.i,this.l,Ce,"[Invalid Chunked Response]"),No(this),wu(this);else if(0<Ce.length&&!this.W){this.W=!0;var sr=this.j;sr.g==this&&sr.ba&&!sr.M&&(sr.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),Wm(sr),sr.M=!0,Tr(11))}}else Ua(this.i,this.l,Ce,null),Fm(this,Ce);or==4&&No(this),this.o&&!this.J&&(or==4?_w(this.j,this):(this.o=!1,th(this)))}else HN(this.g),_==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,Tr(12)):(this.s=0,Tr(13)),No(this),wu(this)}}}catch{}finally{}};function zb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function AN(d,m){var _=d.C,N=m.indexOf(`
`,_);return N==-1?Mm:(_=Number(m.substring(_,N)),isNaN(_)?Wb:(N+=1,N+_>m.length?Mm:(m=m.slice(N,N+_),d.C=N+_,m)))}Ls.prototype.cancel=function(){this.J=!0,No(this)};function th(d){d.S=Date.now()+d.I,Kb(d,d.I)}function Kb(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_u(f(d.ba,d),m)}function Vm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ls.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(IN(this.i,this.A),this.L!=2&&(yu(),Tr(17)),No(this),this.s=2,wu(this)):Kb(this,this.S-d)};function wu(d){d.j.G==0||d.J||_w(d.j,d)}function No(d){Vm(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Oe(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Fm(d,m){try{var _=d.j;if(_.G!=0&&(_.g==d||$m(_.h,d))){if(!d.K&&$m(_.h,d)&&_.G==3){try{var N=_.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)ch(_),lh(_);else break e;Hm(_),Tr(18)}}else _.za=J[1],0<_.za-_.T&&37500>J[2]&&_.F&&_.v==0&&!_.C&&(_.C=_u(f(_.Za,_),6e3));if(1>=Qb(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Lo(_,11)}else if((d.K||_.g==d)&&ch(_),!P(m))for(J=_.Da.g.parse(m),m=0;m<J.length;m++){let At=J[m];if(_.T=At[0],At=At[1],_.G==2)if(At[0]=="c"){_.K=At[1],_.ia=At[2];const sr=At[3];sr!=null&&(_.la=sr,_.j.info("VER="+_.la));const or=At[4];or!=null&&(_.Aa=or,_.j.info("SVER="+_.Aa));const Ha=At[5];Ha!=null&&typeof Ha=="number"&&0<Ha&&(N=1.5*Ha,_.L=N,_.j.info("backChannelRequestTimeoutMs_="+N)),N=_;const vi=d.g;if(vi){const hh=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hh){var re=N.h;re.g||hh.indexOf("spdy")==-1&&hh.indexOf("quic")==-1&&hh.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Um(re,re.h),re.h=null))}if(N.D){const qm=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;qm&&(N.ya=qm,en(N.I,N.D,qm))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),N=_;var Ce=d;if(N.qa=Tw(N,N.J?N.ia:null,N.W),Ce.K){Xb(N.h,Ce);var Wt=Ce,Kn=N.L;Kn&&(Wt.I=Kn),Wt.B&&(Vm(Wt),th(Wt)),N.g=Ce}else vw(N);0<_.i.length&&uh(_)}else At[0]!="stop"&&At[0]!="close"||Lo(_,7);else _.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Lo(_,7):jm(_):At[0]!="noop"&&_.l&&_.l.ta(At),_.v=0)}}yu(4)}catch{}}var CN=class{constructor(d,m){this.g=d,this.map=m}};function Gb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qb(d){return d.h?1:d.g?d.g.size:0}function $m(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Um(d,m){d.g?d.g.add(m):d.h=m}function Xb(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}Gb.prototype.cancel=function(){if(this.i=Jb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Jb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const _ of d.g.values())m=m.concat(_.D);return m}return w(d.i)}function ON(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],_=d.length,N=0;N<_;N++)m.push(d[N]);return m}m=[],_=0;for(N in d)m[_++]=d[N];return m}function PN(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var _=0;_<d;_++)m.push(_);return m}m=[],_=0;for(const N in d)m[_++]=N;return m}}}function Zb(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var _=PN(d),N=ON(d),J=N.length,re=0;re<J;re++)m.call(void 0,N[re],_&&_[re],d)}var ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kN(d,m){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var N=d[_].indexOf("="),J=null;if(0<=N){var re=d[_].substring(0,N);J=d[_].substring(N+1)}else re=d[_];m(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Mo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Mo){this.h=d.h,nh(this,d.j),this.o=d.o,this.g=d.g,rh(this,d.s),this.l=d.l;var m=d.i,_=new Iu;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),tw(this,_),this.m=d.m}else d&&(m=String(d).match(ew))?(this.h=!1,nh(this,m[1]||"",!0),this.o=Tu(m[2]||""),this.g=Tu(m[3]||"",!0),rh(this,m[4]),this.l=Tu(m[5]||"",!0),tw(this,m[6]||"",!0),this.m=Tu(m[7]||"")):(this.h=!1,this.i=new Iu(null,this.h))}Mo.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Eu(m,nw,!0),":");var _=this.g;return(_||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Eu(m,nw,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(Eu(_,_.charAt(0)=="/"?xN:DN,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",Eu(_,MN)),d.join("")};function as(d){return new Mo(d)}function nh(d,m,_){d.j=_?Tu(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function rh(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function tw(d,m,_){m instanceof Iu?(d.i=m,LN(d.i,d.h)):(_||(m=Eu(m,NN)),d.i=new Iu(m,d.h))}function en(d,m,_){d.i.set(m,_)}function ih(d){return en(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tu(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Eu(d,m,_){return typeof d=="string"?(d=encodeURI(d).replace(m,RN),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function RN(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var nw=/[#\/\?@]/g,DN=/[#\?:]/g,xN=/[#\?]/g,NN=/[#\?@]/g,MN=/#/g;function Iu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Vs(d){d.g||(d.g=new Map,d.h=0,d.i&&kN(d.i,function(m,_){d.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Iu.prototype,t.add=function(d,m){Vs(this),this.i=null,d=Ba(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(m),this.h+=1,this};function rw(d,m){Vs(d),m=Ba(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function iw(d,m){return Vs(d),m=Ba(d,m),d.g.has(m)}t.forEach=function(d,m){Vs(this),this.g.forEach(function(_,N){_.forEach(function(J){d.call(m,J,N,this)},this)},this)},t.na=function(){Vs(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let N=0;N<m.length;N++){const J=d[N];for(let re=0;re<J.length;re++)_.push(m[N])}return _},t.V=function(d){Vs(this);let m=[];if(typeof d=="string")iw(this,d)&&(m=m.concat(this.g.get(Ba(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)m=m.concat(d[_])}return m},t.set=function(d,m){return Vs(this),this.i=null,d=Ba(this,d),iw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function sw(d,m,_){rw(d,m),0<_.length&&(d.i=null,d.g.set(Ba(d,m),w(_)),d.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var N=m[_];const re=encodeURIComponent(String(N)),Ce=this.V(N);for(N=0;N<Ce.length;N++){var J=re;Ce[N]!==""&&(J+="="+encodeURIComponent(String(Ce[N]))),d.push(J)}}return this.i=d.join("&")};function Ba(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function LN(d,m){m&&!d.j&&(Vs(d),d.i=null,d.g.forEach(function(_,N){var J=N.toLowerCase();N!=J&&(rw(this,N),sw(this,J,_))},d)),d.j=m}function VN(d,m){const _=new bu;if(a.Image){const N=new Image;N.onload=p(Fs,_,"TestLoadImage: loaded",!0,m,N),N.onerror=p(Fs,_,"TestLoadImage: error",!1,m,N),N.onabort=p(Fs,_,"TestLoadImage: abort",!1,m,N),N.ontimeout=p(Fs,_,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else m(!1)}function FN(d,m){const _=new bu,N=new AbortController,J=setTimeout(()=>{N.abort(),Fs(_,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:N.signal}).then(re=>{clearTimeout(J),re.ok?Fs(_,"TestPingServer: ok",!0,m):Fs(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(J),Fs(_,"TestPingServer: error",!1,m)})}function Fs(d,m,_,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(_)}catch{}}function $N(){this.g=new zn}function UN(d,m,_){const N=_||"";try{Zb(d,function(J,re){let Ce=J;u(J)&&(Ce=Be(J)),m.push(N+re+"="+encodeURIComponent(Ce))})}catch(J){throw m.push(N+"type="+encodeURIComponent("_badmap")),J}}function sh(d){this.l=d.Ub||null,this.j=d.eb||!1}g(sh,Wr),sh.prototype.g=function(){return new oh(this.l,this.j)},sh.prototype.i=function(d){return function(){return d}}({});function oh(d,m){Ke.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(oh,Ke),t=oh.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Au(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Su(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Au(this)),this.g&&(this.readyState=3,Au(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ow(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ow(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Su(this):Au(this),this.readyState==3&&ow(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Su(this))},t.Qa=function(d){this.g&&(this.response=d,Su(this))},t.ga=function(){this.g&&Su(this)};function Su(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Au(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=m.next();return d.join(`\r
`)};function Au(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function aw(d){let m="";return L(d,function(_,N){m+=N,m+=":",m+=_,m+=`\r
`}),m}function Bm(d,m,_){e:{for(N in _){var N=!1;break e}N=!0}N||(_=aw(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):en(d,m,_))}function gn(d){Ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(gn,Ke);var BN=/^https?$/i,jN=["POST","PUT"];t=gn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,_,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nm.g(),this.v=this.o?$a(this.o):$a(Nm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(re){lw(this,re);return}if(d=_||"",_=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)_.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())_.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(_.keys()).find(re=>re.toLowerCase()=="content-type"),J=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jN,m,void 0))||N||J||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Ce]of _)this.g.setRequestHeader(re,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dw(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){lw(this,re)}};function lw(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,uw(d),ah(d)}function uw(d){d.A||(d.A=!0,K(d,"complete"),K(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,K(this,"complete"),K(this,"abort"),ah(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ah(this,!0)),gn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cw(this):this.bb())},t.bb=function(){cw(this)};function cw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ls(d)!=4||d.Z()!=2)){if(d.u&&ls(d)==4)Ne(d.Ea,0,d);else if(K(d,"readystatechange"),ls(d)==4){d.h=!1;try{const Ce=d.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var N;if(N=Ce===0){var J=String(d.D).match(ew)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),N=!BN.test(J?J.toLowerCase():"")}_=N}if(_)K(d,"complete"),K(d,"success");else{d.m=6;try{var re=2<ls(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",uw(d)}}finally{ah(d)}}}}function ah(d,m){if(d.g){dw(d);const _=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||K(d,"ready");try{_.onreadystatechange=N}catch{}}}function dw(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ls(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ls(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),je(m)}};function hw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function HN(d){const m={};d=(d.g&&2<=ls(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var _=C(d[N]);const J=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const re=m[J]||[];m[J]=re,re.push(_)}S(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cu(d,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||m}function fw(d){this.Aa=0,this.i=[],this.j=new bu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cu("baseRetryDelayMs",5e3,d),this.cb=Cu("retryDelaySeedMs",1e4,d),this.Wa=Cu("forwardChannelMaxRetries",2,d),this.wa=Cu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Gb(d&&d.concurrentRequestLimit),this.Da=new $N,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fw.prototype,t.la=8,t.G=1,t.connect=function(d,m,_,N){Tr(0),this.W=d,this.H=m||{},_&&N!==void 0&&(this.H.OSID=_,this.H.OAID=N),this.F=this.X,this.I=Tw(this,null,this.W),uh(this)};function jm(d){if(pw(d),d.G==3){var m=d.U++,_=as(d.I);if(en(_,"SID",d.K),en(_,"RID",m),en(_,"TYPE","terminate"),Ou(d,_),m=new Ls(d,d.j,m),m.L=2,m.v=ih(as(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ew(m.j,null),m.g.ea(m.v)),m.F=Date.now(),th(m)}ww(d)}function lh(d){d.g&&(Wm(d),d.g.cancel(),d.g=null)}function pw(d){lh(d),d.u&&(a.clearTimeout(d.u),d.u=null),ch(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function uh(d){if(!Yb(d.h)&&!d.s){d.s=!0;var m=d.Ga;U||A(),V||(U(),V=!0),D.add(m,d),d.B=0}}function WN(d,m){return Qb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_u(f(d.Ga,d,m),bw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new Ls(this,this.j,d);let re=this.o;if(this.S&&(re?(re=I(re),v(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var N=this.i[_];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=gw(this,J,m),_=as(this.I),en(_,"RID",d),en(_,"CVER",22),this.D&&en(_,"X-HTTP-Session-Id",this.D),Ou(this,_),re&&(this.O?m="headers="+encodeURIComponent(String(aw(re)))+"&"+m:this.m&&Bm(_,this.m,re)),Um(this.h,J),this.Ua&&en(_,"TYPE","init"),this.P?(en(_,"$req",m),en(_,"SID","null"),J.T=!0,Lm(J,_,null)):Lm(J,_,m),this.G=2}}else this.G==3&&(d?mw(this,d):this.i.length==0||Yb(this.h)||mw(this))};function mw(d,m){var _;m?_=m.l:_=d.U++;const N=as(d.I);en(N,"SID",d.K),en(N,"RID",_),en(N,"AID",d.T),Ou(d,N),d.m&&d.o&&Bm(N,d.m,d.o),_=new Ls(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),m&&(d.i=m.D.concat(d.i)),m=gw(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Um(d.h,_),Lm(_,N,m)}function Ou(d,m){d.H&&L(d.H,function(_,N){en(m,N,_)}),d.l&&Zb({},function(_,N){en(m,N,_)})}function gw(d,m,_){_=Math.min(d.i.length,_);var N=d.l?f(d.l.Na,d.l,d):null;e:{var J=d.i;let re=-1;for(;;){const Ce=["count="+_];re==-1?0<_?(re=J[0].g,Ce.push("ofs="+re)):re=0:Ce.push("ofs="+re);let Wt=!0;for(let Kn=0;Kn<_;Kn++){let At=J[Kn].g;const sr=J[Kn].map;if(At-=re,0>At)re=Math.max(0,J[Kn].g-100),Wt=!1;else try{UN(sr,Ce,"req"+At+"_")}catch{N&&N(sr)}}if(Wt){N=Ce.join("&");break e}}}return d=d.i.splice(0,_),m.D=d,N}function vw(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;U||A(),V||(U(),V=!0),D.add(m,d),d.v=0}}function Hm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_u(f(d.Fa,d),bw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,yw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_u(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tr(10),lh(this),yw(this))};function Wm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function yw(d){d.g=new Ls(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=as(d.qa);en(m,"RID","rpc"),en(m,"SID",d.K),en(m,"AID",d.T),en(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&en(m,"TO",d.ja),en(m,"TYPE","xmlhttp"),Ou(d,m),d.m&&d.o&&Bm(m,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=ih(as(m)),_.m=null,_.P=!0,qb(_,d)}t.Za=function(){this.C!=null&&(this.C=null,lh(this),Hm(this),Tr(19))};function ch(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function _w(d,m){var _=null;if(d.g==m){ch(d),Wm(d),d.g=null;var N=2}else if($m(d.h,m))_=m.D,Xb(d.h,m),N=1;else return;if(d.G!=0){if(m.o)if(N==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var J=d.B;N=Jd(),K(N,new Bb(N,_)),uh(d)}else vw(d);else if(J=m.s,J==3||J==0&&0<m.X||!(N==1&&WN(d,m)||N==2&&Hm(d)))switch(_&&0<_.length&&(m=d.h,m.i=m.i.concat(_)),J){case 1:Lo(d,5);break;case 4:Lo(d,10);break;case 3:Lo(d,6);break;default:Lo(d,2)}}}function bw(d,m){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*m}function Lo(d,m){if(d.j.info("Error code "+m),m==2){var _=f(d.fb,d),N=d.Xa;const J=!N;N=new Mo(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nh(N,"https"),ih(N),J?VN(N.toString(),_):FN(N.toString(),_)}else Tr(2);d.G=0,d.l&&d.l.sa(m),ww(d),pw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tr(2)):(this.j.info("Failed to ping google.com"),Tr(1))};function ww(d){if(d.G=0,d.ka=[],d.l){const m=Jb(d.h);(m.length!=0||d.i.length!=0)&&(E(d.ka,m),E(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function Tw(d,m,_){var N=_ instanceof Mo?as(_):new Mo(_);if(N.g!="")m&&(N.g=m+"."+N.g),rh(N,N.s);else{var J=a.location;N=J.protocol,m=m?m+"."+J.hostname:J.hostname,J=+J.port;var re=new Mo(null);N&&nh(re,N),m&&(re.g=m),J&&rh(re,J),_&&(re.l=_),N=re}return _=d.D,m=d.ya,_&&m&&en(N,_,m),en(N,"VER",d.la),Ou(d,N),N}function Ew(d,m,_){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new gn(new sh({eb:_})):new gn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iw(){}t=Iw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function dh(){}dh.prototype.g=function(d,m){return new qr(d,m)};function qr(d,m){Ke.call(this),this.g=new fw(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!P(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new ja(this)}g(qr,Ke),qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){jm(this.g)},qr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Be(d),d=_);m.i.push(new CN(m.Ya++,d)),m.G==3&&uh(m)},qr.prototype.N=function(){this.g.l=null,delete this.j,jm(this.g),delete this.g,qr.aa.N.call(this)};function Sw(d){Dm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const _ in m){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(Sw,Dm);function Aw(){xm.call(this),this.status=1}g(Aw,xm);function ja(d){this.g=d}g(ja,Iw),ja.prototype.ua=function(){K(this.g,"a")},ja.prototype.ta=function(d){K(this.g,new Sw(d))},ja.prototype.sa=function(d){K(this.g,new Aw)},ja.prototype.ra=function(){K(this.g,"b")},dh.prototype.createWebChannel=dh.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,oP=function(){return new dh},sP=function(){return Jd()},iP=xo,Bv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,Zh=Zd,jb.COMPLETE="complete",rP=jb,Vb.EventType=vu,vu.OPEN="a",vu.CLOSE="b",vu.ERROR="c",vu.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Yu=Vb,gn.prototype.listenOnce=gn.prototype.L,gn.prototype.getLastError=gn.prototype.Ka,gn.prototype.getLastErrorCode=gn.prototype.Ba,gn.prototype.getStatus=gn.prototype.Z,gn.prototype.getResponseJson=gn.prototype.Oa,gn.prototype.getResponseText=gn.prototype.oa,gn.prototype.send=gn.prototype.ea,gn.prototype.setWithCredentials=gn.prototype.Ha,nP=gn}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const l1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ur=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new lu("@firebase/firestore");function xu(){return ha.logLevel}function Ue(t,...e){if(ha.logLevel<=ft.DEBUG){const n=e.map(R_);ha.debug(`Firestore (${uu}): ${t}`,...n)}}function Cs(t,...e){if(ha.logLevel<=ft.ERROR){const n=e.map(R_);ha.error(`Firestore (${uu}): ${t}`,...n)}}function $l(t,...e){if(ha.logLevel<=ft.WARN){const n=e.map(R_);ha.warn(`Firestore (${uu}): ${t}`,...n)}}function R_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+t;throw Cs(e),new Error(e)}function Bt(t,e){t||rt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ur.UNAUTHENTICATED))}shutdown(){}}class ZU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e4{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ts,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ts)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string"),new aP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new ur(e)}}class t4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Bt(this.o===void 0);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt(typeof n.token=="string"),this.R=n.token,new r4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=s4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function Ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Ut(0,0))}static max(){return new st(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xt extends qc{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xt(n)}static emptyPath(){return new Xt([])}}const o4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends qc{construct(e,n,r){return new Xn(e,n,r)}static isValidIdentifier(e){return o4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Xt.fromString(e))}static fromName(e){return new Ge(Xt.fromString(e).popFirst(5))}static empty(){return new Ge(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Xt(e.slice()))}}function a4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new wo(i,Ge.empty(),e)}function l4(t){return new wo(t.readTime,t.key,-1)}class wo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wo(st.min(),Ge.empty(),-1)}static max(){return new wo(st.max(),Ge.empty(),-1)}}function u4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==c4)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ve((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function h4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}D_.oe=-1;function qp(t){return t==null}function Vf(t){return t===0&&1/t==-1/0}function f4(t){return typeof t=="number"&&Number.isInteger(t)&&!Vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pn=class jv{constructor(e,n){this.comparator=e,this.root=n||lo.EMPTY}insert(e,n){return new jv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new jv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}},Ch=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lo=class ds{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ds.RED,this.left=i??ds.EMPTY,this.right=s??ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ds(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ds.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1;lo.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c1(this.data.getIterator())}getIteratorFrom(e){return new c1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class c1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new rr(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cP("Invalid base64 string: "+s):s}}(e);return new ir(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const p4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(Bt(!!t),typeof t=="string"){let e=0;const n=p4.exec(t);if(Bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fa(t){return typeof t=="string"?ir.fromBase64String(t):ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x_(t){const e=t.mapValue.fields.__previous_value__;return zp(e)?x_(e):e}function zc(t){const e=To(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Kc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zp(t)?4:v4(t)?9007199254740991:g4(t)?10:11:rt()}function rs(t,e){if(t===e)return!0;const n=pa(t);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=To(i.timestampValue),a=To(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fa(i.bytesValue).isEqual(fa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return wn(i.geoPointValue.latitude)===wn(s.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wn(i.integerValue)===wn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=wn(i.doubleValue),a=wn(s.doubleValue);return o===a?Vf(o)===Vf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ul(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(u1(o)!==u1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!rs(o[l],a[l])))return!1;return!0}(t,e);default:return rt()}}function Gc(t,e){return(t.values||[]).find(n=>rs(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=pa(t),r=pa(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=wn(s.integerValue||s.doubleValue),l=wn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return d1(t.timestampValue,e.timestampValue);case 4:return d1(zc(t),zc(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=fa(s),l=fa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ot(a[u],l[u]);if(c!==0)return c}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(wn(s.latitude),wn(o.latitude));return a!==0?a:Ot(wn(s.longitude),wn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return h1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=Ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:h1(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Oh.mapValue&&o===Oh.mapValue)return 0;if(s===Oh.mapValue)return 1;if(o===Oh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ot(l[h],c[h]);if(f!==0)return f;const p=Bl(a[l[h]],u[c[h]]);if(p!==0)return p}return Ot(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function d1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=To(t),r=To(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function h1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Bl(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function jl(t){return Hv(t)}function Hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=To(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Hv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Hv(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function Ff(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wv(t){return!!t&&"integerValue"in t}function N_(t){return!!t&&"arrayValue"in t}function f1(t){return!!t&&"nullValue"in t}function p1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ef(t){return!!t&&"mapValue"in t}function g4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function v4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=Xn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Fr(hc(this.value))}}function dP(t){const e=[];return Pa(t.fields,(n,r)=>{const i=new Xn([n]);if(ef(r)){const s=dP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hr(e,0,st.min(),st.min(),st.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,i){return new hr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new hr(e,2,n,st.min(),st.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,st.min(),st.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function m1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ge.comparator(Ge.fromName(o.referenceValue),n.key):r=Bl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function g1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function y4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{}class On extends hP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b4(e,n,r):n==="array-contains"?new E4(e,r):n==="in"?new I4(e,r):n==="not-in"?new S4(e,r):n==="array-contains-any"?new A4(e,r):new On(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w4(e,r):new T4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bl(n,this.value)):n!==null&&pa(this.value)===pa(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends hP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mi(e,n)}matches(e){return fP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fP(t){return t.op==="and"}function pP(t){return _4(t)&&fP(t)}function _4(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function qv(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(pP(t))return t.filters.map(e=>qv(e)).join(",");{const e=t.filters.map(n=>qv(n)).join(",");return`${t.op}(${e})`}}function mP(t,e){return t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.field.isEqual(i.field)&&rs(r.value,i.value)}(t,e):t instanceof Mi?function(r,i){return i instanceof Mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mP(o,i.filters[a]),!0):!1}(t,e):void rt()}function gP(t){return t instanceof On?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof Mi?function(n){return n.op.toString()+" {"+n.getFilters().map(gP).join(" ,")+"}"}(t):"Filter"}class b4 extends On{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class w4 extends On{constructor(e,n){super(e,"in",n),this.keys=vP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T4 extends On{constructor(e,n){super(e,"not-in",n),this.keys=vP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class E4 extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return N_(n)&&Gc(n.arrayValue,this.value)}}class I4 extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gc(this.value.arrayValue,n)}}class S4 extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gc(this.value.arrayValue,n)}}class A4 extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!N_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function v1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new C4(t,e,n,r,i,s,o)}function M_(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.ue=n}return e.ue}function L_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!g1(t.startAt,e.startAt)&&g1(t.endAt,e.endAt)}function zv(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function O4(t,e,n,r,i,s,o,a){return new ka(t,e,n,r,i,s,o,a)}function Kp(t){return new ka(t)}function y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V_(t){return t.collectionGroup!==null}function Tl(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rr(Xn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yc(s,r))}),n.has(Xn.keyField().canonicalString())||e.ce.push(new Yc(Xn.keyField(),r))}return e.ce}function Xi(t){const e=ot(t);return e.le||(e.le=P4(e,Tl(t))),e.le}function P4(t,e){if(t.limitType==="F")return v1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yc(i.field,s)});const n=t.endAt?new Hl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hl(t.startAt.position,t.startAt.inclusive):null;return v1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kv(t,e){const n=t.filters.concat([e]);return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gp(t,e){return L_(Xi(t),Xi(e))&&t.limitType===e.limitType}function yP(t){return`${M_(Xi(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gP(i)).join(", ")}]`),qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(Xi(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Tl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=m1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Tl(r),i)||r.endAt&&!function(o,a,l){const u=m1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Tl(r),i))}(t,e)}function k4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _P(t){return(e,n)=>{let r=!1;for(const i of Tl(t)){const s=R4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R4(t,e,n){const r=t.field.isKeyField()?Ge.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Bl(l,u):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Pn(Ge.comparator);function Os(){return D4}const bP=new Pn(Ge.comparator);function Qu(...t){let e=bP;for(const n of t)e=e.insert(n.key,n);return e}function wP(t){let e=bP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ko(){return fc()}function TP(){return fc()}function fc(){return new cu(t=>t.toString(),(t,e)=>t.isEqual(e))}const x4=new Pn(Ge.comparator),N4=new rr(Ge.comparator);function pt(...t){let e=N4;for(const n of t)e=e.add(n);return e}const M4=new rr(Ot);function L4(){return M4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function EP(t){return{integerValue:""+t}}function V4(t,e){return f4(e)?EP(e):F_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function F4(t,e,n){return t instanceof Uf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zp(s)&&(s=x_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Qc?SP(t,e):t instanceof Xc?AP(t,e):function(i,s){const o=IP(i,s),a=_1(o)+_1(i.Pe);return Wv(o)&&Wv(i.Pe)?EP(a):F_(i.serializer,a)}(t,e)}function $4(t,e,n){return t instanceof Qc?SP(t,e):t instanceof Xc?AP(t,e):n}function IP(t,e){return t instanceof Bf?function(r){return Wv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Uf extends Qp{}class Qc extends Qp{constructor(e){super(),this.elements=e}}function SP(t,e){const n=CP(e);for(const r of t.elements)n.some(i=>rs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xc extends Qp{constructor(e){super(),this.elements=e}}function AP(t,e){let n=CP(e);for(const r of t.elements)n=n.filter(i=>!rs(i,r));return{arrayValue:{values:n}}}class Bf extends Qp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _1(t){return wn(t.integerValue||t.doubleValue)}function CP(t){return N_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Xc&&i instanceof Xc?Ul(r.elements,i.elements,rs):r instanceof Bf&&i instanceof Bf?rs(r.Pe,i.Pe):r instanceof Uf&&i instanceof Uf}(t.transform,e.transform)}class B4{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function OP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $_(t.key,hi.none()):new kd(t.key,t.data,hi.none());{const n=t.data,r=Fr.empty();let i=new rr(Xn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ro(t.key,r,new Yr(i.toArray()),hi.none())}}function j4(t,e,n){t instanceof kd?function(i,s,o){const a=i.value.clone(),l=w1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ro?function(i,s,o){if(!tf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=w1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pc(t,e,n,r){return t instanceof kd?function(s,o,a,l){if(!tf(s.precondition,o))return a;const u=s.value.clone(),c=T1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ro?function(s,o,a,l){if(!tf(s.precondition,o))return a;const u=T1(s.fieldTransforms,l,o),c=o.data;return c.setAll(PP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return tf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function H4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=IP(r.transform,i||null);s!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,s))}return n||null}function b1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ul(r,i,(s,o)=>U4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kd extends Xp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends Xp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function w1(t,e,n){const r=new Map;Bt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$4(o,a,n[i]))}return r}function T1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,F4(s,o,e))}return r}class $_ extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&j4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=OP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(n,r)=>b1(n,r))&&Ul(this.baseMutations,e.baseMutations,(n,r)=>b1(n,r))}}class U_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Bt(e.mutations.length===r.length);let i=function(){return x4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new U_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,bt;function G4(t){switch(t){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function kP(t){if(t===void 0)return Cs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Cn.OK:return ue.OK;case Cn.CANCELLED:return ue.CANCELLED;case Cn.UNKNOWN:return ue.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ue.INTERNAL;case Cn.UNAVAILABLE:return ue.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ue.NOT_FOUND;case Cn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Cn.ABORTED:return ue.ABORTED;case Cn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Cn.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(bt=Cn||(Cn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new ea([4294967295,4294967295],0);function E1(t){const e=Y4().encode(t),n=new tP;return n.update(e),new Uint8Array(n.digest())}function I1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,s],0)]}class B_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ea.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return i.compare(Q4)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=E1(e),[r,i]=I1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new B_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=E1(e),[r,i]=I1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jp(st.min(),i,new Pn(Ot),Os(),pt())}}class Rd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class RP{constructor(e,n){this.targetId=e,this.me=n}}class DP{constructor(e,n,r=ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class S1{constructor(){this.fe=0,this.ge=C1(),this.pe=ir.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pt(),n=pt(),r=pt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Rd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=C1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class X4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Os(),this.qe=A1(),this.Qe=new Pn(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(zv(s))if(r===0){const o=new Ge(s.path);this.Ue(n,o,hr.newNoDocument(o,st.min()))}else Bt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=fa(r).toUint8Array()}catch(l){if(l instanceof cP)return $l("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new B_(o,i,s)}catch(l){return $l(l instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&zv(a.target)){const l=new Ge(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,hr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jp(e,n,this.Qe,this.ke,r);return this.ke=Os(),this.qe=A1(),this.Qe=new Pn(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new S1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new S1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function A1(){return new Pn(Ge.comparator)}function C1(){return new Pn(Ge.comparator)}const J4={asc:"ASCENDING",desc:"DESCENDING"},Z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e6={and:"AND",or:"OR"};class t6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gv(t,e){return t.useProto3Json||qp(e)?e:{value:e}}function jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n6(t,e){return jf(t,e.toTimestamp())}function Ji(t){return Bt(!!t),st.fromTimestamp(function(n){const r=To(n);return new Ut(r.seconds,r.nanos)}(t))}function j_(t,e){return Yv(t,e).canonicalString()}function Yv(t,e){const n=function(i){return new Xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NP(t){const e=Xt.fromString(t);return Bt($P(e)),e}function Qv(t,e){return j_(t.databaseId,e.path)}function vg(t,e){const n=NP(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(LP(n))}function MP(t,e){return j_(t.databaseId,e)}function r6(t){const e=NP(t);return e.length===4?Xt.emptyPath():LP(e)}function Xv(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LP(t){return Bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function O1(t,e,n){return{name:Qv(t,e),fields:n.value.mapValue.fields}}function i6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Bt(c===void 0||typeof c=="string"),ir.fromBase64String(c||"")):(Bt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),ir.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ue.UNKNOWN:kP(u.code);return new Pe(c,u.message||"")}(o);n=new DP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vg(t,r.document.name),s=Ji(r.document.updateTime),o=r.document.createTime?Ji(r.document.createTime):st.min(),a=new Fr({mapValue:{fields:r.document.fields}}),l=hr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new nf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vg(t,r.document),s=r.readTime?Ji(r.readTime):st.min(),o=hr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vg(t,r.document),s=r.removedTargetIds||[];n=new nf([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new K4(i,s),a=r.targetId;n=new RP(a,o)}}return n}function s6(t,e){let n;if(e instanceof kd)n={update:O1(t,e.key,e.value)};else if(e instanceof $_)n={delete:Qv(t,e.key)};else if(e instanceof Ro)n={update:O1(t,e.key,e.data),updateMask:p6(e.fieldMask)};else{if(!(e instanceof W4))return rt();n={verify:Qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Uf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:n6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function o6(t,e){return t&&t.length>0?(Bt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ji(i.updateTime):Ji(s);return o.isEqual(st.min())&&(o=Ji(s)),new B4(o,i.transformResults||[])}(n,e))):[]}function a6(t,e){return{documents:[MP(t,e.path)]}}function l6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MP(t,i);const s=function(u){if(u.length!==0)return FP(Mi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:nl(f.field),direction:d6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function u6(t){let e=r6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=VP(h);return f instanceof Mi&&pP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Yc(rl(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,qp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Hl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Hl(p,f)}(n.endAt)),O4(e,i,o,s,a,"F",l,u)}function c6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rl(n.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rl(n.unaryFilter.field);return On.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rl(n.unaryFilter.field);return On.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return On.create(rl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mi.create(n.compositeFilter.filters.map(r=>VP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function d6(t){return J4[t]}function h6(t){return Z4[t]}function f6(t){return e6[t]}function nl(t){return{fieldPath:t.canonicalString()}}function rl(t){return Xn.fromServerFormat(t.fieldPath)}function FP(t){return t instanceof On?function(n){if(n.op==="=="){if(p1(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NAN"}};if(f1(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p1(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NAN"}};if(f1(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(n.field),op:h6(n.op),value:n.value}}}(t):t instanceof Mi?function(n){const r=n.getFilters().map(i=>FP(i));return r.length===1?r[0]:{compositeFilter:{op:f6(n.op),filters:r}}}(t):rt()}function p6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $P(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r,i,s=st.min(),o=st.min(),a=ir.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.ct=e}}function g6(t){const e=u6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.un=new y6}addToCollectionParentIndex(e,n){return this.un.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(wo.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class y6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(Xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wl(0)}static kn(){return new Wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.changes=new cu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pc(r.mutation,i,Yr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){const i=Ko();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Os();const o=fc(),a=function(){return fc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ro)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),pc(c.mutation,u,c.mutation.getFieldMask(),Ut.now())):o.set(u.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new b6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fc();let i=new Pn((o,a)=>o-a),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Yr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||pt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=TP();c.forEach(f=>{if(!s.has(f)){const p=OP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(Ko());let a=-1,l=s;return o.next(u=>ve.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?ve.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pt())).next(c=>({batchId:a,changes:wP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next(r=>{let i=Qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Qu();return this.indexManager.getCollectionParents(e,s).next(a=>ve.forEach(a,l=>{const u=function(h,f){return new ka(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,hr.newInvalidDocument(c)))});let a=Qu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&pc(c.mutation,u,Yr.empty(),Ut.now()),Yp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ve.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ji(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:g6(i.bundledQuery),readTime:Ji(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.overlays=new Pn(Ge.comparator),this.Ir=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ko();return ve.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Ko(),s=n.length+1,o=new Ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ko(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ko(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ve.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new z4(n,r));let s=this.Ir.get(n);s===void 0&&(s=pt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.sessionToken=ir.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.Tr=new rr(Bn.Er),this.dr=new rr(Bn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Bn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ge(new Xt([])),r=new Bn(n,e),i=new Bn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ge(new Xt([])),r=new Bn(n,e),i=new Bn(n,e+1);let s=pt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ge.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rr(Bn.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new q4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Bn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Ot);return n.forEach(i=>{const s=new Bn(i,0),o=new Bn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ve.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ge.isDocumentKey(s)||(s=s.child(""));const o=new Bn(new Ge(s),0);let a=new rr(Ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ve.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Bt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ve.forEach(n.mutations,i=>{const s=new Bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Bn(n,0),i=this.br.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.Mr=e,this.docs=function(){return new Pn(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hr.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Os();const o=n.path,a=new Ge(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||u4(l4(c),r)<=0||(i.has(c.key)||Yp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Or(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C6(this)}getSize(e){return ve.resolve(this.size)}}class C6 extends _6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.persistence=e,this.Nr=new cu(n=>M_(n),L_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new H_,this.targetCount=0,this.kr=Wl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ve.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Kn(n),ve.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new D_(0),this.Kr=!1,this.Kr=!0,this.$r=new I6,this.referenceDelegate=e(this),this.Ur=new O6(this),this.indexManager=new v6,this.remoteDocumentCache=function(i){return new A6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new m6(n),this.Gr=new T6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new S6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new k6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ve.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class k6 extends d4{constructor(e){super(),this.currentSequenceNumber=e}}class W_{constructor(e){this.persistence=e,this.Jr=new H_,this.Yr=null}static Zr(e){return new W_(e)}get Xr(){if(this.Yr)return this.Yr;throw rt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,r=>{const i=Ge.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ve.or([()=>ve.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pt(),i=pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new q_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return cF()?8:h4(wr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new R6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(xu()<=ft.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(xu()<=ft.DEBUG&&Ue("QueryEngine","Query:",tl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xu()<=ft.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):ve.resolve())}Yi(e,n){if(y1(n))return ve.resolve(null);let r=Xi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$f(n,null,"F"),r=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,$f(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return y1(n)||i.isEqual(st.min())?ve.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ve.resolve(null):(xu()<=ft.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tl(n)),this.rs(e,o,n,a4(i,-1)).next(a=>a))})}ts(e,n){let r=new rr(_P(e));return n.forEach((i,s)=>{Yp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return xu()<=ft.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",tl(n)),this.Ji.getDocumentsMatchingQuery(e,n,wo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pn(Ot),this._s=new cu(s=>M_(s),L_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function N6(t,e,n,r){return new x6(t,e,n,r)}async function UP(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function M6(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=ve.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(w=>{const E=u.docVersions.get(g);Bt(E!==null),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BP(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function L6(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(ir.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(w,E,R){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=Os(),u=pt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(V6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(st.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function V6(t,e,n){let r=pt(),i=pt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Os();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(st.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function F6(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $6(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ro(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jv(t,e,n){const r=ot(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Pd(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function P1(t,e,n){const r=ot(t);let i=st.min(),s=pt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ot(l),f=h._s.get(c);return f!==void 0?ve.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Xi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:pt())).next(a=>(U6(r,k4(e),a),{documents:a,Ts:s})))}function U6(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class k1{constructor(){this.activeTargetIds=L4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B6{constructor(){this.so=new k1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new k1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function yg(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class q6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=yg(),l=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw $l("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=H6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=yg();return new Promise((o,a)=>{const l=new nP;l.setWithCredentials(!0),l.listenOnce(rP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zh.NO_ERROR:const c=l.getResponseJson();Ue(ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Zh.TIMEOUT:Ue(ar,`RPC '${e}' ${s} timed out`),a(new Pe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const h=l.getStatus();if(Ue(ar,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(E){const R=E.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(R)>=0?R:ue.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ue.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(ar,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ue(ar,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=yg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oP(),a=sP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ue(ar,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new W6({Io:E=>{p?Ue(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(Ue(ar,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ue(ar,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),w=(E,R,P)=>{E.listen(R,T=>{try{P(T)}catch(y){setTimeout(()=>{throw y},0)}})};return w(h,Yu.EventType.OPEN,()=>{p||(Ue(ar,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),w(h,Yu.EventType.CLOSE,()=>{p||(p=!0,Ue(ar,`RPC '${e}' stream ${i} transport closed`),g.So())}),w(h,Yu.EventType.ERROR,E=>{p||(p=!0,$l(ar,`RPC '${e}' stream ${i} transport errored:`,E),g.So(new Pe(ue.UNAVAILABLE,"The operation could not be completed")))}),w(h,Yu.EventType.MESSAGE,E=>{var R;if(!p){const P=E.data[0];Bt(!!P);const T=P,y=T.error||((R=T[0])===null||R===void 0?void 0:R.error);if(y){Ue(ar,`RPC '${e}' stream ${i} received error:`,y);const M=y.status;let L=function(b){const v=Cn[b];if(v!==void 0)return kP(v)}(M),S=y.message;L===void 0&&(L=ue.INTERNAL,S="Unknown error status: "+M+" with message "+y.message),p=!0,g.So(new Pe(L,S)),h.close()}else Ue(ar,`RPC '${e}' stream ${i} received:`,P),g.bo(P)}}),w(a,iP.STAT_EVENT,E=>{E.stat===Bv.PROXY?Ue(ar,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Bv.NOPROXY&&Ue(ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return new t6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Pe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z6 extends HP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=i6(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?Ji(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=zv(l)?{documents:a6(s,l)}:{query:l6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xP(s,o.resumeToken);const u=Gv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=jf(s,o.snapshotVersion.toTimestamp());const u=Gv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=c6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xv(this.serializer),n.removeTarget=e,this.a_(n)}}class K6 extends HP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=o6(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Xv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Yv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ue.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Yv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ue.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Y6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cs(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ra(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ot(l);u.L_.add(4),await Dd(u),u.q_.set("Unknown"),u.L_.delete(4),await em(u)}(this))})}),this.q_=new Y6(r,i)}}async function em(t){if(Ra(t))for(const e of t.B_)await e(!0)}async function Dd(t){for(const e of t.B_)await e(!1)}function WP(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Y_(n)?G_(n):du(n).r_()&&K_(n,e))}function z_(t,e){const n=ot(t),r=du(n);n.N_.delete(e),r.r_()&&qP(n,e),n.N_.size===0&&(r.r_()?r.o_():Ra(n)&&n.q_.set("Unknown"))}function K_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).A_(e)}function qP(t,e){t.Q_.xe(e),du(t).R_(e)}function G_(t){t.Q_=new X4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),du(t).start(),t.q_.v_()}function Y_(t){return Ra(t)&&!du(t).n_()&&t.N_.size>0}function Ra(t){return ot(t).L_.size===0}function zP(t){t.Q_=void 0}async function X6(t){t.q_.set("Online")}async function J6(t){t.N_.forEach((e,n)=>{K_(t,e)})}async function Z6(t,e){zP(t),Y_(t)?(t.q_.M_(e),G_(t)):t.q_.set("Unknown")}async function e9(t,e,n){if(t.q_.set("Online"),e instanceof DP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hf(t,r)}else if(e instanceof nf?t.Q_.Ke(e):e instanceof RP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await BP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(ir.EMPTY_BYTE_STRING,c.snapshotVersion)),qP(s,l);const h=new ro(c.target,l,u,c.sequenceNumber);K_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Hf(t,r)}}async function Hf(t,e,n){if(!Pd(e))throw e;t.L_.add(1),await Dd(t),t.q_.set("Offline"),n||(n=()=>BP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await em(t)})}function KP(t,e){return e().catch(n=>Hf(t,n,e))}async function tm(t){const e=ot(t),n=Eo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;t9(e);)try{const i=await F6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,n9(e,i)}catch(i){await Hf(e,i)}GP(e)&&YP(e)}function t9(t){return Ra(t)&&t.O_.length<10}function n9(t,e){t.O_.push(e);const n=Eo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function GP(t){return Ra(t)&&!Eo(t).n_()&&t.O_.length>0}function YP(t){Eo(t).start()}async function r9(t){Eo(t).p_()}async function i9(t){const e=Eo(t);for(const n of t.O_)e.m_(n.mutations)}async function s9(t,e,n){const r=t.O_.shift(),i=U_.from(r,e,n);await KP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tm(t)}async function o9(t,e){e&&Eo(t).V_&&await async function(r,i){if(function(o){return G4(o)&&o!==ue.ABORTED}(i.code)){const s=r.O_.shift();Eo(r).s_(),await KP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tm(r)}}(t,e),GP(t)&&YP(t)}async function D1(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Ra(n);n.L_.add(3),await Dd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await em(n)}async function a9(t,e){const n=ot(t);e?(n.L_.delete(2),await em(n)):e||(n.L_.add(2),await Dd(n),n.q_.set("Unknown"))}function du(t){return t.K_||(t.K_=function(n,r,i){const s=ot(n);return s.w_(),new z6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:X6.bind(null,t),Ro:J6.bind(null,t),mo:Z6.bind(null,t),d_:e9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Y_(t)?G_(t):t.q_.set("Unknown")):(await t.K_.stop(),zP(t))})),t.K_}function Eo(t){return t.U_||(t.U_=function(n,r,i){const s=ot(n);return s.w_(),new K6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:r9.bind(null,t),mo:o9.bind(null,t),f_:i9.bind(null,t),g_:s9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await tm(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Q_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X_(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),Pd(t))return new Pe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=Qu(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.W_=new Pn(Ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):rt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ql(e,n,El.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class u9{constructor(){this.queries=N1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),s=i.queries;i.queries=N1(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Pe(ue.ABORTED,"Firestore shutting down"))}}function N1(){return new cu(t=>yP(t),Gp)}async function J_(t,e){const n=ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new l9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=X_(o,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&e0(n)}async function Z_(t,e){const n=ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c9(t,e){const n=ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&e0(n)}function d9(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function e0(t){t.Y_.forEach(e=>{e.next()})}var Zv,M1;(M1=Zv||(Zv={})).ea="default",M1.Cache="cache";class t0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.key=e}}class XP{constructor(e){this.key=e}}class h9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pt(),this.mutatedKeys=pt(),this.Aa=_P(e),this.Ra=new El(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new x1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Yp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?g!==w&&(r.track({type:3,doc:p}),E=!0):this.ga(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return w(p)-w(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ql(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new x1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new XP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new QP(r))}),n}ba(e){this.Ta=e.Ts,this.da=pt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ql.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class f9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p9{constructor(e){this.key=e,this.va=!1}}class m9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new cu(a=>yP(a),Gp),this.Ma=new Map,this.xa=new Set,this.Oa=new Pn(Ge.comparator),this.Na=new Map,this.La=new H_,this.Ba={},this.ka=new Map,this.qa=Wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function g9(t,e,n=!0){const r=rk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await JP(r,e,n,!0),i}async function v9(t,e){const n=rk(t);await JP(n,e,!0,!1)}async function JP(t,e,n,r){const i=await $6(t.localStore,Xi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await y9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&WP(t.remoteStore,i),a}async function y9(t,e,n,r,i){t.Ka=(h,f,p)=>async function(w,E,R,P){let T=E.view.ma(R);T.ns&&(T=await P1(w.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,T)));const y=P&&P.targetChanges.get(E.targetId),M=P&&P.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(T,w.isPrimaryClient,y,M);return V1(w,E.targetId,L.wa),L.snapshot}(t,h,f,p);const s=await P1(t.localStore,e,!0),o=new h9(e,s.Ts),a=o.ma(s.documents),l=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);V1(t,n,u.wa);const c=new f9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function _9(t,e,n){const r=ot(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Gp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&z_(r.remoteStore,i.targetId),ey(r,i.targetId)}).catch(Od)):(ey(r,i.targetId),await Jv(r.localStore,i.targetId,!0))}async function b9(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),z_(n.remoteStore,r.targetId))}async function w9(t,e,n){const r=O9(t);try{const i=await function(o,a){const l=ot(o),u=Ut.now(),c=a.reduce((p,g)=>p.add(g.key),pt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Os(),w=pt();return l.cs.getEntries(p,c).next(E=>{g=E,g.forEach((R,P)=>{P.isValidDocument()||(w=w.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(E=>{h=E;const R=[];for(const P of a){const T=H4(P,h.get(P.key).overlayedDocument);T!=null&&R.push(new Ro(P.key,T,dP(T.value.mapValue),hi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,R,a)}).next(E=>{f=E;const R=E.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(p,E.batchId,R)})}).then(()=>({batchId:f.batchId,changes:wP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Pn(Ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await xd(r,i.changes),await tm(r.remoteStore)}catch(i){const s=X_(i,"Failed to persist write");n.reject(s)}}async function ZP(t,e){const n=ot(t);try{const r=await L6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Bt(o.va):i.removedDocuments.size>0&&(Bt(o.va),o.va=!1))}),await xd(n,r,e)}catch(r){await Od(r)}}function L1(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&e0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T9(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pn(Ge.comparator);o=o.insert(s,hr.newNoDocument(s,st.min()));const a=pt().add(s),l=new Jp(st.min(),new Map,new Pn(Ot),o,a);await ZP(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),n0(r)}else await Jv(r.localStore,e,!1).then(()=>ey(r,e,n)).catch(Od)}async function E9(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await M6(n.localStore,e);tk(n,r,null),ek(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xd(n,i)}catch(i){await Od(i)}}async function I9(t,e,n){const r=ot(t);try{const i=await function(o,a){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Bt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);tk(r,e,n),ek(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xd(r,i)}catch(i){await Od(i)}}function ek(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function tk(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||nk(t,r)})}function nk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(z_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),n0(t))}function V1(t,e,n){for(const r of n)r instanceof QP?(t.La.addReference(r.key,e),S9(t,r)):r instanceof XP?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||nk(t,r.key)):rt()}function S9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),n0(t))}function n0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ge(Xt.fromString(e)),r=t.qa.next();t.Na.set(r,new p9(n)),t.Oa=t.Oa.insert(n,r),WP(t.remoteStore,new ro(Xi(Kp(n.path)),r,"TargetPurposeLimboResolution",D_.oe))}}async function xd(t,e,n){const r=ot(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=q_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(u,f=>ve.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ve.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Pd(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,w)}}}(r.localStore,s))}async function A9(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await UP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ue.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xd(n,r.hs)}}function C9(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return pt().add(r.key);{let i=pt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function rk(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T9.bind(null,e),e.Ca.d_=c9.bind(null,e.eventManager),e.Ca.$a=d9.bind(null,e.eventManager),e}function O9(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I9.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return N6(this.persistence,new D6,e.initialUser,this.serializer)}Ga(e){return new P6(W_.Zr,this.serializer)}Wa(e){return new B6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>L1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=A9.bind(null,this.syncEngine),await a9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u9}()}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),r=function(s){return new q6(s)}(e.databaseInfo);return function(s,o,a,l){return new G6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Q6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>L1(this.syncEngine,n,0),function(){return R1.D()?new R1:new j6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new m9(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ot(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Dd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=lP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=X_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bg(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function F1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k9(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>D1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>D1(e.remoteStore,i)),t._onlineComponents=e}async function k9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$l("Error using user provided cache. Falling back to memory cache: "+n),await bg(t,new Wf)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await bg(t,new Wf);return t._offlineComponents}async function ik(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await F1(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await F1(t,new ty))),t._onlineComponents}function R9(t){return ik(t).then(e=>e.syncEngine)}async function qf(t){const e=await ik(t),n=e.eventManager;return n.onListen=g9.bind(null,e.syncEngine),n.onUnlisten=_9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b9.bind(null,e.syncEngine),n}function D9(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new r0({next:f=>{c.Za(),o.enqueueAndForget(()=>Z_(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Pe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new t0(Kp(a.path),c,{includeMetadataChanges:!0,_a:!0});return J_(s,h)}(await qf(t),t.asyncQueue,e,n,r)),r.promise}function x9(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new r0({next:f=>{c.Za(),o.enqueueAndForget(()=>Z_(s,h)),f.fromCache&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new t0(a,c,{includeMetadataChanges:!0,_a:!0});return J_(s,h)}(await qf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e,n){if(!n)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N9(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U1(t){if(!Ge.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B1(t){if(Ge.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new Pe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function M9(t,e){if(e<=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JU;switch(r.type){case"firstParty":return new n4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$1.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),$1.delete(n),r.terminate())}(this),Promise.resolve()}}function L9(t,e,n,r={}){var i;const s=(t=jr(t,rm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ur.MOCK_USER;else{a=nO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ur(u)}t._authCredentials=new ZU(new aP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class uo extends is{constructor(e,n,r){super(e,n,Kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new Ge(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function Jn(t,e,...n){if(t=Dt(t),ok("collection","path",e),t instanceof rm){const r=Xt.fromString(e,...n);return B1(r),new uo(t,null,r)}{if(!(t instanceof _r||t instanceof uo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return B1(r),new uo(t.firestore,null,r)}}function lt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=lP.newId()),ok("doc","path",e),t instanceof rm){const r=Xt.fromString(e,...n);return U1(r),new _r(t,null,new Ge(r))}{if(!(t instanceof _r||t instanceof uo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return U1(r),new _r(t.firestore,t instanceof uo?t.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jP(this,"async_queue_retry"),this.Vu=()=>{const r=_g();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=_g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ts;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pd(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Q_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&rt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function W1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ps extends rm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new H1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H1(e),this._firestoreClient=void 0,await e}}}function V9(t,e){const n=typeof t=="object"?t:Cd(),r=typeof t=="string"?t:e||"(default)",i=Ns(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eO("firestore");s&&L9(i,...s)}return i}function im(t){if(t._terminated)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F9(t),t._firestoreClient}function F9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new m4(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,sk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new P9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(ir.fromBase64String(e))}catch(n){throw new Pe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zl(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=/^__.*__$/;class U9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new kd(e,this.data,n,this.fieldTransforms)}}class ak{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class a0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new a0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lk(this.Cu)&&$9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class B9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zp(e)}Qu(e,n,r,i=!1){return new a0({Cu:e,methodName:n,qu:r,path:Xn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nd(t){const e=t._freezeSettings(),n=Zp(t._databaseId);return new B9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uk(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);l0("Data must be an object, but it was:",o,r);const a=dk(r,o);let l,u;if(s.merge)l=new Yr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=ny(e,h,n);if(!o.contains(f))throw new Pe(ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);fk(c,f)||c.push(f)}l=new Yr(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new U9(new Fr(a),l,u)}class om extends i0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function j9(t,e,n,r){const i=t.Qu(1,e,n);l0("Data must be an object, but it was:",i,r);const s=[],o=Fr.empty();Pa(r,(l,u)=>{const c=u0(e,l,n);u=Dt(u);const h=i.Nu(c);if(u instanceof om)s.push(c);else{const f=Md(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Yr(s);return new ak(o,a,i.fieldTransforms)}function H9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[ny(e,r,n)],l=[i];if(s.length%2!=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ny(e,s[f])),l.push(s[f+1]);const u=[],c=Fr.empty();for(let f=a.length-1;f>=0;--f)if(!fk(u,a[f])){const p=a[f];let g=l[f];g=Dt(g);const w=o.Nu(p);if(g instanceof om)u.push(p);else{const E=Md(g,w);E!=null&&(u.push(p),c.set(p,E))}}const h=new Yr(u);return new ak(c,h,o.fieldTransforms)}function ck(t,e,n,r=!1){return Md(n,t.Qu(r?4:3,e))}function Md(t,e){if(hk(t=Dt(t)))return l0("Unsupported field value:",e,t),dk(t,e);if(t instanceof i0)return function(r,i){if(!lk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Md(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ut.fromDate(r);return{timestampValue:jf(i.serializer,s)}}if(r instanceof Ut){const s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jf(i.serializer,s)}}if(r instanceof s0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zl)return{bytesValue:xP(i.serializer,r._byteString)};if(r instanceof _r){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:j_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof o0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return F_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${nm(r)}`)}(t,e)}function dk(t,e){const n={};return uP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,i)=>{const s=Md(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof s0||t instanceof zl||t instanceof _r||t instanceof i0||t instanceof o0)}function l0(t,e,n){if(!hk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ny(t,e,n){if((e=Dt(e))instanceof sm)return e._internalPath;if(typeof e=="string")return u0(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const W9=new RegExp("[~\\*/\\[\\]]");function u0(t,e,n){if(e.search(W9)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(ue.INVALID_ARGUMENT,a+t+l)}function fk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q9 extends c0{data(){return super.data()}}function am(t,e){return typeof e=="string"?u0(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d0{}class lm extends d0{}function z9(t,e,...n){let r=[];e instanceof d0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof f0).length,a=s.filter(l=>l instanceof um).length;if(o>1||o>0&&a>0)throw new Pe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class um extends lm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=this._parse(e);return mk(e._query,n),new is(e.firestore,e.converter,Kv(e._query,n))}_parse(e){const n=Nd(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){K1(h,c);const p=[];for(const g of h)p.push(z1(l,s,g));f={arrayValue:{values:p}}}else f=z1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||K1(h,c),f=ck(a,o,h,c==="in"||c==="not-in");return On.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function h0(t,e,n){const r=e,i=am("where",t);return um._create(i,r,n)}class f0 extends d0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new f0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)mk(o,l),o=Kv(o,l)}(e._query,n),new is(e.firestore,e.converter,Kv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class p0 extends lm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new p0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(s,o)}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ka(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function q1(t,e="asc"){const n=e,r=am("orderBy",t);return p0._create(r,n)}class m0 extends lm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new m0(e,n,r)}_apply(e){return new is(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function K9(t){return M9("limit",t),m0._create("limit",t,"F")}class g0 extends lm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new g0(e,n,r)}_apply(e){const n=Y9(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,function(i,s){return new ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function G9(...t){return g0._create("startAfter",t,!1)}function Y9(t,e,n,r){if(n[0]=Dt(n[0]),n[0]instanceof c0)return function(s,o,a,l,u){if(!l)throw new Pe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of Tl(s))if(h.field.isKeyField())c.push(Ff(o,l.key));else{const f=l.data.field(h.field);if(zp(f))throw new Pe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new Hl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Nd(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new Pe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const w=c[g];if(f[g].field.isKeyField()){if(typeof w!="string")throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!V_(o)&&w.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const E=o.path.child(Xt.fromString(w));if(!Ge.isDocumentKey(E))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const R=new Ge(E);p.push(Ff(a,R))}else{const E=ck(l,u,w);p.push(E)}}return new Hl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function z1(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V_(e)&&n.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Ge.isDocumentKey(r))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ff(t,new Ge(r))}if(n instanceof _r)return Ff(t,n._key);throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function K1(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Q9{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>wn(o.doubleValue));return new o0(s)}convertGeoPoint(e){return new s0(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=x_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=To(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);Bt($P(r));const i=new Kc(r.get(1),r.get(3)),s=new Ge(r.popFirst(5));return i.isEqual(n)||Cs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vk extends c0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(am("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rf extends vk{data(e={}){return super.data(e)}}class yk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ju(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rf(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:X9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function X9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){t=jr(t,_r);const e=jr(t.firestore,Ps);return D9(im(e),t._key).then(n=>bk(e,t,n))}class v0 extends Q9{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function J9(t){t=jr(t,is);const e=jr(t.firestore,Ps),n=im(e),r=new v0(e);return pk(t._query),x9(n,t._query).then(i=>new yk(e,r,t,i))}function Z9(t,e,n){t=jr(t,_r);const r=jr(t.firestore,Ps),i=gk(t.converter,e,n);return cm(r,[uk(Nd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hi.none())])}function eB(t,e,n,...r){t=jr(t,_r);const i=jr(t.firestore,Ps),s=Nd(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof sm?H9(s,"updateDoc",t._key,e,n,r):j9(s,"updateDoc",t._key,e),cm(i,[o.toMutation(t._key,hi.exists(!0))])}function tB(t){return cm(jr(t.firestore,Ps),[new $_(t._key,hi.none())])}function nB(t,e){const n=jr(t.firestore,Ps),r=lt(t),i=gk(t.converter,e);return cm(n,[uk(Nd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function rB(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||W1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(W1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof _r)u=jr(t.firestore,Ps),c=Kp(t._key.path),l={next:h=>{e[o]&&e[o](bk(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=jr(t,is);u=jr(h.firestore,Ps),c=h._query;const f=new v0(u);l={next:p=>{e[o]&&e[o](new yk(u,f,h,p))},error:e[o+1],complete:e[o+2]},pk(t._query)}return function(f,p,g,w){const E=new r0(w),R=new t0(p,E,g);return f.asyncQueue.enqueueAndForget(async()=>J_(await qf(f),R)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>Z_(await qf(f),R))}}(im(u),c,a,l)}function cm(t,e){return function(r,i){const s=new Ts;return r.asyncQueue.enqueueAndForget(async()=>w9(await R9(r),i,s)),s.promise}(im(t),e)}function bk(t,e,n){const r=n.docs.get(e._key),i=new v0(t);return new vk(t,i,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uu=i})(ko),Hr(new xr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ps(new e4(r.getProvider("auth-internal")),new i4(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nr(l1,"4.7.3",e),nr(l1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="firebasestorage.googleapis.com",Tk="storageBucket",iB=2*60*1e3,sB=10*60*1e3,oB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends ni{constructor(e,n,r=0){super(wg(e),`Firebase Storage: ${n} (${wg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var un;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(un||(un={}));function wg(t){return"storage/"+t}function y0(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(un.UNKNOWN,t)}function aB(t){return new mn(un.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lB(t){return new mn(un.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(un.UNAUTHENTICATED,t)}function cB(){return new mn(un.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dB(t){return new mn(un.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ek(){return new mn(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ik(){return new mn(un.CANCELED,"User canceled the upload/download.")}function hB(t){return new mn(un.INVALID_URL,"Invalid URL '"+t+"'.")}function fB(t){return new mn(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pB(){return new mn(un.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tk+"' property when initializing the app?")}function Sk(){return new mn(un.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mB(){return new mn(un.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function gB(){return new mn(un.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vB(t){return new mn(un.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ry(t){return new mn(un.INVALID_ARGUMENT,t)}function Ak(){return new mn(un.APP_DELETED,"The Firebase app was deleted.")}function yB(t){return new mn(un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mc(t,e){return new mn(un.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nu(t){throw new mn(un.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qr.makeFromUrl(e,n)}catch{return new Qr(e,"")}if(r.path==="")return r;throw fB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},w=n===wk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",R=new RegExp(`^https?://${w}/${i}/${E}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:R,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<T.length;y++){const M=T[y],L=M.regex.exec(e);if(L){const S=L[M.indices.bucket];let I=L[M.indices.path];I||(I=""),r=new Qr(S,I),M.postModify(r);break}}if(r==null)throw hB(e);return r}}class _B{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){s&&clearTimeout(s)}function p(E,...R){if(u){f();return}if(E){f(),c.call(null,E,...R);return}if(l()||o){f(),c.call(null,E,...R);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let g=!1;function w(E){g||(g=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function wB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t){return t!==void 0}function EB(t){return typeof t=="function"}function IB(t){return typeof t=="object"&&!Array.isArray(t)}function dm(t){return typeof t=="string"||t instanceof String}function G1(t){return _0()&&t instanceof Blob}function _0(){return typeof Blob<"u"}function Y1(t,e,n,r){if(r<e)throw ry(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ry(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ck(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ta;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ta.NO_ERROR,l=s.getStatus();if(!a||Ok(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===ta.ABORT;r(!1,new kh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());TB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=y0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Ak():Ik();o(l)}else{const l=Ek();o(l)}};this.canceled_?n(!1,new kh(!1,null,!0)):this.backoffId_=bB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function AB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function CB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kB(t,e,n,r,i,s,o=!0){const a=Ck(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return OB(u,e),AB(u,n),CB(u,s),PB(u,r),new SB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DB(...t){const e=RB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(_0())return new Blob(t);throw new mn(un.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){if(typeof atob>"u")throw vB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tg{constructor(e,n){this.data=e,this.contentType=n||null}}function MB(t,e){switch(t){case Ki.RAW:return new Tg(Pk(e));case Ki.BASE64:case Ki.BASE64URL:return new Tg(kk(t,e));case Ki.DATA_URL:return new Tg(VB(e),FB(e))}throw y0()}function Pk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function LB(t){let e;try{e=decodeURIComponent(t)}catch{throw mc(Ki.DATA_URL,"Malformed data URL.")}return Pk(e)}function kk(t,e){switch(t){case Ki.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw mc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ki.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw mc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NB(e)}catch(i){throw i.message.includes("polyfill")?i:mc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Rk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw mc(Ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$B(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function VB(t){const e=new Rk(t);return e.base64?kk(Ki.BASE64,e.rest):LB(e.rest)}function FB(t){return new Rk(t).contentType}function $B(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){let r=0,i="";G1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(G1(this.data_)){const r=this.data_,i=xB(r,e,n);return i===null?null:new Js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Js(r,!0)}}static getBlob(...e){if(_0()){const n=e.map(r=>r instanceof Js?r.data_:r);return new Js(DB.apply(null,n))}else{const n=e.map(o=>dm(o)?MB(Ki.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){let e;try{e=JSON.parse(t)}catch{return null}return IB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t,e){return e}class Er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||jB}}let Rh=null;function HB(t){return!dm(t)||t.length<2?t:xk(t)}function Nk(){if(Rh)return Rh;const t=[];t.push(new Er("bucket")),t.push(new Er("generation")),t.push(new Er("metageneration")),t.push(new Er("name","fullPath",!0));function e(s,o){return HB(o)}const n=new Er("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Er("size");return i.xform=r,t.push(i),t.push(new Er("timeCreated")),t.push(new Er("updated")),t.push(new Er("md5Hash",null,!0)),t.push(new Er("cacheControl",null,!0)),t.push(new Er("contentDisposition",null,!0)),t.push(new Er("contentEncoding",null,!0)),t.push(new Er("contentLanguage",null,!0)),t.push(new Er("contentType",null,!0)),t.push(new Er("metadata","customMetadata",!0)),Rh=t,Rh}function WB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Qr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function qB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return WB(r,t),r}function Mk(t,e,n){const r=Dk(e);return r===null?null:qB(t,r,n)}function zB(t,e,n,r){const i=Dk(e);if(i===null||!dm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=hu(f,n,r),g=Ck({alt:"media",token:u});return p+g})[0]}function Lk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Da{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){if(!t)throw y0()}function b0(t,e){function n(r,i){const s=Mk(t,i,e);return Es(s!==null),s}return n}function KB(t,e){function n(r,i){const s=Mk(t,i,e);return Es(s!==null),zB(s,i,t.host,t._protocol)}return n}function Ld(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cB():i=uB():n.getStatus()===402?i=lB(t.bucket):n.getStatus()===403?i=dB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function w0(t){const e=Ld(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=aB(t.path)),s.serverResponse=i.serverResponse,s}return n}function GB(t,e,n){const r=e.fullServerUrl(),i=hu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Da(i,s,b0(t,n),o);return a.errorHandler=w0(e),a}function YB(t,e,n){const r=e.fullServerUrl(),i=hu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Da(i,s,KB(t,n),o);return a.errorHandler=w0(e),a}function QB(t,e){const n=e.fullServerUrl(),r=hu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Da(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=w0(e),a}function XB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Vk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XB(null,e)),r}function JB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let y=0;y<2;y++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Vk(e,r,i),c=Lk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Js.getBlob(h,r,f);if(p===null)throw Sk();const g={name:u.fullPath},w=hu(s,t.host,t._protocol),E="POST",R=t.maxUploadRetryTime,P=new Da(w,E,b0(t,n),R);return P.urlParams=g,P.headers=o,P.body=p.uploadData(),P.errorHandler=Ld(e),P}class Kf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function T0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Es(!1)}return Es(!!n&&(e||["active"]).indexOf(n)!==-1),n}function ZB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Vk(e,r,i),a={name:o.fullPath},l=hu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Lk(o,n),f=t.maxUploadRetryTime;function p(w){T0(w);let E;try{E=w.getResponseHeader("X-Goog-Upload-URL")}catch{Es(!1)}return Es(dm(E)),E}const g=new Da(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=Ld(e),g}function e5(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=T0(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Es(!1)}h||Es(!1);const f=Number(h);return Es(!isNaN(f)),new Kf(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Da(n,o,s,a);return l.headers=i,l.errorHandler=Ld(e),l}const Q1=256*1024;function t5(t,e,n,r,i,s,o,a){const l=new Kf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw mB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,f);if(w===null)throw Sk();function E(y,M){const L=T0(y,["active","final"]),S=l.current+c,I=r.size();let b;return L==="final"?b=b0(e,s)(y,M):b=null,new Kf(S,I,L==="final",b)}const R="POST",P=e.maxUploadRetryTime,T=new Da(n,R,E,P);return T.headers=g,T.body=w.uploadData(),T.progressCallback=a||null,T.errorHandler=Ld(t),T}const Mr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Eg(t){switch(t){case"running":case"pausing":case"canceling":return Mr.RUNNING;case"paused":return Mr.PAUSED;case"success":return Mr.SUCCESS;case"canceled":return Mr.CANCELED;case"error":return Mr.ERROR;default:return Mr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r){if(EB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class r5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Nu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class i5 extends r5{initXhr(){this.xhr_.responseType="text"}}function Wo(){return new i5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Nk(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(un.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Ok(i.status,[]))if(s)i=Ek();else{this.sleepTime=Math.max(this.sleepTime*2,oB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(un.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=ZB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=e5(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Wo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Q1*this._chunkMultiplier,n=new Kf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=t5(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Wo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Q1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=GB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=JB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ik(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Eg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new n5(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Eg(this._state)){case Mr.SUCCESS:Ka(this._resolve.bind(null,this.snapshot))();break;case Mr.CANCELED:case Mr.ERROR:const n=this._reject;Ka(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Eg(this._state)){case Mr.RUNNING:case Mr.PAUSED:e.next&&Ka(e.next.bind(e,this.snapshot))();break;case Mr.SUCCESS:e.complete&&Ka(e.complete.bind(e))();break;case Mr.CANCELED:case Mr.ERROR:e.error&&Ka(e.error.bind(e,this._error))();break;default:e.error&&Ka(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this._service=e,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ma(e,n)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xk(this._location.path)}get storage(){return this._service}get parent(){const e=UB(this._location.path);if(e===null)return null;const n=new Qr(this._location.bucket,e);return new ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yB(e)}}function o5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new s5(t,new Js(e),n)}function a5(t){t._throwIfRoot("getDownloadURL");const e=YB(t.storage,t._location,Nk());return t.storage.makeRequestWithTokens(e,Wo).then(n=>{if(n===null)throw gB();return n})}function l5(t){t._throwIfRoot("deleteObject");const e=QB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Wo)}function u5(t,e){const n=BB(t._location.path,e),r=new Qr(t._location.bucket,n);return new ma(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){return/^[A-Za-z]+:\/\//.test(t)}function d5(t,e){return new ma(t,e)}function Fk(t,e){if(t instanceof E0){const n=t;if(n._bucket==null)throw pB();const r=new ma(n,n._bucket);return e!=null?Fk(r,e):r}else return e!==void 0?u5(t,e):t}function h5(t,e){if(e&&c5(e)){if(t instanceof E0)return d5(t,e);throw ry("To use ref(service, url), the first argument must be a Storage instance.")}else return Fk(t,e)}function X1(t,e){const n=e==null?void 0:e[Tk];return n==null?null:Qr.makeFromBucketSpec(n,t)}function f5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:nO(i,t.app.options.projectId))}class E0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=wk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iB,this._maxUploadRetryTime=sB,this._requests=new Set,i!=null?this._bucket=Qr.makeFromBucketSpec(i,this._host):this._bucket=X1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=X1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new _B(Ak());{const o=kB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const J1="@firebase/storage",Z1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="storage";function p5(t,e,n){return t=Dt(t),o5(t,e,n)}function Dre(t){return t=Dt(t),a5(t)}function m5(t){return t=Dt(t),l5(t)}function g5(t,e){return t=Dt(t),h5(t,e)}function v5(t=Cd(),e){t=Dt(t);const r=Ns(t,$k).getImmediate({identifier:e}),i=eO("storage");return i&&y5(r,...i),r}function y5(t,e,n,r={}){f5(t,e,n,r)}function _5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new E0(n,r,i,e,ko)}function b5(){Hr(new xr($k,_5,"PUBLIC").setMultipleInstances(!0)),nr(J1,Z1,""),nr(J1,Z1,"esm2017")}b5();let Dh;const w5=new Uint8Array(16);function T5(){if(!Dh&&(Dh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dh(w5)}const Yn=[];for(let t=0;t<256;++t)Yn.push((t+256).toString(16).slice(1));function E5(t,e=0){return Yn[t[e+0]]+Yn[t[e+1]]+Yn[t[e+2]]+Yn[t[e+3]]+"-"+Yn[t[e+4]]+Yn[t[e+5]]+"-"+Yn[t[e+6]]+Yn[t[e+7]]+"-"+Yn[t[e+8]]+Yn[t[e+9]]+"-"+Yn[t[e+10]]+Yn[t[e+11]]+Yn[t[e+12]]+Yn[t[e+13]]+Yn[t[e+14]]+Yn[t[e+15]]}const I5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eE={randomUUID:I5};function S5(t,e,n){if(eE.randomUUID&&!e&&!t)return eE.randomUUID();t=t||{};const r=t.random||(t.rng||T5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return E5(r)}const kn=class kn{constructor(e,n,r={},i,s){Fi(this,"errorCode");this.errorCode=s,kn.log(r.debug,n),r.route&&QD.push({name:r.route}),U2({title:i??e,type:e.toLowerCase(),text:n},5e3)}};Fi(kn,"success",(e,n={})=>new kn("Success",e,n)),Fi(kn,"info",(e,n,r={})=>new kn("Info",n,r,e)),Fi(kn,"update",(e,n={})=>new kn("Warning",e,n,"Update")),Fi(kn,"warning",(e,n={})=>new kn("Warning",e,n)),Fi(kn,"error",(e,n={})=>new kn("Error",e,n)),Fi(kn,"generalError",(e,n,r)=>new kn("Error",(n==null?void 0:n.message)||Uk,{debug:e},void 0,r)),Fi(kn,"firebaseError",(e,n)=>{kn.log(e,n);let r;return n instanceof ni&&Object.keys(xh).includes(n.code)?(r=n.code,n.message=xh[r]):n instanceof Error&&Object.keys(xh).includes(n.name)?(r=n.name,n.message=xh[r]):n.message=void 0,kn.generalError(e,n,r)}),Fi(kn,"log",(e,n)=>{e&&console.log(n)});let De=kn;const Uk="Something went wrong";var Bk=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_INVALID_CREDENTIAL="auth/invalid-credential",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(Bk||{});const tE=t=>Object.values(Bk).includes(t),xh={"":Uk,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/invalid-credential":"Invalid credentials","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};function I0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A5=jk,Hk=new Po("auth","Firebase",jk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new lu("@firebase/auth");function C5(t,...e){Gf.logLevel<=ft.WARN&&Gf.warn(`Auth (${ko}): ${t}`,...e)}function sf(t,...e){Gf.logLevel<=ft.ERROR&&Gf.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,...e){throw S0(t,...e)}function Zi(t,...e){return S0(t,...e)}function Wk(t,e,n){const r=Object.assign(Object.assign({},A5()),{[e]:n});return new Po("auth","Firebase",r).create(e,{appName:t.name})}function es(t){return Wk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Hk.create(t,...e)}function Ze(t,e,...n){if(!t)throw S0(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sf(e),new Error(e)}function ks(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O5(){return nE()==="http:"||nE()==="https:"}function nE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O5()||rO()||"connection"in navigator)?navigator.onLine:!0}function k5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=__()||iO()}get(){return P5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Vd(3e4,6e4);function Ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ss(t,e,n,r,i={}){return zk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=au(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return lF()||(u.referrerPolicy="no-referrer"),qk.fetch()(Kk(t,t.config.apiHost,n,a),u)})}async function zk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},R5),e);try{const i=new N5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Nh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Wk(t,c,u);Li(t,c)}}catch(i){if(i instanceof ni)throw i;Li(t,"network-request-failed",{message:String(i)})}}async function Fd(t,e,n,r,i={}){const s=await ss(t,e,n,r,i);return"mfaPendingCredential"in s&&Li(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Kk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?A0(t.config,i):`${t.config.apiScheme}://${i}`}function x5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zi(this.auth,"network-request-failed")),D5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zi(t,e,r);return i.customData._tokenResponse=n,i}function rE(t){return t!==void 0&&t.enterprise!==void 0}class M5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function L5(t,e){return ss(t,"GET","/v2/recaptchaConfig",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){return ss(t,"POST","/v1/accounts:delete",e)}async function Gk(t,e){return ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F5(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=C0(r);Ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gc(Ig(i.auth_time)),issuedAtTime:gc(Ig(i.iat)),expirationTime:gc(Ig(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ig(t){return Number(t)*1e3}function C0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Df(n);return i?JSON.parse(i):(sf("Failed to decode base64 JWT payload"),null)}catch(i){return sf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iE(t){const e=C0(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&$5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kl(t,Gk(n,{idToken:r}));Ze(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Yk(s.providerUserInfo):[],a=j5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function B5(t){const e=Dt(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yk(t){return t.map(e=>{var{providerId:n}=e,r=I0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){const n=await zk(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Kk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W5(t,e){return ss(t,"POST","/v2/accounts:revokeToken",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const n=iE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await H5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Il;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ze(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=I0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F5(this,e)}reload(){return B5(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await Kl(this,V5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:y,isAnonymous:M,providerData:L,stsTokenManager:S}=n;Ze(T&&S,e,"internal-error");const I=Il.fromJSON(this.name,S);Ze(typeof T=="string",e,"internal-error"),Bs(h,e.name),Bs(f,e.name),Ze(typeof y=="boolean",e,"internal-error"),Ze(typeof M=="boolean",e,"internal-error"),Bs(p,e.name),Bs(g,e.name),Bs(w,e.name),Bs(E,e.name),Bs(R,e.name),Bs(P,e.name);const b=new ys({uid:T,auth:e,email:f,emailVerified:y,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:p,tenantId:w,stsTokenManager:I,createdAt:R,lastLoginAt:P});return L&&Array.isArray(L)&&(b.providerData=L.map(v=>Object.assign({},v))),E&&(b._redirectEventId=E),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Il;i.updateFromServerResponse(n);const s=new ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ze(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Yk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Il;a.updateFromIdToken(r);const l=new ys({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function _s(t){ks(t instanceof Function,"Expected a class definition");let e=sE.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qk.type="NONE";const oE=Qk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e,n){return`firebase:${t}:${e}:${n}`}class Sl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=of(this.userKey,i.apiKey,s),this.fullPersistenceKey=of("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sl(_s(oE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_s(oE);const o=of(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ys._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Sl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nR(e))return"Blackberry";if(rR(e))return"Webos";if(Jk(e))return"Safari";if((e.includes("chrome/")||Zk(e))&&!e.includes("edge/"))return"Chrome";if(tR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xk(t=wr()){return/firefox\//i.test(t)}function Jk(t=wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zk(t=wr()){return/crios\//i.test(t)}function eR(t=wr()){return/iemobile/i.test(t)}function tR(t=wr()){return/android/i.test(t)}function nR(t=wr()){return/blackberry/i.test(t)}function rR(t=wr()){return/webos/i.test(t)}function O0(t=wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q5(t=wr()){var e;return O0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z5(){return uF()&&document.documentMode===10}function iR(t=wr()){return O0(t)||tR(t)||rR(t)||nR(t)||/windows phone/i.test(t)||eR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e=[]){let n;switch(t){case"Browser":n=aE(wr());break;case"Worker":n=`${aE(wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e={}){return ss(t,"GET","/v2/passwordPolicy",Ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=6;class Q5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Y5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new K5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gk(this,{idToken:e}),r=await ys._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(es(this));const n=e?Dt(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G5(this),n=new Q5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xa(t){return Dt(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=yF(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J5(t){hm=t}function oR(t){return hm.loadJS(t)}function Z5(){return hm.recaptchaEnterpriseScript}function ej(){return hm.gapiScript}function tj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nj="recaptcha-enterprise",rj="NO_RECAPTCHA";class ij{constructor(e){this.type=nj,this.auth=xa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{L5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new M5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;rE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(rj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&rE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Z5();l.length!==0&&(l+=a),oR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function uE(t,e,n,r=!1){const i=new ij(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Qf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t,e){const n=Ns(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bc(s,e??{}))return i;Li(i,"already-initialized")}return n.initialize({options:e})}function oj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function aj(t,e){return ss(t,"POST","/v1/accounts:update",e)}async function lj(t,e){return ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){return Fd(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}async function cj(t,e){return ss(t,"POST","/v1/accounts:sendOobCode",Ms(t,e))}async function dj(t,e){return cj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(t,e){return Fd(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function fj(t,e){return Fd(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends P0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,n,"signInWithPassword",uj);case"emailLink":return hj(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,r,"signUpPassword",lj);case"emailLink":return fj(e,{idToken:n,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e){return Fd(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="http://localhost";class ga extends P0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=I0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ga(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Al(e,n)}buildRequest(){const e={requestUri:pj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gj(t){const e=Ku(Gu(t)).link,n=e?Ku(Gu(e)).deep_link_id:null,r=Ku(Gu(t)).deep_link_id;return(r?Ku(Gu(r)).link:null)||r||n||e||t}class k0{constructor(e){var n,r,i,s,o,a;const l=Ku(Gu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=mj((i=l.mode)!==null&&i!==void 0?i:null);Ze(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=gj(e);try{return new k0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=k0.parseLink(n);return Ze(r,"argument-error"),Jc._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends aR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends $d{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends $d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends $d{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends $d{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e){return Fd(t,"POST","/v1/accounts:signUp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ys._fromIdTokenResponse(e,r,i),o=cE(r);return new va({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new va({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xf(e,n,r,i)}}function lR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,s,e,r):s})}async function yj(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e,n=!1){const{auth:r}=t;if(Ei(r.app))return Promise.reject(es(r));const i="reauthenticate";try{const s=await Kl(t,lR(r,i,e,t),n);Ze(s.idToken,r,"internal-error");const o=C0(s.idToken);Ze(o,r,"internal-error");const{sub:a}=o;return Ze(t.uid===a,r,"user-mismatch"),va._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Li(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e,n=!1){if(Ei(t.app))return Promise.reject(es(t));const r="signIn",i=await lR(t,r,e),s=await va._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _j(t,e){return cR(xa(t),e)}async function dE(t,e){return uR(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t,e,n){var r;Ze(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ze(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ze(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ze(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t){const e=xa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wj(t,e,n){const r=xa(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&bj(r,i,n),await Qf(r,i,"getOobCode",dj)}async function Tj(t,e,n){if(Ei(t.app))return Promise.reject(es(t));const r=xa(t),o=await Qf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&dR(t),l}),a=await va._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Ej(t,e,n){return Ei(t.app)?Promise.reject(es(t)):_j(Dt(t),Io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dR(t),r})}function Ij(t,e){const n=Dt(t);return Ei(n.auth.app)?Promise.reject(es(n.auth)):hR(n,e,null)}function Sj(t,e){return hR(Dt(t),null,e)}async function hR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Kl(t,aj(r,s));await t._updateTokensIfNecessary(o,!0)}function Aj(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Cj(t){return Dt(t).signOut()}async function Oj(t){return Dt(t).delete()}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=1e3,kj=10;class pR extends fR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);z5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pR.type="LOCAL";const Rj=pR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends fR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mR.type="SESSION";const gR=mR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Dj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=R0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function Nj(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function Mj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Vj(){return vR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebaseLocalStorageDb",Fj=1,Zf="firebaseLocalStorage",_R="fbase_key";class Ud{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function $j(){const t=indexedDB.deleteDatabase(yR);return new Ud(t).toPromise()}function oy(){const t=indexedDB.open(yR,Fj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zf,{keyPath:_R})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),await $j(),e(await oy()))})})}async function hE(t,e,n){const r=pm(t,!0).put({[_R]:e,value:n});return new Ud(r).toPromise()}async function Uj(t,e){const n=pm(t,!1).get(e),r=await new Ud(n).toPromise();return r===void 0?null:r.value}function fE(t,e){const n=pm(t,!0).delete(e);return new Ud(n).toPromise()}const Bj=800,jj=3;class bR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(Vj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Mj(),!this.activeServiceWorker)return;this.sender=new xj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oy();return await hE(e,Jf,"1"),await fE(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Uj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pm(i,!1).getAll();return new Ud(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bR.type="LOCAL";const Hj=bR;new Vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e){return e?_s(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends P0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qj(t){return cR(t.auth,new D0(t),t.bypassAuthState)}function zj(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),uR(n,new D0(t),t.bypassAuthState)}async function Kj(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),yj(n,new D0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qj;case"linkViaPopup":case"linkViaRedirect":return Kj;case"reauthViaPopup":case"reauthViaRedirect":return zj;default:Li(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new Vd(2e3,1e4);class ll extends wR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=R0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gj.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="pendingRedirect",af=new Map;class Qj extends wR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=af.get(this.auth._key());if(!e){try{const r=await Xj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}af.set(this.auth._key(),e)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xj(t,e){const n=eH(e),r=Zj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Jj(t,e){af.set(t._key(),e)}function Zj(t){return _s(t._redirectPersistence)}function eH(t){return of(Yj,t.config.apiKey,t.name)}async function tH(t,e,n=!1){if(Ei(t.app))return Promise.reject(es(t));const r=xa(t),i=Wj(r,e),o=await new Qj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=10*60*1e3;class rH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nH&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sH(t,e={}){return ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aH=/^https?/;async function lH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sH(t);for(const n of e)try{if(uH(n))return}catch{}Li(t,"unauthorized-domain")}function uH(t){const e=iy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aH.test(n))return!1;if(oH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=new Vd(3e4,6e4);function mE(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dH(t){return new Promise((e,n)=>{var r,i,s;function o(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Zi(t,"network-request-failed"))},timeout:cH.get()})}if(!((i=(r=ts().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ts().gapi)===null||s===void 0)&&s.load)o();else{const a=tj("iframefcb");return ts()[a]=()=>{gapi.load?o():n(Zi(t,"network-request-failed"))},oR(`${ej()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lf=null,e})}let lf=null;function hH(t){return lf=lf||dH(t),lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new Vd(5e3,15e3),pH="__/auth/iframe",mH="emulator/auth/iframe",gH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yH(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?A0(e,mH):`https://${t.config.authDomain}/${pH}`,r={apiKey:e.apiKey,appName:t.name,v:ko},i=vH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${au(r).slice(1)}`}async function _H(t){const e=await hH(t),n=ts().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:yH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zi(t,"network-request-failed"),a=ts().setTimeout(()=>{s(o)},fH.get());function l(){ts().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wH=500,TH=600,EH="_blank",IH="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SH(t,e,n,r=wH,i=TH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},bH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=wr().toLowerCase();n&&(a=Zk(u)?EH:n),Xk(u)&&(e=e||IH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(q5(u)&&a!=="_self")return AH(e||"",a),new gE(null);const h=window.open(e||"",a,c);Ze(h,t,"popup-blocked");try{h.focus()}catch{}return new gE(h)}function AH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH="__/auth/handler",OH="emulator/auth/handler",PH=encodeURIComponent("fac");async function vE(t,e,n,r,i,s){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ko,eventId:i};if(e instanceof aR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Pv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof $d){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${PH}=${encodeURIComponent(l)}`:"";return`${kH(t)}?${au(a).slice(1)}${u}`}function kH({config:t}){return t.emulator?A0(t,OH):`https://${t.authDomain}/${CH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="webStorageSupport";class RH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gR,this._completeRedirectFn=tH,this._overrideRedirectResult=Jj}async _openPopup(e,n,r,i){var s;ks((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vE(e,n,r,iy(),i);return SH(e,o,R0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vE(e,n,r,iy(),i);return Nj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _H(e),r=new rH(e);return n.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sg,{type:Sg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Sg];o!==void 0&&n(!!o),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iR()||Jk()||O0()}}const DH=RH;var yE="@firebase/auth",_E="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MH(t){Hr(new xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ze(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sR(t)},u=new X5(r,i,s,l);return oj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hr(new xr("auth-internal",e=>{const n=xa(e.getProvider("auth").getImmediate());return(r=>new xH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(yE,_E,NH(t)),nr(yE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=5*60;oF("authIdTokenMaxAge");function VH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}J5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",VH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MH("Browser");const ER=Symbol("firebaseApp");function x0(t){return ti()&&Rr(ER,null)||Cd(t)}const FH=typeof window<"u",Mh=new WeakMap;function $H(t,e){if(!Mh.has(t)){const n=Yy(!0);Mh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Mh.delete(t)}}return Mh.get(t)}const IR=new WeakMap;function SR(t){return IR.get(x0(t))}const Lh=new WeakMap;function AR(t){const e=x0(t);if(!Lh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Lh.set(e,s),n(s.value)}];Lh.set(e,i)}return Lh.get(e)}function CR(t){const e=AR(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function UH(t,e){Aj(e,n=>{const r=AR();t.value=n,Array.isArray(r)&&r[1](t)})}var bE={};const wE="@firebase/database",TE="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OR="";function BH(t){OR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jH(e)}}catch{}return new HH},Go=PR("localStorage"),ay=PR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new lu("@firebase/database"),WH=function(){let t=1;return function(){return t++}}(),kR=function(t){const e=TF(t),n=new vF;n.update(e);const r=n.digest();return Vp.encodeByteArray(r)},Bd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Bd.apply(null,r):typeof r=="object"?e+=Qn(r):e+=r,e+=" "}return e};let na=null,EE=!0;const qH=function(t,e){ke(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Cl.logLevel=ft.VERBOSE,na=Cl.log.bind(Cl),e&&ay.set("logging_enabled",!0)):typeof t=="function"?na=t:(na=null,ay.remove("logging_enabled"))},fr=function(...t){if(EE===!0&&(EE=!1,na===null&&ay.get("logging_enabled")===!0&&qH(!0)),na){const e=Bd.apply(null,t);na(e)}},jd=function(t){return function(...e){fr(t,...e)}},ly=function(...t){const e="FIREBASE INTERNAL ERROR: "+Bd(...t);Cl.error(e)},ya=function(...t){const e=`FIREBASE FATAL ERROR: ${Bd(...t)}`;throw Cl.error(e),new Error(e)},ei=function(...t){const e="FIREBASE WARNING: "+Bd(...t);Cl.warn(e)},zH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},RR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},KH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gl="[MIN_NAME]",_a="[MAX_NAME]",fu=function(t,e){if(t===e)return 0;if(t===Gl||e===_a)return-1;if(e===Gl||t===_a)return 1;{const n=IE(t),r=IE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},GH=function(t,e){return t===e?0:t<e?-1:1},Mu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qn(e))},N0=function(t){if(typeof t!="object"||t===null)return Qn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Qn(e[r]),n+=":",n+=N0(t[e[r]]);return n+="}",n},DR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function fi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const xR=function(t){ke(!RR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},YH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},XH=new RegExp("^-?(0*)\\d{1,10}$"),JH=-2147483648,ZH=2147483647,IE=function(t){if(XH.test(t)){const e=Number(t);if(e>=JH&&e<=ZH)return e}return null},Hd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ei("Exception was thrown by user callback.",n),e},Math.floor(0))}},e7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ei(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(fr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ei(e)}}class uy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}uy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="5",NR="v",MR="s",LR="r",VR="f",FR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$R="ls",UR="p",cy="ac",BR="websocket",jR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Go.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Go.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function i7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function HR(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===BR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===jR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);i7(t)&&(n.ns=t.namespace);const i=[];return fi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.counters_={}}incrementCounter(e,n=1){xs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag={},Cg={};function L0(t){const e=t.toString();return Ag[e]||(Ag[e]=new s7),Ag[e]}function o7(t,e){const n=t.toString();return Cg[n]||(Cg[n]=e()),Cg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Hd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="start",l7="close",u7="pLPCommand",c7="pRTLPCB",WR="id",qR="pw",zR="ser",d7="cb",h7="seg",f7="ts",p7="d",m7="dframe",KR=1870,GR=30,g7=KR-GR,v7=25e3,y7=3e4;class ul{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jd(e),this.stats_=L0(n),this.urlFn=l=>(this.appCheckToken&&(l[cy]=this.appCheckToken),HR(n,jR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(y7)),KH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===SE)this.id=a,this.password=l;else if(o===l7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[SE]="t",r[zR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[d7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[NR]=M0,this.transportSessionId&&(r[MR]=this.transportSessionId),this.lastSessionId&&(r[$R]=this.lastSessionId),this.applicationId&&(r[UR]=this.applicationId),this.appCheckToken&&(r[cy]=this.appCheckToken),typeof location<"u"&&location.hostname&&FR.test(location.hostname)&&(r[LR]=VR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ul.forceAllow_=!0}static forceDisallow(){ul.forceDisallow_=!0}static isAvailable(){return ul.forceAllow_?!0:!ul.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!YH()&&!QH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XC(n),i=DR(r,g7);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[m7]="t",r[WR]=e,r[qR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class V0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WH(),window[u7+this.uniqueCallbackIdentifier]=e,window[c7+this.uniqueCallbackIdentifier]=n,this.myIFrame=V0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){fr("frame writing exception"),a.stack&&fr(a.stack),fr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||fr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[WR]=this.myID,e[qR]=this.myPW,e[zR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+GR+r.length<=KR;){const o=this.pendingSegs.shift();r=r+"&"+h7+i+"="+o.seg+"&"+f7+i+"="+o.ts+"&"+p7+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(v7)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=16384,b7=45e3;let ep=null;typeof MozWebSocket<"u"?ep=MozWebSocket:typeof WebSocket<"u"&&(ep=WebSocket);class wi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jd(this.connId),this.stats_=L0(n),this.connURL=wi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[NR]=M0,typeof location<"u"&&location.hostname&&FR.test(location.hostname)&&(o[LR]=VR),n&&(o[MR]=n),r&&(o[$R]=r),i&&(o[cy]=i),s&&(o[UR]=s),HR(e,BR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Go.set("previous_websocket_failure",!0);try{let r;sO(),this.mySock=new ep(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){wi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ep!==null&&!wi.forceDisallow_}static previouslyFailed(){return Go.isInMemoryStorage||Go.get("previous_websocket_failure")===!0}markConnectionHealthy(){Go.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Qn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=DR(n,_7);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(b7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wi.responsesRequiredToBeHealthy=2;wi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ul,wi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=wi&&wi.isAvailable();let r=n&&!wi.previouslyFailed();if(e.webSocketOnly&&(n||ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wi];else{const i=this.transports_=[];for(const s of Zc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Zc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=6e4,T7=5e3,E7=10*1024,I7=100*1024,Og="t",AE="d",S7="s",CE="r",A7="e",OE="o",PE="a",kE="n",RE="p",C7="h";class O7{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jd("c:"+this.id+":"),this.transportManager_=new Zc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=vc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>I7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>E7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Og in e){const n=e[Og];n===PE?this.upgradeIfSecondaryHealthy_():n===CE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===OE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mu("t",e),r=Mu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:RE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:PE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mu("t",e),r=Mu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mu(Og,e);if(AE in e){const r=e[AE];if(n===C7){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===kE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===S7?this.onConnectionShutdown_(r):n===CE?this.onReset_(r):n===A7?ly("Server Error: "+r):n===OE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ly("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),M0!==r&&ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(w7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(T7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:RE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends QR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!__()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tp}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=32,xE=768;class cn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function jt(){return new cn("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function So(t){return t.pieces_.length-t.pieceNum_}function on(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new cn(t.pieces_,e)}function XR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function P7(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function JR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ZR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new cn(e,0)}function Hn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof cn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new cn(n,0)}function vt(t){return t.pieceNum_>=t.pieces_.length}function li(t,e){const n=wt(t),r=wt(e);if(n===null)return e;if(n===r)return li(on(t),on(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function eD(t,e){if(So(t)!==So(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ii(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(So(t)>So(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class k7{constructor(e,n){this.errorPrefix_=n,this.parts_=JR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Up(this.parts_[r]);tD(this)}}function R7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Up(e),tD(t)}function D7(t){const e=t.parts_.pop();t.byteLength_-=Up(e),t.parts_.length>0&&(t.byteLength_-=1)}function tD(t){if(t.byteLength_>xE)throw new Error(t.errorPrefix_+"has a key path longer than "+xE+" bytes ("+t.byteLength_+").");if(t.parts_.length>DE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+DE+") or object contains a cycle "+Bo(t))}function Bo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends QR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new F0}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=1e3,x7=60*5*1e3,NE=30*1e3,N7=1.3,M7=3e4,L7="server_kill",ME=3;class Is extends YR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Is.nextPersistentConnectionId_++,this.log_=jd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lu,this.maxReconnectDelay_=x7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!sO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");F0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&tp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Qn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ua,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Is.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xs(e,"w")){const r=Fl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||gF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=NE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=mF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ly("Unrecognized action received from server: "+Qn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>M7&&(this.reconnectDelay_=Lu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*N7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Is.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?fr("getToken() completed but was canceled"):(fr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new O7(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ei(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(L7)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ei(h),l())}}}interrupt(e){fr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pv(this.interruptReasons_)&&(this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>N0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new cn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){fr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ME&&(this.reconnectDelay_=NE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){fr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ME&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+OR.replace(/\./g,"-")]=1,__()?e["framework.cordova"]=1:iO()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tp.getInstance().currentlyOnline();return Pv(this.interruptReasons_)&&e}}Is.nextPersistentConnectionId_=0;Is.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Tt(Gl,e),i=new Tt(Gl,n);return this.compare(r,i)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh;class nD extends mm{static get __EMPTY_NODE(){return Vh}static set __EMPTY_NODE(e){Vh=e}compare(e,n){return fu(e.name,n.name)}isDefinedOn(e){throw ou("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(_a,Vh)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new Tt(e,Vh)}toString(){return".key"}}const Ol=new nD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??Ur.EMPTY_NODE,this.right=s??Ur.EMPTY_NODE}copy(e,n,r,i,s){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ur.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ur.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jn.RED=!0;jn.BLACK=!1;class V7{copy(e,n,r,i,s){return this}insert(e,n,r){return new jn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ur{constructor(e,n=Ur.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ur(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jn.BLACK,null,null))}remove(e){return new Ur(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fh(this.root_,null,this.comparator_,!0,e)}}Ur.EMPTY_NODE=new V7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t,e){return fu(t.name,e.name)}function $0(t,e){return fu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy;function $7(t){dy=t}const rD=function(t){return typeof t=="number"?"number:"+xR(t):"string:"+t},iD=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xs(e,".sv"),"Priority must be a string or number.")}else ke(t===dy||t.isEmpty(),"priority of unexpected type.");ke(t===dy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LE;class Un{constructor(e,n=Un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),iD(this.priorityNode_)}static set __childrenNodeConstructor(e){LE=e}static get __childrenNodeConstructor(){return LE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vt(e)?this:wt(e)===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=wt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||So(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Un.__childrenNodeConstructor.EMPTY_NODE.updateChild(on(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+rD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=xR(this.value_):e+=this.value_,this.lazyHash_=kR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Un.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Un.VALUE_TYPE_ORDER.indexOf(n),s=Un.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+n),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sD,oD;function U7(t){sD=t}function B7(t){oD=t}class j7 extends mm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(_a,new Un("[PRIORITY-POST]",oD))}makePost(e,n){const r=sD(e);return new Tt(n,new Un("[PRIORITY-POST]",r))}toString(){return".priority"}}const gr=new j7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=Math.log(2);class W7{constructor(e){const n=s=>parseInt(Math.log(s)/H7,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const np=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new jn(f,h.node,jn.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),w=i(p+1,u);return h=t[p],f=n?n(h):h,new jn(f,h.node,jn.BLACK,g,w)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,w){const E=h-g,R=h;h-=g;const P=i(E+1,R),T=t[E],y=n?n(T):T;p(new jn(y,T.node,w,null,P))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const w=l.nextBitIsOne(),E=Math.pow(2,l.count-(g+1));w?f(E,jn.BLACK):(f(E,jn.BLACK),f(E,jn.RED))}return c},o=new W7(t.length),a=s(o);return new Ur(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg;const Ga={};class bs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(Ga&&gr,"ChildrenNode.ts has not been loaded"),Pg=Pg||new bs({".priority":Ga},{".priority":gr}),Pg}get(e){const n=Fl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ur?n:null}hasIndex(e){return xs(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==Ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=np(r,e.getCompare()):a=Ga;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new bs(c,u)}addToIndexes(e,n){const r=xf(this.indexes_,(i,s)=>{const o=Fl(this.indexSet_,s);if(ke(o,"Missing index implementation for "+s),i===Ga)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Tt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),np(a,o.getCompare())}else return Ga;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Tt(e.name,a))),l.insert(e,e.node)}});return new bs(r,this.indexSet_)}removeFromIndexes(e,n){const r=xf(this.indexes_,i=>{if(i===Ga)return i;{const s=n.get(e.name);return s?i.remove(new Tt(e.name,s)):i}});return new bs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu;class Vt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&iD(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vu||(Vu=new Vt(new Ur($0),null,bs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vu}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Vu:n}}getChild(e){const n=wt(e);return n===null?this:this.getImmediateChild(n).getChild(on(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Vu:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,n){const r=wt(e);if(r===null)return n;{ke(wt(e)!==".priority"||So(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(on(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(gr,(o,a)=>{n[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+rD(this.getPriority().val())+":"),this.forEachChild(gr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":kR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wd?-1:0}withIndex(e){if(e===Ol||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ol||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gr),i=n.getIterator(gr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ol?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class q7 extends Vt{constructor(){super(new Ur($0),Vt.EMPTY_NODE,bs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const Wd=new q7;Object.defineProperties(Tt,{MIN:{value:new Tt(Gl,Vt.EMPTY_NODE)},MAX:{value:new Tt(_a,Wd)}});nD.__EMPTY_NODE=Vt.EMPTY_NODE;Un.__childrenNodeConstructor=Vt;$7(Wd);B7(Wd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=!0;function pr(t,e=null){if(t===null)return Vt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Un(n,pr(e))}if(!(t instanceof Array)&&z7){const n=[];let r=!1;if(fi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=pr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Tt(o,l)))}}),n.length===0)return Vt.EMPTY_NODE;const s=np(n,F7,o=>o.name,$0);if(r){const o=np(n,gr.getCompare());return new Vt(s,pr(e),new bs({".priority":o},{".priority":gr}))}else return new Vt(s,pr(e),bs.Default)}else{let n=Vt.EMPTY_NODE;return fi(t,(r,i)=>{if(xs(t,r)&&r.substring(0,1)!=="."){const s=pr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(pr(e))}}U7(pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7 extends mm{constructor(e){super(),this.indexPath_=e,ke(!vt(e)&&wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fu(e.name,n.name):s}makePost(e,n){const r=pr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Tt(n,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,Wd);return new Tt(_a,e)}toString(){return JR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7 extends mm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(e,n){const r=pr(e);return new Tt(n,r)}toString(){return".value"}}const Y7=new G7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t){return{type:"value",snapshotNode:t}}function X7(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function J7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function VE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Z7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gl}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_a}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gr}copy(){const e=new U0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function FE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===gr?n="$priority":t.index_===Y7?n="$value":t.index_===Ol?n="$key":(ke(t.index_ instanceof K7,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Qn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Qn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Qn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Qn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $E(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends YR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=rp.getListenId_(e,r),a={};this.listens_[o]=a;const l=FE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Fl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=rp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=FE(e._queryParams),r=e._path.toString(),i=new ua;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+au(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Uc(a.responseText)}catch{ei("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ei("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){return{value:null,children:new Map}}function aD(t,e,n){if(vt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,ip());const i=t.children.get(r);e=on(e),aD(i,e,n)}}function hy(t,e,n){t.value!==null?n(e,t.value):t8(t,(r,i)=>{const s=new cn(e.toString()+"/"+r);hy(i,s,n)})}function t8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&fi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=10*1e3,r8=30*1e3,i8=5*60*1e3;class s8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new n8(e);const r=UE+(r8-UE)*Math.random();vc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;fi(e,(i,s)=>{s>0&&xs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),vc(this.reportStats_.bind(this),Math.floor(Math.random()*2*i8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gi||(Gi={}));function lD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gi.ACK_USER_WRITE,this.source=lD()}operationForChild(e){if(vt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new cn(e));return new sp(jt(),n,this.revert)}}else return ke(wt(this.path)===e,"operationForChild called for unrelated child."),new sp(on(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gi.OVERWRITE}operationForChild(e){return vt(this.path)?new ba(this.source,jt(),this.snap.getImmediateChild(e)):new ba(this.source,on(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gi.MERGE}operationForChild(e){if(vt(this.path)){const n=this.children.subtree(new cn(e));return n.isEmpty()?null:n.value?new ba(this.source,jt(),n.value):new ed(this.source,jt(),n)}else return ke(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ed(this.source,on(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function o8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Z7(o.childName,o.snapshotNode))}),Fu(t,i,"child_removed",e,r,n),Fu(t,i,"child_added",e,r,n),Fu(t,i,"child_moved",s,r,n),Fu(t,i,"child_changed",e,r,n),Fu(t,i,"value",e,r,n),i}function Fu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>l8(t,a,l)),o.forEach(a=>{const l=a8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function a8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function l8(t,e,n){if(e.childName==null||n.childName==null)throw ou("Should only compare child_ events.");const r=new Tt(e.childName,e.snapshotNode),i=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e){return{eventCache:t,serverCache:e}}function yc(t,e,n,r){return dD(new B0(e,n,r),t.serverCache)}function hD(t,e,n,r){return dD(t.eventCache,new B0(e,n,r))}function fy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kg;const u8=()=>(kg||(kg=new Ur(GH)),kg);class sn{constructor(e,n=u8()){this.value=e,this.children=n}static fromObject(e){let n=new sn(null);return fi(e,(r,i)=>{n=n.set(new cn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:jt(),value:this.value};if(vt(e))return null;{const r=wt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(on(e),n);return s!=null?{path:Hn(new cn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(vt(e))return this;{const n=wt(e),r=this.children.get(n);return r!==null?r.subtree(on(e)):new sn(null)}}set(e,n){if(vt(e))return new sn(n,this.children);{const r=wt(e),s=(this.children.get(r)||new sn(null)).set(on(e),n),o=this.children.insert(r,s);return new sn(this.value,o)}}remove(e){if(vt(e))return this.children.isEmpty()?new sn(null):new sn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(on(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new sn(null):new sn(this.value,s)}else return this}}get(e){if(vt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(on(e)):null}}setTree(e,n){if(vt(e))return n;{const r=wt(e),s=(this.children.get(r)||new sn(null)).setTree(on(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new sn(this.value,o)}}fold(e){return this.fold_(jt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Hn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,jt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(vt(e))return null;{const s=wt(e),o=this.children.get(s);return o?o.findOnPath_(on(e),Hn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,jt(),n)}foreachOnPath_(e,n,r){if(vt(e))return this;{this.value&&r(n,this.value);const i=wt(e),s=this.children.get(i);return s?s.foreachOnPath_(on(e),Hn(n,i),r):new sn(null)}}foreach(e){this.foreach_(jt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Hn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.writeTree_=e}static empty(){return new Ci(new sn(null))}}function _c(t,e,n){if(vt(e))return new Ci(new sn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=li(i,e);return s=s.updateChild(o,n),new Ci(t.writeTree_.set(i,s))}else{const i=new sn(n),s=t.writeTree_.setTree(e,i);return new Ci(s)}}}function BE(t,e,n){let r=t;return fi(n,(i,s)=>{r=_c(r,Hn(e,i),s)}),r}function jE(t,e){if(vt(e))return Ci.empty();{const n=t.writeTree_.setTree(e,new sn(null));return new Ci(n)}}function py(t,e){return Na(t,e)!=null}function Na(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(li(n.path,e)):null}function HE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gr,(r,i)=>{e.push(new Tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Tt(r,i.value))}),e}function co(t,e){if(vt(e))return t;{const n=Na(t,e);return n!=null?new Ci(new sn(n)):new Ci(t.writeTree_.subtree(e))}}function my(t){return t.writeTree_.isEmpty()}function Yl(t,e){return fD(jt(),t.writeTree_,e)}function fD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=fD(Hn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Hn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e){return _D(e,t)}function c8(t,e,n,r,i){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=_c(t.visibleWrites,e,n)),t.lastWriteId=r}function d8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function h8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&f8(a,r.path)?i=!1:Ii(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return p8(t),!0;if(r.snap)t.visibleWrites=jE(t.visibleWrites,r.path);else{const a=r.children;fi(a,l=>{t.visibleWrites=jE(t.visibleWrites,Hn(r.path,l))})}return!0}else return!1}function f8(t,e){if(t.snap)return Ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ii(Hn(t.path,n),e))return!0;return!1}function p8(t){t.visibleWrites=mD(t.allWrites,m8,jt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function m8(t){return t.visible}function mD(t,e,n){let r=Ci.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ii(n,o)?(a=li(n,o),r=_c(r,a,s.snap)):Ii(o,n)&&(a=li(o,n),r=_c(r,jt(),s.snap.getChild(a)));else if(s.children){if(Ii(n,o))a=li(n,o),r=BE(r,a,s.children);else if(Ii(o,n))if(a=li(o,n),vt(a))r=BE(r,jt(),s.children);else{const l=Fl(s.children,wt(a));if(l){const u=l.getChild(on(a));r=_c(r,jt(),u)}}}else throw ou("WriteRecord should have .snap or .children")}}return r}function gD(t,e,n,r,i){if(!r&&!i){const s=Na(t.visibleWrites,e);if(s!=null)return s;{const o=co(t.visibleWrites,e);if(my(o))return n;if(n==null&&!py(o,jt()))return null;{const a=n||Vt.EMPTY_NODE;return Yl(o,a)}}}else{const s=co(t.visibleWrites,e);if(!i&&my(s))return n;if(!i&&n==null&&!py(s,jt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ii(u.path,e)||Ii(e,u.path))},a=mD(t.allWrites,o,e),l=n||Vt.EMPTY_NODE;return Yl(a,l)}}}function g8(t,e,n){let r=Vt.EMPTY_NODE;const i=Na(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=co(t.visibleWrites,e);return n.forEachChild(gr,(o,a)=>{const l=Yl(co(s,new cn(o)),a);r=r.updateImmediateChild(o,l)}),HE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=co(t.visibleWrites,e);return HE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function v8(t,e,n,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Hn(e,n);if(py(t.visibleWrites,s))return null;{const o=co(t.visibleWrites,s);return my(o)?i.getChild(n):Yl(o,i.getChild(n))}}function y8(t,e,n,r){const i=Hn(e,n),s=Na(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=co(t.visibleWrites,i);return Yl(o,r.getNode().getImmediateChild(n))}else return null}function _8(t,e){return Na(t.visibleWrites,e)}function b8(t,e,n,r,i,s,o){let a;const l=co(t.visibleWrites,e),u=Na(l,jt());if(u!=null)a=u;else if(n!=null)a=Yl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function w8(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}function gy(t,e,n,r){return gD(t.writeTree,t.treePath,e,n,r)}function vD(t,e){return g8(t.writeTree,t.treePath,e)}function WE(t,e,n,r){return v8(t.writeTree,t.treePath,e,n,r)}function op(t,e){return _8(t.writeTree,Hn(t.treePath,e))}function T8(t,e,n,r,i,s){return b8(t.writeTree,t.treePath,e,n,r,i,s)}function j0(t,e,n){return y8(t.writeTree,t.treePath,e,n)}function yD(t,e){return _D(Hn(t.treePath,e),t.writeTree)}function _D(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,VE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,J7(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,X7(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,VE(r,e.snapshotNode,i.oldSnap));else throw ou("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const bD=new I8;class H0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new B0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return j0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wa(this.viewCache_),s=T8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function S8(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function A8(t,e,n,r,i){const s=new E8;let o,a;if(n.type===Gi.OVERWRITE){const u=n;u.source.fromUser?o=vy(t,e,u.path,u.snap,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!vt(u.path),o=ap(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Gi.MERGE){const u=n;u.source.fromUser?o=O8(t,e,u.path,u.children,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=yy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Gi.ACK_USER_WRITE){const u=n;u.revert?o=R8(t,e,u.path,r,i,s):o=P8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Gi.LISTEN_COMPLETE)o=k8(t,e,n.path,r,s);else throw ou("Unknown operation type: "+n.type);const l=s.getChanges();return C8(e,o,l),{viewCache:o,changes:l}}function C8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=fy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Q7(fy(e)))}}function wD(t,e,n,r,i,s){const o=e.eventCache;if(op(r,n)!=null)return e;{let a,l;if(vt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=wa(e),c=u instanceof Vt?u:Vt.EMPTY_NODE,h=vD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=gy(r,wa(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=wt(n);if(u===".priority"){ke(So(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=WE(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=on(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=WE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=j0(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return yc(e,a,o.isFullyInitialized()||vt(n),t.filter.filtersNodes())}}function ap(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(vt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=wt(n);if(!l.isCompleteForPath(n)&&So(n)>1)return e;const g=on(n),E=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),p,E,g,bD,null)}const h=hD(e,u,l.isFullyInitialized()||vt(n),c.filtersNodes()),f=new H0(i,h,s);return wD(t,h,n,i,f,a)}function vy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new H0(i,e,s);if(vt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=yc(e,u,!0,t.filter.filtersNodes());else{const h=wt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=yc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=on(n),p=a.getNode().getImmediateChild(h);let g;if(vt(f))g=r;else{const w=c.getCompleteChild(h);w!=null?XR(f)===".priority"&&w.getChild(ZR(f)).isEmpty()?g=w:g=w.updateChild(f,r):g=Vt.EMPTY_NODE}if(p.equals(g))l=e;else{const w=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=yc(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function qE(t,e){return t.eventCache.isCompleteForChild(e)}function O8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Hn(n,l);qE(e,wt(c))&&(a=vy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Hn(n,l);qE(e,wt(c))||(a=vy(t,a,c,u,i,s,o))}),a}function zE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function yy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;vt(n)?u=r:u=new sn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=zE(t,p,f);l=ap(t,l,new cn(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),w=zE(t,g,f);l=ap(t,l,new cn(h),w,i,s,o,a)}}),l}function P8(t,e,n,r,i,s,o){if(op(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(vt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ap(t,e,n,l.getNode().getChild(n),i,s,a,o);if(vt(n)){let u=new sn(null);return l.getNode().forEachChild(Ol,(c,h)=>{u=u.set(new cn(c),h)}),yy(t,e,n,u,i,s,a,o)}else return e}else{let u=new sn(null);return r.foreach((c,h)=>{const f=Hn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),yy(t,e,n,u,i,s,a,o)}}function k8(t,e,n,r,i){const s=e.serverCache,o=hD(e,s.getNode(),s.isFullyInitialized()||vt(n),s.isFiltered());return wD(t,o,n,r,bD,i)}function R8(t,e,n,r,i,s){let o;if(op(r,n)!=null)return e;{const a=new H0(r,e,i),l=e.eventCache.getNode();let u;if(vt(n)||wt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=gy(r,wa(e));else{const h=e.serverCache.getNode();ke(h instanceof Vt,"serverChildren would be complete if leaf node"),c=vD(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=wt(n);let h=j0(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,on(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Vt.EMPTY_NODE,on(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=gy(r,wa(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||op(r,jt())!=null,yc(e,u,o,t.filter.filtersNodes())}}function D8(t,e){const n=wa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!vt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function KE(t,e,n,r){e.type===Gi.MERGE&&e.source.queryId!==null&&(ke(wa(t.viewCache_),"We should always have a full cache before handling merges"),ke(fy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=A8(t.processor_,i,e,n,r);return S8(t.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,x8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function x8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return o8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GE;function N8(t){ke(!GE,"__referenceConstructor has already been defined"),GE=t}function W0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),KE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(KE(o,e,n,r));return s}}function q0(t,e){let n=null;for(const r of t.views.values())n=n||D8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YE;function M8(t){ke(!YE,"__referenceConstructor has already been defined"),YE=t}class QE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_=w8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function L8(t,e,n,r,i){return c8(t.pendingWriteTree_,e,n,r,i),i?vm(t,new ba(lD(),e,n)):[]}function cl(t,e,n=!1){const r=d8(t.pendingWriteTree_,e);if(h8(t.pendingWriteTree_,e)){let s=new sn(null);return r.snap!=null?s=s.set(jt(),!0):fi(r.children,o=>{s=s.set(new cn(o),!0)}),vm(t,new sp(r.path,s,n))}else return[]}function gm(t,e,n){return vm(t,new ba(uD(),e,n))}function V8(t,e,n){const r=sn.fromObject(n);return vm(t,new ed(uD(),e,r))}function F8(t,e,n,r){const i=SD(t,r);if(i!=null){const s=AD(i),o=s.path,a=s.queryId,l=li(o,e),u=new ba(cD(a),l,n);return CD(t,o,u)}else return[]}function $8(t,e,n,r){const i=SD(t,r);if(i){const s=AD(i),o=s.path,a=s.queryId,l=li(o,e),u=sn.fromObject(n),c=new ed(cD(a),l,u);return CD(t,o,c)}else return[]}function TD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=li(o,e),u=q0(a,l);if(u)return u});return gD(i,e,s,n,!0)}function vm(t,e){return ED(e,t.syncPointTree_,null,pD(t.pendingWriteTree_,jt()))}function ED(t,e,n,r){if(vt(t.path))return ID(t,e,n,r);{const i=e.get(jt());n==null&&i!=null&&(n=q0(i,jt()));let s=[];const o=wt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=yD(r,o);s=s.concat(ED(a,l,u,c))}return i&&(s=s.concat(W0(i,t,r,n))),s}}function ID(t,e,n,r){const i=e.get(jt());n==null&&i!=null&&(n=q0(i,jt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=yD(r,o),c=t.operationForChild(o);c&&(s=s.concat(ID(c,a,l,u)))}),i&&(s=s.concat(W0(i,t,r,n))),s}function SD(t,e){return t.tagToQueryMap.get(e)}function AD(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new cn(t.substr(0,e))}}function CD(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=pD(t.pendingWriteTree_,e);return W0(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new z0(n)}node(){return this.node_}}class K0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Hn(this.path_,e);return new K0(this.syncTree_,n)}node(){return TD(this.syncTree_,this.path_)}}const U8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},XE=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return B8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return j8(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},B8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},j8=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},H8=function(t,e,n,r){return G0(e,new K0(n,t),r)},W8=function(t,e,n){return G0(t,new z0(e),n)};function G0(t,e,n){const r=t.getPriority().val(),i=XE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=XE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Un(a,pr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Un(i))),o.forEachChild(gr,(a,l)=>{const u=G0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Q0(t,e){let n=e instanceof cn?e:new cn(e),r=t,i=wt(n);for(;i!==null;){const s=Fl(r.node.children,i)||{children:{},childCount:0};r=new Y0(i,r,s),n=on(n),i=wt(n)}return r}function pu(t){return t.node.value}function OD(t,e){t.node.value=e,_y(t)}function PD(t){return t.node.childCount>0}function q8(t){return pu(t)===void 0&&!PD(t)}function ym(t,e){fi(t.node.children,(n,r)=>{e(new Y0(n,t,r))})}function kD(t,e,n,r){n&&!r&&e(t),ym(t,i=>{kD(i,e,!0,r)}),n&&r&&e(t)}function z8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qd(t){return new cn(t.parent===null?t.name:qd(t.parent)+"/"+t.name)}function _y(t){t.parent!==null&&K8(t.parent,t.name,t)}function K8(t,e,n){const r=q8(n),i=xs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,_y(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,_y(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=/[\[\].#$\/\u0000-\u001F\u007F]/,Y8=/[\[\].#$\u0000-\u001F\u007F]/,Rg=10*1024*1024,RD=function(t){return typeof t=="string"&&t.length!==0&&!G8.test(t)},Q8=function(t){return typeof t=="string"&&t.length!==0&&!Y8.test(t)},X8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Q8(t)},DD=function(t,e,n){const r=n instanceof cn?new k7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bo(r)+" with contents = "+e.toString());if(RR(e))throw new Error(t+"contains "+e.toString()+" "+Bo(r));if(typeof e=="string"&&e.length>Rg/3&&Up(e)>Rg)throw new Error(t+"contains a string greater than "+Rg+" utf8 bytes "+Bo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(fi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!RD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Bo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);R7(r,o),DD(t,a,r),D7(r)}),i&&s)throw new Error(t+' contains ".value" child '+Bo(r)+" in addition to actual children.")}},J8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!RD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!X8(n))throw new Error(wF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eW(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!eD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ma(t,e,n){eW(t,n),tW(t,r=>Ii(r,e)||Ii(e,r))}function tW(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(nW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function nW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();na&&fr("event: "+n.toString()),Hd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW="repo_interrupt",iW=25;class sW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Z8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ip(),this.transactionQueueTree_=new Y0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oW(t,e,n){if(t.stats_=L0(t.repoInfo_),t.forceRestClient_||e7())t.server_=new rp(t.repoInfo_,(r,i,s,o)=>{JE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ZE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Is(t.repoInfo_,e,(r,i,s,o)=>{JE(t,r,i,s,o)},r=>{ZE(t,r)},r=>{lW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=o7(t.repoInfo_,()=>new s8(t.stats_,t.server_)),t.infoData_=new e8,t.infoSyncTree_=new QE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=gm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),X0(t,"connected",!1),t.serverSyncTree_=new QE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Ma(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function aW(t){const n=t.infoData_.getNode(new cn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xD(t){return U8({timestamp:aW(t)})}function JE(t,e,n,r,i){t.dataUpdateCount++;const s=new cn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=xf(n,u=>pr(u));o=$8(t.serverSyncTree_,s,l,i)}else{const l=pr(n);o=F8(t.serverSyncTree_,s,l,i)}else if(r){const l=xf(n,u=>pr(u));o=V8(t.serverSyncTree_,s,l)}else{const l=pr(n);o=gm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Z0(t,s)),Ma(t.eventQueue_,a,o)}function ZE(t,e){X0(t,"connected",e),e===!1&&cW(t)}function lW(t,e){fi(e,(n,r)=>{X0(t,n,r)})}function X0(t,e,n){const r=new cn("/.info/"+e),i=pr(n);t.infoData_.updateSnapshot(r,i);const s=gm(t.infoSyncTree_,r,i);Ma(t.eventQueue_,r,s)}function uW(t){return t.nextWriteId_++}function cW(t){ND(t,"onDisconnectEvents");const e=xD(t),n=ip();hy(t.onDisconnect_,jt(),(i,s)=>{const o=H8(i,s,t.serverSyncTree_,e);aD(n,i,o)});let r=[];hy(n,jt(),(i,s)=>{r=r.concat(gm(t.serverSyncTree_,i,s));const o=pW(t,i);Z0(t,o)}),t.onDisconnect_=ip(),Ma(t.eventQueue_,jt(),r)}function dW(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rW)}function ND(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fr(n,...e)}function MD(t,e,n){return TD(t.serverSyncTree_,e,n)||Vt.EMPTY_NODE}function J0(t,e=t.transactionQueueTree_){if(e||_m(t,e),pu(e)){const n=VD(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&hW(t,qd(e),n)}else PD(e)&&ym(e,n=>{J0(t,n)})}function hW(t,e,n){const r=n.map(u=>u.currentWriteId),i=MD(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=li(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{ND(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(cl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();_m(t,Q0(t.transactionQueueTree_,e)),J0(t,t.transactionQueueTree_),Ma(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)Hd(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ei("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Z0(t,e)}},o)}function Z0(t,e){const n=LD(t,e),r=qd(n),i=VD(t,n);return fW(t,i,r),r}function fW(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=li(n,l.path);let c=!1,h;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(cl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=iW)c=!0,h="maxretry",i=i.concat(cl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=MD(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){DD("transaction failed: Data returned ",p,l.path);let g=pr(p);typeof p=="object"&&p!=null&&xs(p,".priority")||(g=g.updatePriority(f.getPriority()));const E=l.currentWriteId,R=xD(t),P=W8(g,f,R);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=P,l.currentWriteId=uW(t),o.splice(o.indexOf(E),1),i=i.concat(L8(t.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(cl(t.serverSyncTree_,E,!0))}else c=!0,h="nodata",i=i.concat(cl(t.serverSyncTree_,l.currentWriteId,!0))}Ma(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}_m(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Hd(r[a]);J0(t,t.transactionQueueTree_)}function LD(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);n!==null&&pu(r)===void 0;)r=Q0(r,n),e=on(e),n=wt(e);return r}function VD(t,e){const n=[];return FD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function FD(t,e,n){const r=pu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ym(e,i=>{FD(t,i,n)})}function _m(t,e){const n=pu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,OD(e,n.length>0?n:void 0)}ym(e,r=>{_m(t,r)})}function pW(t,e){const n=qd(LD(t,e)),r=Q0(t.transactionQueueTree_,e);return z8(r,i=>{Dg(t,i)}),Dg(t,r),kD(r,i=>{Dg(t,i)}),n}function Dg(t,e){const n=pu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?OD(e,void 0):n.length=s+1,Ma(t.eventQueue_,qd(e),i);for(let o=0;o<r.length;o++)Hd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function gW(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ei(`Invalid query segment '${n}' in query '${t}'`)}return e}const eI=function(t,e){const n=vW(t),r=n.namespace;n.domain==="firebase.com"&&ya(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ya("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new r7(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new cn(n.pathString)}},vW=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=mW(t.substring(c,h)));const f=gW(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return vt(this._path)?null:XR(this._path)}get ref(){return new mu(this._repo,this._path)}get _queryIdentifier(){const e=$E(this._queryParams),n=N0(e);return n==="{}"?"default":n}get _queryObject(){return $E(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof eb))return!1;const n=this._repo===e._repo,r=eD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+P7(this._path)}}class mu extends eb{constructor(e,n){super(e,n,new U0,!1)}get parent(){const e=ZR(this._path);return e===null?null:new mu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}N8(mu);M8(mu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="FIREBASE_DATABASE_EMULATOR_HOST",by={};let _W=!1;function bW(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ya("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=eI(s,i),a=o.repoInfo,l,u;typeof process<"u"&&bE&&(u=bE[yW]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=eI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new uy(uy.OWNER):new n7(t.name,t.options,e);J8("Invalid Firebase Database URL",o),vt(o.path)||ya("Database URL must point to the root of a Firebase Database (not including a child path).");const h=TW(a,t,c,new t7(t.name,n));return new EW(h,t)}function wW(t,e){const n=by[e];(!n||n[t.key]!==t)&&ya(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dW(t),delete n[t.key]}function TW(t,e,n,r){let i=by[e.name];i||(i={},by[e.name]=i);let s=i[t.toURLString()];return s&&ya("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sW(t,_W,n,r),i[t.toURLString()]=s,s}class EW{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mu(this._repo,jt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ya("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){BH(ko),Hr(new xr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return bW(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),nr(wE,TE,t),nr(wE,TE,"esm2017")}Is.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Is.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};IW();function zd(t){return V9(x0(t))}function SW(t){return AW({initialUser:t,dependencies:{popupRedirectResolver:DH,persistence:[Hj,Rj,gR]}})}const $D=Symbol("VueFireAuth");function AW({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=CW(n,r,e,t);UH(i,s)}}function CW(t,e,n,r,i=sj(t,r)){const s=$H(t,e).run(()=>ce(n));return IR.set(t,s),e.provide($D,i),[s,i]}function OW(t){return FH?Rr($D):null}function PW(t,{firebaseApp:e,modules:n=[]}){t.provide(ER,e);for(const r of n)r(e,t)}var zt=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.PET_OVERVIEW="pets",t.PET_DETAILS="pet-details",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.TOOLS="tools",t.GAMES="games",t.NOT_FOUND="notfound",t))(zt||{}),Kr=(t=>(t.GAMES_YAHTZEE="yahtzee",t.GAMES_RAINWORMS="rainworms",t.GAMES_PATIENCE="patience",t.GAMES_HANGMAN="guess",t.TOOLS_CAT_CALC="cat-calc",t.TOOLS_ON_THIS_DAY="on-this-day",t))(Kr||{});const Kd=Oa("settingsStore",()=>{const t=ce(!0),e=ce(!1);return{isOnline:t,debug:e}},{persist:{enabled:!0}}),tI={visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1},nI={isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},UD=Oa("blogPostStore",()=>{const t=zd(),e=Kd(),{debug:n}=bo(e),r={blogPosts:U=>Jn(t,U?fn.BLOG_POSTS_PRIVATE:fn.BLOG_POSTS),blogPostsPrivate:Jn(t,fn.BLOG_POSTS_PRIVATE),blogReactions:U=>Jn(t,U?fn.BLOG_REACTIONS_PRIVATE:fn.BLOG_REACTIONS),files:Jn(t,fn.FILES),usersPublic:Jn(t,fn.USERS_PUBLIC)},i=Dr({...tI}),s=Dr({...nI}),o=le(()=>[...i.data.public,...i.data.private]),a=le(()=>i.data[i.visibility]),l=le(()=>i.previousData[i.visibility]),u=le(()=>i.isLoading.public.fetch||i.isLoading.private.fetch),c=le(()=>i.isLoading.public.mutation||i.isLoading.private.mutation),h=le(()=>i.isDatabaseCreationActive||i.isDatabaseMutationActive||i.isDatabaseDeletionActive||s.isDatabaseCreationActive||s.isDatabaseDeletionActive),f=()=>{Object.assign(i,tI),Object.assign(s,nI)},p=async(U,V={})=>{const D=V.visibility??i.visibility;V.loadingIndicator!==!1&&(i.isLoading[D].fetch=!0);try{const H=i.data[D][i.data[D].length-1],z=[q1("datePinned","desc"),q1("date","desc")];a.value.length||(i.isLastPage=!1),V.amount?V.loadingIndicator!==!1&&(i.data[D]=[]):H&&z.push(G9(H.datePinned,new Date(H.date))),z.push(K9(V.amount||3));var A=[];D==="private"&&U?A=await Oi(r.blogPostsPrivate,[h0("allowedUserIds","array-contains",lt(t,r.usersPublic.id,U).id),...z]):D==="public"&&(A=await Oi(r.blogPosts(!1),z));const ne=await Promise.all(A.map(async fe=>await ji.mapIncoming(fe)));if(V.amount)i.data[D]=ne;else for(const fe of ne)i.data[D].push(fe);ne.length<3&&(i.isLastPage=!0)}catch(H){De.firebaseError(n.value,H)}finally{i.isLoading[D].fetch=!1}},g=async(U,V,D={})=>{console.log("attempt to fetch single");const A=(V==null?void 0:V.visibility)??"public";D.loadingIndicator!==!1&&(i.isLoading[A].fetch=!0);try{var H=await oi(lt(r.blogPosts(!!(V!=null&&V.isPrivate)),U));return H||(H=await oi(lt(r.blogPostsPrivate,U))),H?(i.data.single=await ji.mapIncoming(H),i.data.single):null}catch(z){return De.firebaseError(n.value,z).errorCode??null}finally{i.isLoading[A].fetch=!1}},w=()=>{i.previousData.single=i.data.single,i.previousData[i.visibility]=a.value},E=(U,V)=>{if(U){let D;if(V?D=i.data.single:D=a.value.find(A=>A.id===U.id),D&&D.reactions.length!==U.reactions.length){const A=D.reactions.filter(H=>!U.reactions.some(z=>z.id===H.id));for(const H of A)s.unread.every(z=>z.id!==H.id)&&s.unread.push(H)}}V&&w()},R=()=>{if(l.value.length)for(const U of l.value)E(U);w()},P=async(U,V,D,A={includeTime:!1,fetch:!0})=>{const H=$o(V);i.isLoading[H.visibility].mutation=!0,i.isDatabaseCreationActive=!0;try{return await ho(lt(t,r.blogPosts(H.isPrivate).id,U),{...V,date:A!=null&&A.includeTime?Ut.fromDate(V.date):Ut.now(),dateUpdated:A!=null&&A.includeTime&&V.dateUpdated?Ut.fromDate(V.dateUpdated):null,countdown:V.countdown?Ut.fromDate(V.countdown):null,timer:V.timer?Ut.fromDate(V.timer):null}),i.visibility=H.visibility,A!=null&&A.fetch&&p(D,{amount:a.value.length+1}),De.success("Successfully created Post"),!0}catch(z){return De.firebaseError(n.value,z),!1}finally{w(),i.isLoading[H.visibility].mutation=!1,i.isDatabaseCreationActive=!1}},T=async(U,V,D,A)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[D.visibility].mutation=!0;const H=r.blogPosts(D.isPrivate).id;let z="";if(ji.Content.instanceOf(V)&&(await si(lt(t,H,U),{...ji.Content.convert(V),dateUpdated:Ut.now()}),z="content"),ji.Styling.instanceOf(V)&&(await si(lt(t,H,U),{...ji.Styling.convert(V)}),z="styling"),ji.Settings.instanceOf(V)&&(await si(lt(t,H,U),{...ji.Settings.convert(V)}),z="settings"),z==="content"||z==="styling"){let ne=await g(U,D);tE(ne)&&(ne=null),i.data[D.visibility]=i.data[D.visibility].map(fe=>fe.id===(ne==null?void 0:ne.id)?ne:fe)}else p(A,{amount:i.data[D.visibility].length});return z}catch(H){De.firebaseError(n.value,H)}finally{w(),i.isLoading[D.visibility].mutation=!1,i.isDatabaseMutationActive=!1}},y=async(U,V,D,A,H)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[A].mutation=!0;const z=o.value.find(ne=>ne.id===U);if(await M(U,{includeFiles:!1,includeReactions:!1}),z&&await P(U,V,H,{includeTime:!0,fetch:!1})){let ne;do i.data[A]=[],await p(H,{visibility:A}),ne=o.value.find(fe=>fe.id===U);while(!ne);if(i.visibility=A,ne){for(const fe of D)await S(fe.id,z,{mutatePost:!1,fetch:!1})||De.error("Failed to delete old Reaction",{debug:n.value}),await L(ne,lp.convert(fe),{includeTime:!0,fetch:!1})||De.error("Failed to re-create Reaction",{debug:n.value});for(const fe of b(z)){const Z=iI(fe);await G(Z.name,ne)||De.error("Failed to move Image",{debug:n.value})}return p(H,{amount:a.value.length}),!0}else return De.error("Failed to re-create Post",{debug:n.value}),!1}else return De.error("Failed to re-create Post",{debug:n.value}),!1}catch(z){return De.firebaseError(n.value,z),!1}finally{w(),i.isLoading[A].mutation=!1,i.isDatabaseMutationActive=!1}},M=async(U,V={includeFiles:!0,includeReactions:!0})=>{try{i.isDatabaseDeletionActive=!0;const D=o.value.find(A=>A.id===U);if(D){V.includeReactions&&await I(D),V.includeFiles&&await B(D);const A=$o(D);return await Yo(lt(t,r.blogPosts(A.isPrivate).id,U)),i.data[A.visibility]=i.data[A.visibility].filter(H=>H.id!==U),De.success("Successfully deleted Post"),!0}return!1}catch(D){return De.firebaseError(n.value,D),!1}finally{w(),i.isDatabaseDeletionActive=!1}},L=async(U,V,D={includeTime:!1,fetch:!0})=>{try{s.isDatabaseCreationActive=!0;const A=$o(U),H=lt(t,r.blogPosts(A.isPrivate).id,U.id),z=await oi(H);if(z){const ne=await LW(r.blogReactions(A.isPrivate),{user:lt(t,r.usersPublic.id,V.userId),message:V.message,date:D!=null&&D.includeTime?Ut.fromDate(V.date):Ut.now(),post:H});if(await si(lt(t,r.blogPosts(A.isPrivate).id,z.id),{reactions:[...z.reactions??[],ne]}),D!=null&&D.fetch){let fe=await g(z.id,A,{loadingIndicator:!1});tE(fe)&&(fe=null),i.data[A.visibility]=i.data[A.visibility].map(Z=>Z.id===z.id?fe??Z:Z)}return De.success("Successfully created Reaction"),!0}return!1}catch(A){return De.firebaseError(n.value,A),!1}finally{w(),s.isDatabaseCreationActive=!1}},S=async(U,V,D={mutatePost:!0,fetch:!0})=>{var A;try{s.isDatabaseDeletionActive=!0;const H=$o(V);if(D.mutatePost){const z=lt(t,r.blogPosts(H.isPrivate).id,V.id),ne=await oi(z);ne&&await si(z,{reactions:((A=ne.reactions)==null?void 0:A.filter(fe=>fe.id!==U))??[]})}return await Yo(lt(t,r.blogReactions(H.isPrivate).id,U)),D!=null&&D.fetch&&(V.reactions=V.reactions.filter(z=>z.id!==U),i.data[H.visibility]=i.data[H.visibility].map(z=>z.id===V.id?V:z)),De.success("Successfully deleted Reaction"),!0}catch(H){return De.firebaseError(n.value,H),!1}finally{w(),s.isDatabaseDeletionActive=!1}},I=async U=>{try{s.isDatabaseDeletionActive=!0;const V=$o(U),D=(U==null?void 0:U.reactions)??[];for(const A of D)await Yo(lt(t,r.blogReactions(V.isPrivate).id,A.id));return D.length&&De.success(`Successfully deleted ${D.length} Reaction${D.length!==1?"s":""}`),!0}catch(V){return De.firebaseError(n.value,V),!1}finally{w(),s.isDatabaseDeletionActive=!1}},b=(U,V)=>{var A,H;const D=[];if(U.coverImageUrl&&(!V||!V.coverImageUrl)&&D.push(U.coverImageUrl),U.sections.length)for(const[z,ne]of U.sections.entries()){const fe=(H=(A=V==null?void 0:V.sections)==null?void 0:A[z])==null?void 0:H.coverImageUrl,Z=ne.coverImageUrl;Z&&(!V||!fe)&&D.push(Z)}return D},v=async U=>{try{return await oi(lt(t,r.files.path,U))}catch(V){return De.firebaseError(n.value,V),null}},C=async(U,V,D,A,H,z,ne)=>await k(U.name,A,H,z,ne)&&await O(U,V,D),O=async(U,V,D)=>{try{const A=p5(U,V);return A.on("state_changed",H=>{const z=H.bytesTransferred/H.totalBytes*100;D(z)}),await A,De.success("Successfully uploaded File"),!0}catch(A){return De.firebaseError(n.value,A),!1}},k=async(U,V,D,A,H)=>{try{let z;if(H){const ne=$o(H);z=lt(t,r.blogPosts(ne.isPrivate).id,H.id)}return await ho(lt(t,r.files.path,U),{name:V,owner:D,post:z??null,public:A??!1}),!0}catch(z){return De.firebaseError(n.value,z),!1}},G=async(U,V)=>{try{let D;if(V){const A=$o(V);D=lt(t,r.blogPosts(A.isPrivate).id,V.id)}return await si(lt(t,r.files.path,U),{post:D??null}),!0}catch(D){return De.firebaseError(n.value,D),!1}},$=async(U,V=!1)=>{try{return await Yo(lt(t,r.files.path,U.name)),await m5(U),V||De.success("Successfully deleted File"),!0}catch(D){return De.firebaseError(n.value,D),!1}},B=async(U,V)=>{try{const D=b(U,V);for(const A of D)await $(iI(A),!0);return D.length&&De.success(`Successfully deleted ${D.length} File${D.length!==1?"s":""}`),!0}catch(D){return De.firebaseError(n.value,D),!1}};return{collections:r,blogPosts:i,blogReactions:s,allBlogPosts:o,visibleBlogPosts:a,previousVisibleBlogPosts:l,isBlogPostsFetchLoading:u,isBlogPostsMutationLoading:c,isBlogPostDatabaseActionActive:h,$reset:f,fetchBlogPosts:p,fetchBlogPost:g,setPreviousBlogPosts:w,checkBlogPostForUnreadReactions:E,checkBlogPostsForUnreadReactions:R,createBlogPost:P,updateBlogPost:T,toggleBlogPostVisibility:y,deleteBlogPost:M,createBlogReaction:L,deleteBlogReaction:S,deleteBlogReactionsOfBlogPost:I,getFilesOfPost:b,fetchFileInfo:v,uploadFile:C,createFile:O,createFileInfo:k,updateFileInfo:G,deleteFile:$,deleteFilesOfBlogPost:B}},{persist:{enabled:!0}}),BD=Oa("userStore",()=>{const t=zd(),e=Kd(),{debug:n}=bo(e),r=SR(),i={users:Jn(t,fn.USERS),usersPublic:Jn(t,fn.USERS_PUBLIC),usersOnline:Jn(t,fn.USERS_ONLINE)},s=ce(null),o=ce(null),a=ce([]),l=ce([]),u=ce([]),c=ce([]),h=ce(!1),f=ce(null),p=ce(null),g=le(()=>y(o.value,s.value,u.value.find(V=>{var D;return V.id===((D=s.value)==null?void 0:D.id)}))),w=le(()=>u.value.filter(V=>nb(new Date(V.lastOnline))<=60));Sn(()=>[l.value,a.value,u.value],()=>{c.value=l.value.map(V=>{if(g.value&&g.value.id===V.id)return g.value;const D=a.value.find(H=>H.id===V.id),A=u.value.find(H=>H.id===V.id);return y(V,D,A)}).filter(V=>V!==null).sort((V,D)=>{try{const A=V.lastOnline?new Date(V.lastOnline).getTime():0;return(D.lastOnline?new Date(D.lastOnline).getTime():0)-A}catch{return 0}})});const E=()=>{a.value=[],l.value=[],u.value=[]},R=()=>{s.value=null,o.value=null},P=()=>{s.value&&(T(),p.value=rB(i.usersOnline,async V=>{for(const D of V.docChanges())if(D.type==="added"||D.type==="modified"){const A=await up.mapIncoming(D.doc.data());A.id=D.doc.id,D.type==="added"?u.value=[...u.value.filter(H=>H.id!==D.doc.id),A]:u.value=u.value.map(H=>H.id===A.id?A:H)}}),$(),f.value=setInterval($,1e3*30))},T=()=>{var V;(V=p.value)==null||V.call(p),f.value&&clearInterval(f.value)},y=(V,D,A)=>V?{...D,...V??{displayName:"Anonymous"},lastOnline:(A==null?void 0:A.lastOnline)??null}:null,M=async()=>{if(!r.value)return;o.value=await oi(lt(t,i.usersPublic.id,r.value.uid));const V=await oi(lt(t,i.users.id,r.value.uid));V!=null&&(s.value=await wc.mapIncoming(V),P())},L=async()=>{try{const V=await Oi(i.users);a.value=await Promise.all(V.map(async D=>await wc.mapIncoming(D)))}catch(V){return De.firebaseError(n.value,V),null}},S=async()=>{try{l.value=await Oi(i.usersPublic)}catch(V){return De.firebaseError(n.value,V),null}},I=async V=>{try{return await oi(lt(t,i.usersPublic.id,V))}catch(D){return De.firebaseError(n.value,D),null}},b=async V=>{try{return(await Promise.all(V.map(async A=>{const H=await I(A);return H?{...H,displayName:H.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},v=async()=>{try{const V=await Oi(i.usersOnline);u.value=await Promise.all(V.map(up.mapIncoming))}catch{return null}},C=async(V,D)=>{try{h.value=!0,await ho(lt(t,i.users.id,V),{firstName:D,createdAt:new Date})}catch(A){De.firebaseError(n.value,A)}finally{h.value=!1}},O=async V=>{try{if(!r.value)return;h.value=!0,s.value&&(bc(wc.convert(s.value),V)?De.warning("Nothing changed in your details"):(await si(lt(t,i.users.id,r.value.uid),{firstName:V.firstName,lastName:V.lastName}),await M(),De.success("Successfully updated your profile")))}catch(D){De.firebaseError(n.value,D)}finally{h.value=!1}},k=async()=>{try{if(!r.value)return;await si(lt(t,i.users.id,r.value.uid),{lastLogin:new Date})}catch(V){De.firebaseError(n.value,V)}},G=async V=>{try{h.value=!0,r.value&&o.value?bc(o.value,V)?De.warning("Nothing changed in your public profile"):(await si(lt(t,i.usersPublic.id,o.value.id),{displayName:V.displayName,avatar:V.avatar}),await M(),De.success("Successfully updated your public profile")):r.value?(await ho(lt(t,i.usersPublic.id,r.value.uid),{displayName:V.displayName,avatar:V.avatar}),await M(),De.success("Successfully updated your public profile")):De.firebaseError(n.value)}catch(D){De.firebaseError(n.value,D)}finally{h.value=!1}},$=async()=>{try{if(!r.value)return;const V=lt(t,i.usersOnline.id,r.value.uid);(await _k(V)).exists()?await si(V,{lastOnline:Ut.now()}):await ho(V,{lastOnline:Ut.now()})}catch{return null}};return{currentUser:s,publicUser:o,combinedUser:g,users:a,publicUsers:l,onlineUsersInfo:u,onlineUsers:w,combinedUsers:c,isMutationLoading:h,$reset:E,$resetCurrentUser:R,fetchUser:M,fetchUsers:L,fetchPublicUsers:S,fetchPublicUser:I,allowedPublicUsers:b,fetchOnlineUsers:v,createUser:C,updateUser:O,updateUserLastLogin:k,updatePublicUser:G,updateOnlineUser:$,deleteOnlineUser:async()=>{r.value&&await Yo(lt(t,i.usersOnline.id,r.value.uid))},deleteUser:async()=>{r.value&&await Yo(lt(t,i.users.id,r.value.uid))}}},{persist:{enabled:!0}}),kW=Oa("petStore",()=>{const t=zd(),e=td(),n=Kd(),{firebaseUser:r}=bo(e),{debug:i}=bo(n),s={pets:Jn(t,fn.PETS)},o=ce([]),a=ce(!1),l=ce(!1),u=le(()=>o.value.filter(E=>{var R;return E.userId===((R=r.value)==null?void 0:R.uid)})),c=le(()=>o.value.filter(E=>{var R;return E.userId!==((R=r.value)==null?void 0:R.uid)})),h=le(()=>a.value?o.value:u.value),f=()=>{o.value=[]},p=async(E=!1)=>{var P;const R=(P=r.value)==null?void 0:P.uid;if(R){const T=await Oi(Jn(t,fn.PETS),E?void 0:[h0("userId","==",R)]);o.value=await Promise.all(T.map(async y=>await wy.mapIncoming(y)))}};return{pets:o,viewAllPets:a,isMutationLoading:l,myPets:u,notMyPets:c,visiblePets:h,$reset:f,fetchPets:p,mutatePet:async(E,R)=>{if(r.value)try{if(l.value=!0,r.value){const P={userId:r.value.uid,name:E.name,description:E.description,avatar:E.avatar,dateOfBirth:E.dateOfBirth,type:E.type,breed:E.breed,breedSize:E.breedSize,gender:E.gender,weight:E.weight,insideCat:E.insideCat,castrated:E.castrated,dewormingDate:E.dewormingDate,vetDate:E.vetDate,lastVaccinationDate:E.lastVaccinationDate,nextVaccinationDate:E.nextVaccinationDate,weightLog:E.weightLog};R?(await si(lt(s.pets,R),P),De.success("Successfully updated your Pet")):(await ho(lt(s.pets),P),De.success("Successfully updated your Pet")),await p()}}catch(P){De.firebaseError(i.value,P)}finally{l.value=!1}},deletePet:async E=>{try{l.value=!0;const R=o.value.find(P=>P.id===E);R&&(await Yo(lt(s.pets,E)),o.value=o.value.filter(P=>P.id!==R.id),De.success("Successfully deleted your Pet"))}catch(R){De.firebaseError(i.value,R)}finally{l.value=!1}}}},{persist:{enabled:!0}}),tb=Oa("mainStore",()=>{const t=zd(),e=td(),n=BD(),r=kW(),i=UD(),s=Kd(),{debug:o,isOnline:a}=bo(s),{isLoggedIn:l}=bo(e),{fetchPublicUsers:u,fetchUsers:c}=n,{fetchBlogPosts:h}=i,{fetchPets:f}=r,p={content:Jn(t,fn.CONTENT),projects:Jn(t,fn.PROJECTS),menuItems:$=>Jn(t,$?fn.MENU_ITEMS_PRIVATE:fn.MENU_ITEMS),menuItemsPrivate:Jn(t,fn.MENU_ITEMS_PRIVATE),usersPublic:Jn(t,fn.USERS_PUBLIC)},g=ce(KD),w=ce(jW),E=ce(oI),R=ce(HW),P=ce(!1),T=ce(null),y=ce(null),M=le(()=>R.value.filter($=>!$.loading)),L=le(()=>E.value.filter($=>!$.loading)),S=le(()=>E.value.filter($=>!$.invisible&&(!$.authenticated||l.value))),I=()=>{E.value=oI},b=()=>{I(),n.$reset(),i.$reset(),r.$reset()},v=async($,B)=>{try{P.value||(P.value=!0,console.log("attempt to fetch all"),(o.value||a.value&&(!L.value.length||B))&&(console.log("fetch all"),b(),await Promise.all([G($),C(),O(),h($),u(),f(!0)]),e.isOwner&&await c()))}catch(U){De.firebaseError(o.value,U)}finally{P.value=!1}},C=async()=>{try{const $=await oi(lt(t,p.content.id,"production"));w.value={...w.value,...$||{}}}catch($){De.firebaseError(o.value,$)}},O=async()=>{try{const $=await Promise.all((await Oi(p.projects)).map(async B=>({...B,technologies:await Promise.all(B.technologies.map(async U=>await oi(U)))})));R.value=$.length?sI($):R.value}catch($){De.firebaseError(o.value,$)}},k=($,B)=>{const U=R.value.splice($,1)[0];R.value.splice(B,0,U)},G=async $=>{try{let B=await Oi(p.menuItems());if($)try{B=B.concat(await Oi(p.menuItemsPrivate,[h0("allowedUserIds","array-contains",lt(t,p.usersPublic.id,$).id)]))}catch{}return E.value=B.length?sI(B):E.value,E.value}catch(B){De.firebaseError(o.value,B)}};return{profile:g,content:w,menuItems:E,projects:R,isFetchAllLoading:P,routeLoading:T,routeLoadingId:y,filteredProjects:M,filteredMenuItems:L,visibleMenuItems:S,fetchAll:v,fetchContent:C,fetchProjects:O,moveProject:k,fetchMenuItems:G}},{persist:{enabled:!0}}),td=Oa("authStore",()=>{const t=OW(),e=tb(),n=BD(),r=UD(),i=Kd(),s=SR(),{$resetCurrentUser:o,fetchUser:a,createUser:l,updateUserLastLogin:u,updatePublicUser:c,deleteOnlineUser:h,deleteUser:f}=n,{debug:p}=bo(i);t.onAuthStateChanged(async v=>{await P(),o(),a(),e.filteredMenuItems.length,r.$patch({blogPosts:{...r.blogPosts,data:{...r.blogPosts.data,private:[]}}}),e.fetchAll(v==null?void 0:v.uid,!0)});const g=ce(!1),w=ce(!1),E=le(()=>!!s.value),R=le(()=>{var v;return((v=s.value)==null?void 0:v.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}),P=async()=>{s.value=await CR()};return{firebaseUser:s,isLoggedIn:E,isLoginLoading:g,isLogoutLoading:w,isOwner:R,login:async(v,C)=>{try{g.value=!0;const{user:O}=await Ej(t,v,C);await P(),await u(),await a(),e.fetchAll(O.uid,!0),De.success("Successfully logged in",{route:zt.DASHBOARD})}catch(O){De.firebaseError(p.value,O)}finally{g.value=!1}},register:async(v,C,O)=>{try{g.value=!0;const{user:k}=await Tj(t,v,C);await l(k.uid,O),await P(),await c({displayName:"Anonymous",avatar:""}),await a(),De.success("Successfully created your account",{route:zt.DASHBOARD})}catch(k){De.firebaseError(p.value,k)}finally{g.value=!1}},updateMail:async(v,C)=>{try{if(g.value=!0,s.value&&s.value.email){const O=Io.credential(s.value.email,C);await dE(s.value,O),await P(),await Ij(s.value,v),De.success("Successfully changed your e-mail")}}catch(O){De.firebaseError(p.value,O)}finally{g.value=!1}},updatePassword:async(v,C)=>{try{if(g.value=!0,s.value&&s.value.email){const O=Io.credential(s.value.email,C);await dE(s.value,O),await Sj(s.value,v),De.success("Successfully changed your password")}}catch(O){De.firebaseError(p.value,O)}finally{g.value=!1}},resetPassword:async v=>{try{await wj(t,v),De.success("Successfully requested password reset")}catch(C){De.firebaseError(!1,C)}},updateUserLastLogin:u,logout:async()=>{try{w.value=!0,await Cj(t),e.fetchAll(void 0,!0),De.success("Successfully logged out",{route:zt.HOME})}catch(v){De.firebaseError(p.value,v)}finally{w.value=!1}},deleteAccount:async()=>{try{w.value=!0,s.value&&(await h(),await f(),await Oj(s.value),De.success("Successfully deleted your account",{route:zt.HOME}))}catch(v){De.firebaseError(p.value,v)}finally{w.value=!1}}}},{persist:{enabled:!0}});var RW=(t=>(t.YAHTZEE="yahtzee",t.RAINWORMS="rainworms",t.PATIENCE="patience",t.GUESS_THE_WORD="guess",t))(RW||{});const $h=()=>({gameData:{highscores:[],scores:[]},previousPersonalBest:null,previousHighscorePosition:null}),rI=()=>({yahtzee:$h(),rainworms:$h(),patience:$h(),guess:$h()}),DW=Oa("gameStore",()=>{const t=zd(),e=td(),{firebaseUser:n}=bo(e),r=ce(null),i=ce(!0),s=ce(1.5),o=ce(!1),a=Dr(rI()),l={highscores:y=>Jn(t,fn.GAME_DATA,y,fn.HIGHSCORES),scores:y=>Jn(t,fn.GAME_DATA,y,fn.SCORES)},u=le(()=>{var L,S;const y=(L=n.value)==null?void 0:L.uid;return!y||!r.value?0:((S=a[r.value].gameData.highscores.find(I=>I.id===y))==null?void 0:S.score)??0}),c=le(()=>{var S;const y=(S=n.value)==null?void 0:S.uid;return!y||!r.value?0:a[r.value].gameData.highscores.findIndex(I=>I.id===y)+1}),h=y=>{r.value=y},f=()=>{Object.assign(a,rI())},p=(y=!1)=>{if(n.value&&r.value){const M=a[r.value];(!y||M.previousPersonalBest===null)&&(M.previousPersonalBest=u.value),(!y||M.previousHighscorePosition===null)&&(M.previousHighscorePosition=c.value)}},g=async()=>{await w(),await E()},w=async()=>{try{if(!r.value)return;o.value=!0;const y=await Oi(l.highscores(r.value));a[r.value].gameData.highscores=await Promise.all(y.map(cp.Highscore.mapIncoming)),T("highscores"),p(!0)}catch(y){De.firebaseError(!0,y)}finally{o.value=!1}},E=async()=>{try{if(!r.value)return;o.value=!0;const y=await Oi(l.scores(r.value));a[r.value].gameData.scores=await Promise.all(y.map(cp.Highscore.mapIncoming)),T("scores")}catch(y){De.firebaseError(!0,y)}finally{o.value=!1}},R=async y=>{var M;try{const L=(M=n.value)==null?void 0:M.uid;if(!L||!r.value)return!1;if(y.score){await P(y),await w();const S=a[r.value].gameData,I=S.highscores.find(b=>b.id===L);if(!I||I.score<y.score){p();const b={score:y.score,userId:L,date:new Date,bonus:(y==null?void 0:y.bonus)??null,turns:(y==null?void 0:y.turns)??null,time:(y==null?void 0:y.time)??null,penalty:(y==null?void 0:y.penalty)??null,difficulty:(y==null?void 0:y.difficulty)??null},v={id:L,...b},C=lt(l.highscores(r.value),L);if(I){try{await si(C,b)}catch(O){console.log(O)}Object.assign(I,v)}else await ho(C,b),S.highscores.push({...v,date:b.date.toString()});return T("highscores"),!0}}return!1}catch(L){return De.firebaseError(!0,L),!1}},P=async y=>{var M;try{const L=(M=n.value)==null?void 0:M.uid;if(!L||!r.value)return!1;const S=a[r.value].gameData,I={score:y.score,userId:L,date:new Date,bonus:(y==null?void 0:y.bonus)??null,turns:(y==null?void 0:y.turns)??null,time:(y==null?void 0:y.time)??null,penalty:(y==null?void 0:y.penalty)??null,difficulty:(y==null?void 0:y.difficulty)??null},b=lt(l.scores(r.value));return await ho(b,I),S.scores.push({id:b.id,...I,date:I.date.toString()}),T("scores"),!0}catch(L){return De.firebaseError(!0,L),!1}},T=y=>{r.value&&a[r.value].gameData[y].sort((M,L)=>L.score-M.score)};return{gameId:r,useAudio:i,diceRollSpeed:s,fetchLoading:o,allGameData:a,personalBest:u,highscorePosition:c,$init:h,$reset:f,setPreviousHighscores:p,fetchGameData:g,fetchHighscores:w,fetchScores:E,updateHighscores:R,sortHighscores:T}},{persist:{enabled:!0}}),xW=1e3,NW=xW*60,MW=NW*60,xre=MW*24,jD=async t=>{const e=await _k(t),n=e.data();return n?{id:e.id,...n}:null},Oi=async(t,e)=>{const n=await J9(e?z9(t,...e):t);return Promise.all(n.docs.map(r=>jD(r.ref)))},oi=jD,LW=nB,ho=Z9,si=eB,Yo=tB,iI=t=>g5(v5(),t),sI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),Nre=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},bc=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!bc(a,o[l])||o.some((u,c)=>!bc(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!bc(r,i))return!1}else if(r!==i)return!1}return!0},nb=t=>Math.round((Date.now()-t.getTime())/1e3),Mre=t=>VW(new Date(t)),HD={month:"long",day:"numeric"},WD={year:"numeric",month:"long",day:"numeric"},VW=t=>new Date().getTime()-t.getTime()>0?FW(t):$W(t),FW=t=>{try{const e=nb(t);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";if(e<60*60*24*7){const n={weekday:"long"};return t.toLocaleDateString("en-GB",n)}else{const n=new Date;return t.toLocaleDateString("en-GB",t.getFullYear()>=n.getFullYear()?HD:WD)}}}catch{return"Unknown"}},$W=t=>{try{const e=nb(t)*-1;if(e<30)return"Now";if(e<60)return`In ${e} second${e!==1?"s":""}`;if(e<60*60){const n=Math.floor(e/60);return`In ${n} minute${n!==1?"s":""}`}else if(e<60*60*24){const n=Math.floor(e/3600);return`In ${n} hour${n!==1?"s":""}`}else{if(e<60*60*24*2)return"Tomorrow";if(e<60*60*24*7){const n={weekday:"long"};return t.toLocaleDateString("en-GB",n)}else{const n=new Date;return t.toLocaleDateString("en-GB",t.getFullYear()>=n.getFullYear()?HD:WD)}}}catch{return"Unknown"}},Lre=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},Vre=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"center"})},250)}},Fre=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},$o=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},$re=t=>Array.isArray(t)?t:[t],Ure=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Bre=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),jre=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},Hre=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},UW=()=>S5(),BW=t=>Math.floor(Math.random()*t),Wre=(t,e)=>{const n=Math.floor(Math.random()*t)+1;return e&&n>=e?n:e??n},qre=t=>t[BW(t.length)],zre=t=>{let e=t.length;for(;e!=0;){let n=Math.floor(Math.random()*e);e--,[t[e],t[n]]=[t[n],t[e]]}},Kre={value:new Audio("/sounds/applause-and-cheer.mp3"),startTime:0},qD={value:new Audio("/sounds/clicksound-1.m4a"),startTime:0},zD={value:new Audio("/sounds/roll-dices-1.m4a"),startTime:0};qD.value.preload="auto";zD.value.preload="auto";const Gre=t=>{const{useAudio:e}=DW();if(!e)return;[qD,zD].forEach(r=>{r.value!==t.value&&(r.value.pause(),r.value.currentTime=r.startTime)}),t.value.currentTime=t.startTime,t.value.play()},KD={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},jW={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},HW=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],oI=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],Yre=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var ji;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",date:e.date.toDate().toString(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate().toString())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate().toString())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await oi(l)))??[])).map(async l=>lp.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??UW(),subTitle:l.subTitle??"",alignment:l.alignment??"center",tableAlignment:l.tableAlignment??"left",countdown:((u=l.countdown)==null?void 0:u.toDate().toString())??null,timer:((c=l.timer)==null?void 0:c.toDate().toString())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??"",openByDefault:l.openByDefault??!1}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate().toString())??null,timer:((a=e.timer)==null?void 0:a.toDate().toString())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",sections:e.sections.map(n=>({...n,countdown:n.countdown?new Date(n.countdown):null,timer:n.timer?new Date(n.timer):null}))??[],date:new Date(e.date),dateUpdated:e.dateUpdated?new Date(e.dateUpdated):null,datePinned:e.datePinned?new Date(e.datePinned):null,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown?new Date(e.countdown):null,timer:e.timer?new Date(e.timer):null,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,tableAlignment:n.tableAlignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","tableAlignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(ji||(ji={}));var lp;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await oi(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate().toString()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:new Date(e.date)})})(lp||(lp={}));var wc;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate().toString(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate().toString()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(wc||(wc={}));var aI;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(aI||(aI={}));var up;(t=>{t.mapIncoming=async e=>({...e,lastOnline:e.lastOnline.toDate().toString()})})(up||(up={}));const Qre=[{label:"Cat",value:"cat"},{label:"Dog",value:"dog"},{label:"Other",value:"other"}],Xre=[{label:"Male",value:"male"},{label:"Female",value:"female"}],Jre=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Giant",value:"giant"}];var wy;(t=>{t.convert=e=>({userId:e.userId,name:e.name,description:e.description??null,avatar:e.avatar??null,dateOfBirth:e.dateOfBirth?new Date(e.dateOfBirth):null,type:e.type??null,breed:e.breed??null,breedSize:e.breedSize??null,gender:e.gender??null,weight:e.weight??null,insideCat:e.insideCat??null,castrated:e.castrated??!1,dewormingDate:e.dewormingDate?new Date(e.dewormingDate):null,vetDate:e.vetDate?new Date(e.vetDate):null,lastVaccinationDate:e.lastVaccinationDate?new Date(e.lastVaccinationDate):null,nextVaccinationDate:e.nextVaccinationDate?new Date(e.nextVaccinationDate):null,weightLog:e.weightLog?e.weightLog.map(n=>({...n,date:new Date(n.date)})):[]}),t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,dateOfBirth:((n=e.dateOfBirth)==null?void 0:n.toDate().toString())??null,dewormingDate:((r=e.dewormingDate)==null?void 0:r.toDate().toString())??null,vetDate:((i=e.vetDate)==null?void 0:i.toDate().toString())??null,lastVaccinationDate:((s=e.lastVaccinationDate)==null?void 0:s.toDate().toString())??null,nextVaccinationDate:((o=e.nextVaccinationDate)==null?void 0:o.toDate().toString())??null,weightLog:((a=e.weightLog)==null?void 0:a.map(l=>({...l,date:l.date.toDate().toString()})))??[]}}})(wy||(wy={}));var cp;(t=>{t.mapIncoming=async n=>({...n,highscores:await Promise.all(n.highscores.map(e.mapIncoming)),scores:await Promise.all(n.scores.map(e.mapIncoming))});let e;(n=>{n.mapIncoming=async r=>{var i;return{...r,userId:r.userId??null,date:((i=r.date)==null?void 0:i.toDate().toString())??new Date().toString(),bonus:r.bonus??null,turns:r.turns??null,time:r.time??null,penalty:r.penalty??null,difficulty:r.difficulty??null}}})(e=t.Highscore||(t.Highscore={}))})(cp||(cp={}));const GD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],Zre=t=>GD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),eie=GD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),tie=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],lI=()=>Fn(()=>import("./assets/c-Blog--SMQcVcy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url),WW=()=>Fn(()=>import("./assets/c-Tools-BvhEdcru.js"),__vite__mapDeps([19,5,2,3]),import.meta.url),qW=()=>Fn(()=>import("./assets/c-CatCalc-CxlIG1b2.js"),__vite__mapDeps([20,5,2,18,9,8,21]),import.meta.url),zW=()=>Fn(()=>import("./assets/c-OnThisDay-BeOaXkPT.js"),__vite__mapDeps([22,5,6,7]),import.meta.url),KW=()=>Fn(()=>import("./assets/c-CustomVoting-D-0f7t1G.js"),__vite__mapDeps([23,5,2,3,10,14,11,12,24]),import.meta.url),GW=()=>Fn(()=>import("./assets/c-Dashboard-DaigEPUg.js"),__vite__mapDeps([25,5,1,2,26,8,9,16,3]),import.meta.url),YW=()=>Fn(()=>import("./assets/c-Home-CMeJ-8ME.js"),__vite__mapDeps([27,3,2,5,28,14,29,30,31,4,6,7,8,9,10,11,12]),import.meta.url),QW=()=>Fn(()=>import("./assets/c-Login-b4mVDwHP.js"),__vite__mapDeps([32,5,26,8,9,2,3]),import.meta.url),XW=()=>Fn(()=>import("./assets/c-NotFound-C7Sj0Qe2.js"),__vite__mapDeps([33,5,3,2]),import.meta.url),JW=()=>Fn(()=>import("./assets/c-Pet-DSMPhUTr.js"),__vite__mapDeps([34,5,2,6,7,1,3,21,35,13,14,15,16,8,9,18,10,17,36]),import.meta.url),ZW=()=>Fn(()=>import("./assets/c-Pets-DCrxIZfi.js"),__vite__mapDeps([37,5,2,3,35,1,13,14,15,16,8,9,18,10,17]),import.meta.url),eq=()=>Fn(()=>import("./assets/c-User-APSLISnv.js"),__vite__mapDeps([38,5,2,3,14,39]),import.meta.url),tq=()=>Fn(()=>import("./assets/c-Users-B-w59XSe.js"),__vite__mapDeps([40,5,3,2]),import.meta.url),nq=()=>Fn(()=>import("./assets/c-Register-DZvseA9r.js"),__vite__mapDeps([41,5,26,8,9,2,3]),import.meta.url),rq=()=>Fn(()=>import("./assets/c-Games-Dg3CJZvU.js"),__vite__mapDeps([42,5,2,43,3,44,1,18,9,29,14,30,31,28]),import.meta.url),iq=()=>Fn(()=>import("./assets/c-Yahtzee-CKvDPHwz.js"),__vite__mapDeps([45,5,2,31,46,14,47,44,1,18,9,48]),import.meta.url),sq=()=>Fn(()=>import("./assets/c-Rainworms-pi7s4RYH.js"),__vite__mapDeps([49,5,2,44,1,18,9,43,46,14,47,30,8]),import.meta.url),oq=()=>Fn(()=>import("./assets/c-Patience-CRxZRutV.js"),__vite__mapDeps([50,5,2,44,1,18,9,46,14,47,29,17,51]),import.meta.url),aq=()=>Fn(()=>import("./assets/c-Guess-D6h6UM5N.js"),__vite__mapDeps([52,5,2,46,14,47,44,1,18,9]),import.meta.url),lq={HOME:{path:"/",meta:{title:"Home",scrollToTop:!0},component:YW,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Gd.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login",scrollToTop:!0},component:QW,beforeEnter:(t,e,n)=>{td().isLoggedIn?n({name:zt.DASHBOARD}):n()}},REGISTER:{path:"/register",meta:{title:"Register",scrollToTop:!0},component:nq,beforeEnter:(t,e,n)=>{td().isLoggedIn?n({name:zt.DASHBOARD}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard",scrollToTop:!0},component:GW},PET_OVERVIEW:{path:"/pets",meta:{title:"Pets",scrollToTop:!0},component:ZW},PET_DETAILS:{path:"/pets/:petId",meta:{title:"Pet"},component:JW},USER_OVERVIEW:{path:"/users",meta:{title:"Users",scrollToTop:!0},component:tq},USER_DETAILS:{path:"/users/:userId",meta:{title:"User"},component:eq},BLOG:{path:"/blog",meta:{title:"Blog",scrollToTop:!0},component:lI},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:lI},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting",scrollToTop:!0},component:KW},TOOLS:{path:"/tools",meta:{title:"Tools",scrollToTop:!0},component:WW,children:[{name:Kr.TOOLS_CAT_CALC,path:"/tools/cat-calc",meta:{title:"CatCalc"},component:qW},{name:Kr.TOOLS_ON_THIS_DAY,path:"/tools/on-this-day",meta:{title:"On This Day"},component:zW}]},GAMES:{path:"/games",meta:{title:"Games",scrollToTop:!0},component:rq,children:[{name:Kr.GAMES_YAHTZEE,path:"/games/yahtzee",meta:{title:"Yahtzee"},component:iq},{name:Kr.GAMES_RAINWORMS,path:"/games/rainworms",meta:{title:"Rainworms"},component:sq},{name:Kr.GAMES_PATIENCE,path:"/games/patience",meta:{title:"Patience"},component:oq},{name:Kr.GAMES_HANGMAN,path:"/games/guess",meta:{title:"Hangman"},component:aq}]},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404",scrollToTop:!0},component:XW}},YD=Object.entries(lq).map(([t,e])=>({...e,name:zt[t]})),Gd=YV({history:SV(),routes:YD,scrollBehavior(t,e,n){return n||((t.name===zt.LOGIN||t.name===zt.REGISTER)&&(e.name===zt.LOGIN||e.name===zt.REGISTER)||!t.meta.scrollToTop?!1:t.meta.scrollToTop?t.name===zt.TOOLS&&(e.name===Kr.TOOLS_CAT_CALC||e.name===Kr.TOOLS_ON_THIS_DAY)||t.name===zt.PET_OVERVIEW&&e.name===zt.PET_DETAILS||t.name===zt.USER_OVERVIEW&&e.name===zt.USER_DETAILS||t.name===zt.BLOG&&e.name===zt.BLOG_DETAILS||t.name===zt.GAMES&&[Kr.GAMES_YAHTZEE,Kr.GAMES_RAINWORMS,Kr.GAMES_PATIENCE,Kr.GAMES_HANGMAN].includes(e.name)?!1:{top:0}:{top:0})}}),uI=KD.name;Gd.beforeEach(async(t,e,n)=>{var r,i,s;if(t===e)n();else if(!t.name)n({name:zt.NOT_FOUND});else{const o=t.name,a=tb();if(a.routeLoading=o,a.routeLoadingId=((r=t.params.postId)==null?void 0:r.toString())||((i=t.params.userId)==null?void 0:i.toString())||((s=t.params.petId)==null?void 0:s.toString())||null,[zt.HOME,zt.LOGIN,zt.REGISTER,zt.DASHBOARD,zt.NOT_FOUND].includes(o))n();else{const u=await CR(),c=await a.fetchMenuItems(u==null?void 0:u.uid);(c==null?void 0:c.some(f=>f.authenticated&&!u?!1:f.route?o===f.route||YD.some(p=>{var g;return(g=p.children)==null?void 0:g.some(w=>w.name===o)}):f.url?t.path.startsWith(f.url):!1))?n():n({name:zt.NOT_FOUND})}}});Gd.afterEach(()=>{const t=tb();t.routeLoading=null});Gd.beforeResolve(t=>{document.title=uI+" | "+t.meta.title||uI;const e=LO();VO(e,"screen_view",{screen_name:t.path})});const QD=Gd;function pi(t){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(t)}function Xe(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ze(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||pi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function gs(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Pi(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function XD(t,e){if(Ve(2,arguments),!e||pi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=ze(t),c=r||n?Pi(u,r+n*12):u,h=s||i?gs(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,w=new Date(h.getTime()+g);return w}function uq(t,e){Ve(2,arguments);var n=ze(t).getTime(),r=Xe(e);return new Date(n+r)}var cq={};function os(){return cq}function Ta(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=os(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function dp(t){return Ve(1,arguments),Ta(t,{weekStartsOn:1})}function dq(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=dp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=dp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function hq(t){Ve(1,arguments);var e=dq(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=dp(n);return r}function hp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function cI(t){Ve(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var fq=864e5;function pq(t,e){Ve(2,arguments);var n=cI(t),r=cI(e),i=n.getTime()-hp(n),s=r.getTime()-hp(r);return Math.round((i-s)/fq)}function mq(t,e){Ve(2,arguments);var n=Xe(e),r=n*3;return Pi(t,r)}function rb(t,e){Ve(2,arguments);var n=Xe(e);return Pi(t,n*12)}var ib=6e4,sb=36e5,gq=1e3;function JD(t){return Ve(1,arguments),t instanceof Date||pi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tc(t){if(Ve(1,arguments),!JD(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function dI(t){Ve(1,arguments);var e=ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function ZD(t,e){var n;Ve(1,arguments);var r=t||{},i=ze(r.start),s=ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function nd(t){Ve(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function vq(t){Ve(1,arguments);var e=t||{},n=ze(e.start),r=ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=nd(n),o=nd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ze(l)),l=mq(l,1);return a}function yq(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function _q(t){Ve(1,arguments);var e=ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bq(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=os(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function hI(t){Ve(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function ex(t,e){Ve(2,arguments);var n=Xe(e);return uq(t,-n)}var wq=864e5;function Tq(t){Ve(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/wq)+1}function Ql(t){Ve(1,arguments);var e=1,n=ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function tx(t){Ve(1,arguments);var e=ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ql(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Ql(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Eq(t){Ve(1,arguments);var e=tx(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ql(n);return r}var Iq=6048e5;function nx(t){Ve(1,arguments);var e=ze(t),n=Ql(e).getTime()-Eq(e).getTime();return Math.round(n/Iq)+1}function Ea(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=os(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function ob(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ze(t),h=c.getUTCFullYear(),f=os(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var w=Ea(g,e),E=new Date(0);E.setUTCFullYear(h,0,p),E.setUTCHours(0,0,0,0);var R=Ea(E,e);return c.getTime()>=w.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function Sq(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=os(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=ob(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=Ea(p,e);return g}var Aq=6048e5;function rx(t,e){Ve(1,arguments);var n=ze(t),r=Ea(n,e).getTime()-Sq(n,e).getTime();return Math.round(r/Aq)+1}function $t(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Cq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return $t(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$t(r+1,2)},d:function(e,n){return $t(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $t(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $t(e.getUTCHours(),n.length)},m:function(e,n){return $t(e.getUTCMinutes(),n.length)},s:function(e,n){return $t(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return $t(s,n.length)}};const js=Cq;var Ya={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Oq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return js.y(e,n)},Y:function(e,n,r,i){var s=ob(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return $t(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):$t(o,n.length)},R:function(e,n){var r=tx(e);return $t(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $t(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return $t(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return $t(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return js.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return $t(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=rx(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,n.length)},I:function(e,n,r){var i=nx(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):$t(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):js.d(e,n)},D:function(e,n,r){var i=Tq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):$t(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return $t(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return $t(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return $t(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Ya.noon:i===0?s=Ya.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Ya.evening:i>=12?s=Ya.afternoon:i>=4?s=Ya.morning:s=Ya.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return js.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):js.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):js.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):js.s(e,n)},S:function(e,n){return js.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return pI(o);case"XXXX":case"XX":return jo(o);case"XXXXX":case"XXX":default:return jo(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return pI(o);case"xxxx":case"xx":return jo(o);case"xxxxx":case"xxx":default:return jo(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+fI(o,":");case"OOOO":default:return"GMT"+jo(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+fI(o,":");case"zzzz":default:return"GMT"+jo(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return $t(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return $t(o,n.length)}};function fI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+$t(s,2)}function pI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$t(Math.abs(t)/60,2)}return jo(t,e)}function jo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=$t(Math.floor(i/60),2),o=$t(i%60,2);return r+s+n+o}var mI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},ix=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Pq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return mI(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",mI(i,n)).replace("{{time}}",ix(s,n))},Ty={p:ix,P:Pq},kq=["D","DD"],Rq=["YY","YYYY"];function sx(t){return kq.indexOf(t)!==-1}function ox(t){return Rq.indexOf(t)!==-1}function fp(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Dq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xq=function(e,n,r){var i,s=Dq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Nq=xq;function xg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Mq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fq={date:xg({formats:Mq,defaultWidth:"full"}),time:xg({formats:Lq,defaultWidth:"full"}),dateTime:xg({formats:Vq,defaultWidth:"full"})};const $q=Fq;var Uq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bq=function(e,n,r,i){return Uq[e]};const jq=Bq;function $u(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Hq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qq={ordinalNumber:Yq,era:$u({values:Hq,defaultWidth:"wide"}),quarter:$u({values:Wq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:$u({values:qq,defaultWidth:"wide"}),day:$u({values:zq,defaultWidth:"wide"}),dayPeriod:$u({values:Kq,defaultWidth:"wide",formattingValues:Gq,defaultFormattingWidth:"wide"})};const Xq=Qq;function Uu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Zq(a,function(h){return h.test(o)}):Jq(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Jq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Zq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function ez(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var tz=/^(\d+)(th|st|nd|rd)?/i,nz=/\d+/i,rz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iz={any:[/^b/i,/^(a|c)/i]},sz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oz={any:[/1/i,/2/i,/3/i,/4/i]},az={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fz={ordinalNumber:ez({matchPattern:tz,parsePattern:nz,valueCallback:function(e){return parseInt(e,10)}}),era:Uu({matchPatterns:rz,defaultMatchWidth:"wide",parsePatterns:iz,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:sz,defaultMatchWidth:"wide",parsePatterns:oz,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Uu({matchPatterns:az,defaultMatchWidth:"wide",parsePatterns:lz,defaultParseWidth:"any"}),day:Uu({matchPatterns:uz,defaultMatchWidth:"wide",parsePatterns:cz,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:dz,defaultMatchWidth:"any",parsePatterns:hz,defaultParseWidth:"any"})};const pz=fz;var mz={code:"en-US",formatDistance:Nq,formatLong:$q,formatRelative:jq,localize:Xq,match:pz,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ax=mz;var gz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yz=/^'([^]*?)'?$/,_z=/''/g,bz=/[a-zA-Z]/;function fo(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,w,E,R,P,T,y;Ve(2,arguments);var M=String(e),L=os(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:ax,I=Xe((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:L.firstWeekContainsDate)!==null&&o!==void 0?o:(h=L.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=Xe((p=(g=(w=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(R=n.locale)===null||R===void 0||(P=R.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&w!==void 0?w:L.weekStartsOn)!==null&&g!==void 0?g:(T=L.locale)===null||T===void 0||(y=T.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var v=ze(t);if(!Tc(v))throw new RangeError("Invalid time value");var C=hp(v),O=ex(v,C),k={firstWeekContainsDate:I,weekStartsOn:b,locale:S,_originalDate:v},G=M.match(vz).map(function($){var B=$[0];if(B==="p"||B==="P"){var U=Ty[B];return U($,S.formatLong)}return $}).join("").match(gz).map(function($){if($==="''")return"'";var B=$[0];if(B==="'")return wz($);var U=Oq[B];if(U)return!(n!=null&&n.useAdditionalWeekYearTokens)&&ox($)&&fp($,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&sx($)&&fp($,e,String(t)),U(O,$,S.localize,k);if(B.match(bz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return $}).join("");return G}function wz(t){var e=t.match(yz);return e?e[1].replace(_z,"'"):t}function Tz(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Ez(t){Ve(1,arguments);var e=ze(t),n=e.getDay();return n}function Iz(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function ki(t){Ve(1,arguments);var e=ze(t),n=e.getHours();return n}var Sz=6048e5;function Az(t){Ve(1,arguments);var e=ze(t),n=dp(e).getTime()-hq(e).getTime();return Math.round(n/Sz)+1}function ns(t){Ve(1,arguments);var e=ze(t),n=e.getMinutes();return n}function Et(t){Ve(1,arguments);var e=ze(t),n=e.getMonth();return n}function Xl(t){Ve(1,arguments);var e=ze(t),n=e.getSeconds();return n}function Cz(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ze(t),h=c.getFullYear(),f=os(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var w=Ta(g,e),E=new Date(0);E.setFullYear(h,0,p),E.setHours(0,0,0,0);var R=Ta(E,e);return c.getTime()>=w.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function Oz(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=os(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Cz(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=Ta(p,e);return g}var Pz=6048e5;function kz(t,e){Ve(1,arguments);var n=ze(t),r=Ta(n,e).getTime()-Oz(n,e).getTime();return Math.round(r/Pz)+1}function ct(t){return Ve(1,arguments),ze(t).getFullYear()}function rd(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()>r.getTime()}function id(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()<r.getTime()}function dl(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()===r.getTime()}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Rz(t,e){if(t){if(typeof t=="string")return gI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gI(t,e):void 0}}function vI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Rz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ey(t,e)}function It(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pp(t)}function lx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lx=function(){return!!t})()}function Dz(t,e){if(e&&(pi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(t)}function St(t){var e=lx();return function(){var n,r=pp(t);if(e){var i=pp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Dz(this,n)}}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){if(pi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ux(t){var e=xz(t,"string");return pi(e)=="symbol"?e:e+""}function yI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ux(r.key),r)}}function _t(t,e,n){return e&&yI(t.prototype,e),n&&yI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Re(t,e,n){return(e=ux(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nz=10,cx=function(){function t(){yt(this,t),Re(this,"priority",void 0),Re(this,"subPriority",0)}return _t(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Mz=function(t){It(n,t);var e=St(n);function n(r,i,s,o,a){var l;return yt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return _t(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(cx),Lz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",Nz),Re(Le(r),"subPriority",-1),r}return _t(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(cx),xt=function(){function t(){yt(this,t),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return _t(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new Mz(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Vz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",140),Re(Le(r),"incompatibleTokens",["R","u","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),En={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},qi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function In(t,e){return t&&{value:e(t.value),rest:t.rest}}function pn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function zi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*sb+s*ib+o*gq),rest:e.slice(n[0].length)}}function dx(t){return pn(En.anyDigitsSigned,t)}function yn(t,e){switch(t){case 1:return pn(En.singleDigit,e);case 2:return pn(En.twoDigits,e);case 3:return pn(En.threeDigits,e);case 4:return pn(En.fourDigits,e);default:return pn(new RegExp("^\\d{1,"+t+"}"),e)}}function mp(t,e){switch(t){case 1:return pn(En.singleDigitSigned,e);case 2:return pn(En.twoDigitsSigned,e);case 3:return pn(En.threeDigitsSigned,e);case 4:return pn(En.fourDigitsSigned,e);default:return pn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ab(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function hx(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function fx(t){return t%400===0||t%4===0&&t%100!==0}var Fz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",130),Re(Le(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return In(yn(4,i),a);case"yo":return In(o.ordinalNumber(i,{unit:"year"}),a);default:return In(yn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=hx(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),$z=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",130),Re(Le(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return In(yn(4,i),a);case"Yo":return In(o.ordinalNumber(i,{unit:"year"}),a);default:return In(yn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=ob(i,a);if(o.isTwoDigitYear){var u=hx(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ea(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ea(i,a)}}]),n}(xt),Uz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",130),Re(Le(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return mp(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Ql(a)}}]),n}(xt),Bz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",130),Re(Le(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return mp(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),jz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",120),Re(Le(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return yn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Hz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",120),Re(Le(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return yn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Wz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re(Le(r),"priority",110),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return In(pn(En.month,i),a);case"MM":return In(yn(2,i),a);case"Mo":return In(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),qz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",110),Re(Le(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return In(pn(En.month,i),a);case"LL":return In(yn(2,i),a);case"Lo":return In(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function zz(t,e,n){Ve(2,arguments);var r=ze(t),i=Xe(e),s=rx(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Kz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",100),Re(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return pn(En.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Ea(zz(i,o,a),a)}}]),n}(xt);function Gz(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e),i=nx(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Yz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",100),Re(Le(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return pn(En.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Ql(Gz(i,o))}}]),n}(xt),Qz=[31,28,31,30,31,30,31,31,30,31,30,31],Xz=[31,29,31,30,31,30,31,31,30,31,30,31],Jz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",90),Re(Le(r),"subPriority",1),Re(Le(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return pn(En.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=fx(o),l=i.getUTCMonth();return a?s>=1&&s<=Xz[l]:s>=1&&s<=Qz[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Zz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",90),Re(Le(r),"subpriority",1),Re(Le(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return pn(En.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=fx(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function lb(t,e,n){var r,i,s,o,a,l,u,c;Ve(2,arguments);var h=os(),f=Xe((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(t),g=Xe(e),w=p.getUTCDay(),E=g%7,R=(E+7)%7,P=(R<f?7:0)+g-w;return p.setUTCDate(p.getUTCDate()+P),p}var eK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",90),Re(Le(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=lb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),tK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",90),Re(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return In(yn(s.length,i),l);case"eo":return In(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=lb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),nK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",90),Re(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return In(yn(s.length,i),l);case"co":return In(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=lb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function rK(t,e){Ve(2,arguments);var n=Xe(e);n%7===0&&(n=n-7);var r=1,i=ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var iK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",90),Re(Le(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return yn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return In(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return In(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return In(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return In(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=rK(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),sK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",80),Re(Le(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ab(o),0,0,0),i}}]),n}(xt),oK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",80),Re(Le(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ab(o),0,0,0),i}}]),n}(xt),aK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",80),Re(Le(r),"incompatibleTokens",["a","b","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ab(o),0,0,0),i}}]),n}(xt),lK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",70),Re(Le(r),"incompatibleTokens",["H","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return pn(En.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),uK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",70),Re(Le(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return pn(En.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(xt),cK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",70),Re(Le(r),"incompatibleTokens",["h","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return pn(En.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),dK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",70),Re(Le(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return pn(En.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(xt),hK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",60),Re(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return pn(En.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(xt),fK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",50),Re(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return pn(En.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(xt),pK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",30),Re(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return In(yn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(xt),mK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",10),Re(Le(r),"incompatibleTokens",["t","T","x"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"X":return zi(qi.basicOptionalMinutes,i);case"XX":return zi(qi.basic,i);case"XXXX":return zi(qi.basicOptionalSeconds,i);case"XXXXX":return zi(qi.extendedOptionalSeconds,i);case"XXX":default:return zi(qi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),gK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",10),Re(Le(r),"incompatibleTokens",["t","T","X"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"x":return zi(qi.basicOptionalMinutes,i);case"xx":return zi(qi.basic,i);case"xxxx":return zi(qi.basicOptionalSeconds,i);case"xxxxx":return zi(qi.extendedOptionalSeconds,i);case"xxx":default:return zi(qi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),vK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",40),Re(Le(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return dx(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(xt),yK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Le(r),"priority",20),Re(Le(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return dx(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(xt),_K={G:new Vz,y:new Fz,Y:new $z,R:new Uz,u:new Bz,Q:new jz,q:new Hz,M:new Wz,L:new qz,w:new Kz,I:new Yz,d:new Jz,D:new Zz,E:new eK,e:new tK,c:new nK,i:new iK,a:new sK,b:new oK,B:new aK,h:new lK,H:new uK,K:new cK,k:new dK,m:new hK,s:new fK,S:new pK,X:new mK,x:new gK,t:new vK,T:new yK},bK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TK=/^'([^]*?)'?$/,EK=/''/g,IK=/\S/,SK=/[a-zA-Z]/;function Iy(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,w,E,R,P,T,y,M;Ve(3,arguments);var L=String(t),S=String(e),I=os(),b=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:I.locale)!==null&&i!==void 0?i:ax;if(!b.match)throw new RangeError("locale must contain match property");var v=Xe((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:I.firstWeekContainsDate)!==null&&a!==void 0?a:(f=I.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Xe((g=(w=(E=(R=r==null?void 0:r.weekStartsOn)!==null&&R!==void 0?R:r==null||(P=r.locale)===null||P===void 0||(T=P.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&E!==void 0?E:I.weekStartsOn)!==null&&w!==void 0?w:(y=I.locale)===null||y===void 0||(M=y.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&g!==void 0?g:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return L===""?ze(n):new Date(NaN);var O={firstWeekContainsDate:v,weekStartsOn:C,locale:b},k=[new Lz],G=S.match(wK).map(function(ie){var X=ie[0];if(X in Ty){var de=Ty[X];return de(ie,b.formatLong)}return ie}).join("").match(bK),$=[],B=vI(G),U;try{var V=function(){var X=U.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&ox(X)&&fp(X,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&sx(X)&&fp(X,S,t);var de=X[0],be=_K[de];if(be){var te=be.incompatibleTokens;if(Array.isArray(te)){var x=$.find(function(j){return te.includes(j.token)||j.token===de});if(x)throw new RangeError("The format string mustn't contain `".concat(x.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));$.push({token:de,fullToken:X});var F=be.run(L,X,b.match,O);if(!F)return{v:new Date(NaN)};k.push(F.setter),L=F.rest}else{if(de.match(SK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+de+"`");if(X==="''"?X="'":de==="'"&&(X=AK(X)),L.indexOf(X)===0)L=L.slice(X.length);else return{v:new Date(NaN)}}};for(B.s();!(U=B.n()).done;){var D=V();if(pi(D)==="object")return D.v}}catch(ie){B.e(ie)}finally{B.f()}if(L.length>0&&IK.test(L))return new Date(NaN);var A=k.map(function(ie){return ie.priority}).sort(function(ie,X){return X-ie}).filter(function(ie,X,de){return de.indexOf(ie)===X}).map(function(ie){return k.filter(function(X){return X.priority===ie}).sort(function(X,de){return de.subPriority-X.subPriority})}).map(function(ie){return ie[0]}),H=ze(n);if(isNaN(H.getTime()))return new Date(NaN);var z=ex(H,hp(H)),ne={},fe=vI(A),Z;try{for(fe.s();!(Z=fe.n()).done;){var W=Z.value;if(!W.validate(z,O))return new Date(NaN);var Q=W.set(z,ne,O);Array.isArray(Q)?(z=Q[0],Tz(ne,Q[1])):z=Q}}catch(ie){fe.e(ie)}finally{fe.f()}return z}function AK(t){return t.match(TK)[1].replace(EK,"'")}function _I(t,e){Ve(2,arguments);var n=nd(t),r=nd(e);return n.getTime()===r.getTime()}function CK(t,e){Ve(2,arguments);var n=Xe(e);return gs(t,-n)}function OK(t,e){var n;Ve(1,arguments);var r=Xe((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=DK(t),s;if(i.date){var o=xK(i.date,r);s=NK(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=MK(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=LK(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var Uh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},PK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,RK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function DK(t){var e={},n=t.split(Uh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Uh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Uh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Uh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function xK(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function NK(t,e){if(e===null)return new Date(NaN);var n=t.match(PK);if(!n)return new Date(NaN);var r=!!n[4],i=Bu(n[1]),s=Bu(n[2])-1,o=Bu(n[3]),a=Bu(n[4]),l=Bu(n[5])-1;if(r)return BK(e,a,l)?VK(e,a,l):new Date(NaN);var u=new Date(0);return!$K(e,s,o)||!UK(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Bu(t){return t?parseInt(t):1}function MK(t){var e=t.match(kK);if(!e)return NaN;var n=Ng(e[1]),r=Ng(e[2]),i=Ng(e[3]);return jK(n,r,i)?n*sb+r*ib+i*1e3:NaN}function Ng(t){return t&&parseFloat(t.replace(",","."))||0}function LK(t){if(t==="Z")return 0;var e=t.match(RK);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return HK(r,i)?n*(r*sb+i*ib):NaN}function VK(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var FK=[31,null,31,30,31,30,31,31,30,31,30,31];function px(t){return t%400===0||t%4===0&&t%100!==0}function $K(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(FK[e]||(px(t)?29:28))}function UK(t,e){return e>=1&&e<=(px(t)?366:365)}function BK(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function jK(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function HK(t,e){return e>=0&&e<=59}function mx(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Iz(o);return n.setMonth(r,Math.min(s,a)),n}function an(t,e){if(Ve(2,arguments),pi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=mx(n,e.month)),e.date!=null&&n.setDate(Xe(e.date)),e.hours!=null&&n.setHours(Xe(e.hours)),e.minutes!=null&&n.setMinutes(Xe(e.minutes)),e.seconds!=null&&n.setSeconds(Xe(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Xe(e.milliseconds)),n)}function gx(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setHours(r),n}function ub(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setMilliseconds(r),n}function vx(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setMinutes(r),n}function cb(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setSeconds(r),n}function Yi(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Jl(t,e){Ve(2,arguments);var n=Xe(e);return Pi(t,-n)}function WK(t,e){if(Ve(2,arguments),!e||pi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=Jl(t,r+n*12),c=CK(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function yx(t,e){Ve(2,arguments);var n=Xe(e);return rb(t,-n)}function gu(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ae("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}gu.compatConfig={MODE:3};function _x(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ae("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}_x.compatConfig={MODE:3};function db(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}db.compatConfig={MODE:3};function hb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}hb.compatConfig={MODE:3};function fb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ae("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}fb.compatConfig={MODE:3};function pb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}pb.compatConfig={MODE:3};function mb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}mb.compatConfig={MODE:3};function gb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bx={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(bx);var qK=bx.exports,Sy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Sy,Sy.exports);var zK=Sy.exports;const KK=gb(zK);var Ay={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Ay,Ay.exports);var GK=Ay.exports;const bI=gb(GK);function YK(t,e){var n=ZK(e);return n.formatToParts?XK(n,t):JK(n,t)}var QK={year:0,month:1,day:2,hour:3,minute:4,second:5};function XK(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=QK[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function JK(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Mg={};function ZK(t){if(!Mg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Mg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Mg[t]}function vb(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var wI=36e5,eG=6e4,Lg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function yb(t,e,n){var r,i;if(t===""||(r=Lg.timezoneZ.exec(t),r))return 0;var s;if(r=Lg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),TI(s)?-(s*wI):NaN;if(r=Lg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return TI(s,o)?(i=Math.abs(s)*wI+o*eG,s>0?-i:i):NaN}if(rG(t)){e=new Date(e||Date.now());var a=n?e:tG(e),l=Cy(a,t),u=n?l:nG(e,l,t);return-u}return NaN}function tG(t){return vb(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Cy(t,e){var n=YK(t,e),r=vb(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function nG(t,e,n){var r=t.getTime(),i=r-e,s=Cy(new Date(i),n);if(e===s)return e;i-=s-e;var o=Cy(new Date(i),n);return s===o?s:Math.max(s,o)}function TI(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var EI={};function rG(t){if(EI[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),EI[t]=!0,!0}catch{return!1}}var wx=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Vg=36e5,II=6e4,iG=2,Pr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:wx};function Oy(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?iG:KK(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=sG(t),s=oG(i.date,r),o=s.year,a=s.restDateString,l=aG(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=lG(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=yb(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=bI(new Date(u+c)),h=bI(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function sG(t){var e={},n=Pr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Pr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Pr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function oG(t,e){var n=Pr.YYY[e],r=Pr.YYYYY[e],i;if(i=Pr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Pr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function aG(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Pr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,AI(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Pr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return dG(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Pr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return AI(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Pr.Www.exec(t),n)return s=parseInt(n[1],10)-1,CI(e,s)?SI(e,s):new Date(NaN);if(n=Pr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return CI(e,s,l)?SI(e,s,l):new Date(NaN)}return null}function lG(t){var e,n,r;if(e=Pr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Fg(n)?n%24*Vg:NaN;if(e=Pr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Fg(n,r)?n%24*Vg+r*II:NaN;if(e=Pr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Fg(n,r,i)?n%24*Vg+r*II+i*1e3:NaN}return null}function SI(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var uG=[31,28,31,30,31,30,31,31,30,31,30,31],cG=[31,29,31,30,31,30,31,31,30,31,30,31];function Tx(t){return t%400===0||t%4===0&&t%100!==0}function AI(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=Tx(t);if(r&&n>cG[e]||!r&&n>uG[e])return!1}return!0}function dG(t,e){if(e<1)return!1;var n=Tx(t);return!(n&&e>366||!n&&e>365)}function CI(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Fg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Py={exports:{}},ky={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(ky,ky.exports);var hG=ky.exports;(function(t,e){var n=qK.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(hG);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Py,Py.exports);var fG=Py.exports;const pG=gb(fG);function mG(t,e,n){var r=Oy(t,n),i=yb(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function gG(t,e,n){if(typeof t=="string"&&!t.match(wx)){var r=pG(n);return r.timeZone=e,Oy(t,r)}var i=Oy(t,n),s=vb(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=yb(e,new Date(s));return new Date(s+o)}function OI(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function vG(t){return e=>fo(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const yG=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(vG(t))}catch{i=r.map(OI(e))}else i=r.map(OI(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},_b=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},Ex=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=fo(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},_G=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Mn=t=>{const e=Y(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},bG=t=>Object.assign({type:"dot"},t),Ix=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,gp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},$n=t=>t,PI=t=>t===0?t:!t||isNaN(+t)?null:+t,kI=t=>t===null,wG=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},TG=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},sd=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Zl=(t,e)=>TG(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),po=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},EG=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function IG(t,e){let n=[...document.querySelectorAll(EG())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const SG=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},RI=(t,e,n,r,i)=>{const s=Iy(t,e.slice(0,t.length),new Date);return Tc(s)&&JD(s)?r||i?s:an(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},AG=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return RI(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=RI(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},ye=t=>t?new Date(t):new Date,CG=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},br=t=>{let e=ye(JSON.parse(JSON.stringify(t)));return e=gx(e,0),e=vx(e,0),e=cb(e,0),e=ub(e,0),e},mo=(t,e,n,r)=>{let i=t?ye(t):ye();return(e||e===0)&&(i=gx(i,+e)),(n||n===0)&&(i=vx(i,+n)),(r||r===0)&&(i=cb(i,+r)),ub(i,0)},Zn=(t,e)=>!t||!e?!1:id(br(t),br(e)),Rt=(t,e)=>!t||!e?!1:dl(br(t),br(e)),vr=(t,e)=>!t||!e?!1:rd(br(t),br(e)),bm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?vr(n,t[0])&&Zn(n,t[1]):t!=null&&t[0]&&e?vr(n,t[0])&&Zn(n,e)||Zn(n,t[0])&&vr(n,e):!1,Ti=t=>{const e=an(new Date(t),{date:1});return br(e)},$g=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ra=t=>({hours:ki(t),minutes:ns(t),seconds:Xl(t)}),Sx=(t,e)=>{if(e){const n=ct(ye(e));if(n>t)return 12;if(n===t)return Et(ye(e))}},Ax=(t,e)=>{if(e){const n=ct(ye(e));return n<t?-1:n===t?Et(ye(e)):void 0}},eu=t=>{if(t)return ct(ye(t))},Ri=(t,e)=>e?mG(t,e):t,Cx=(t,e)=>e?gG(t,e):t,OG=t=>t instanceof Date?t:OK(t),Ox=(t,e)=>{const n=vr(t,e)?e:t,r=vr(e,t)?e:t;return ZD({start:n,end:r})},PG=t=>{const e=Pi(t,1);return{month:Et(e),year:ct(e)}},uf=(t,e,n)=>{const r=Ta(Ri(t,e),{weekStartsOn:+n}),i=bq(Ri(t,e),{weekStartsOn:+n});return[r,i]},Px=(t,e)=>{const n={hours:ki(ye()),minutes:ns(ye()),seconds:e?Xl(ye()):0};return Object.assign(n,t)},io=(t,e,n)=>[an(ye(t),{date:1}),an(ye(),{month:e,year:n,date:1})],ws=(t,e,n)=>{let r=t?ye(t):ye();return(e||e===0)&&(r=mx(r,e)),n&&(r=Yi(r,n)),r},kx=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Pi(t,1):Jl(t,1),o=[Et(s),ct(s)];return i?!RG(...o,e):!kG(...o,n)},kG=(t,e,n)=>Zn(...io(n,t,e))||Rt(...io(n,t,e)),RG=(t,e,n)=>vr(...io(n,t,e))||Rt(...io(n,t,e)),Rx=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${fo(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?fo(t[1],s,a):""}`:fo(t,s,a)},Qa=t=>{if(t)return null;throw new Error(gp.prop("partial-range"))},Bh=(t,e)=>{if(e)return t();throw new Error(gp.prop("range"))},Ry=t=>Array.isArray(t)?Tc(t[0])&&(t[1]?Tc(t[1]):!0):t?Tc(t):!1,DG=(t,e)=>an(e??ye(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Ug=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?id(t,e):rd(t,e),s={seconds:0,milliseconds:0};return i||dl(an(t,s),an(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Bg=(t,e,n)=>t?DG(t,e):ye(n??e),DI=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Bg(t,r[0],e),a=Bg(t,r[1],e);return Ug(r[0],o,n,!!e)&&Ug(r[1],a,n,!!e)&&i}const s=Bg(t,r,e);return Ug(r,s,n,!!e)&&i},jg=t=>an(ye(),ra(t)),xG=(t,e)=>Array.isArray(t)?t.map(n=>ye(n)).filter(n=>ct(ye(n))===e).map(n=>Et(n)):[],Dx=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),bb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),ju=Dr({menuFocused:!1,shiftKeyInMenu:!1}),xx=()=>{const t=n=>{ju.menuFocused=n},e=n=>{ju.shiftKeyInMenu!==n&&(ju.shiftKeyInMenu=n)};return{control:le(()=>({shiftKeyInMenu:ju.shiftKeyInMenu,menuFocused:ju.menuFocused})),setMenuFocused:t,setShiftKey:e}},tn=Dr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Hg=ce(null),jh=ce(!1),Wg=ce(!1),qg=ce(!1),zg=ce(!1),Ir=ce(0),Gn=ce(0),Do=()=>{const t=le(()=>jh.value?[...tn.selectionGrid,tn.actionRow].filter(h=>h.length):Wg.value?[...tn.timePicker[0],...tn.timePicker[1],zg.value?[]:[Hg.value],tn.actionRow].filter(h=>h.length):qg.value?[...tn.monthPicker,tn.actionRow]:[tn.monthYear,...tn.calendar,tn.time,tn.actionRow].filter(h=>h.length)),e=h=>{Ir.value=h?Ir.value+1:Ir.value-1;let f=null;t.value[Gn.value]&&(f=t.value[Gn.value][Ir.value]),f||(Ir.value=h?Ir.value-1:Ir.value+1)},n=h=>{Gn.value===0&&!h||Gn.value===t.value.length&&h||(Gn.value=h?Gn.value+1:Gn.value-1,t.value[Gn.value]?t.value[Gn.value]&&!t.value[Gn.value][Ir.value]&&Ir.value!==0&&(Ir.value=t.value[Gn.value].length-1):Gn.value=h?Gn.value-1:Gn.value+1)},r=h=>{let f=null;t.value[Gn.value]&&(f=t.value[Gn.value][Ir.value]),f?f.focus({preventScroll:!jh.value}):Ir.value=h?Ir.value-1:Ir.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{tn[f]=h},u=(h,f)=>{tn[f]=h},c=()=>{Ir.value=0,Gn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Hg.value=h},setSelectionGrid:h=>{jh.value=h,c(),h||(tn.selectionGrid=[])},setTimePicker:(h,f=!1)=>{Wg.value=h,zg.value=f,c(),h||(tn.timePicker[0]=[],tn.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{tn.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{tn.monthYear=[],tn.calendar=[],tn.time=[],tn.actionRow=[],tn.selectionGrid=[],tn.timePicker[0]=[],tn.timePicker[1]=[],jh.value=!1,Wg.value=!1,zg.value=!1,qg.value=!1,c(),Hg.value=null},setMonthPicker:h=>{qg.value=h,c()},refSets:tn}},xI=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),NG=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),NI=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,MG=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:NI(!1)};const r=e?t:{},i=e?r.count??!0:t,s=NI(i);return Object.assign(n,r,{count:s})},LG=(t,e,n)=>t||(typeof n=="string"?n:e),VG=t=>typeof t=="boolean"?t?xI({}):!1:xI(t),FG=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},$G=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),UG=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),BG=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},jG=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),HG=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>ye(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},WG=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},An=t=>{const e=()=>{const R=t.enableSeconds?":ss":"";return t.is24?`HH:mm${R}`:`hh:mm${R} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=R=>Px(R,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=le(()=>MG(t.multiCalendars)),o=le(()=>i()),a=le(()=>NG(t.ariaLabels)),l=le(()=>$G(t.filters)),u=le(()=>VG(t.transitions)),c=le(()=>UG(t.actionRow)),h=le(()=>LG(t.previewFormat,t.format,n())),f=le(()=>FG(t.textInput)),p=le(()=>BG(t.inline)),g=le(()=>jG(t.config)),w=le(()=>HG(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),E=le(()=>WG(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:w,defaultedWeekNumbers:E,getDefaultPattern:n,getDefaultStartTime:i}},qG=(t,e,n)=>{const r=ce(),{defaultedTextInput:i,getDefaultPattern:s}=An(e),o=ce(""),a=kc(e,"format");Sn(r,()=>{t("internal-model-change",r.value)}),Sn(a,()=>{G()});const l=A=>Cx(A,e.timezone),u=A=>Ri(A,e.timezone),c=(A,H,z=!1)=>Rx(A,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,H??s(),z),h=A=>A?e.modelType?B(A):{hours:ki(A),minutes:ns(A),seconds:e.enableSeconds?Xl(A):0}:null,f=A=>e.modelType?B(A):{month:Et(A),year:ct(A)},p=A=>Array.isArray(A)?e.multiDates?A.map(H=>g(H,Yi(ye(),H))):Bh(()=>[Yi(ye(),A[0]),A[1]?Yi(ye(),A[1]):Qa(e.partialRange)],e.range):Yi(ye(),+A),g=(A,H)=>(typeof A=="string"||typeof A=="number")&&e.modelType?$(A):H,w=A=>Array.isArray(A)?[g(A[0],mo(null,+A[0].hours,+A[0].minutes,A[0].seconds)),g(A[1],mo(null,+A[1].hours,+A[1].minutes,A[1].seconds))]:g(A,mo(null,A.hours,A.minutes,A.seconds)),E=A=>Array.isArray(A)?e.multiDates?A.map(H=>g(H,ws(null,+H.month,+H.year))):Bh(()=>[g(A[0],ws(null,+A[0].month,+A[0].year)),g(A[1],A[1]?ws(null,+A[1].month,+A[1].year):Qa(e.partialRange))],e.range):g(A,ws(null,+A.month,+A.year)),R=A=>{if(Array.isArray(A))return A.map(H=>$(H));throw new Error(gp.dateArr("multi-dates"))},P=A=>{if(Array.isArray(A))return[ye(A[0]),ye(A[1])];throw new Error(gp.dateArr("week-picker"))},T=A=>e.modelAuto?Array.isArray(A)?[$(A[0]),$(A[1])]:e.autoApply?[$(A)]:[$(A),null]:Array.isArray(A)?Bh(()=>[$(A[0]),A[1]?$(A[1]):Qa(e.partialRange)],e.range):$(A),y=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(Qa(e.partialRange))},M=()=>{const A=r.value;return[B(A[0]),A[1]?B(A[1]):Qa(e.partialRange)]},L=()=>r.value[1]?M():B($n(r.value[0])),S=()=>(r.value||[]).map(A=>B(A)),I=()=>(y(),e.modelAuto?L():e.multiDates?S():Array.isArray(r.value)?Bh(()=>M(),e.range):B($n(r.value))),b=A=>!A||Array.isArray(A)&&!A.length?null:e.timePicker?w($n(A)):e.monthPicker?E($n(A)):e.yearPicker?p($n(A)):e.multiDates?R($n(A)):e.weekPicker?P($n(A)):T($n(A)),v=A=>{const H=b(A);Ry($n(H))?(r.value=$n(H),G()):(r.value=null,o.value="")},C=()=>{const A=H=>fo(H,i.value.format);return`${A(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?A(r.value[1]):""}`},O=()=>n.value&&r.value?Array.isArray(r.value)?C():fo(r.value,i.value.format):c(r.value),k=()=>r.value?e.multiDates?r.value.map(A=>c(A)).join("; "):i.value.enabled&&typeof i.value.format=="string"?O():c(r.value):"",G=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=k():o.value=e.format(r.value)},$=A=>{if(e.utc){const H=new Date(A);return e.utc==="preserve"?new Date(H.getTime()+H.getTimezoneOffset()*6e4):H}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(A)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Iy(A,s(),new Date):u(Iy(A,e.modelType,new Date)):u(new Date(A))},B=A=>A?e.utc?CG(A,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(A):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(A)):c(l(A),e.modelType,!0):l(A):"",U=(A,H=!1)=>{if(t("update:model-value",A),e.emitTimezone&&H){const z=Array.isArray(A)?A.map(ne=>Ri($n(ne)),e.emitTimezone):Ri($n(A),e.emitTimezone);t("update:model-timezone-value",z)}},V=A=>Array.isArray(r.value)?e.multiDates?r.value.map(H=>A(H)):[A(r.value[0]),r.value[1]?A(r.value[1]):Qa(e.partialRange)]:A($n(r.value)),D=A=>U($n(V(A)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:G,emitModelValue:()=>(G(),e.monthPicker?D(f):e.timePicker?D(h):e.yearPicker?D(ct):e.weekPicker?U(r.value.map(A=>B(A)),!0):U(I(),!0))}},zG=(t,e)=>{const{defaultedFilters:n}=An(t),{validateMonthYearInRange:r}=La(t),i=(u,c)=>{let h=u;return n.value.months.includes(Et(h))?(h=c?Pi(u,1):Jl(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ct(h))?(h=c?rb(u,1):yx(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=an(new Date,{month:t.month,year:t.year});let f=u?Pi(h,1):Jl(h,1);t.disableYearSelect&&(f=Yi(f,t.year));let p=Et(f),g=ct(f);n.value.months.includes(p)&&(f=i(f,u),p=Et(f),g=ct(f)),n.value.years.includes(g)&&(f=s(f,u),g=ct(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=le(()=>u=>kx(an(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var il=(t=>(t.center="center",t.left="left",t.right="right",t))(il||{}),yi=(t=>(t.month="month",t.year="year",t))(yi||{}),Ho=(t=>(t.top="top",t.bottom="bottom",t))(Ho||{}),ia=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ia||{}),Wi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Wi||{});const KG=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=ce({}),u=ce(!1),c=ce({top:"0",left:"0"}),h=ce(!1),f=kc(o,"teleportCenter");Sn(f,()=>{c.value=JSON.parse(JSON.stringify({})),y()});const p=$=>{if(o.teleport){const B=$.getBoundingClientRect();return{left:B.left+window.scrollX,top:B.top+window.scrollY}}return{top:0,left:0}},g=($,B)=>{c.value.left=`${$+B-l.value.width}px`},w=$=>{c.value.left=`${$}px`},E=($,B)=>{o.position===il.left&&w($),o.position===il.right&&g($,B),o.position===il.center&&(c.value.left=`${$+B/2-l.value.width/2}px`)},R=$=>{const{width:B,height:U}=$.getBoundingClientRect(),{top:V,left:D}=o.altPosition?o.altPosition($):p($);return{top:+V,left:+D,width:B,height:U}},P=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},T=()=>{const $=Mn(n),{top:B,left:U,transform:V}=o.altPosition($);c.value={top:`${B}px`,left:`${U}px`,transform:V??""}},y=($=!0)=>{var B;if(!i.value.enabled){if(f.value)return P();if(o.altPosition!==null)return T();if($){const U=o.teleport?(B=e.value)==null?void 0:B.$el:t.value;U&&(l.value=U.getBoundingClientRect()),s("recalculate-position")}return C()}},M=({inputEl:$,left:B,width:U})=>{window.screen.width>768&&!u.value&&E(B,U),I($)},L=$=>{const{top:B,left:U,height:V,width:D}=R($);c.value.top=`${V+B+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${U+D/2-l.value.width/2}px`),M({inputEl:$,left:U,width:D})},S=$=>{const{top:B,left:U,width:V}=R($);c.value.top=`${B-+o.offset-l.value.height}px`,h.value=!0,M({inputEl:$,left:U,width:V})},I=$=>{if(o.autoPosition){const{left:B,width:U}=R($),{left:V,right:D}=l.value;if(!u.value){if(Math.abs(V)!==Math.abs(D)){if(V<=0)return u.value=!0,w(B);if(D>=document.documentElement.clientWidth)return u.value=!0,g(B,U)}return E(B,U)}}},b=()=>{const $=Mn(n);if($){const{height:B}=l.value,{top:U,height:V}=$.getBoundingClientRect(),D=window.innerHeight-U-V,A=U;return B<=D?Ho.bottom:B>D&&B<=A?Ho.top:D>=A?Ho.bottom:Ho.top}return Ho.bottom},v=$=>b()===Ho.bottom?L($):S($),C=()=>{const $=Mn(n);if($)return o.autoPosition?v($):L($)},O=function($){if($){const B=$.scrollHeight>$.clientHeight,U=window.getComputedStyle($).overflowY.indexOf("hidden")!==-1;return B&&!U}return!0},k=function($){return!$||$===document.body||$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:O($)?$:k($.parentNode)},G=$=>{if($)switch(o.position){case il.left:return{left:0,transform:"translateX(0)"};case il.right:return{left:`${$.width}px`,transform:"translateX(-100%)"};default:return{left:`${$.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:y,getScrollableParent:k,shadowRender:($,B)=>{var U,V,D;const A=document.createElement("div"),H=(U=Mn(n))==null?void 0:U.getBoundingClientRect();A.setAttribute("id","dp--temp-container");const z=(V=r.value)!=null&&V.clientWidth?r.value:document.body;z.append(A);const ne=G(H),fe=xl($,{...B,shadow:!0,style:{opacity:0,position:"absolute",...ne}},Object.fromEntries(Object.keys(a).filter(Z=>["right-sidebar","left-sidebar"].includes(Z)).map(Z=>[Z,a[Z]])));Vc(fe,A),l.value=(D=fe.el)==null?void 0:D.getBoundingClientRect(),Vc(null,A),z.removeChild(A)}}},Hs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],GG=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],YG={all:()=>Hs,monthYear:()=>Hs.filter(t=>t.use.includes("month-year")),input:()=>GG,timePicker:()=>Hs.filter(t=>t.use.includes("time")),action:()=>Hs.filter(t=>t.use.includes("action")),calendar:()=>Hs.filter(t=>t.use.includes("calendar")),menu:()=>Hs.filter(t=>t.use.includes("menu")),shared:()=>Hs.filter(t=>t.use.includes("shared")),yearMode:()=>Hs.filter(t=>t.use.includes("year-mode"))},Xr=(t,e,n)=>{const r=[];return YG[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Yd=t=>{const e=le(()=>r=>t.value?r?t.value.open:t.value.close:""),n=le(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Qd=(t,e)=>{const n=ye(Ri(new Date,t.timezone)),r=ce([{month:Et(n),year:ct(n)}]),i=Dr({hours:t.range?[ki(n),ki(n)]:ki(n),minutes:t.range?[ns(n),ns(n)]:ns(n),seconds:t.range?[0,0]:0}),s=le({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=le(()=>l=>r.value[l]?r.value[l].month:0),a=le(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},QG=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=An(e),{isDisabled:i,matchDate:s}=La(e),o=ce(null),a=ce(ye(Ri(new Date,e.timezone))),l=D=>{!D.current&&e.hideOffsetDates||(o.value=D.value)},u=()=>{o.value=null},c=D=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?D?vr(o.value,t.value[0]):Zn(o.value,t.value[0]):!0,h=(D,A)=>{const H=()=>t.value?A?t.value[0]||null:t.value[1]:null,z=t.value&&Array.isArray(t.value)?H():null;return Rt(ye(D.value),z)},f=D=>{const A=Array.isArray(t.value)?t.value[0]:null;return D?!Zn(o.value??null,A):!0},p=(D,A=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!D.current?!1:Rt(ye(D.value),t.value[A?0:1]):e.range?h(D,A)&&f(A)||Rt(D.value,Array.isArray(t.value)?t.value[0]:null)&&c(A):!1,g=(D,A,H)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?D?!1:H?vr(t.value[0],A.value):Zn(t.value[0],A.value):!1,w=D=>!t.value||e.hideOffsetDates&&!D.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Rt(D.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(A=>Rt(A,D.value)):Rt(D.value,t.value?t.value:a.value),E=D=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!D.current)return!1;const A=gs(o.value,+e.autoRange),H=uf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(H[1],ye(D.value)):Rt(A,ye(D.value))}return!1}return!1},R=D=>{if(e.autoRange||e.weekPicker){if(o.value){const A=gs(o.value,+e.autoRange);if(e.hideOffsetDates&&!D.current)return!1;const H=uf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?vr(D.value,H[0])&&Zn(D.value,H[1]):vr(D.value,o.value)&&Zn(D.value,A)}return!1}return!1},P=D=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!D.current)return!1;const A=uf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(A[0],D.value):Rt(o.value,D.value)}return!1}return!1},T=D=>bm(t.value,o.value,D.value),y=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,M=()=>e.modelAuto?Ix(e.internalModelValue):!0,L=D=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const A=e.range?!p(D)&&!p(D,!1):!0;return!i(D.value)&&!w(D)&&!(!D.current&&e.hideOffsetDates)&&A},S=D=>e.range?e.modelAuto?y()&&w(D):!1:w(D),I=D=>{var A;return r.value?typeof r.value=="function"?r.value(D.value):s(D.value,(A=e.arrMapValues)!=null&&A.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},b=D=>{const A=i(D.value);return A&&(typeof r.value=="function"?!r.value(D.value,A):!r.value.options.highlightDisabled)},v=D=>{var A;return typeof r.value=="function"?r.value(D.value):(A=r.value.weekdays)==null?void 0:A.includes(D.value.getDay())},C=D=>(e.range||e.weekPicker)&&(!(n.value.count>0)||D.current)&&M()&&!(!D.current&&e.hideOffsetDates)&&!w(D)?T(D):!1,O=D=>{const{isRangeStart:A,isRangeEnd:H}=$(D),z=e.range?A||H:!1;return{dp__cell_offset:!D.current,dp__pointer:!e.disabled&&!(!D.current&&e.hideOffsetDates)&&!i(D.value),dp__cell_disabled:i(D.value),dp__cell_highlight:!b(D)&&(I(D)||v(D))&&!S(D)&&!z&&!P(D)&&!(C(D)&&e.weekPicker)&&!H,dp__cell_highlight_active:!b(D)&&(I(D)||v(D))&&S(D),dp__today:!e.noToday&&Rt(D.value,a.value)&&D.current}},k=D=>({dp__active_date:S(D),dp__date_hover:L(D)}),G=D=>({...B(D),...U(D),dp__range_between_week:C(D)&&e.weekPicker}),$=D=>{const A=n.value.count>0?D.current&&p(D)&&M():p(D)&&M(),H=n.value.count>0?D.current&&p(D,!1)&&M():p(D,!1)&&M();return{isRangeStart:A,isRangeEnd:H}},B=D=>{const{isRangeStart:A,isRangeEnd:H}=$(D);return{dp__range_start:A,dp__range_end:H,dp__range_between:C(D)&&!e.weekPicker,dp__date_hover_start:g(L(D),D,!0),dp__date_hover_end:g(L(D),D,!1)}},U=D=>({...B(D),dp__cell_auto_range:R(D),dp__cell_auto_range_start:P(D),dp__cell_auto_range_end:E(D)}),V=D=>e.range?e.autoRange?U(D):e.modelAuto?{...k(D),...B(D)}:B(D):e.weekPicker?G(D):k(D);return{setHoverDate:l,clearHoverDate:u,getDayClassData:D=>e.hideOffsetDates&&!D.current?{}:{...O(D),...V(D),[e.dayClass?e.dayClass(D.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},La=t=>{const{defaultedFilters:e,defaultedHighlight:n}=An(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const C=br(s(ye(v))).toISOString(),[O]=C.split("T");return O},s=v=>t.utc==="preserve"?Cx(v,r()):Ri(v,r()),o=v=>{var C;const O=t.maxDate?vr(v,s(ye(t.maxDate))):!1,k=t.minDate?Zn(v,s(ye(t.minDate))):!1,G=c(s(v),(C=t.arrMapValues)!=null&&C.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),$=e.value.months.map(A=>+A).includes(Et(v)),B=t.disabledWeekDays.length?t.disabledWeekDays.some(A=>+A===Ez(v)):!1,U=f(v),V=ct(v),D=V<+t.yearRange[0]||V>+t.yearRange[1];return!(O||k||G||$||D||B||U)},a=(v,C)=>Zn(...io(t.minDate,v,C))||Rt(...io(t.minDate,v,C)),l=(v,C)=>vr(...io(t.maxDate,v,C))||Rt(...io(t.maxDate,v,C)),u=(v,C,O)=>{let k=!1;return t.maxDate&&O&&l(v,C)&&(k=!0),t.minDate&&!O&&a(v,C)&&(k=!0),k},c=(v,C)=>v?C instanceof Map?!!C.get(i(v)):Array.isArray(C)?C.some(O=>Rt(s(ye(O)),v)):C?C(ye(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,C,O,k)=>{let G=!1;return k?t.minDate&&t.maxDate?G=u(v,C,O):(t.minDate&&a(v,C)||t.maxDate&&l(v,C))&&(G=!0):G=!0,G},f=v=>{var C,O,k,G,$;return Array.isArray(t.allowedDates)&&!((C=t.allowedDates)!=null&&C.length)?!0:(O=t.arrMapValues)!=null&&O.allowedDates?!c(v,(k=t.arrMapValues)==null?void 0:k.allowedDates):(G=t.allowedDates)!=null&&G.length?!(($=t.allowedDates)!=null&&$.some(B=>Rt(br(B),s(br(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!ZD({start:v[0],end:v[1]}).some(C=>p(C)):!0,w=(v,C,O=0)=>{if(Array.isArray(C)&&C[O]){const k=pq(v,C[O]),G=Ox(C[O],v),$=G.length===1?0:G.filter(U=>p(U)).length,B=Math.abs(k)-$;if(t.minRange&&t.maxRange)return B>=+t.minRange&&B<=+t.maxRange;if(t.minRange)return B>=+t.minRange;if(t.maxRange)return B<=+t.maxRange}return!0},E=v=>new Map(v.map(C=>[i(C),!0])),R=v=>Array.isArray(v)&&v.length>0,P=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return R(t.allowedDates)&&(v.allowedDates=E(t.allowedDates)),typeof n.value!="function"&&R(n.value.dates)&&(v.highlightedDates=E(n.value.dates)),R(t.disabledDates)&&(v.disabledDates=E(t.disabledDates)),v},T=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,y=v=>Array.isArray(v)?[v[0]?jg(v[0]):null,v[1]?jg(v[1]):null]:jg(v),M=(v,C,O)=>v.find(k=>+k.hours===ki(C)&&k.minutes==="*"?!0:+k.minutes===ns(C)&&+k.hours===ki(C))&&O,L=(v,C,O)=>{const[k,G]=v,[$,B]=C;return!M(k,$,O)&&!M(G,B,O)&&O},S=(v,C)=>{const O=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?L(t.disabledTimes,O,v):!O.some(k=>M(t.disabledTimes,k,v)):v},I=(v,C)=>{const O=Array.isArray(C)?[ra(C[0]),C[1]?ra(C[1]):void 0]:ra(C),k=!t.disabledTimes(O);return v&&k},b=(v,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?S(C,v):I(C,v):C;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:w,matchDate:c,mapDatesArrToMap:P,isValidTime:v=>{let C=!0;if(!v||T())return!0;const O=!t.minDate&&!t.maxDate?y(v):v;return(t.maxTime||t.maxDate)&&(C=DI(t.maxTime,t.maxDate,"max",$n(O),C)),(t.minTime||t.minDate)&&(C=DI(t.minTime,t.minDate,"min",$n(O),C)),b(v,C)}}},wm=()=>{const t=le(()=>(r,i)=>r==null?void 0:r.includes(i)),e=le(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=le(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},XG=(t,e,n)=>{const r=ce(0),i=Dr({[ia.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ia.calendar]:!1,[ia.header]:!1}),s=le(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(Wi.month,"toggleMonthPicker",!0),u(Wi.year,"toggleYearPicker",!0),u(Wi.calendar,"toggleTimePicker",!1,!0),u(Wi.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===Wi.hours||h===Wi.minutes||h===Wi.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},Tm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Vi={...Tm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},JG={key:1,class:"dp__input_wrap"},ZG=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],eY={key:2,class:"dp__clear_icon"},tY=Yt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Tm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=An(i),{checkMinMaxRange:h}=La(i),f=ce(),p=ce(null),g=ce(!1),w=ce(!1),E=le(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),R=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},P=G=>{const $=c();return AG(G,s.value.format??u(),$??Px({},i.enableSeconds),i.inputValue,w.value)},T=G=>{const{rangeSeparator:$}=s.value,[B,U]=G.split(`${$}`);if(B){const V=P(B.trim()),D=U?P(U.trim()):null,A=V&&D?[V,D]:[V];h(D,A,0)&&(f.value=V?A:null)}},y=()=>{w.value=!0},M=G=>{if(i.range)T(G);else if(i.multiDates){const $=G.split(";");f.value=$.map(B=>P(B.trim())).filter(B=>B)}else f.value=P(G)},L=G=>{var $;const B=typeof G=="string"?G:($=G.target)==null?void 0:$.value;B!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),M(B),r("set-input-date",f.value)):R(),w.value=!1,r("update:input-value",B)},S=G=>{s.value.enabled?(M(G.target.value),s.value.enterSubmit&&Ry(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(G)},I=G=>{s.value.enabled&&s.value.tabSubmit&&M(G.target.value),s.value.tabSubmit&&Ry(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},b=()=>{var G;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((G=p.value)==null||G.select())},v=G=>{G.preventDefault(),po(G,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},C=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},O=G=>{po(G,l.value,!0),r("clear")},k=G=>{if(!s.value.enabled){if(G.code==="Tab")return;G.preventDefault()}};return e({focusInput:()=>{var G;(G=p.value)==null||G.focus({preventScroll:!0})},setParsedDate:G=>{f.value=G}}),(G,$)=>{var B;return q(),ee("div",{onClick:v},[G.$slots.trigger&&!G.$slots["dp-input"]&&!Y(a).enabled?_e(G.$slots,"trigger",{key:0}):he("",!0),!G.$slots.trigger&&(!Y(a).enabled||Y(a).input)?(q(),ee("div",JG,[G.$slots["dp-input"]&&!G.$slots.trigger&&!Y(a).enabled?_e(G.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:L,onEnter:S,onTab:I,onClear:O,onBlur:C,onKeypress:k,onPaste:y,openMenu:()=>G.$emit("open"),closeMenu:()=>G.$emit("close"),toggleMenu:()=>G.$emit("toggle")}):he("",!0),G.$slots["dp-input"]?he("",!0):(q(),ee("input",{key:1,id:G.uid?`dp-input-${G.uid}`:void 0,ref_key:"inputRef",ref:p,name:G.name,class:tt(E.value),inputmode:Y(s).enabled?"text":"none",placeholder:G.placeholder,disabled:G.disabled,readonly:G.readonly,required:G.required,value:t.inputValue,autocomplete:G.autocomplete,"aria-label":(B=Y(o))==null?void 0:B.input,"aria-disabled":G.disabled||void 0,"aria-invalid":G.state===!1?!0:void 0,onInput:L,onKeydown:[at(S,["enter"]),at(I,["tab"]),k],onBlur:C,onFocus:b,onKeypress:k,onPaste:y},null,42,ZG)),Ae("div",{onClick:$[2]||($[2]=U=>r("toggle"))},[G.$slots["input-icon"]&&!G.hideInputIcon?(q(),ee("span",{key:0,class:"dp__input_icon",onClick:$[0]||($[0]=U=>r("toggle"))},[_e(G.$slots,"input-icon")])):he("",!0),!G.$slots["input-icon"]&&!G.hideInputIcon&&!G.$slots["dp-input"]?(q(),qe(Y(gu),{key:1,class:"dp__input_icon dp__input_icons",onClick:$[1]||($[1]=U=>r("toggle"))})):he("",!0)]),G.$slots["clear-icon"]&&t.inputValue&&G.clearable&&!G.disabled&&!G.readonly?(q(),ee("span",eY,[_e(G.$slots,"clear-icon",{clear:O})])):he("",!0),G.clearable&&!G.$slots["clear-icon"]&&t.inputValue&&!G.disabled&&!G.readonly?(q(),qe(Y(_x),{key:3,class:"dp__clear_icon dp__input_icons",onClick:$[3]||($[3]=Lt(U=>O(U),["prevent"]))})):he("",!0)])):he("",!0)])}}}),nY=["title"],rY={class:"dp__action_buttons"},iY=["disabled"],sY=Yt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Vi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=An(r),{isValidTime:c}=La(r),{buildMatrix:h}=Do(),f=ce(null),p=ce(null);_n(()=>{r.arrowNavigation&&h([Mn(f),Mn(p)],"actionRow")});const g=le(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),w=le(()=>!E.value||!R.value||!g.value),E=le(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),R=le(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!I(v)).length:I(r.internalModelValue):!0),P=()=>{const v=s.value;return r.timePicker||r.monthPicker,v($n(r.internalModelValue))},T=()=>{const v=r.internalModelValue;return o.value.count>0?`${y(v[0])} - ${y(v[1])}`:[y(v[0]),y(v[1])]},y=v=>Rx(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),M=le(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?T():r.multiDates?r.internalModelValue.map(v=>`${y(v)}`):r.modelAuto?`${y(r.internalModelValue[0])}`:`${y(r.internalModelValue[0])} -`:y(r.internalModelValue):P()),L=()=>r.multiDates?"; ":" - ",S=le(()=>Array.isArray(M.value)?M.value.join(L()):M.value),I=v=>{if(!r.monthPicker)return!0;let C=!0;const O=ye(Ti(v));if(r.minDate&&r.maxDate){const k=ye(Ti(r.minDate)),G=ye(Ti(r.maxDate));return vr(O,k)&&Zn(O,G)||Rt(O,k)||Rt(O,G)}if(r.minDate){const k=ye(Ti(r.minDate));C=vr(O,k)||Rt(O,k)}if(r.maxDate){const k=ye(Ti(r.maxDate));C=Zn(O,k)||Rt(O,k)}return C},b=()=>{E.value&&R.value&&g.value?n("select-date"):n("invalid-select")};return(v,C)=>(q(),ee("div",{class:"dp__action_row",style:kr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?_e(v.$slots,"action-row",Tn(pe({key:0},{internalModelValue:v.internalModelValue,disabled:w.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(q(),ee(Me,{key:1},[Y(i).showPreview?(q(),ee("div",{key:0,class:"dp__selection_preview",title:S.value},[v.$slots["action-preview"]?_e(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):he("",!0),v.$slots["action-preview"]?he("",!0):(q(),ee(Me,{key:1},[xn(ht(S.value),1)],64))],8,nY)):he("",!0),Ae("div",rY,[v.$slots["action-buttons"]?_e(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):he("",!0),v.$slots["action-buttons"]?he("",!0):(q(),ee(Me,{key:1},[!Y(l).enabled&&Y(i).showCancel?(q(),ee("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:C[0]||(C[0]=O=>v.$emit("close-picker")),onKeydown:[C[1]||(C[1]=at(O=>v.$emit("close-picker"),["enter"])),C[2]||(C[2]=at(O=>v.$emit("close-picker"),["space"]))]},ht(v.cancelText),545)):he("",!0),Y(i).showNow?(q(),ee("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:C[3]||(C[3]=O=>v.$emit("select-now")),onKeydown:[C[4]||(C[4]=at(O=>v.$emit("select-now"),["enter"])),C[5]||(C[5]=at(O=>v.$emit("select-now"),["space"]))]},ht(v.nowButtonLabel),545)):he("",!0),Y(i).showSelect?(q(),ee("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:w.value,onKeydown:[at(b,["enter"]),at(b,["space"])],onClick:b},ht(v.selectText),41,iY)):he("",!0)],64))])],64))],4))}}),oY=["onKeydown"],aY={class:"dp__selection_grid_header"},lY=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],uY=["aria-label"],Xd=Yt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Do(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=An(a),{hideNavigationButtons:h}=wm(),f=ce(!1),p=ce(null),g=ce(null),w=ce([]),E=ce(),R=ce(null),P=ce(0),T=ce(null);o_(()=>{p.value=null}),_n(()=>{Wn().then(()=>C()),a.noOverlayFocus||M(),y(!0)}),Aa(()=>y(!1));const y=D=>{var A;a.arrowNavigation&&((A=a.headerRefs)!=null&&A.length?s(D):r(D))},M=()=>{var D;const A=Mn(g);A&&(u.value.enabled||(p.value?(D=p.value)==null||D.focus({preventScroll:!0}):A.focus({preventScroll:!0})),f.value=A.clientHeight<A.scrollHeight)},L=le(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),S=le(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),I=le(()=>({dp__overlay_col:!0})),b=le(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=le(()=>{var D,A;return{dp__overlay_container:!0,dp__container_flex:((D=a.items)==null?void 0:D.length)<=6,dp__container_block:((A=a.items)==null?void 0:A.length)>6}});Sn(()=>a.items,()=>C(),{deep:!0});const C=()=>{Wn().then(()=>{const D=Mn(p),A=Mn(g),H=Mn(R),z=Mn(T),ne=H?H.getBoundingClientRect().height:0;A&&(A.getBoundingClientRect().height?P.value=A.getBoundingClientRect().height-ne:P.value=c.value.modeHeight-ne),D&&z&&(z.scrollTop=D.offsetTop-z.offsetTop-(P.value/2-D.getBoundingClientRect().height)-ne)})},O=D=>{D.disabled||o("selected",D.value)},k=()=>{o("toggle"),o("reset-flow")},G=()=>{a.escClose&&k()},$=(D,A,H,z)=>{D&&((A.active||A.value===a.focusValue)&&(p.value=D),a.arrowNavigation&&(Array.isArray(w.value[H])?w.value[H][z]=D:w.value[H]=[D],B()))},B=()=>{var D,A;const H=(D=a.headerRefs)!=null&&D.length?[a.headerRefs].concat(w.value):w.value.concat([a.skipButtonRef?[]:[R.value]]);i($n(H),(A=a.headerRefs)!=null&&A.length?"monthPicker":"selectionGrid")},U=D=>{a.arrowNavigation||po(D,c.value,!0)},V=D=>{E.value=D,o("hover-value",D)};return e({focusGrid:M}),(D,A)=>{var H;return q(),ee("div",{ref_key:"gridWrapRef",ref:g,class:tt(L.value),style:kr(S.value),role:"dialog",tabindex:"0",onKeydown:[at(Lt(G,["prevent"]),["esc"]),A[0]||(A[0]=at(Lt(z=>U(z),["prevent"]),["left"])),A[1]||(A[1]=at(Lt(z=>U(z),["prevent"]),["up"])),A[2]||(A[2]=at(Lt(z=>U(z),["prevent"]),["down"])),A[3]||(A[3]=at(Lt(z=>U(z),["prevent"]),["right"]))]},[Ae("div",{ref_key:"containerRef",ref:T,class:tt(v.value),role:"grid",style:kr({height:`${P.value}px`})},[Ae("div",aY,[_e(D.$slots,"header")]),D.$slots.overlay?_e(D.$slots,"overlay",{key:0}):(q(!0),ee(Me,{key:1},Ft(D.items,(z,ne)=>(q(),ee("div",{key:ne,class:tt(["dp__overlay_row",{dp__flex_row:D.items.length>=3}]),role:"row"},[(q(!0),ee(Me,null,Ft(z,(fe,Z)=>(q(),ee("div",{key:fe.value,ref_for:!0,ref:W=>$(W,fe,ne,Z),role:"gridcell",class:tt(I.value),"aria-selected":fe.active,"aria-disabled":fe.disabled||void 0,tabindex:"0",onClick:W=>O(fe),onKeydown:[at(Lt(W=>O(fe),["prevent"]),["enter"]),at(Lt(W=>O(fe),["prevent"]),["space"])],onMouseover:W=>V(fe.value)},[Ae("div",{class:tt(fe.className)},[D.$slots.item?_e(D.$slots,"item",{key:0,item:fe}):he("",!0),D.$slots.item?he("",!0):(q(),ee(Me,{key:1},[xn(ht(fe.text),1)],64))],2)],42,lY))),128))],2))),128))],6),D.$slots["button-icon"]?Xo((q(),ee("button",{key:0,ref_key:"toggleButton",ref:R,type:"button","aria-label":(H=Y(l))==null?void 0:H.toggleOverlay,class:tt(b.value),tabindex:"0",onClick:k,onKeydown:[at(k,["enter"]),at(k,["tab"])]},[_e(D.$slots,"button-icon")],42,uY)),[[oc,!Y(h)(D.hideNavigation,D.type)]]):he("",!0)],46,oY)}}}),Em=Yt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=le(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=le(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(q(),ee("div",{class:tt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(q(!0),ee(Me,null,Ft(n.value,(o,a)=>(q(),ee("div",{key:o,class:tt(r.value)},[_e(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),cY=["aria-label","aria-disabled"],Ec=Yt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=ce(null);return _n(()=>n("set-ref",r)),(i,s)=>(q(),ee("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Lt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Lt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[Ae("span",{class:tt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[_e(i.$slots,"default")],2)],40,cY))}}),dY={class:"dp--year-mode-picker"},hY=["aria-label"],Nx=Yt({__name:"YearModePicker",props:{...Vi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=wm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=An(r),{showTransition:c,transitionName:h}=Yd(u),f=(w=!1,E)=>{n("toggle-year-picker",{flow:w,show:E})},p=w=>{n("year-select",w)},g=(w=!1)=>{n("handle-year",w)};return(w,E)=>{var R,P,T;return q(),ee("div",dY,[Y(s)(Y(a),t.instance)?(q(),qe(Ec,{key:0,ref:"mpPrevIconRef","aria-label":(R=Y(l))==null?void 0:R.prevYear,disabled:t.isDisabled(!1),onActivate:E[0]||(E[0]=y=>g(!1))},{default:Qe(()=>[w.$slots["arrow-left"]?_e(w.$slots,"arrow-left",{key:0}):he("",!0),w.$slots["arrow-left"]?he("",!0):(q(),qe(Y(db),{key:1}))]),_:3},8,["aria-label","disabled"])):he("",!0),Ae("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(P=Y(l))==null?void 0:P.openYearsOverlay,onClick:E[1]||(E[1]=()=>f(!1)),onKeydown:E[2]||(E[2]=at(()=>f(!1),["enter"]))},[w.$slots.year?_e(w.$slots,"year",{key:0,year:t.year}):he("",!0),w.$slots.year?he("",!0):(q(),ee(Me,{key:1},[xn(ht(t.year),1)],64))],40,hY),Y(i)(Y(a),t.instance)?(q(),qe(Ec,{key:1,ref:"mpNextIconRef","aria-label":(T=Y(l))==null?void 0:T.nextYear,disabled:t.isDisabled(!0),onActivate:E[3]||(E[3]=y=>g(!0))},{default:Qe(()=>[w.$slots["arrow-right"]?_e(w.$slots,"arrow-right",{key:0}):he("",!0),w.$slots["arrow-right"]?he("",!0):(q(),qe(Y(hb),{key:1}))]),_:3},8,["aria-label","disabled"])):he("",!0),Je(Oo,{name:Y(h)(t.showYearPicker),css:Y(c)},{default:Qe(()=>[t.showYearPicker?(q(),qe(Xd,{key:0,items:t.items,"text-input":w.textInput,"esc-close":w.escClose,config:w.config,"is-last":w.autoApply&&!Y(o).keepActionRow,"hide-navigation":w.hideNavigation,type:"year",onToggle:f,onSelected:E[4]||(E[4]=y=>p(y))},tr({"button-icon":Qe(()=>[w.$slots["calendar-icon"]?_e(w.$slots,"calendar-icon",{key:0}):he("",!0),w.$slots["calendar-icon"]?he("",!0):(q(),qe(Y(gu),{key:1}))]),_:2},[w.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:y})=>[_e(w.$slots,"year-overlay-value",{text:y.text,value:y.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):he("",!0)]),_:3},8,["name","css"])])}}}),wb=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Rt(t,r))){const r=e.value.filter(i=>!Rt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Tb=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Zn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Im=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},Mx=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Ri(ye(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ri(ye(t.value),t.timezone))},Lx=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=le(()=>_b(i.yearRange,i.reverseYears)),u=ce([!1]),c=le(()=>(y,M)=>{const L=an(Ti(new Date),{month:o.value(y),year:s.value(y)});return kx(L,i.maxDate,i.minDate,i.preventMinMaxNavigation,M)}),h=()=>{for(let y=0;y<t.value.count;y++)if(y===0)n.value[y]=n.value[0];else{const M=an(ye(),n.value[y-1]);n.value[y]={month:Et(M),year:ct(rb(M,1))}}},f=y=>{if(!y)return h();const M=an(ye(),n.value[y]);return n.value[0].year=ct(yx(M,t.value.count-1)),h()},p=y=>i.focusStartDate?y[0]:y[1]?y[1]:y[0],g=()=>{if(r.value){const y=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Et(y),year:ct(y)}}};_n(()=>{g(),t.value.count&&h()});const w=(y,M)=>{n.value[M].year=y,t.value.count&&!t.value.solo&&f(M)},E=le(()=>y=>Zl(l.value,M=>{const L=s.value(y)===M.value,S=sd(M.value,eu(i.minDate),eu(i.maxDate)),I=bb(e.value,M.value);return{active:L,disabled:S,highlighted:I}})),R=(y,M)=>{w(y,M),T(M)},P=(y,M=!1)=>{if(!c.value(y,M)){const L=M?s.value(y)+1:s.value(y)-1;w(L,y)}},T=(y,M=!1,L)=>{M||a("reset-flow"),L!==void 0?u.value[y]=L:u.value[y]=!u.value[y],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:E,showYearPicker:u,selectYear:w,toggleYearPicker:T,handleYearSelect:R,handleYear:P}},fY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=An(t),{modelValue:a,year:l,month:u,calendars:c}=Qd(t,e),h=le(()=>Ex(t.formatLocale,t.locale,t.monthNameFormat)),f=ce(null),{selectYear:p,groupedYears:g,showYearPicker:w,toggleYearPicker:E,handleYearSelect:R,handleYear:P,isDisabled:T}=Lx({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});_n(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ct(ye(t.startDate)),0)});const y=U=>U?{month:Et(U),year:ct(U)}:{month:null,year:null},M=()=>a.value?Array.isArray(a.value)?a.value.map(U=>y(U)):y(a.value):y(),L=(U,V)=>{const D=c.value[U],A=M();return Array.isArray(A)?A.some(H=>H.year===(D==null?void 0:D.year)&&H.month===V):(D==null?void 0:D.year)===A.year&&V===A.month},S=(U,V,D)=>{var A,H;const z=M();return Array.isArray(z)?l.value(V)===((A=z[D])==null?void 0:A.year)&&U===((H=z[D])==null?void 0:H.month):!1},I=(U,V)=>{if(t.range){const D=M();if(Array.isArray(a.value)&&Array.isArray(D)){const A=S(U,V,0)||S(U,V,1),H=ws(Ti(ye()),U,l.value(V));return bm(a.value,f.value,H)&&!A}return!1}return!1},b=le(()=>U=>Zl(h.value,V=>{const D=L(U,V.value),A=sd(V.value,Sx(l.value(U),t.minDate),Ax(l.value(U),t.maxDate))||xG(t.disabledDates,l.value(U)).includes(V.value),H=I(V.value,U),z=Dx(o.value,V.value,l.value(U));return{active:D,disabled:A,isBetween:H,highlighted:z}})),v=(U,V)=>ws(Ti(ye()),U,l.value(V)),C=(U,V)=>{const D=a.value?a.value:Ti(new Date);a.value=ws(D,U,l.value(V)),e("auto-apply")},O=(U,V)=>{const D=Tb(a,v(U,V),e);Im(D,e,t.autoApply,t.modelAuto)},k=(U,V)=>{wb(v(U,V),a,t.multiDatesLimit),e("auto-apply",!0)},G=(U,V)=>(c.value[V].month=U,B(V,c.value[V].year,U),t.multiDates?k(U,V):t.range?O(U,V):C(U,V)),$=(U,V)=>{p(U,V),B(V,U,null)},B=(U,V,D)=>{let A=D;if(!A&&A!==0){const H=M();A=Array.isArray(H)?H[U].month:H.month}e("update-month-year",{instance:U,year:V,month:A})};return{groupedMonths:b,groupedYears:g,year:l,isDisabled:T,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:w,modelValue:a,presetDate:(U,V)=>{Mx({value:U,modelValue:a,range:t.range,timezone:V?void 0:t.timezone}),e("auto-apply")},setHoverDate:(U,V)=>{f.value=v(U,V)},selectMonth:G,selectYear:$,toggleYearPicker:E,handleYearSelect:R,handleYear:P,getModelMonthYear:M}},pY=Yt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Vi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Ca(),s=Xr(i,"yearMode"),o=t;_n(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:w,setHoverDate:E,selectMonth:R,selectYear:P,toggleYearPicker:T,handleYearSelect:y,handleYear:M,getModelMonthYear:L}=fY(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:L,selectMonth:R,selectYear:P,handleYear:M}),presetDate:w,toggleYearPicker:S=>T(0,S)}),(S,I)=>(q(),qe(Em,{"multi-calendars":Y(h).count,stretch:""},{default:Qe(({instance:b})=>[S.$slots["month-year"]?_e(S.$slots,"month-year",Tn(pe({key:0},{year:Y(u),months:Y(a)(b),years:Y(l)(b),selectMonth:Y(R),selectYear:Y(P),instance:b}))):(q(),qe(Xd,{key:1,items:Y(a)(b),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!Y(f).keepActionRow,"esc-close":S.escClose,height:Y(f).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:v=>Y(R)(v,b),onHoverValue:v=>Y(E)(v,b)},{header:Qe(()=>[Je(Nx,pe(S.$props,{items:Y(l)(b),instance:b,"show-year-picker":Y(p)[b],year:Y(u)(b),"is-disabled":v=>Y(c)(b,v),onHandleYear:v=>Y(M)(b,v),onYearSelect:v=>Y(y)(v,b),onToggleYearPicker:v=>Y(T)(b,v==null?void 0:v.flow,v==null?void 0:v.show)}),tr({_:2},[Ft(Y(s),(v,C)=>({name:v,fn:Qe(O=>[_e(S.$slots,v,Tn(er(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),mY=(t,e)=>{const{modelValue:n}=Qd(t,e),r=ce(null),{defaultedHighlight:i,defaultedFilters:s}=An(t),o=ce();_n(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ct(ye(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ct(f)===h):n.value?ct(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?bm(n.value,r.value,c(h)):!1,u=le(()=>Zl(_b(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=sd(h.value,eu(t.minDate),eu(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,w=bb(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:w}})),c=h=>Yi(Ti(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=Yi(Ti(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ct(p))).includes(h)?n.value=n.value.filter(p=>ct(p)!==h):n.value.push(Yi(br(ye()),h))):n.value=[Yi(br(ye()),h)],e("auto-apply",!0);if(t.range){const p=Tb(n,c(h),e);return Im(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},gY=Yt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Vi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=mY(i,r),{defaultedConfig:c}=An(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(q(),ee("div",null,[h.$slots["month-year"]?_e(h.$slots,"month-year",Tn(pe({key:0},{years:Y(s),selectYear:Y(l)}))):(q(),qe(Xd,{key:1,items:Y(s),"is-last":h.autoApply&&!Y(c).keepActionRow,height:Y(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":Y(a),type:"year","use-relative":"",onSelected:Y(l),onHoverValue:Y(u)},tr({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:p})=>[_e(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),vY={key:0,class:"dp__time_input"},yY=["aria-label","onKeydown","onClick"],_Y=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),bY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),wY=["aria-label","disabled","onKeydown","onClick"],TY=["aria-label","onKeydown","onClick"],EY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),IY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),SY={key:0},AY=["aria-label","onKeydown"],CY=Yt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Vi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Do(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=An(i),{transitionName:h,showTransition:f}=Yd(l),p=Dr({hours:!1,minutes:!1,seconds:!1}),g=ce("AM"),w=ce(null),E=ce([]);_n(()=>{r("mounted")});const R=W=>an(new Date,{hours:W.hours,minutes:W.minutes,seconds:i.enableSeconds?W.seconds:0,milliseconds:0}),P=le(()=>W=>G(W,i[W])||y(W,i[W])),T=le(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),y=(W,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(W,Q):!1,M=(W,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ie=Q?+i[`${W}Increment`]:-+i[`${W}Increment`],X=i[W]+ie;return!i.validateTime(W,X)}return!1},L=le(()=>W=>!B(+i[W]+ +i[`${W}Increment`],W)||M(W,!0)),S=le(()=>W=>!B(+i[W]-+i[`${W}Increment`],W)||M(W,!1)),I=(W,Q)=>XD(an(ye(),W),Q),b=(W,Q)=>WK(an(ye(),W),Q),v=le(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),C=le(()=>{const W=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?W.concat([{type:"",separator:!0},{type:"seconds"}]):W}),O=le(()=>C.value.filter(W=>!W.separator)),k=le(()=>W=>{if(W==="hours"){const Q=H(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[W]<10?`0${i[W]}`:`${i[W]}`,value:i[W]}}),G=(W,Q)=>{var ie;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,W==="hours"?Q:void 0);return X[W]?!!((ie=X[W])!=null&&ie.includes(Q)):!0},$=W=>{const Q=i.is24?24:12,ie=W==="hours"?Q:60,X=+i[`${W}GridIncrement`],de=W==="hours"&&!i.is24?X:0,be=[];for(let te=de;te<ie;te+=X)be.push({value:te,text:te<10?`0${te}`:`${te}`});return W==="hours"&&!i.is24&&be.push({value:0,text:"12"}),Zl(be,te=>({active:!1,disabled:u.value.times[W].includes(te.value)||!B(te.value,W)||G(W,te.value)||y(W,te.value)}))},B=(W,Q)=>{const ie=i.minTime?R($g(i.minTime)):null,X=i.maxTime?R($g(i.maxTime)):null,de=R($g(T.value,Q,W));return ie&&X?(id(de,X)||dl(de,X))&&(rd(de,ie)||dl(de,ie)):ie?rd(de,ie)||dl(de,ie):X?id(de,X)||dl(de,X):!0},U=W=>i[`no${W[0].toUpperCase()+W.slice(1)}Overlay`],V=W=>{U(W)||(p[W]=!p[W],p[W]||r("overlay-closed"))},D=W=>W==="hours"?ki:W==="minutes"?ns:Xl,A=(W,Q=!0)=>{const ie=Q?I:b,X=Q?+i[`${W}Increment`]:-+i[`${W}Increment`];B(+i[W]+X,W)&&r(`update:${W}`,D(W)(ie({[W]:+i[W]},{[W]:+i[`${W}Increment`]})))},H=W=>i.is24?W:(W>=12?g.value="PM":g.value="AM",_G(W)),z=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},ne=W=>{p[W]=!0},fe=(W,Q,ie)=>{if(W&&i.arrowNavigation){Array.isArray(E.value[Q])?E.value[Q][ie]=W:E.value[Q]=[W];const X=E.value.reduce((de,be)=>be.map((te,x)=>[...de[x]||[],be[x]]),[]);o(i.closeTimePickerBtn),w.value&&(X[1]=X[1].concat(w.value)),s(X,i.order)}},Z=(W,Q)=>(V(W),W==="hours"&&!i.is24?r(`update:${W}`,g.value==="PM"?Q+12:Q):r(`update:${W}`,Q));return e({openChildCmp:ne}),(W,Q)=>{var ie;return W.disabled?he("",!0):(q(),ee("div",vY,[(q(!0),ee(Me,null,Ft(C.value,(X,de)=>{var be,te,x;return q(),ee("div",{key:de,class:tt(v.value)},[X.separator?(q(),ee(Me,{key:0},[xn(" : ")],64)):(q(),ee(Me,{key:1},[Ae("button",{ref_for:!0,ref:F=>fe(F,de,0),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!W.timePickerInline,dp__inc_dec_button_inline:W.timePickerInline,dp__tp_inline_btn_top:W.timePickerInline,dp__inc_dec_button_disabled:L.value(X.type)}),"aria-label":(be=Y(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(F=>A(X.type),["prevent"]),["enter"]),at(Lt(F=>A(X.type),["prevent"]),["space"])],onClick:F=>A(X.type)},[i.timePickerInline?(q(),ee(Me,{key:1},[_Y,bY],64)):(q(),ee(Me,{key:0},[W.$slots["arrow-up"]?_e(W.$slots,"arrow-up",{key:0}):he("",!0),W.$slots["arrow-up"]?he("",!0):(q(),qe(Y(pb),{key:1}))],64))],42,yY),Ae("button",{ref_for:!0,ref:F=>fe(F,de,1),type:"button","aria-label":(te=Y(a))==null?void 0:te.openTpOverlay(X.type),class:tt({dp__time_display:!0,dp__time_display_block:!W.timePickerInline,dp__time_display_inline:W.timePickerInline,"dp--time-invalid":P.value(X.type),"dp--time-overlay-btn":!P.value(X.type)}),disabled:U(X.type),tabindex:"0",onKeydown:[at(Lt(F=>V(X.type),["prevent"]),["enter"]),at(Lt(F=>V(X.type),["prevent"]),["space"])],onClick:F=>V(X.type)},[W.$slots[X.type]?_e(W.$slots,X.type,{key:0,text:k.value(X.type).text,value:k.value(X.type).value}):he("",!0),W.$slots[X.type]?he("",!0):(q(),ee(Me,{key:1},[xn(ht(k.value(X.type).text),1)],64))],42,wY),Ae("button",{ref_for:!0,ref:F=>fe(F,de,2),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!W.timePickerInline,dp__inc_dec_button_inline:W.timePickerInline,dp__tp_inline_btn_bottom:W.timePickerInline,dp__inc_dec_button_disabled:S.value(X.type)}),"aria-label":(x=Y(a))==null?void 0:x.decrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(F=>A(X.type,!1),["prevent"]),["enter"]),at(Lt(F=>A(X.type,!1),["prevent"]),["space"])],onClick:F=>A(X.type,!1)},[i.timePickerInline?(q(),ee(Me,{key:1},[EY,IY],64)):(q(),ee(Me,{key:0},[W.$slots["arrow-down"]?_e(W.$slots,"arrow-down",{key:0}):he("",!0),W.$slots["arrow-down"]?he("",!0):(q(),qe(Y(mb),{key:1}))],64))],42,TY)],64))],2)}),128)),W.is24?he("",!0):(q(),ee("div",SY,[W.$slots["am-pm-button"]?_e(W.$slots,"am-pm-button",{key:0,toggle:z,value:g.value}):he("",!0),W.$slots["am-pm-button"]?he("",!0):(q(),ee("button",{key:1,ref_key:"amPmButton",ref:w,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=Y(a))==null?void 0:ie.amPmButton,tabindex:"0",onClick:z,onKeydown:[at(Lt(z,["prevent"]),["enter"]),at(Lt(z,["prevent"]),["space"])]},ht(g.value),41,AY))])),(q(!0),ee(Me,null,Ft(O.value,(X,de)=>(q(),qe(Oo,{key:de,name:Y(h)(p[X.type]),css:Y(f)},{default:Qe(()=>[p[X.type]?(q(),qe(Xd,{key:0,items:$(X.type),"is-last":W.autoApply&&!Y(c).keepActionRow,"esc-close":W.escClose,type:X.type,"text-input":W.textInput,config:W.config,"arrow-navigation":W.arrowNavigation,onSelected:be=>Z(X.type,be),onToggle:be=>V(X.type),onResetFlow:Q[0]||(Q[0]=be=>W.$emit("reset-flow"))},tr({"button-icon":Qe(()=>[W.$slots["clock-icon"]?_e(W.$slots,"clock-icon",{key:0}):he("",!0),W.$slots["clock-icon"]?he("",!0):(q(),qe(zr(W.timePickerInline?Y(gu):Y(fb)),{key:1}))]),_:2},[W.$slots[`${X.type}-overlay-value`]?{name:"item",fn:Qe(({item:be})=>[_e(W.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):he("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),OY={class:"dp--tp-wrap"},PY=["aria-label","tabindex"],kY=["tabindex"],RY=["aria-label"],Vx=Yt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Vi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Do(),a=Ca(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=An(i),{transitionName:f,showTransition:p}=Yd(l),{hideNavigationButtons:g}=wm(),w=ce(null),E=ce(null),R=ce([]),P=ce(null);_n(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Mn(w.value)],"time"):o(!0,i.timePicker)});const T=le(()=>i.range&&i.modelAuto?Ix(i.internalModelValue):!0),y=ce(!1),M=$=>({hours:Array.isArray(i.hours)?i.hours[$]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[$]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[$]:i.seconds}),L=le(()=>{const $=[];if(i.range)for(let B=0;B<2;B++)$.push(M(B));else $.push(M(0));return $}),S=($,B=!1,U="")=>{B||r("reset-flow"),y.value=$,r($?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o($),Wn(()=>{U!==""&&R.value[0]&&R.value[0].openChildCmp(U)})},I=le(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),b=Xr(a,"timePicker"),v=($,B,U)=>i.range?B===0?[$,L.value[1][U]]:[L.value[0][U],$]:$,C=$=>{r("update:hours",$)},O=$=>{r("update:minutes",$)},k=$=>{r("update:seconds",$)},G=()=>{if(P.value&&!c.value.enabled&&!i.noOverlayFocus){const $=wG(P.value);$&&$.focus({preventScroll:!0})}};return e({toggleTimePicker:S}),($,B)=>{var U;return q(),ee("div",OY,[!$.timePicker&&!$.timePickerInline?Xo((q(),ee("button",{key:0,ref_key:"openTimePickerBtn",ref:w,type:"button",class:tt(I.value),"aria-label":(U=Y(u))==null?void 0:U.openTimePicker,tabindex:$.noOverlayFocus?void 0:0,onKeydown:[B[0]||(B[0]=at(V=>S(!0),["enter"])),B[1]||(B[1]=at(V=>S(!0),["space"]))],onClick:B[2]||(B[2]=V=>S(!0))},[$.$slots["clock-icon"]?_e($.$slots,"clock-icon",{key:0}):he("",!0),$.$slots["clock-icon"]?he("",!0):(q(),qe(Y(fb),{key:1}))],42,PY)),[[oc,!Y(g)($.hideNavigation,"time")]]):he("",!0),Je(Oo,{name:Y(f)(y.value),css:Y(p)&&!$.timePickerInline},{default:Qe(()=>{var V;return[y.value||$.timePicker||$.timePickerInline?(q(),ee("div",{key:0,ref_key:"overlayRef",ref:P,class:tt({dp__overlay:!$.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!$.timePickerInline,"dp--overlay-relative":i.timePicker}),style:kr($.timePicker?{height:`${Y(h).modeHeight}px`}:void 0),tabindex:$.timePickerInline?void 0:0},[Ae("div",{class:tt($.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[$.$slots["time-picker-overlay"]?_e($.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:C,setMinutes:O,setSeconds:k}):he("",!0),$.$slots["time-picker-overlay"]?he("",!0):(q(),ee("div",{key:1,class:tt($.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(q(!0),ee(Me,null,Ft(L.value,(D,A)=>Xo((q(),qe(CY,pe({key:A},{...$.$props,order:A,hours:D.hours,minutes:D.minutes,seconds:D.seconds,closeTimePickerBtn:E.value,disabledTimesConfig:t.disabledTimesConfig,disabled:A===0?$.fixedStart:$.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:R,"validate-time":(H,z)=>t.validateTime(H,v(z,A,H)),"onUpdate:hours":H=>C(v(H,A,"hours")),"onUpdate:minutes":H=>O(v(H,A,"minutes")),"onUpdate:seconds":H=>k(v(H,A,"seconds")),onMounted:G,onOverlayClosed:G,onAmPmChange:B[3]||(B[3]=H=>$.$emit("am-pm-change",H))}),tr({_:2},[Ft(Y(b),(H,z)=>({name:H,fn:Qe(ne=>[_e($.$slots,H,Tn(er(ne)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[oc,A===0?!0:T.value]])),128))],2)),!$.timePicker&&!$.timePickerInline?Xo((q(),ee("button",{key:2,ref_key:"closeTimePickerBtn",ref:E,type:"button",class:tt(I.value),"aria-label":(V=Y(u))==null?void 0:V.closeTimePicker,tabindex:"0",onKeydown:[B[4]||(B[4]=at(D=>S(!1),["enter"])),B[5]||(B[5]=at(D=>S(!1),["space"]))],onClick:B[6]||(B[6]=D=>S(!1))},[$.$slots["calendar-icon"]?_e($.$slots,"calendar-icon",{key:0}):he("",!0),$.$slots["calendar-icon"]?he("",!0):(q(),qe(Y(gu),{key:1}))],42,RY)),[[oc,!Y(g)($.hideNavigation,"time")]]):he("",!0)],2)],14,kY)):he("",!0)]}),_:3},8,["name","css"])])}}}),Fx=(t,e,n,r)=>{const i=(R,P)=>Array.isArray(e[R])?e[R][P]:e[R],s=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,o=(R,P)=>R?P!==void 0?mo(R,i("hours",P),i("minutes",P),s(P)):mo(R,e.hours,e.minutes,s()):cb(ye(),s(P)),a=(R,P)=>{e[R]=P},l=(R,P)=>{const T=Object.fromEntries(Object.keys(e).map(y=>y===R?[y,P]:[y,e[y]].slice()));if(t.range&&!t.disableTimeRangeValidation){const y=L=>n.value?mo(n.value[L],T.hours[L],T.minutes[L],T.seconds[L]):null,M=L=>ub(n.value[L],0);return!(Rt(y(0),y(1))&&(rd(y(0),M(1))||id(y(1),M(0))))}return!0},u=(R,P)=>{l(R,P)&&(a(R,P),r&&r())},c=R=>{u("hours",R)},h=R=>{u("minutes",R)},f=R=>{u("seconds",R)},p=(R,P,T,y)=>{P&&c(R),!P&&!T&&h(R),T&&f(R),n.value&&y(n.value)},g=R=>{if(R){const P=Array.isArray(R),T=P?[+R[0].hours,+R[1].hours]:+R.hours,y=P?[+R[0].minutes,+R[1].minutes]:+R.minutes,M=P?[+R[0].seconds,+R[1].seconds]:+R.seconds;a("hours",T),a("minutes",y),t.enableSeconds&&a("seconds",M)}},w=(R,P)=>{const T={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(P||P===0)&&(T.hours=P),Array.isArray(t.disabledTimes)&&(T.disabledArr=t.range&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),T},E=le(()=>(R,P)=>{var T;if(Array.isArray(t.disabledTimes)){const{disabledArr:y,hours:M}=w(R,P),L=y.filter(S=>+S.hours===M);return((T=L[0])==null?void 0:T.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(L==null?void 0:L.map(S=>+S.minutes))??[],seconds:(L==null?void 0:L.map(S=>S.seconds?+S.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:E}},DY=(t,e)=>{const{modelValue:n,time:r}=Qd(t,e),{defaultedStartTime:i}=An(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=Fx(t,r,n),h=P=>{const{hours:T,minutes:y,seconds:M}=P;return{hours:+T,minutes:+y,seconds:M?+M:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const T=h(t.startTime[0]),y=h(t.startTime[1]);return[an(ye(),T),an(ye(),y)]}const P=h(t.startTime);return an(ye(),P)}return t.range?[null,null]:null},p=()=>{if(t.range){const[P,T]=f();n.value=[o(P,0),o(T,1)]}else n.value=o(f())},g=P=>Array.isArray(P)?[ra(ye(P[0])),ra(ye(P[1]))]:[ra(P??ye())],w=(P,T,y)=>{a("hours",P),a("minutes",T),a("seconds",t.enableSeconds?y:0)},E=()=>{const[P,T]=g(n.value);return t.range?w([P.hours,T.hours],[P.minutes,T.minutes],[P.seconds,T.minutes]):w(P.hours,P.minutes,P.seconds)};_n(()=>{if(!t.shadow)return l(i.value),n.value?E():p()});const R=()=>{Array.isArray(n.value)?n.value=n.value.map((P,T)=>P&&o(P,T)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(P,T=!0,y=!1)=>{s(P,T,y,R)},validateTime:c}},xY=Yt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Vi},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ca(),o=Xr(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=DY(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(q(),qe(Em,{"multi-calendars":0,stretch:""},{default:Qe(()=>[Je(Vx,pe(f.$props,{hours:Y(a).hours,minutes:Y(a).minutes,seconds:Y(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":Y(u),"validate-time":Y(h),"onUpdate:hours":p[0]||(p[0]=g=>Y(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>Y(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>Y(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),tr({_:2},[Ft(Y(o),(g,w)=>({name:g,fn:Qe(E=>[_e(f.$slots,g,Tn(er(E)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),NY={class:"dp__month_year_row"},MY=["aria-label","onClick","onKeydown"],LY=Yt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Vi},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=An(i),{transitionName:h,showTransition:f}=Yd(s),{buildMatrix:p}=Do(),{handleMonthYearChange:g,isDisabled:w,updateMonthYear:E}=zG(i,r),{showLeftIcon:R,showRightIcon:P}=wm(),T=ce(!1),y=ce(!1),M=ce([null,null,null,null]);_n(()=>{r("mount")});const L=A=>({get:()=>i[A],set:H=>{const z=A===yi.month?yi.year:yi.month;r("update-month-year",{[A]:H,[z]:i[z]}),A===yi.month?G(!0):$(!0)}}),S=le(L(yi.month)),I=le(L(yi.year)),b=le(()=>A=>({month:i.month,year:i.year,items:A===yi.month?i.months:i.years,instance:i.instance,updateMonthYear:E,toggle:A===yi.month?G:$})),v=le(()=>i.months.find(H=>H.value===i.month)||{text:"",value:0}),C=le(()=>Zl(i.months,A=>{const H=i.month===A.value,z=sd(A.value,Sx(i.year,i.minDate),Ax(i.year,i.maxDate))||l.value.months.includes(A.value),ne=Dx(c.value,A.value,i.year);return{active:H,disabled:z,highlighted:ne}})),O=le(()=>Zl(i.years,A=>{const H=i.year===A.value,z=sd(A.value,eu(i.minDate),eu(i.maxDate))||l.value.years.includes(A.value),ne=bb(c.value,A.value);return{active:H,disabled:z,highlighted:ne}})),k=(A,H)=>{H!==void 0?A.value=H:A.value=!A.value,A.value||r("overlay-closed")},G=(A=!1,H)=>{B(A),k(T,H)},$=(A=!1,H)=>{B(A),k(y,H)},B=A=>{A||r("reset-flow")},U=(A,H)=>{i.arrowNavigation&&(M.value[H]=Mn(A),p(M.value,"monthYear"))},V=le(()=>{var A,H;return[{type:yi.month,index:1,toggle:G,modelValue:S.value,updateModelValue:z=>S.value=z,text:v.value.text,showSelectionGrid:T.value,items:C.value,ariaLabel:(A=o.value)==null?void 0:A.openMonthsOverlay},{type:yi.year,index:2,toggle:$,modelValue:I.value,updateModelValue:z=>I.value=z,text:i.year,showSelectionGrid:y.value,items:O.value,ariaLabel:(H=o.value)==null?void 0:H.openYearsOverlay}]}),D=le(()=>i.disableYearSelect?[V.value[0]]:i.yearFirst?[...V.value].reverse():V.value);return e({toggleMonthPicker:G,toggleYearPicker:$,handleMonthYearChange:g}),(A,H)=>{var z,ne,fe;return q(),ee("div",NY,[A.$slots["month-year"]?_e(A.$slots,"month-year",Tn(pe({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:Y(E),handleMonthYearChange:Y(g),instance:t.instance}))):(q(),ee(Me,{key:1},[Y(R)(Y(a),t.instance)&&!A.vertical?(q(),qe(Ec,{key:0,"aria-label":(z=Y(o))==null?void 0:z.prevMonth,disabled:Y(w)(!1),onActivate:H[0]||(H[0]=Z=>Y(g)(!1,!0)),onSetRef:H[1]||(H[1]=Z=>U(Z,0))},{default:Qe(()=>[A.$slots["arrow-left"]?_e(A.$slots,"arrow-left",{key:0}):he("",!0),A.$slots["arrow-left"]?he("",!0):(q(),qe(Y(db),{key:1}))]),_:3},8,["aria-label","disabled"])):he("",!0),Ae("div",{class:tt(["dp__month_year_wrap",{dp__year_disable_select:A.disableYearSelect}])},[(q(!0),ee(Me,null,Ft(D.value,(Z,W)=>(q(),ee(Me,{key:Z.type},[Ae("button",{ref_for:!0,ref:Q=>U(Q,W+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Z.ariaLabel,onClick:Z.toggle,onKeydown:[at(Lt(Z.toggle,["prevent"]),["enter"]),at(Lt(Z.toggle,["prevent"]),["space"])]},[A.$slots[Z.type]?_e(A.$slots,Z.type,{key:0,text:Z.text,value:i[Z.type]}):he("",!0),A.$slots[Z.type]?he("",!0):(q(),ee(Me,{key:1},[xn(ht(Z.text),1)],64))],40,MY),Je(Oo,{name:Y(h)(Z.showSelectionGrid),css:Y(f)},{default:Qe(()=>[Z.showSelectionGrid?(q(),qe(Xd,{key:0,items:Z.items,"arrow-navigation":A.arrowNavigation,"hide-navigation":A.hideNavigation,"is-last":A.autoApply&&!Y(u).keepActionRow,"skip-button-ref":!1,config:A.config,type:Z.type,"header-refs":[],"esc-close":A.escClose,"text-input":A.textInput,onSelected:Z.updateModelValue,onToggle:Z.toggle},tr({"button-icon":Qe(()=>[A.$slots["calendar-icon"]?_e(A.$slots,"calendar-icon",{key:0}):he("",!0),A.$slots["calendar-icon"]?he("",!0):(q(),qe(Y(gu),{key:1}))]),_:2},[A.$slots[`${Z.type}-overlay-value`]?{name:"item",fn:Qe(({item:Q})=>[_e(A.$slots,`${Z.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,A.$slots[`${Z.type}-overlay`]?{name:"overlay",fn:Qe(()=>[_e(A.$slots,`${Z.type}-overlay`,Tn(er(b.value(Z.type))))]),key:"1"}:void 0,A.$slots[`${Z.type}-overlay-header`]?{name:"header",fn:Qe(()=>[_e(A.$slots,`${Z.type}-overlay-header`,{toggle:Z.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):he("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Y(R)(Y(a),t.instance)&&A.vertical?(q(),qe(Ec,{key:1,"aria-label":(ne=Y(o))==null?void 0:ne.prevMonth,disabled:Y(w)(!1),onActivate:H[2]||(H[2]=Z=>Y(g)(!1,!0))},{default:Qe(()=>[A.$slots["arrow-up"]?_e(A.$slots,"arrow-up",{key:0}):he("",!0),A.$slots["arrow-up"]?he("",!0):(q(),qe(Y(pb),{key:1}))]),_:3},8,["aria-label","disabled"])):he("",!0),Y(P)(Y(a),t.instance)?(q(),qe(Ec,{key:2,ref:"rightIcon",disabled:Y(w)(!0),"aria-label":(fe=Y(o))==null?void 0:fe.nextMonth,onActivate:H[3]||(H[3]=Z=>Y(g)(!0,!0)),onSetRef:H[4]||(H[4]=Z=>U(Z,A.disableYearSelect?2:3))},{default:Qe(()=>[A.$slots[A.vertical?"arrow-down":"arrow-right"]?_e(A.$slots,A.vertical?"arrow-down":"arrow-right",{key:0}):he("",!0),A.$slots[A.vertical?"arrow-down":"arrow-right"]?he("",!0):(q(),qe(zr(A.vertical?Y(mb):Y(hb)),{key:1}))]),_:3},8,["disabled","aria-label"])):he("",!0)],64))])}}}),VY=["aria-label"],FY={class:"dp__calendar_header",role:"row"},$Y={key:0,class:"dp__calendar_header_item",role:"gridcell"},UY=Ae("div",{class:"dp__calendar_header_separator"},null,-1),BY=["aria-label"],jY={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},HY={class:"dp__cell_inner"},WY=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],qY=Yt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Vi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Do(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=An(i),h=ce(null),f=ce({bottom:"",left:"",transform:""}),p=ce([]),g=ce(null),w=ce(!0),E=ce(""),R=ce({startX:0,endX:0,startY:0,endY:0}),P=ce([]),T=ce({left:"50%"}),y=le(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),M=le(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):yG(i.formatLocale,i.locale,+i.weekStart));_n(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",$,{passive:!1}),g.value.addEventListener("touchend",B,{passive:!1}),g.value.addEventListener("touchmove",U,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",A,{passive:!1})});const L=Z=>Z?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",S=(Z,W)=>{if(i.transitions){const Q=br(ws(ye(),i.month,i.year));E.value=vr(br(ws(ye(),Z,W)),Q)?o.value[L(!0)]:o.value[L(!1)],w.value=!1,Wn(()=>{w.value=!0})}},I=le(()=>({[i.calendarClassName]:!!i.calendarClassName})),b=le(()=>Z=>{const W=bG(Z);return{dp__marker_dot:W.type==="dot",dp__marker_line:W.type==="line"}}),v=le(()=>Z=>Rt(Z,h.value)),C=le(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),O=le(()=>Z=>i.hideOffsetDates?Z.current:!0),k=async(Z,W,Q)=>{var ie,X;if(r("set-hover-date",Z),(X=(ie=Z.marker)==null?void 0:ie.tooltip)!=null&&X.length){const de=Mn(p.value[W][Q]);if(de){const{width:be,height:te}=de.getBoundingClientRect();h.value=Z.value;let x={left:`${be/2}px`},F=-50;if(await Wn(),P.value[0]){const{left:j,width:oe}=P.value[0].getBoundingClientRect();j<0&&(x={left:"0"},F=0,T.value.left=`${be/2}px`),window.innerWidth<j+oe&&(x={right:"0"},F=0,T.value.left=`${oe-be/2}px`)}f.value={bottom:`${te}px`,...x,transform:`translateX(${F}%)`},r("tooltip-open",Z.marker)}}},G=Z=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Z.marker))},$=Z=>{R.value.startX=Z.changedTouches[0].screenX,R.value.startY=Z.changedTouches[0].screenY},B=Z=>{R.value.endX=Z.changedTouches[0].screenX,R.value.endY=Z.changedTouches[0].screenY,V()},U=Z=>{i.vertical&&!i.inline&&Z.preventDefault()},V=()=>{const Z=i.vertical?"Y":"X";Math.abs(R.value[`start${Z}`]-R.value[`end${Z}`])>10&&r("handle-swipe",R.value[`start${Z}`]>R.value[`end${Z}`]?"right":"left")},D=(Z,W,Q)=>{Z&&(Array.isArray(p.value[W])?p.value[W][Q]=Z:p.value[W]=[Z]),i.arrowNavigation&&s(p.value,"calendar")},A=Z=>{i.monthChangeOnScroll&&(Z.preventDefault(),r("handle-scroll",Z))},H=Z=>c.value.type==="local"?kz(Z.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Az(Z.value):typeof c.value.type=="function"?c.value.type(Z.value):"",z=Z=>{const W=Z[0];return c.value.hideOnOffsetDates?Z.some(Q=>Q.current)?H(W):"":H(W)},ne=(Z,W)=>{po(Z,a.value),r("select-date",W)},fe=Z=>{po(Z,a.value)};return e({triggerTransition:S}),(Z,W)=>{var Q;return q(),ee("div",{class:tt(C.value)},[Ae("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:tt(I.value),"aria-label":(Q=Y(l))==null?void 0:Q.calendarWrap},[(q(),ee(Me,{key:0},[Ae("div",FY,[Z.weekNumbers?(q(),ee("div",$Y,ht(Z.weekNumName),1)):he("",!0),(q(!0),ee(Me,null,Ft(M.value,(ie,X)=>(q(),ee("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[Z.$slots["calendar-header"]?_e(Z.$slots,"calendar-header",{key:0,day:ie,index:X}):he("",!0),Z.$slots["calendar-header"]?he("",!0):(q(),ee(Me,{key:1},[xn(ht(ie),1)],64))]))),128))]),UY,Je(Oo,{name:E.value,css:!!Z.transitions},{default:Qe(()=>{var ie;return[w.value?(q(),ee("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ie=Y(l))==null?void 0:ie.calendarDays)||void 0},[(q(!0),ee(Me,null,Ft(y.value,(X,de)=>(q(),ee("div",{key:de,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(q(),ee("div",jY,[Ae("div",HY,ht(z(X.days)),1)])):he("",!0),(q(!0),ee(Me,null,Ft(X.days,(be,te)=>{var x,F,j;return q(),ee("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:oe=>D(oe,de,te),key:te+de,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(F=(x=Y(l))==null?void 0:x.day)==null?void 0:F.call(x,be),tabindex:"0",onClick:Lt(oe=>ne(oe,be),["prevent"]),onKeydown:[at(oe=>Z.$emit("select-date",be),["enter"]),at(oe=>Z.$emit("handle-space",be),["space"])],onMouseenter:oe=>k(be,de,te),onMouseleave:oe=>G(be)},[Ae("div",{class:tt(["dp__cell_inner",be.classData])},[Z.$slots.day&&O.value(be)?_e(Z.$slots,"day",{key:0,day:+be.text,date:be.value}):he("",!0),Z.$slots.day?he("",!0):(q(),ee(Me,{key:1},[xn(ht(be.text),1)],64)),be.marker&&O.value(be)?(q(),ee(Me,{key:2},[Z.$slots.marker?_e(Z.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(q(),ee("div",{key:1,class:tt(b.value(be.marker)),style:kr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):he("",!0),v.value(be.value)?(q(),ee("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:P,class:"dp__marker_tooltip",style:kr(f.value)},[(j=be.marker)!=null&&j.tooltip?(q(),ee("div",{key:0,class:"dp__tooltip_content",onClick:fe},[(q(!0),ee(Me,null,Ft(be.marker.tooltip,(oe,se)=>(q(),ee("div",{key:se,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?_e(Z.$slots,"marker-tooltip",{key:0,tooltip:oe,day:be.value}):he("",!0),Z.$slots["marker-tooltip"]?he("",!0):(q(),ee(Me,{key:1},[Ae("div",{class:"dp__tooltip_mark",style:kr(oe.color?{backgroundColor:oe.color}:{})},null,4),Ae("div",null,ht(oe.text),1)],64))]))),128)),Ae("div",{class:"dp__arrow_bottom_tp",style:kr(T.value)},null,4)])):he("",!0)],4)):he("",!0)],2)],40,WY)}),128))]))),128))],8,BY)):he("",!0)]}),_:3},8,["name","css"])],64))],10,VY)],2)}}}),MI=t=>Array.isArray(t),zY=(t,e,n,r)=>{const i=ce([]),{modelValue:s,calendars:o,time:a}=Qd(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=An(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=La(t),{updateTimeValues:g,getSetDateTime:w,setTime:E,assignStartTime:R,validateTime:P,disabledTimesConfig:T}=Fx(t,a,s,r),y=le(()=>K=>o.value[K]?o.value[K].month:0),M=le(()=>K=>o.value[K]?o.value[K].year:0),L=(K,ae,Ne)=>{var We,dt;o.value[K]||(o.value[K]={month:0,year:0}),o.value[K].month=kI(ae)?(We=o.value[K])==null?void 0:We.month:ae,o.value[K].year=kI(Ne)?(dt=o.value[K])==null?void 0:dt.year:Ne},S=()=>{t.autoApply&&e("select-date")};Sn(s,(K,ae)=>{JSON.stringify(K)!==JSON.stringify(ae)&&v()}),_n(()=>{t.shadow||(s.value||(A(),u.value&&R(u.value)),v(!0),t.focusStartDate&&t.startDate&&A())});const I=le(()=>{var K;return(K=t.flow)!=null&&K.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),b=()=>{t.autoApply&&I.value&&e("auto-apply",t.partialFlow)},v=(K=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,B(K)):O(s.value,K);if(l.value.count&&K&&!t.startDate)return C(ye(),K)},C=(K,ae=!1)=>{if((!l.value.count||!l.value.static||ae)&&L(0,Et(K),ct(K)),l.value.count&&(!l.value.solo||!s.value))for(let Ne=1;Ne<l.value.count;Ne++){const We=an(ye(),{month:y.value(Ne-1),year:M.value(Ne-1)}),dt=XD(We,{months:1});o.value[Ne]={month:Et(dt),year:ct(dt)}}},O=(K,ae)=>{C(K),E("hours",ki(K)),E("minutes",ns(K)),E("seconds",Xl(K)),l.value.count&&ae&&D()},k=K=>{if(l.value.count){if(l.value.solo)return 0;const ae=Et(K[0]),Ne=Et(K[1]);return Math.abs(Ne-ae)<l.value.count?0:1}return 1},G=(K,ae)=>{K[1]&&t.showLastInRange?C(K[k(K)],ae):C(K[0],ae);const Ne=(We,dt)=>[We(K[0]),K[1]?We(K[1]):a[dt][1]];E("hours",Ne(ki,"hours")),E("minutes",Ne(ns,"minutes")),E("seconds",Ne(Xl,"seconds"))},$=(K,ae)=>{if((t.range||t.weekPicker)&&!t.multiDates)return G(K,ae);if(t.multiDates&&ae){const Ne=K[K.length-1];return O(Ne,ae)}},B=K=>{const ae=s.value;$(ae,K),l.value.count&&l.value.solo&&D()},U=(K,ae)=>{const Ne=an(ye(),{month:y.value(ae),year:M.value(ae)}),We=K<0?Pi(Ne,1):Jl(Ne,1);c(Et(We),ct(We),K<0,t.preventMinMaxNavigation)&&(L(ae,Et(We),ct(We)),e("update-month-year",{instance:ae,month:Et(We),year:ct(We)}),l.value.count&&!l.value.solo&&V(ae),n())},V=K=>{for(let ae=K-1;ae>=0;ae--){const Ne=Jl(an(ye(),{month:y.value(ae+1),year:M.value(ae+1)}),1);L(ae,Et(Ne),ct(Ne))}for(let ae=K+1;ae<=l.value.count-1;ae++){const Ne=Pi(an(ye(),{month:y.value(ae-1),year:M.value(ae-1)}),1);L(ae,Et(Ne),ct(Ne))}},D=()=>{if(Array.isArray(s.value)&&s.value.length===2){const K=ye(ye(s.value[1]?s.value[1]:Pi(s.value[0],1))),[ae,Ne]=[Et(s.value[0]),ct(s.value[0])],[We,dt]=[Et(s.value[1]),ct(s.value[1])];(ae!==We||ae===We&&Ne!==dt)&&l.value.solo&&L(1,Et(K),ct(K))}else s.value&&!Array.isArray(s.value)&&(L(0,Et(s.value),ct(s.value)),C(ye()))},A=()=>{t.startDate&&(L(0,Et(ye(t.startDate)),ct(ye(t.startDate))),l.value.count&&V(0))},H=SG((K,ae)=>{t.monthChangeOnScroll&&U(t.monthChangeOnScroll!=="inverse"?-K.deltaY:K.deltaY,ae)},50),z=(K,ae,Ne=!1)=>{t.monthChangeOnArrows&&t.vertical===Ne&&ne(K,ae)},ne=(K,ae)=>{U(K==="right"?-1:1,ae)},fe=K=>t.markers.find(ae=>Rt(OG(K.value),Ri(ye(ae.date),t.timezone))),Z=(K,ae)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[K==0,!0];case"fair":return[K==0||ae>K,!0];case"append":return[!1,!1];default:return[!1,!1]}},W=(K,ae,Ne,We)=>{if(t.sixWeeks&&K.length<6){const dt=6-K.length,Nt=(ae.getDay()+7-We)%7,qn=6-(Ne.getDay()+7-We)%7,[Oe,Be]=Z(Nt,qn);for(let je=1;je<=dt;je++)if(Be?!!(je%2)==Oe:Oe){const zn=K[0].days[0],Wr=Q(gs(zn.value,-7),Et(ae));K.unshift({days:Wr})}else{const zn=K[K.length-1],Wr=zn.days[zn.days.length-1],$a=Q(gs(Wr.value,1),Et(ae));K.push({days:$a})}}return K},Q=(K,ae)=>{const Ne=ye(K),We=[];for(let dt=0;dt<7;dt++){const Nt=gs(Ne,dt),qn=Et(Nt)!==ae;We.push({text:t.hideOffsetDates&&qn?"":Nt.getDate(),value:Nt,current:!qn,classData:{}})}return We},ie=(K,ae)=>{const Ne=[],We=new Date(ae,K),dt=new Date(ae,K+1,0),Nt=t.weekStart,qn=Ta(We,{weekStartsOn:Nt}),Oe=Be=>{const je=Q(Be,K);if(Ne.push({days:je}),!Ne[Ne.length-1].days.some(zn=>Rt(br(zn.value),br(dt)))){const zn=gs(Be,7);Oe(zn)}};return Oe(qn),W(Ne,We,dt,Nt)},X=K=>(s.value=uf(ye(K.value),t.timezone,t.weekStart),e("date-update",K.value),b()),de=K=>{const ae=mo(ye(K.value),a.hours,a.minutes,me());e("date-update",ae),t.multiDates?wb(ae,s,t.multiDatesLimit):s.value=ae,r(),Wn().then(()=>{b()})},be=K=>t.noDisabledRange?Ox(i.value[0],K).some(ae=>h(ae)):!1,te=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},x=(K,ae)=>{const Ne=[ye(K.value),gs(ye(K.value),+t.autoRange)];f(Ne)?(ae&&F(K.value),i.value=Ne):e("invalid-date",K.value)},F=K=>{const ae=Et(ye(K)),Ne=ct(ye(K));if(L(0,ae,Ne),l.value.count>0)for(let We=1;We<l.value.count;We++){const dt=PG(an(ye(K),{year:y.value(We-1),month:M.value(We-1)}));L(We,dt.month,dt.year)}},j=K=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(vr(K,s.value[0])||Rt(K,s.value[0]))?[s.value[0],K]:t.fixedEnd&&(Zn(K,s.value[1])||Rt(K,s.value[1]))?[K,s.value[1]]:(e("invalid-fixed-range",K),s.value):[],oe=K=>{if(be(K.value)||!p(K.value,s.value,t.fixedStart?0:1))return e("invalid-date",K.value);i.value=j(ye(K.value))},se=(K,ae)=>{if(te(),t.autoRange)return x(K,ae);if(t.fixedStart||t.fixedEnd)return oe(K);i.value[0]?p(ye(K.value),s.value)&&!be(K.value)?Zn(ye(K.value),ye(i.value[0]))?(i.value.unshift(ye(K.value)),e("range-end",i.value[0])):(i.value[1]=ye(K.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",K.value),e("invalid-date",K.value)):(i.value[0]=ye(K.value),e("range-start",i.value[0]))},me=(K=!0)=>t.enableSeconds?Array.isArray(a.seconds)?K?a.seconds[0]:a.seconds[1]:a.seconds:0,Se=K=>{i.value[K]=mo(i.value[K],a.hours[K],a.minutes[K],me(K!==1))},Ee=()=>{var K,ae;i.value[0]&&i.value[1]&&+((K=i.value)==null?void 0:K[0])>+((ae=i.value)==null?void 0:ae[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Te=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Se(0):(Se(0),Se(1),r()),Ee(),s.value=i.value.slice(),Im(i.value,e,t.autoApply,t.modelAuto))},ge=(K,ae=!1)=>{if(h(K.value)||!K.current&&t.hideOffsetDates)return e("invalid-date",K.value);if(t.weekPicker)return X(K);if(!t.range)return de(K);MI(a.hours)&&MI(a.minutes)&&!t.multiDates&&(se(K,ae),Te())},He=(K,ae)=>{var Ne;L(K,ae.month,ae.year),l.value.count&&!l.value.solo&&V(K),e("update-month-year",{instance:K,month:ae.month,year:ae.year}),n(l.value.solo?K:void 0);const We=(Ne=t.flow)!=null&&Ne.length?t.flow[t.flowStep]:void 0;!ae.fromNav&&(We===Wi.month||We===Wi.year)&&r()},Ie=(K,ae)=>{Mx({value:K,modelValue:s,range:t.range,timezone:ae?void 0:t.timezone}),S(),t.multiCalendars&&Wn().then(()=>v(!0))},Fe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Zn(ye(),s.value[0])?[ye(),s.value[0]]:[s.value[0],ye()]:s.value=[ye()]:s.value=ye(),S()},Ye=()=>{if(Array.isArray(s.value))if(t.multiDates){const K=Ke();s.value[s.value.length-1]=w(K)}else s.value=s.value.map((K,ae)=>K&&w(K,ae));else s.value=w(s.value);e("time-update")},Ke=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:y,year:M,time:a,disabledTimesConfig:T,validateTime:P,getCalendarDays:ie,getMarker:fe,handleScroll:H,handleSwipe:ne,handleArrow:z,selectDate:ge,updateMonthYear:He,presetDate:Ie,selectCurrentDate:Fe,updateTime:(K,ae=!0,Ne=!1)=>{g(K,ae,Ne,Ye)}}},KY={key:0},GY=Yt({__name:"DatePicker",props:{...Vi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:w,handleSwipe:E,selectDate:R,updateMonthYear:P,presetDate:T,selectCurrentDate:y,updateTime:M}=zY(i,r,D,A),L=Ca(),{setHoverDate:S,getDayClassData:I,clearHoverDate:b}=QG(l,i),{defaultedMultiCalendars:v}=An(i),C=ce([]),O=ce([]),k=ce(null),G=Xr(L,"calendar"),$=Xr(L,"monthYear"),B=Xr(L,"timePicker"),U=z=>{i.shadow||r("mount",z)};Sn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const V=le(()=>z=>f(o.value(z),a.value(z)).map(ne=>({...ne,days:ne.days.map(fe=>(fe.marker=p(fe),fe.classData=I(fe),fe))})));function D(z){var ne;z||z===0?(ne=O.value[z])==null||ne.triggerTransition(o.value(z),a.value(z)):O.value.forEach((fe,Z)=>fe.triggerTransition(o.value(Z),a.value(Z)))}function A(){r("update-flow-step")}const H=(z,ne=!1)=>{R(z,ne),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:b,presetDate:T,selectCurrentDate:y,toggleMonthPicker:(z,ne,fe=0)=>{var Z;(Z=C.value[fe])==null||Z.toggleMonthPicker(z,ne)},toggleYearPicker:(z,ne,fe=0)=>{var Z;(Z=C.value[fe])==null||Z.toggleYearPicker(z,ne)},toggleTimePicker:(z,ne,fe)=>{var Z;(Z=k.value)==null||Z.toggleTimePicker(z,ne,fe)},handleArrow:g,updateMonthYear:P,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:M,updateMonthYear:P,selectDate:R,presetDate:T})}),(z,ne)=>(q(),ee(Me,null,[Je(Em,{"multi-calendars":Y(v).count},{default:Qe(({instance:fe,index:Z})=>[z.disableMonthYearSelect?he("",!0):(q(),qe(LY,pe({key:0,ref:W=>{W&&(C.value[Z]=W)},months:Y(Ex)(z.formatLocale,z.locale,z.monthNameFormat),years:Y(_b)(z.yearRange,z.reverseYears),month:Y(o)(fe),year:Y(a)(fe),instance:fe},z.$props,{onMount:ne[0]||(ne[0]=W=>U(Y(ia).header)),onResetFlow:ne[1]||(ne[1]=W=>z.$emit("reset-flow")),onUpdateMonthYear:W=>Y(P)(fe,W),onOverlayClosed:ne[2]||(ne[2]=W=>z.$emit("focus-menu"))}),tr({_:2},[Ft(Y($),(W,Q)=>({name:W,fn:Qe(ie=>[_e(z.$slots,W,Tn(er(ie)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Je(qY,pe({ref:W=>{W&&(O.value[Z]=W)},"mapped-dates":V.value(fe),month:Y(o)(fe),year:Y(a)(fe),instance:fe},z.$props,{onSelectDate:W=>Y(R)(W,fe!==1),onHandleSpace:W=>H(W,fe!==1),onSetHoverDate:ne[3]||(ne[3]=W=>Y(S)(W)),onHandleScroll:W=>Y(w)(W,fe),onHandleSwipe:W=>Y(E)(W,fe),onMount:ne[4]||(ne[4]=W=>U(Y(ia).calendar)),onResetFlow:ne[5]||(ne[5]=W=>z.$emit("reset-flow")),onTooltipOpen:ne[6]||(ne[6]=W=>z.$emit("tooltip-open",W)),onTooltipClose:ne[7]||(ne[7]=W=>z.$emit("tooltip-close",W))}),tr({_:2},[Ft(Y(G),(W,Q)=>({name:W,fn:Qe(ie=>[_e(z.$slots,W,Tn(er({...ie})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),z.enableTimePicker?(q(),ee("div",KY,[z.$slots["time-picker"]?_e(z.$slots,"time-picker",Tn(pe({key:0},{time:Y(u),updateTime:Y(M)}))):(q(),qe(Vx,pe({key:1,ref_key:"timePickerRef",ref:k},z.$props,{hours:Y(u).hours,minutes:Y(u).minutes,seconds:Y(u).seconds,"internal-model-value":z.internalModelValue,"disabled-times-config":Y(c),"validate-time":Y(h),onMount:ne[8]||(ne[8]=fe=>U(Y(ia).timePicker)),"onUpdate:hours":ne[9]||(ne[9]=fe=>Y(M)(fe)),"onUpdate:minutes":ne[10]||(ne[10]=fe=>Y(M)(fe,!1)),"onUpdate:seconds":ne[11]||(ne[11]=fe=>Y(M)(fe,!1,!0)),onResetFlow:ne[12]||(ne[12]=fe=>z.$emit("reset-flow")),onOverlayClosed:ne[13]||(ne[13]=fe=>z.$emit("time-picker-close")),onOverlayOpened:ne[14]||(ne[14]=fe=>z.$emit("time-picker-open",fe)),onAmPmChange:ne[15]||(ne[15]=fe=>z.$emit("am-pm-change",fe))}),tr({_:2},[Ft(Y(B),(fe,Z)=>({name:fe,fn:Qe(W=>[_e(z.$slots,fe,Tn(er(W)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):he("",!0)],64))}}),YY=(t,e)=>{const n=ce(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=An(t),{modelValue:o,year:a,month:l,calendars:u}=Qd(t,e),{isDisabled:c}=La(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:w,handleYearSelect:E,handleYear:R}=Lx({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),P=(b,v)=>[b,v].map(C=>fo(C,"MMMM",{locale:t.formatLocale})).join("-"),T=le(()=>b=>o.value?Array.isArray(o.value)?o.value.some(v=>_I(b,v)):_I(o.value,b):!1),y=b=>{if(t.range){if(Array.isArray(o.value)){const v=Rt(b,o.value[0])||Rt(b,o.value[1]);return bm(o.value,n.value,b)&&!v}return!1}return!1},M=le(()=>b=>{const v=an(new Date,{year:a.value(b)});return vq({start:_q(v),end:yq(v)}).map(C=>{const O=nd(C),k=hI(C),G=c(C),$=y(O),B=typeof s.value=="function"?s.value({quarter:dI(O),year:ct(O)}):!!s.value.quarters.find(U=>U.quarter===dI(O)&&U.year===ct(O));return{text:P(O,k),value:O,active:T.value(O),highlighted:B,disabled:G,isBetween:$}})}),L=b=>{wb(b,o,t.multiDatesLimit),e("auto-apply",!0)},S=b=>{const v=Tb(o,b,e);Im(v,e,t.autoApply,t.modelAuto)},I=b=>{o.value=b,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:M,showYearPicker:p,modelValue:o,setHoverDate:b=>{n.value=b},selectYear:h,selectQuarter:(b,v,C)=>{if(!C)return u.value[v].month=Et(hI(b)),t.multiDates?L(b):t.range?S(b):I(b)},toggleYearPicker:w,handleYearSelect:E,handleYear:R}},QY={class:"dp--quarter-items"},XY=["disabled","onClick","onMouseover"],JY=Yt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Vi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ca(),o=Xr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:w,selectQuarter:E,toggleYearPicker:R,handleYearSelect:P,handleYear:T}=YY(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:E,handleYearSelect:P,handleYear:T})}),(y,M)=>(q(),qe(Em,{"multi-calendars":Y(a).count,stretch:""},{default:Qe(({instance:L})=>[Ae("div",{class:"dp-quarter-picker-wrap",style:kr({minHeight:`${Y(l).modeHeight}px`})},[Ae("div",null,[Je(Nx,pe(y.$props,{items:Y(u)(L),instance:L,"show-year-picker":Y(g)[L],year:Y(c)(L),"is-disabled":S=>Y(h)(L,S),onHandleYear:S=>Y(T)(L,S),onYearSelect:S=>Y(P)(S,L),onToggleYearPicker:S=>Y(R)(L,S==null?void 0:S.flow,S==null?void 0:S.show)}),tr({_:2},[Ft(Y(o),(S,I)=>({name:S,fn:Qe(b=>[_e(y.$slots,S,Tn(er(b)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ae("div",QY,[(q(!0),ee(Me,null,Ft(Y(f)(L),(S,I)=>(q(),ee("div",{key:I},[Ae("button",{type:"button",class:tt(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),disabled:S.disabled,onClick:b=>Y(E)(S.value,L,S.disabled),onMouseover:b=>Y(w)(S.value)},[y.$slots.quarter?_e(y.$slots,"quarter",{key:0,value:S.value,text:S.text}):(q(),ee(Me,{key:1},[xn(ht(S.text),1)],64))],42,XY)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),ZY=["id"],eQ={key:0,class:"dp__sidebar_left"},tQ={key:1,class:"dp--preset-dates"},nQ=["onClick","onKeydown"],rQ={key:2,class:"dp__sidebar_right"},iQ={key:3,class:"dp__action_extra"},LI=Yt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Tm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=le(()=>{const{openOnTop:te,...x}=i;return{...x,flowStep:I.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=xx(),u=Ca(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=An(i),p=ce(null),g=ce(0),w=ce(null),E=ce(null),R=ce(!1),P=ce(null);_n(()=>{if(!i.shadow){R.value=!0,T(),window.addEventListener("resize",T);const te=Mn(w);if(te&&!c.value.enabled&&!h.value.enabled&&(o(!0),k()),te){const x=F=>{f.value.allowPreventDefault&&F.preventDefault(),po(F,f.value,!0)};te.addEventListener("pointerdown",x),te.addEventListener("mousedown",x)}}}),Aa(()=>{window.removeEventListener("resize",T)});const T=()=>{const te=Mn(E);te&&(g.value=te.getBoundingClientRect().width)},{arrowRight:y,arrowLeft:M,arrowDown:L,arrowUp:S}=Do(),{flowStep:I,updateFlowStep:b,childMount:v,resetFlow:C}=XG(i,r,P),O=le(()=>i.monthPicker?pY:i.yearPicker?gY:i.timePicker?xY:i.quarterPicker?JY:GY),k=()=>{const te=Mn(w);te&&te.focus({preventScroll:!0})},G=le(()=>{var te;return((te=P.value)==null?void 0:te.getSidebarProps())||{}}),$=()=>{i.openOnTop&&r("recalculate-position")},B=Xr(u,"action"),U=le(()=>i.monthPicker||i.yearPicker?Xr(u,"monthYear"):i.timePicker?Xr(u,"timePicker"):Xr(u,"shared")),V=le(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),D=le(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),A=le(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),H=te=>{po(te,f.value,!0)},z=()=>{i.escClose&&r("close-picker")},ne=te=>{if(i.arrowNavigation){if(te==="up")return S();if(te==="down")return L();if(te==="left")return M();if(te==="right")return y()}else te==="left"||te==="up"?ie("handleArrow","left",0,te==="up"):ie("handleArrow","right",0,te==="down")},fe=te=>{a(te.shiftKey),!i.disableMonthYearSelect&&te.code==="Tab"&&te.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(te.preventDefault(),po(te,f.value,!0),r("close-picker"))},Z=()=>{k(),r("time-picker-close")},W=te=>{var x,F,j;(x=P.value)==null||x.toggleTimePicker(!1,!1),(F=P.value)==null||F.toggleMonthPicker(!1,!1,te),(j=P.value)==null||j.toggleYearPicker(!1,!1,te)},Q=(te,x=0)=>{var F,j,oe;return te==="month"?(F=P.value)==null?void 0:F.toggleMonthPicker(!1,!0,x):te==="year"?(j=P.value)==null?void 0:j.toggleYearPicker(!1,!0,x):te==="time"?(oe=P.value)==null?void 0:oe.toggleTimePicker(!0,!1):W(x)},ie=(te,...x)=>{var F,j;(F=P.value)!=null&&F[te]&&((j=P.value)==null||j[te](...x))},X=()=>{ie("selectCurrentDate")},de=(te,x)=>{ie("presetDate",te,x)},be=()=>{ie("clearHoverDate")};return e({updateMonthYear:(te,x)=>{ie("updateMonthYear",te,x)},switchView:Q}),(te,x)=>{var F;return q(),ee("div",{id:te.uid?`dp-menu-${te.uid}`:void 0,ref_key:"dpMenuRef",ref:w,tabindex:"0",role:"dialog",class:tt(A.value),onMouseleave:be,onClick:H,onKeydown:[at(z,["esc"]),x[18]||(x[18]=at(Lt(j=>ne("left"),["prevent"]),["left"])),x[19]||(x[19]=at(Lt(j=>ne("up"),["prevent"]),["up"])),x[20]||(x[20]=at(Lt(j=>ne("down"),["prevent"]),["down"])),x[21]||(x[21]=at(Lt(j=>ne("right"),["prevent"]),["right"])),fe]},[(te.disabled||te.readonly)&&Y(h).enabled?(q(),ee("div",{key:0,class:tt(D.value)},null,2)):he("",!0),!Y(h).enabled&&!te.teleportCenter?(q(),ee("div",{key:1,class:tt(V.value)},null,2)):he("",!0),Ae("div",{ref_key:"innerMenuRef",ref:E,class:tt({dp__menu_content_wrapper:((F=te.presetDates)==null?void 0:F.length)||!!te.$slots["left-sidebar"]||!!te.$slots["right-sidebar"]}),style:kr({"--dp-menu-width":`${g.value}px`})},[te.$slots["left-sidebar"]?(q(),ee("div",eQ,[_e(te.$slots,"left-sidebar",Tn(er(G.value)))])):he("",!0),te.presetDates.length?(q(),ee("div",tQ,[(q(!0),ee(Me,null,Ft(te.presetDates,(j,oe)=>(q(),ee(Me,{key:oe},[j.slot?_e(te.$slots,j.slot,{key:0,presetDate:de,label:j.label,value:j.value}):(q(),ee("button",{key:1,type:"button",style:kr(j.style||{}),class:"dp__btn dp--preset-range",onClick:Lt(se=>de(j.value,j.noTz),["prevent"]),onKeydown:[at(Lt(se=>de(j.value,j.noTz),["prevent"]),["enter"]),at(Lt(se=>de(j.value,j.noTz),["prevent"]),["space"])]},ht(j.label),45,nQ))],64))),128))])):he("",!0),Ae("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(q(),qe(zr(O.value),pe({ref_key:"dynCmpRef",ref:P},s.value,{"flow-step":Y(I),onMount:Y(v),onUpdateFlowStep:Y(b),onResetFlow:Y(C),onFocusMenu:k,onSelectDate:x[0]||(x[0]=j=>te.$emit("select-date")),onDateUpdate:x[1]||(x[1]=j=>te.$emit("date-update",j)),onTooltipOpen:x[2]||(x[2]=j=>te.$emit("tooltip-open",j)),onTooltipClose:x[3]||(x[3]=j=>te.$emit("tooltip-close",j)),onAutoApply:x[4]||(x[4]=j=>te.$emit("auto-apply",j)),onRangeStart:x[5]||(x[5]=j=>te.$emit("range-start",j)),onRangeEnd:x[6]||(x[6]=j=>te.$emit("range-end",j)),onInvalidFixedRange:x[7]||(x[7]=j=>te.$emit("invalid-fixed-range",j)),onTimeUpdate:x[8]||(x[8]=j=>te.$emit("time-update")),onAmPmChange:x[9]||(x[9]=j=>te.$emit("am-pm-change",j)),onTimePickerOpen:x[10]||(x[10]=j=>te.$emit("time-picker-open",j)),onTimePickerClose:Z,onRecalculatePosition:$,onUpdateMonthYear:x[11]||(x[11]=j=>te.$emit("update-month-year",j)),onAutoApplyInvalid:x[12]||(x[12]=j=>te.$emit("auto-apply-invalid",j)),onInvalidDate:x[13]||(x[13]=j=>te.$emit("invalid-date",j)),"onUpdate:internalModelValue":x[14]||(x[14]=j=>te.$emit("update:internal-model-value",j))}),tr({_:2},[Ft(U.value,(j,oe)=>({name:j,fn:Qe(se=>[_e(te.$slots,j,Tn(er({...se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),te.$slots["right-sidebar"]?(q(),ee("div",rQ,[_e(te.$slots,"right-sidebar",Tn(er(G.value)))])):he("",!0),te.$slots["action-extra"]?(q(),ee("div",iQ,[te.$slots["action-extra"]?_e(te.$slots,"action-extra",{key:0,selectCurrentDate:X}):he("",!0)])):he("",!0)],6),!te.autoApply||Y(f).keepActionRow?(q(),qe(sY,pe({key:2,"menu-mount":R.value},s.value,{"calendar-width":g.value,onClosePicker:x[15]||(x[15]=j=>te.$emit("close-picker")),onSelectDate:x[16]||(x[16]=j=>te.$emit("select-date")),onInvalidSelect:x[17]||(x[17]=j=>te.$emit("invalid-select")),onSelectNow:X}),tr({_:2},[Ft(Y(B),(j,oe)=>({name:j,fn:Qe(se=>[_e(te.$slots,j,Tn(er({...se})))])}))]),1040,["menu-mount","calendar-width"])):he("",!0)],42,ZY)}}}),sQ=typeof window<"u"?window:void 0,Kg=()=>{},oQ=t=>Qy()?(rA(t),!0):!1,aQ=(t,e,n,r)=>{if(!t)return Kg;let i=Kg;const s=Sn(()=>Y(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Kg})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return oQ(o),o},lQ=(t,e,n,r={})=>{const{window:i=sQ,event:s="pointerdown"}=r;return i?aQ(i,s,o=>{const a=Mn(t),l=Mn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},uQ=Yt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Tm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ca(),o=ce(!1),a=kc(i,"modelValue"),l=kc(i,"timezone"),u=ce(null),c=ce(null),h=ce(null),f=ce(!1),p=ce(null),g=ce(!1),w=ce(!1),{setMenuFocused:E,setShiftKey:R}=xx(),{clearArrowNav:P}=Do(),{mapDatesArrToMap:T,validateDate:y,isValidTime:M}=La(i),{defaultedTransitions:L,defaultedTextInput:S,defaultedInline:I,defaultedConfig:b}=An(i),{menuTransition:v,showTransition:C}=Yd(L);_n(()=>{ne(i.modelValue),Wn().then(()=>{if(!I.value.enabled){const Oe=D(p.value);Oe==null||Oe.addEventListener("scroll",te),window==null||window.addEventListener("resize",x)}}),I.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",F),window==null||window.addEventListener("keydown",j)});const O=le(()=>T());Aa(()=>{if(!I.value.enabled){const Oe=D(p.value);Oe==null||Oe.removeEventListener("scroll",te),window==null||window.removeEventListener("resize",x)}window==null||window.removeEventListener("keyup",F),window==null||window.removeEventListener("keydown",j)});const k=Xr(s,"all",i.presetDates),G=Xr(s,"input");Sn([a,l],()=>{ne(a.value)},{deep:!0});const{openOnTop:$,menuStyle:B,xCorrect:U,setMenuPosition:V,getScrollableParent:D,shadowRender:A}=KG({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:I,emit:r,props:i,slots:s}),{inputValue:H,internalModelValue:z,parseExternalModelValue:ne,emitModelValue:fe,formatInputValue:Z,checkBeforeEmit:W}=qG(r,i,f),Q=le(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:I.value.enabled,dp__flex_display_with_input:I.value.input})),ie=le(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=le(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||I.value.enabled})),de=le(()=>({class:"dp__outer_menu_wrap"})),be=le(()=>I.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),te=()=>{o.value&&(b.value.closeOnScroll?Ie():V())},x=()=>{o.value&&V()},F=Oe=>{Oe.key==="Tab"&&!I.value.enabled&&!i.teleport&&b.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ie()),w.value=Oe.shiftKey},j=Oe=>{w.value=Oe.shiftKey},oe=()=>{!i.disabled&&!i.readonly&&(A(LI,i),V(!1),o.value=!0,o.value&&r("open"),o.value||He(),ne(i.modelValue))},se=()=>{var Oe;H.value="",He(),(Oe=h.value)==null||Oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),b.value.closeOnClearValue&&Ie()},me=()=>{const Oe=z.value;return!Oe||!Array.isArray(Oe)&&y(Oe)?!0:Array.isArray(Oe)?i.multiDates||Oe.length===2&&y(Oe[0])&&y(Oe[1])?!0:i.partialRange&&!i.timePicker?y(Oe[0]):!1:!1},Se=()=>{W()&&me()?(fe(),Ie()):r("invalid-select",z.value)},Ee=Oe=>{Te(),fe(),b.value.closeOnAutoApply&&!Oe&&Ie()},Te=()=>{h.value&&S.value.enabled&&h.value.setParsedDate(z.value)},ge=(Oe=!1)=>{i.autoApply&&M(z.value)&&me()&&(i.range&&Array.isArray(z.value)?(i.partialRange||z.value.length===2)&&Ee(Oe):Ee(Oe))},He=()=>{S.value.enabled||(z.value=null)},Ie=()=>{I.value.enabled||(o.value&&(o.value=!1,U.value=!1,E(!1),R(!1),P(),r("closed"),H.value&&ne(a.value)),He(),r("blur"))},Fe=(Oe,Be,je=!1)=>{if(!Oe){z.value=null;return}const zn=Array.isArray(Oe)?!Oe.some($a=>!y($a)):y(Oe),Wr=M(Oe);zn&&Wr&&(z.value=Oe,Be&&(g.value=je,Se(),r("text-submit")))},Ye=()=>{i.autoApply&&M(z.value)&&fe(),Te()},Ke=()=>o.value?Ie():oe(),K=Oe=>{z.value=Oe},ae=()=>{S.value.enabled&&(f.value=!0,Z()),r("focus")},Ne=()=>{if(S.value.enabled&&(f.value=!1,ne(i.modelValue),g.value)){const Oe=IG(p.value,w.value);Oe==null||Oe.focus()}r("blur")},We=Oe=>{c.value&&c.value.updateMonthYear(0,{month:PI(Oe.month),year:PI(Oe.year)})},dt=Oe=>{ne(Oe??i.modelValue)},Nt=(Oe,Be)=>{var je;(je=c.value)==null||je.switchView(Oe,Be)},qn=Oe=>b.value.onClickOutside?b.value.onClickOutside(Oe):Ie();return lQ(u,h,()=>qn(me)),e({closeMenu:Ie,selectDate:Se,clearValue:se,openMenu:oe,onScroll:te,formatInputValue:Z,updateInternalModelValue:K,setMonthYear:We,parseModel:dt,switchView:Nt,toggleMenu:Ke}),(Oe,Be)=>(q(),ee("div",{ref_key:"pickerWrapperRef",ref:p,class:tt(Q.value),"data-datepicker-instance":""},[Je(tY,pe({ref_key:"inputRef",ref:h,"input-value":Y(H),"onUpdate:inputValue":Be[0]||(Be[0]=je=>ln(H)?H.value=je:null),"is-menu-open":o.value},Oe.$props,{onClear:se,onOpen:oe,onSetInputDate:Fe,onSetEmptyDate:Y(fe),onSelectDate:Se,onToggle:Ke,onClose:Ie,onFocus:ae,onBlur:Ne,onRealBlur:Be[1]||(Be[1]=je=>f.value=!1)}),tr({_:2},[Ft(Y(G),(je,zn)=>({name:je,fn:Qe(Wr=>[_e(Oe.$slots,je,Tn(er(Wr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),Je(DA,Tn(er(X.value)),{default:Qe(()=>[Je(Oo,{name:Y(v)(Y($)),css:Y(C)&&!Y(I).enabled},{default:Qe(()=>[o.value?(q(),ee("div",pe({key:0,ref_key:"dpWrapMenuRef",ref:u},de.value,{class:{"dp--menu-wrapper":!Y(I).enabled},style:Y(I).enabled?void 0:Y(B)}),[Je(LI,pe({ref_key:"dpMenuRef",ref:c},Oe.$props,{"internal-model-value":Y(z),"onUpdate:internalModelValue":Be[2]||(Be[2]=je=>ln(z)?z.value=je:null),class:{[ie.value]:!0,"dp--menu-wrapper":Oe.teleport},"open-on-top":Y($),"arr-map-values":O.value,"no-overlay-focus":be.value,onClosePicker:Ie,onSelectDate:Se,onAutoApply:ge,onTimeUpdate:Ye,onFlowStep:Be[3]||(Be[3]=je=>Oe.$emit("flow-step",je)),onUpdateMonthYear:Be[4]||(Be[4]=je=>Oe.$emit("update-month-year",je)),onInvalidSelect:Be[5]||(Be[5]=je=>Oe.$emit("invalid-select",Y(z))),onAutoApplyInvalid:Be[6]||(Be[6]=je=>Oe.$emit("invalid-select",je)),onInvalidFixedRange:Be[7]||(Be[7]=je=>Oe.$emit("invalid-fixed-range",je)),onRecalculatePosition:Y(V),onTooltipOpen:Be[8]||(Be[8]=je=>Oe.$emit("tooltip-open",je)),onTooltipClose:Be[9]||(Be[9]=je=>Oe.$emit("tooltip-close",je)),onTimePickerOpen:Be[10]||(Be[10]=je=>Oe.$emit("time-picker-open",je)),onTimePickerClose:Be[11]||(Be[11]=je=>Oe.$emit("time-picker-close",je)),onAmPmChange:Be[12]||(Be[12]=je=>Oe.$emit("am-pm-change",je)),onRangeStart:Be[13]||(Be[13]=je=>Oe.$emit("range-start",je)),onRangeEnd:Be[14]||(Be[14]=je=>Oe.$emit("range-end",je)),onDateUpdate:Be[15]||(Be[15]=je=>Oe.$emit("date-update",je)),onInvalidDate:Be[16]||(Be[16]=je=>Oe.$emit("invalid-date",je))}),tr({_:2},[Ft(Y(k),(je,zn)=>({name:je,fn:Qe(Wr=>[_e(Oe.$slots,je,Tn(er({...Wr})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):he("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),Eb=(()=>{const t=uQ;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),cQ=Object.freeze(Object.defineProperty({__proto__:null,default:Eb},Symbol.toStringTag,{value:"Module"}));Object.entries(cQ).forEach(([t,e])=>{t!=="default"&&(Eb[t]=e)});function Gg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ib(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function dQ(t){return pQ(t)||fQ(t)||Ib(t)||hQ()}function hQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pQ(t){if(Array.isArray(t))return Dy(t)}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Yg(t,e){return vQ(t)||gQ(t,e)||Ib(t,e)||mQ()}function mQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ib(t,e){if(t){if(typeof t=="string")return Dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(t,e)}}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function vQ(t){if(Array.isArray(t))return t}var xe={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Yg(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=Ic(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(w){var E=Yg(w,2),R=E[0],P=E[1];return o==="style"&&(P||P===0)?"".concat(R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(P):P?R:void 0});h=g.length?h.concat(g.filter(function(w){return!!w})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=Yg(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?dQ(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,w="top";u.top+a+s>f.height?(p=u.top+c-s,w="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=w,r&&(e.style.marginTop=w==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(E){try{var R=window.getComputedStyle(E,null);return i.test(R.getPropertyValue("overflow"))||i.test(R.getPropertyValue("overflowX"))||i.test(R.getPropertyValue("overflowY"))}catch{return!1}},o=Gg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=Gg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(w){h.e(w)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(w){o.e(w)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Ic(HTMLElement))==="object"?e instanceof HTMLElement:e&&Ic(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Gg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function yQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bQ(r.key),r)}}function _Q(t,e,n){return e&&VI(t.prototype,e),n&&VI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bQ(t){var e=wQ(t,"string");return od(e)=="symbol"?e:String(e)}function wQ(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $x=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};yQ(this,t),this.element=e,this.listener=n}return _Q(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=xe.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function TQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function FI(t,e){return SQ(t)||IQ(t,e)||Sb(t,e)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function SQ(t){if(Array.isArray(t))return t}function $I(t){return OQ(t)||CQ(t)||Sb(t)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OQ(t){if(Array.isArray(t))return xy(t)}function Qg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Sb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Sb(t,e){if(t){if(typeof t=="string")return xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(t,e)}}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var we={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Sc(e)=="object"&&Sc(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=Qg(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=Qg(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=Qg(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Sc(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=$I(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf($I(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=FI(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=FI(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},UI=0;function vp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return UI++,"".concat(t).concat(UI)}function PQ(t){return xQ(t)||DQ(t)||RQ(t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RQ(t,e){if(t){if(typeof t=="string")return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(t,e)}}function DQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xQ(t){if(Array.isArray(t))return Ny(t)}function Ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return PQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Pl=NQ(),lr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function BI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=MQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function MQ(t,e){if(t){if(typeof t=="string")return jI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(t,e)}}function jI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ux={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=BI(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=BI(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=we.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)==we.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)!=we.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(we.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return e=VQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VQ(t){var e=FQ(t,"string");return ad(e)=="symbol"?e:String(e)}function FQ(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WI={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[lr.STARTS_WITH,lr.CONTAINS,lr.NOT_CONTAINS,lr.ENDS_WITH,lr.EQUALS,lr.NOT_EQUALS],numeric:[lr.EQUALS,lr.NOT_EQUALS,lr.LESS_THAN,lr.LESS_THAN_OR_EQUAL_TO,lr.GREATER_THAN,lr.GREATER_THAN_OR_EQUAL_TO],date:[lr.DATE_IS,lr.DATE_IS_NOT,lr.DATE_BEFORE,lr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},$Q=Symbol();function UQ(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var BQ={install:function(e,n){var r=n?Xg(Xg({},WI),n):Xg({},WI),i={config:Dr(r),changeTheme:UQ};e.config.globalProperties.$primevue=i,e.provide($Q,i)}};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){jQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jQ(t,e,n){return e=HQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=WQ(t,"string");return ld(e)=="symbol"?e:String(e)}function WQ(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ti()?_n(t):e?t():Wn(t)}var zQ=0;function Bx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ce(!1),r=ce(t),i=ce(null),s=xe.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++zQ):f,g=e.id,w=g===void 0?void 0:g,E=e.media,R=E===void 0?void 0:E,P=e.nonce,T=P===void 0?void 0:P,y=e.props,M=y===void 0?{}:y,L=function(){},S=function(v){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var O=zI(zI({},M),C),k=O.name||p,G=O.id||w,$=O.nonce||T;i.value=a.querySelector('style[data-primevue-style-id="'.concat(k,'"]'))||a.getElementById(G)||a.createElement("style"),i.value.isConnected||(r.value=v||t,xe.setAttributes(i.value,{type:"text/css",id:G,media:R,nonce:$}),a.head.appendChild(i.value),xe.setAttribute(i.value,"data-primevue-style-id",p),xe.setAttributes(i.value,O)),!n.value&&(L=Sn(r,function(B){i.value.textContent=B},{immediate:!0}),n.value=!0)}},I=function(){!a||!n.value||(L(),xe.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&qQ(S),{id:w,name:p,css:r,unload:I,load:S,isLoaded:e_(n)}}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function KQ(t,e){return XQ(t)||QQ(t,e)||YQ(t,e)||GQ()}function GQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t,e){if(t){if(typeof t=="string")return KI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KI(t,e)}}function KI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function XQ(t){if(Array.isArray(t))return t}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){JQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JQ(t,e,n){return e=ZQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=eX(t,"string");return ud(e)=="symbol"?e:String(e)}function eX(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tX=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,nX={},rX={},mi={name:"base",css:tX,classes:nX,inlineStyles:rX,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?Bx(this.css,Jg({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=KQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Jg(Jg({},this),{},{css:void 0},e)}};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){sX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sX(t,e,n){return e=oX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oX(t){var e=aX(t,"string");return cd(e)=="symbol"?e:String(e)}function aX(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zg=mi.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Bx(e,iX({name:"global"},n))}});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function lX(t){return Wx(t)||uX(t)||Hx(t)||jx()}function uX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hh(t,e){return Wx(t)||cX(t,e)||Hx(t,e)||jx()}function jx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hx(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Wx(t){if(Array.isArray(t))return t}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cf(t,e,n){return e=dX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dX(t){var e=hX(t,"string");return dd(e)=="symbol"?e:String(e)}function hX(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Va={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Zg.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var w=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,E=w?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,R=w?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=R||E)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;mi.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);we.isNotEmpty(n)&&Zg.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?this._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,nn(nn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):nn(nn(nn({},f),p),g):nn(nn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return pe(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&we.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&nn(nn({},r==="root"&&nn(cf({},"".concat(i,"name"),we.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&cf({},"".concat(i,"extend"),we.toFlatCase(this.$.type.name)))),{},cf({},"".concat(i,"section"),we.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return we.isString(e)||we.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=we.toFlatCase(r),f=we.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(w){return n(w,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:we.isString(p)?p:we.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):nn(nn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,nn(nn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pe(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,nn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,nn(nn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,nn(nn({},this.$params),r)),s=this._getOptionValue(Zg.inlineStyles,e,nn(nn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return we.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,nn({},n.$params))||we.getItemValue(r,nn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return nn(nn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Hh(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Hh(n,2),i=r[0],s=r[1],o=i.split(":"),a=lX(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Hh(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Hh(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},fX=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,pX=mi.extend({name:"baseicon",css:fX});function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){mX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e,n){return e=gX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gX(t){var e=vX(t,"string");return hd(e)=="symbol"?e:String(e)}function vX(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fa={name:"BaseIcon",extends:Va,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:pX,methods:{pti:function(){var e=we.isEmpty(this.label);return ZI(ZI({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},qx={name:"BlankIcon",extends:Fa},yX=Ae("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),_X=[yX];function bX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_X,16)}qx.render=bX;var Sm={name:"CheckIcon",extends:Fa},wX=Ae("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),TX=[wX];function EX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),TX,16)}Sm.render=EX;var Ab={name:"ChevronDownIcon",extends:Fa},IX=Ae("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),SX=[IX];function AX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),SX,16)}Ab.render=AX;var Cb={name:"SearchIcon",extends:Fa},CX=Ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),OX=[CX];function PX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),OX,16)}Cb.render=PX;var Am={name:"SpinnerIcon",extends:Fa},kX=Ae("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),RX=[kX];function DX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),RX,16)}Am.render=DX;var Ob={name:"TimesIcon",extends:Fa},xX=Ae("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),NX=[xX];function MX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),NX,16)}Ob.render=MX;var zx=TQ(),Pb={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=xe.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function LX(t,e,n,r,i,s){return s.inline?_e(t.$slots,"default",{key:0}):i.mounted?(q(),qe(DA,{key:1,to:n.appendTo},[_e(t.$slots,"default")],8,["to"])):he("",!0)}Pb.render=LX;function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function eS(t,e){return UX(t)||$X(t,e)||FX(t,e)||VX()}function VX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(t,e){if(t){if(typeof t=="string")return tS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(t,e)}}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $X(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function UX(t){if(Array.isArray(t))return t}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){My(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function My(t,e,n){return e=BX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=jX(t,"string");return fd(e)=="symbol"?e:String(e)}function jX(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ct={_getMeta:function(){return[we.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],we.getItemValue(we.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?Ct._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var P=Ct._getOptionValue.apply(Ct,arguments);return we.isString(P)||we.isArray(P)?{class:P}:P},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?Ct._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,w=Ct._usePT(r,Ct._getPT(i,r.$name),l,s,dn(dn({},o),{},{global:g||{}})),E=Ct._getPTDatasets(r,s);return h||!h&&w?p?Ct._mergeProps(r,p,g,w,E):dn(dn(dn({},g),w),E):dn(dn({},w),E)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return dn(dn({},n==="root"&&My({},"".concat(r,"name"),we.toFlatCase(e.$name))),{},My({},"".concat(r,"section"),we.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=we.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(E){return r(E,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:we.isString(g)?g:we.isString(p)?p:c||!c&&g?f?Ct._mergeProps(e,f,p,g):dn(dn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Ct._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(we.toCapitalCase(n)),c=Ct._getConfig(i,s),h=r==null?void 0:r.$instance,f=Ct._usePT(h,Ct._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Ct._getOptionValue,"hooks.".concat(u)),p=Ct._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Ct._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=Ct._getConfig(a,l),p=o._$instances[e]||{},g=we.isEmpty(p)?dn(dn({},n),n==null?void 0:n.methods):{};o._$instances[e]=dn(dn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:dn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return Ct._getPT(f==null?void 0:f.pt,void 0,function(E){var R;return E==null||(R=E.directives)===null||R===void 0?void 0:R[e]})},isUnstyled:function(){var E,R;return((E=o.$instance)===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.unstyled)!==void 0?(R=o.$instance)===null||R===void 0||(R=R.$binding)===null||R===void 0||(R=R.value)===null||R===void 0?void 0:R.unstyled:f==null?void 0:f.unstyled},ptm:function(){var E,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ct._getPTValue(o.$instance,(E=o.$instance)===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.pt,R,dn({},P))},ptmo:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ct._getPTValue(o.$instance,E,R,P,!1)},cx:function(){var E,R,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(E=o.$instance)!==null&&E!==void 0&&E.isUnstyled()?void 0:Ct._getOptionValue((R=o.$instance)===null||R===void 0||(R=R.$style)===null||R===void 0?void 0:R.classes,P,dn({},T))},sx:function(){var E,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P?Ct._getOptionValue((E=o.$instance)===null||E===void 0||(E=E.$style)===null||E===void 0?void 0:E.inlineStyles,R,dn({},T)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,Ct._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);mi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);mi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Ct._getMeta.apply(Ct,arguments),n=eS(e,2),r=n[0],i=n[1];return dn({extend:function(){var o=Ct._getMeta.apply(Ct,arguments),a=eS(o,2),l=a[0],u=a[1];return Ct.extend(l,dn(dn(dn({},i),i==null?void 0:i.methods),u))}},Ct._extend(r,i))}},HX={root:"p-ink"},WX=mi.extend({name:"ripple",classes:HX}),qX=Ct.extend({style:WX});function zX(t){return QX(t)||YX(t)||GX(t)||KX()}function KX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GX(t,e){if(t){if(typeof t=="string")return Ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(t,e)}}function YX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QX(t){if(Array.isArray(t))return Ly(t)}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kx=qX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=xe.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&xe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!xe.getHeight(i)&&!xe.getWidth(i)){var s=Math.max(xe.getOuterWidth(r),xe.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=xe.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-xe.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-xe.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&xe.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&xe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&xe.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?zX(e.children).find(function(n){return xe.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),XX=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,rS=mi.extend({name:"virtualscroller",css:XX}),JX={name:"BaseVirtualScroller",extends:Va,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:rS,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;rS.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(r){Gx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gx(t,e,n){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZX(t){var e=eJ(t,"string");return pd(e)=="symbol"?e:String(e)}function eJ(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kb={name:"VirtualScroller",extends:JX,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){xe.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=xe.getWidth(this.element),this.defaultHeight=xe.getHeight(this.element),this.defaultContentWidth=xe.getWidth(this.content),this.defaultContentHeight=xe.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(S){return S>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,w=this.getContentPosition(),E=this.itemSize,R=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1?arguments[1]:void 0;return I<=b?0:I},P=function(I,b,v){return I*b+v},T=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:I,top:b,behavior:r})},y=i?{rows:0,cols:0}:0,M=!1,L=!1;i?(y={rows:R(e[0],g[0]),cols:R(e[1],g[1])},T(P(y.cols,E[1],w.left),P(y.rows,E[0],w.top)),L=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,M=y.rows!==a.rows||y.cols!==a.cols):(y=R(e,g),s?T(P(y,E,w.left),c):T(f,P(y,E,w.top)),L=this.lastScrollPos!==(s?f:c),M=y!==a),this.isRangeChanged=M,L&&(this.first=y)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(E){return E>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:R,top:P,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var w=(c.first+1)*this.itemSize;o?h(w,0):h(0,w)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[xe.getWidth(e.element),xe.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Hu(Hu({},e.spacerStyle),Gx({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Hu(Hu({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(C,O){return C?C>O?C-O:C:0},l=function(C,O){return Math.floor(C/(O||C))},u=function(C,O,k,G,$,B){return C<=$?$:B?k-G-$:O+$-1},c=function(C,O,k,G,$,B,U){return C<=B?0:Math.max(0,U?C<O?k:C-B:C>O?k:C-2*B)},h=function(C,O,k,G,$,B){var U=O+G+2*$;return C>=$&&(U+=$+1),n.getLast(U,B)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,w=this.last,E=!1,R=this.lastScrollPos;if(i){var P=this.lastScrollPos.top<=f,T=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(P||T)){var y={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},M={rows:u(y.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:u(y.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)};g={rows:c(y.rows,M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:c(y.cols,M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)},w={rows:h(y.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(y.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},E=g.rows!==this.first.rows||w.rows!==this.last.rows||g.cols!==this.first.cols||w.cols!==this.last.cols||this.isRangeChanged,R={top:f,left:p}}}else{var L=s?p:f,S=this.lastScrollPos<=L;if(!this.appendOnly||this.appendOnly&&S){var I=l(L,this.itemSize),b=u(I,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S);g=c(I,b,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S),w=h(I,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),E=g!==this.first||w!==this.last||this.isRangeChanged,R=L}}return{first:g,last:w,isRangeChanged:E,scrollPos:R}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(xe.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[xe.getWidth(e.element),xe.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=xe.getWidth(e.content),e.defaultContentHeight=xe.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Hu({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||xe.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Am}},tJ=["tabindex"];function nJ(t,e,n,r,i,s){var o=Gr("SpinnerIcon");return t.disabled?(q(),ee(Me,{key:1},[_e(t.$slots,"default"),_e(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(q(),ee("div",pe({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[_e(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[Ae("div",pe({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(q(!0),ee(Me,null,Ft(s.loadedItems,function(a,l){return _e(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(q(),ee("div",pe({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):he("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(q(),ee("div",pe({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(q(!0),ee(Me,{key:0},Ft(i.loaderArr,function(a,l){return _e(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):he("",!0),_e(t.$slots,"loadingicon",{},function(){return[Je(o,pe({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):he("",!0)],16,tJ))}kb.render=nJ;var rJ={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},iJ=mi.extend({name:"dropdown",classes:rJ}),sJ={name:"BaseDropdown",extends:Va,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:iJ,provide:function(){return{$parentInstance:this}}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function oJ(t){return cJ(t)||uJ(t)||lJ(t)||aJ()}function aJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function uJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cJ(t){if(Array.isArray(t))return Vy(t)}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(n),!0).forEach(function(r){Yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yx(t,e,n){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=hJ(t,"string");return md(e)=="symbol"?e:String(e)}function hJ(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qx={name:"Dropdown",extends:sJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||vp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||vp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Pl.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&xe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&xe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||xe.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&we.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){zx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(xe.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Pl.set("overlay",e,this.$primevue.config.zIndex.overlay),xe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&xe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Pl.clear(e)},alignOverlay:function(){this.appendTo==="self"?xe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=xe.getOuterWidth(this.$el)+"px",xe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new $x(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!xe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&xe.isVisible(n)&&(this.labelClickListener=function(){xe.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&xe.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return xe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&we.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=xe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Ux.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(oS(oS({},o),{},Yx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",oJ(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Kx},components:{VirtualScroller:kb,Portal:Pb,TimesIcon:Ob,ChevronDownIcon:Ab,SpinnerIcon:Am,SearchIcon:Cb,CheckIcon:Sm,BlankIcon:qx}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){fJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fJ(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=mJ(t,"string");return gd(e)=="symbol"?e:String(e)}function mJ(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gJ=["id"],vJ=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],yJ=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],_J=["value","placeholder","aria-owns","aria-activedescendant"],bJ=["id","aria-label"],wJ=["id"],TJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function EJ(t,e,n,r,i,s){var o=Gr("SpinnerIcon"),a=Gr("CheckIcon"),l=Gr("BlankIcon"),u=Gr("VirtualScroller"),c=Gr("Portal"),h=BA("ripple");return q(),ee("div",pe({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(q(),ee("input",pe({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},$i($i({},t.inputProps),t.ptm("input"))),null,16,vJ)):(q(),ee("span",pe({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},$i($i({},t.inputProps),t.ptm("input"))),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[xn(ht(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,yJ)),t.showClear&&t.modelValue!=null?_e(t.$slots,"clearicon",{key:2,class:tt(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(q(),qe(zr(t.clearIcon?"i":"TimesIcon"),pe({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},$i($i({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):he("",!0),Ae("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(q(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(q(),qe(o,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(q(),qe(zr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Je(c,{appendTo:t.appendTo},{default:Qe(function(){return[Je(Oo,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(q(),ee("div",pe({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},$i($i({},t.panelProps),t.ptm("panel"))),[Ae("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(q(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[Ae("div",pe({class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},$i($i({},t.filterInputProps),t.ptm("filterInput"))),null,16,_J),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(q(),qe(zr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ht(s.filterResultMessageText),17)],16)):he("",!0),Ae("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Je(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),tr({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,w=f.items,E=f.getItemOptions,R=f.contentStyle,P=f.itemSize;return[Ae("ul",pe({ref:function(y){return s.listRef(y,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(q(!0),ee(Me,null,Ft(w,function(T,y){return q(),ee(Me,{key:s.getOptionRenderKey(T,s.getOptionIndex(y,E))},[s.isOptionGroup(T)?(q(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(y,E)},function(){return[Ae("span",pe({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),ht(s.getOptionGroupLabel(T.optionGroup)),17)]})],16,wJ)):Xo((q(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(y,E),class:t.cx("item",{option:T,focusedOption:s.getOptionIndex(y,E)}),style:{height:P?P+"px":void 0},role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(y,E)),onClick:function(L){return s.onOptionSelect(L,T)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(y,E))},"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(y,E),"data-p-disabled":s.isOptionDisabled(T)},s.getPTItemOptions(T,E,y,"item")),[t.checkmark?(q(),ee(Me,{key:0},[s.isSelected(T)?(q(),qe(a,pe({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(q(),qe(l,pe({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):he("",!0),_e(t.$slots,"option",{option:T,index:s.getOptionIndex(y,E)},function(){return[Ae("span",pe({class:t.cx("itemLabel")},t.ptm("itemLabel")),ht(s.getOptionLabel(T)),17)]})],16,TJ)),[[h]])],64)}),128)),i.filterValue&&(!w||w&&w.length===0)?(q(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"emptyfilter",{},function(){return[xn(ht(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(q(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"empty",{},function(){return[xn(ht(s.emptyMessageText),1)]})],16)):he("",!0)],16,bJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(q(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ht(s.emptyMessageText),17)):he("",!0),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ht(s.selectedMessageText),17),Ae("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):he("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,gJ)}Qx.render=EJ;var IJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},SJ=mi.extend({name:"inputtext",classes:IJ}),AJ={name:"BaseInputText",extends:Va,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:SJ,provide:function(){return{$parentInstance:this}}},Xx={name:"InputText",extends:AJ,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},CJ=["value","aria-invalid"];function OJ(t,e,n,r,i,s){return q(),ee("input",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,CJ)}Xx.render=OJ;var PJ={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},kJ=mi.extend({name:"checkbox",classes:PJ}),RJ={name:"BaseCheckbox",extends:Va,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:kJ,provide:function(){return{$parentInstance:this}}};function DJ(t){return LJ(t)||MJ(t)||NJ(t)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NJ(t,e){if(t){if(typeof t=="string")return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(t,e)}}function MJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LJ(t){if(Array.isArray(t))return Fy(t)}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jx={name:"Checkbox",extends:RJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!we.equals(i,n.value)}):r=this.modelValue?[].concat(DJ(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:we.contains(this.value,this.modelValue)}},components:{CheckIcon:Sm}},VJ=["data-p-highlight","data-p-disabled"],FJ=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function $J(t,e,n,r,i,s){var o=Gr("CheckIcon");return q(),ee("div",pe({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[Ae("input",pe({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,FJ),Ae("div",pe({class:t.cx("box")},s.getPTOptions("box")),[_e(t.$slots,"icon",{checked:s.checked,class:tt(t.cx("icon"))},function(){return[s.checked?(q(),qe(o,pe({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):he("",!0)]})],16)],16,VJ)}Jx.render=$J;var Zx={name:"TimesCircleIcon",extends:Fa},UJ=Ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),BJ=[UJ];function jJ(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),BJ,16)}Zx.render=jJ;var HJ={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},WJ={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},qJ=mi.extend({name:"multiselect",classes:WJ,inlineStyles:HJ}),zJ={name:"BaseMultiSelect",extends:Va,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:qJ,provide:function(){return{$parentInstance:this}}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){eN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eN(t,e,n){return e=KJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJ(t){var e=GJ(t,"string");return vd(e)=="symbol"?e:String(e)}function GJ(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cS(t){return JJ(t)||XJ(t)||QJ(t)||YJ()}function YJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(t,e){if(t){if(typeof t=="string")return $y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $y(t,e)}}function XJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JJ(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tN={name:"MultiSelect",extends:zJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||vp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||vp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Pl.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&xe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&xe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!we.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(cS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&xe.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){zx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(xe.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Pl.set("overlay",e,this.$primevue.config.zIndex.overlay),xe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&xe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Pl.clear(e)},alignOverlay:function(){this.appendTo==="self"?xe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=xe.getOuterWidth(this.$el)+"px",xe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new $x(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!xe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&we.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!we.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return xe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return we.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?we.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=xe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Ux.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(uS(uS({},o),{},eN({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",cS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:we.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Kx},components:{Checkbox:Jx,VirtualScroller:kb,Portal:Pb,TimesIcon:Ob,SearchIcon:Cb,TimesCircleIcon:Zx,ChevronDownIcon:Ab,SpinnerIcon:Am,CheckIcon:Sm}};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uy(t,e,n){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=eZ(t,"string");return yd(e)=="symbol"?e:String(e)}function eZ(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tZ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],nZ=["onClick"],rZ=["value","placeholder","aria-owns","aria-activedescendant"],iZ=["aria-label"],sZ=["id","aria-label"],oZ=["id"],aZ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function lZ(t,e,n,r,i,s){var o=Gr("TimesCircleIcon"),a=Gr("SpinnerIcon"),l=Gr("Checkbox"),u=Gr("VirtualScroller"),c=Gr("Portal"),h=BA("ripple");return q(),ee("div",pe({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[Ae("div",pe({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[Ae("input",pe({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Ws(Ws({},t.inputProps),t.ptm("hiddenInput"))),null,16,tZ)],16),Ae("div",pe({class:t.cx("labelContainer")},t.ptm("labelContainer")),[Ae("div",pe({class:t.cx("label")},t.ptm("label")),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(q(),ee(Me,{key:0},[xn(ht(s.label||"empty"),1)],64)):t.display==="chip"?(q(),ee(Me,{key:1},[(q(!0),ee(Me,null,Ft(s.chipSelectedItems,function(f){return q(),ee("div",pe({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[_e(t.$slots,"chip",{value:f},function(){return[Ae("span",pe({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),ht(s.getLabelByValue(f)),17)]}),t.disabled?he("",!0):_e(t.$slots,"removetokenicon",{key:0,class:tt(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(q(),ee("span",pe({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,nZ)):(q(),qe(o,pe({key:1,class:t.cx("removeTokenIcon"),onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(q(),ee(Me,{key:0},[xn(ht(t.placeholder||"empty"),1)],64)):he("",!0)],64)):he("",!0)]})],16)],16),Ae("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(q(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(q(),qe(a,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(q(),qe(zr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Je(c,{appendTo:t.appendTo},{default:Qe(function(){return[Je(Oo,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(q(),ee("div",pe({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Ws(Ws({},t.panelProps),t.ptm("panel"))),[Ae("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(q(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(q(),qe(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Qe(function(f){return[t.$slots.headercheckboxicon?(q(),qe(zr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:tt(f.class)},null,8,["checked","class"])):f.checked?(q(),qe(zr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[f.class,Uy({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):he("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):he("",!0),t.filter?(q(),ee("div",pe({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Ws(Ws({},t.filterInputProps),t.ptm("filterInput"))),null,16,rZ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(q(),qe(zr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):he("",!0),t.filter?(q(),ee("span",pe({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ht(s.filterResultMessageText),17)):he("",!0),Xo((q(),ee("button",pe({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Ws(Ws({},t.closeButtonProps),t.ptm("closeButton"))),[_e(t.$slots,"closeicon",{class:tt(t.cx("closeIcon"))},function(){return[(q(),qe(zr(t.closeIcon?"span":"TimesIcon"),pe({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,iZ)),[[h]])],16)):he("",!0),Ae("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Je(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),tr({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,w=f.items,E=f.getItemOptions,R=f.contentStyle,P=f.itemSize;return[Ae("ul",pe({ref:function(y){return s.listRef(y,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(q(!0),ee(Me,null,Ft(w,function(T,y){return q(),ee(Me,{key:s.getOptionRenderKey(T,s.getOptionIndex(y,E))},[s.isOptionGroup(T)?(q(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(y,E)},function(){return[xn(ht(s.getOptionGroupLabel(T.optionGroup)),1)]})],16,oZ)):Xo((q(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("item",{option:T,index:y,getItemOptions:E}),role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(y,E)),onClick:function(L){return s.onOptionSelect(L,T,s.getOptionIndex(y,E),!0)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(y,E))}},s.getCheckboxPTOptions(T,E,y,"item"),{"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(y,E),"data-p-disabled":s.isOptionDisabled(T)}),[Je(l,{modelValue:s.isSelected(T),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(T,E,y,"itemCheckbox")},{icon:Qe(function(M){return[t.$slots.itemcheckboxicon?(q(),qe(zr(t.$slots.itemcheckboxicon),{key:0,checked:M.checked,class:tt(M.class)},null,8,["checked","class"])):M.checked?(q(),qe(zr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[M.class,Uy({},t.checkboxIcon,M.checked)]},s.getCheckboxPTOptions(T,E,y,"itemCheckbox.icon")),null,16,["class"])):he("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),_e(t.$slots,"option",{option:T,index:s.getOptionIndex(y,E)},function(){return[Ae("span",Tn(er(t.ptm("option"))),ht(s.getOptionLabel(T)),17)]})],16,aZ)),[[h]])],64)}),128)),i.filterValue&&(!w||w&&w.length===0)?(q(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"emptyfilter",{},function(){return[xn(ht(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(q(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"empty",{},function(){return[xn(ht(s.emptyMessageText),1)]})],16)):he("",!0)],16,sZ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(q(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ht(s.emptyMessageText),17)):he("",!0),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ht(s.selectedMessageText),17),Ae("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):he("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}tN.render=lZ;var uZ={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},cZ=mi.extend({name:"textarea",classes:uZ}),dZ={name:"BaseTextarea",extends:Va,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:cZ,provide:function(){return{$parentInstance:this}}},nN={name:"Textarea",extends:dZ,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},hZ=["value","aria-invalid"];function fZ(t,e,n,r,i,s){return q(),ee("textarea",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,hZ)}nN.render=fZ;/*!
 * Viewer.js v1.11.7
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-11-24T04:32:19.116Z
 */function pZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rN(r.key),r)}}function mZ(t,e,n){return e&&hS(t.prototype,e),n&&hS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gZ(t,e,n){return(e=rN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){gZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rN(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}var pS={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},yZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Cm=typeof window<"u"&&typeof window.document<"u",Rs=Cm?window:{},kl=Cm&&Rs.document.documentElement?"ontouchstart"in Rs.document.documentElement:!1,Db=Cm?"PointerEvent"in Rs:!1,ut="viewer",df="move",iN="switch",Zu="zoom",Wh="".concat(ut,"-active"),_Z="".concat(ut,"-close"),hf="".concat(ut,"-fade"),jy="".concat(ut,"-fixed"),bZ="".concat(ut,"-fullscreen"),mS="".concat(ut,"-fullscreen-exit"),qo="".concat(ut,"-hide"),wZ="".concat(ut,"-hide-md-down"),TZ="".concat(ut,"-hide-sm-down"),EZ="".concat(ut,"-hide-xs-down"),ii="".concat(ut,"-in"),Ac="".concat(ut,"-invisible"),Rl="".concat(ut,"-loading"),IZ="".concat(ut,"-move"),gS="".concat(ut,"-open"),Xa="".concat(ut,"-show"),vn="".concat(ut,"-transition"),tu="click",Hy="dblclick",vS="dragstart",yS="focusin",_S="keydown",ai="load",sa="error",SZ=kl?"touchend touchcancel":"mouseup",AZ=kl?"touchmove":"mousemove",CZ=kl?"touchstart":"mousedown",bS=Db?"pointerdown":CZ,wS=Db?"pointermove":AZ,TS=Db?"pointerup pointercancel":SZ,ES="resize",_i="transitionend",IS="wheel",SS="ready",AS="show",CS="shown",OS="hide",PS="hidden",kS="view",_d="viewed",RS="move",DS="moved",xS="rotate",NS="rotated",MS="scale",LS="scaled",VS="zoom",FS="zoomed",$S="play",US="stop",yp="".concat(ut,"Action"),xb=/\s\s*/,qh=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function bd(t){return typeof t=="string"}var OZ=Number.isNaN||Rs.isNaN;function hn(t){return typeof t=="number"&&!OZ(t)}function hl(t){return typeof t>"u"}function nu(t){return By(t)==="object"&&t!==null}var PZ=Object.prototype.hasOwnProperty;function fl(t){if(!nu(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&PZ.call(n,"isPrototypeOf")}catch{return!1}}function qt(t){return typeof t=="function"}function Jt(t,e){if(t&&qt(e))if(Array.isArray(t)||hn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else nu(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Jr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return nu(e)&&r.length>0&&r.forEach(function(s){nu(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},kZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Si(t,e){var n=t.style;Jt(e,function(r,i){kZ.test(i)&&hn(r)&&(r+="px"),n[i]=r})}function RZ(t){return bd(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function sl(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function nt(t,e){if(!(!t||!e)){if(hn(t.length)){Jt(t,function(r){nt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Pt(t,e){if(!(!t||!e)){if(hn(t.length)){Jt(t,function(n){Pt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function wd(t,e,n){if(e){if(hn(t.length)){Jt(t,function(r){wd(r,e,n)});return}n?nt(t,e):Pt(t,e)}}var DZ=/([a-z\d])([A-Z])/g;function Nb(t){return t.replace(DZ,"$1-$2").toLowerCase()}function pl(t,e){return nu(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Nb(e)))}function Wy(t,e,n){nu(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Nb(e)),n)}var sN=function(){var t=!1;if(Cm){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});Rs.addEventListener("test",n,r),Rs.removeEventListener("test",n,r)}return t}();function Kt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(xb).forEach(function(s){if(!sN){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function it(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(xb).forEach(function(s){if(r.once&&!sN){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function bn(t,e,n,r){var i;return qt(Event)&&qt(CustomEvent)?i=new CustomEvent(e,Rb({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function xZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function ff(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];hn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),hn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),hn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),hn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),hn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function NZ(t){return bd(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var ev=Rs.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(Rs.navigator.userAgent);function oN(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!ev)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),ev||i.removeChild(r)},Jt(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,ev||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function zh(t){switch(t){case 2:return EZ;case 3:return TZ;case 4:return wZ;default:return""}}function MZ(t){var e=Rb({},t),n=[];return Jt(t,function(r,i){delete e[i],Jt(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Kh(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:Rb({timeStamp:Date.now(),startX:n,startY:r},i)}function LZ(t){var e=0,n=0,r=0;return Jt(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var VZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Jr({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Si(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",Jt(this.images,function(o,a){var l=o.src,u=o.alt||NZ(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");Jt(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,Jt(s,function(o){var a=o.firstElementChild,l,u;Wy(a,"filled",!0),r.loading&&nt(o,Rl),it(a,ai,l=function(h){Kt(a,sa,u),r.loading&&Pt(o,Rl),e.loadImage(h)},{once:!0}),it(a,sa,u=function(){Kt(a,ai,l),r.loading&&Pt(o,Rl)},{once:!0})}),r.transition&&it(n,_d,function(){nt(i,vn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Si(this.list,Jr({width:o*this.length-i},ff({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Pt(e,vn),Si(e,ff({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=oN(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),w=a,E=l;n.imageInitializing=!1,l*p>a?E=a/p:w=l*p,g=hn(g)?g:.9,w=Math.min(w*g,h),E=Math.min(E*g,f);var R=(a-w)/2,P=(l-E)/2,T={left:R,top:P,x:R,y:P,width:w,height:E,oldRatio:1,ratio:w/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},y=Jr({},T);r.rotatable&&(T.rotate=u.rotate||0,y.rotate=0),r.scalable&&(T.scaleX=u.scaleX||1,T.scaleY=u.scaleY||1,y.scaleX=1,y.scaleY=1),n.imageData=T,n.initialImageData=y,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Si(r,Jr({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},ff(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&sl(r,vn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){Kt(r,_i,s)}},it(r,_i,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},FZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;it(n,tu,this.onClick=this.click.bind(this)),it(n,vS,this.onDragStart=this.dragstart.bind(this)),it(r,bS,this.onPointerDown=this.pointerdown.bind(this)),it(i,wS,this.onPointerMove=this.pointermove.bind(this)),it(i,TS,this.onPointerUp=this.pointerup.bind(this)),it(i,_S,this.onKeyDown=this.keydown.bind(this)),it(window,ES,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,IS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&it(r,Hy,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;Kt(n,tu,this.onClick),Kt(n,vS,this.onDragStart),Kt(r,bS,this.onPointerDown),Kt(i,wS,this.onPointerMove),Kt(i,TS,this.onPointerUp),Kt(i,_S,this.onKeyDown),Kt(window,ES,this.onResize),e.zoomable&&e.zoomOnWheel&&Kt(n,IS,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&Kt(r,Hy,this.onDblclick)}},$Z={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=pl(i,yp);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=pl(i,yp)),kl&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(pl(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(kl&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Pt(i,Ac),r.loading&&Pt(this.canvas,Rl),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){wd(i,IZ,r.movable),wd(i,vn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,qt(r.viewed)&&it(n,_d,r.viewed,{once:!0}),bn(n,_d,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!pl(n,"filled");oN(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,Si(n,Jr({width:c,height:h},ff({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(hn(i)&&i!==1||hn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Jt(e.changedTouches,function(a){r[a.identifier]=Kh(a)}):r[e.pointerId||0]=Kh(e);var o=n.movable?df:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=Zu:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=iN),n.transition&&(o===df||o===Zu)&&Pt(this.image,vn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?Jt(e.changedTouches,function(i){Jr(n[i.identifier]||{},Kh(i,!0))}):Jr(n[e.pointerId||0]||{},Kh(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?Jt(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===df||i===Zu)&&nt(this.image,vn),this.action=!1,kl&&i!==Zu&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){bn(n.image,Hy,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){bn(n.canvas,tu,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Jt(this.player.getElementsByTagName("img"),function(n){it(n,ai,e.loadImage.bind(e),{once:!0}),bn(n,ai)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},UZ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(qt(r.show)&&it(n,AS,r.show,{once:!0}),bn(n,AS)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Pt(i,qo),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){Kt(i,_i,s),Pt(i,ii)}},nt(i,vn),i.initialOffsetWidth=i.offsetWidth,it(i,_i,s,{once:!0}),nt(i,ii)}else nt(i,ii),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(qt(i.hide)&&it(r,OS,i.hide,{once:!0}),bn(r,OS)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Pt(s,ii),e.hidden()};if(i.transition&&!n){var l=function(h){h&&h.target===s&&(Kt(s,_i,l),e.hidden())},u=function(){sl(s,vn)?(it(s,_i,l),Pt(s,ii)):a()};this.transitioning={abort:function(){e.viewed&&sl(o,vn)?Kt(o,_i,u):sl(s,vn)&&Kt(s,_i,l)}},this.viewed&&sl(o,vn)?(it(o,_i,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=pl(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(Jt(i.inheritedAttributes,function(E){var R=l.getAttribute(E);R!==null&&h.setAttribute(E,R)}),h.src=u,h.alt=c,qt(i.view)&&it(r,kS,i.view,{once:!0}),bn(r,kS,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Pt(f,Wh),f.removeAttribute("aria-selected")),nt(a,Wh),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},nt(h,Ac),i.loading&&nt(o,Rl),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var R=e.imageData,P=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=RZ(qt(P)?P.call(e,h,R):"".concat(c," (").concat(R.naturalWidth," × ").concat(R.naturalHeight,")"))},g,w;return it(r,_d,p,{once:!0}),this.viewing={abort:function(){Kt(r,_d,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",Kt(h,ai,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(it(h,ai,g=function(){Kt(h,sa,w),e.load()},{once:!0}),it(h,sa,w=function(){Kt(h,ai,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Pt(h,Ac),i.loading&&Pt(e.canvas,Rl)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Pt(h,Ac),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(hl(e)?e:r.x+Number(e),hl(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(hn(e)?c=!0:e=l,hn(r)?c=!0:r=u,c){if(qt(o.move)&&it(s,RS,o.move,{once:!0}),bn(s,RS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,qt(o.moved)&&it(s,DS,o.moved,{once:!0}),bn(s,DS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),hn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(qt(i.rotate)&&it(r,xS,i.rotate,{once:!0}),bn(r,xS,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,qt(i.rotated)&&it(r,NS,i.rotated,{once:!0}),bn(r,NS,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(hn(e)?u=!0:e=a,hn(r)?u=!0:r=l,u){if(qt(s.scale)&&it(i,MS,s.scale,{once:!0}),bn(i,MS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,qt(s.scaled)&&it(i,LS,s.scaled,{once:!0}),bn(i,LS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,w=c.naturalWidth,E=c.naturalHeight;if(e=Math.max(0,e),hn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var R=Math.max(.01,l.minZoomRatio),P=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,R),P)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var T=w*e,y=E*e,M=T-p,L=y-g,S=c.ratio;if(qt(l.zoom)&&it(a,VS,l.zoom,{once:!0}),bn(a,VS,{ratio:e,oldRatio:S,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var I=xZ(this.viewer),b=u&&Object.keys(u).length>0?LZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=M*((b.pageX-I.left-h)/p),c.y-=L*((b.pageY-I.top-f)/g)}else fl(i)&&hn(i.x)&&hn(i.y)?(c.x-=M*((i.x-h)/p),c.y-=L*((i.y-f)/g)):(c.x-=M/2,c.y-=L/2);c.left=c.x,c.top=c.y,c.width=T,c.height=y,c.oldRatio=S,c.ratio=e,this.renderImage(function(){n.zooming=!1,qt(l.zoomed)&&it(a,FS,l.zoomed,{once:!0}),bn(a,FS,{ratio:e,oldRatio:S,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(qt(i.play)&&it(r,$S,i.play,{once:!0}),bn(r,$S)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),nt(s,Xa),Jt(this.items,function(f,p){var g=f.querySelector("img"),w=document.createElement("img");w.src=pl(g,"originalUrl"),w.alt=g.getAttribute("alt"),w.referrerPolicy=g.referrerPolicy,l+=1,nt(w,hf),wd(w,vn,i.transition),sl(f,Wh)&&(nt(w,ii),u=p),a.push(w),it(w,ai,o,{once:!0}),s.appendChild(w)}),hn(i.interval)&&i.interval>0){var c=function(){clearTimeout(e.playing.timeout),Pt(a[u],ii),u-=1,u=u>=0?u:l-1,nt(a[u],ii),e.playing.timeout=setTimeout(c,i.interval)},h=function(){clearTimeout(e.playing.timeout),Pt(a[u],ii),u+=1,u=u<l?u:0,nt(a[u],ii),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(qt(r.stop)&&it(n,US,r.stop,{once:!0}),bn(n,US)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Jt(i.getElementsByTagName("img"),function(s){Kt(s,ai,e.onLoadWhenPlay)}),Pt(i,Xa),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),nt(this.button,mS),n.transition&&(Pt(s,vn),this.viewed&&Pt(i,vn)),nt(r,jy),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Si(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Jr({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,vn),nt(s,vn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Pt(this.button,mS),n.transition&&(Pt(s,vn),this.viewed&&Pt(i,vn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Pt(r,jy),Si(r,{zIndex:n.zIndexInline}),this.viewerData=Jr({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,vn),nt(s,vn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&bn(r,_i),nt(r,Xa),nt(r,hf),nt(r,vn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,nt(r,ii)):(nt(r,Xa),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(it(r,_i,function(){Pt(r,Xa),Pt(r,hf),Pt(r,vn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Pt(r,ii),e.fading=!0):(Pt(r,Xa),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Jr({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(Jt(i?[n]:n.querySelectorAll("img"),function(u){qt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Jt(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),Si(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];nt(l,Wh),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[ut]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||Kt(e,tu,this.onStart),e[ut]=void 0,this):this}},BZ={getImageURL:function(e){var n=this.options.url;return bd(n)?n=e.getAttribute(n):qt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),it(document,yS,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(Kt(document,yS,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;nt(e,gS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Pt(e,gS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),qt(n.shown)&&it(e,CS,n.shown,{once:!0}),bn(e,CS)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),nt(r,qo),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(qt(n.hidden)&&it(e,PS,n.hidden,{once:!0}),bn(e,PS,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?fl(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case df:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case Zu:this.zoom(MZ(r),!1,null,e);break;case iN:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}Jt(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},jZ=Rs.Viewer,HZ=function(t){return function(){return t+=1,t}}(-1),ru=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(pZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Jr({},pS,fl(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=HZ(),this.init()}return mZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[ut]){r[ut]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(Jt(s?[r]:r.querySelectorAll("img"),function(u){qt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),hl(document.createElement(ut).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){Jt(o,function(c){c.complete||(Kt(c,ai,l),Kt(c,sa,l))})}},Jt(o,function(u){if(u.complete)l();else{var c,h;it(u,ai,c=function(){Kt(u,sa,h),l()},{once:!0}),it(u,sa,h=function(){Kt(u,ai,c),l()},{once:!0})}})}else it(r,tu,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!qt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=yZ;var o=s.querySelector(".".concat(ut,"-container")),a=o.querySelector(".".concat(ut,"-title")),l=o.querySelector(".".concat(ut,"-toolbar")),u=o.querySelector(".".concat(ut,"-navbar")),c=o.querySelector(".".concat(ut,"-button")),h=o.querySelector(".".concat(ut,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(ut,"-footer")),this.tooltipBox=o.querySelector(".".concat(ut,"-tooltip")),this.player=o.querySelector(".".concat(ut,"-player")),this.list=o.querySelector(".".concat(ut,"-list")),o.id="".concat(ut).concat(this.id),a.id="".concat(ut,"Title").concat(this.id),nt(a,r.title?zh(Array.isArray(r.title)?r.title[0]:r.title):qo),nt(u,r.navbar?zh(r.navbar):qo),wd(c,qo,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(nt(o,"".concat(ut,"-backdrop")),!r.inline&&r.backdrop!=="static"&&Wy(h,yp,"hide")),bd(r.className)&&r.className&&r.className.split(xb).forEach(function(T){nt(o,T)}),r.toolbar){var f=document.createElement("ul"),p=fl(r.toolbar),g=qh.slice(0,3),w=qh.slice(7,9),E=qh.slice(9);p||nt(l,zh(r.toolbar)),Jt(p?r.toolbar:qh,function(T,y){var M=p&&fl(T),L=p?Nb(y):T,S=M&&!hl(T.show)?T.show:T;if(!(!S||!r.zoomable&&g.indexOf(L)!==-1||!r.rotatable&&w.indexOf(L)!==-1||!r.scalable&&E.indexOf(L)!==-1)){var I=M&&!hl(T.size)?T.size:T,b=M&&!hl(T.click)?T.click:T,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),nt(v,"".concat(ut,"-").concat(L)),qt(b)||Wy(v,yp,L),hn(S)&&nt(v,zh(S)),["small","large"].indexOf(I)!==-1?nt(v,"".concat(ut,"-").concat(I)):L==="play"&&nt(v,"".concat(ut,"-large")),qt(b)&&it(v,tu,b),f.appendChild(v)}}),l.appendChild(f)}else nt(l,qo);if(!r.rotatable){var R=l.querySelectorAll('li[class*="rotate"]');nt(R,Ac),Jt(R,function(T){l.appendChild(T)})}if(r.inline)nt(c,bZ),Si(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Si(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{nt(c,_Z),nt(o,jy),nt(o,hf),nt(o,qo),Si(o,{zIndex:r.zIndex});var P=r.container;bd(P)&&(P=n.ownerDocument.querySelector(P)),P||(P=this.body),P.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,qt(r.ready)&&it(n,SS,r.ready,{once:!0}),bn(n,SS)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=jZ,t}},{key:"setDefaults",value:function(n){Jr(pS,fl(n)&&n)}}])}();Jr(ru.prototype,VZ,FZ,$Z,UZ,BZ);var WZ=typeof global=="object"&&global&&global.Object===Object&&global;const aN=WZ;var qZ=typeof self=="object"&&self&&self.Object===Object&&self,zZ=aN||qZ||Function("return this")();const Om=zZ;var KZ=Om.Symbol;const _p=KZ;var lN=Object.prototype,GZ=lN.hasOwnProperty,YZ=lN.toString,Wu=_p?_p.toStringTag:void 0;function QZ(t){var e=GZ.call(t,Wu),n=t[Wu];try{t[Wu]=void 0;var r=!0}catch{}var i=YZ.call(t);return r&&(e?t[Wu]=n:delete t[Wu]),i}var XZ=Object.prototype,JZ=XZ.toString;function ZZ(t){return JZ.call(t)}var eee="[object Null]",tee="[object Undefined]",BS=_p?_p.toStringTag:void 0;function Pm(t){return t==null?t===void 0?tee:eee:BS&&BS in Object(t)?QZ(t):ZZ(t)}function km(t){return t!=null&&typeof t=="object"}var nee="[object Symbol]";function ree(t){return typeof t=="symbol"||km(t)&&Pm(t)==nee}var iee=Array.isArray;const see=iee;var oee=/\s/;function aee(t){for(var e=t.length;e--&&oee.test(t.charAt(e)););return e}var lee=/^\s+/;function uee(t){return t&&t.slice(0,aee(t)+1).replace(lee,"")}function Ia(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jS=NaN,cee=/^[-+]0x[0-9a-f]+$/i,dee=/^0b[01]+$/i,hee=/^0o[0-7]+$/i,fee=parseInt;function HS(t){if(typeof t=="number")return t;if(ree(t))return jS;if(Ia(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ia(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=uee(t);var n=dee.test(t);return n||hee.test(t)?fee(t.slice(2),n?2:8):cee.test(t)?jS:+t}function uN(t){return t}var pee="[object AsyncFunction]",mee="[object Function]",gee="[object GeneratorFunction]",vee="[object Proxy]";function cN(t){if(!Ia(t))return!1;var e=Pm(t);return e==mee||e==gee||e==pee||e==vee}var yee=Om["__core-js_shared__"];const tv=yee;var WS=function(){var t=/[^.]+$/.exec(tv&&tv.keys&&tv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _ee(t){return!!WS&&WS in t}var bee=Function.prototype,wee=bee.toString;function Tee(t){if(t!=null){try{return wee.call(t)}catch{}try{return t+""}catch{}}return""}var Eee=/[\\^$.*+?()[\]{}|]/g,Iee=/^\[object .+?Constructor\]$/,See=Function.prototype,Aee=Object.prototype,Cee=See.toString,Oee=Aee.hasOwnProperty,Pee=RegExp("^"+Cee.call(Oee).replace(Eee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kee(t){if(!Ia(t)||_ee(t))return!1;var e=cN(t)?Pee:Iee;return e.test(Tee(t))}function Ree(t,e){return t==null?void 0:t[e]}function Dee(t,e){var n=Ree(t,e);return kee(n)?n:void 0}function xee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Nee=800,Mee=16,Lee=Date.now;function Vee(t){var e=0,n=0;return function(){var r=Lee(),i=Mee-(r-n);if(n=r,i>0){if(++e>=Nee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Fee(t){return function(){return t}}var $ee=function(){try{var t=Dee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const bp=$ee;var Uee=bp?function(t,e){return bp(t,"toString",{configurable:!0,enumerable:!1,value:Fee(e),writable:!0})}:uN;const Bee=Uee;var jee=Vee(Bee);const Hee=jee;var Wee=9007199254740991,qee=/^(?:0|[1-9]\d*)$/;function dN(t,e){var n=typeof t;return e=e??Wee,!!e&&(n=="number"||n!="symbol"&&qee.test(t))&&t>-1&&t%1==0&&t<e}function hN(t,e,n){e=="__proto__"&&bp?bp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Mb(t,e){return t===e||t!==t&&e!==e}var zee=Object.prototype,Kee=zee.hasOwnProperty;function fN(t,e,n){var r=t[e];(!(Kee.call(t,e)&&Mb(r,n))||n===void 0&&!(e in t))&&hN(t,e,n)}function Gee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?hN(n,a,l):fN(n,a,l)}return n}var qS=Math.max;function Yee(t,e,n){return e=qS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=qS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),xee(t,this,a)}}function pN(t,e){return Hee(Yee(t,e,uN),t+"")}var Qee=9007199254740991;function mN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Qee}function Rm(t){return t!=null&&mN(t.length)&&!cN(t)}function gN(t,e,n){if(!Ia(n))return!1;var r=typeof e;return(r=="number"?Rm(n)&&dN(e,n.length):r=="string"&&e in n)?Mb(n[e],t):!1}function Xee(t){return pN(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&gN(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Jee=Object.prototype;function Lb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Jee;return t===n}function Zee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ete="[object Arguments]";function zS(t){return km(t)&&Pm(t)==ete}var vN=Object.prototype,tte=vN.hasOwnProperty,nte=vN.propertyIsEnumerable,rte=zS(function(){return arguments}())?zS:function(t){return km(t)&&tte.call(t,"callee")&&!nte.call(t,"callee")};const ite=rte;function ste(){return!1}var yN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KS=yN&&typeof module=="object"&&module&&!module.nodeType&&module,ote=KS&&KS.exports===yN,GS=ote?Om.Buffer:void 0,ate=GS?GS.isBuffer:void 0,lte=ate||ste;const ute=lte;var cte="[object Arguments]",dte="[object Array]",hte="[object Boolean]",fte="[object Date]",pte="[object Error]",mte="[object Function]",gte="[object Map]",vte="[object Number]",yte="[object Object]",_te="[object RegExp]",bte="[object Set]",wte="[object String]",Tte="[object WeakMap]",Ete="[object ArrayBuffer]",Ite="[object DataView]",Ste="[object Float32Array]",Ate="[object Float64Array]",Cte="[object Int8Array]",Ote="[object Int16Array]",Pte="[object Int32Array]",kte="[object Uint8Array]",Rte="[object Uint8ClampedArray]",Dte="[object Uint16Array]",xte="[object Uint32Array]",rn={};rn[Ste]=rn[Ate]=rn[Cte]=rn[Ote]=rn[Pte]=rn[kte]=rn[Rte]=rn[Dte]=rn[xte]=!0;rn[cte]=rn[dte]=rn[Ete]=rn[hte]=rn[Ite]=rn[fte]=rn[pte]=rn[mte]=rn[gte]=rn[vte]=rn[yte]=rn[_te]=rn[bte]=rn[wte]=rn[Tte]=!1;function Nte(t){return km(t)&&mN(t.length)&&!!rn[Pm(t)]}function Mte(t){return function(e){return t(e)}}var _N=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cc=_N&&typeof module=="object"&&module&&!module.nodeType&&module,Lte=Cc&&Cc.exports===_N,nv=Lte&&aN.process,Vte=function(){try{var t=Cc&&Cc.require&&Cc.require("util").types;return t||nv&&nv.binding&&nv.binding("util")}catch{}}();const YS=Vte;var QS=YS&&YS.isTypedArray,Fte=QS?Mte(QS):Nte;const $te=Fte;var Ute=Object.prototype,Bte=Ute.hasOwnProperty;function bN(t,e){var n=see(t),r=!n&&ite(t),i=!n&&!r&&ute(t),s=!n&&!r&&!i&&$te(t),o=n||r||i||s,a=o?Zee(t.length,String):[],l=a.length;for(var u in t)(e||Bte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dN(u,l)))&&a.push(u);return a}function jte(t,e){return function(n){return t(e(n))}}var Hte=jte(Object.keys,Object);const Wte=Hte;var qte=Object.prototype,zte=qte.hasOwnProperty;function Kte(t){if(!Lb(t))return Wte(t);var e=[];for(var n in Object(t))zte.call(t,n)&&n!="constructor"&&e.push(n);return e}function Gte(t){return Rm(t)?bN(t):Kte(t)}var Yte=Object.prototype,Qte=Yte.hasOwnProperty,Xte=Xee(function(t,e){if(Lb(e)||Rm(e)){Gee(e,Gte(e),t);return}for(var n in e)Qte.call(e,n)&&fN(t,n,e[n])});const Jte=Xte;function Zte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ene=Object.prototype,tne=ene.hasOwnProperty;function nne(t){if(!Ia(t))return Zte(t);var e=Lb(t),n=[];for(var r in t)r=="constructor"&&(e||!tne.call(t,r))||n.push(r);return n}function rne(t){return Rm(t)?bN(t,!0):nne(t)}var ine=function(){return Om.Date.now()};const rv=ine;var sne="Expected a function",one=Math.max,ane=Math.min;function lne(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(sne);e=HS(e)||0,Ia(n)&&(c=!!n.leading,h="maxWait"in n,s=h?one(HS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(L){var S=r,I=i;return r=i=void 0,u=L,o=t.apply(I,S),o}function g(L){return u=L,a=setTimeout(R,e),c?p(L):o}function w(L){var S=L-l,I=L-u,b=e-S;return h?ane(b,s-I):b}function E(L){var S=L-l,I=L-u;return l===void 0||S>=e||S<0||h&&I>=s}function R(){var L=rv();if(E(L))return P(L);a=setTimeout(R,w(L))}function P(L){return a=void 0,f&&r?p(L):(r=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function y(){return a===void 0?o:P(rv())}function M(){var L=rv(),S=E(L);if(r=arguments,i=this,l=L,S){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(R,e),p(l)}return a===void 0&&(a=setTimeout(R,e)),o}return M.cancel=T,M.flush=y,M}var wN=Object.prototype,une=wN.hasOwnProperty,cne=pN(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&gN(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=rne(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||Mb(c,wN[u])&&!une.call(t,u))&&(t[u]=s[u])}return t});const dne=cne,hne=({images:t=[],options:e})=>{e=Jte(e,{inline:!1});const n=document.createElement("div"),r=xl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>xl("img",typeof a=="string"?{src:a}:a)));Vc(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new ru(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Vc(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},fne=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await Wn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new ru(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const w=new g(R=>{R.forEach(P=>{u(`Viewer mutation:${P.type}`),f(c,h,p,!0)})}),E={attributes:!0,childList:!0,characterData:!0,subtree:!0};w.observe(c,E),c.__viewerMutationObserver=w,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=Sn(()=>h.value,(g,w)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=lne(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},pne=Yt({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=ce();function i(){n=new ru(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return Sn(()=>t.images,()=>{Wn(()=>{l()})},u),Sn(()=>t.trigger,()=>{Wn(()=>{l()})},u),Sn(()=>t.options,()=>{Wn(()=>{o()})},u),_n(()=>i()),Aa(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),mne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},gne={ref:"root"};function vne(t,e,n,r,i,s){return q(),ee("div",gne,[_e(t.$slots,"default",{images:t.images,options:t.options})],512)}const yne=mne(pne,[["render",vne]]),_ne={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&ru.setDefaults(r),t.config.globalProperties[`$${e}Api`]=hne,t.component(e,dne(yne,{name:e})),t.directive(e,fne({name:e,debug:n}))},setDefaults(t){ru.setDefaults(t)}},gi=Iv(XV);gi.use(QD);gi.use(PW,{firebaseApp:BU,modules:[SW()]});gi.use(eP);gi.use($2);gi.use(_ne);gi.use(BQ);gi.component("VueDatePicker",Eb);gi.component("PrimeInputText",Xx);gi.component("PrimeTextArea",nN);gi.component("PrimeDropdown",Qx);gi.component("PrimeMultiSelect",tN);gi.mount("#app");export{GD as $,BD as A,mi as B,Mre as C,Qe as D,tt as E,Bk as F,xn as G,ht as H,ji as I,QD as J,lq as K,De as L,Sn as M,Lre as N,Ft as O,xe as P,Tn as Q,zt as R,er as S,jre as T,Hre as U,at as V,Yre as W,Vre as X,UW as Y,Zre as Z,Fn as _,Dr as a,hre as a$,tie as a0,eie as a1,Bre as a2,$o as a3,Kr as a4,GC as a5,ore as a6,Gr as a7,Kd as a8,wc as a9,Xre as aA,VW as aB,xre as aC,MW as aD,NW as aE,xW as aF,wy as aG,iI as aH,Dre as aI,Fa as aJ,vp as aK,Ab as aL,Kx as aM,Oo as aN,DW as aO,RW as aP,Gre as aQ,Kre as aR,Wre as aS,zD as aT,qD as aU,qM as aV,MA as aW,Dn as aX,yre as aY,nA as aZ,kne as a_,aI as aa,tre as ab,Lt as ac,ln as ad,kr as ae,Wn as af,Nre as ag,iL as ah,lt as ai,z9 as aj,h0 as ak,rB as al,Aa as am,tr as an,Xo as ao,oc as ap,Ure as aq,Zx as ar,zr as as,yne as at,Sne as au,kW as av,Mne as aw,qre as ax,Qre as ay,Jre as az,bc as b,nL as b$,Bne as b0,gf as b1,wl as b2,ire as b3,DA as b4,Zo as b5,Ane as b6,E2 as b7,Cne as b8,g_ as b9,Qy as bA,One as bB,i_ as bC,xl as bD,su as bE,yL as bF,Ere as bG,Lne as bH,$ne as bI,Fne as bJ,Vne as bK,ure as bL,Ire as bM,Rr as bN,YL as bO,t_ as bP,Qi as bQ,oa as bR,lre as bS,ci as bT,yo as bU,n_ as bV,Xne as bW,Jne as bX,tL as bY,l_ as bZ,o_ as b_,Pne as ba,xi as bb,Ed as bc,yr as bd,Ip as be,Ss as bf,vre as bg,Iv as bh,AL as bi,Zne as bj,SL as bk,M2 as bl,kM as bm,Une as bn,y2 as bo,Wne as bp,qne as bq,Gne as br,zne as bs,Hne as bt,bre as bu,Kne as bv,fre as bw,wne as bx,Yy as by,ti as bz,le as c,Oi as c$,lL as c0,aL as c1,oL as c2,rA as c3,sL as c4,a_ as c5,LM as c6,Dne as c7,ic as c8,TA as c9,_re as cA,b2 as cB,Nne as cC,rre as cD,PL as cE,wre as cF,Ca as cG,NA as cH,SC as cI,k2 as cJ,AC as cK,P2 as cL,Ev as cM,QL as cN,dre as cO,nre as cP,kL as cQ,ere as cR,Yne as cS,cre as cT,xne as cU,zre as cV,zd as cW,Jn as cX,fn as cY,si as cZ,Yo as c_,Rne as ca,bf as cb,e_ as cc,are as cd,Vc as ce,BA as cf,gre as cg,xc as ch,qw as ci,pre as cj,vo as ck,_A as cl,Ene as cm,bA as cn,OL as co,mre as cp,Tne as cq,Gh as cr,jne as cs,mt as ct,kc as cu,RM as cv,sre as cw,Ine as cx,Qne as cy,Tre as cz,Oa as d,ho as d0,$re as d1,Fre as d2,YD as d3,we as d4,Am as d5,Yt as e,Sre as f,tb as g,td as h,UD as i,tE as j,Y as k,q as l,ee as m,Je as n,_n as o,Ae as p,qe as q,ce as r,bo as s,he as t,Are as u,S5 as v,Me as w,Va as x,pe as y,_e as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/c-Blog--SMQcVcy.js","./assets/c-SwitchField.vue_vue_type_script_setup_true_lang-BXzLNpSe.js","./assets/c-CustomButton.vue_vue_type_script_setup_true_lang-CN-qhlp8.js","./assets/c-Page.vue_vue_type_script_setup_true_lang-CLA7q8HE.js","./assets/c-BlogPost.vue_vue_type_script_setup_true_lang-BILeb1S7.js","./assets/c-Bubble.vue_vue_type_script_setup_true_lang-CCDu7Wsi.js","./assets/c-Countdown.vue_vue_type_script_setup_true_lang-D8UWVoll.js","./bundle12.css","./assets/c-TextField.vue_vue_type_script_setup_true_lang-CvBTNZs9.js","./assets/c-validation-DokkLKHB.js","./assets/c-accordiontab.esm-CrO3SYCY.js","./assets/c-Image.vue_vue_type_script_setup_true_lang-C686aeKX.js","./bundle10.css","./assets/c-DateField-DIkLlrgD.js","./assets/c-_plugin-vue_export-helper-DlAUqK2U.js","./bundle13.css","./assets/c-FileUpload.vue_vue_type_script_setup_true_lang-C4Mtedp9.js","./assets/c-vuedraggable.umd-6GGnRdAM.js","./assets/c-SelectField.vue_vue_type_script_setup_true_lang-DIKuGEia.js","./assets/c-Tools-BvhEdcru.js","./assets/c-CatCalc-CxlIG1b2.js","./assets/c-useCatCalc-6gobbMX9.js","./assets/c-OnThisDay-BeOaXkPT.js","./assets/c-CustomVoting-D-0f7t1G.js","./bundle9.css","./assets/c-Dashboard-DaigEPUg.js","./assets/c-PasswordField.vue_vue_type_script_setup_true_lang-DfMQ-VCA.js","./assets/c-Home-CMeJ-8ME.js","./assets/c-Hangman-B4yVhf8k.js","./assets/c-Spades-CRNFPKDk.js","./assets/c-Worm-JshW0EFQ.js","./assets/c-Dice6.vue_vue_type_script_setup_true_lang-CyLZpKXP.js","./assets/c-Login-b4mVDwHP.js","./assets/c-NotFound-C7Sj0Qe2.js","./assets/c-Pet-DSMPhUTr.js","./assets/c-PetDialog.vue_vue_type_script_setup_true_lang-Bpq4tb1I.js","./bundle11.css","./assets/c-Pets-DCrxIZfi.js","./assets/c-User-APSLISnv.js","./bundle14.css","./assets/c-Users-B-w59XSe.js","./assets/c-Register-DZvseA9r.js","./assets/c-Games-Dg3CJZvU.js","./assets/c-UsersBar.vue_vue_type_script_setup_true_lang-C833u-Qq.js","./assets/c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-R3Qm2BE2.js","./assets/c-Yahtzee-CKvDPHwz.js","./assets/c-useScoreInfo-pN0u6gtu.js","./bundle17.css","./bundle15.css","./assets/c-Rainworms-pi7s4RYH.js","./assets/c-Patience-CRxZRutV.js","./bundle16.css","./assets/c-Guess-D6h6UM5N.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
