var KN=Object.defineProperty;var GN=(t,e,n)=>e in t?KN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var as=(t,e,n)=>(GN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const gt={},pl=[],li=()=>{},YN=()=>!1,Ed=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ky=t=>t.startsWith("onUpdate:"),Kt=Object.assign,Gy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},QN=Object.prototype.hasOwnProperty,kt=(t,e)=>QN.call(t,e),$e=Array.isArray,ml=t=>iu(t)==="[object Map]",Ea=t=>iu(t)==="[object Set]",kw=t=>iu(t)==="[object Date]",XN=t=>iu(t)==="[object RegExp]",Ze=t=>typeof t=="function",Jt=t=>typeof t=="string",Ri=t=>typeof t=="symbol",Ht=t=>t!==null&&typeof t=="object",Yy=t=>(Ht(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),nA=Object.prototype.toString,iu=t=>nA.call(t),JN=t=>iu(t).slice(8,-1),_p=t=>iu(t)==="[object Object]",Qy=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gl=yp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ZN=/-(\w)/g,yr=bp(t=>t.replace(ZN,(e,n)=>n?n.toUpperCase():"")),eM=/\B([A-Z])/g,Vr=bp(t=>t.replace(eM,"-$1").toLowerCase()),wp=bp(t=>t.charAt(0).toUpperCase()+t.slice(1)),qh=bp(t=>t?`on${wp(t)}`:""),Cr=(t,e)=>!Object.is(t,e),vl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},rA=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},df=t=>{const e=parseFloat(t);return isNaN(e)?t:e},hf=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let Rw;const Tp=()=>Rw||(Rw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),tM="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",nM=yp(tM);function kr(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Jt(r)?oM(r):kr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Jt(t)||Ht(t))return t}const rM=/;(?![^(]*\))/g,iM=/:([^]+)/,sM=/\/\*[^]*?\*\//g;function oM(t){const e={};return t.replace(sM,"").split(rM).forEach(n=>{if(n){const r=n.split(iM);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tt(t){let e="";if(Jt(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=tt(t[n]);r&&(e+=r+" ")}else if(Ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function wn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Jt(e)&&(t.class=tt(e)),n&&(t.style=kr(n)),t}const aM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lM=yp(aM);function iA(t){return!!t||t===""}function uM(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=po(t[r],e[r]);return n}function po(t,e){if(t===e)return!0;let n=kw(t),r=kw(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ri(t),r=Ri(e),n||r)return t===e;if(n=$e(t),r=$e(e),n||r)return n&&r?uM(t,e):!1;if(n=Ht(t),r=Ht(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!po(t[o],e[o]))return!1}}return String(t)===String(e)}function Ep(t,e){return t.findIndex(n=>po(n,e))}const sA=t=>!!(t&&t.__v_isRef===!0),ht=t=>Jt(t)?t:t==null?"":$e(t)||Ht(t)&&(t.toString===nA||!Ze(t.toString))?sA(t)?ht(t.value):JSON.stringify(t,oA,2):String(t),oA=(t,e)=>sA(e)?oA(t,e.value):ml(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Wm(r,s)+" =>"]=i,n),{})}:Ea(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Wm(n))}:Ri(e)?Wm(e):Ht(e)&&!$e(e)&&!_p(e)?String(e):e,Wm=(t,e="")=>{var n;return Ri(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ar;class aA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ar,!e&&Ar&&(this.index=(Ar.scopes||(Ar.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ar;try{return Ar=this,e()}finally{Ar=n}}}on(){Ar=this}off(){Ar=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Xy(t){return new aA(t)}function Jy(){return Ar}function lA(t,e=!1){Ar&&Ar.cleanups.push(t)}let Yt;const qm=new WeakSet;class ff{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ar&&Ar.active&&Ar.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qm.has(this)&&(qm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||cA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Dw(this),dA(this);const e=Yt,n=Si;Yt=this,Si=!0;try{return this.fn()}finally{hA(this),Yt=e,Si=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)t_(e);this.deps=this.depsTail=void 0,Dw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){iv(this)&&this.run()}get dirty(){return iv(this)}}let uA=0,nc,rc;function cA(t,e=!1){if(t.flags|=8,e){t.next=rc,rc=t;return}t.next=nc,nc=t}function Zy(){uA++}function e_(){if(--uA>0)return;if(rc){let e=rc;for(rc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;nc;){let e=nc;for(nc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function dA(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function hA(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),t_(r),cM(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function iv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(fA(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function fA(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===kc))return;t.globalVersion=kc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!iv(t)){t.flags&=-3;return}const n=Yt,r=Si;Yt=t,Si=!0;try{dA(t);const i=t.fn(t._value);(e.version===0||Cr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Yt=n,Si=r,hA(t),t.flags&=-3}}function t_(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)t_(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function cM(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function _ne(t,e){t.effect instanceof ff&&(t=t.effect.fn);const n=new ff(t);e&&Kt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function bne(t){t.effect.stop()}let Si=!0;const pA=[];function So(){pA.push(Si),Si=!1}function Ao(){const t=pA.pop();Si=t===void 0?!0:t}function Dw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Yt;Yt=void 0;try{e()}finally{Yt=n}}}let kc=0;class dM{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ip{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Yt||!Si||Yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yt)n=this.activeLink=new dM(Yt,this),Yt.deps?(n.prevDep=Yt.depsTail,Yt.depsTail.nextDep=n,Yt.depsTail=n):Yt.deps=Yt.depsTail=n,mA(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Yt.depsTail,n.nextDep=void 0,Yt.depsTail.nextDep=n,Yt.depsTail=n,Yt.deps===n&&(Yt.deps=r)}return n}trigger(e){this.version++,kc++,this.notify(e)}notify(e){Zy();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{e_()}}}function mA(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)mA(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const pf=new WeakMap,Go=Symbol(""),sv=Symbol(""),Rc=Symbol("");function cr(t,e,n){if(Si&&Yt){let r=pf.get(t);r||pf.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ip),i.map=r,i.key=n),i.track()}}function hs(t,e,n,r,i,s){const o=pf.get(t);if(!o){kc++;return}const a=l=>{l&&l.trigger()};if(Zy(),e==="clear")o.forEach(a);else{const l=$e(t),u=l&&Qy(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Rc||!Ri(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Rc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Go)),ml(t)&&a(o.get(sv)));break;case"delete":l||(a(o.get(Go)),ml(t)&&a(o.get(sv)));break;case"set":ml(t)&&a(o.get(Go));break}}e_()}function hM(t,e){const n=pf.get(t);return n&&n.get(e)}function ja(t){const e=mt(t);return e===t?e:(cr(e,"iterate",Rc),ui(t)?e:e.map(dr))}function Sp(t){return cr(t=mt(t),"iterate",Rc),t}const fM={__proto__:null,[Symbol.iterator](){return zm(this,Symbol.iterator,dr)},concat(...t){return ja(this).concat(...t.map(e=>$e(e)?ja(e):e))},entries(){return zm(this,"entries",t=>(t[1]=dr(t[1]),t))},every(t,e){return ls(this,"every",t,e,void 0,arguments)},filter(t,e){return ls(this,"filter",t,e,n=>n.map(dr),arguments)},find(t,e){return ls(this,"find",t,e,dr,arguments)},findIndex(t,e){return ls(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ls(this,"findLast",t,e,dr,arguments)},findLastIndex(t,e){return ls(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ls(this,"forEach",t,e,void 0,arguments)},includes(...t){return Km(this,"includes",t)},indexOf(...t){return Km(this,"indexOf",t)},join(t){return ja(this).join(t)},lastIndexOf(...t){return Km(this,"lastIndexOf",t)},map(t,e){return ls(this,"map",t,e,void 0,arguments)},pop(){return ku(this,"pop")},push(...t){return ku(this,"push",t)},reduce(t,...e){return xw(this,"reduce",t,e)},reduceRight(t,...e){return xw(this,"reduceRight",t,e)},shift(){return ku(this,"shift")},some(t,e){return ls(this,"some",t,e,void 0,arguments)},splice(...t){return ku(this,"splice",t)},toReversed(){return ja(this).toReversed()},toSorted(t){return ja(this).toSorted(t)},toSpliced(...t){return ja(this).toSpliced(...t)},unshift(...t){return ku(this,"unshift",t)},values(){return zm(this,"values",dr)}};function zm(t,e,n){const r=Sp(t),i=r[e]();return r!==t&&!ui(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const pM=Array.prototype;function ls(t,e,n,r,i,s){const o=Sp(t),a=o!==t&&!ui(t),l=o[e];if(l!==pM[e]){const h=l.apply(t,s);return a?dr(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,dr(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function xw(t,e,n,r){const i=Sp(t);let s=n;return i!==t&&(ui(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,dr(a),l,t)}),i[e](s,...r)}function Km(t,e,n){const r=mt(t);cr(r,"iterate",Rc);const i=r[e](...n);return(i===-1||i===!1)&&r_(n[0])?(n[0]=mt(n[0]),r[e](...n)):i}function ku(t,e,n=[]){So(),Zy();const r=mt(t)[e].apply(t,n);return e_(),Ao(),r}const mM=yp("__proto__,__v_isRef,__isVue"),gA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ri));function gM(t){Ri(t)||(t=String(t));const e=mt(this);return cr(e,"has",t),e.hasOwnProperty(t)}class vA{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?EA:TA:s?wA:bA).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$e(e);if(!i){let l;if(o&&(l=fM[n]))return l;if(n==="hasOwnProperty")return gM}const a=Reflect.get(e,n,an(e)?e:r);return(Ri(n)?gA.has(n):mM(n))||(i||cr(e,"get",n),s)?a:an(a)?o&&Qy(n)?a:a.value:Ht(a)?i?n_(a):Dr(a):a}}class yA extends vA{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=ia(s);if(!ui(r)&&!ia(r)&&(s=mt(s),r=mt(r)),!$e(e)&&an(s)&&!an(r))return l?!1:(s.value=r,!0)}const o=$e(e)&&Qy(n)?Number(n)<e.length:kt(e,n),a=Reflect.set(e,n,r,an(e)?e:i);return e===mt(i)&&(o?Cr(r,s)&&hs(e,"set",n,r):hs(e,"add",n,r)),a}deleteProperty(e,n){const r=kt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&hs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Ri(n)||!gA.has(n))&&cr(e,"has",n),r}ownKeys(e){return cr(e,"iterate",$e(e)?"length":Go),Reflect.ownKeys(e)}}class _A extends vA{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const vM=new yA,yM=new _A,_M=new yA(!0),bM=new _A(!0),ov=t=>t,hh=t=>Reflect.getPrototypeOf(t);function wM(t,e,n){return function(...r){const i=this.__v_raw,s=mt(i),o=ml(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?ov:e?av:dr;return!e&&cr(s,"iterate",l?sv:Go),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function fh(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function TM(t,e){const n={get(i){const s=this.__v_raw,o=mt(s),a=mt(i);t||(Cr(i,a)&&cr(o,"get",i),cr(o,"get",a));const{has:l}=hh(o),u=e?ov:t?av:dr;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&cr(mt(i),"iterate",Go),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=mt(s),a=mt(i);return t||(Cr(i,a)&&cr(o,"has",i),cr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=mt(a),u=e?ov:t?av:dr;return!t&&cr(l,"iterate",Go),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return Kt(n,t?{add:fh("add"),set:fh("set"),delete:fh("delete"),clear:fh("clear")}:{add(i){!e&&!ui(i)&&!ia(i)&&(i=mt(i));const s=mt(this);return hh(s).has.call(s,i)||(s.add(i),hs(s,"add",i,i)),this},set(i,s){!e&&!ui(s)&&!ia(s)&&(s=mt(s));const o=mt(this),{has:a,get:l}=hh(o);let u=a.call(o,i);u||(i=mt(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Cr(s,c)&&hs(o,"set",i,s):hs(o,"add",i,s),this},delete(i){const s=mt(this),{has:o,get:a}=hh(s);let l=o.call(s,i);l||(i=mt(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&hs(s,"delete",i,void 0),u},clear(){const i=mt(this),s=i.size!==0,o=i.clear();return s&&hs(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=wM(i,t,e)}),n}function Ap(t,e){const n=TM(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(kt(n,i)&&i in r?n:r,i,s)}const EM={get:Ap(!1,!1)},IM={get:Ap(!1,!0)},SM={get:Ap(!0,!1)},AM={get:Ap(!0,!0)},bA=new WeakMap,wA=new WeakMap,TA=new WeakMap,EA=new WeakMap;function CM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OM(t){return t.__v_skip||!Object.isExtensible(t)?0:CM(JN(t))}function Dr(t){return ia(t)?t:Cp(t,!1,vM,EM,bA)}function IA(t){return Cp(t,!1,_M,IM,wA)}function n_(t){return Cp(t,!0,yM,SM,TA)}function wne(t){return Cp(t,!0,bM,AM,EA)}function Cp(t,e,n,r,i){if(!Ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=OM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Gi(t){return ia(t)?Gi(t.__v_raw):!!(t&&t.__v_isReactive)}function ia(t){return!!(t&&t.__v_isReadonly)}function ui(t){return!!(t&&t.__v_isShallow)}function r_(t){return t?!!t.__v_raw:!1}function mt(t){const e=t&&t.__v_raw;return e?mt(e):t}function i_(t){return!kt(t,"__v_skip")&&Object.isExtensible(t)&&rA(t,"__v_skip",!0),t}const dr=t=>Ht(t)?Dr(t):t,av=t=>Ht(t)?n_(t):t;function an(t){return t?t.__v_isRef===!0:!1}function fe(t){return AA(t,!1)}function SA(t){return AA(t,!0)}function AA(t,e){return an(t)?t:new PM(t,e)}class PM{constructor(e,n){this.dep=new Ip,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:mt(e),this._value=n?e:dr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||ui(e)||ia(e);e=r?e:mt(e),Cr(e,n)&&(this._rawValue=e,this._value=r?e:dr(e),this.dep.trigger())}}function Tne(t){t.dep&&t.dep.trigger()}function Y(t){return an(t)?t.value:t}function Ene(t){return Ze(t)?t():Y(t)}const kM={get:(t,e,n)=>e==="__v_raw"?t:Y(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return an(i)&&!an(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function CA(t){return Gi(t)?t:new Proxy(t,kM)}class RM{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ip,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function DM(t){return new RM(t)}function xM(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=OA(t,n);return e}class NM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hM(mt(this._object),this._key)}}class MM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Dc(t,e,n){return an(t)?t:Ze(t)?new MM(t):Ht(t)&&arguments.length>1?OA(t,e,n):fe(t)}function OA(t,e,n){const r=t[e];return an(r)?r:new NM(t,e,n)}class LM{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ip(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Yt!==this)return cA(this,!0),!0}get value(){const e=this.dep.track();return fA(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function VM(t,e,n=!1){let r,i;return Ze(t)?r=t:(r=t.get,i=t.set),new LM(r,i,n)}const Ine={GET:"get",HAS:"has",ITERATE:"iterate"},Sne={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},ph={},mf=new WeakMap;let zs;function Ane(){return zs}function FM(t,e=!1,n=zs){if(n){let r=mf.get(n);r||mf.set(n,r=[]),r.push(t)}}function $M(t,e,n=gt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=_=>i?_:ui(_)||i===!1||i===0?fs(_,1):fs(_);let c,h,f,p,g=!1,b=!1;if(an(t)?(h=()=>t.value,g=ui(t)):Gi(t)?(h=()=>u(t),g=!0):$e(t)?(b=!0,g=t.some(_=>Gi(_)||ui(_)),h=()=>t.map(_=>{if(an(_))return _.value;if(Gi(_))return u(_);if(Ze(_))return l?l(_,2):_()})):Ze(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){So();try{f()}finally{Ao()}}const _=zs;zs=c;try{return l?l(t,3,[p]):t(p)}finally{zs=_}}:h=li,e&&i){const _=h,M=i===!0?1/0:i;h=()=>fs(_(),M)}const A=Jy(),R=()=>{c.stop(),A&&A.active&&Gy(A.effects,c)};if(s&&e){const _=e;e=(...M)=>{_(...M),R()}}let k=b?new Array(t.length).fill(ph):ph;const S=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(e){const M=c.run();if(i||g||(b?M.some((L,I)=>Cr(L,k[I])):Cr(M,k))){f&&f();const L=zs;zs=c;try{const I=[M,k===ph?void 0:b&&k[0]===ph?[]:k,p];l?l(e,3,I):e(...I),k=M}finally{zs=L}}}else c.run()};return a&&a(S),c=new ff(h),c.scheduler=o?()=>o(S,!1):S,p=_=>FM(_,!1,c),f=c.onStop=()=>{const _=mf.get(c);if(_){if(l)l(_,4);else for(const M of _)M();mf.delete(c)}},e?r?S(!0):k=c.run():o?o(S.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function fs(t,e=1/0,n){if(e<=0||!Ht(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,an(t))fs(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)fs(t[r],e,n);else if(Ea(t)||ml(t))t.forEach(r=>{fs(r,e,n)});else if(_p(t)){for(const r in t)fs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&fs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const PA=[];function UM(t){PA.push(t)}function BM(){PA.pop()}function Cne(t,e){}const One={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},jM={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Id(t,e,n,r){try{return r?t(...r):t()}catch(i){su(i,e,n)}}function Di(t,e,n,r){if(Ze(t)){const i=Id(t,e,n,r);return i&&Yy(i)&&i.catch(s=>{su(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Di(t[s],e,n,r));return i}}function su(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||gt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){So(),Id(s,null,10,[t,l,u]),Ao();return}}HM(t,n,i,r,o)}function HM(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Or=[];let $i=-1;const yl=[];let Ks=null,Qa=0;const kA=Promise.resolve();let gf=null;function Hn(t){const e=gf||kA;return t?e.then(this?t.bind(this):t):e}function WM(t){let e=$i+1,n=Or.length;for(;e<n;){const r=e+n>>>1,i=Or[r],s=xc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function s_(t){if(!(t.flags&1)){const e=xc(t),n=Or[Or.length-1];!n||!(t.flags&2)&&e>=xc(n)?Or.push(t):Or.splice(WM(e),0,t),t.flags|=1,RA()}}function RA(){gf||(gf=kA.then(DA))}function vf(t){$e(t)?yl.push(...t):Ks&&t.id===-1?Ks.splice(Qa+1,0,t):t.flags&1||(yl.push(t),t.flags|=1),RA()}function Nw(t,e,n=$i+1){for(;n<Or.length;n++){const r=Or[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Or.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function yf(t){if(yl.length){const e=[...new Set(yl)].sort((n,r)=>xc(n)-xc(r));if(yl.length=0,Ks){Ks.push(...e);return}for(Ks=e,Qa=0;Qa<Ks.length;Qa++){const n=Ks[Qa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ks=null,Qa=0}}const xc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function DA(t){try{for($i=0;$i<Or.length;$i++){const e=Or[$i];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Id(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;$i<Or.length;$i++){const e=Or[$i];e&&(e.flags&=-2)}$i=-1,Or.length=0,yf(),gf=null,(Or.length||yl.length)&&DA()}}let Xa,mh=[];function xA(t,e){var n,r;Xa=t,Xa?(Xa.enabled=!0,mh.forEach(({event:i,args:s})=>Xa.emit(i,...s)),mh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{xA(s,e)}),setTimeout(()=>{Xa||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,mh=[])},3e3)):mh=[]}let Ln=null,Op=null;function Nc(t){const e=Ln;return Ln=t,Op=t&&t.type.__scopeId||null,e}function Pne(t){Op=t}function kne(){Op=null}const Rne=t=>Qe;function Qe(t,e=Ln,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Gw(-1);const s=Nc(e);let o;try{o=t(...i)}finally{Nc(s),r._d&&Gw(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Yo(t,e){if(Ln===null)return t;const n=Cd(Ln),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=gt]=e[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&fs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Bi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(So(),Di(l,n,8,[t.el,a,t,e]),Ao())}}const NA=Symbol("_vte"),MA=t=>t.__isTeleport,ic=t=>t&&(t.disabled||t.disabled===""),Mw=t=>t&&(t.defer||t.defer===""),Lw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Vw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,lv=(t,e)=>{const n=t&&t.to;return Jt(n)?e?e(n):null:n},LA={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:b,createComment:A}}=u,R=ic(e.props);let{shapeFlag:k,children:S,dynamicChildren:_}=e;if(t==null){const M=e.el=b(""),L=e.anchor=b("");p(M,n,r),p(L,n,r);const I=(y,v)=>{k&16&&(i&&i.isCE&&(i.ce._teleportTarget=y),c(S,y,v,i,s,o,a,l))},E=()=>{const y=e.target=lv(e.props,g),v=FA(y,e,b,p);y&&(o!=="svg"&&Lw(y)?o="svg":o!=="mathml"&&Vw(y)&&(o="mathml"),R||(I(y,v),zh(e,!1)))};R&&(I(n,L),zh(e,!0)),Mw(e.props)?Pn(()=>{E(),e.el.__isMounted=!0},s):E()}else{if(Mw(e.props)&&!t.el.__isMounted){Pn(()=>{LA.process(t,e,n,r,i,s,o,a,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,L=e.target=t.target,I=e.targetAnchor=t.targetAnchor,E=ic(t.props),y=E?n:L,v=E?M:I;if(o==="svg"||Lw(L)?o="svg":(o==="mathml"||Vw(L))&&(o="mathml"),_?(f(t.dynamicChildren,_,y,i,s,o,a),g_(t,e,!0)):l||h(t,e,y,v,i,s,o,a,!1),R)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):gh(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const T=e.target=lv(e.props,g);T&&gh(e,T,null,u,0)}else E&&gh(e,L,I,u,1);zh(e,R)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!ic(f);for(let g=0;g<a.length;g++){const b=a[g];r(b,e,n,p,!!b.dynamicChildren)}}},move:gh,hydrate:qM};function gh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||ic(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function qM(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=lv(e.props,l);if(f){const p=ic(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||FA(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}zh(e,p)}return e.anchor&&o(e.anchor)}const VA=LA;function zh(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function FA(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[NA]=s,t&&(r(i,t),r(s,t)),s}const Gs=Symbol("_leaveCb"),vh=Symbol("_enterCb");function $A(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yn(()=>{t.isMounted=!0}),c_(()=>{t.isUnmounting=!0}),t}const ni=[Function,Array],UA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ni,onEnter:ni,onAfterEnter:ni,onEnterCancelled:ni,onBeforeLeave:ni,onLeave:ni,onAfterLeave:ni,onLeaveCancelled:ni,onBeforeAppear:ni,onAppear:ni,onAfterAppear:ni,onAppearCancelled:ni},BA=t=>{const e=t.subTree;return e.component?BA(e.component):e},zM={name:"BaseTransition",props:UA,setup(t,{slots:e}){const n=ei(),r=$A();return()=>{const i=e.default&&o_(e.default(),!0);if(!i||!i.length)return;const s=jA(i),o=mt(t),{mode:a}=o;if(r.isLeaving)return Gm(s);const l=Fw(s);if(!l)return Gm(s);let u=Mc(l,o,r,n,h=>u=h);l.type!==Rn&&mo(l,u);let c=n.subTree&&Fw(n.subTree);if(c&&c.type!==Rn&&!_i(l,c)&&BA(n).type!==Rn){let h=Mc(c,o,r,n);if(mo(c,h),a==="out-in"&&l.type!==Rn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},Gm(s);a==="in-out"&&l.type!==Rn?h.delayLeave=(f,p,g)=>{const b=HA(r,c);b[String(c.key)]=c,f[Gs]=()=>{p(),f[Gs]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function jA(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Rn){e=n;break}}return e}const KM=zM;function HA(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Mc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:A,onAppear:R,onAfterAppear:k,onAppearCancelled:S}=e,_=String(t.key),M=HA(n,t),L=(y,v)=>{y&&Di(y,r,9,v)},I=(y,v)=>{const T=v[1];L(y,v),$e(y)?y.every(C=>C.length<=1)&&T():y.length<=1&&T()},E={mode:o,persisted:a,beforeEnter(y){let v=l;if(!n.isMounted)if(s)v=A||l;else return;y[Gs]&&y[Gs](!0);const T=M[_];T&&_i(t,T)&&T.el[Gs]&&T.el[Gs](),L(v,[y])},enter(y){let v=u,T=c,C=h;if(!n.isMounted)if(s)v=R||u,T=k||c,C=S||h;else return;let P=!1;const G=y[vh]=$=>{P||(P=!0,$?L(C,[y]):L(T,[y]),E.delayedLeave&&E.delayedLeave(),y[vh]=void 0)};v?I(v,[y,G]):G()},leave(y,v){const T=String(t.key);if(y[vh]&&y[vh](!0),n.isUnmounting)return v();L(f,[y]);let C=!1;const P=y[Gs]=G=>{C||(C=!0,v(),G?L(b,[y]):L(g,[y]),y[Gs]=void 0,M[T]===t&&delete M[T])};M[T]=t,p?I(p,[y,P]):P()},clone(y){const v=Mc(y,e,n,r,i);return i&&i(v),v}};return E}function Gm(t){if(Sd(t))return t=Is(t),t.children=null,t}function Fw(t){if(!Sd(t))return MA(t.type)&&t.children?jA(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function mo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,mo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function o_(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Me?(o.patchFlag&128&&i++,r=r.concat(o_(o.children,e,a))):(e||o.type!==Rn)&&r.push(a!=null?Is(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Gt(t,e){return Ze(t)?Kt({name:t.name},e,{setup:t}):t}function Dne(){const t=ei();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function a_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function xne(t){const e=ei(),n=SA(null);if(e){const i=e.refs===gt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Lc(t,e,n,r,i=!1){if($e(t)){t.forEach((g,b)=>Lc(g,e&&($e(e)?e[b]:e),n,r,i));return}if(io(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Lc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Cd(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===gt?a.refs={}:a.refs,h=a.setupState,f=mt(h),p=h===gt?()=>!1:g=>kt(f,g);if(u!=null&&u!==l&&(Jt(u)?(c[u]=null,p(u)&&(h[u]=null)):an(u)&&(u.value=null)),Ze(l))Id(l,a,12,[o,c]);else{const g=Jt(l),b=an(l);if(g||b){const A=()=>{if(t.f){const R=g?p(l)?h[l]:c[l]:l.value;i?$e(R)&&Gy(R,s):$e(R)?R.includes(s)||R.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,Pn(A,n)):A()}}}let $w=!1;const Ha=()=>{$w||(console.error("Hydration completed but contains mismatches."),$w=!0)},GM=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",YM=t=>t.namespaceURI.includes("MathML"),yh=t=>{if(t.nodeType===1){if(GM(t))return"svg";if(YM(t))return"mathml"}},il=t=>t.nodeType===8;function QM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(S,_)=>{if(!_.hasChildNodes()){n(null,S,_),yf(),_._vnode=S;return}h(_.firstChild,S,null,null,null),yf(),_._vnode=S},h=(S,_,M,L,I,E=!1)=>{E=E||!!_.dynamicChildren;const y=il(S)&&S.data==="[",v=()=>b(S,_,M,L,I,y),{type:T,ref:C,shapeFlag:P,patchFlag:G}=_;let $=S.nodeType;_.el=S,G===-2&&(E=!1,_.dynamicChildren=null);let B=null;switch(T){case Xo:$!==3?_.children===""?(l(_.el=i(""),o(S),S),B=S):B=v():(S.data!==_.children&&(Ha(),S.data=_.children),B=s(S));break;case Rn:k(S)?(B=s(S),R(_.el=S.content.firstChild,S,M)):$!==8||y?B=v():B=s(S);break;case bl:if(y&&(S=s(S),$=S.nodeType),$===1||$===3){B=S;const F=!_.children.length;for(let U=0;U<_.staticCount;U++)F&&(_.children+=B.nodeType===1?B.outerHTML:B.data),U===_.staticCount-1&&(_.anchor=B),B=s(B);return y?s(B):B}else v();break;case Me:y?B=g(S,_,M,L,I,E):B=v();break;default:if(P&1)($!==1||_.type.toLowerCase()!==S.tagName.toLowerCase())&&!k(S)?B=v():B=f(S,_,M,L,I,E);else if(P&6){_.slotScopeIds=I;const F=o(S);if(y?B=A(S):il(S)&&S.data==="teleport start"?B=A(S,S.data,"teleport end"):B=s(S),e(_,F,null,M,L,yh(F),E),io(_)&&!_.type.__asyncResolved){let U;y?(U=et(Me),U.anchor=B?B.previousSibling:F.lastChild):U=S.nodeType===3?Dn(""):et("div"),U.el=S,_.component.subTree=U}}else P&64?$!==8?B=v():B=_.type.hydrate(S,_,M,L,I,E,t,p):P&128&&(B=_.type.hydrate(S,_,M,L,yh(o(S)),I,E,t,h))}return C!=null&&Lc(C,null,L,_),B},f=(S,_,M,L,I,E)=>{E=E||!!_.dynamicChildren;const{type:y,props:v,patchFlag:T,shapeFlag:C,dirs:P,transition:G}=_,$=y==="input"||y==="option";if($||T!==-1){P&&Bi(_,null,M,"created");let B=!1;if(k(S)){B=oC(null,G)&&M&&M.vnode.props&&M.vnode.props.appear;const U=S.content.firstChild;B&&G.beforeEnter(U),R(U,S,M),_.el=S=U}if(C&16&&!(v&&(v.innerHTML||v.textContent))){let U=p(S.firstChild,_,S,M,L,I,E);for(;U;){_h(S,1)||Ha();const x=U;U=U.nextSibling,a(x)}}else if(C&8){let U=_.children;U[0]===`
`&&(S.tagName==="PRE"||S.tagName==="TEXTAREA")&&(U=U.slice(1)),S.textContent!==U&&(_h(S,0)||Ha(),S.textContent=_.children)}if(v){if($||!E||T&48){const U=S.tagName.includes("-");for(const x in v)($&&(x.endsWith("value")||x==="indeterminate")||Ed(x)&&!gl(x)||x[0]==="."||U)&&r(S,x,null,v[x],void 0,M)}else if(v.onClick)r(S,"onClick",null,v.onClick,void 0,M);else if(T&4&&Gi(v.style))for(const U in v.style)v.style[U]}let F;(F=v&&v.onVnodeBeforeMount)&&Nr(F,M,_),P&&Bi(_,null,M,"beforeMount"),((F=v&&v.onVnodeMounted)||P||B)&&hC(()=>{F&&Nr(F,M,_),B&&G.enter(S),P&&Bi(_,null,M,"mounted")},L)}return S.nextSibling},p=(S,_,M,L,I,E,y)=>{y=y||!!_.dynamicChildren;const v=_.children,T=v.length;for(let C=0;C<T;C++){const P=y?v[C]:v[C]=Lr(v[C]),G=P.type===Xo;S?(G&&!y&&C+1<T&&Lr(v[C+1]).type===Xo&&(l(i(S.data.slice(P.children.length)),M,s(S)),S.data=P.children),S=h(S,P,L,I,E,y)):G&&!P.children?l(P.el=i(""),M):(_h(M,1)||Ha(),n(null,P,M,null,L,I,yh(M),E))}return S},g=(S,_,M,L,I,E)=>{const{slotScopeIds:y}=_;y&&(I=I?I.concat(y):y);const v=o(S),T=p(s(S),_,v,M,L,I,E);return T&&il(T)&&T.data==="]"?s(_.anchor=T):(Ha(),l(_.anchor=u("]"),v,T),T)},b=(S,_,M,L,I,E)=>{if(_h(S.parentElement,1)||Ha(),_.el=null,E){const T=A(S);for(;;){const C=s(S);if(C&&C!==T)a(C);else break}}const y=s(S),v=o(S);return a(S),n(null,_,v,y,M,L,yh(v),I),M&&(M.vnode.el=_.el,Rp(M,_.el)),y},A=(S,_="[",M="]")=>{let L=0;for(;S;)if(S=s(S),S&&il(S)&&(S.data===_&&L++,S.data===M)){if(L===0)return s(S);L--}return S},R=(S,_,M)=>{const L=_.parentNode;L&&L.replaceChild(S,_);let I=M;for(;I;)I.vnode.el===_&&(I.vnode.el=I.subTree.el=S),I=I.parent},k=S=>S.nodeType===1&&S.tagName==="TEMPLATE";return[c,h]}const Uw="data-allow-mismatch",XM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function _h(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Uw);)t=t.parentElement;const n=t&&t.getAttribute(Uw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(XM[e])}}const JM=Tp().requestIdleCallback||(t=>setTimeout(t,1)),ZM=Tp().cancelIdleCallback||(t=>clearTimeout(t)),Nne=(t=1e4)=>e=>{const n=JM(e,{timeout:t});return()=>ZM(n)};function eL(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const Mne=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(eL(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},Lne=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},Vne=(t=[])=>(e,n)=>{Jt(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function tL(t,e){if(il(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(il(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const io=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Fne(t){Ze(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((A,R)=>{l(b,()=>A(f()),()=>R(b),h+1)});throw b}).then(b=>g!==u&&u?u:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),c=b,b)))};return Gt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,b,A){const R=s?()=>{const k=s(A,S=>tL(g,S));k&&(b.bum||(b.bum=[])).push(k)}:A;c?R():p().then(()=>!b.isUnmounted&&R())},get __asyncResolved(){return c},setup(){const g=xn;if(a_(g),c)return()=>Ym(c,g);const b=S=>{u=null,su(S,g,13,!r)};if(a&&g.suspense||Rl)return p().then(S=>()=>Ym(S,g)).catch(S=>(b(S),()=>r?et(r,{error:S}):null));const A=fe(!1),R=fe(),k=fe(!!i);return i&&setTimeout(()=>{k.value=!1},i),o!=null&&setTimeout(()=>{if(!A.value&&!R.value){const S=new Error(`Async component timed out after ${o}ms.`);b(S),R.value=S}},o),p().then(()=>{A.value=!0,g.parent&&Sd(g.parent.vnode)&&g.parent.update()}).catch(S=>{b(S),R.value=S}),()=>{if(A.value&&c)return Ym(c,g);if(R.value&&r)return et(r,{error:R.value});if(n&&!k.value)return et(n)}}})}function Ym(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=et(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Sd=t=>t.type.__isKeepAlive,nL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ei(),r=n.ctx;if(!r.renderer)return()=>{const k=e.default&&e.default();return k&&k.length===1?k[0]:k};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(k,S,_,M,L)=>{const I=k.component;u(k,S,_,0,a),l(I.vnode,k,S,_,I,a,M,k.slotScopeIds,L),Pn(()=>{I.isDeactivated=!1,I.a&&vl(I.a);const E=k.props&&k.props.onVnodeMounted;E&&Nr(E,I.parent,k)},a)},r.deactivate=k=>{const S=k.component;bf(S.m),bf(S.a),u(k,f,null,1,a),Pn(()=>{S.da&&vl(S.da);const _=k.props&&k.props.onVnodeUnmounted;_&&Nr(_,S.parent,k),S.isDeactivated=!0},a)};function p(k){Qm(k),c(k,n,a,!0)}function g(k){i.forEach((S,_)=>{const M=_v(S.type);M&&!k(M)&&b(_)})}function b(k){const S=i.get(k);S&&(!o||!_i(S,o))?p(S):o&&Qm(o),i.delete(k),s.delete(k)}In(()=>[t.include,t.exclude],([k,S])=>{k&&g(_=>zu(k,_)),S&&g(_=>!zu(S,_))},{flush:"post",deep:!0});let A=null;const R=()=>{A!=null&&(wf(n.subTree.type)?Pn(()=>{i.set(A,bh(n.subTree))},n.subTree.suspense):i.set(A,bh(n.subTree)))};return yn(R),u_(R),c_(()=>{i.forEach(k=>{const{subTree:S,suspense:_}=n,M=bh(S);if(k.type===M.type&&k.key===M.key){Qm(M);const L=M.component.da;L&&Pn(L,_);return}p(k)})}),()=>{if(A=null,!e.default)return o=null;const k=e.default(),S=k[0];if(k.length>1)return o=null,k;if(!go(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return o=null,S;let _=bh(S);if(_.type===Rn)return o=null,_;const M=_.type,L=_v(io(_)?_.type.__asyncResolved||{}:M),{include:I,exclude:E,max:y}=t;if(I&&(!L||!zu(I,L))||E&&L&&zu(E,L))return _.shapeFlag&=-257,o=_,S;const v=_.key==null?M:_.key,T=i.get(v);return _.el&&(_=Is(_),S.shapeFlag&128&&(S.ssContent=_)),A=v,T?(_.el=T.el,_.component=T.component,_.transition&&mo(_,_.transition),_.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),y&&s.size>parseInt(y,10)&&b(s.values().next().value)),_.shapeFlag|=256,o=_,wf(S.type)?S:_}}},$ne=nL;function zu(t,e){return $e(t)?t.some(n=>zu(n,e)):Jt(t)?t.split(",").includes(e):XN(t)?(t.lastIndex=0,t.test(e)):!1}function rL(t,e){WA(t,"a",e)}function iL(t,e){WA(t,"da",e)}function WA(t,e,n=xn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Pp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Sd(i.parent.vnode)&&sL(r,e,n,i),i=i.parent}}function sL(t,e,n,r){const i=Pp(e,t,r,!0);Ia(()=>{Gy(r[e],i)},n)}function Qm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function bh(t){return t.shapeFlag&128?t.ssContent:t}function Pp(t,e,n=xn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{So();const a=oa(n),l=Di(e,n,t,o);return a(),Ao(),l});return r?i.unshift(s):i.push(s),s}}const Rs=t=>(e,n=xn)=>{(!Rl||t==="sp")&&Pp(t,(...r)=>e(...r),n)},oL=Rs("bm"),yn=Rs("m"),l_=Rs("bu"),u_=Rs("u"),c_=Rs("bum"),Ia=Rs("um"),aL=Rs("sp"),lL=Rs("rtg"),uL=Rs("rtc");function cL(t,e=xn){Pp("ec",t,e)}const d_="components",dL="directives";function Kr(t,e){return h_(d_,t,!0,e)||t}const qA=Symbol.for("v-ndc");function zr(t){return Jt(t)?h_(d_,t,!1)||t:t||qA}function zA(t){return h_(dL,t)}function h_(t,e,n=!0,r=!1){const i=Ln||xn;if(i){const s=i.type;if(t===d_){const a=_v(s,!1);if(a&&(a===e||a===yr(e)||a===wp(yr(e))))return s}const o=Bw(i[t]||s[t],e)||Bw(i.appContext[t],e);return!o&&r?s:o}}function Bw(t,e){return t&&(t[e]||t[yr(e)]||t[wp(yr(e))])}function Ft(t,e,n,r){let i;const s=n&&n[r],o=$e(t);if(o||Jt(t)){const a=o&&Gi(t);let l=!1;a&&(l=!ui(t),t=Sp(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?dr(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Ht(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function er(t,e){for(let n=0;n<e.length;n++){const r=e[n];if($e(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function _e(t,e,n={},r,i){if(Ln.ce||Ln.parent&&io(Ln.parent)&&Ln.parent.ce)return e!=="default"&&(n.name=e),W(),qe(Me,null,[et("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),W();const o=s&&f_(s(n)),a=n.key||o&&o.key,l=qe(Me,{key:(a&&!Ri(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function f_(t){return t.some(e=>go(e)?!(e.type===Rn||e.type===Me&&!f_(e.children)):!0)?t:null}function Une(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:qh(r)]=t[r];return n}const uv=t=>t?vC(t)?Cd(t):uv(t.parent):null,sc=Kt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>uv(t.parent),$root:t=>uv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>p_(t),$forceUpdate:t=>t.f||(t.f=()=>{s_(t.update)}),$nextTick:t=>t.n||(t.n=Hn.bind(t.proxy)),$watch:t=>xL.bind(t)}),Xm=(t,e)=>t!==gt&&!t.__isScriptSetup&&kt(t,e),cv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Xm(r,e))return o[e]=1,r[e];if(i!==gt&&kt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&kt(u,e))return o[e]=3,s[e];if(n!==gt&&kt(n,e))return o[e]=4,n[e];dv&&(o[e]=0)}}const c=sc[e];let h,f;if(c)return e==="$attrs"&&cr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==gt&&kt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,kt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Xm(i,e)?(i[e]=n,!0):r!==gt&&kt(r,e)?(r[e]=n,!0):kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==gt&&kt(t,o)||Xm(e,o)||(a=s[0])&&kt(a,o)||kt(r,o)||kt(sc,o)||kt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},hL=Kt({},cv,{get(t,e){if(e!==Symbol.unscopables)return cv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!nM(e)}});function Bne(){return null}function jne(){return null}function Hne(t){}function Wne(t){}function qne(){return null}function zne(){}function Kne(t,e){return null}function Sa(){return KA().slots}function Gne(){return KA().attrs}function KA(){const t=ei();return t.setupContext||(t.setupContext=bC(t))}function Vc(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Yne(t,e){const n=Vc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?$e(i)||Ze(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Qne(t,e){return!t||!e?t||e:$e(t)&&$e(e)?t.concat(e):Kt({},Vc(t),Vc(e))}function Xne(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Jne(t){const e=ei();let n=t();return gv(),Yy(n)&&(n=n.catch(r=>{throw oa(e),r})),[n,()=>oa(e)]}let dv=!0;function fL(t){const e=p_(t),n=t.proxy,r=t.ctx;dv=!1,e.beforeCreate&&jw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:b,deactivated:A,beforeDestroy:R,beforeUnmount:k,destroyed:S,unmounted:_,render:M,renderTracked:L,renderTriggered:I,errorCaptured:E,serverPrefetch:y,expose:v,inheritAttrs:T,components:C,directives:P,filters:G}=e;if(u&&pL(u,r,null),o)for(const F in o){const U=o[F];Ze(U)&&(r[F]=U.bind(n))}if(i){const F=i.call(n,n);Ht(F)&&(t.data=Dr(F))}if(dv=!0,s)for(const F in s){const U=s[F],x=Ze(U)?U.bind(n,n):Ze(U.get)?U.get.bind(n,n):li,O=!Ze(U)&&Ze(U.set)?U.set.bind(n):li,q=le({get:x,set:O});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>q.value,set:z=>q.value=z})}if(a)for(const F in a)GA(a[F],r,n,F);if(l){const F=Ze(l)?l.call(n):l;Reflect.ownKeys(F).forEach(U=>{oc(U,F[U])})}c&&jw(c,t,"c");function B(F,U){$e(U)?U.forEach(x=>F(x.bind(n))):U&&F(U.bind(n))}if(B(oL,h),B(yn,f),B(l_,p),B(u_,g),B(rL,b),B(iL,A),B(cL,E),B(uL,L),B(lL,I),B(c_,k),B(Ia,_),B(aL,y),$e(v))if(v.length){const F=t.exposed||(t.exposed={});v.forEach(U=>{Object.defineProperty(F,U,{get:()=>n[U],set:x=>n[U]=x})})}else t.exposed||(t.exposed={});M&&t.render===li&&(t.render=M),T!=null&&(t.inheritAttrs=T),C&&(t.components=C),P&&(t.directives=P),y&&a_(t)}function pL(t,e,n=li){$e(t)&&(t=hv(t));for(const r in t){const i=t[r];let s;Ht(i)?"default"in i?s=Rr(i.from||r,i.default,!0):s=Rr(i.from||r):s=Rr(i),an(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function jw(t,e,n){Di($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function GA(t,e,n,r){let i=r.includes(".")?lC(n,r):()=>n[r];if(Jt(t)){const s=e[t];Ze(s)&&In(i,s)}else if(Ze(t))In(i,t.bind(n));else if(Ht(t))if($e(t))t.forEach(s=>GA(s,e,n,r));else{const s=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(s)&&In(i,s,t)}}function p_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>_f(l,u,o,!0)),_f(l,e,o)),Ht(e)&&s.set(e,l),l}function _f(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&_f(t,s,n,!0),i&&i.forEach(o=>_f(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=mL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const mL={data:Hw,props:Ww,emits:Ww,methods:Ku,computed:Ku,beforeCreate:Sr,created:Sr,beforeMount:Sr,mounted:Sr,beforeUpdate:Sr,updated:Sr,beforeDestroy:Sr,beforeUnmount:Sr,destroyed:Sr,unmounted:Sr,activated:Sr,deactivated:Sr,errorCaptured:Sr,serverPrefetch:Sr,components:Ku,directives:Ku,watch:vL,provide:Hw,inject:gL};function Hw(t,e){return e?t?function(){return Kt(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function gL(t,e){return Ku(hv(t),hv(e))}function hv(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Sr(t,e){return t?[...new Set([].concat(t,e))]:e}function Ku(t,e){return t?Kt(Object.create(null),t,e):e}function Ww(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:Kt(Object.create(null),Vc(t),Vc(e??{})):e}function vL(t,e){if(!t)return e;if(!e)return t;const n=Kt(Object.create(null),t);for(const r in e)n[r]=Sr(t[r],e[r]);return n}function YA(){return{app:null,config:{isNativeTag:YN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yL=0;function _L(t,e){return function(r,i=null){Ze(r)||(r=Kt({},r)),i!=null&&!Ht(i)&&(i=null);const s=YA(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:yL++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:JL,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ze(c.install)?(o.add(c),c.install(u,...h)):Ze(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||et(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Cd(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Di(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Qo;Qo=u;try{return c()}finally{Qo=h}}};return u}}let Qo=null;function oc(t,e){if(xn){let n=xn.provides;const r=xn.parent&&xn.parent.provides;r===n&&(n=xn.provides=Object.create(r)),n[t]=e}}function Rr(t,e,n=!1){const r=xn||Ln;if(r||Qo){const i=Qo?Qo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}function bL(){return!!(xn||Ln||Qo)}const QA={},XA=()=>Object.create(QA),JA=t=>Object.getPrototypeOf(t)===QA;function wL(t,e,n,r=!1){const i={},s=XA();t.propsDefaults=Object.create(null),ZA(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:IA(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function TL(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=mt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(kp(t.emitsOptions,f))continue;const p=e[f];if(l)if(kt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=yr(f);i[g]=fv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{ZA(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!kt(e,h)&&((c=Vr(h))===h||!kt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=fv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!kt(e,h))&&(delete s[h],u=!0)}u&&hs(t.attrs,"set","")}function ZA(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(gl(l))continue;const u=e[l];let c;i&&kt(i,c=yr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:kp(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=mt(n),u=a||gt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=fv(i,l,h,u[h],t,!kt(u,h))}}return o}function fv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=oa(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Vr(n))&&(r=!0))}return r}const EL=new WeakMap;function eC(t,e,n=!1){const r=n?EL:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ze(t)){const c=h=>{l=!0;const[f,p]=eC(h,e,!0);Kt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Ht(t)&&r.set(t,pl),pl;if($e(s))for(let c=0;c<s.length;c++){const h=yr(s[c]);qw(h)&&(o[h]=gt)}else if(s)for(const c in s){const h=yr(c);if(qw(h)){const f=s[c],p=o[h]=$e(f)||Ze(f)?{type:f}:Kt({},f),g=p.type;let b=!1,A=!0;if($e(g))for(let R=0;R<g.length;++R){const k=g[R],S=Ze(k)&&k.name;if(S==="Boolean"){b=!0;break}else S==="String"&&(A=!1)}else b=Ze(g)&&g.name==="Boolean";p[0]=b,p[1]=A,(b||kt(p,"default"))&&a.push(h)}}const u=[o,a];return Ht(t)&&r.set(t,u),u}function qw(t){return t[0]!=="$"&&!gl(t)}const tC=t=>t[0]==="_"||t==="$stable",m_=t=>$e(t)?t.map(Lr):[Lr(t)],IL=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>m_(e(...i)),n);return r._c=!1,r},nC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(tC(i))continue;const s=t[i];if(Ze(s))e[i]=IL(i,s,r);else if(s!=null){const o=m_(s);e[i]=()=>o}}},rC=(t,e)=>{const n=m_(e);t.slots.default=()=>n},iC=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},SL=(t,e,n)=>{const r=t.slots=XA();if(t.vnode.shapeFlag&32){const i=e._;i?(iC(r,e,n),n&&rA(r,"_",i,!0)):nC(e,r)}else e&&rC(t,e)},AL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=gt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:iC(i,e,n):(s=!e.$stable,nC(e,i)),o=e}else e&&(rC(t,e),o={default:1});if(s)for(const a in i)!tC(a)&&o[a]==null&&delete i[a]},Pn=hC;function CL(t){return sC(t)}function OL(t){return sC(t,QM)}function sC(t,e){const n=Tp();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=li,insertStaticContent:g}=t,b=(D,V,j,oe=null,se=null,me=null,Se=void 0,Ee=null,Te=!!V.dynamicChildren)=>{if(D===V)return;D&&!_i(D,V)&&(oe=Q(D),z(D,se,me,!0),D=null),V.patchFlag===-2&&(Te=!1,V.dynamicChildren=null);const{type:ge,ref:He,shapeFlag:Ie}=V;switch(ge){case Xo:A(D,V,j,oe);break;case Rn:R(D,V,j,oe);break;case bl:D==null&&k(V,j,oe,Se);break;case Me:C(D,V,j,oe,se,me,Se,Ee,Te);break;default:Ie&1?M(D,V,j,oe,se,me,Se,Ee,Te):Ie&6?P(D,V,j,oe,se,me,Se,Ee,Te):(Ie&64||Ie&128)&&ge.process(D,V,j,oe,se,me,Se,Ee,Te,ce)}He!=null&&se&&Lc(He,D&&D.ref,me,V||D,!V)},A=(D,V,j,oe)=>{if(D==null)r(V.el=a(V.children),j,oe);else{const se=V.el=D.el;V.children!==D.children&&u(se,V.children)}},R=(D,V,j,oe)=>{D==null?r(V.el=l(V.children||""),j,oe):V.el=D.el},k=(D,V,j,oe)=>{[D.el,D.anchor]=g(D.children,V,j,oe,D.el,D.anchor)},S=({el:D,anchor:V},j,oe)=>{let se;for(;D&&D!==V;)se=f(D),r(D,j,oe),D=se;r(V,j,oe)},_=({el:D,anchor:V})=>{let j;for(;D&&D!==V;)j=f(D),i(D),D=j;i(V)},M=(D,V,j,oe,se,me,Se,Ee,Te)=>{V.type==="svg"?Se="svg":V.type==="math"&&(Se="mathml"),D==null?L(V,j,oe,se,me,Se,Ee,Te):y(D,V,se,me,Se,Ee,Te)},L=(D,V,j,oe,se,me,Se,Ee)=>{let Te,ge;const{props:He,shapeFlag:Ie,transition:Fe,dirs:Ye}=D;if(Te=D.el=o(D.type,me,He&&He.is,He),Ie&8?c(Te,D.children):Ie&16&&E(D.children,Te,null,oe,se,Jm(D,me),Se,Ee),Ye&&Bi(D,null,oe,"created"),I(Te,D,D.scopeId,Se,oe),He){for(const K in He)K!=="value"&&!gl(K)&&s(Te,K,null,He[K],me,oe);"value"in He&&s(Te,"value",null,He.value,me),(ge=He.onVnodeBeforeMount)&&Nr(ge,oe,D)}Ye&&Bi(D,null,oe,"beforeMount");const Ke=oC(se,Fe);Ke&&Fe.beforeEnter(Te),r(Te,V,j),((ge=He&&He.onVnodeMounted)||Ke||Ye)&&Pn(()=>{ge&&Nr(ge,oe,D),Ke&&Fe.enter(Te),Ye&&Bi(D,null,oe,"mounted")},se)},I=(D,V,j,oe,se)=>{if(j&&p(D,j),oe)for(let me=0;me<oe.length;me++)p(D,oe[me]);if(se){let me=se.subTree;if(V===me||wf(me.type)&&(me.ssContent===V||me.ssFallback===V)){const Se=se.vnode;I(D,Se,Se.scopeId,Se.slotScopeIds,se.parent)}}},E=(D,V,j,oe,se,me,Se,Ee,Te=0)=>{for(let ge=Te;ge<D.length;ge++){const He=D[ge]=Ee?Ys(D[ge]):Lr(D[ge]);b(null,He,V,j,oe,se,me,Se,Ee)}},y=(D,V,j,oe,se,me,Se)=>{const Ee=V.el=D.el;let{patchFlag:Te,dynamicChildren:ge,dirs:He}=V;Te|=D.patchFlag&16;const Ie=D.props||gt,Fe=V.props||gt;let Ye;if(j&&Lo(j,!1),(Ye=Fe.onVnodeBeforeUpdate)&&Nr(Ye,j,V,D),He&&Bi(V,D,j,"beforeUpdate"),j&&Lo(j,!0),(Ie.innerHTML&&Fe.innerHTML==null||Ie.textContent&&Fe.textContent==null)&&c(Ee,""),ge?v(D.dynamicChildren,ge,Ee,j,oe,Jm(V,se),me):Se||U(D,V,Ee,null,j,oe,Jm(V,se),me,!1),Te>0){if(Te&16)T(Ee,Ie,Fe,j,se);else if(Te&2&&Ie.class!==Fe.class&&s(Ee,"class",null,Fe.class,se),Te&4&&s(Ee,"style",Ie.style,Fe.style,se),Te&8){const Ke=V.dynamicProps;for(let K=0;K<Ke.length;K++){const ae=Ke[K],Ne=Ie[ae],We=Fe[ae];(We!==Ne||ae==="value")&&s(Ee,ae,Ne,We,se,j)}}Te&1&&D.children!==V.children&&c(Ee,V.children)}else!Se&&ge==null&&T(Ee,Ie,Fe,j,se);((Ye=Fe.onVnodeUpdated)||He)&&Pn(()=>{Ye&&Nr(Ye,j,V,D),He&&Bi(V,D,j,"updated")},oe)},v=(D,V,j,oe,se,me,Se)=>{for(let Ee=0;Ee<V.length;Ee++){const Te=D[Ee],ge=V[Ee],He=Te.el&&(Te.type===Me||!_i(Te,ge)||Te.shapeFlag&70)?h(Te.el):j;b(Te,ge,He,null,oe,se,me,Se,!0)}},T=(D,V,j,oe,se)=>{if(V!==j){if(V!==gt)for(const me in V)!gl(me)&&!(me in j)&&s(D,me,V[me],null,se,oe);for(const me in j){if(gl(me))continue;const Se=j[me],Ee=V[me];Se!==Ee&&me!=="value"&&s(D,me,Ee,Se,se,oe)}"value"in j&&s(D,"value",V.value,j.value,se)}},C=(D,V,j,oe,se,me,Se,Ee,Te)=>{const ge=V.el=D?D.el:a(""),He=V.anchor=D?D.anchor:a("");let{patchFlag:Ie,dynamicChildren:Fe,slotScopeIds:Ye}=V;Ye&&(Ee=Ee?Ee.concat(Ye):Ye),D==null?(r(ge,j,oe),r(He,j,oe),E(V.children||[],j,He,se,me,Se,Ee,Te)):Ie>0&&Ie&64&&Fe&&D.dynamicChildren?(v(D.dynamicChildren,Fe,j,se,me,Se,Ee),(V.key!=null||se&&V===se.subTree)&&g_(D,V,!0)):U(D,V,j,He,se,me,Se,Ee,Te)},P=(D,V,j,oe,se,me,Se,Ee,Te)=>{V.slotScopeIds=Ee,D==null?V.shapeFlag&512?se.ctx.activate(V,j,oe,Se,Te):G(V,j,oe,se,me,Se,Te):$(D,V,Te)},G=(D,V,j,oe,se,me,Se)=>{const Ee=D.component=gC(D,oe,se);if(Sd(D)&&(Ee.ctx.renderer=ce),yC(Ee,!1,Se),Ee.asyncDep){if(se&&se.registerDep(Ee,B,Se),!D.el){const Te=Ee.subTree=et(Rn);R(null,Te,V,j)}}else B(Ee,D,V,j,se,me,Se)},$=(D,V,j)=>{const oe=V.component=D.component;if(FL(D,V,j))if(oe.asyncDep&&!oe.asyncResolved){F(oe,V,j);return}else oe.next=V,oe.update();else V.el=D.el,oe.vnode=V},B=(D,V,j,oe,se,me,Se)=>{const Ee=()=>{if(D.isMounted){let{next:Ie,bu:Fe,u:Ye,parent:Ke,vnode:K}=D;{const Nt=aC(D);if(Nt){Ie&&(Ie.el=K.el,F(D,Ie,Se)),Nt.asyncDep.then(()=>{D.isUnmounted||Ee()});return}}let ae=Ie,Ne;Lo(D,!1),Ie?(Ie.el=K.el,F(D,Ie,Se)):Ie=K,Fe&&vl(Fe),(Ne=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Nr(Ne,Ke,Ie,K),Lo(D,!0);const We=Kh(D),dt=D.subTree;D.subTree=We,b(dt,We,h(dt.el),Q(dt),D,se,me),Ie.el=We.el,ae===null&&Rp(D,We.el),Ye&&Pn(Ye,se),(Ne=Ie.props&&Ie.props.onVnodeUpdated)&&Pn(()=>Nr(Ne,Ke,Ie,K),se)}else{let Ie;const{el:Fe,props:Ye}=V,{bm:Ke,m:K,parent:ae,root:Ne,type:We}=D,dt=io(V);if(Lo(D,!1),Ke&&vl(Ke),!dt&&(Ie=Ye&&Ye.onVnodeBeforeMount)&&Nr(Ie,ae,V),Lo(D,!0),Fe&&ne){const Nt=()=>{D.subTree=Kh(D),ne(Fe,D.subTree,D,se,null)};dt&&We.__asyncHydrate?We.__asyncHydrate(Fe,D,Nt):Nt()}else{Ne.ce&&Ne.ce._injectChildStyle(We);const Nt=D.subTree=Kh(D);b(null,Nt,j,oe,D,se,me),V.el=Nt.el}if(K&&Pn(K,se),!dt&&(Ie=Ye&&Ye.onVnodeMounted)){const Nt=V;Pn(()=>Nr(Ie,ae,Nt),se)}(V.shapeFlag&256||ae&&io(ae.vnode)&&ae.vnode.shapeFlag&256)&&D.a&&Pn(D.a,se),D.isMounted=!0,V=j=oe=null}};D.scope.on();const Te=D.effect=new ff(Ee);D.scope.off();const ge=D.update=Te.run.bind(Te),He=D.job=Te.runIfDirty.bind(Te);He.i=D,He.id=D.uid,Te.scheduler=()=>s_(He),Lo(D,!0),ge()},F=(D,V,j)=>{V.component=D;const oe=D.vnode.props;D.vnode=V,D.next=null,TL(D,V.props,oe,j),AL(D,V.children,j),So(),Nw(D),Ao()},U=(D,V,j,oe,se,me,Se,Ee,Te=!1)=>{const ge=D&&D.children,He=D?D.shapeFlag:0,Ie=V.children,{patchFlag:Fe,shapeFlag:Ye}=V;if(Fe>0){if(Fe&128){O(ge,Ie,j,oe,se,me,Se,Ee,Te);return}else if(Fe&256){x(ge,Ie,j,oe,se,me,Se,Ee,Te);return}}Ye&8?(He&16&&H(ge,se,me),Ie!==ge&&c(j,Ie)):He&16?Ye&16?O(ge,Ie,j,oe,se,me,Se,Ee,Te):H(ge,se,me,!0):(He&8&&c(j,""),Ye&16&&E(Ie,j,oe,se,me,Se,Ee,Te))},x=(D,V,j,oe,se,me,Se,Ee,Te)=>{D=D||pl,V=V||pl;const ge=D.length,He=V.length,Ie=Math.min(ge,He);let Fe;for(Fe=0;Fe<Ie;Fe++){const Ye=V[Fe]=Te?Ys(V[Fe]):Lr(V[Fe]);b(D[Fe],Ye,j,null,se,me,Se,Ee,Te)}ge>He?H(D,se,me,!0,!1,Ie):E(V,j,oe,se,me,Se,Ee,Te,Ie)},O=(D,V,j,oe,se,me,Se,Ee,Te)=>{let ge=0;const He=V.length;let Ie=D.length-1,Fe=He-1;for(;ge<=Ie&&ge<=Fe;){const Ye=D[ge],Ke=V[ge]=Te?Ys(V[ge]):Lr(V[ge]);if(_i(Ye,Ke))b(Ye,Ke,j,null,se,me,Se,Ee,Te);else break;ge++}for(;ge<=Ie&&ge<=Fe;){const Ye=D[Ie],Ke=V[Fe]=Te?Ys(V[Fe]):Lr(V[Fe]);if(_i(Ye,Ke))b(Ye,Ke,j,null,se,me,Se,Ee,Te);else break;Ie--,Fe--}if(ge>Ie){if(ge<=Fe){const Ye=Fe+1,Ke=Ye<He?V[Ye].el:oe;for(;ge<=Fe;)b(null,V[ge]=Te?Ys(V[ge]):Lr(V[ge]),j,Ke,se,me,Se,Ee,Te),ge++}}else if(ge>Fe)for(;ge<=Ie;)z(D[ge],se,me,!0),ge++;else{const Ye=ge,Ke=ge,K=new Map;for(ge=Ke;ge<=Fe;ge++){const Be=V[ge]=Te?Ys(V[ge]):Lr(V[ge]);Be.key!=null&&K.set(Be.key,ge)}let ae,Ne=0;const We=Fe-Ke+1;let dt=!1,Nt=0;const Wn=new Array(We);for(ge=0;ge<We;ge++)Wn[ge]=0;for(ge=Ye;ge<=Ie;ge++){const Be=D[ge];if(Ne>=We){z(Be,se,me,!0);continue}let je;if(Be.key!=null)je=K.get(Be.key);else for(ae=Ke;ae<=Fe;ae++)if(Wn[ae-Ke]===0&&_i(Be,V[ae])){je=ae;break}je===void 0?z(Be,se,me,!0):(Wn[je-Ke]=ge+1,je>=Nt?Nt=je:dt=!0,b(Be,V[je],j,null,se,me,Se,Ee,Te),Ne++)}const Oe=dt?PL(Wn):pl;for(ae=Oe.length-1,ge=We-1;ge>=0;ge--){const Be=Ke+ge,je=V[Be],qn=Be+1<He?V[Be+1].el:oe;Wn[ge]===0?b(null,je,j,qn,se,me,Se,Ee,Te):dt&&(ae<0||ge!==Oe[ae]?q(je,j,qn,2):ae--)}}},q=(D,V,j,oe,se=null)=>{const{el:me,type:Se,transition:Ee,children:Te,shapeFlag:ge}=D;if(ge&6){q(D.component.subTree,V,j,oe);return}if(ge&128){D.suspense.move(V,j,oe);return}if(ge&64){Se.move(D,V,j,ce);return}if(Se===Me){r(me,V,j);for(let Ie=0;Ie<Te.length;Ie++)q(Te[Ie],V,j,oe);r(D.anchor,V,j);return}if(Se===bl){S(D,V,j);return}if(oe!==2&&ge&1&&Ee)if(oe===0)Ee.beforeEnter(me),r(me,V,j),Pn(()=>Ee.enter(me),se);else{const{leave:Ie,delayLeave:Fe,afterLeave:Ye}=Ee,Ke=()=>r(me,V,j),K=()=>{Ie(me,()=>{Ke(),Ye&&Ye()})};Fe?Fe(me,Ke,K):K()}else r(me,V,j)},z=(D,V,j,oe=!1,se=!1)=>{const{type:me,props:Se,ref:Ee,children:Te,dynamicChildren:ge,shapeFlag:He,patchFlag:Ie,dirs:Fe,cacheIndex:Ye}=D;if(Ie===-2&&(se=!1),Ee!=null&&Lc(Ee,null,j,D,!0),Ye!=null&&(V.renderCache[Ye]=void 0),He&256){V.ctx.deactivate(D);return}const Ke=He&1&&Fe,K=!io(D);let ae;if(K&&(ae=Se&&Se.onVnodeBeforeUnmount)&&Nr(ae,V,D),He&6)Z(D.component,j,oe);else{if(He&128){D.suspense.unmount(j,oe);return}Ke&&Bi(D,null,V,"beforeUnmount"),He&64?D.type.remove(D,V,j,ce,oe):ge&&!ge.hasOnce&&(me!==Me||Ie>0&&Ie&64)?H(ge,V,j,!1,!0):(me===Me&&Ie&384||!se&&He&16)&&H(Te,V,j),oe&&te(D)}(K&&(ae=Se&&Se.onVnodeUnmounted)||Ke)&&Pn(()=>{ae&&Nr(ae,V,D),Ke&&Bi(D,null,V,"unmounted")},j)},te=D=>{const{type:V,el:j,anchor:oe,transition:se}=D;if(V===Me){he(j,oe);return}if(V===bl){_(D);return}const me=()=>{i(j),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(D.shapeFlag&1&&se&&!se.persisted){const{leave:Se,delayLeave:Ee}=se,Te=()=>Se(j,me);Ee?Ee(D.el,me,Te):Te()}else me()},he=(D,V)=>{let j;for(;D!==V;)j=f(D),i(D),D=j;i(V)},Z=(D,V,j)=>{const{bum:oe,scope:se,job:me,subTree:Se,um:Ee,m:Te,a:ge}=D;bf(Te),bf(ge),oe&&vl(oe),se.stop(),me&&(me.flags|=8,z(Se,D,V,j)),Ee&&Pn(Ee,V),Pn(()=>{D.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},H=(D,V,j,oe=!1,se=!1,me=0)=>{for(let Se=me;Se<D.length;Se++)z(D[Se],V,j,oe,se)},Q=D=>{if(D.shapeFlag&6)return Q(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const V=f(D.anchor||D.el),j=V&&V[NA];return j?f(j):V};let ie=!1;const X=(D,V,j)=>{D==null?V._vnode&&z(V._vnode,null,null,!0):b(V._vnode||null,D,V,null,null,null,j),V._vnode=D,ie||(ie=!0,Nw(),yf(),ie=!1)},ce={p:b,um:z,m:q,r:te,mt:G,mc:E,pc:U,pbc:v,n:Q,o:t};let be,ne;return e&&([be,ne]=e(ce)),{render:X,hydrate:be,createApp:_L(X,be)}}function Jm({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Lo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function oC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function g_(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ys(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&g_(o,a)),a.type===Xo&&(a.el=o.el)}}function PL(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function aC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:aC(e)}function bf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const kL=Symbol.for("v-scx"),RL=()=>Rr(kL);function Zne(t,e){return Ad(t,null,e)}function ere(t,e){return Ad(t,null,{flush:"post"})}function DL(t,e){return Ad(t,null,{flush:"sync"})}function In(t,e,n){return Ad(t,e,n)}function Ad(t,e,n=gt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Kt({},n),l=e&&r||!e&&s!=="post";let u;if(Rl){if(s==="sync"){const p=RL();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=li,p.resume=li,p.pause=li,p}}const c=xn;a.call=(p,g,b)=>Di(p,c,g,b);let h=!1;s==="post"?a.scheduler=p=>{Pn(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():s_(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=$M(t,e,a);return Rl&&(u?u.push(f):l&&f()),f}function xL(t,e,n){const r=this.proxy,i=Jt(t)?t.includes(".")?lC(r,t):()=>r[t]:t.bind(r,r);let s;Ze(e)?s=e:(s=e.handler,n=e);const o=oa(this),a=Ad(i,s.bind(r),n);return o(),a}function lC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function tre(t,e,n=gt){const r=ei(),i=yr(e),s=Vr(e),o=uC(t,i),a=DM((l,u)=>{let c,h=gt,f;return DL(()=>{const p=t[i];Cr(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Cr(g,c)&&!(h!==gt&&Cr(p,h)))return;const b=r.vnode.props;b&&(e in b||i in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${i}`in b||`onUpdate:${s}`in b)||(c=p,u()),r.emit(`update:${e}`,g),Cr(p,g)&&Cr(p,h)&&!Cr(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||gt:a,done:!1}:{done:!0}}}},a}const uC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${yr(e)}Modifiers`]||t[`${Vr(e)}Modifiers`];function NL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||gt;let i=n;const s=e.startsWith("update:"),o=s&&uC(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Jt(c)?c.trim():c)),o.number&&(i=n.map(df)));let a,l=r[a=qh(e)]||r[a=qh(yr(e))];!l&&s&&(l=r[a=qh(Vr(e))]),l&&Di(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Di(u,t,6,i)}}function cC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ze(t)){const l=u=>{const c=cC(u,e,!0);c&&(a=!0,Kt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ht(t)&&r.set(t,null),null):($e(s)?s.forEach(l=>o[l]=null):Kt(o,s),Ht(t)&&r.set(t,o),o)}function kp(t,e){return!t||!Ed(e)?!1:(e=e.slice(2).replace(/Once$/,""),kt(t,e[0].toLowerCase()+e.slice(1))||kt(t,Vr(e))||kt(t,e))}function Kh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:b}=t,A=Nc(t);let R,k;try{if(n.shapeFlag&4){const _=i||r,M=_;R=Lr(u.call(M,_,c,h,p,f,g)),k=a}else{const _=e;R=Lr(_.length>1?_(h,{attrs:a,slots:o,emit:l}):_(h,null)),k=e.props?a:LL(a)}}catch(_){ac.length=0,su(_,t,1),R=et(Rn)}let S=R;if(k&&b!==!1){const _=Object.keys(k),{shapeFlag:M}=S;_.length&&M&7&&(s&&_.some(Ky)&&(k=VL(k,s)),S=Is(S,k,!1,!0))}return n.dirs&&(S=Is(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&mo(S,n.transition),R=S,Nc(A),R}function ML(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(go(i)){if(i.type!==Rn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const LL=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ed(n))&&((e||(e={}))[n]=t[n]);return e},VL=(t,e)=>{const n={};for(const r in t)(!Ky(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function FL(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?zw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!kp(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?zw(r,o,u):!0:!!o;return!1}function zw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!kp(n,s))return!0}return!1}function Rp({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const wf=t=>t.__isSuspense;let pv=0;const $L={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)UL(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}BL(t,e,n,r,i,o,a,l,u)}},hydrate:jL,normalize:HL},nre=$L;function Fc(t,e){const n=t.props&&t.props[e];Ze(n)&&n()}function UL(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=dC(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?(Fc(t,"onPending"),Fc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),_l(f,t.ssFallback)):f.resolve(!1,!0)}function BL(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:A,isHydrating:R}=h;if(b)h.pendingBranch=f,_i(f,b)?(l(b,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():A&&(R||(l(g,p,n,r,i,null,s,o,a),_l(h,p)))):(h.pendingId=pv++,R?(h.isHydrating=!1,h.activeBranch=b):u(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),A?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),_l(h,p))):g&&_i(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&_i(f,g))l(g,f,n,r,i,h,s,o,a),_l(h,f);else if(Fc(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=pv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:k,pendingId:S}=h;k>0?setTimeout(()=>{h.pendingId===S&&h.fallback(p)},k):k===0&&h.fallback(p)}}function dC(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:b,remove:A}}=u;let R;const k=WL(t);k&&e&&e.pendingBranch&&(R=e.pendingId,e.deps++);const S=t.props?hf(t.props.timeout):void 0,_=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:pv++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(L=!1,I=!1){const{vnode:E,activeBranch:y,pendingBranch:v,pendingId:T,effects:C,parentComponent:P,container:G}=M;let $=!1;M.isHydrating?M.isHydrating=!1:L||($=y&&v.transition&&v.transition.mode==="out-in",$&&(y.transition.afterLeave=()=>{T===M.pendingId&&(f(v,G,s===_?g(y):s,0),vf(C))}),y&&(b(y.el)===G&&(s=g(y)),p(y,P,M,!0)),$||f(v,G,s,0)),_l(M,v),M.pendingBranch=null,M.isInFallback=!1;let B=M.parent,F=!1;for(;B;){if(B.pendingBranch){B.effects.push(...C),F=!0;break}B=B.parent}!F&&!$&&vf(C),M.effects=[],k&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),Fc(E,"onResolve")},fallback(L){if(!M.pendingBranch)return;const{vnode:I,activeBranch:E,parentComponent:y,container:v,namespace:T}=M;Fc(I,"onFallback");const C=g(E),P=()=>{M.isInFallback&&(h(null,L,v,C,y,null,T,a,l),_l(M,L))},G=L.transition&&L.transition.mode==="out-in";G&&(E.transition.afterLeave=P),M.isInFallback=!0,p(E,y,null,!0),G||P()},move(L,I,E){M.activeBranch&&f(M.activeBranch,L,I,E),M.container=L},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(L,I,E){const y=!!M.pendingBranch;y&&M.deps++;const v=L.vnode.el;L.asyncDep.catch(T=>{su(T,L,0)}).then(T=>{if(L.isUnmounted||M.isUnmounted||M.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:C}=L;vv(L,T,!1),v&&(C.el=v);const P=!v&&L.subTree.el;I(L,C,b(v||L.subTree.el),v?null:g(L.subTree),M,o,E),P&&A(P),Rp(L,C.el),y&&--M.deps===0&&M.resolve()})},unmount(L,I){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,L,I),M.pendingBranch&&p(M.pendingBranch,n,L,I)}};return M}function jL(t,e,n,r,i,s,o,a,l){const u=e.suspense=dC(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function HL(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Kw(r?n.default:n),t.ssFallback=r?Kw(n.fallback):et(Rn)}function Kw(t){let e;if(Ze(t)){const n=sa&&t._c;n&&(t._d=!1,W()),t=t(),n&&(t._d=!0,e=mr,fC())}return $e(t)&&(t=ML(t)),t=Lr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function hC(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):vf(t)}function _l(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Rp(r,i))}function WL(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Me=Symbol.for("v-fgt"),Xo=Symbol.for("v-txt"),Rn=Symbol.for("v-cmt"),bl=Symbol.for("v-stc"),ac=[];let mr=null;function W(t=!1){ac.push(mr=t?null:[])}function fC(){ac.pop(),mr=ac[ac.length-1]||null}let sa=1;function Gw(t,e=!1){sa+=t,t<0&&mr&&e&&(mr.hasOnce=!0)}function pC(t){return t.dynamicChildren=sa>0?mr||pl:null,fC(),sa>0&&mr&&mr.push(t),t}function ee(t,e,n,r,i,s){return pC(Ae(t,e,n,r,i,s,!0))}function qe(t,e,n,r,i){return pC(et(t,e,n,r,i,!0))}function go(t){return t?t.__v_isVNode===!0:!1}function _i(t,e){return t.type===e.type&&t.key===e.key}function rre(t){}const mC=({key:t})=>t??null,Gh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||an(t)||Ze(t)?{i:Ln,r:t,k:e,f:!!n}:t:null);function Ae(t,e=null,n=null,r=0,i=null,s=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mC(e),ref:e&&Gh(e),scopeId:Op,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ln};return a?(v_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Jt(n)?8:16),sa>0&&!o&&mr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&mr.push(l),l}const et=qL;function qL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===qA)&&(t=Rn),go(t)){const a=Is(t,e,!0);return n&&v_(a,n),sa>0&&!s&&mr&&(a.shapeFlag&6?mr[mr.indexOf(t)]=a:mr.push(a)),a.patchFlag=-2,a}if(QL(t)&&(t=t.__vccOpts),e){e=Zn(e);let{class:a,style:l}=e;a&&!Jt(a)&&(e.class=tt(a)),Ht(l)&&(r_(l)&&!$e(l)&&(l=Kt({},l)),e.style=kr(l))}const o=Jt(t)?1:wf(t)?128:MA(t)?64:Ht(t)?4:Ze(t)?2:0;return Ae(t,e,n,r,i,o,s,!0)}function Zn(t){return t?r_(t)||JA(t)?Kt({},t):t:null}function Is(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?pe(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&mC(u),ref:e&&e.ref?n&&s?$e(s)?s.concat(Gh(e)):[s,Gh(e)]:Gh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&mo(c,l.clone(c)),c}function Dn(t=" ",e=0){return et(Xo,null,t,e)}function ire(t,e){const n=et(bl,null,t);return n.staticCount=e,n}function de(t="",e=!1){return e?(W(),qe(Rn,null,t)):et(Rn,null,t)}function Lr(t){return t==null||typeof t=="boolean"?et(Rn):$e(t)?et(Me,null,t.slice()):go(t)?Ys(t):et(Xo,null,String(t))}function Ys(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function v_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),v_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!JA(e)?e._ctx=Ln:i===3&&Ln&&(Ln.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:Ln},n=32):(e=String(e),r&64?(n=16,e=[Dn(e)]):n=8);t.children=e,t.shapeFlag|=n}function pe(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=tt([e.class,r.class]));else if(i==="style")e.style=kr([e.style,r.style]);else if(Ed(i)){const s=e[i],o=r[i];o&&s!==o&&!($e(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Nr(t,e,n,r=null){Di(t,e,7,[n,r])}const zL=YA();let KL=0;function gC(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||zL,s={uid:KL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new aA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:eC(r,i),emitsOptions:cC(r,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=NL.bind(null,s),t.ce&&t.ce(s),s}let xn=null;const ei=()=>xn||Ln;let Tf,mv;{const t=Tp(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Tf=e("__VUE_INSTANCE_SETTERS__",n=>xn=n),mv=e("__VUE_SSR_SETTERS__",n=>Rl=n)}const oa=t=>{const e=xn;return Tf(t),t.scope.on(),()=>{t.scope.off(),Tf(e)}},gv=()=>{xn&&xn.scope.off(),Tf(null)};function vC(t){return t.vnode.shapeFlag&4}let Rl=!1;function yC(t,e=!1,n=!1){e&&mv(e);const{props:r,children:i}=t.vnode,s=vC(t);wL(t,r,s,e),SL(t,i,n);const o=s?GL(t,e):void 0;return e&&mv(!1),o}function GL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,cv);const{setup:r}=n;if(r){So();const i=t.setupContext=r.length>1?bC(t):null,s=oa(t),o=Id(r,t,0,[t.props,i]),a=Yy(o);if(Ao(),s(),(a||t.sp)&&!io(t)&&a_(t),a){if(o.then(gv,gv),e)return o.then(l=>{vv(t,l,e)}).catch(l=>{su(l,t,0)});t.asyncDep=o}else vv(t,o,e)}else _C(t,e)}function vv(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ht(e)&&(t.setupState=CA(e)),_C(t,n)}let Ef,yv;function sre(t){Ef=t,yv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,hL))}}const ore=()=>!Ef;function _C(t,e,n){const r=t.type;if(!t.render){if(!e&&Ef&&!r.render){const i=r.template||p_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Kt(Kt({isCustomElement:s,delimiters:a},o),l);r.render=Ef(i,u)}}t.render=r.render||li,yv&&yv(t)}{const i=oa(t);So();try{fL(t)}finally{Ao(),i()}}}const YL={get(t,e){return cr(t,"get",""),t[e]}};function bC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,YL),slots:t.slots,emit:t.emit,expose:e}}function Cd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(CA(i_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in sc)return sc[n](t)},has(e,n){return n in e||n in sc}})):t.proxy}function _v(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function QL(t){return Ze(t)&&"__vccOpts"in t}const le=(t,e)=>VM(t,e,Rl);function Dl(t,e,n){const r=arguments.length;return r===2?Ht(e)&&!$e(e)?go(e)?et(t,null,[e]):et(t,e):et(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&go(n)&&(n=[n]),et(t,e,n))}function are(){}function lre(t,e,n,r){const i=n[r];if(i&&XL(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function XL(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Cr(n[r],e[r]))return!1;return sa>0&&mr&&mr.push(t),!0}const JL="3.5.13",ure=li,cre=jM,dre=Xa,hre=xA,ZL={createComponentInstance:gC,setupComponent:yC,renderComponentRoot:Kh,setCurrentRenderingInstance:Nc,isVNode:go,normalizeVNode:Lr,getComponentPublicInstance:Cd,ensureValidVNode:f_,pushWarningContext:UM,popWarningContext:BM},fre=ZL,pre=null,mre=null,gre=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bv;const Yw=typeof window<"u"&&window.trustedTypes;if(Yw)try{bv=Yw.createPolicy("vue",{createHTML:t=>t})}catch{}const wC=bv?t=>bv.createHTML(t):t=>t,e2="http://www.w3.org/2000/svg",t2="http://www.w3.org/1998/Math/MathML",ds=typeof document<"u"?document:null,Qw=ds&&ds.createElement("template"),n2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ds.createElementNS(e2,t):e==="mathml"?ds.createElementNS(t2,t):n?ds.createElement(t,{is:n}):ds.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ds.createTextNode(t),createComment:t=>ds.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ds.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Qw.innerHTML=wC(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Qw.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Fs="transition",Ru="animation",xl=Symbol("_vtc"),TC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},EC=Kt({},UA,TC),r2=t=>(t.displayName="Transition",t.props=EC,t),Co=r2((t,{slots:e})=>Dl(KM,IC(t),e)),Vo=(t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},Xw=t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1;function IC(t){const e={};for(const C in t)C in TC||(e[C]=t[C]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=i2(i),b=g&&g[0],A=g&&g[1],{onBeforeEnter:R,onEnter:k,onEnterCancelled:S,onLeave:_,onLeaveCancelled:M,onBeforeAppear:L=R,onAppear:I=k,onAppearCancelled:E=S}=e,y=(C,P,G,$)=>{C._enterCancelled=$,Ws(C,P?c:a),Ws(C,P?u:o),G&&G()},v=(C,P)=>{C._isLeaving=!1,Ws(C,h),Ws(C,p),Ws(C,f),P&&P()},T=C=>(P,G)=>{const $=C?I:k,B=()=>y(P,C,G);Vo($,[P,B]),Jw(()=>{Ws(P,C?l:s),Fi(P,C?c:a),Xw($)||Zw(P,r,b,B)})};return Kt(e,{onBeforeEnter(C){Vo(R,[C]),Fi(C,s),Fi(C,o)},onBeforeAppear(C){Vo(L,[C]),Fi(C,l),Fi(C,u)},onEnter:T(!1),onAppear:T(!0),onLeave(C,P){C._isLeaving=!0;const G=()=>v(C,P);Fi(C,h),C._enterCancelled?(Fi(C,f),wv()):(wv(),Fi(C,f)),Jw(()=>{C._isLeaving&&(Ws(C,h),Fi(C,p),Xw(_)||Zw(C,r,A,G))}),Vo(_,[C,G])},onEnterCancelled(C){y(C,!1,void 0,!0),Vo(S,[C])},onAppearCancelled(C){y(C,!0,void 0,!0),Vo(E,[C])},onLeaveCancelled(C){v(C),Vo(M,[C])}})}function i2(t){if(t==null)return null;if(Ht(t))return[Zm(t.enter),Zm(t.leave)];{const e=Zm(t);return[e,e]}}function Zm(t){return hf(t)}function Fi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[xl]||(t[xl]=new Set)).add(e)}function Ws(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[xl];n&&(n.delete(e),n.size||(t[xl]=void 0))}function Jw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let s2=0;function Zw(t,e,n,r){const i=t._endId=++s2,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=SC(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function SC(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${Fs}Delay`),s=r(`${Fs}Duration`),o=eT(i,s),a=r(`${Ru}Delay`),l=r(`${Ru}Duration`),u=eT(a,l);let c=null,h=0,f=0;e===Fs?o>0&&(c=Fs,h=o,f=s.length):e===Ru?u>0&&(c=Ru,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Fs:Ru:null,f=c?c===Fs?s.length:l.length:0);const p=c===Fs&&/\b(transform|all)(,|$)/.test(r(`${Fs}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function eT(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>tT(n)+tT(t[r])))}function tT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function wv(){return document.body.offsetHeight}function o2(t,e,n){const r=t[xl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const If=Symbol("_vod"),AC=Symbol("_vsh"),lc={beforeMount(t,{value:e},{transition:n}){t[If]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Du(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Du(t,!0),r.enter(t)):r.leave(t,()=>{Du(t,!1)}):Du(t,e))},beforeUnmount(t,{value:e}){Du(t,e)}};function Du(t,e){t.style.display=e?t[If]:"none",t[AC]=!e}function a2(){lc.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const CC=Symbol("");function vre(t){const e=ei();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Sf(s,i))},r=()=>{const i=t(e.proxy);e.ce?Sf(e.ce,i):Tv(e.subTree,i),n(i)};l_(()=>{vf(r)}),yn(()=>{In(r,li,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Ia(()=>i.disconnect())})}function Tv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Tv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Sf(t.el,e);else if(t.type===Me)t.children.forEach(n=>Tv(n,e));else if(t.type===bl){let{el:n,anchor:r}=t;for(;n&&(Sf(n,e),n!==r);)n=n.nextSibling}}function Sf(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[CC]=r}}const l2=/(^|;)\s*display\s*:/;function u2(t,e,n){const r=t.style,i=Jt(n);let s=!1;if(n&&!i){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Yh(r,a,"")}else for(const o in e)n[o]==null&&Yh(r,o,"");for(const o in n)o==="display"&&(s=!0),Yh(r,o,n[o])}else if(i){if(e!==n){const o=r[CC];o&&(n+=";"+o),r.cssText=n,s=l2.test(n)}}else e&&t.removeAttribute("style");If in t&&(t[If]=s?r.display:"",t[AC]&&(r.display="none"))}const nT=/\s*!important$/;function Yh(t,e,n){if($e(n))n.forEach(r=>Yh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=c2(t,e);nT.test(n)?t.setProperty(Vr(r),n.replace(nT,""),"important"):t[r]=n}}const rT=["Webkit","Moz","ms"],eg={};function c2(t,e){const n=eg[e];if(n)return n;let r=yr(e);if(r!=="filter"&&r in t)return eg[e]=r;r=wp(r);for(let i=0;i<rT.length;i++){const s=rT[i]+r;if(s in t)return eg[e]=s}return e}const iT="http://www.w3.org/1999/xlink";function sT(t,e,n,r,i,s=lM(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(iT,e.slice(6,e.length)):t.setAttributeNS(iT,e,n):n==null||s&&!iA(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Ri(n)?String(n):n)}function oT(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?wC(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=iA(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ps(t,e,n,r){t.addEventListener(e,n,r)}function d2(t,e,n,r){t.removeEventListener(e,n,r)}const aT=Symbol("_vei");function h2(t,e,n,r,i=null){const s=t[aT]||(t[aT]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=f2(e);if(r){const u=s[e]=g2(r,i);ps(t,a,u,l)}else o&&(d2(t,a,o,l),s[e]=void 0)}}const lT=/(?:Once|Passive|Capture)$/;function f2(t){let e;if(lT.test(t)){e={};let r;for(;r=t.match(lT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vr(t.slice(2)),e]}let tg=0;const p2=Promise.resolve(),m2=()=>tg||(p2.then(()=>tg=0),tg=Date.now());function g2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Di(v2(r,n.value),e,5,[r])};return n.value=t,n.attached=m2(),n}function v2(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const uT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,y2=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?o2(t,r,o):e==="style"?u2(t,n,r):Ed(e)?Ky(e)||h2(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_2(t,e,r,o))?(oT(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&sT(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Jt(r))?oT(t,yr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),sT(t,e,r,o))};function _2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&uT(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return uT(e)&&Jt(n)?!1:e in t}const cT={};/*! #__NO_SIDE_EFFECTS__ */function b2(t,e,n){const r=Gt(t,e);_p(r)&&Kt(r,e);class i extends y_{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const yre=(t,e)=>b2(t,e,V2),w2=typeof HTMLElement<"u"?HTMLElement:class{};class y_ extends w2{constructor(e,n={},r=Iv){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Iv?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof y_){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Hn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!$e(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=hf(this._props[l])),(a||(a=Object.create(null)))[yr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)kt(this,r)||Object.defineProperty(this,r,{get:()=>Y(n[r])})}_resolveProps(e){const{props:n}=e,r=$e(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(yr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):cT;const i=yr(e);n&&this._numberProps&&this._numberProps[i]&&(r=hf(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===cT?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(Vr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Vr(e),n+""):n||this.removeAttribute(Vr(e)),s&&s.observe(this,{attributes:!0})}}_update(){$c(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=et(this._def,Kt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,_p(o[0])?Kt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Vr(s)!==s&&i(Vr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function T2(t){const e=ei(),n=e&&e.ce;return n||null}function _re(){const t=T2();return t&&t.shadowRoot}function bre(t="$style"){{const e=ei();if(!e)return gt;const n=e.type.__cssModules;if(!n)return gt;const r=n[t];return r||gt}}const OC=new WeakMap,PC=new WeakMap,Af=Symbol("_moveCb"),dT=Symbol("_enterCb"),E2=t=>(delete t.props.mode,t),I2=E2({name:"TransitionGroup",props:Kt({},EC,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ei(),r=$A();let i,s;return u_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!P2(i[0].el,n.vnode.el,o))return;i.forEach(A2),i.forEach(C2);const a=i.filter(O2);wv(),a.forEach(l=>{const u=l.el,c=u.style;Fi(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[Af]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[Af]=null,Ws(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=mt(t),a=IC(o);let l=o.tag||Me;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),mo(c,Mc(c,a,r,n)),OC.set(c,c.el.getBoundingClientRect()))}s=e.default?o_(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&mo(c,Mc(c,a,r,n))}return et(l,null,s)}}}),S2=I2;function A2(t){const e=t.el;e[Af]&&e[Af](),e[dT]&&e[dT]()}function C2(t){PC.set(t,t.el.getBoundingClientRect())}function O2(t){const e=OC.get(t),n=PC.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function P2(t,e,n){const r=t.cloneNode(),i=t[xl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=SC(r);return s.removeChild(r),o}const vo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>vl(e,n):e};function k2(t){t.target.composing=!0}function hT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ci=Symbol("_assign"),Ev={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ci]=vo(i);const s=r||i.props&&i.props.type==="number";ps(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=df(a)),t[ci](a)}),n&&ps(t,"change",()=>{t.value=t.value.trim()}),e||(ps(t,"compositionstart",k2),ps(t,"compositionend",hT),ps(t,"change",hT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[ci]=vo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?df(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},kC={deep:!0,created(t,e,n){t[ci]=vo(n),ps(t,"change",()=>{const r=t._modelValue,i=Nl(t),s=t.checked,o=t[ci];if($e(r)){const a=Ep(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ea(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(DC(t,s))})},mounted:fT,beforeUpdate(t,e,n){t[ci]=vo(n),fT(t,e,n)}};function fT(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if($e(e))i=Ep(e,r.props.value)>-1;else if(Ea(e))i=e.has(r.props.value);else{if(e===n)return;i=po(e,DC(t,!0))}t.checked!==i&&(t.checked=i)}const RC={created(t,{value:e},n){t.checked=po(e,n.props.value),t[ci]=vo(n),ps(t,"change",()=>{t[ci](Nl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ci]=vo(r),e!==n&&(t.checked=po(e,r.props.value))}},R2={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ea(e);ps(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?df(Nl(o)):Nl(o));t[ci](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Hn(()=>{t._assigning=!1})}),t[ci]=vo(r)},mounted(t,{value:e}){pT(t,e)},beforeUpdate(t,e,n){t[ci]=vo(n)},updated(t,{value:e}){t._assigning||pT(t,e)}};function pT(t,e){const n=t.multiple,r=$e(e);if(!(n&&!r&&!Ea(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Nl(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Ep(e,a)>-1}else o.selected=e.has(a);else if(po(Nl(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Nl(t){return"_value"in t?t._value:t.value}function DC(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const D2={created(t,e,n){wh(t,e,n,null,"created")},mounted(t,e,n){wh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){wh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){wh(t,e,n,r,"updated")}};function xC(t,e){switch(t){case"SELECT":return R2;case"TEXTAREA":return Ev;default:switch(e){case"checkbox":return kC;case"radio":return RC;default:return Ev}}}function wh(t,e,n,r,i){const o=xC(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function x2(){Ev.getSSRProps=({value:t})=>({value:t}),RC.getSSRProps=({value:t},e)=>{if(e.props&&po(e.props.value,t))return{checked:!0}},kC.getSSRProps=({value:t},e)=>{if($e(t)){if(e.props&&Ep(t,e.props.value)>-1)return{checked:!0}}else if(Ea(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},D2.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=xC(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const N2=["ctrl","shift","alt","meta"],M2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>N2.some(n=>t[`${n}Key`]&&!e.includes(n))},Lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=M2[e[o]];if(a&&a(i,e))return}return t(i,...s)})},L2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Vr(i.key);if(e.some(o=>o===s||L2[o]===s))return t(i)})},NC=Kt({patchProp:y2},n2);let uc,mT=!1;function MC(){return uc||(uc=CL(NC))}function LC(){return uc=mT?uc:OL(NC),mT=!0,uc}const $c=(...t)=>{MC().render(...t)},wre=(...t)=>{LC().hydrate(...t)},Iv=(...t)=>{const e=MC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=FC(r);if(!i)return;const s=e._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,VC(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},V2=(...t)=>{const e=LC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=FC(r);if(i)return n(i,!0,VC(i))},e};function VC(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function FC(t){return Jt(t)?document.querySelector(t):t}let gT=!1;const Tre=()=>{gT||(gT=!0,x2(),a2())};function F2(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Cf=F2();let vT=0;const $2=()=>{const t=vT;return vT+=1,t},$C=()=>(t,e)=>{const n={...t,id:$2(),group:t.group||""};return Cf.emit("notify",{notification:n,timeout:e}),()=>Cf.emit("close",n.id)},UC="context",Sv=Gt({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=e,i=Rr(UC),s=Dr({notifications:[],timeouts:{}}),o=le(()=>s.notifications.filter(p=>p.group===i.group)),a=le(()=>i.position==="bottom"?[...o.value]:[...o.value].reverse()),l=(p,g)=>{s.timeouts[p]=window.setTimeout(()=>{g!==-1&&u(p)},Math.max(g||3e3,0))},u=p=>{s.notifications.splice(s.notifications.findIndex(g=>g.id===p),1),clearTimeout(s.timeouts[p])},c=({notification:p,timeout:g})=>{s.notifications.length!==n.maxNotifications&&(s.notifications.push(p),l(p.id,g))},h=p=>{r("close"),u(p)},f=(p,g,b)=>{g?clearTimeout(s.timeouts[p]):l(p,b)};return yn(()=>{Cf.on("notify",c),Cf.on("close",u)}),(p,g)=>(W(),qe(S2,{"enter-active-class":o.value.length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Qe(()=>[_e(p.$slots,"default",{notifications:a.value,close:h,hovering:f})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),yT=Gt({inheritAttrs:!1,__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return oc(UC,{group:e.group,position:e.position}),(n,r)=>_e(n.$slots,"default",{group:n.group})}});function U2(t){t.config.globalProperties.$notify=$C(),t.component("Notification",Sv),t.component("NotificationGroup",yT),t.component("notification",Sv),t.component("notificationGroup",yT)}const B2={install:U2},j2=$C(),H2={class:"px-4 py-2 -mx-3"},W2={class:"mx-3"},q2={class:"font-semibold text-white"},z2={class:"text-sm text-gray-100"},ng=Gt({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(W(),qe(Y(Sv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Qe(({notifications:r})=>[(W(!0),ee(Me,null,Ft(r,i=>(W(),ee("div",{key:i.id},[i.type===e.type?(W(),ee("div",{key:0,class:tt("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[Ae("div",H2,[Ae("div",W2,[Ae("span",q2,ht(i.title),1),Ae("p",z2,ht(i.text),1)])])],2)):de("",!0)]))),128))]),_:1}))}}),K2={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},G2={class:"w-full max-w-sm"},Y2=Gt({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Kr("NotificationGroup",!0);return W(),qe(r,null,{default:Qe(()=>[Ae("div",K2,[Ae("div",G2,[et(ng,{type:"error",color:"bg-red-800"}),et(ng,{type:"warning",color:"bg-yellow-800"}),et(ng,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ja=typeof document<"u";function BC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Q2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&BC(t.default)}const Mt=Object.assign;function rg(t,e){const n={};for(const r in e){const i=e[r];n[r]=xi(i)?i.map(t):t(i)}return n}const cc=()=>{},xi=Array.isArray,jC=/#/g,X2=/&/g,J2=/\//g,Z2=/=/g,eV=/\?/g,HC=/\+/g,tV=/%5B/g,nV=/%5D/g,WC=/%5E/g,rV=/%60/g,qC=/%7B/g,iV=/%7C/g,zC=/%7D/g,sV=/%20/g;function __(t){return encodeURI(""+t).replace(iV,"|").replace(tV,"[").replace(nV,"]")}function oV(t){return __(t).replace(qC,"{").replace(zC,"}").replace(WC,"^")}function Av(t){return __(t).replace(HC,"%2B").replace(sV,"+").replace(jC,"%23").replace(X2,"%26").replace(rV,"`").replace(qC,"{").replace(zC,"}").replace(WC,"^")}function aV(t){return Av(t).replace(Z2,"%3D")}function lV(t){return __(t).replace(jC,"%23").replace(eV,"%3F")}function uV(t){return t==null?"":lV(t).replace(J2,"%2F")}function Uc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const cV=/\/$/,dV=t=>t.replace(cV,"");function ig(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=mV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Uc(o)}}function hV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function _T(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ml(e.matched[r],n.matched[i])&&KC(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ml(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function KC(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!pV(t[n],e[n]))return!1;return!0}function pV(t,e){return xi(t)?bT(t,e):xi(e)?bT(e,t):t===e}function bT(t,e){return xi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function mV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const $s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bc;(function(t){t.pop="pop",t.push="push"})(Bc||(Bc={}));var dc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(dc||(dc={}));function gV(t){if(!t)if(Ja){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),dV(t)}const vV=/^[^#]+#/;function yV(t,e){return t.replace(vV,"#")+e}function _V(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Dp=()=>({left:window.scrollX,top:window.scrollY});function bV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=_V(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function wT(t,e){return(history.state?history.state.position-e:-1)+t}const Cv=new Map;function wV(t,e){Cv.set(t,e)}function TV(t){const e=Cv.get(t);return Cv.delete(t),e}let EV=()=>location.protocol+"//"+location.host;function GC(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),_T(l,"")}return _T(n,t)+r+i}function IV(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=GC(t,location),g=n.value,b=e.value;let A=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}A=b?f.position-b.position:0}else r(p);i.forEach(R=>{R(n.value,g,{delta:A,type:Bc.pop,direction:A?A>0?dc.forward:dc.back:dc.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Mt({},f.state,{scroll:Dp()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function TT(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Dp():null}}function SV(t){const{history:e,location:n}=window,r={value:GC(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:EV()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=Mt({},e.state,TT(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Mt({},i.value,e.state,{forward:l,scroll:Dp()});s(c.current,c,!0);const h=Mt({},TT(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function AV(t){t=gV(t);const e=SV(t),n=IV(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Mt({location:"",base:t,go:r,createHref:yV.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function CV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),AV(t)}function OV(t){return typeof t=="string"||t&&typeof t=="object"}function YC(t){return typeof t=="string"||typeof t=="symbol"}const QC=Symbol("");var ET;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ET||(ET={}));function Ll(t,e){return Mt(new Error,{type:t,[QC]:!0},e)}function us(t,e){return t instanceof Error&&QC in t&&(e==null||!!(t.type&e))}const IT="[^/]+?",PV={sensitive:!1,strict:!1,start:!0,end:!0},kV=/[.+*?^${}()[\]/\\]/g;function RV(t,e){const n=Mt({},PV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(kV,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:b,optional:A,regexp:R}=f;s.push({name:g,repeatable:b,optional:A});const k=R||IT;if(k!==IT){p+=10;try{new RegExp(`(${k})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${g}" (${k}): `+_.message)}}let S=b?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(S=A&&u.length<2?`(?:/${S})`:"/"+S),A&&(S+="?"),i+=S,p+=20,A&&(p+=-8),b&&(p+=-20),k===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:b,optional:A}=p,R=g in u?u[g]:"";if(xi(R)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const k=xi(R)?R.join("/"):R;if(!k)if(A)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=k}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function DV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function XC(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=DV(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(ST(r))return 1;if(ST(i))return-1}return i.length-r.length}function ST(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xV={type:0,value:""},NV=/[a-zA-Z0-9_]/;function MV(t){if(!t)return[[]];if(t==="/")return[[xV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:NV.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function LV(t,e,n){const r=RV(MV(t.path),n),i=Mt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function VV(t,e){const n=[],r=new Map;e=PT({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,b=CT(h);b.aliasOf=p&&p.record;const A=PT(e,h),R=[b];if("alias"in h){const _=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of _)R.push(CT(Mt({},b,{components:p?p.record.components:b.components,path:M,aliasOf:p?p.record:b})))}let k,S;for(const _ of R){const{path:M}=_;if(f&&M[0]!=="/"){const L=f.record.path,I=L[L.length-1]==="/"?"":"/";_.path=f.record.path+(M&&I+M)}if(k=LV(_,f,A),p?p.alias.push(k):(S=S||k,S!==k&&S.alias.push(k),g&&h.name&&!OT(k)&&o(h.name)),JC(k)&&l(k),b.children){const L=b.children;for(let I=0;I<L.length;I++)s(L[I],k,p&&p.children[I])}p=p||k}return S?()=>{o(S)}:cc}function o(h){if(YC(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=UV(h,n);n.splice(f,0,h),h.record.name&&!OT(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},b,A;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Ll(1,{location:h});A=p.record.name,g=Mt(AT(f.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),h.params&&AT(h.params,p.keys.map(S=>S.name))),b=p.stringify(g)}else if(h.path!=null)b=h.path,p=n.find(S=>S.re.test(b)),p&&(g=p.parse(b),A=p.record.name);else{if(p=f.name?r.get(f.name):n.find(S=>S.re.test(f.path)),!p)throw Ll(1,{location:h,currentLocation:f});A=p.record.name,g=Mt({},f.params,h.params),b=p.stringify(g)}const R=[];let k=p;for(;k;)R.unshift(k.record),k=k.parent;return{name:A,path:b,params:g,matched:R,meta:$V(R)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function AT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function CT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:FV(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function FV(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function OT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $V(t){return t.reduce((e,n)=>Mt(e,n.meta),{})}function PT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function UV(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;XC(t,e[s])<0?r=s:n=s+1}const i=BV(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function BV(t){let e=t;for(;e=e.parent;)if(JC(e)&&XC(t,e)===0)return e}function JC({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function jV(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(HC," "),o=s.indexOf("="),a=Uc(o<0?s:s.slice(0,o)),l=o<0?null:Uc(s.slice(o+1));if(a in e){let u=e[a];xi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function kT(t){let e="";for(let n in t){const r=t[n];if(n=aV(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(xi(r)?r.map(s=>s&&Av(s)):[r&&Av(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function HV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=xi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const WV=Symbol(""),RT=Symbol(""),xp=Symbol(""),b_=Symbol(""),Ov=Symbol("");function xu(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Qs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Ll(4,{from:n,to:e})):f instanceof Error?l(f):OV(f)?l(Ll(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function sg(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(BC(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Qs(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Q2(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Qs(p,n,r,o,a,i)()}))}}return s}function DT(t){const e=Rr(xp),n=Rr(b_),r=le(()=>{const l=Y(t.to);return e.resolve(l)}),i=le(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Ml.bind(null,c));if(f>-1)return f;const p=xT(l[u-2]);return u>1&&xT(c)===p&&h[h.length-1].path!==p?h.findIndex(Ml.bind(null,l[u-2])):f}),s=le(()=>i.value>-1&&YV(n.params,r.value.params)),o=le(()=>i.value>-1&&i.value===n.matched.length-1&&KC(n.params,r.value.params));function a(l={}){if(GV(l)){const u=e[Y(t.replace)?"replace":"push"](Y(t.to)).catch(cc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function qV(t){return t.length===1?t[0]:t}const zV=Gt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:DT,setup(t,{slots:e}){const n=Dr(DT(t)),{options:r}=Rr(xp),i=le(()=>({[NT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[NT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&qV(e.default(n));return t.custom?s:Dl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),KV=zV;function GV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function YV(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!xi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function xT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const NT=(t,e,n)=>t??e??n,QV=Gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Rr(Ov),i=le(()=>t.route||r.value),s=Rr(RT,0),o=le(()=>{let u=Y(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=le(()=>i.value.matched[o.value]);oc(RT,le(()=>o.value+1)),oc(WV,a),oc(Ov,i);const l=fe();return In(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Ml(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return MT(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=Dl(f,Mt({},g,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return MT(n.default,{Component:A,route:u})||A}}});function MT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ZC=QV;function XV(t){const e=VV(t.routes,t),n=t.parseQuery||jV,r=t.stringifyQuery||kT,i=t.history,s=xu(),o=xu(),a=xu(),l=SA($s);let u=$s;Ja&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=rg.bind(null,Q=>""+Q),h=rg.bind(null,uV),f=rg.bind(null,Uc);function p(Q,ie){let X,ce;return YC(Q)?(X=e.getRecordMatcher(Q),ce=ie):ce=Q,e.addRoute(ce,X)}function g(Q){const ie=e.getRecordMatcher(Q);ie&&e.removeRoute(ie)}function b(){return e.getRoutes().map(Q=>Q.record)}function A(Q){return!!e.getRecordMatcher(Q)}function R(Q,ie){if(ie=Mt({},ie||l.value),typeof Q=="string"){const V=ig(n,Q,ie.path),j=e.resolve({path:V.path},ie),oe=i.createHref(V.fullPath);return Mt(V,j,{params:f(j.params),hash:Uc(V.hash),redirectedFrom:void 0,href:oe})}let X;if(Q.path!=null)X=Mt({},Q,{path:ig(n,Q.path,ie.path).path});else{const V=Mt({},Q.params);for(const j in V)V[j]==null&&delete V[j];X=Mt({},Q,{params:h(V)}),ie.params=h(ie.params)}const ce=e.resolve(X,ie),be=Q.hash||"";ce.params=c(f(ce.params));const ne=hV(r,Mt({},Q,{hash:oV(be),path:ce.path})),D=i.createHref(ne);return Mt({fullPath:ne,hash:be,query:r===kT?HV(Q.query):Q.query||{}},ce,{redirectedFrom:void 0,href:D})}function k(Q){return typeof Q=="string"?ig(n,Q,l.value.path):Mt({},Q)}function S(Q,ie){if(u!==Q)return Ll(8,{from:ie,to:Q})}function _(Q){return I(Q)}function M(Q){return _(Mt(k(Q),{replace:!0}))}function L(Q){const ie=Q.matched[Q.matched.length-1];if(ie&&ie.redirect){const{redirect:X}=ie;let ce=typeof X=="function"?X(Q):X;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=k(ce):{path:ce},ce.params={}),Mt({query:Q.query,hash:Q.hash,params:ce.path!=null?{}:Q.params},ce)}}function I(Q,ie){const X=u=R(Q),ce=l.value,be=Q.state,ne=Q.force,D=Q.replace===!0,V=L(X);if(V)return I(Mt(k(V),{state:typeof V=="object"?Mt({},be,V.state):be,force:ne,replace:D}),ie||X);const j=X;j.redirectedFrom=ie;let oe;return!ne&&fV(r,ce,X)&&(oe=Ll(16,{to:j,from:ce}),q(ce,ce,!0,!1)),(oe?Promise.resolve(oe):v(j,ce)).catch(se=>us(se)?us(se,2)?se:O(se):U(se,j,ce)).then(se=>{if(se){if(us(se,2))return I(Mt({replace:D},k(se.to),{state:typeof se.to=="object"?Mt({},be,se.to.state):be,force:ne}),ie||j)}else se=C(j,ce,!0,D,be);return T(j,ce,se),se})}function E(Q,ie){const X=S(Q,ie);return X?Promise.reject(X):Promise.resolve()}function y(Q){const ie=he.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(Q):Q()}function v(Q,ie){let X;const[ce,be,ne]=JV(Q,ie);X=sg(ce.reverse(),"beforeRouteLeave",Q,ie);for(const V of ce)V.leaveGuards.forEach(j=>{X.push(Qs(j,Q,ie))});const D=E.bind(null,Q,ie);return X.push(D),H(X).then(()=>{X=[];for(const V of s.list())X.push(Qs(V,Q,ie));return X.push(D),H(X)}).then(()=>{X=sg(be,"beforeRouteUpdate",Q,ie);for(const V of be)V.updateGuards.forEach(j=>{X.push(Qs(j,Q,ie))});return X.push(D),H(X)}).then(()=>{X=[];for(const V of ne)if(V.beforeEnter)if(xi(V.beforeEnter))for(const j of V.beforeEnter)X.push(Qs(j,Q,ie));else X.push(Qs(V.beforeEnter,Q,ie));return X.push(D),H(X)}).then(()=>(Q.matched.forEach(V=>V.enterCallbacks={}),X=sg(ne,"beforeRouteEnter",Q,ie,y),X.push(D),H(X))).then(()=>{X=[];for(const V of o.list())X.push(Qs(V,Q,ie));return X.push(D),H(X)}).catch(V=>us(V,8)?V:Promise.reject(V))}function T(Q,ie,X){a.list().forEach(ce=>y(()=>ce(Q,ie,X)))}function C(Q,ie,X,ce,be){const ne=S(Q,ie);if(ne)return ne;const D=ie===$s,V=Ja?history.state:{};X&&(ce||D?i.replace(Q.fullPath,Mt({scroll:D&&V&&V.scroll},be)):i.push(Q.fullPath,be)),l.value=Q,q(Q,ie,X,D),O()}let P;function G(){P||(P=i.listen((Q,ie,X)=>{if(!Z.listening)return;const ce=R(Q),be=L(ce);if(be){I(Mt(be,{replace:!0,force:!0}),ce).catch(cc);return}u=ce;const ne=l.value;Ja&&wV(wT(ne.fullPath,X.delta),Dp()),v(ce,ne).catch(D=>us(D,12)?D:us(D,2)?(I(Mt(k(D.to),{force:!0}),ce).then(V=>{us(V,20)&&!X.delta&&X.type===Bc.pop&&i.go(-1,!1)}).catch(cc),Promise.reject()):(X.delta&&i.go(-X.delta,!1),U(D,ce,ne))).then(D=>{D=D||C(ce,ne,!1),D&&(X.delta&&!us(D,8)?i.go(-X.delta,!1):X.type===Bc.pop&&us(D,20)&&i.go(-1,!1)),T(ce,ne,D)}).catch(cc)}))}let $=xu(),B=xu(),F;function U(Q,ie,X){O(Q);const ce=B.list();return ce.length?ce.forEach(be=>be(Q,ie,X)):console.error(Q),Promise.reject(Q)}function x(){return F&&l.value!==$s?Promise.resolve():new Promise((Q,ie)=>{$.add([Q,ie])})}function O(Q){return F||(F=!Q,G(),$.list().forEach(([ie,X])=>Q?X(Q):ie()),$.reset()),Q}function q(Q,ie,X,ce){const{scrollBehavior:be}=t;if(!Ja||!be)return Promise.resolve();const ne=!X&&TV(wT(Q.fullPath,0))||(ce||!X)&&history.state&&history.state.scroll||null;return Hn().then(()=>be(Q,ie,ne)).then(D=>D&&bV(D)).catch(D=>U(D,Q,ie))}const z=Q=>i.go(Q);let te;const he=new Set,Z={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:b,resolve:R,options:t,push:_,replace:M,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:B.add,isReady:x,install(Q){const ie=this;Q.component("RouterLink",KV),Q.component("RouterView",ZC),Q.config.globalProperties.$router=ie,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>Y(l)}),Ja&&!te&&l.value===$s&&(te=!0,_(i.location).catch(be=>{}));const X={};for(const be in $s)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});Q.provide(xp,ie),Q.provide(b_,IA(X)),Q.provide(Ov,l);const ce=Q.unmount;he.add(Q),Q.unmount=function(){he.delete(Q),he.size<1&&(u=$s,P&&P(),P=null,l.value=$s,te=!1,F=!1),ce()}}};function H(Q){return Q.reduce((ie,X)=>ie.then(()=>y(X)),Promise.resolve())}return Z}function JV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ml(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ml(u,l))||i.push(l))}return[n,r,i]}function Ere(){return Rr(xp)}function Ire(t){return Rr(b_)}const ZV=Gt({__name:"App",setup(t){return(e,n)=>(W(),ee(Me,null,[et(Y(ZC)),et(Y2)],64))}});var LT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw ou(e)},ou=function(t){return new Error("Firebase Database ("+eO.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Np={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new tF;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nO=function(t){const e=tO(t);return Np.encodeByteArray(e,!0)},Of=function(t){return nO(t).replace(/\./g,"")},Pf=function(t){try{return Np.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){return rO(void 0,t)}function rO(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rF(n)||(t[n]=rO(t[n],e[n]));return t}function rF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=()=>iO().__FIREBASE_DEFAULTS__,sF=()=>{if(typeof process>"u"||typeof LT>"u")return;const t=LT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pf(t[1]);return e&&JSON.parse(e)},Mp=()=>{try{return iF()||sF()||oF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aF=t=>{var e,n;return(n=(e=Mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sO=t=>{const e=aF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oO=()=>{var t;return(t=Mp())===null||t===void 0?void 0:t.config},lF=t=>{var e;return(e=Mp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Of(JSON.stringify(n)),Of(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wr())}function uF(){var t;const e=(t=Mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dF(){const t=wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cO(){return eO.NODE_ADMIN===!0}function hF(){return!uF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lp(){try{return typeof indexedDB=="object"}catch{return!1}}function dO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function fF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pF,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oo.prototype.create)}}class Oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ti(i,a,r)}}function mF(t,e){return t.replace(gF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){return JSON.parse(t)}function Qn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=jc(Pf(s[0])||""),n=jc(Pf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},vF=function(t){const e=hO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yF=function(t){const e=hO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Pv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Hc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(VT(s)&&VT(o)){if(!Hc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function VT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function bF(t,e){const n=new wF(t,e);return n.subscribe.bind(n)}class wF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=og),i.error===void 0&&(i.error=og),i.complete===void 0&&(i.complete=og);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}function EF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=1e3,CF=2,OF=4*60*60*1e3,PF=.5;function kv(t,e=AF,n=CF){const r=e*Math.pow(n,t),i=Math.round(PF*r*(Math.random()-.5)*2);return Math.min(OF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DF(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RF(t){return t===$o?void 0:t}function DF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const NF={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},MF=ft.INFO,LF={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},VF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lu{constructor(e){this.name=e,this._logLevel=MF,this._logHandler=VF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const FF=(t,e)=>e.some(n=>t instanceof n);let FT,$T;function $F(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UF(){return $T||($T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fO=new WeakMap,Rv=new WeakMap,pO=new WeakMap,ag=new WeakMap,T_=new WeakMap;function BF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(so(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fO.set(n,t)}).catch(()=>{}),T_.set(e,t),e}function jF(t){if(Rv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rv.set(t,e)}let Dv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HF(t){Dv=t(Dv)}function WF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lg(this),e,...n);return pO.set(r,e.sort?e.sort():[e]),so(r)}:UF().includes(t)?function(...e){return t.apply(lg(this),e),so(fO.get(this))}:function(...e){return so(t.apply(lg(this),e))}}function qF(t){return typeof t=="function"?WF(t):(t instanceof IDBTransaction&&jF(t),FF(t,$F())?new Proxy(t,Dv):t)}function so(t){if(t instanceof IDBRequest)return BF(t);if(ag.has(t))return ag.get(t);const e=qF(t);return e!==t&&(ag.set(t,e),T_.set(e,t)),e}const lg=t=>T_.get(t);function mO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=so(o);return r&&o.addEventListener("upgradeneeded",l=>{r(so(o.result),l.oldVersion,l.newVersion,so(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],ug=new Map;function UT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ug.set(e,s),s}HF(t=>({...t,get:(e,n,r)=>UT(e,n)||t.get(e,n,r),has:(e,n)=>!!UT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xv="@firebase/app",BT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new lu("@firebase/app"),QF="@firebase/app-compat",XF="@firebase/analytics-compat",JF="@firebase/analytics",ZF="@firebase/app-check-compat",e$="@firebase/app-check",t$="@firebase/auth",n$="@firebase/auth-compat",r$="@firebase/database",i$="@firebase/data-connect",s$="@firebase/database-compat",o$="@firebase/functions",a$="@firebase/functions-compat",l$="@firebase/installations",u$="@firebase/installations-compat",c$="@firebase/messaging",d$="@firebase/messaging-compat",h$="@firebase/performance",f$="@firebase/performance-compat",p$="@firebase/remote-config",m$="@firebase/remote-config-compat",g$="@firebase/storage",v$="@firebase/storage-compat",y$="@firebase/firestore",_$="@firebase/vertexai-preview",b$="@firebase/firestore-compat",w$="firebase",T$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="[DEFAULT]",E$={[xv]:"fire-core",[QF]:"fire-core-compat",[JF]:"fire-analytics",[XF]:"fire-analytics-compat",[e$]:"fire-app-check",[ZF]:"fire-app-check-compat",[t$]:"fire-auth",[n$]:"fire-auth-compat",[r$]:"fire-rtdb",[i$]:"fire-data-connect",[s$]:"fire-rtdb-compat",[o$]:"fire-fn",[a$]:"fire-fn-compat",[l$]:"fire-iid",[u$]:"fire-iid-compat",[c$]:"fire-fcm",[d$]:"fire-fcm-compat",[h$]:"fire-perf",[f$]:"fire-perf-compat",[p$]:"fire-rc",[m$]:"fire-rc-compat",[g$]:"fire-gcs",[v$]:"fire-gcs-compat",[y$]:"fire-fst",[b$]:"fire-fst-compat",[_$]:"fire-vertex","fire-js":"fire-js",[w$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,I$=new Map,Mv=new Map;function jT(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hr(t){const e=t.name;if(Mv.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;Mv.set(e,t);for(const n of Rf.values())jT(n,t);for(const n of I$.values())jT(n,t);return!0}function xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Oo("app","Firebase",S$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=T$;function gO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=oO()),!n)throw oo.create("no-options");const s=Rf.get(i);if(s){if(Hc(n,s.options)&&Hc(r,s.config))return s;throw oo.create("duplicate-app",{appName:i})}const o=new xF(i);for(const l of Mv.values())o.addComponent(l);const a=new A$(n,r,o);return Rf.set(i,a),a}function Od(t=Nv){const e=Rf.get(t);if(!e&&t===Nv&&oO())return gO();if(!e)throw oo.create("no-app",{appName:t});return e}function tr(t,e,n){var r;let i=(r=E$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(a.join(" "));return}Hr(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$="firebase-heartbeat-database",O$=1,Wc="firebase-heartbeat-store";let cg=null;function vO(){return cg||(cg=mO(C$,O$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),cg}async function P$(t){try{const n=(await vO()).transaction(Wc),r=await n.objectStore(Wc).get(yO(t));return await n.done,r}catch(e){if(e instanceof ti)Ss.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function HT(t,e){try{const r=(await vO()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,yO(t)),await r.done}catch(n){if(n instanceof ti)Ss.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function yO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=1024,R$=30*24*60*60*1e3;class D${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=WT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=R$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WT(),{heartbeatsToSend:r,unsentEntries:i}=x$(this._heartbeatsCache.heartbeats),s=Of(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ss.warn(n),""}}}function WT(){return new Date().toISOString().substring(0,10)}function x$(t,e=k$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class N${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lp()?dO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qT(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){Hr(new xr("platform-logger",e=>new GF(e),"PRIVATE")),Hr(new xr("heartbeat",e=>new D$(e),"PRIVATE")),tr(xv,BT,t),tr(xv,BT,"esm2017"),tr("fire-js","")}M$("");const _O="@firebase/installations",E_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=1e4,wO=`w:${E_}`,TO="FIS_v2",L$="https://firebaseinstallations.googleapis.com/v1",V$=60*60*1e3,F$="installations",$$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new Oo(F$,$$,U$);function EO(t){return t instanceof ti&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO({projectId:t}){return`${L$}/projects/${t}/installations`}function SO(t){return{token:t.token,requestStatus:2,expiresIn:j$(t.expiresIn),creationTime:Date.now()}}async function AO(t,e){const r=(await e.json()).error;return la.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function CO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function B$(t,{refreshToken:e}){const n=CO(t);return n.append("Authorization",H$(e)),n}async function OO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function j$(t){return Number(t.replace("s","000"))}function H$(t){return`${TO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IO(t),i=CO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:TO,appId:t.appId,sdkVersion:wO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await OO(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:SO(u.authToken)}}else throw await AO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=/^[cdef][\w-]{21}$/,Lv="";function K$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=G$(t);return z$.test(n)?n:Lv}catch{return Lv}}function G$(t){return q$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Map;function RO(t,e){const n=Fp(t);DO(n,e),Y$(n,e)}function DO(t,e){const n=kO.get(t);if(n)for(const r of n)r(e)}function Y$(t,e){const n=Q$();n&&n.postMessage({key:t,fid:e}),X$()}let qo=null;function Q$(){return!qo&&"BroadcastChannel"in self&&(qo=new BroadcastChannel("[Firebase] FID Change"),qo.onmessage=t=>{DO(t.data.key,t.data.fid)}),qo}function X$(){kO.size===0&&qo&&(qo.close(),qo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="firebase-installations-database",Z$=1,ua="firebase-installations-store";let dg=null;function I_(){return dg||(dg=mO(J$,Z$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ua)}}})),dg}async function Df(t,e){const n=Fp(t),i=(await I_()).transaction(ua,"readwrite"),s=i.objectStore(ua),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&RO(t,e.fid),e}async function xO(t){const e=Fp(t),r=(await I_()).transaction(ua,"readwrite");await r.objectStore(ua).delete(e),await r.done}async function $p(t,e){const n=Fp(t),i=(await I_()).transaction(ua,"readwrite"),s=i.objectStore(ua),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&RO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S_(t){let e;const n=await $p(t.appConfig,r=>{const i=e3(r),s=t3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Lv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function e3(t){const e=t||{fid:K$(),registrationStatus:0};return NO(e)}function t3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=n3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:r3(t)}:{installationEntry:e}}async function n3(t,e){try{const n=await W$(t,e);return Df(t.appConfig,n)}catch(n){throw EO(n)&&n.customData.serverCode===409?await xO(t.appConfig):await Df(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function r3(t){let e=await zT(t.appConfig);for(;e.registrationStatus===1;)await PO(100),e=await zT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await S_(t);return r||n}return e}function zT(t){return $p(t,e=>{if(!e)throw la.create("installation-not-found");return NO(e)})}function NO(t){return i3(t)?{fid:t.fid,registrationStatus:0}:t}function i3(t){return t.registrationStatus===1&&t.registrationTime+bO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3({appConfig:t,heartbeatServiceProvider:e},n){const r=o3(t,n),i=B$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:wO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await OO(()=>fetch(r,a));if(l.ok){const u=await l.json();return SO(u)}else throw await AO("Generate Auth Token",l)}function o3(t,{fid:e}){return`${IO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(t,e=!1){let n;const r=await $p(t.appConfig,s=>{if(!MO(s))throw la.create("not-registered");const o=s.authToken;if(!e&&u3(o))return s;if(o.requestStatus===1)return n=a3(t,e),s;{if(!navigator.onLine)throw la.create("app-offline");const a=d3(s);return n=l3(t,a),a}});return n?await n:r.authToken}async function a3(t,e){let n=await KT(t.appConfig);for(;n.authToken.requestStatus===1;)await PO(100),n=await KT(t.appConfig);const r=n.authToken;return r.requestStatus===0?A_(t,e):r}function KT(t){return $p(t,e=>{if(!MO(e))throw la.create("not-registered");const n=e.authToken;return h3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function l3(t,e){try{const n=await s3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Df(t.appConfig,r),n}catch(n){if(EO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await xO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Df(t.appConfig,r)}throw n}}function MO(t){return t!==void 0&&t.registrationStatus===2}function u3(t){return t.requestStatus===2&&!c3(t)}function c3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+V$}function d3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function h3(t){return t.requestStatus===1&&t.requestTime+bO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t){const e=t,{installationEntry:n,registrationPromise:r}=await S_(e);return r?r.catch(console.error):A_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e=!1){const n=t;return await m3(n),(await A_(n,e)).token}async function m3(t){const{registrationPromise:e}=await S_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){if(!t||!t.options)throw hg("App Configuration");if(!t.name)throw hg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hg(t){return la.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="installations",v3="installations-internal",y3=t=>{const e=t.getProvider("app").getImmediate(),n=g3(e),r=xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_3=t=>{const e=t.getProvider("app").getImmediate(),n=xs(e,LO).getImmediate();return{getId:()=>f3(n),getToken:i=>p3(n,i)}};function b3(){Hr(new xr(LO,y3,"PUBLIC")),Hr(new xr(v3,_3,"PRIVATE"))}b3();tr(_O,E_);tr(_O,E_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="analytics",w3="firebase_id",T3="origin",E3=60*1e3,I3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",C_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new lu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jr=new Oo("analytics","Analytics",S3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){if(!t.startsWith(C_)){const e=Jr.create("invalid-gtag-resource",{gtagURL:t});return Br.warn(e.message),""}return t}function VO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function C3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function O3(t,e){const n=C3("firebase-js-sdk-policy",{createScriptURL:A3}),r=document.createElement("script"),i=`${C_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function P3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function k3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await VO(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Br.error(a)}t("config",i,s)}async function R3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await VO(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Br.error(s)}}function D3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await R3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await k3(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Br.error(a)}}return i}function x3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=D3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function N3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(C_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=30,L3=1e3;class V3{constructor(e={},n=L3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const FO=new V3;function F3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:F3(r)},s=I3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function U3(t,e=FO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Jr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new H3;return setTimeout(async()=>{a.abort()},n!==void 0?n:E3),$O({appId:r,apiKey:i,measurementId:s},o,a,e)}async function $O(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=FO){var s;const{appId:o,measurementId:a}=t;try{await B3(r,e)}catch(l){if(a)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await $3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!j3(u)){if(i.deleteThrottleMetadata(o),a)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?kv(n,i.intervalMillis,M3):kv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Br.debug(`Calling attemptFetch again in ${c} millis`),$O(t,h,r,i)}}function B3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j3(t){if(!(t instanceof ti)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class H3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function W3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(){if(Lp())try{await dO()}catch(t){return Br.warn(Jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Br.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function z3(t,e,n,r,i,s,o){var a;const l=U3(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Br.error(p)),e.push(l);const u=q3().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);N3(s)||O3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[T3]="firebase",f.update=!0,h!=null&&(f[w3]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.app=e}_delete(){return delete hc[this.app.options.appId],Promise.resolve()}}let hc={},GT=[];const YT={};let fg="dataLayer",G3="gtag",QT,UO,XT=!1;function Y3(){const t=[];if(lO()&&t.push("This is a browser extension environment."),fF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jr.create("invalid-analytics-context",{errorInfo:e});Br.warn(n.message)}}function Q3(t,e,n){Y3();const r=t.options.appId;if(!r)throw Jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jr.create("no-api-key");if(hc[r]!=null)throw Jr.create("already-exists",{id:r});if(!XT){P3(fg);const{wrappedGtag:s,gtagCore:o}=x3(hc,GT,YT,fg,G3);UO=s,QT=o,XT=!0}return hc[r]=z3(t,GT,YT,e,QT,fg,n),new K3(t)}function BO(t=Od()){t=Dt(t);const e=xs(t,xf);return e.isInitialized()?e.getImmediate():X3(t)}function X3(t,e={}){const n=xs(t,xf);if(n.isInitialized()){const i=n.getImmediate();if(Hc(e,n.getOptions()))return i;throw Jr.create("already-initialized")}return n.initialize({options:e})}function jO(t,e,n,r){t=Dt(t),W3(UO,hc[t.app.options.appId],e,n,r).catch(i=>Br.error(i))}const JT="@firebase/analytics",ZT="0.10.8";function J3(){Hr(new xr(xf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Q3(r,i,n)},"PUBLIC")),Hr(new xr("analytics-internal",t,"PRIVATE")),tr(JT,ZT),tr(JT,ZT,"esm2017");function t(e){try{const n=e.getProvider(xf).getImmediate();return{logEvent:(r,i,s)=>jO(n,r,i,s)}}catch(n){throw Jr.create("interop-component-reg-failed",{reason:n})}}}J3();var Z3="firebase",e4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(Z3,e4,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map,HO={activated:!1,tokenObservers:[]},t4={initialized:!1,enabled:!1};function Vn(t){return Vv.get(t)||Object.assign({},HO)}function n4(t,e){return Vv.set(t,e),Vv.get(t)}function Up(){return t4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="https://content-firebaseappcheck.googleapis.com/v1",r4="exchangeRecaptchaV3Token",i4="exchangeDebugToken",e1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},s4=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new aa,this.pending.promise.catch(n=>{}),await a4(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new aa,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function a4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$r=new Oo("appCheck","AppCheck",l4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function O_(t){if(!Vn(t).activated)throw $r.create("use-before-activation",{appName:t.name})}function qO(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Th(n)+"d:"),r&&(o+=Th(r)+"h:"),o+=Th(i)+"m:"+Th(s)+"s",o}function Th(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P_({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw $r.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw $r.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw $r.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw $r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function u4(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${WO}/projects/${n}/apps/${r}:${r4}?key=${i}`,body:{recaptcha_v3_token:e}}}function zO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${WO}/projects/${n}/apps/${r}:${i4}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="firebase-app-check-database",d4=1,qc="firebase-app-check-store",KO="debug-token";let Eh=null;function GO(){return Eh||(Eh=new Promise((t,e)=>{try{const n=indexedDB.open(c4,d4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($r.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(qc,{keyPath:"compositeKey"})}}}catch(n){e($r.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Eh)}function h4(t){return QO(XO(t))}function f4(t,e){return YO(XO(t),e)}function p4(t){return YO(KO,t)}function m4(){return QO(KO)}async function YO(t,e){const r=(await GO()).transaction(qc,"readwrite"),s=r.objectStore(qc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a($r.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function QO(t){const n=(await GO()).transaction(qc,"readonly"),i=n.objectStore(qc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o($r.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function XO(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new lu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(t){if(Lp()){let e;try{e=await h4(t)}catch(n){zc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function pg(t,e){return Lp()?f4(t,e).catch(n=>{zc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function v4(){let t;try{t=await m4()}catch{}if(t)return t;{const e=SF();return p4(e).catch(n=>zc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){return Up().enabled}async function R_(){const t=Up();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function y4(){const t=iO(),e=Up();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new aa;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(v4())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={error:"UNKNOWN_ERROR"};function b4(t){return Np.encodeString(JSON.stringify(t),!1)}async function Fv(t,e=!1){const n=t.app;O_(n);const r=Vn(n);let i=r.token,s;if(i&&!sl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(sl(l)?i=l:await pg(n,void 0))}if(!e&&i&&sl(i))return{token:i.token};let o=!1;if(k_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=P_(zO(n,await R_()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await pg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Vn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?zc.warn(l.message):zc.error(l),s=l}let a;return i?s?sl(i)?a={token:i.token,internalError:s}:a=r1(s):(a={token:i.token},r.token=i,await pg(n,i)):a=r1(s),o&&eP(n,a),a}async function w4(t){const e=t.app;O_(e);const{provider:n}=Vn(e);if(k_()){const r=await R_(),{token:i}=await P_(zO(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function JO(t,e,n,r){const{app:i}=t,s=Vn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&sl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),n1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>n1(t))}function ZO(t,e){const n=Vn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function n1(t){const{app:e}=t,n=Vn(e);let r=n.tokenRefresher;r||(r=T4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function T4(t){const{app:e}=t;return new o4(async()=>{const n=Vn(e);let r;if(n.token?r=await Fv(t,!0):r=await Fv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Vn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},e1.RETRIAL_MIN_WAIT,e1.RETRIAL_MAX_WAIT)}function eP(t,e){const n=Vn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function sl(t){return t.expireTimeMillis-Date.now()>0}function r1(t){return{token:b4(_4),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Vn(this.app);for(const n of e)ZO(this.app,n.next);return Promise.resolve()}}function I4(t,e){return new E4(t,e)}function S4(t){return{getToken:e=>Fv(t,e),getLimitedUseToken:()=>w4(t),addTokenListener:e=>JO(t,"INTERNAL",e),removeTokenListener:e=>ZO(t.app,e)}}const A4="@firebase/app-check",C4="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="https://www.google.com/recaptcha/api.js";function P4(t,e){const n=new aa,r=Vn(t);r.reCAPTCHAState={initialized:n};const i=k4(t),s=t1(!1);return s?i1(t,e,s,i,n):x4(()=>{const o=t1(!1);if(!o)throw new Error("no recaptcha");i1(t,e,o,i,n)}),n.promise}function i1(t,e,n,r,i){n.ready(()=>{D4(t,e,n,r),i.resolve(n)})}function k4(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function R4(t){O_(t);const n=await Vn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Vn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function D4(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Vn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Vn(t).reCAPTCHAState.succeeded=!1}}),s=Vn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function x4(t){const e=document.createElement("script");e.src=O4,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;M4(this._throttleData);const i=await R4(this._app).catch(o=>{throw $r.create("recaptcha-error")});if(!(!((e=Vn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw $r.create("recaptcha-error");let s;try{s=await P_(u4(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=N4(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),$r.create("throttled",{time:qO(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=xs(e,"heartbeat"),P4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof D_?this._siteKey===e._siteKey:!1}}function N4(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+s4,httpStatus:t};{const n=e?e.backoffCount:0,r=kv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function M4(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw $r.create("throttled",{time:qO(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t=Od(),e){t=Dt(t);const n=xs(t,"app-check");if(Up().initialized||y4(),k_()&&R_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw $r.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return V4(t,e.provider,e.isTokenAutoRefreshEnabled),Vn(t).isTokenAutoRefreshEnabled&&JO(r,"INTERNAL",()=>{}),r}function V4(t,e,n){const r=n4(t,Object.assign({},HO));r.activated=!0,r.provider=e,r.cachedTokenPromise=g4(t).then(i=>(i&&sl(i)&&(r.token=i,eP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const F4="app-check",s1="app-check-internal";function $4(){Hr(new xr(F4,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return I4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(s1).initialize()})),Hr(new xr(s1,t=>{const e=t.getProvider("app-check").getImmediate();return S4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),tr(A4,C4)}$4();var cn=(t=>(t.CONTENT="content",t.PROJECTS="projects",t.MENU_ITEMS="menuItems",t.MENU_ITEMS_PRIVATE="menuItemsPrivate",t.BLOG_POSTS="blogPosts",t.BLOG_POSTS_PRIVATE="blogPostsPrivate",t.BLOG_REACTIONS="blogReactions",t.BLOG_REACTIONS_PRIVATE="blogReactionsPrivate",t.PETS="pets",t.USERS="users",t.USERS_PUBLIC="usersPublic",t.USERS_ONLINE="usersOnline",t.FILES="files",t.GAME_DATA="gameData",t.HIGHSCORES="highscores",t.SCORES="scores",t))(cn||{});const U4={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},B4=t=>{L4(t,{provider:new D_("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},j4=()=>{const t=gO(U4);return B4(t),BO(t),t},H4=j4();var W4=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let tP;const Bp=t=>tP=t,nP=Symbol();function $v(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var fc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(fc||(fc={}));function q4(){const t=Xy(!0),e=t.run(()=>fe({}));let n=[],r=[];const i=i_({install(s){Bp(i),i._a=s,s.provide(nP,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!W4?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const rP=()=>{};function o1(t,e,n,r=rP){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Jy()&&lA(i),i}function Wa(t,...e){t.slice().forEach(n=>{n(...e)})}const z4=t=>t(),a1=Symbol(),mg=Symbol();function Uv(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];$v(i)&&$v(r)&&t.hasOwnProperty(n)&&!an(r)&&!Gi(r)?t[n]=Uv(i,r):t[n]=r}return t}const K4=Symbol();function G4(t){return!$v(t)||!t.hasOwnProperty(K4)}const{assign:qs}=Object;function Y4(t){return!!(an(t)&&t.effect)}function Q4(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=xM(n.state.value[t]);return qs(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=i_(le(()=>{Bp(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=iP(t,u,e,n,r,!0),l}function iP(t,e,n={},r,i,s){let o;const a=qs({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),fe({});let b;function A(E){let y;u=c=!1,typeof E=="function"?(E(r.state.value[t]),y={type:fc.patchFunction,storeId:t,events:p}):(Uv(r.state.value[t],E),y={type:fc.patchObject,payload:E,storeId:t,events:p});const v=b=Symbol();Hn().then(()=>{b===v&&(u=!0)}),c=!0,Wa(h,y,r.state.value[t])}const R=s?function(){const{state:y}=n,v=y?y():{};this.$patch(T=>{qs(T,v)})}:rP;function k(){o.stop(),h=[],f=[],r._s.delete(t)}const S=(E,y="")=>{if(a1 in E)return E[mg]=y,E;const v=function(){Bp(r);const T=Array.from(arguments),C=[],P=[];function G(F){C.push(F)}function $(F){P.push(F)}Wa(f,{args:T,name:v[mg],store:M,after:G,onError:$});let B;try{B=E.apply(this&&this.$id===t?this:M,T)}catch(F){throw Wa(P,F),F}return B instanceof Promise?B.then(F=>(Wa(C,F),F)).catch(F=>(Wa(P,F),Promise.reject(F))):(Wa(C,B),B)};return v[a1]=!0,v[mg]=y,v},_={_p:r,$id:t,$onAction:o1.bind(null,f),$patch:A,$reset:R,$subscribe(E,y={}){const v=o1(h,E,y.detached,()=>T()),T=o.run(()=>In(()=>r.state.value[t],C=>{(y.flush==="sync"?c:u)&&E({storeId:t,type:fc.direct,events:p},C)},qs({},l,y)));return v},$dispose:k},M=Dr(_);r._s.set(t,M);const I=(r._a&&r._a.runWithContext||z4)(()=>r._e.run(()=>(o=Xy()).run(()=>e({action:S}))));for(const E in I){const y=I[E];if(an(y)&&!Y4(y)||Gi(y))s||(g&&G4(y)&&(an(y)?y.value=g[E]:Uv(y,g[E])),r.state.value[t][E]=y);else if(typeof y=="function"){const v=S(y,E);I[E]=v,a.actions[E]=y}}return qs(M,I),qs(mt(M),I),Object.defineProperty(M,"$state",{get:()=>r.state.value[t],set:E=>{A(y=>{qs(y,E)})}}),r._p.forEach(E=>{qs(M,o.run(()=>E({store:M,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(M.$state,g),u=!0,c=!0,M}/*! #__NO_SIDE_EFFECTS__ */function Aa(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=bL();return a=a||(u?Rr(nP,null):null),a&&Bp(a),a=tP,a._s.has(r)||(s?iP(r,e,i,a):Q4(r,i,a)),a._s.get(r)}return o.$id=r,o}function yo(t){{const e=mt(t),n={};for(const r in e){const i=e[r];i.effect?n[r]=le({get:()=>t[r],set(s){t[r]=s}}):(an(i)||Gi(i))&&(n[r]=Dc(t,r))}return n}}const l1=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var X4=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),l1(l,e))}),e.$subscribe(()=>{a.forEach(l=>{l1(l,e)})})}};const sP=q4();sP.use(X4);const J4="modulepreload",Z4=function(t,e){return new URL(t,e).href},u1={},ir=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=Z4(o,r),o in u1)return;u1[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":J4,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var c1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jo,oP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function y(){}y.prototype=E.prototype,I.D=E.prototype,I.prototype=new y,I.prototype.constructor=I,I.C=function(v,T,C){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return E.prototype[T].apply(v,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,y){y||(y=0);var v=Array(16);if(typeof E=="string")for(var T=0;16>T;++T)v[T]=E.charCodeAt(y++)|E.charCodeAt(y++)<<8|E.charCodeAt(y++)<<16|E.charCodeAt(y++)<<24;else for(T=0;16>T;++T)v[T]=E[y++]|E[y++]<<8|E[y++]<<16|E[y++]<<24;E=I.g[0],y=I.g[1],T=I.g[2];var C=I.g[3],P=E+(C^y&(T^C))+v[0]+3614090360&4294967295;E=y+(P<<7&4294967295|P>>>25),P=C+(T^E&(y^T))+v[1]+3905402710&4294967295,C=E+(P<<12&4294967295|P>>>20),P=T+(y^C&(E^y))+v[2]+606105819&4294967295,T=C+(P<<17&4294967295|P>>>15),P=y+(E^T&(C^E))+v[3]+3250441966&4294967295,y=T+(P<<22&4294967295|P>>>10),P=E+(C^y&(T^C))+v[4]+4118548399&4294967295,E=y+(P<<7&4294967295|P>>>25),P=C+(T^E&(y^T))+v[5]+1200080426&4294967295,C=E+(P<<12&4294967295|P>>>20),P=T+(y^C&(E^y))+v[6]+2821735955&4294967295,T=C+(P<<17&4294967295|P>>>15),P=y+(E^T&(C^E))+v[7]+4249261313&4294967295,y=T+(P<<22&4294967295|P>>>10),P=E+(C^y&(T^C))+v[8]+1770035416&4294967295,E=y+(P<<7&4294967295|P>>>25),P=C+(T^E&(y^T))+v[9]+2336552879&4294967295,C=E+(P<<12&4294967295|P>>>20),P=T+(y^C&(E^y))+v[10]+4294925233&4294967295,T=C+(P<<17&4294967295|P>>>15),P=y+(E^T&(C^E))+v[11]+2304563134&4294967295,y=T+(P<<22&4294967295|P>>>10),P=E+(C^y&(T^C))+v[12]+1804603682&4294967295,E=y+(P<<7&4294967295|P>>>25),P=C+(T^E&(y^T))+v[13]+4254626195&4294967295,C=E+(P<<12&4294967295|P>>>20),P=T+(y^C&(E^y))+v[14]+2792965006&4294967295,T=C+(P<<17&4294967295|P>>>15),P=y+(E^T&(C^E))+v[15]+1236535329&4294967295,y=T+(P<<22&4294967295|P>>>10),P=E+(T^C&(y^T))+v[1]+4129170786&4294967295,E=y+(P<<5&4294967295|P>>>27),P=C+(y^T&(E^y))+v[6]+3225465664&4294967295,C=E+(P<<9&4294967295|P>>>23),P=T+(E^y&(C^E))+v[11]+643717713&4294967295,T=C+(P<<14&4294967295|P>>>18),P=y+(C^E&(T^C))+v[0]+3921069994&4294967295,y=T+(P<<20&4294967295|P>>>12),P=E+(T^C&(y^T))+v[5]+3593408605&4294967295,E=y+(P<<5&4294967295|P>>>27),P=C+(y^T&(E^y))+v[10]+38016083&4294967295,C=E+(P<<9&4294967295|P>>>23),P=T+(E^y&(C^E))+v[15]+3634488961&4294967295,T=C+(P<<14&4294967295|P>>>18),P=y+(C^E&(T^C))+v[4]+3889429448&4294967295,y=T+(P<<20&4294967295|P>>>12),P=E+(T^C&(y^T))+v[9]+568446438&4294967295,E=y+(P<<5&4294967295|P>>>27),P=C+(y^T&(E^y))+v[14]+3275163606&4294967295,C=E+(P<<9&4294967295|P>>>23),P=T+(E^y&(C^E))+v[3]+4107603335&4294967295,T=C+(P<<14&4294967295|P>>>18),P=y+(C^E&(T^C))+v[8]+1163531501&4294967295,y=T+(P<<20&4294967295|P>>>12),P=E+(T^C&(y^T))+v[13]+2850285829&4294967295,E=y+(P<<5&4294967295|P>>>27),P=C+(y^T&(E^y))+v[2]+4243563512&4294967295,C=E+(P<<9&4294967295|P>>>23),P=T+(E^y&(C^E))+v[7]+1735328473&4294967295,T=C+(P<<14&4294967295|P>>>18),P=y+(C^E&(T^C))+v[12]+2368359562&4294967295,y=T+(P<<20&4294967295|P>>>12),P=E+(y^T^C)+v[5]+4294588738&4294967295,E=y+(P<<4&4294967295|P>>>28),P=C+(E^y^T)+v[8]+2272392833&4294967295,C=E+(P<<11&4294967295|P>>>21),P=T+(C^E^y)+v[11]+1839030562&4294967295,T=C+(P<<16&4294967295|P>>>16),P=y+(T^C^E)+v[14]+4259657740&4294967295,y=T+(P<<23&4294967295|P>>>9),P=E+(y^T^C)+v[1]+2763975236&4294967295,E=y+(P<<4&4294967295|P>>>28),P=C+(E^y^T)+v[4]+1272893353&4294967295,C=E+(P<<11&4294967295|P>>>21),P=T+(C^E^y)+v[7]+4139469664&4294967295,T=C+(P<<16&4294967295|P>>>16),P=y+(T^C^E)+v[10]+3200236656&4294967295,y=T+(P<<23&4294967295|P>>>9),P=E+(y^T^C)+v[13]+681279174&4294967295,E=y+(P<<4&4294967295|P>>>28),P=C+(E^y^T)+v[0]+3936430074&4294967295,C=E+(P<<11&4294967295|P>>>21),P=T+(C^E^y)+v[3]+3572445317&4294967295,T=C+(P<<16&4294967295|P>>>16),P=y+(T^C^E)+v[6]+76029189&4294967295,y=T+(P<<23&4294967295|P>>>9),P=E+(y^T^C)+v[9]+3654602809&4294967295,E=y+(P<<4&4294967295|P>>>28),P=C+(E^y^T)+v[12]+3873151461&4294967295,C=E+(P<<11&4294967295|P>>>21),P=T+(C^E^y)+v[15]+530742520&4294967295,T=C+(P<<16&4294967295|P>>>16),P=y+(T^C^E)+v[2]+3299628645&4294967295,y=T+(P<<23&4294967295|P>>>9),P=E+(T^(y|~C))+v[0]+4096336452&4294967295,E=y+(P<<6&4294967295|P>>>26),P=C+(y^(E|~T))+v[7]+1126891415&4294967295,C=E+(P<<10&4294967295|P>>>22),P=T+(E^(C|~y))+v[14]+2878612391&4294967295,T=C+(P<<15&4294967295|P>>>17),P=y+(C^(T|~E))+v[5]+4237533241&4294967295,y=T+(P<<21&4294967295|P>>>11),P=E+(T^(y|~C))+v[12]+1700485571&4294967295,E=y+(P<<6&4294967295|P>>>26),P=C+(y^(E|~T))+v[3]+2399980690&4294967295,C=E+(P<<10&4294967295|P>>>22),P=T+(E^(C|~y))+v[10]+4293915773&4294967295,T=C+(P<<15&4294967295|P>>>17),P=y+(C^(T|~E))+v[1]+2240044497&4294967295,y=T+(P<<21&4294967295|P>>>11),P=E+(T^(y|~C))+v[8]+1873313359&4294967295,E=y+(P<<6&4294967295|P>>>26),P=C+(y^(E|~T))+v[15]+4264355552&4294967295,C=E+(P<<10&4294967295|P>>>22),P=T+(E^(C|~y))+v[6]+2734768916&4294967295,T=C+(P<<15&4294967295|P>>>17),P=y+(C^(T|~E))+v[13]+1309151649&4294967295,y=T+(P<<21&4294967295|P>>>11),P=E+(T^(y|~C))+v[4]+4149444226&4294967295,E=y+(P<<6&4294967295|P>>>26),P=C+(y^(E|~T))+v[11]+3174756917&4294967295,C=E+(P<<10&4294967295|P>>>22),P=T+(E^(C|~y))+v[2]+718787259&4294967295,T=C+(P<<15&4294967295|P>>>17),P=y+(C^(T|~E))+v[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(T+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var y=E-this.blockSize,v=this.B,T=this.h,C=0;C<E;){if(T==0)for(;C<=y;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<E;)if(v[T++]=I.charCodeAt(C++),T==this.blockSize){i(this,v),T=0;break}}else for(;C<E;)if(v[T++]=I[C++],T==this.blockSize){i(this,v),T=0;break}}this.h=T,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var y=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=y&255,y/=256;for(this.u(I),I=Array(16),E=y=0;4>E;++E)for(var v=0;32>v;v+=8)I[y++]=this.g[E]>>>v&255;return I};function s(I,E){var y=a;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=E(I)}function o(I,E){this.h=E;for(var y=[],v=!0,T=I.length-1;0<=T;T--){var C=I[T]|0;v&&C==E||(y[T]=C,v=!1)}this.g=y}var a={};function l(I){return-128<=I&&128>I?s(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return A(u(-I));for(var E=[],y=1,v=0;I>=y;v++)E[v]=I/y|0,y*=4294967296;return new o(E,0)}function c(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return A(c(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(E,8)),v=h,T=0;T<I.length;T+=8){var C=Math.min(8,I.length-T),P=parseInt(I.substring(T,T+C),E);8>C?(C=u(Math.pow(E,C)),v=v.j(C).add(u(P))):(v=v.j(y),v=v.add(u(P)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-A(this).m();for(var I=0,E=1,y=0;y<this.g.length;y++){var v=this.i(y);I+=(0<=v?v:4294967296+v)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(b(this))return"-"+A(this).toString(I);for(var E=u(Math.pow(I,6)),y=this,v="";;){var T=_(y,E).g;y=R(y,T.j(E));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(I);if(y=T,g(y))return C+v;for(;6>C.length;)C="0"+C;v=C+v}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=R(this,I),b(I)?-1:g(I)?0:1};function A(I){for(var E=I.g.length,y=[],v=0;v<E;v++)y[v]=~I.g[v];return new o(y,~I.h).add(f)}t.abs=function(){return b(this)?A(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),y=[],v=0,T=0;T<=E;T++){var C=v+(this.i(T)&65535)+(I.i(T)&65535),P=(C>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);v=P>>>16,C&=65535,P&=65535,y[T]=P<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function R(I,E){return I.add(A(E))}t.j=function(I){if(g(this)||g(I))return h;if(b(this))return b(I)?A(this).j(A(I)):A(A(this).j(I));if(b(I))return A(this.j(A(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var E=this.g.length+I.g.length,y=[],v=0;v<2*E;v++)y[v]=0;for(v=0;v<this.g.length;v++)for(var T=0;T<I.g.length;T++){var C=this.i(v)>>>16,P=this.i(v)&65535,G=I.i(T)>>>16,$=I.i(T)&65535;y[2*v+2*T]+=P*$,k(y,2*v+2*T),y[2*v+2*T+1]+=C*$,k(y,2*v+2*T+1),y[2*v+2*T+1]+=P*G,k(y,2*v+2*T+1),y[2*v+2*T+2]+=C*G,k(y,2*v+2*T+2)}for(v=0;v<E;v++)y[v]=y[2*v+1]<<16|y[2*v];for(v=E;v<2*E;v++)y[v]=0;return new o(y,0)};function k(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function S(I,E){this.g=I,this.h=E}function _(I,E){if(g(E))throw Error("division by zero");if(g(I))return new S(h,h);if(b(I))return E=_(A(I),E),new S(A(E.g),A(E.h));if(b(E))return E=_(I,A(E)),new S(A(E.g),E.h);if(30<I.g.length){if(b(I)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var y=f,v=E;0>=v.l(I);)y=M(y),v=M(v);var T=L(y,1),C=L(v,1);for(v=L(v,2),y=L(y,2);!g(v);){var P=C.add(v);0>=P.l(I)&&(T=T.add(y),C=P),v=L(v,1),y=L(y,1)}return E=R(I,T.j(E)),new S(T,E)}for(T=h;0<=I.l(E);){for(y=Math.max(1,Math.floor(I.m()/E.m())),v=Math.ceil(Math.log(y)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),C=u(y),P=C.j(E);b(P)||0<P.l(I);)y-=v,C=u(y),P=C.j(E);g(C)&&(C=f),T=T.add(C),I=R(I,P)}return new S(T,I)}t.A=function(I){return _(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),y=[],v=0;v<E;v++)y[v]=this.i(v)&I.i(v);return new o(y,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),y=[],v=0;v<E;v++)y[v]=this.i(v)|I.i(v);return new o(y,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),y=[],v=0;v<E;v++)y[v]=this.i(v)^I.i(v);return new o(y,this.h^I.h)};function M(I){for(var E=I.g.length+1,y=[],v=0;v<E;v++)y[v]=I.i(v)<<1|I.i(v-1)>>>31;return new o(y,I.h)}function L(I,E){var y=E>>5;E%=32;for(var v=I.g.length-y,T=[],C=0;C<v;C++)T[C]=0<E?I.i(C+y)>>>E|I.i(C+y+1)<<32-E:I.i(C+y);return new o(T,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Jo=o}).apply(typeof c1<"u"?c1:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aP,Qu,lP,Qh,Bv,uP,cP,dP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,w){return d==Array.prototype||d==Object.prototype||(d[m]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var m=0;m<d.length;++m){var w=d[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var w=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var J=d[N];if(!(J in w))break e;w=w[J]}d=d[d.length-1],N=w[d],m=m(N),m!=N&&m!=null&&e(w,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var w=0,N=!1,J={next:function(){if(!N&&w<d.length){var re=w++;return{value:m(re,d[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,w){return d.call.apply(d.bind,arguments)}function h(d,m,w){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),d.apply(m,J)}}return function(){return d.apply(m,arguments)}}function f(d,m,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function g(d,m){function w(){}w.prototype=m.prototype,d.aa=m.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(N,J,re){for(var Ce=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)Ce[Wt-2]=arguments[Wt];return m.prototype[J].apply(N,Ce)}}function b(d){const m=d.length;if(0<m){const w=Array(m);for(let N=0;N<m;N++)w[N]=d[N];return w}return[]}function A(d,m){for(let w=1;w<arguments.length;w++){const N=arguments[w];if(l(N)){const J=d.length||0,re=N.length||0;d.length=J+re;for(let Ce=0;Ce<re;Ce++)d[J+Ce]=N[Ce]}else d.push(N)}}class R{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function _(d){return _[" "](d),d}_[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(d,m,w){for(const N in d)m.call(w,d[N],N,d)}function I(d,m){for(const w in d)m.call(void 0,d[w],w,d)}function E(d){const m={};for(const w in d)m[w]=d[w];return m}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let w,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(w in N)d[w]=N[w];for(let re=0;re<y.length;re++)w=y[re],Object.prototype.hasOwnProperty.call(N,w)&&(d[w]=N[w])}}function T(d){var m=1;d=d.split(":");const w=[];for(;0<m&&d.length;)w.push(d.shift()),m--;return d.length&&w.push(d.join(":")),w}function C(d){a.setTimeout(()=>{throw d},0)}function P(){var d=x;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class G{constructor(){this.h=this.g=null}add(m,w){const N=$.get();N.set(m,w),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new R(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,x=new G,O=()=>{const d=a.Promise.resolve(void 0);F=()=>{d.then(q)}};var q=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(w){C(w)}var m=$;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}U=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return d}();function Z(d,m){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(M){e:{try{_(m.nodeName);var J=!0;break e}catch{}J=!1}J||(m=null)}}else w=="mouseover"?m=d.fromElement:w=="mouseout"&&(m=d.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:H[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}g(Z,te);var H={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ie=0;function X(d,m,w,N,J){this.listener=d,this.proxy=null,this.src=m,this.type=w,this.capture=!!N,this.ha=J,this.key=++ie,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,m,w,N,J){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var Ce=D(d,m,N,J);return-1<Ce?(m=d[Ce],w||(m.fa=!1)):(m=new X(m,this.src,re,!!N,J),m.fa=w,d.push(m)),m};function ne(d,m){var w=m.type;if(w in d.g){var N=d.g[w],J=Array.prototype.indexOf.call(N,m,void 0),re;(re=0<=J)&&Array.prototype.splice.call(N,J,1),re&&(ce(m),d.g[w].length==0&&(delete d.g[w],d.h--))}}function D(d,m,w,N){for(var J=0;J<d.length;++J){var re=d[J];if(!re.da&&re.listener==m&&re.capture==!!w&&re.ha==N)return J}return-1}var V="closure_lm_"+(1e6*Math.random()|0),j={};function oe(d,m,w,N,J){if(N&&N.once)return Se(d,m,w,N,J);if(Array.isArray(m)){for(var re=0;re<m.length;re++)oe(d,m[re],w,N,J);return null}return w=Ye(w),d&&d[Q]?d.K(m,w,u(N)?!!N.capture:!!N,J):se(d,m,w,!1,N,J)}function se(d,m,w,N,J,re){if(!m)throw Error("Invalid event type");var Ce=u(J)?!!J.capture:!!J,Wt=Ie(d);if(Wt||(d[V]=Wt=new be(d)),w=Wt.add(m,w,N,Ce,re),w.proxy)return w;if(N=me(),w.proxy=N,N.src=d,N.listener=w,d.addEventListener)he||(J=Ce),J===void 0&&(J=!1),d.addEventListener(m.toString(),N,J);else if(d.attachEvent)d.attachEvent(ge(m.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function me(){function d(w){return m.call(d.src,d.listener,w)}const m=He;return d}function Se(d,m,w,N,J){if(Array.isArray(m)){for(var re=0;re<m.length;re++)Se(d,m[re],w,N,J);return null}return w=Ye(w),d&&d[Q]?d.L(m,w,u(N)?!!N.capture:!!N,J):se(d,m,w,!0,N,J)}function Ee(d,m,w,N,J){if(Array.isArray(m))for(var re=0;re<m.length;re++)Ee(d,m[re],w,N,J);else N=u(N)?!!N.capture:!!N,w=Ye(w),d&&d[Q]?(d=d.i,m=String(m).toString(),m in d.g&&(re=d.g[m],w=D(re,w,N,J),-1<w&&(ce(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ie(d))&&(m=d.g[m.toString()],d=-1,m&&(d=D(m,w,N,J)),(w=-1<d?m[d]:null)&&Te(w))}function Te(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Q])ne(m.i,d);else{var w=d.type,N=d.proxy;m.removeEventListener?m.removeEventListener(w,N,d.capture):m.detachEvent?m.detachEvent(ge(w),N):m.addListener&&m.removeListener&&m.removeListener(N),(w=Ie(m))?(ne(w,d),w.h==0&&(w.src=null,m[V]=null)):ce(d)}}}function ge(d){return d in j?j[d]:j[d]="on"+d}function He(d,m){if(d.da)d=!0;else{m=new Z(m,this);var w=d.listener,N=d.ha||d.src;d.fa&&Te(d),d=w.call(N,m)}return d}function Ie(d){return d=d[V],d instanceof be?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(m){return d.handleEvent(m)}),d[Fe])}function Ke(){z.call(this),this.i=new be(this),this.M=this,this.F=null}g(Ke,z),Ke.prototype[Q]=!0,Ke.prototype.removeEventListener=function(d,m,w,N){Ee(this,d,m,w,N)};function K(d,m){var w,N=d.F;if(N)for(w=[];N;N=N.F)w.push(N);if(d=d.M,N=m.type||m,typeof m=="string")m=new te(m,d);else if(m instanceof te)m.target=m.target||d;else{var J=m;m=new te(N,d),v(m,J)}if(J=!0,w)for(var re=w.length-1;0<=re;re--){var Ce=m.g=w[re];J=ae(Ce,N,!0,m)&&J}if(Ce=m.g=d,J=ae(Ce,N,!0,m)&&J,J=ae(Ce,N,!1,m)&&J,w)for(re=0;re<w.length;re++)Ce=m.g=w[re],J=ae(Ce,N,!1,m)&&J}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var w=d.g[m],N=0;N<w.length;N++)ce(w[N]);delete d.g[m],d.h--}}this.F=null},Ke.prototype.K=function(d,m,w,N){return this.i.add(String(d),m,!1,w,N)},Ke.prototype.L=function(d,m,w,N){return this.i.add(String(d),m,!0,w,N)};function ae(d,m,w,N){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var J=!0,re=0;re<m.length;++re){var Ce=m[re];if(Ce&&!Ce.da&&Ce.capture==w){var Wt=Ce.listener,zn=Ce.ha||Ce.src;Ce.fa&&ne(d.i,Ce),J=Wt.call(zn,N)!==!1&&J}}return J&&!N.defaultPrevented}function Ne(d,m,w){if(typeof d=="function")w&&(d=f(d,w));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function We(d){d.g=Ne(()=>{d.g=null,d.i&&(d.i=!1,We(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class dt extends z{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(d){z.call(this),this.h=d,this.g={}}g(Nt,z);var Wn=[];function Oe(d){L(d.g,function(m,w){this.g.hasOwnProperty(w)&&Te(m)},d),d.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),Oe(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=a.JSON.stringify,je=a.JSON.parse,qn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Wr(){}Wr.prototype.h=null;function Va(d){return d.h||(d.h=d.i())}function Ub(){}var yu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function km(){te.call(this,"d")}g(km,te);function Rm(){te.call(this,"c")}g(Rm,te);var Do={},Bb=null;function Xd(){return Bb=Bb||new Ke}Do.La="serverreachability";function jb(d){te.call(this,Do.La,d)}g(jb,te);function _u(d){const m=Xd();K(m,new jb(m))}Do.STAT_EVENT="statevent";function Hb(d,m){te.call(this,Do.STAT_EVENT,d),this.stat=m}g(Hb,te);function Tr(d){const m=Xd();K(m,new Hb(m,d))}Do.Ma="timingevent";function Wb(d,m){te.call(this,Do.Ma,d),this.size=m}g(Wb,te);function bu(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function wu(){this.g=!0}wu.prototype.xa=function(){this.g=!1};function IN(d,m,w,N,J,re){d.info(function(){if(d.g)if(re)for(var Ce="",Wt=re.split("&"),zn=0;zn<Wt.length;zn++){var At=Wt[zn].split("=");if(1<At.length){var sr=At[0];At=At[1];var or=sr.split("_");Ce=2<=or.length&&or[1]=="type"?Ce+(sr+"="+At+"&"):Ce+(sr+"=redacted&")}}else Ce=null;else Ce=re;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+m+`
`+w+`
`+Ce})}function SN(d,m,w,N,J,re,Ce){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+m+`
`+w+`
`+re+" "+Ce})}function Fa(d,m,w,N){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+CN(d,w)+(N?" "+N:"")})}function AN(d,m){d.info(function(){return"TIMEOUT: "+m})}wu.prototype.info=function(){};function CN(d,m){if(!d.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var N=w[d];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var Ce=1;Ce<J.length;Ce++)J[Ce]=""}}}}return Be(w)}catch{return m}}var Jd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dm;function Zd(){}g(Zd,Wr),Zd.prototype.g=function(){return new XMLHttpRequest},Zd.prototype.i=function(){return{}},Dm=new Zd;function Ms(d,m,w,N){this.j=d,this.i=m,this.l=w,this.R=N||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zb}function zb(){this.i=null,this.g="",this.h=!1}var Kb={},xm={};function Nm(d,m,w){d.L=1,d.v=rh(ss(m)),d.m=w,d.P=!0,Gb(d,null)}function Gb(d,m){d.F=Date.now(),eh(d),d.A=ss(d.v);var w=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),lw(w.i,"t",N),d.C=0,w=d.j.J,d.h=new zb,d.g=Aw(d.j,w?m:null,!d.m),0<d.O&&(d.M=new dt(f(d.Y,d,d.g),d.O)),m=d.U,w=d.g,N=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Wn[0]=J.toString()),J=Wn);for(var re=0;re<J.length;re++){var Ce=oe(w,J[re],N||m.handleEvent,!1,m.h||m);if(!Ce)break;m.g[Ce.key]=Ce}m=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),_u(),IN(d.i,d.u,d.A,d.l,d.R,d.m)}Ms.prototype.ca=function(d){d=d.target;const m=this.M;m&&os(d)==3?m.j():this.Y(d)},Ms.prototype.Y=function(d){try{if(d==this.g)e:{const or=os(this.g);var m=this.g.Ba();const Ba=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||mw(this.g)))){this.J||or!=4||m==7||(m==8||0>=Ba?_u(3):_u(2)),Mm(this);var w=this.g.Z();this.X=w;t:if(Yb(this)){var N=mw(this.g);d="";var J=N.length,re=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),Tu(this);var Ce="";break t}this.h.i=new a.TextDecoder}for(m=0;m<J;m++)this.h.h=!0,d+=this.h.i.decode(N[m],{stream:!(re&&m==J-1)});N.length=0,this.h.g+=d,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=w==200,SN(this.i,this.u,this.A,this.l,this.R,or,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,zn=this.g;if((Wt=zn.g?zn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Wt)){var At=Wt;break t}}At=null}if(w=At)Fa(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lm(this,w);else{this.o=!1,this.s=3,Tr(12),xo(this),Tu(this);break e}}if(this.P){w=!0;let gi;for(;!this.J&&this.C<Ce.length;)if(gi=ON(this,Ce),gi==xm){or==4&&(this.s=4,Tr(14),w=!1),Fa(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==Kb){this.s=4,Tr(15),Fa(this.i,this.l,Ce,"[Invalid Chunk]"),w=!1;break}else Fa(this.i,this.l,gi,null),Lm(this,gi);if(Yb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||Ce.length!=0||this.h.h||(this.s=1,Tr(16),w=!1),this.o=this.o&&w,!w)Fa(this.i,this.l,Ce,"[Invalid Chunked Response]"),xo(this),Tu(this);else if(0<Ce.length&&!this.W){this.W=!0;var sr=this.j;sr.g==this&&sr.ba&&!sr.M&&(sr.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),jm(sr),sr.M=!0,Tr(11))}}else Fa(this.i,this.l,Ce,null),Lm(this,Ce);or==4&&xo(this),this.o&&!this.J&&(or==4?Tw(this.j,this):(this.o=!1,eh(this)))}else qN(this.g),w==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,Tr(12)):(this.s=0,Tr(13)),xo(this),Tu(this)}}}catch{}finally{}};function Yb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ON(d,m){var w=d.C,N=m.indexOf(`
`,w);return N==-1?xm:(w=Number(m.substring(w,N)),isNaN(w)?Kb:(N+=1,N+w>m.length?xm:(m=m.slice(N,N+w),d.C=N+w,m)))}Ms.prototype.cancel=function(){this.J=!0,xo(this)};function eh(d){d.S=Date.now()+d.I,Qb(d,d.I)}function Qb(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=bu(f(d.ba,d),m)}function Mm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ms.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(AN(this.i,this.A),this.L!=2&&(_u(),Tr(17)),xo(this),this.s=2,Tu(this)):Qb(this,this.S-d)};function Tu(d){d.j.G==0||d.J||Tw(d.j,d)}function xo(d){Mm(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Oe(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Lm(d,m){try{var w=d.j;if(w.G!=0&&(w.g==d||Vm(w.h,d))){if(!d.K&&Vm(w.h,d)&&w.G==3){try{var N=w.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)uh(w),ah(w);else break e;Bm(w),Tr(18)}}else w.za=J[1],0<w.za-w.T&&37500>J[2]&&w.F&&w.v==0&&!w.C&&(w.C=bu(f(w.Za,w),6e3));if(1>=Zb(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Mo(w,11)}else if((d.K||w.g==d)&&uh(w),!k(m))for(J=w.Da.g.parse(m),m=0;m<J.length;m++){let At=J[m];if(w.T=At[0],At=At[1],w.G==2)if(At[0]=="c"){w.K=At[1],w.ia=At[2];const sr=At[3];sr!=null&&(w.la=sr,w.j.info("VER="+w.la));const or=At[4];or!=null&&(w.Aa=or,w.j.info("SVER="+w.Aa));const Ba=At[5];Ba!=null&&typeof Ba=="number"&&0<Ba&&(N=1.5*Ba,w.L=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const gi=d.g;if(gi){const dh=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dh){var re=N.h;re.g||dh.indexOf("spdy")==-1&&dh.indexOf("quic")==-1&&dh.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Fm(re,re.h),re.h=null))}if(N.D){const Hm=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Hm&&(N.ya=Hm,Zt(N.I,N.D,Hm))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),N=w;var Ce=d;if(N.qa=Sw(N,N.J?N.ia:null,N.W),Ce.K){ew(N.h,Ce);var Wt=Ce,zn=N.L;zn&&(Wt.I=zn),Wt.B&&(Mm(Wt),eh(Wt)),N.g=Ce}else bw(N);0<w.i.length&&lh(w)}else At[0]!="stop"&&At[0]!="close"||Mo(w,7);else w.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Mo(w,7):Um(w):At[0]!="noop"&&w.l&&w.l.ta(At),w.v=0)}}_u(4)}catch{}}var PN=class{constructor(d,m){this.g=d,this.map=m}};function Xb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Zb(d){return d.h?1:d.g?d.g.size:0}function Vm(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Fm(d,m){d.g?d.g.add(m):d.h=m}function ew(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}Xb.prototype.cancel=function(){if(this.i=tw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function tw(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const w of d.g.values())m=m.concat(w.D);return m}return b(d.i)}function kN(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],w=d.length,N=0;N<w;N++)m.push(d[N]);return m}m=[],w=0;for(N in d)m[w++]=d[N];return m}function RN(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var w=0;w<d;w++)m.push(w);return m}m=[],w=0;for(const N in d)m[w++]=N;return m}}}function nw(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var w=RN(d),N=kN(d),J=N.length,re=0;re<J;re++)m.call(void 0,N[re],w&&w[re],d)}var rw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DN(d,m){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var N=d[w].indexOf("="),J=null;if(0<=N){var re=d[w].substring(0,N);J=d[w].substring(N+1)}else re=d[w];m(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function No(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof No){this.h=d.h,th(this,d.j),this.o=d.o,this.g=d.g,nh(this,d.s),this.l=d.l;var m=d.i,w=new Su;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),iw(this,w),this.m=d.m}else d&&(m=String(d).match(rw))?(this.h=!1,th(this,m[1]||"",!0),this.o=Eu(m[2]||""),this.g=Eu(m[3]||"",!0),nh(this,m[4]),this.l=Eu(m[5]||"",!0),iw(this,m[6]||"",!0),this.m=Eu(m[7]||"")):(this.h=!1,this.i=new Su(null,this.h))}No.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Iu(m,sw,!0),":");var w=this.g;return(w||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Iu(m,sw,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Iu(w,w.charAt(0)=="/"?MN:NN,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Iu(w,VN)),d.join("")};function ss(d){return new No(d)}function th(d,m,w){d.j=w?Eu(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function nh(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function iw(d,m,w){m instanceof Su?(d.i=m,FN(d.i,d.h)):(w||(m=Iu(m,LN)),d.i=new Su(m,d.h))}function Zt(d,m,w){d.i.set(m,w)}function rh(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Eu(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Iu(d,m,w){return typeof d=="string"?(d=encodeURI(d).replace(m,xN),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xN(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var sw=/[#\/\?@]/g,NN=/[#\?:]/g,MN=/[#\?]/g,LN=/[#\?@]/g,VN=/#/g;function Su(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Ls(d){d.g||(d.g=new Map,d.h=0,d.i&&DN(d.i,function(m,w){d.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=Su.prototype,t.add=function(d,m){Ls(this),this.i=null,d=$a(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(m),this.h+=1,this};function ow(d,m){Ls(d),m=$a(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function aw(d,m){return Ls(d),m=$a(d,m),d.g.has(m)}t.forEach=function(d,m){Ls(this),this.g.forEach(function(w,N){w.forEach(function(J){d.call(m,J,N,this)},this)},this)},t.na=function(){Ls(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let N=0;N<m.length;N++){const J=d[N];for(let re=0;re<J.length;re++)w.push(m[N])}return w},t.V=function(d){Ls(this);let m=[];if(typeof d=="string")aw(this,d)&&(m=m.concat(this.g.get($a(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)m=m.concat(d[w])}return m},t.set=function(d,m){return Ls(this),this.i=null,d=$a(this,d),aw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function lw(d,m,w){ow(d,m),0<w.length&&(d.i=null,d.g.set($a(d,m),b(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var N=m[w];const re=encodeURIComponent(String(N)),Ce=this.V(N);for(N=0;N<Ce.length;N++){var J=re;Ce[N]!==""&&(J+="="+encodeURIComponent(String(Ce[N]))),d.push(J)}}return this.i=d.join("&")};function $a(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function FN(d,m){m&&!d.j&&(Ls(d),d.i=null,d.g.forEach(function(w,N){var J=N.toLowerCase();N!=J&&(ow(this,N),lw(this,J,w))},d)),d.j=m}function $N(d,m){const w=new wu;if(a.Image){const N=new Image;N.onload=p(Vs,w,"TestLoadImage: loaded",!0,m,N),N.onerror=p(Vs,w,"TestLoadImage: error",!1,m,N),N.onabort=p(Vs,w,"TestLoadImage: abort",!1,m,N),N.ontimeout=p(Vs,w,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else m(!1)}function UN(d,m){const w=new wu,N=new AbortController,J=setTimeout(()=>{N.abort(),Vs(w,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:N.signal}).then(re=>{clearTimeout(J),re.ok?Vs(w,"TestPingServer: ok",!0,m):Vs(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(J),Vs(w,"TestPingServer: error",!1,m)})}function Vs(d,m,w,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(w)}catch{}}function BN(){this.g=new qn}function jN(d,m,w){const N=w||"";try{nw(d,function(J,re){let Ce=J;u(J)&&(Ce=Be(J)),m.push(N+re+"="+encodeURIComponent(Ce))})}catch(J){throw m.push(N+"type="+encodeURIComponent("_badmap")),J}}function ih(d){this.l=d.Ub||null,this.j=d.eb||!1}g(ih,Wr),ih.prototype.g=function(){return new sh(this.l,this.j)},ih.prototype.i=function(d){return function(){return d}}({});function sh(d,m){Ke.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(sh,Ke),t=sh.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Cu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Au(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cu(this)),this.g&&(this.readyState=3,Cu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uw(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function uw(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Au(this):Cu(this),this.readyState==3&&uw(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Au(this))},t.Qa=function(d){this.g&&(this.response=d,Au(this))},t.ga=function(){this.g&&Au(this)};function Au(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cu(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=m.next();return d.join(`\r
`)};function Cu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function cw(d){let m="";return L(d,function(w,N){m+=N,m+=":",m+=w,m+=`\r
`}),m}function $m(d,m,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=cw(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Zt(d,m,w))}function mn(d){Ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(mn,Ke);var HN=/^https?$/i,WN=["POST","PUT"];t=mn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dm.g(),this.v=this.o?Va(this.o):Va(Dm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(re){dw(this,re);return}if(d=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)w.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())w.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),J=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(WN,m,void 0))||N||J||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Ce]of w)this.g.setRequestHeader(re,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pw(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){dw(this,re)}};function dw(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,hw(d),oh(d)}function hw(d){d.A||(d.A=!0,K(d,"complete"),K(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,K(this,"complete"),K(this,"abort"),oh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oh(this,!0)),mn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fw(this):this.bb())},t.bb=function(){fw(this)};function fw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||os(d)!=4||d.Z()!=2)){if(d.u&&os(d)==4)Ne(d.Ea,0,d);else if(K(d,"readystatechange"),os(d)==4){d.h=!1;try{const Ce=d.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var N;if(N=Ce===0){var J=String(d.D).match(rw)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),N=!HN.test(J?J.toLowerCase():"")}w=N}if(w)K(d,"complete"),K(d,"success");else{d.m=6;try{var re=2<os(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",hw(d)}}finally{oh(d)}}}}function oh(d,m){if(d.g){pw(d);const w=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||K(d,"ready");try{w.onreadystatechange=N}catch{}}}function pw(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function os(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),je(m)}};function mw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function qN(d){const m={};d=(d.g&&2<=os(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(k(d[N]))continue;var w=T(d[N]);const J=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=m[J]||[];m[J]=re,re.push(w)}I(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ou(d,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||m}function gw(d){this.Aa=0,this.i=[],this.j=new wu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ou("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ou("baseRetryDelayMs",5e3,d),this.cb=Ou("retryDelaySeedMs",1e4,d),this.Wa=Ou("forwardChannelMaxRetries",2,d),this.wa=Ou("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Xb(d&&d.concurrentRequestLimit),this.Da=new BN,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gw.prototype,t.la=8,t.G=1,t.connect=function(d,m,w,N){Tr(0),this.W=d,this.H=m||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.I=Sw(this,null,this.W),lh(this)};function Um(d){if(vw(d),d.G==3){var m=d.U++,w=ss(d.I);if(Zt(w,"SID",d.K),Zt(w,"RID",m),Zt(w,"TYPE","terminate"),Pu(d,w),m=new Ms(d,d.j,m),m.L=2,m.v=rh(ss(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=Aw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),eh(m)}Iw(d)}function ah(d){d.g&&(jm(d),d.g.cancel(),d.g=null)}function vw(d){ah(d),d.u&&(a.clearTimeout(d.u),d.u=null),uh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function lh(d){if(!Jb(d.h)&&!d.s){d.s=!0;var m=d.Ga;F||O(),U||(F(),U=!0),x.add(m,d),d.B=0}}function zN(d,m){return Zb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=bu(f(d.Ga,d,m),Ew(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new Ms(this,this.j,d);let re=this.o;if(this.S&&(re?(re=E(re),v(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=_w(this,J,m),w=ss(this.I),Zt(w,"RID",d),Zt(w,"CVER",22),this.D&&Zt(w,"X-HTTP-Session-Id",this.D),Pu(this,w),re&&(this.O?m="headers="+encodeURIComponent(String(cw(re)))+"&"+m:this.m&&$m(w,this.m,re)),Fm(this.h,J),this.Ua&&Zt(w,"TYPE","init"),this.P?(Zt(w,"$req",m),Zt(w,"SID","null"),J.T=!0,Nm(J,w,null)):Nm(J,w,m),this.G=2}}else this.G==3&&(d?yw(this,d):this.i.length==0||Jb(this.h)||yw(this))};function yw(d,m){var w;m?w=m.l:w=d.U++;const N=ss(d.I);Zt(N,"SID",d.K),Zt(N,"RID",w),Zt(N,"AID",d.T),Pu(d,N),d.m&&d.o&&$m(N,d.m,d.o),w=new Ms(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),m&&(d.i=m.D.concat(d.i)),m=_w(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Fm(d.h,w),Nm(w,N,m)}function Pu(d,m){d.H&&L(d.H,function(w,N){Zt(m,N,w)}),d.l&&nw({},function(w,N){Zt(m,N,w)})}function _w(d,m,w){w=Math.min(d.i.length,w);var N=d.l?f(d.l.Na,d.l,d):null;e:{var J=d.i;let re=-1;for(;;){const Ce=["count="+w];re==-1?0<w?(re=J[0].g,Ce.push("ofs="+re)):re=0:Ce.push("ofs="+re);let Wt=!0;for(let zn=0;zn<w;zn++){let At=J[zn].g;const sr=J[zn].map;if(At-=re,0>At)re=Math.max(0,J[zn].g-100),Wt=!1;else try{jN(sr,Ce,"req"+At+"_")}catch{N&&N(sr)}}if(Wt){N=Ce.join("&");break e}}}return d=d.i.splice(0,w),m.D=d,N}function bw(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;F||O(),U||(F(),U=!0),x.add(m,d),d.v=0}}function Bm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=bu(f(d.Fa,d),Ew(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ww(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=bu(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tr(10),ah(this),ww(this))};function jm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function ww(d){d.g=new Ms(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=ss(d.qa);Zt(m,"RID","rpc"),Zt(m,"SID",d.K),Zt(m,"AID",d.T),Zt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(m,"TO",d.ja),Zt(m,"TYPE","xmlhttp"),Pu(d,m),d.m&&d.o&&$m(m,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=rh(ss(m)),w.m=null,w.P=!0,Gb(w,d)}t.Za=function(){this.C!=null&&(this.C=null,ah(this),Bm(this),Tr(19))};function uh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Tw(d,m){var w=null;if(d.g==m){uh(d),jm(d),d.g=null;var N=2}else if(Vm(d.h,m))w=m.D,ew(d.h,m),N=1;else return;if(d.G!=0){if(m.o)if(N==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var J=d.B;N=Xd(),K(N,new Wb(N,w)),lh(d)}else bw(d);else if(J=m.s,J==3||J==0&&0<m.X||!(N==1&&zN(d,m)||N==2&&Bm(d)))switch(w&&0<w.length&&(m=d.h,m.i=m.i.concat(w)),J){case 1:Mo(d,5);break;case 4:Mo(d,10);break;case 3:Mo(d,6);break;default:Mo(d,2)}}}function Ew(d,m){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*m}function Mo(d,m){if(d.j.info("Error code "+m),m==2){var w=f(d.fb,d),N=d.Xa;const J=!N;N=new No(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||th(N,"https"),rh(N),J?$N(N.toString(),w):UN(N.toString(),w)}else Tr(2);d.G=0,d.l&&d.l.sa(m),Iw(d),vw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tr(2)):(this.j.info("Failed to ping google.com"),Tr(1))};function Iw(d){if(d.G=0,d.ka=[],d.l){const m=tw(d.h);(m.length!=0||d.i.length!=0)&&(A(d.ka,m),A(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function Sw(d,m,w){var N=w instanceof No?ss(w):new No(w);if(N.g!="")m&&(N.g=m+"."+N.g),nh(N,N.s);else{var J=a.location;N=J.protocol,m=m?m+"."+J.hostname:J.hostname,J=+J.port;var re=new No(null);N&&th(re,N),m&&(re.g=m),J&&nh(re,J),w&&(re.l=w),N=re}return w=d.D,m=d.ya,w&&m&&Zt(N,w,m),Zt(N,"VER",d.la),Pu(d,N),N}function Aw(d,m,w){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new mn(new ih({eb:w})):new mn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cw(){}t=Cw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ch(){}ch.prototype.g=function(d,m){return new qr(d,m)};function qr(d,m){Ke.call(this),this.g=new gw(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!k(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Ua(this)}g(qr,Ke),qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){Um(this.g)},qr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Be(d),d=w);m.i.push(new PN(m.Ya++,d)),m.G==3&&lh(m)},qr.prototype.N=function(){this.g.l=null,delete this.j,Um(this.g),delete this.g,qr.aa.N.call(this)};function Ow(d){km.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const w in m){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(Ow,km);function Pw(){Rm.call(this),this.status=1}g(Pw,Rm);function Ua(d){this.g=d}g(Ua,Cw),Ua.prototype.ua=function(){K(this.g,"a")},Ua.prototype.ta=function(d){K(this.g,new Ow(d))},Ua.prototype.sa=function(d){K(this.g,new Pw)},Ua.prototype.ra=function(){K(this.g,"b")},ch.prototype.createWebChannel=ch.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,dP=function(){return new ch},cP=function(){return Xd()},uP=Do,Bv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jd.NO_ERROR=0,Jd.TIMEOUT=8,Jd.HTTP_ERROR=6,Qh=Jd,qb.COMPLETE="complete",lP=qb,Ub.EventType=yu,yu.OPEN="a",yu.CLOSE="b",yu.ERROR="c",yu.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Qu=Ub,mn.prototype.listenOnce=mn.prototype.L,mn.prototype.getLastError=mn.prototype.Ka,mn.prototype.getLastErrorCode=mn.prototype.Ba,mn.prototype.getStatus=mn.prototype.Z,mn.prototype.getResponseJson=mn.prototype.Oa,mn.prototype.getResponseText=mn.prototype.oa,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Ha,aP=mn}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const d1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ur=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new lu("@firebase/firestore");function Nu(){return ca.logLevel}function Ue(t,...e){if(ca.logLevel<=ft.DEBUG){const n=e.map(x_);ca.debug(`Firestore (${uu}): ${t}`,...n)}}function As(t,...e){if(ca.logLevel<=ft.ERROR){const n=e.map(x_);ca.error(`Firestore (${uu}): ${t}`,...n)}}function Fl(t,...e){if(ca.logLevel<=ft.WARN){const n=e.map(x_);ca.warn(`Firestore (${uu}): ${t}`,...n)}}function x_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+t;throw As(e),new Error(e)}function Bt(t,e){t||rt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ur.UNAUTHENTICATED))}shutdown(){}}class tU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nU{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ws,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string"),new hP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new ur(e)}}class rU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Bt(this.o===void 0);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt(typeof n.token=="string"),this.R=n.token,new sU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function $l(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Ut(0,0))}static max(){return new st(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qt extends Kc{construct(e,n,r){return new Qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const lU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Kc{construct(e,n,r){return new Xn(e,n,r)}static isValidIdentifier(e){return lU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Qt.fromString(e))}static fromName(e){return new Ge(Qt.fromString(e).popFirst(5))}static empty(){return new Ge(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Qt(e.slice()))}}function uU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new _o(i,Ge.empty(),e)}function cU(t){return new _o(t.readTime,t.key,-1)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(st.min(),Ge.empty(),-1)}static max(){return new _o(st.max(),Ge.empty(),-1)}}function dU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==hU)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ve((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function pU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}N_.oe=-1;function jp(t){return t==null}function Nf(t){return t===0&&1/t==-1/0}function mU(t){return typeof t=="number"&&Number.isInteger(t)&&!Nf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class jv{constructor(e,n){this.comparator=e,this.root=n||ao.EMPTY}insert(e,n){return new jv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new jv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}},Sh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ao=class cs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cs.RED,this.left=i??cs.EMPTY,this.right=s??cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1;ao.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ao(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(e){return new f1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class f1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Gr([])}unionWith(e){let n=new nr(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mP("Invalid base64 string: "+s):s}}(e);return new rr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new rr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const gU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(Bt(!!t),typeof t=="string"){let e=0;const n=gU.exec(t);if(Bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function da(t){return typeof t=="string"?rr.fromBase64String(t):rr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function M_(t){const e=t.mapValue.fields.__previous_value__;return Hp(e)?M_(e):e}function Gc(t){const e=bo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Yc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hp(t)?4:_U(t)?9007199254740991:yU(t)?10:11:rt()}function ts(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=bo(i.timestampValue),a=bo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return da(i.bytesValue).isEqual(da(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return bn(i.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(i.geoPointValue.longitude)===bn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return bn(i.integerValue)===bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=bn(i.doubleValue),a=bn(s.doubleValue);return o===a?Nf(o)===Nf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(h1(o)!==h1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ts(o[l],a[l])))return!1;return!0}(t,e);default:return rt()}}function Qc(t,e){return(t.values||[]).find(n=>ts(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=bn(s.integerValue||s.doubleValue),l=bn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return p1(t.timestampValue,e.timestampValue);case 4:return p1(Gc(t),Gc(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=da(s),l=da(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ot(a[u],l[u]);if(c!==0)return c}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(bn(s.latitude),bn(o.latitude));return a!==0?a:Ot(bn(s.longitude),bn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return m1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=Ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:m1(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ah.mapValue&&o===Ah.mapValue)return 0;if(s===Ah.mapValue)return 1;if(o===Ah.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ot(l[h],c[h]);if(f!==0)return f;const p=Ul(a[l[h]],u[c[h]]);if(p!==0)return p}return Ot(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function p1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=bo(t),r=bo(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function m1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ul(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function Bl(t){return Hv(t)}function Hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Hv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Hv(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function Mf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wv(t){return!!t&&"integerValue"in t}function L_(t){return!!t&&"arrayValue"in t}function g1(t){return!!t&&"nullValue"in t}function v1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xh(t){return!!t&&"mapValue"in t}function yU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _U(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=Xn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ca(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Fr(pc(this.value))}}function gP(t){const e=[];return Ca(t.fields,(n,r)=>{const i=new Xn([n]);if(Xh(r)){const s=gP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hr(e,0,st.min(),st.min(),st.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,i){return new hr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new hr(e,2,n,st.min(),st.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,st.min(),st.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.position=e,this.inclusive=n}}function y1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ge.comparator(Ge.fromName(o.referenceValue),n.key):r=Ul(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function bU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{}class Cn extends vP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TU(e,n,r):n==="array-contains"?new SU(e,r):n==="in"?new AU(e,r):n==="not-in"?new CU(e,r):n==="array-contains-any"?new OU(e,r):new Cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EU(e,r):new IU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ul(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends vP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ni(e,n)}matches(e){return yP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yP(t){return t.op==="and"}function _P(t){return wU(t)&&yP(t)}function wU(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function qv(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if(_P(t))return t.filters.map(e=>qv(e)).join(",");{const e=t.filters.map(n=>qv(n)).join(",");return`${t.op}(${e})`}}function bP(t,e){return t instanceof Cn?function(r,i){return i instanceof Cn&&r.op===i.op&&r.field.isEqual(i.field)&&ts(r.value,i.value)}(t,e):t instanceof Ni?function(r,i){return i instanceof Ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&bP(o,i.filters[a]),!0):!1}(t,e):void rt()}function wP(t){return t instanceof Cn?function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`}(t):t instanceof Ni?function(n){return n.op.toString()+" {"+n.getFilters().map(wP).join(" ,")+"}"}(t):"Filter"}class TU extends Cn{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class EU extends Cn{constructor(e,n){super(e,"in",n),this.keys=TP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IU extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=TP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class SU extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return L_(n)&&Qc(n.arrayValue,this.value)}}class AU extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}}class CU extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qc(this.value.arrayValue,n)}}class OU extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!L_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function b1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new PU(t,e,n,r,i,s,o)}function V_(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bl(r)).join(",")),e.ue=n}return e.ue}function F_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_1(t.startAt,e.startAt)&&_1(t.endAt,e.endAt)}function zv(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kU(t,e,n,r,i,s,o,a){return new Oa(t,e,n,r,i,s,o,a)}function Wp(t){return new Oa(t)}function w1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $_(t){return t.collectionGroup!==null}function wl(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nr(Xn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xc(s,r))}),n.has(Xn.keyField().canonicalString())||e.ce.push(new Xc(Xn.keyField(),r))}return e.ce}function Yi(t){const e=ot(t);return e.le||(e.le=RU(e,wl(t))),e.le}function RU(t,e){if(t.limitType==="F")return b1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xc(i.field,s)});const n=t.endAt?new jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jl(t.startAt.position,t.startAt.inclusive):null;return b1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kv(t,e){const n=t.filters.concat([e]);return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lf(t,e,n){return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qp(t,e){return F_(Yi(t),Yi(e))&&t.limitType===e.limitType}function EP(t){return`${V_(Yi(t))}|lt:${t.limitType}`}function Za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wP(i)).join(", ")}]`),jp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bl(i)).join(",")),`Target(${r})`}(Yi(t))}; limitType=${t.limitType})`}function zp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=y1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,wl(r),i)||r.endAt&&!function(o,a,l){const u=y1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,wl(r),i))}(t,e)}function DU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IP(t){return(e,n)=>{let r=!1;for(const i of wl(t)){const s=xU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xU(t,e,n){const r=t.field.isKeyField()?Ge.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ul(l,u):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=new On(Ge.comparator);function Cs(){return NU}const SP=new On(Ge.comparator);function Xu(...t){let e=SP;for(const n of t)e=e.insert(n.key,n);return e}function AP(t){let e=SP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zo(){return mc()}function CP(){return mc()}function mc(){return new cu(t=>t.toString(),(t,e)=>t.isEqual(e))}const MU=new On(Ge.comparator),LU=new nr(Ge.comparator);function pt(...t){let e=LU;for(const n of t)e=e.add(n);return e}const VU=new nr(Ot);function FU(){return VU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function OP(t){return{integerValue:""+t}}function $U(t,e){return mU(e)?OP(e):U_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this._=void 0}}function UU(t,e,n){return t instanceof Vf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hp(s)&&(s=M_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Jc?kP(t,e):t instanceof Zc?RP(t,e):function(i,s){const o=PP(i,s),a=T1(o)+T1(i.Pe);return Wv(o)&&Wv(i.Pe)?OP(a):U_(i.serializer,a)}(t,e)}function BU(t,e,n){return t instanceof Jc?kP(t,e):t instanceof Zc?RP(t,e):n}function PP(t,e){return t instanceof Ff?function(r){return Wv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vf extends Kp{}class Jc extends Kp{constructor(e){super(),this.elements=e}}function kP(t,e){const n=DP(e);for(const r of t.elements)n.some(i=>ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zc extends Kp{constructor(e){super(),this.elements=e}}function RP(t,e){let n=DP(e);for(const r of t.elements)n=n.filter(i=>!ts(i,r));return{arrayValue:{values:n}}}class Ff extends Kp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function T1(t){return bn(t.integerValue||t.doubleValue)}function DP(t){return L_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jc&&i instanceof Jc||r instanceof Zc&&i instanceof Zc?$l(r.elements,i.elements,ts):r instanceof Ff&&i instanceof Ff?ts(r.Pe,i.Pe):r instanceof Vf&&i instanceof Vf}(t.transform,e.transform)}class HU{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gp{}function xP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new B_(t.key,di.none()):new Rd(t.key,t.data,di.none());{const n=t.data,r=Fr.empty();let i=new nr(Xn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ko(t.key,r,new Gr(i.toArray()),di.none())}}function WU(t,e,n){t instanceof Rd?function(i,s,o){const a=i.value.clone(),l=I1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(i,s,o){if(!Jh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=I1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(NP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gc(t,e,n,r){return t instanceof Rd?function(s,o,a,l){if(!Jh(s.precondition,o))return a;const u=s.value.clone(),c=S1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(s,o,a,l){if(!Jh(s.precondition,o))return a;const u=S1(s.fieldTransforms,l,o),c=o.data;return c.setAll(NP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Jh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PP(r.transform,i||null);s!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,s))}return n||null}function E1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$l(r,i,(s,o)=>jU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rd extends Gp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends Gp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I1(t,e,n){const r=new Map;Bt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,BU(o,a,n[i]))}return r}function S1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,UU(s,o,e))}return r}class B_ extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zU extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&WU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(n,r)=>E1(n,r))&&$l(this.baseMutations,e.baseMutations,(n,r)=>E1(n,r))}}class j_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Bt(e.mutations.length===r.length);let i=function(){return MU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new j_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,bt;function QU(t){switch(t){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function MP(t){if(t===void 0)return As("GRPC error has no .code"),ue.UNKNOWN;switch(t){case An.OK:return ue.OK;case An.CANCELLED:return ue.CANCELLED;case An.UNKNOWN:return ue.UNKNOWN;case An.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case An.INTERNAL:return ue.INTERNAL;case An.UNAVAILABLE:return ue.UNAVAILABLE;case An.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case An.NOT_FOUND:return ue.NOT_FOUND;case An.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case An.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case An.ABORTED:return ue.ABORTED;case An.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case An.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case An.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(bt=An||(An={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=new Jo([4294967295,4294967295],0);function A1(t){const e=XU().encode(t),n=new oP;return n.update(e),new Uint8Array(n.digest())}function C1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jo([n,r],0),new Jo([i,s],0)]}class H_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ju(`Invalid padding: ${n}`);if(r<0)throw new Ju(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jo.fromNumber(r)));return i.compare(JU)===1&&(i=new Jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=A1(e),[r,i]=C1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new H_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=A1(e),[r,i]=C1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yp(st.min(),i,new On(Ot),Cs(),pt())}}class Dd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dd(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class LP{constructor(e,n){this.targetId=e,this.me=n}}class VP{constructor(e,n,r=rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class O1{constructor(){this.fe=0,this.ge=k1(),this.pe=rr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pt(),n=pt(),r=pt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Dd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=k1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ZU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cs(),this.qe=P1(),this.Qe=new On(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(zv(s))if(r===0){const o=new Ge(s.path);this.Ue(n,o,hr.newNoDocument(o,st.min()))}else Bt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=da(r).toUint8Array()}catch(l){if(l instanceof mP)return Fl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new H_(o,i,s)}catch(l){return Fl(l instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&zv(a.target)){const l=new Ge(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,hr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Yp(e,n,this.Qe,this.ke,r);return this.ke=Cs(),this.qe=P1(),this.Qe=new On(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new O1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new O1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function P1(){return new On(Ge.comparator)}function k1(){return new On(Ge.comparator)}const e6={asc:"ASCENDING",desc:"DESCENDING"},t6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n6={and:"AND",or:"OR"};class r6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gv(t,e){return t.useProto3Json||jp(e)?e:{value:e}}function $f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i6(t,e){return $f(t,e.toTimestamp())}function Qi(t){return Bt(!!t),st.fromTimestamp(function(n){const r=bo(n);return new Ut(r.seconds,r.nanos)}(t))}function W_(t,e){return Yv(t,e).canonicalString()}function Yv(t,e){const n=function(i){return new Qt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $P(t){const e=Qt.fromString(t);return Bt(WP(e)),e}function Qv(t,e){return W_(t.databaseId,e.path)}function gg(t,e){const n=$P(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(BP(n))}function UP(t,e){return W_(t.databaseId,e)}function s6(t){const e=$P(t);return e.length===4?Qt.emptyPath():BP(e)}function Xv(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BP(t){return Bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R1(t,e,n){return{name:Qv(t,e),fields:n.value.mapValue.fields}}function o6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Bt(c===void 0||typeof c=="string"),rr.fromBase64String(c||"")):(Bt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),rr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ue.UNKNOWN:MP(u.code);return new Pe(c,u.message||"")}(o);n=new VP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gg(t,r.document.name),s=Qi(r.document.updateTime),o=r.document.createTime?Qi(r.document.createTime):st.min(),a=new Fr({mapValue:{fields:r.document.fields}}),l=hr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Zh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gg(t,r.document),s=r.readTime?Qi(r.readTime):st.min(),o=hr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gg(t,r.document),s=r.removedTargetIds||[];n=new Zh([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new YU(i,s),a=r.targetId;n=new LP(a,o)}}return n}function a6(t,e){let n;if(e instanceof Rd)n={update:R1(t,e.key,e.value)};else if(e instanceof B_)n={delete:Qv(t,e.key)};else if(e instanceof ko)n={update:R1(t,e.key,e.data),updateMask:g6(e.fieldMask)};else{if(!(e instanceof zU))return rt();n={verify:Qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Vf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ff)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:i6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function l6(t,e){return t&&t.length>0?(Bt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qi(i.updateTime):Qi(s);return o.isEqual(st.min())&&(o=Qi(s)),new HU(o,i.transformResults||[])}(n,e))):[]}function u6(t,e){return{documents:[UP(t,e.path)]}}function c6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UP(t,i);const s=function(u){if(u.length!==0)return HP(Ni.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:el(f.field),direction:f6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function d6(t){let e=s6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=jP(h);return f instanceof Ni&&_P(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Xc(tl(g.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,jp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new jl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new jl(p,f)}(n.endAt)),kU(e,i,o,s,a,"F",l,u)}function h6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tl(n.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=tl(n.unaryFilter.field);return Cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=tl(n.unaryFilter.field);return Cn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=tl(n.unaryFilter.field);return Cn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return Cn.create(tl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ni.create(n.compositeFilter.filters.map(r=>jP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function f6(t){return e6[t]}function p6(t){return t6[t]}function m6(t){return n6[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return Xn.fromServerFormat(t.fieldPath)}function HP(t){return t instanceof Cn?function(n){if(n.op==="=="){if(v1(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v1(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:p6(n.op),value:n.value}}}(t):t instanceof Ni?function(n){const r=n.getFilters().map(i=>HP(i));return r.length===1?r[0]:{compositeFilter:{op:m6(n.op),filters:r}}}(t):rt()}function g6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,i,s=st.min(),o=st.min(),a=rr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.ct=e}}function y6(t){const e=d6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.un=new b6}addToCollectionParentIndex(e,n){return this.un.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(_o.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class b6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nr(Qt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Hl(0)}static kn(){return new Hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.changes=new cu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gc(r.mutation,i,Gr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){const i=zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Cs();const o=mc(),a=function(){return mc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ko)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),gc(c.mutation,u,c.mutation.getFieldMask(),Ut.now())):o.set(u.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new T6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=mc();let i=new On((o,a)=>o-a),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||pt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=CP();c.forEach(f=>{if(!s.has(f)){const p=xP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(zo());let a=-1,l=s;return o.next(u=>ve.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?ve.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pt())).next(c=>({batchId:a,changes:AP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next(r=>{let i=Xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xu();return this.indexManager.getCollectionParents(e,s).next(a=>ve.forEach(a,l=>{const u=function(h,f){return new Oa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,hr.newInvalidDocument(c)))});let a=Xu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&gc(c.mutation,u,Gr.empty(),Ut.now()),zp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ve.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qi(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:y6(i.bundledQuery),readTime:Qi(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.overlays=new On(Ge.comparator),this.Ir=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return ve.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=zo(),s=n.length+1,o=new Ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=zo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=zo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ve.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new GU(n,r));let s=this.Ir.get(n);s===void 0&&(s=pt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.Tr=new nr(Un.Er),this.dr=new nr(Un.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Un(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Un(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ge(new Qt([])),r=new Un(n,e),i=new Un(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ge(new Qt([])),r=new Un(n,e),i=new Un(n,e+1);let s=pt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Un(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ge.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nr(Un.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new KU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Un(n,0),i=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(Ot);return n.forEach(i=>{const s=new Un(i,0),o=new Un(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ve.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ge.isDocumentKey(s)||(s=s.child(""));const o=new Un(new Ge(s),0);let a=new nr(Ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ve.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Bt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ve.forEach(n.mutations,i=>{const s=new Un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Un(n,0),i=this.br.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.Mr=e,this.docs=function(){return new On(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hr.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cs();const o=n.path,a=new Ge(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||dU(cU(c),r)<=0||(i.has(c.key)||zp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Or(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new P6(this)}getSize(e){return ve.resolve(this.size)}}class P6 extends w6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.persistence=e,this.Nr=new cu(n=>V_(n),F_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new q_,this.targetCount=0,this.kr=Hl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ve.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Kn(n),ve.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new N_(0),this.Kr=!1,this.Kr=!0,this.$r=new A6,this.referenceDelegate=e(this),this.Ur=new k6(this),this.indexManager=new _6,this.remoteDocumentCache=function(i){return new O6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new v6(n),this.Gr=new I6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new C6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new D6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ve.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class D6 extends fU{constructor(e){super(),this.currentSequenceNumber=e}}class z_{constructor(e){this.persistence=e,this.Jr=new q_,this.Yr=null}static Zr(e){return new z_(e)}get Xr(){if(this.Yr)return this.Yr;throw rt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,r=>{const i=Ge.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ve.or([()=>ve.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pt(),i=pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new K_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hF()?8:pU(wr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new x6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Nu()<=ft.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(Nu()<=ft.DEBUG&&Ue("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Nu()<=ft.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ve.resolve())}Yi(e,n){if(w1(n))return ve.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lf(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Lf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return w1(n)||i.isEqual(st.min())?ve.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ve.resolve(null):(Nu()<=ft.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Za(n)),this.rs(e,o,n,uU(i,-1)).next(a=>a))})}ts(e,n){let r=new nr(IP(e));return n.forEach((i,s)=>{zp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Nu()<=ft.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Za(n)),this.Ji.getDocumentsMatchingQuery(e,n,_o.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Ot),this._s=new cu(s=>V_(s),F_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function L6(t,e,n,r){return new M6(t,e,n,r)}async function qP(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function V6(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=ve.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(b=>{const A=u.docVersions.get(g);Bt(A!==null),b.version.compareTo(A)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zP(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function F6(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(rr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(b,A,R){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=Cs(),u=pt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push($6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(st.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function $6(t,e,n){let r=pt(),i=pt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Cs();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(st.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function U6(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B6(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new no(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jv(t,e,n){const r=ot(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!kd(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function D1(t,e,n){const r=ot(t);let i=st.min(),s=pt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ot(l),f=h._s.get(c);return f!==void 0?ve.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:pt())).next(a=>(j6(r,DU(e),a),{documents:a,Ts:s})))}function j6(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class x1{constructor(){this.activeTargetIds=FU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H6{constructor(){this.so=new x1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new x1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function vg(){return Ch===null?Ch=function(){return 268435456+Math.round(2147483648*Math.random())}():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class K6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=vg(),l=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Fl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=q6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=vg();return new Promise((o,a)=>{const l=new aP;l.setWithCredentials(!0),l.listenOnce(lP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qh.NO_ERROR:const c=l.getResponseJson();Ue(ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Qh.TIMEOUT:Ue(ar,`RPC '${e}' ${s} timed out`),a(new Pe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const h=l.getStatus();if(Ue(ar,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(A){const R=A.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(R)>=0?R:ue.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ue.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(ar,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ue(ar,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=vg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dP(),a=cP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ue(ar,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new z6({Io:A=>{p?Ue(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(f||(Ue(ar,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ue(ar,`RPC '${e}' stream ${i} sending:`,A),h.send(A))},To:()=>h.close()}),b=(A,R,k)=>{A.listen(R,S=>{try{k(S)}catch(_){setTimeout(()=>{throw _},0)}})};return b(h,Qu.EventType.OPEN,()=>{p||(Ue(ar,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),b(h,Qu.EventType.CLOSE,()=>{p||(p=!0,Ue(ar,`RPC '${e}' stream ${i} transport closed`),g.So())}),b(h,Qu.EventType.ERROR,A=>{p||(p=!0,Fl(ar,`RPC '${e}' stream ${i} transport errored:`,A),g.So(new Pe(ue.UNAVAILABLE,"The operation could not be completed")))}),b(h,Qu.EventType.MESSAGE,A=>{var R;if(!p){const k=A.data[0];Bt(!!k);const S=k,_=S.error||((R=S[0])===null||R===void 0?void 0:R.error);if(_){Ue(ar,`RPC '${e}' stream ${i} received error:`,_);const M=_.status;let L=function(y){const v=An[y];if(v!==void 0)return MP(v)}(M),I=_.message;L===void 0&&(L=ue.INTERNAL,I="Unknown error status: "+M+" with message "+_.message),p=!0,g.So(new Pe(L,I)),h.close()}else Ue(ar,`RPC '${e}' stream ${i} received:`,k),g.bo(k)}}),b(a,uP.STAT_EVENT,A=>{A.stat===Bv.PROXY?Ue(ar,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Bv.NOPROXY&&Ue(ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){return new r6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Pe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G6 extends GP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=o6(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?Qi(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=zv(l)?{documents:u6(s,l)}:{query:c6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FP(s,o.resumeToken);const u=Gv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=$f(s,o.snapshotVersion.toTimestamp());const u=Gv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=h6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xv(this.serializer),n.removeTarget=e,this.a_(n)}}class Y6 extends GP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=l6(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Xv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Yv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ue.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Yv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ue.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class X6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(As(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Pa(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ot(l);u.L_.add(4),await xd(u),u.q_.set("Unknown"),u.L_.delete(4),await Xp(u)}(this))})}),this.q_=new X6(r,i)}}async function Xp(t){if(Pa(t))for(const e of t.B_)await e(!0)}async function xd(t){for(const e of t.B_)await e(!1)}function YP(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),X_(n)?Q_(n):du(n).r_()&&Y_(n,e))}function G_(t,e){const n=ot(t),r=du(n);n.N_.delete(e),r.r_()&&QP(n,e),n.N_.size===0&&(r.r_()?r.o_():Pa(n)&&n.q_.set("Unknown"))}function Y_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).A_(e)}function QP(t,e){t.Q_.xe(e),du(t).R_(e)}function Q_(t){t.Q_=new ZU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),du(t).start(),t.q_.v_()}function X_(t){return Pa(t)&&!du(t).n_()&&t.N_.size>0}function Pa(t){return ot(t).L_.size===0}function XP(t){t.Q_=void 0}async function Z6(t){t.q_.set("Online")}async function e9(t){t.N_.forEach((e,n)=>{Y_(t,e)})}async function t9(t,e){XP(t),X_(t)?(t.q_.M_(e),Q_(t)):t.q_.set("Unknown")}async function n9(t,e,n){if(t.q_.set("Online"),e instanceof VP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uf(t,r)}else if(e instanceof Zh?t.Q_.Ke(e):e instanceof LP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await zP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(rr.EMPTY_BYTE_STRING,c.snapshotVersion)),QP(s,l);const h=new no(c.target,l,u,c.sequenceNumber);Y_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Uf(t,r)}}async function Uf(t,e,n){if(!kd(e))throw e;t.L_.add(1),await xd(t),t.q_.set("Offline"),n||(n=()=>zP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Xp(t)})}function JP(t,e){return e().catch(n=>Uf(t,n,e))}async function Jp(t){const e=ot(t),n=wo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;r9(e);)try{const i=await U6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,i9(e,i)}catch(i){await Uf(e,i)}ZP(e)&&ek(e)}function r9(t){return Pa(t)&&t.O_.length<10}function i9(t,e){t.O_.push(e);const n=wo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZP(t){return Pa(t)&&!wo(t).n_()&&t.O_.length>0}function ek(t){wo(t).start()}async function s9(t){wo(t).p_()}async function o9(t){const e=wo(t);for(const n of t.O_)e.m_(n.mutations)}async function a9(t,e,n){const r=t.O_.shift(),i=j_.from(r,e,n);await JP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jp(t)}async function l9(t,e){e&&wo(t).V_&&await async function(r,i){if(function(o){return QU(o)&&o!==ue.ABORTED}(i.code)){const s=r.O_.shift();wo(r).s_(),await JP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jp(r)}}(t,e),ZP(t)&&ek(t)}async function M1(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Pa(n);n.L_.add(3),await xd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Xp(n)}async function u9(t,e){const n=ot(t);e?(n.L_.delete(2),await Xp(n)):e||(n.L_.add(2),await xd(n),n.q_.set("Unknown"))}function du(t){return t.K_||(t.K_=function(n,r,i){const s=ot(n);return s.w_(),new G6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Z6.bind(null,t),Ro:e9.bind(null,t),mo:t9.bind(null,t),d_:n9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),X_(t)?Q_(t):t.q_.set("Unknown")):(await t.K_.stop(),XP(t))})),t.K_}function wo(t){return t.U_||(t.U_=function(n,r,i){const s=ot(n);return s.w_(),new Y6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:s9.bind(null,t),mo:l9.bind(null,t),f_:o9.bind(null,t),g_:a9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jp(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new J_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(t,e){if(As("AsyncQueue",`${e}: ${t}`),kd(t))return new Pe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Tl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.W_=new On(Ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):rt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wl(e,n,Tl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class d9{constructor(){this.queries=V1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),s=i.queries;i.queries=V1(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Pe(ue.ABORTED,"Firestore shutting down"))}}function V1(){return new cu(t=>EP(t),qp)}async function e0(t,e){const n=ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new c9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Z_(o,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&n0(n)}async function t0(t,e){const n=ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function h9(t,e){const n=ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&n0(n)}function f9(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function n0(t){t.Y_.forEach(e=>{e.next()})}var Zv,F1;(F1=Zv||(Zv={})).ea="default",F1.Cache="cache";class r0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.key=e}}class nk{constructor(e){this.key=e}}class p9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pt(),this.mutatedKeys=pt(),this.Aa=IP(e),this.Ra=new Tl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new L1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=zp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let A=!1;f&&p?f.data.isEqual(p.data)?g!==b&&(r.track({type:3,doc:p}),A=!0):this.ga(f,p)||(r.track({type:2,doc:p}),A=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),A=!0):f&&!p&&(r.track({type:1,doc:f}),A=!0,(l||u)&&(a=!0)),A&&(p?(o=o.add(p),s=b?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const b=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return b(p)-b(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Wl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new L1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new nk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new tk(r))}),n}ba(e){this.Ta=e.Ts,this.da=pt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Wl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class m9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g9{constructor(e){this.key=e,this.va=!1}}class v9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new cu(a=>EP(a),qp),this.Ma=new Map,this.xa=new Set,this.Oa=new On(Ge.comparator),this.Na=new Map,this.La=new q_,this.Ba={},this.ka=new Map,this.qa=Hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function y9(t,e,n=!0){const r=lk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await rk(r,e,n,!0),i}async function _9(t,e){const n=lk(t);await rk(n,e,!0,!1)}async function rk(t,e,n,r){const i=await B6(t.localStore,Yi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await b9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&YP(t.remoteStore,i),a}async function b9(t,e,n,r,i){t.Ka=(h,f,p)=>async function(b,A,R,k){let S=A.view.ma(R);S.ns&&(S=await D1(b.localStore,A.query,!1).then(({documents:I})=>A.view.ma(I,S)));const _=k&&k.targetChanges.get(A.targetId),M=k&&k.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(S,b.isPrimaryClient,_,M);return U1(b,A.targetId,L.wa),L.snapshot}(t,h,f,p);const s=await D1(t.localStore,e,!0),o=new p9(e,s.Ts),a=o.ma(s.documents),l=Dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);U1(t,n,u.wa);const c=new m9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function w9(t,e,n){const r=ot(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!qp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&G_(r.remoteStore,i.targetId),ey(r,i.targetId)}).catch(Pd)):(ey(r,i.targetId),await Jv(r.localStore,i.targetId,!0))}async function T9(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),G_(n.remoteStore,r.targetId))}async function E9(t,e,n){const r=k9(t);try{const i=await function(o,a){const l=ot(o),u=Ut.now(),c=a.reduce((p,g)=>p.add(g.key),pt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Cs(),b=pt();return l.cs.getEntries(p,c).next(A=>{g=A,g.forEach((R,k)=>{k.isValidDocument()||(b=b.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(A=>{h=A;const R=[];for(const k of a){const S=qU(k,h.get(k.key).overlayedDocument);S!=null&&R.push(new ko(k.key,S,gP(S.value.mapValue),di.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,R,a)}).next(A=>{f=A;const R=A.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,A.batchId,R)})}).then(()=>({batchId:f.batchId,changes:AP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Nd(r,i.changes),await Jp(r.remoteStore)}catch(i){const s=Z_(i,"Failed to persist write");n.reject(s)}}async function ik(t,e){const n=ot(t);try{const r=await F6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Bt(o.va):i.removedDocuments.size>0&&(Bt(o.va),o.va=!1))}),await Nd(n,r,e)}catch(r){await Pd(r)}}function $1(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&n0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I9(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(Ge.comparator);o=o.insert(s,hr.newNoDocument(s,st.min()));const a=pt().add(s),l=new Yp(st.min(),new Map,new On(Ot),o,a);await ik(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),i0(r)}else await Jv(r.localStore,e,!1).then(()=>ey(r,e,n)).catch(Pd)}async function S9(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await V6(n.localStore,e);ok(n,r,null),sk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nd(n,i)}catch(i){await Pd(i)}}async function A9(t,e,n){const r=ot(t);try{const i=await function(o,a){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Bt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);ok(r,e,n),sk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nd(r,i)}catch(i){await Pd(i)}}function sk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ok(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ak(t,r)})}function ak(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(G_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),i0(t))}function U1(t,e,n){for(const r of n)r instanceof tk?(t.La.addReference(r.key,e),C9(t,r)):r instanceof nk?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ak(t,r.key)):rt()}function C9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),i0(t))}function i0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ge(Qt.fromString(e)),r=t.qa.next();t.Na.set(r,new g9(n)),t.Oa=t.Oa.insert(n,r),YP(t.remoteStore,new no(Yi(Wp(n.path)),r,"TargetPurposeLimboResolution",N_.oe))}}async function Nd(t,e,n){const r=ot(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=K_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(u,f=>ve.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ve.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!kd(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,b)}}}(r.localStore,s))}async function O9(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await qP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ue.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nd(n,r.hs)}}function P9(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return pt().add(r.key);{let i=pt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function lk(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I9.bind(null,e),e.Ca.d_=h9.bind(null,e.eventManager),e.Ca.$a=f9.bind(null,e.eventManager),e}function k9(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A9.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return L6(this.persistence,new N6,e.initialUser,this.serializer)}Ga(e){return new R6(z_.Zr,this.serializer)}Wa(e){return new H6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O9.bind(null,this.syncEngine),await u9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d9}()}createDatastore(e){const n=Qp(e.databaseInfo.databaseId),r=function(s){return new K6(s)}(e.databaseInfo);return function(s,o,a,l){return new Q6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new J6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$1(this.syncEngine,n,0),function(){return N1.D()?new N1:new W6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new v9(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ot(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await xd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=fP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _g(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function B1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await D9(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>M1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>M1(e.remoteStore,i)),t._onlineComponents=e}async function D9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await _g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await _g(t,new Bf)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await _g(t,new Bf);return t._offlineComponents}async function uk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await B1(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await B1(t,new ty))),t._onlineComponents}function x9(t){return uk(t).then(e=>e.syncEngine)}async function jf(t){const e=await uk(t),n=e.eventManager;return n.onListen=y9.bind(null,e.syncEngine),n.onUnlisten=w9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T9.bind(null,e.syncEngine),n}function N9(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new s0({next:f=>{c.Za(),o.enqueueAndForget(()=>t0(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Pe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new r0(Wp(a.path),c,{includeMetadataChanges:!0,_a:!0});return e0(s,h)}(await jf(t),t.asyncQueue,e,n,r)),r.promise}function M9(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new s0({next:f=>{c.Za(),o.enqueueAndForget(()=>t0(s,h)),f.fromCache&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new r0(a,c,{includeMetadataChanges:!0,_a:!0});return e0(s,h)}(await jf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e,n){if(!n)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L9(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H1(t){if(!Ge.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W1(t){if(Ge.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zp(t);throw new Pe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function V9(t,e){if(e<=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ck((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eU;switch(r.type){case"firstParty":return new iU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=j1.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),j1.delete(n),r.terminate())}(this),Promise.resolve()}}function F9(t,e,n,r={}){var i;const s=(t=jr(t,em))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ur.MOCK_USER;else{a=aO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ur(u)}t._authCredentials=new tU(new hP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class lo extends ns{constructor(e,n,r){super(e,n,Wp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new Ge(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function Nn(t,e,...n){if(t=Dt(t),dk("collection","path",e),t instanceof em){const r=Qt.fromString(e,...n);return W1(r),new lo(t,null,r)}{if(!(t instanceof _r||t instanceof lo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return W1(r),new lo(t.firestore,null,r)}}function ct(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=fP.newId()),dk("doc","path",e),t instanceof em){const r=Qt.fromString(e,...n);return H1(r),new _r(t,null,new Ge(r))}{if(!(t instanceof _r||t instanceof lo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return H1(r),new _r(t.firestore,t instanceof lo?t.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new KP(this,"async_queue_retry"),this.Vu=()=>{const r=yg();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ws;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!kd(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw As("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=J_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&rt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function K1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Os extends em{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new z1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z1(e),this._firestoreClient=void 0,await e}}}function $9(t,e){const n=typeof t=="object"?t:Od(),r=typeof t=="string"?t:e||"(default)",i=xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sO("firestore");s&&F9(i,...s)}return i}function tm(t){if(t._terminated)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U9(t),t._firestoreClient}function U9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new vU(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ck(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new R9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ql(rr.fromBase64String(e))}catch(n){throw new Pe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ql(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^__.*__$/;class j9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rd(e,this.data,n,this.fieldTransforms)}}class hk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class u0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new u0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fk(this.Cu)&&B9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class H9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qp(e)}Qu(e,n,r,i=!1){return new u0({Cu:e,methodName:n,qu:r,path:Xn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(t){const e=t._freezeSettings(),n=Qp(t._databaseId);return new H9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pk(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);c0("Data must be an object, but it was:",o,r);const a=gk(r,o);let l,u;if(s.merge)l=new Gr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=ny(e,h,n);if(!o.contains(f))throw new Pe(ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);yk(c,f)||c.push(f)}l=new Gr(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new j9(new Fr(a),l,u)}class rm extends o0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rm}}function W9(t,e,n,r){const i=t.Qu(1,e,n);c0("Data must be an object, but it was:",i,r);const s=[],o=Fr.empty();Ca(r,(l,u)=>{const c=d0(e,l,n);u=Dt(u);const h=i.Nu(c);if(u instanceof rm)s.push(c);else{const f=Ld(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Gr(s);return new hk(o,a,i.fieldTransforms)}function q9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[ny(e,r,n)],l=[i];if(s.length%2!=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ny(e,s[f])),l.push(s[f+1]);const u=[],c=Fr.empty();for(let f=a.length-1;f>=0;--f)if(!yk(u,a[f])){const p=a[f];let g=l[f];g=Dt(g);const b=o.Nu(p);if(g instanceof rm)u.push(p);else{const A=Ld(g,b);A!=null&&(u.push(p),c.set(p,A))}}const h=new Gr(u);return new hk(c,h,o.fieldTransforms)}function mk(t,e,n,r=!1){return Ld(n,t.Qu(r?4:3,e))}function Ld(t,e){if(vk(t=Dt(t)))return c0("Unsupported field value:",e,t),gk(t,e);if(t instanceof o0)return function(r,i){if(!fk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ld(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $U(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ut.fromDate(r);return{timestampValue:$f(i.serializer,s)}}if(r instanceof Ut){const s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(i.serializer,s)}}if(r instanceof a0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ql)return{bytesValue:FP(i.serializer,r._byteString)};if(r instanceof _r){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:W_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof l0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return U_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Zp(r)}`)}(t,e)}function gk(t,e){const n={};return pP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(t,(r,i)=>{const s=Ld(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof a0||t instanceof ql||t instanceof _r||t instanceof o0||t instanceof l0)}function c0(t,e,n){if(!vk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ny(t,e,n){if((e=Dt(e))instanceof nm)return e._internalPath;if(typeof e=="string")return d0(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const z9=new RegExp("[~\\*/\\[\\]]");function d0(t,e,n){if(e.search(z9)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nm(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(ue.INVALID_ARGUMENT,a+t+l)}function yk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(im("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K9 extends h0{data(){return super.data()}}function im(t,e){return typeof e=="string"?d0(t,e):e instanceof nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f0{}class sm extends f0{}function G9(t,e,...n){let r=[];e instanceof f0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof m0).length,a=s.filter(l=>l instanceof om).length;if(o>1||o>0&&a>0)throw new Pe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class om extends sm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new om(e,n,r)}_apply(e){const n=this._parse(e);return bk(e._query,n),new ns(e.firestore,e.converter,Kv(e._query,n))}_parse(e){const n=Md(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Q1(h,c);const p=[];for(const g of h)p.push(Y1(l,s,g));f={arrayValue:{values:p}}}else f=Y1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Q1(h,c),f=mk(a,o,h,c==="in"||c==="not-in");return Cn.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function p0(t,e,n){const r=e,i=im("where",t);return om._create(i,r,n)}class m0 extends f0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new m0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)bk(o,l),o=Kv(o,l)}(e._query,n),new ns(e.firestore,e.converter,Kv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class g0 extends sm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new g0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(s,o)}(e._query,this._field,this._direction);return new ns(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Oa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function G1(t,e="asc"){const n=e,r=im("orderBy",t);return g0._create(r,n)}class v0 extends sm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new v0(e,n,r)}_apply(e){return new ns(e.firestore,e.converter,Lf(e._query,this._limit,this._limitType))}}function Y9(t){return V9("limit",t),v0._create("limit",t,"F")}class y0 extends sm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new y0(e,n,r)}_apply(e){const n=X9(e,this.type,this._docOrFields,this._inclusive);return new ns(e.firestore,e.converter,function(i,s){return new Oa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Q9(...t){return y0._create("startAfter",t,!1)}function X9(t,e,n,r){if(n[0]=Dt(n[0]),n[0]instanceof h0)return function(s,o,a,l,u){if(!l)throw new Pe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of wl(s))if(h.field.isKeyField())c.push(Mf(o,l.key));else{const f=l.data.field(h.field);if(Hp(f))throw new Pe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new jl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Md(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new Pe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const b=c[g];if(f[g].field.isKeyField()){if(typeof b!="string")throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!$_(o)&&b.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const A=o.path.child(Qt.fromString(b));if(!Ge.isDocumentKey(A))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const R=new Ge(A);p.push(Mf(a,R))}else{const A=mk(l,u,b);p.push(A)}}return new jl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Y1(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$_(e)&&n.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qt.fromString(n));if(!Ge.isDocumentKey(r))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mf(t,new Ge(r))}if(n instanceof _r)return Mf(t,n._key);throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zp(n)}.`)}function Q1(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J9{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ca(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>bn(o.doubleValue));return new l0(s)}convertGeoPoint(e){return new a0(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=M_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=bo(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qt.fromString(e);Bt(WP(r));const i=new Yc(r.get(1),r.get(3)),s=new Ge(r.popFirst(5));return i.isEqual(n)||As(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tk extends h0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(im("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ef extends Tk{data(e={}){return super.data(e)}}class Ek{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ef(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ef(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ef(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Z9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){t=jr(t,_r);const e=jr(t.firestore,Os);return N9(tm(e),t._key).then(n=>Sk(e,t,n))}class _0 extends J9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function eB(t){t=jr(t,ns);const e=jr(t.firestore,Os),n=tm(e),r=new _0(e);return _k(t._query),M9(n,t._query).then(i=>new Ek(e,r,t,i))}function tB(t,e,n){t=jr(t,_r);const r=jr(t.firestore,Os),i=wk(t.converter,e,n);return am(r,[pk(Md(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,di.none())])}function nB(t,e,n,...r){t=jr(t,_r);const i=jr(t.firestore,Os),s=Md(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof nm?q9(s,"updateDoc",t._key,e,n,r):W9(s,"updateDoc",t._key,e),am(i,[o.toMutation(t._key,di.exists(!0))])}function rB(t){return am(jr(t.firestore,Os),[new B_(t._key,di.none())])}function iB(t,e){const n=jr(t.firestore,Os),r=ct(t),i=wk(t.converter,e);return am(n,[pk(Md(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function kre(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||K1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(K1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof _r)u=jr(t.firestore,Os),c=Wp(t._key.path),l={next:h=>{e[o]&&e[o](Sk(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=jr(t,ns);u=jr(h.firestore,Os),c=h._query;const f=new _0(u);l={next:p=>{e[o]&&e[o](new Ek(u,f,h,p))},error:e[o+1],complete:e[o+2]},_k(t._query)}return function(f,p,g,b){const A=new s0(b),R=new r0(p,A,g);return f.asyncQueue.enqueueAndForget(async()=>e0(await jf(f),R)),()=>{A.Za(),f.asyncQueue.enqueueAndForget(async()=>t0(await jf(f),R))}}(tm(u),c,a,l)}function am(t,e){return function(r,i){const s=new ws;return r.asyncQueue.enqueueAndForget(async()=>E9(await x9(r),i,s)),s.promise}(tm(t),e)}function Sk(t,e,n){const r=n.docs.get(e._key),i=new _0(t);return new Tk(t,i,e._key,r,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uu=i})(Po),Hr(new xr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Os(new nU(r.getProvider("auth-internal")),new oU(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),tr(d1,"4.7.3",e),tr(d1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="firebasestorage.googleapis.com",Ck="storageBucket",sB=2*60*1e3,oB=10*60*1e3,aB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends ti{constructor(e,n,r=0){super(bg(e),`Firebase Storage: ${n} (${bg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function bg(t){return"storage/"+t}function b0(){const t="An unknown error occurred, please check the error payload for server response.";return new pn(ln.UNKNOWN,t)}function lB(t){return new pn(ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function uB(t){return new pn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pn(ln.UNAUTHENTICATED,t)}function dB(){return new pn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hB(t){return new pn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ok(){return new pn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pk(){return new pn(ln.CANCELED,"User canceled the upload/download.")}function fB(t){return new pn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function pB(t){return new pn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mB(){return new pn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ck+"' property when initializing the app?")}function kk(){return new pn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gB(){return new pn(ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function vB(){return new pn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yB(t){return new pn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ry(t){return new pn(ln.INVALID_ARGUMENT,t)}function Rk(){return new pn(ln.APP_DELETED,"The Firebase app was deleted.")}function _B(t){return new pn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vc(t,e){return new pn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mu(t){throw new pn(ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw pB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},b=n===Ak?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",R=new RegExp(`^https?://${b}/${i}/${A}`,"i"),S=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:R,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<S.length;_++){const M=S[_],L=M.regex.exec(e);if(L){const I=L[M.indices.bucket];let E=L[M.indices.path];E||(E=""),r=new Yr(I,E),M.postModify(r);break}}if(r==null)throw fB(e);return r}}class bB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...A){u||(u=!0,e.apply(null,A))}function h(A){i=setTimeout(()=>{i=null,t(p,l())},A)}function f(){s&&clearTimeout(s)}function p(A,...R){if(u){f();return}if(A){f(),c.call(null,A,...R);return}if(l()||o){f(),c.call(null,A,...R);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,h(S)}let g=!1;function b(A){g||(g=!0,f(),!u&&(i!==null?(A||(a=2),clearTimeout(i),h(0)):A||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function TB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){return t!==void 0}function IB(t){return typeof t=="function"}function SB(t){return typeof t=="object"&&!Array.isArray(t)}function lm(t){return typeof t=="string"||t instanceof String}function X1(t){return w0()&&t instanceof Blob}function w0(){return typeof Blob<"u"}function J1(t,e,n,r){if(r<e)throw ry(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ry(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Dk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zo||(Zo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Oh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Zo.NO_ERROR,l=s.getStatus();if(!a||xk(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Zo.ABORT;r(!1,new Oh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Oh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());EB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=b0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Rk():Pk();o(l)}else{const l=Ok();o(l)}};this.canceled_?n(!1,new Oh(!1,null,!0)):this.backoffId_=wB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function OB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function RB(t,e,n,r,i,s,o=!0){const a=Dk(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return PB(u,e),CB(u,n),OB(u,s),kB(u,r),new AB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xB(...t){const e=DB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(w0())return new Blob(t);throw new pn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){if(typeof atob>"u")throw yB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wg{constructor(e,n){this.data=e,this.contentType=n||null}}function LB(t,e){switch(t){case qi.RAW:return new wg(Nk(e));case qi.BASE64:case qi.BASE64URL:return new wg(Mk(t,e));case qi.DATA_URL:return new wg(FB(e),$B(e))}throw b0()}function Nk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function VB(t){let e;try{e=decodeURIComponent(t)}catch{throw vc(qi.DATA_URL,"Malformed data URL.")}return Nk(e)}function Mk(t,e){switch(t){case qi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw vc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw vc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MB(e)}catch(i){throw i.message.includes("polyfill")?i:vc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Lk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vc(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=UB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function FB(t){const e=new Lk(t);return e.base64?Mk(qi.BASE64,e.rest):VB(e.rest)}function $B(t){return new Lk(t).contentType}function UB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){let r=0,i="";X1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(X1(this.data_)){const r=this.data_,i=NB(r,e,n);return i===null?null:new Xs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xs(r,!0)}}static getBlob(...e){if(w0()){const n=e.map(r=>r instanceof Xs?r.data_:r);return new Xs(xB.apply(null,n))}else{const n=e.map(o=>lm(o)?LB(qi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){let e;try{e=JSON.parse(t)}catch{return null}return SB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Fk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){return e}class Er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||HB}}let Ph=null;function WB(t){return!lm(t)||t.length<2?t:Fk(t)}function $k(){if(Ph)return Ph;const t=[];t.push(new Er("bucket")),t.push(new Er("generation")),t.push(new Er("metageneration")),t.push(new Er("name","fullPath",!0));function e(s,o){return WB(o)}const n=new Er("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Er("size");return i.xform=r,t.push(i),t.push(new Er("timeCreated")),t.push(new Er("updated")),t.push(new Er("md5Hash",null,!0)),t.push(new Er("cacheControl",null,!0)),t.push(new Er("contentDisposition",null,!0)),t.push(new Er("contentEncoding",null,!0)),t.push(new Er("contentLanguage",null,!0)),t.push(new Er("contentType",null,!0)),t.push(new Er("metadata","customMetadata",!0)),Ph=t,Ph}function qB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Yr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return qB(r,t),r}function Uk(t,e,n){const r=Vk(e);return r===null?null:zB(t,r,n)}function KB(t,e,n,r){const i=Vk(e);if(i===null||!lm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=hu(f,n,r),g=Dk({alt:"media",token:u});return p+g})[0]}function Bk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ka{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){if(!t)throw b0()}function T0(t,e){function n(r,i){const s=Uk(t,i,e);return Ts(s!==null),s}return n}function GB(t,e){function n(r,i){const s=Uk(t,i,e);return Ts(s!==null),KB(s,i,t.host,t._protocol)}return n}function Vd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dB():i=cB():n.getStatus()===402?i=uB(t.bucket):n.getStatus()===403?i=hB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function E0(t){const e=Vd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=lB(t.path)),s.serverResponse=i.serverResponse,s}return n}function YB(t,e,n){const r=e.fullServerUrl(),i=hu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ka(i,s,T0(t,n),o);return a.errorHandler=E0(e),a}function QB(t,e,n){const r=e.fullServerUrl(),i=hu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ka(i,s,GB(t,n),o);return a.errorHandler=E0(e),a}function XB(t,e){const n=e.fullServerUrl(),r=hu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new ka(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=E0(e),a}function JB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function jk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=JB(null,e)),r}function ZB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let _=0;_<2;_++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=jk(e,r,i),c=Bk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Xs.getBlob(h,r,f);if(p===null)throw kk();const g={name:u.fullPath},b=hu(s,t.host,t._protocol),A="POST",R=t.maxUploadRetryTime,k=new ka(b,A,T0(t,n),R);return k.urlParams=g,k.headers=o,k.body=p.uploadData(),k.errorHandler=Vd(e),k}class Wf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function I0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ts(!1)}return Ts(!!n&&(e||["active"]).indexOf(n)!==-1),n}function e5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=jk(e,r,i),a={name:o.fullPath},l=hu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Bk(o,n),f=t.maxUploadRetryTime;function p(b){I0(b);let A;try{A=b.getResponseHeader("X-Goog-Upload-URL")}catch{Ts(!1)}return Ts(lm(A)),A}const g=new ka(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=Vd(e),g}function t5(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=I0(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ts(!1)}h||Ts(!1);const f=Number(h);return Ts(!isNaN(f)),new Wf(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ka(n,o,s,a);return l.headers=i,l.errorHandler=Vd(e),l}const Z1=256*1024;function n5(t,e,n,r,i,s,o,a){const l=new Wf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw gB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},b=r.slice(h,f);if(b===null)throw kk();function A(_,M){const L=I0(_,["active","final"]),I=l.current+c,E=r.size();let y;return L==="final"?y=T0(e,s)(_,M):y=null,new Wf(I,E,L==="final",y)}const R="POST",k=e.maxUploadRetryTime,S=new ka(n,R,A,k);return S.headers=g,S.body=b.uploadData(),S.progressCallback=a||null,S.errorHandler=Vd(t),S}const Mr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tg(t){switch(t){case"running":case"pausing":case"canceling":return Mr.RUNNING;case"paused":return Mr.PAUSED;case"success":return Mr.SUCCESS;case"canceled":return Mr.CANCELED;case"error":return Mr.ERROR;default:return Mr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r){if(IB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class i5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s5 extends i5{initXhr(){this.xhr_.responseType="text"}}function Ho(){return new s5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=$k(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(xk(i.status,[]))if(s)i=Ok();else{this.sleepTime=Math.max(this.sleepTime*2,aB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ln.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=e5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=t5(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ho,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Z1*this._chunkMultiplier,n=new Wf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=n5(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Ho,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Z1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=YB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=ZB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Pk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Tg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new r5(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Tg(this._state)){case Mr.SUCCESS:qa(this._resolve.bind(null,this.snapshot))();break;case Mr.CANCELED:case Mr.ERROR:const n=this._reject;qa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Tg(this._state)){case Mr.RUNNING:case Mr.PAUSED:e.next&&qa(e.next.bind(e,this.snapshot))();break;case Mr.SUCCESS:e.complete&&qa(e.complete.bind(e))();break;case Mr.CANCELED:case Mr.ERROR:e.error&&qa(e.error.bind(e,this._error))();break;default:e.error&&qa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fa(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fk(this._location.path)}get storage(){return this._service}get parent(){const e=BB(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new fa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _B(e)}}function a5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new o5(t,new Xs(e),n)}function l5(t){t._throwIfRoot("getDownloadURL");const e=QB(t.storage,t._location,$k());return t.storage.makeRequestWithTokens(e,Ho).then(n=>{if(n===null)throw vB();return n})}function u5(t){t._throwIfRoot("deleteObject");const e=XB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ho)}function c5(t,e){const n=jB(t._location.path,e),r=new Yr(t._location.bucket,n);return new fa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){return/^[A-Za-z]+:\/\//.test(t)}function h5(t,e){return new fa(t,e)}function Hk(t,e){if(t instanceof S0){const n=t;if(n._bucket==null)throw mB();const r=new fa(n,n._bucket);return e!=null?Hk(r,e):r}else return e!==void 0?c5(t,e):t}function f5(t,e){if(e&&d5(e)){if(t instanceof S0)return h5(t,e);throw ry("To use ref(service, url), the first argument must be a Storage instance.")}else return Hk(t,e)}function eE(t,e){const n=e==null?void 0:e[Ck];return n==null?null:Yr.makeFromBucketSpec(n,t)}function p5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:aO(i,t.app.options.projectId))}class S0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Ak,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sB,this._maxUploadRetryTime=oB,this._requests=new Set,i!=null?this._bucket=Yr.makeFromBucketSpec(i,this._host):this._bucket=eE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=eE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){J1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){J1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new bB(Rk());{const o=RB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const tE="@firebase/storage",nE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="storage";function m5(t,e,n){return t=Dt(t),a5(t,e,n)}function Rre(t){return t=Dt(t),l5(t)}function g5(t){return t=Dt(t),u5(t)}function v5(t,e){return t=Dt(t),f5(t,e)}function y5(t=Od(),e){t=Dt(t);const r=xs(t,Wk).getImmediate({identifier:e}),i=sO("storage");return i&&_5(r,...i),r}function _5(t,e,n,r={}){p5(t,e,n,r)}function b5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new S0(n,r,i,e,Po)}function w5(){Hr(new xr(Wk,b5,"PUBLIC").setMultipleInstances(!0)),tr(tE,nE,""),tr(tE,nE,"esm2017")}w5();let kh;const T5=new Uint8Array(16);function E5(){if(!kh&&(kh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kh(T5)}const Gn=[];for(let t=0;t<256;++t)Gn.push((t+256).toString(16).slice(1));function I5(t,e=0){return Gn[t[e+0]]+Gn[t[e+1]]+Gn[t[e+2]]+Gn[t[e+3]]+"-"+Gn[t[e+4]]+Gn[t[e+5]]+"-"+Gn[t[e+6]]+Gn[t[e+7]]+"-"+Gn[t[e+8]]+Gn[t[e+9]]+"-"+Gn[t[e+10]]+Gn[t[e+11]]+Gn[t[e+12]]+Gn[t[e+13]]+Gn[t[e+14]]+Gn[t[e+15]]}const S5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rE={randomUUID:S5};function A5(t,e,n){if(rE.randomUUID&&!e&&!t)return rE.randomUUID();t=t||{};const r=t.random||(t.rng||E5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return I5(r)}const Yn=class Yn{constructor(e,n,r={},i,s){as(this,"errorCode");this.errorCode=s,Yn.log(r.debug,n),r.route&&JD.push({name:r.route}),j2({title:i??e,type:e.toLowerCase(),text:n},5e3)}};as(Yn,"success",(e,n={})=>new Yn("Success",e,n)),as(Yn,"update",(e,n={})=>new Yn("Warning",e,n,"Update")),as(Yn,"warning",(e,n={})=>new Yn("Warning",e,n)),as(Yn,"error",(e,n={})=>new Yn("Error",e,n)),as(Yn,"generalError",(e,n,r)=>new Yn("Error",(n==null?void 0:n.message)||qk,{debug:e},void 0,r)),as(Yn,"firebaseError",(e,n)=>{Yn.log(e,n);let r;return n instanceof ti&&Object.keys(Rh).includes(n.code)?(r=n.code,n.message=Rh[r]):n instanceof Error&&Object.keys(Rh).includes(n.name)?(r=n.name,n.message=Rh[r]):n.message=void 0,Yn.generalError(e,n,r)}),as(Yn,"log",(e,n)=>{e&&console.log(n)});let Re=Yn;const qk="Something went wrong";var zk=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(zk||{});const iE=t=>Object.values(zk).includes(t),Rh={"":qk,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};function A0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Kk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C5=Kk,Gk=new Oo("auth","Firebase",Kk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new lu("@firebase/auth");function O5(t,...e){qf.logLevel<=ft.WARN&&qf.warn(`Auth (${Po}): ${t}`,...e)}function tf(t,...e){qf.logLevel<=ft.ERROR&&qf.error(`Auth (${Po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,...e){throw C0(t,...e)}function Xi(t,...e){return C0(t,...e)}function Yk(t,e,n){const r=Object.assign(Object.assign({},C5()),{[e]:n});return new Oo("auth","Firebase",r).create(e,{appName:t.name})}function Ji(t){return Yk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gk.create(t,...e)}function Je(t,e,...n){if(!t)throw C0(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tf(e),new Error(e)}function Ps(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P5(){return sE()==="http:"||sE()==="https:"}function sE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P5()||lO()||"connection"in navigator)?navigator.onLine:!0}function R5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=w_()||uO()}get(){return k5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Fd(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rs(t,e,n,r,i={}){return Xk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=au(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return cF()||(u.referrerPolicy="no-referrer"),Qk.fetch()(Jk(t,t.config.apiHost,n,a),u)})}async function Xk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D5),e);try{const i=new M5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Dh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Yk(t,c,u);Mi(t,c)}}catch(i){if(i instanceof ti)throw i;Mi(t,"network-request-failed",{message:String(i)})}}async function $d(t,e,n,r,i={}){const s=await rs(t,e,n,r,i);return"mfaPendingCredential"in s&&Mi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Jk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?O0(t.config,i):`${t.config.apiScheme}://${i}`}function N5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),x5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xi(t,e,r);return i.customData._tokenResponse=n,i}function oE(t){return t!==void 0&&t.enterprise!==void 0}class L5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function V5(t,e){return rs(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function Zk(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $5(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=P0(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yc(Eg(i.auth_time)),issuedAtTime:yc(Eg(i.iat)),expirationTime:yc(Eg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Eg(t){return Number(t)*1e3}function P0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pf(n);return i?JSON.parse(i):(tf("Failed to decode base64 JWT payload"),null)}catch(i){return tf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aE(t){const e=P0(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&U5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zl(t,Zk(n,{idToken:r}));Je(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eR(s.providerUserInfo):[],a=H5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function j5(t){const e=Dt(t);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eR(t){return t.map(e=>{var{providerId:n}=e,r=A0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t,e){const n=await Xk(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Jk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q5(t,e){return rs(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=aE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await W5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new El;return r&&(Je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=A0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $5(this,e)}reload(){return j5(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await zl(this,F5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:_,isAnonymous:M,providerData:L,stsTokenManager:I}=n;Je(S&&I,e,"internal-error");const E=El.fromJSON(this.name,I);Je(typeof S=="string",e,"internal-error"),Us(h,e.name),Us(f,e.name),Je(typeof _=="boolean",e,"internal-error"),Je(typeof M=="boolean",e,"internal-error"),Us(p,e.name),Us(g,e.name),Us(b,e.name),Us(A,e.name),Us(R,e.name),Us(k,e.name);const y=new vs({uid:S,auth:e,email:f,emailVerified:_,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:p,tenantId:b,stsTokenManager:E,createdAt:R,lastLoginAt:k});return L&&Array.isArray(L)&&(y.providerData=L.map(v=>Object.assign({},v))),A&&(y._redirectEventId=A),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new El;i.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?eR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new El;a.updateFromIdToken(r);const l=new vs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;function ys(t){Ps(t instanceof Function,"Expected a class definition");let e=lE.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tR.type="NONE";const uE=tR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t,e,n){return`firebase:${t}:${e}:${n}`}class Il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nf(this.userKey,i.apiKey,s),this.fullPersistenceKey=nf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Il(ys(uE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ys(uE);const o=nf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=vs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Il(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Il(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aR(e))return"Blackberry";if(lR(e))return"Webos";if(rR(e))return"Safari";if((e.includes("chrome/")||iR(e))&&!e.includes("edge/"))return"Chrome";if(oR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nR(t=wr()){return/firefox\//i.test(t)}function rR(t=wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iR(t=wr()){return/crios\//i.test(t)}function sR(t=wr()){return/iemobile/i.test(t)}function oR(t=wr()){return/android/i.test(t)}function aR(t=wr()){return/blackberry/i.test(t)}function lR(t=wr()){return/webos/i.test(t)}function k0(t=wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z5(t=wr()){var e;return k0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K5(){return dF()&&document.documentMode===10}function uR(t=wr()){return k0(t)||oR(t)||lR(t)||aR(t)||/windows phone/i.test(t)||sR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e=[]){let n;switch(t){case"Browser":n=cE(wr());break;case"Worker":n=`${cE(wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e={}){return rs(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=6;class X5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Q5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new G5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zk(this,{idToken:e}),r=await vs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(Ji(this));const n=e?Dt(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y5(this),n=new X5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ra(t){return Dt(t)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bF(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z5(t){um=t}function dR(t){return um.loadJS(t)}function ej(){return um.recaptchaEnterpriseScript}function tj(){return um.gapiScript}function nj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rj="recaptcha-enterprise",ij="NO_RECAPTCHA";class sj{constructor(e){this.type=rj,this.auth=Ra(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{V5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new L5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;oE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(ij)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&oE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ej();l.length!==0&&(l+=a),dR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function hE(t,e,n,r=!1){const i=new sj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await hE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e){const n=xs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Hc(s,e??{}))return i;Mi(i,"already-initialized")}return n.initialize({options:e})}function aj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function lj(t,e){return rs(t,"POST","/v1/accounts:update",e)}async function uj(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e){return $d(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}async function dj(t,e){return rs(t,"POST","/v1/accounts:sendOobCode",Ns(t,e))}async function hj(t,e){return dj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){return $d(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function pj(t,e){return $d(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends R0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ed(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ed(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kf(e,n,"signInWithPassword",cj);case"emailLink":return fj(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kf(e,r,"signUpPassword",uj);case"emailLink":return pj(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return $d(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="http://localhost";class pa extends R0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=A0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new pa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:mj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vj(t){const e=Gu(Yu(t)).link,n=e?Gu(Yu(e)).deep_link_id:null,r=Gu(Yu(t)).deep_link_id;return(r?Gu(Yu(r)).link:null)||r||n||e||t}class D0{constructor(e){var n,r,i,s,o,a;const l=Gu(Yu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=gj((i=l.mode)!==null&&i!==void 0?i:null);Je(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vj(e);try{return new D0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return ed._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=D0.parseLink(n);return Je(r,"argument-error"),ed._fromEmailAndCode(e,r.code,r.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends hR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Ud{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Ud{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Ud{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e){return $d(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vs._fromIdTokenResponse(e,r,i),o=fE(r);return new ma({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fE(r);return new ma({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends ti{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gf(e,n,r,i)}}function fR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,s,e,r):s})}async function _j(t,e,n=!1){const r=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e,n=!1){const{auth:r}=t;if(Ti(r.app))return Promise.reject(Ji(r));const i="reauthenticate";try{const s=await zl(t,fR(r,i,e,t),n);Je(s.idToken,r,"internal-error");const o=P0(s.idToken);Je(o,r,"internal-error");const{sub:a}=o;return Je(t.uid===a,r,"user-mismatch"),ma._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t,e,n=!1){if(Ti(t.app))return Promise.reject(Ji(t));const r="signIn",i=await fR(t,r,e),s=await ma._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function bj(t,e){return mR(Ra(t),e)}async function pE(t,e){return pR(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e,n){var r;Je(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Je(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Je(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t){const e=Ra(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tj(t,e,n){const r=Ra(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&wj(r,i,n),await Kf(r,i,"getOobCode",hj)}async function Ej(t,e,n){if(Ti(t.app))return Promise.reject(Ji(t));const r=Ra(t),o=await Kf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gR(t),l}),a=await ma._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Ij(t,e,n){return Ti(t.app)?Promise.reject(Ji(t)):bj(Dt(t),To.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gR(t),r})}function Sj(t,e){const n=Dt(t);return Ti(n.auth.app)?Promise.reject(Ji(n.auth)):vR(n,e,null)}function Aj(t,e){return vR(Dt(t),null,e)}async function vR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await zl(t,lj(r,s));await t._updateTokensIfNecessary(o,!0)}function Cj(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Oj(t){return Dt(t).signOut()}async function Pj(t){return Dt(t).delete()}const Yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=1e3,Rj=10;class _R extends yR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);K5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Rj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_R.type="LOCAL";const Dj=_R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR extends yR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bR.type="SESSION";const wR=bR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await xj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=x0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return window}function Mj(t){Zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function Lj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Fj(){return TR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebaseLocalStorageDb",$j=1,Qf="firebaseLocalStorage",IR="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dm(t,e){return t.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function Uj(){const t=indexedDB.deleteDatabase(ER);return new Bd(t).toPromise()}function oy(){const t=indexedDB.open(ER,$j);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qf,{keyPath:IR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),await Uj(),e(await oy()))})})}async function mE(t,e,n){const r=dm(t,!0).put({[IR]:e,value:n});return new Bd(r).toPromise()}async function Bj(t,e){const n=dm(t,!1).get(e),r=await new Bd(n).toPromise();return r===void 0?null:r.value}function gE(t,e){const n=dm(t,!0).delete(e);return new Bd(n).toPromise()}const jj=800,Hj=3;class SR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Hj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(Fj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Lj(),!this.activeServiceWorker)return;this.sender=new Nj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Vj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oy();return await mE(e,Yf,"1"),await gE(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Bj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dm(i,!1).getAll();return new Bd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SR.type="LOCAL";const Wj=SR;new Fd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){return e?ys(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends R0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zj(t){return mR(t.auth,new N0(t),t.bypassAuthState)}function Kj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),pR(n,new N0(t),t.bypassAuthState)}async function Gj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),_j(n,new N0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zj;case"linkViaPopup":case"linkViaRedirect":return Gj;case"reauthViaPopup":case"reauthViaRedirect":return Kj;default:Mi(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new Fd(2e3,1e4);class ol extends AR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yj.get())};e()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="pendingRedirect",rf=new Map;class Xj extends AR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rf.get(this.auth._key());if(!e){try{const r=await Jj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rf.set(this.auth._key(),e)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jj(t,e){const n=tH(e),r=eH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Zj(t,e){rf.set(t._key(),e)}function eH(t){return ys(t._redirectPersistence)}function tH(t){return nf(Qj,t.config.apiKey,t.name)}async function nH(t,e,n=!1){if(Ti(t.app))return Promise.reject(Ji(t));const r=Ra(t),i=qj(r,e),o=await new Xj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=10*60*1e3;class iH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rH&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lH=/^https?/;async function uH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oH(t);for(const n of e)try{if(cH(n))return}catch{}Mi(t,"unauthorized-domain")}function cH(t){const e=iy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lH.test(n))return!1;if(aH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=new Fd(3e4,6e4);function yE(){const t=Zi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hH(t){return new Promise((e,n)=>{var r,i,s;function o(){yE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yE(),n(Xi(t,"network-request-failed"))},timeout:dH.get()})}if(!((i=(r=Zi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zi().gapi)===null||s===void 0)&&s.load)o();else{const a=nj("iframefcb");return Zi()[a]=()=>{gapi.load?o():n(Xi(t,"network-request-failed"))},dR(`${tj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw sf=null,e})}let sf=null;function fH(t){return sf=sf||hH(t),sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=new Fd(5e3,15e3),mH="__/auth/iframe",gH="emulator/auth/iframe",vH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _H(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O0(e,gH):`https://${t.config.authDomain}/${mH}`,r={apiKey:e.apiKey,appName:t.name,v:Po},i=yH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${au(r).slice(1)}`}async function bH(t){const e=await fH(t),n=Zi().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:_H(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xi(t,"network-request-failed"),a=Zi().setTimeout(()=>{s(o)},pH.get());function l(){Zi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TH=500,EH=600,IH="_blank",SH="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AH(t,e,n,r=TH,i=EH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=wr().toLowerCase();n&&(a=iR(u)?IH:n),nR(u)&&(e=e||SH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(z5(u)&&a!=="_self")return CH(e||"",a),new _E(null);const h=window.open(e||"",a,c);Je(h,t,"popup-blocked");try{h.focus()}catch{}return new _E(h)}function CH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH="__/auth/handler",PH="emulator/auth/handler",kH=encodeURIComponent("fac");async function bE(t,e,n,r,i,s){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Po,eventId:i};if(e instanceof hR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Pv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Ud){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${kH}=${encodeURIComponent(l)}`:"";return`${RH(t)}?${au(a).slice(1)}${u}`}function RH({config:t}){return t.emulator?O0(t,PH):`https://${t.authDomain}/${OH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class DH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wR,this._completeRedirectFn=nH,this._overrideRedirectResult=Zj}async _openPopup(e,n,r,i){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await bE(e,n,r,iy(),i);return AH(e,o,x0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bE(e,n,r,iy(),i);return Mj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bH(e),r=new iH(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ig,{type:Ig},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ig];o!==void 0&&n(!!o),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uR()||rR()||k0()}}const xH=DH;var wE="@firebase/auth",TE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LH(t){Hr(new xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cR(t)},u=new J5(r,i,s,l);return aj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hr(new xr("auth-internal",e=>{const n=Ra(e.getProvider("auth").getImmediate());return(r=>new NH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(wE,TE,MH(t)),tr(wE,TE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=5*60;lF("authIdTokenMaxAge");function FH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Z5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LH("Browser");const OR=Symbol("firebaseApp");function M0(t){return ei()&&Rr(OR,null)||Od(t)}const $H=typeof window<"u",xh=new WeakMap;function UH(t,e){if(!xh.has(t)){const n=Xy(!0);xh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),xh.delete(t)}}return xh.get(t)}const PR=new WeakMap;function BH(t){return PR.get(M0(t))}const Nh=new WeakMap;function kR(t){const e=M0(t);if(!Nh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Nh.set(e,s),n(s.value)}];Nh.set(e,i)}return Nh.get(e)}function jH(t){const e=kR(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function HH(t,e){Cj(e,n=>{const r=kR();t.value=n,Array.isArray(r)&&r[1](t)})}var EE={};const IE="@firebase/database",SE="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RR="";function WH(t){RR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ds(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qH(e)}}catch{}return new zH},Ko=DR("localStorage"),ay=DR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new lu("@firebase/database"),KH=function(){let t=1;return function(){return t++}}(),xR=function(t){const e=IF(t),n=new _F;n.update(e);const r=n.digest();return Np.encodeByteArray(r)},jd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=jd.apply(null,r):typeof r=="object"?e+=Qn(r):e+=r,e+=" "}return e};let ea=null,AE=!0;const GH=function(t,e){ke(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Al.logLevel=ft.VERBOSE,ea=Al.log.bind(Al),e&&ay.set("logging_enabled",!0)):typeof t=="function"?ea=t:(ea=null,ay.remove("logging_enabled"))},fr=function(...t){if(AE===!0&&(AE=!1,ea===null&&ay.get("logging_enabled")===!0&&GH(!0)),ea){const e=jd.apply(null,t);ea(e)}},Hd=function(t){return function(...e){fr(t,...e)}},ly=function(...t){const e="FIREBASE INTERNAL ERROR: "+jd(...t);Al.error(e)},ga=function(...t){const e=`FIREBASE FATAL ERROR: ${jd(...t)}`;throw Al.error(e),new Error(e)},Zr=function(...t){const e="FIREBASE WARNING: "+jd(...t);Al.warn(e)},YH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},NR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Kl="[MIN_NAME]",va="[MAX_NAME]",fu=function(t,e){if(t===e)return 0;if(t===Kl||e===va)return-1;if(e===Kl||t===va)return 1;{const n=CE(t),r=CE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},XH=function(t,e){return t===e?0:t<e?-1:1},Lu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qn(e))},L0=function(t){if(typeof t!="object"||t===null)return Qn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Qn(e[r]),n+=":",n+=L0(t[e[r]]);return n+="}",n},MR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function hi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const LR=function(t){ke(!NR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},JH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},e7=new RegExp("^-?(0*)\\d{1,10}$"),t7=-2147483648,n7=2147483647,CE=function(t){if(e7.test(t)){const e=Number(t);if(e>=t7&&e<=n7)return e}return null},Wd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Zr("Exception was thrown by user callback.",n),e},Math.floor(0))}},r7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_c=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Zr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(fr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zr(e)}}class uy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}uy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="5",VR="v",FR="s",$R="r",UR="f",BR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jR="ls",HR="p",cy="ac",WR="websocket",qR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ko.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ko.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function a7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zR(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===WR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===qR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);a7(t)&&(n.ns=t.namespace);const i=[];return hi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.counters_={}}incrementCounter(e,n=1){Ds(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg={},Ag={};function F0(t){const e=t.toString();return Sg[e]||(Sg[e]=new l7),Sg[e]}function u7(t,e){const n=t.toString();return Ag[n]||(Ag[n]=e()),Ag[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Wd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="start",d7="close",h7="pLPCommand",f7="pRTLPCB",KR="id",GR="pw",YR="ser",p7="cb",m7="seg",g7="ts",v7="d",y7="dframe",QR=1870,XR=30,_7=QR-XR,b7=25e3,w7=3e4;class al{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hd(e),this.stats_=F0(n),this.urlFn=l=>(this.appCheckToken&&(l[cy]=this.appCheckToken),zR(n,qR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new c7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(w7)),QH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===OE)this.id=a,this.password=l;else if(o===d7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[OE]="t",r[YR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[p7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[VR]=V0,this.transportSessionId&&(r[FR]=this.transportSessionId),this.lastSessionId&&(r[jR]=this.lastSessionId),this.applicationId&&(r[HR]=this.applicationId),this.appCheckToken&&(r[cy]=this.appCheckToken),typeof location<"u"&&location.hostname&&BR.test(location.hostname)&&(r[$R]=UR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){al.forceAllow_=!0}static forceDisallow(){al.forceDisallow_=!0}static isAvailable(){return al.forceAllow_?!0:!al.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!JH()&&!ZH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nO(n),i=MR(r,_7);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[y7]="t",r[KR]=e,r[GR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KH(),window[h7+this.uniqueCallbackIdentifier]=e,window[f7+this.uniqueCallbackIdentifier]=n,this.myIFrame=$0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){fr("frame writing exception"),a.stack&&fr(a.stack),fr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||fr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[KR]=this.myID,e[GR]=this.myPW,e[YR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XR+r.length<=QR;){const o=this.pendingSegs.shift();r=r+"&"+m7+i+"="+o.seg+"&"+g7+i+"="+o.ts+"&"+v7+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(b7)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=16384,E7=45e3;let Xf=null;typeof MozWebSocket<"u"?Xf=MozWebSocket:typeof WebSocket<"u"&&(Xf=WebSocket);class bi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hd(this.connId),this.stats_=F0(n),this.connURL=bi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[VR]=V0,typeof location<"u"&&location.hostname&&BR.test(location.hostname)&&(o[$R]=UR),n&&(o[FR]=n),r&&(o[jR]=r),i&&(o[cy]=i),s&&(o[HR]=s),zR(e,WR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ko.set("previous_websocket_failure",!0);try{let r;cO(),this.mySock=new Xf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Xf!==null&&!bi.forceDisallow_}static previouslyFailed(){return Ko.isInMemoryStorage||Ko.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ko.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Qn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=MR(n,T7);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(E7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bi.responsesRequiredToBeHealthy=2;bi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[al,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=bi&&bi.isAvailable();let r=n&&!bi.previouslyFailed();if(e.webSocketOnly&&(n||Zr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bi];else{const i=this.transports_=[];for(const s of td.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);td.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}td.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=6e4,S7=5e3,A7=10*1024,C7=100*1024,Cg="t",PE="d",O7="s",kE="r",P7="e",RE="o",DE="a",xE="n",NE="p",k7="h";class R7{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hd("c:"+this.id+":"),this.transportManager_=new td(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=_c(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>C7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>A7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cg in e){const n=e[Cg];n===DE?this.upgradeIfSecondaryHealthy_():n===kE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Lu("t",e),r=Lu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:NE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Lu("t",e),r=Lu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Lu(Cg,e);if(PE in e){const r=e[PE];if(n===k7){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===xE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===O7?this.onConnectionShutdown_(r):n===kE?this.onReset_(r):n===P7?ly("Server Error: "+r):n===RE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ly("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),V0!==r&&Zr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),_c(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(I7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_c(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(S7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:NE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ko.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends ZR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!w_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jf}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=32,LE=768;class un{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function jt(){return new un("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Eo(t){return t.pieces_.length-t.pieceNum_}function sn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new un(t.pieces_,e)}function eD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function D7(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function nD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new un(e,0)}function jn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new un(n,0)}function vt(t){return t.pieceNum_>=t.pieces_.length}function ai(t,e){const n=wt(t),r=wt(e);if(n===null)return e;if(n===r)return ai(sn(t),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rD(t,e){if(Eo(t)!==Eo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ei(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Eo(t)>Eo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class x7{constructor(e,n){this.errorPrefix_=n,this.parts_=tD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vp(this.parts_[r]);iD(this)}}function N7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vp(e),iD(t)}function M7(t){const e=t.parts_.pop();t.byteLength_-=Vp(e),t.parts_.length>0&&(t.byteLength_-=1)}function iD(t){if(t.byteLength_>LE)throw new Error(t.errorPrefix_+"has a key path longer than "+LE+" bytes ("+t.byteLength_+").");if(t.parts_.length>ME)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ME+") or object contains a cycle "+Uo(t))}function Uo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends ZR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new U0}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=1e3,L7=60*5*1e3,VE=30*1e3,V7=1.3,F7=3e4,$7="server_kill",FE=3;class Es extends JR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Es.nextPersistentConnectionId_++,this.log_=Hd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vu,this.maxReconnectDelay_=L7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!cO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");U0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Jf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Qn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new aa,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Es.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ds(e,"w")){const r=Vl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Zr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ly("Unrecognized action received from server: "+Qn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>F7&&(this.reconnectDelay_=Vu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*V7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Es.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?fr("getToken() completed but was canceled"):(fr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new R7(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Zr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt($7)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Zr(h),l())}}}interrupt(e){fr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pv(this.interruptReasons_)&&(this.reconnectDelay_=Vu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>L0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){fr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=FE&&(this.reconnectDelay_=VE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){fr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=FE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+RR.replace(/\./g,"-")]=1,w_()?e["framework.cordova"]=1:uO()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jf.getInstance().currentlyOnline();return Pv(this.interruptReasons_)&&e}}Es.nextPersistentConnectionId_=0;Es.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Tt(Kl,e),i=new Tt(Kl,n);return this.compare(r,i)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh;class sD extends hm{static get __EMPTY_NODE(){return Mh}static set __EMPTY_NODE(e){Mh=e}compare(e,n){return fu(e.name,n.name)}isDefinedOn(e){throw ou("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(va,Mh)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new Tt(e,Mh)}toString(){return".key"}}const Cl=new sD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bn.RED,this.left=i??Ur.EMPTY_NODE,this.right=s??Ur.EMPTY_NODE}copy(e,n,r,i,s){return new Bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ur.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ur.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bn.RED=!0;Bn.BLACK=!1;class U7{copy(e,n,r,i,s){return this}insert(e,n,r){return new Bn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ur{constructor(e,n=Ur.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ur(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Ur(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lh(this.root_,null,this.comparator_,!0,e)}}Ur.EMPTY_NODE=new U7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(t,e){return fu(t.name,e.name)}function B0(t,e){return fu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy;function j7(t){dy=t}const oD=function(t){return typeof t=="number"?"number:"+LR(t):"string:"+t},aD=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ds(e,".sv"),"Priority must be a string or number.")}else ke(t===dy||t.isEmpty(),"priority of unexpected type.");ke(t===dy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E;class $n{constructor(e,n=$n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),aD(this.priorityNode_)}static set __childrenNodeConstructor(e){$E=e}static get __childrenNodeConstructor(){return $E}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vt(e)?this:wt(e)===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=wt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||Eo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$n.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+oD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=LR(this.value_):e+=this.value_,this.lazyHash_=xR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $n.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$n.VALUE_TYPE_ORDER.indexOf(n),s=$n.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+n),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$n.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lD,uD;function H7(t){lD=t}function W7(t){uD=t}class q7 extends hm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(va,new $n("[PRIORITY-POST]",uD))}makePost(e,n){const r=lD(e);return new Tt(n,new $n("[PRIORITY-POST]",r))}toString(){return".priority"}}const gr=new q7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=Math.log(2);class K7{constructor(e){const n=s=>parseInt(Math.log(s)/z7,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zf=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new Bn(f,h.node,Bn.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),b=i(p+1,u);return h=t[p],f=n?n(h):h,new Bn(f,h.node,Bn.BLACK,g,b)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,b){const A=h-g,R=h;h-=g;const k=i(A+1,R),S=t[A],_=n?n(S):S;p(new Bn(_,S.node,b,null,k))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const b=l.nextBitIsOne(),A=Math.pow(2,l.count-(g+1));b?f(A,Bn.BLACK):(f(A,Bn.BLACK),f(A,Bn.RED))}return c},o=new K7(t.length),a=s(o);return new Ur(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og;const za={};class _s{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(za&&gr,"ChildrenNode.ts has not been loaded"),Og=Og||new _s({".priority":za},{".priority":gr}),Og}get(e){const n=Vl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ur?n:null}hasIndex(e){return Ds(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Zf(r,e.getCompare()):a=za;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new _s(c,u)}addToIndexes(e,n){const r=kf(this.indexes_,(i,s)=>{const o=Vl(this.indexSet_,s);if(ke(o,"Missing index implementation for "+s),i===za)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Tt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Zf(a,o.getCompare())}else return za;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Tt(e.name,a))),l.insert(e,e.node)}});return new _s(r,this.indexSet_)}removeFromIndexes(e,n){const r=kf(this.indexes_,i=>{if(i===za)return i;{const s=n.get(e.name);return s?i.remove(new Tt(e.name,s)):i}});return new _s(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu;class Vt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&aD(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fu||(Fu=new Vt(new Ur(B0),null,_s.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fu}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Fu:n}}getChild(e){const n=wt(e);return n===null?this:this.getImmediateChild(n).getChild(sn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Fu:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,n){const r=wt(e);if(r===null)return n;{ke(wt(e)!==".priority"||Eo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(sn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(gr,(o,a)=>{n[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+oD(this.getPriority().val())+":"),this.forEachChild(gr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":xR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qd?-1:0}withIndex(e){if(e===Cl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Cl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gr),i=n.getIterator(gr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Cl?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class G7 extends Vt{constructor(){super(new Ur(B0),Vt.EMPTY_NODE,_s.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const qd=new G7;Object.defineProperties(Tt,{MIN:{value:new Tt(Kl,Vt.EMPTY_NODE)},MAX:{value:new Tt(va,qd)}});sD.__EMPTY_NODE=Vt.EMPTY_NODE;$n.__childrenNodeConstructor=Vt;j7(qd);W7(qd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=!0;function pr(t,e=null){if(t===null)return Vt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $n(n,pr(e))}if(!(t instanceof Array)&&Y7){const n=[];let r=!1;if(hi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=pr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Tt(o,l)))}}),n.length===0)return Vt.EMPTY_NODE;const s=Zf(n,B7,o=>o.name,B0);if(r){const o=Zf(n,gr.getCompare());return new Vt(s,pr(e),new _s({".priority":o},{".priority":gr}))}else return new Vt(s,pr(e),_s.Default)}else{let n=Vt.EMPTY_NODE;return hi(t,(r,i)=>{if(Ds(t,r)&&r.substring(0,1)!=="."){const s=pr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(pr(e))}}H7(pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7 extends hm{constructor(e){super(),this.indexPath_=e,ke(!vt(e)&&wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fu(e.name,n.name):s}makePost(e,n){const r=pr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Tt(n,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,qd);return new Tt(va,e)}toString(){return tD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7 extends hm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(e,n){const r=pr(e);return new Tt(n,r)}toString(){return".value"}}const J7=new X7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){return{type:"value",snapshotNode:t}}function e8(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function t8(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function UE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function n8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kl}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:va}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gr}copy(){const e=new j0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===gr?n="$priority":t.index_===J7?n="$value":t.index_===Cl?n="$key":(ke(t.index_ instanceof Q7,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Qn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Qn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Qn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Qn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends JR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Hd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ep.getListenId_(e,r),a={};this.listens_[o]=a;const l=BE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Vl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=ep.getListenId_(e,n);delete this.listens_[r]}get(e){const n=BE(e._queryParams),r=e._path.toString(),i=new aa;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+au(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=jc(a.responseText)}catch{Zr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Zr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){return{value:null,children:new Map}}function cD(t,e,n){if(vt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,tp());const i=t.children.get(r);e=sn(e),cD(i,e,n)}}function hy(t,e,n){t.value!==null?n(e,t.value):i8(t,(r,i)=>{const s=new un(e.toString()+"/"+r);hy(i,s,n)})}function i8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&hi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=10*1e3,o8=30*1e3,a8=5*60*1e3;class l8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new s8(e);const r=HE+(o8-HE)*Math.random();_c(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;hi(e,(i,s)=>{s>0&&Ds(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),_c(this.reportStats_.bind(this),Math.floor(Math.random()*2*a8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zi||(zi={}));function dD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=zi.ACK_USER_WRITE,this.source=dD()}operationForChild(e){if(vt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new un(e));return new np(jt(),n,this.revert)}}else return ke(wt(this.path)===e,"operationForChild called for unrelated child."),new np(sn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=zi.OVERWRITE}operationForChild(e){return vt(this.path)?new ya(this.source,jt(),this.snap.getImmediateChild(e)):new ya(this.source,sn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=zi.MERGE}operationForChild(e){if(vt(this.path)){const n=this.children.subtree(new un(e));return n.isEmpty()?null:n.value?new ya(this.source,jt(),n.value):new nd(this.source,jt(),n)}else return ke(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nd(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function u8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(n8(o.childName,o.snapshotNode))}),$u(t,i,"child_removed",e,r,n),$u(t,i,"child_added",e,r,n),$u(t,i,"child_moved",s,r,n),$u(t,i,"child_changed",e,r,n),$u(t,i,"value",e,r,n),i}function $u(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>d8(t,a,l)),o.forEach(a=>{const l=c8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function c8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function d8(t,e,n){if(e.childName==null||n.childName==null)throw ou("Should only compare child_ events.");const r=new Tt(e.childName,e.snapshotNode),i=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e){return{eventCache:t,serverCache:e}}function bc(t,e,n,r){return pD(new H0(e,n,r),t.serverCache)}function mD(t,e,n,r){return pD(t.eventCache,new H0(e,n,r))}function fy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function _a(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg;const h8=()=>(Pg||(Pg=new Ur(XH)),Pg);class rn{constructor(e,n=h8()){this.value=e,this.children=n}static fromObject(e){let n=new rn(null);return hi(e,(r,i)=>{n=n.set(new un(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:jt(),value:this.value};if(vt(e))return null;{const r=wt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(sn(e),n);return s!=null?{path:jn(new un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(vt(e))return this;{const n=wt(e),r=this.children.get(n);return r!==null?r.subtree(sn(e)):new rn(null)}}set(e,n){if(vt(e))return new rn(n,this.children);{const r=wt(e),s=(this.children.get(r)||new rn(null)).set(sn(e),n),o=this.children.insert(r,s);return new rn(this.value,o)}}remove(e){if(vt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(sn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rn(null):new rn(this.value,s)}else return this}}get(e){if(vt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(sn(e)):null}}setTree(e,n){if(vt(e))return n;{const r=wt(e),s=(this.children.get(r)||new rn(null)).setTree(sn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new rn(this.value,o)}}fold(e){return this.fold_(jt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(jn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,jt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(vt(e))return null;{const s=wt(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),jn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,jt(),n)}foreachOnPath_(e,n,r){if(vt(e))return this;{this.value&&r(n,this.value);const i=wt(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),jn(n,i),r):new rn(null)}}foreach(e){this.foreach_(jt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(jn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.writeTree_=e}static empty(){return new Ai(new rn(null))}}function wc(t,e,n){if(vt(e))return new Ai(new rn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=ai(i,e);return s=s.updateChild(o,n),new Ai(t.writeTree_.set(i,s))}else{const i=new rn(n),s=t.writeTree_.setTree(e,i);return new Ai(s)}}}function WE(t,e,n){let r=t;return hi(n,(i,s)=>{r=wc(r,jn(e,i),s)}),r}function qE(t,e){if(vt(e))return Ai.empty();{const n=t.writeTree_.setTree(e,new rn(null));return new Ai(n)}}function py(t,e){return Da(t,e)!=null}function Da(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ai(n.path,e)):null}function zE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gr,(r,i)=>{e.push(new Tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Tt(r,i.value))}),e}function uo(t,e){if(vt(e))return t;{const n=Da(t,e);return n!=null?new Ai(new rn(n)):new Ai(t.writeTree_.subtree(e))}}function my(t){return t.writeTree_.isEmpty()}function Gl(t,e){return gD(jt(),t.writeTree_,e)}function gD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=gD(jn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(jn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){return TD(e,t)}function f8(t,e,n,r,i){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=wc(t.visibleWrites,e,n)),t.lastWriteId=r}function p8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function m8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&g8(a,r.path)?i=!1:Ei(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return v8(t),!0;if(r.snap)t.visibleWrites=qE(t.visibleWrites,r.path);else{const a=r.children;hi(a,l=>{t.visibleWrites=qE(t.visibleWrites,jn(r.path,l))})}return!0}else return!1}function g8(t,e){if(t.snap)return Ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ei(jn(t.path,n),e))return!0;return!1}function v8(t){t.visibleWrites=yD(t.allWrites,y8,jt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function y8(t){return t.visible}function yD(t,e,n){let r=Ai.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ei(n,o)?(a=ai(n,o),r=wc(r,a,s.snap)):Ei(o,n)&&(a=ai(o,n),r=wc(r,jt(),s.snap.getChild(a)));else if(s.children){if(Ei(n,o))a=ai(n,o),r=WE(r,a,s.children);else if(Ei(o,n))if(a=ai(o,n),vt(a))r=WE(r,jt(),s.children);else{const l=Vl(s.children,wt(a));if(l){const u=l.getChild(sn(a));r=wc(r,jt(),u)}}}else throw ou("WriteRecord should have .snap or .children")}}return r}function _D(t,e,n,r,i){if(!r&&!i){const s=Da(t.visibleWrites,e);if(s!=null)return s;{const o=uo(t.visibleWrites,e);if(my(o))return n;if(n==null&&!py(o,jt()))return null;{const a=n||Vt.EMPTY_NODE;return Gl(o,a)}}}else{const s=uo(t.visibleWrites,e);if(!i&&my(s))return n;if(!i&&n==null&&!py(s,jt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ei(u.path,e)||Ei(e,u.path))},a=yD(t.allWrites,o,e),l=n||Vt.EMPTY_NODE;return Gl(a,l)}}}function _8(t,e,n){let r=Vt.EMPTY_NODE;const i=Da(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=uo(t.visibleWrites,e);return n.forEachChild(gr,(o,a)=>{const l=Gl(uo(s,new un(o)),a);r=r.updateImmediateChild(o,l)}),zE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=uo(t.visibleWrites,e);return zE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function b8(t,e,n,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=jn(e,n);if(py(t.visibleWrites,s))return null;{const o=uo(t.visibleWrites,s);return my(o)?i.getChild(n):Gl(o,i.getChild(n))}}function w8(t,e,n,r){const i=jn(e,n),s=Da(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=uo(t.visibleWrites,i);return Gl(o,r.getNode().getImmediateChild(n))}else return null}function T8(t,e){return Da(t.visibleWrites,e)}function E8(t,e,n,r,i,s,o){let a;const l=uo(t.visibleWrites,e),u=Da(l,jt());if(u!=null)a=u;else if(n!=null)a=Gl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function I8(){return{visibleWrites:Ai.empty(),allWrites:[],lastWriteId:-1}}function gy(t,e,n,r){return _D(t.writeTree,t.treePath,e,n,r)}function bD(t,e){return _8(t.writeTree,t.treePath,e)}function KE(t,e,n,r){return b8(t.writeTree,t.treePath,e,n,r)}function rp(t,e){return T8(t.writeTree,jn(t.treePath,e))}function S8(t,e,n,r,i,s){return E8(t.writeTree,t.treePath,e,n,r,i,s)}function W0(t,e,n){return w8(t.writeTree,t.treePath,e,n)}function wD(t,e){return TD(jn(t.treePath,e),t.writeTree)}function TD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,UE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,t8(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,e8(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,UE(r,e.snapshotNode,i.oldSnap));else throw ou("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ED=new C8;class q0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new H0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_a(this.viewCache_),s=S8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function O8(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function P8(t,e,n,r,i){const s=new A8;let o,a;if(n.type===zi.OVERWRITE){const u=n;u.source.fromUser?o=vy(t,e,u.path,u.snap,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!vt(u.path),o=ip(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===zi.MERGE){const u=n;u.source.fromUser?o=R8(t,e,u.path,u.children,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=yy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===zi.ACK_USER_WRITE){const u=n;u.revert?o=N8(t,e,u.path,r,i,s):o=D8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===zi.LISTEN_COMPLETE)o=x8(t,e,n.path,r,s);else throw ou("Unknown operation type: "+n.type);const l=s.getChanges();return k8(e,o,l),{viewCache:o,changes:l}}function k8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=fy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Z7(fy(e)))}}function ID(t,e,n,r,i,s){const o=e.eventCache;if(rp(r,n)!=null)return e;{let a,l;if(vt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=_a(e),c=u instanceof Vt?u:Vt.EMPTY_NODE,h=bD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=gy(r,_a(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=wt(n);if(u===".priority"){ke(Eo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=KE(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=sn(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=KE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=W0(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return bc(e,a,o.isFullyInitialized()||vt(n),t.filter.filtersNodes())}}function ip(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(vt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=wt(n);if(!l.isCompleteForPath(n)&&Eo(n)>1)return e;const g=sn(n),A=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),A):u=c.updateChild(l.getNode(),p,A,g,ED,null)}const h=mD(e,u,l.isFullyInitialized()||vt(n),c.filtersNodes()),f=new q0(i,h,s);return ID(t,h,n,i,f,a)}function vy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new q0(i,e,s);if(vt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=bc(e,u,!0,t.filter.filtersNodes());else{const h=wt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=bc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=sn(n),p=a.getNode().getImmediateChild(h);let g;if(vt(f))g=r;else{const b=c.getCompleteChild(h);b!=null?eD(f)===".priority"&&b.getChild(nD(f)).isEmpty()?g=b:g=b.updateChild(f,r):g=Vt.EMPTY_NODE}if(p.equals(g))l=e;else{const b=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=bc(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function GE(t,e){return t.eventCache.isCompleteForChild(e)}function R8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=jn(n,l);GE(e,wt(c))&&(a=vy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=jn(n,l);GE(e,wt(c))||(a=vy(t,a,c,u,i,s,o))}),a}function YE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function yy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;vt(n)?u=r:u=new rn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=YE(t,p,f);l=ip(t,l,new un(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),b=YE(t,g,f);l=ip(t,l,new un(h),b,i,s,o,a)}}),l}function D8(t,e,n,r,i,s,o){if(rp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(vt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ip(t,e,n,l.getNode().getChild(n),i,s,a,o);if(vt(n)){let u=new rn(null);return l.getNode().forEachChild(Cl,(c,h)=>{u=u.set(new un(c),h)}),yy(t,e,n,u,i,s,a,o)}else return e}else{let u=new rn(null);return r.foreach((c,h)=>{const f=jn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),yy(t,e,n,u,i,s,a,o)}}function x8(t,e,n,r,i){const s=e.serverCache,o=mD(e,s.getNode(),s.isFullyInitialized()||vt(n),s.isFiltered());return ID(t,o,n,r,ED,i)}function N8(t,e,n,r,i,s){let o;if(rp(r,n)!=null)return e;{const a=new q0(r,e,i),l=e.eventCache.getNode();let u;if(vt(n)||wt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=gy(r,_a(e));else{const h=e.serverCache.getNode();ke(h instanceof Vt,"serverChildren would be complete if leaf node"),c=bD(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=wt(n);let h=W0(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,sn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Vt.EMPTY_NODE,sn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=gy(r,_a(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||rp(r,jt())!=null,bc(e,u,o,t.filter.filtersNodes())}}function M8(t,e){const n=_a(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!vt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function QE(t,e,n,r){e.type===zi.MERGE&&e.source.queryId!==null&&(ke(_a(t.viewCache_),"We should always have a full cache before handling merges"),ke(fy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=P8(t.processor_,i,e,n,r);return O8(t.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,L8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function L8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return u8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE;function V8(t){ke(!XE,"__referenceConstructor has already been defined"),XE=t}function z0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),QE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(QE(o,e,n,r));return s}}function K0(t,e){let n=null;for(const r of t.views.values())n=n||M8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JE;function F8(t){ke(!JE,"__referenceConstructor has already been defined"),JE=t}class ZE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=I8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $8(t,e,n,r,i){return f8(t.pendingWriteTree_,e,n,r,i),i?pm(t,new ya(dD(),e,n)):[]}function ll(t,e,n=!1){const r=p8(t.pendingWriteTree_,e);if(m8(t.pendingWriteTree_,e)){let s=new rn(null);return r.snap!=null?s=s.set(jt(),!0):hi(r.children,o=>{s=s.set(new un(o),!0)}),pm(t,new np(r.path,s,n))}else return[]}function fm(t,e,n){return pm(t,new ya(hD(),e,n))}function U8(t,e,n){const r=rn.fromObject(n);return pm(t,new nd(hD(),e,r))}function B8(t,e,n,r){const i=OD(t,r);if(i!=null){const s=PD(i),o=s.path,a=s.queryId,l=ai(o,e),u=new ya(fD(a),l,n);return kD(t,o,u)}else return[]}function j8(t,e,n,r){const i=OD(t,r);if(i){const s=PD(i),o=s.path,a=s.queryId,l=ai(o,e),u=rn.fromObject(n),c=new nd(fD(a),l,u);return kD(t,o,c)}else return[]}function SD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ai(o,e),u=K0(a,l);if(u)return u});return _D(i,e,s,n,!0)}function pm(t,e){return AD(e,t.syncPointTree_,null,vD(t.pendingWriteTree_,jt()))}function AD(t,e,n,r){if(vt(t.path))return CD(t,e,n,r);{const i=e.get(jt());n==null&&i!=null&&(n=K0(i,jt()));let s=[];const o=wt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=wD(r,o);s=s.concat(AD(a,l,u,c))}return i&&(s=s.concat(z0(i,t,r,n))),s}}function CD(t,e,n,r){const i=e.get(jt());n==null&&i!=null&&(n=K0(i,jt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=wD(r,o),c=t.operationForChild(o);c&&(s=s.concat(CD(c,a,l,u)))}),i&&(s=s.concat(z0(i,t,r,n))),s}function OD(t,e){return t.tagToQueryMap.get(e)}function PD(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new un(t.substr(0,e))}}function kD(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=vD(t.pendingWriteTree_,e);return z0(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new G0(n)}node(){return this.node_}}class Y0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=jn(this.path_,e);return new Y0(this.syncTree_,n)}node(){return SD(this.syncTree_,this.path_)}}const H8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},eI=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return W8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return q8(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},W8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},q8=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},z8=function(t,e,n,r){return Q0(e,new Y0(n,t),r)},K8=function(t,e,n){return Q0(t,new G0(e),n)};function Q0(t,e,n){const r=t.getPriority().val(),i=eI(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=eI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $n(a,pr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $n(i))),o.forEachChild(gr,(a,l)=>{const u=Q0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function J0(t,e){let n=e instanceof un?e:new un(e),r=t,i=wt(n);for(;i!==null;){const s=Vl(r.node.children,i)||{children:{},childCount:0};r=new X0(i,r,s),n=sn(n),i=wt(n)}return r}function pu(t){return t.node.value}function RD(t,e){t.node.value=e,_y(t)}function DD(t){return t.node.childCount>0}function G8(t){return pu(t)===void 0&&!DD(t)}function mm(t,e){hi(t.node.children,(n,r)=>{e(new X0(n,t,r))})}function xD(t,e,n,r){n&&!r&&e(t),mm(t,i=>{xD(i,e,!0,r)}),n&&r&&e(t)}function Y8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function zd(t){return new un(t.parent===null?t.name:zd(t.parent)+"/"+t.name)}function _y(t){t.parent!==null&&Q8(t.parent,t.name,t)}function Q8(t,e,n){const r=G8(n),i=Ds(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,_y(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,_y(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=/[\[\].#$\/\u0000-\u001F\u007F]/,J8=/[\[\].#$\u0000-\u001F\u007F]/,kg=10*1024*1024,ND=function(t){return typeof t=="string"&&t.length!==0&&!X8.test(t)},Z8=function(t){return typeof t=="string"&&t.length!==0&&!J8.test(t)},eW=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Z8(t)},MD=function(t,e,n){const r=n instanceof un?new x7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Uo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Uo(r)+" with contents = "+e.toString());if(NR(e))throw new Error(t+"contains "+e.toString()+" "+Uo(r));if(typeof e=="string"&&e.length>kg/3&&Vp(e)>kg)throw new Error(t+"contains a string greater than "+kg+" utf8 bytes "+Uo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(hi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!ND(o)))throw new Error(t+" contains an invalid key ("+o+") "+Uo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);N7(r,o),MD(t,a,r),M7(r)}),i&&s)throw new Error(t+' contains ".value" child '+Uo(r)+" in addition to actual children.")}},tW=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ND(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!eW(n))throw new Error(EF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rW(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!rD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function xa(t,e,n){rW(t,n),iW(t,r=>Ei(r,e)||Ei(e,r))}function iW(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(sW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ea&&fr("event: "+n.toString()),Wd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW="repo_interrupt",aW=25;class lW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tp(),this.transactionQueueTree_=new X0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uW(t,e,n){if(t.stats_=F0(t.repoInfo_),t.forceRestClient_||r7())t.server_=new ep(t.repoInfo_,(r,i,s,o)=>{tI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>nI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Es(t.repoInfo_,e,(r,i,s,o)=>{tI(t,r,i,s,o)},r=>{nI(t,r)},r=>{dW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=u7(t.repoInfo_,()=>new l8(t.stats_,t.server_)),t.infoData_=new r8,t.infoSyncTree_=new ZE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=fm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Z0(t,"connected",!1),t.serverSyncTree_=new ZE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);xa(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function cW(t){const n=t.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function LD(t){return H8({timestamp:cW(t)})}function tI(t,e,n,r,i){t.dataUpdateCount++;const s=new un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=kf(n,u=>pr(u));o=j8(t.serverSyncTree_,s,l,i)}else{const l=pr(n);o=B8(t.serverSyncTree_,s,l,i)}else if(r){const l=kf(n,u=>pr(u));o=U8(t.serverSyncTree_,s,l)}else{const l=pr(n);o=fm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=tb(t,s)),xa(t.eventQueue_,a,o)}function nI(t,e){Z0(t,"connected",e),e===!1&&fW(t)}function dW(t,e){hi(e,(n,r)=>{Z0(t,n,r)})}function Z0(t,e,n){const r=new un("/.info/"+e),i=pr(n);t.infoData_.updateSnapshot(r,i);const s=fm(t.infoSyncTree_,r,i);xa(t.eventQueue_,r,s)}function hW(t){return t.nextWriteId_++}function fW(t){VD(t,"onDisconnectEvents");const e=LD(t),n=tp();hy(t.onDisconnect_,jt(),(i,s)=>{const o=z8(i,s,t.serverSyncTree_,e);cD(n,i,o)});let r=[];hy(n,jt(),(i,s)=>{r=r.concat(fm(t.serverSyncTree_,i,s));const o=vW(t,i);tb(t,o)}),t.onDisconnect_=tp(),xa(t.eventQueue_,jt(),r)}function pW(t){t.persistentConnection_&&t.persistentConnection_.interrupt(oW)}function VD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fr(n,...e)}function FD(t,e,n){return SD(t.serverSyncTree_,e,n)||Vt.EMPTY_NODE}function eb(t,e=t.transactionQueueTree_){if(e||gm(t,e),pu(e)){const n=UD(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&mW(t,zd(e),n)}else DD(e)&&mm(e,n=>{eb(t,n)})}function mW(t,e,n){const r=n.map(u=>u.currentWriteId),i=FD(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=ai(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{VD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(ll(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();gm(t,J0(t.transactionQueueTree_,e)),eb(t,t.transactionQueueTree_),xa(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)Wd(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Zr("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}tb(t,e)}},o)}function tb(t,e){const n=$D(t,e),r=zd(n),i=UD(t,n);return gW(t,i,r),r}function gW(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=ai(n,l.path);let c=!1,h;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=aW)c=!0,h="maxretry",i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0));else{const f=FD(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){MD("transaction failed: Data returned ",p,l.path);let g=pr(p);typeof p=="object"&&p!=null&&Ds(p,".priority")||(g=g.updatePriority(f.getPriority()));const A=l.currentWriteId,R=LD(t),k=K8(g,f,R);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=k,l.currentWriteId=hW(t),o.splice(o.indexOf(A),1),i=i.concat($8(t.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),i=i.concat(ll(t.serverSyncTree_,A,!0))}else c=!0,h="nodata",i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0))}xa(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}gm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Wd(r[a]);eb(t,t.transactionQueueTree_)}function $D(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);n!==null&&pu(r)===void 0;)r=J0(r,n),e=sn(e),n=wt(e);return r}function UD(t,e){const n=[];return BD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function BD(t,e,n){const r=pu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);mm(e,i=>{BD(t,i,n)})}function gm(t,e){const n=pu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,RD(e,n.length>0?n:void 0)}mm(e,r=>{gm(t,r)})}function vW(t,e){const n=zd($D(t,e)),r=J0(t.transactionQueueTree_,e);return Y8(r,i=>{Rg(t,i)}),Rg(t,r),xD(r,i=>{Rg(t,i)}),n}function Rg(t,e){const n=pu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ll(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?RD(e,void 0):n.length=s+1,xa(t.eventQueue_,zd(e),i);for(let o=0;o<r.length;o++)Wd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _W(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Zr(`Invalid query segment '${n}' in query '${t}'`)}return e}const rI=function(t,e){const n=bW(t),r=n.namespace;n.domain==="firebase.com"&&ga(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ga("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||YH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new o7(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new un(n.pathString)}},bW=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=yW(t.substring(c,h)));const f=_W(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return vt(this._path)?null:eD(this._path)}get ref(){return new mu(this._repo,this._path)}get _queryIdentifier(){const e=jE(this._queryParams),n=L0(e);return n==="{}"?"default":n}get _queryObject(){return jE(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof nb))return!1;const n=this._repo===e._repo,r=rD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+D7(this._path)}}class mu extends nb{constructor(e,n){super(e,n,new j0,!1)}get parent(){const e=nD(this._path);return e===null?null:new mu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}V8(mu);F8(mu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW="FIREBASE_DATABASE_EMULATOR_HOST",by={};let TW=!1;function EW(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ga("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=rI(s,i),a=o.repoInfo,l,u;typeof process<"u"&&EE&&(u=EE[wW]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=rI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new uy(uy.OWNER):new s7(t.name,t.options,e);tW("Invalid Firebase Database URL",o),vt(o.path)||ga("Database URL must point to the root of a Firebase Database (not including a child path).");const h=SW(a,t,c,new i7(t.name,n));return new AW(h,t)}function IW(t,e){const n=by[e];(!n||n[t.key]!==t)&&ga(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pW(t),delete n[t.key]}function SW(t,e,n,r){let i=by[e.name];i||(i={},by[e.name]=i);let s=i[t.toURLString()];return s&&ga("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lW(t,TW,n,r),i[t.toURLString()]=s,s}class AW{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mu(this._repo,jt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ga("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t){WH(Po),Hr(new xr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return EW(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),tr(IE,SE,t),tr(IE,SE,"esm2017")}Es.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Es.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};CW();function gu(t){return $9(M0(t))}function OW(t){return PW({initialUser:t,dependencies:{popupRedirectResolver:xH,persistence:[Wj,Dj,wR]}})}const jD=Symbol("VueFireAuth");function PW({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=kW(n,r,e,t);HH(i,s)}}function kW(t,e,n,r,i=oj(t,r)){const s=UH(t,e).run(()=>fe(n));return PR.set(t,s),e.provide(jD,i),[s,i]}function RW(t){return $H?Rr(jD):null}function DW(t,{firebaseApp:e,modules:n=[]}){t.provide(OR,e);for(const r of n)r(e,t)}var kn=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.PET_OVERVIEW="pets",t.PET_DETAILS="pet-details",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.TOOLS="tools",t.GAMES="games",t.NOT_FOUND="notfound",t))(kn||{}),ec=(t=>(t.GAMES_YAHTZEE="yahtzee",t.GAMES_RAINWORMS="rainworms",t.GAMES_PATIENCE="patience",t.TOOLS_CAT_CALC="cat-calc",t))(ec||{});const vm=Aa("settingsStore",()=>{const t=fe(!0),e=fe(!1);return{isOnline:t,debug:e}},{persist:{enabled:!0}}),iI={visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1},sI={isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},HD=Aa("blogPostStore",()=>{const t=gu(),e=vm(),{debug:n}=yo(e),r={blogPosts:F=>Nn(t,F?cn.BLOG_POSTS_PRIVATE:cn.BLOG_POSTS),blogPostsPrivate:Nn(t,cn.BLOG_POSTS_PRIVATE),blogReactions:F=>Nn(t,F?cn.BLOG_REACTIONS_PRIVATE:cn.BLOG_REACTIONS),files:Nn(t,cn.FILES),usersPublic:Nn(t,cn.USERS_PUBLIC)},i=Dr({...iI}),s=Dr({...sI}),o=le(()=>[...i.data.public,...i.data.private]),a=le(()=>i.data[i.visibility]),l=le(()=>i.previousData[i.visibility]),u=le(()=>i.isLoading.public.fetch||i.isLoading.private.fetch),c=le(()=>i.isLoading.public.mutation||i.isLoading.private.mutation),h=le(()=>i.isDatabaseCreationActive||i.isDatabaseMutationActive||i.isDatabaseDeletionActive||s.isDatabaseCreationActive||s.isDatabaseDeletionActive),f=()=>{Object.assign(i,iI),Object.assign(s,sI)},p=async(F,U={})=>{const x=U.visibility??i.visibility;U.loadingIndicator!==!1&&(i.isLoading[x].fetch=!0);try{const q=i.data[x][i.data[x].length-1],z=[G1("datePinned","desc"),G1("date","desc"),Y9(U.amount||3)];a.value.length||(i.isLastPage=!1),U.amount&&U.loadingIndicator!==!1&&(i.data[x]=[]),!U.amount&&q&&z.push(Q9(q.datePinned,q.date));var O=[];x==="private"&&F?O=await Ci(r.blogPostsPrivate,[p0("allowedUserIds","array-contains",ct(t,r.usersPublic.id,F).id),...z]):x==="public"&&(O=await Ci(r.blogPosts(!1),z));const te=await Promise.all(O.map(async he=>await Ui.mapIncoming(he)));if(U.amount)i.data[x]=te;else for(const he of te)i.data[x].push(he);te.length<3&&(i.isLastPage=!0)}catch(q){Re.firebaseError(n.value,q)}finally{i.isLoading[x].fetch=!1}},g=async(F,U,x={})=>{console.log("attempt to fetch single");const O=(U==null?void 0:U.visibility)??"public";x.loadingIndicator!==!1&&(i.isLoading[O].fetch=!0);try{var q=await si(ct(r.blogPosts(!!(U!=null&&U.isPrivate)),F));return q||(q=await si(ct(r.blogPostsPrivate,F))),q?(i.data.single=await Ui.mapIncoming(q),i.data.single):null}catch(z){return Re.firebaseError(n.value,z).errorCode??null}finally{i.isLoading[O].fetch=!1}},b=()=>{i.previousData.single=i.data.single,i.previousData[i.visibility]=a.value},A=(F,U)=>{const x=s.unread.length;if(F){let O;if(U?O=i.data.single:O=a.value.find(q=>q.id===F.id),O&&O.reactions.length!==F.reactions.length){const q=O.reactions.filter(z=>!F.reactions.some(te=>te.id===z.id));for(const z of q)s.unread.every(te=>te.id!==z.id)&&s.unread.push(z)}}U&&(x!==s.unread.length&&Re.update("There are unread comments on this page"),b())},R=()=>{const F=s.unread.length;if(l.value.length)for(const U of l.value)A(U);F!==s.unread.length&&Re.update("There are unread comments on this page"),b()},k=async(F,U,x,O={includeTime:!1,fetch:!0})=>{const q=Fo(U);i.isLoading[q.visibility].mutation=!0,i.isDatabaseCreationActive=!0;try{return await Io(ct(t,r.blogPosts(q.isPrivate).id,F),{...U,date:O!=null&&O.includeTime?Ut.fromDate(U.date):Ut.now(),dateUpdated:O!=null&&O.includeTime&&U.dateUpdated?Ut.fromDate(U.dateUpdated):null,countdown:U.countdown?Ut.fromDate(U.countdown):null,timer:U.timer?Ut.fromDate(U.timer):null}),i.visibility=q.visibility,O!=null&&O.fetch&&p(x,{amount:a.value.length+1}),Re.success("Successfully created Post"),!0}catch(z){return Re.firebaseError(n.value,z),!1}finally{b(),i.isLoading[q.visibility].mutation=!1,i.isDatabaseCreationActive=!1}},S=async(F,U,x,O)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[x.visibility].mutation=!0;const q=r.blogPosts(x.isPrivate).id;let z="";if(Ui.Content.instanceOf(U)&&(await ii(ct(t,q,F),{...Ui.Content.convert(U),dateUpdated:Ut.now()}),z="content"),Ui.Styling.instanceOf(U)&&(await ii(ct(t,q,F),{...Ui.Styling.convert(U)}),z="styling"),Ui.Settings.instanceOf(U)&&(await ii(ct(t,q,F),{...Ui.Settings.convert(U)}),z="settings"),z==="content"||z==="styling"){let te=await g(F,x);iE(te)&&(te=null),i.data[x.visibility]=i.data[x.visibility].map(he=>he.id===(te==null?void 0:te.id)?te:he)}else p(O,{amount:i.data[x.visibility].length});return z}catch(q){Re.firebaseError(n.value,q)}finally{b(),i.isLoading[x.visibility].mutation=!1,i.isDatabaseMutationActive=!1}},_=async(F,U,x,O,q)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[O].mutation=!0;const z=o.value.find(te=>te.id===F);if(await M(F,{includeFiles:!1,includeReactions:!1}),z&&await k(F,U,q,{includeTime:!0,fetch:!1})){let te;do i.data[O]=[],await p(q,{visibility:O}),te=o.value.find(he=>he.id===F);while(!te);if(i.visibility=O,te){for(const he of x)await I(he.id,z,{mutatePost:!1,fetch:!1})||Re.error("Failed to delete old Reaction",{debug:n.value}),await L(te,op.convert(he),{includeTime:!0,fetch:!1})||Re.error("Failed to re-create Reaction",{debug:n.value});for(const he of y(z)){const Z=aI(he);await G(Z.name,te)||Re.error("Failed to move Image",{debug:n.value})}return p(q,{amount:a.value.length}),!0}else return Re.error("Failed to re-create Post",{debug:n.value}),!1}else return Re.error("Failed to re-create Post",{debug:n.value}),!1}catch(z){return Re.firebaseError(n.value,z),!1}finally{b(),i.isLoading[O].mutation=!1,i.isDatabaseMutationActive=!1}},M=async(F,U={includeFiles:!0,includeReactions:!0})=>{try{i.isDatabaseDeletionActive=!0;const x=o.value.find(O=>O.id===F);if(x){U.includeReactions&&await E(x),U.includeFiles&&await B(x);const O=Fo(x);return await ul(ct(t,r.blogPosts(O.isPrivate).id,F)),i.data[O.visibility]=i.data[O.visibility].filter(q=>q.id!==F),Re.success("Successfully deleted Post"),!0}return!1}catch(x){return Re.firebaseError(n.value,x),!1}finally{b(),i.isDatabaseDeletionActive=!1}},L=async(F,U,x={includeTime:!1,fetch:!0})=>{try{s.isDatabaseCreationActive=!0;const O=Fo(F),q=ct(t,r.blogPosts(O.isPrivate).id,F.id),z=await si(q);if(z){const te=await $W(r.blogReactions(O.isPrivate),{user:ct(t,r.usersPublic.id,U.userId),message:U.message,date:x!=null&&x.includeTime?Ut.fromDate(U.date):Ut.now(),post:q});if(await ii(ct(t,r.blogPosts(O.isPrivate).id,z.id),{reactions:[...z.reactions??[],te]}),x!=null&&x.fetch){let he=await g(z.id,O,{loadingIndicator:!1});iE(he)&&(he=null),i.data[O.visibility]=i.data[O.visibility].map(Z=>Z.id===z.id?he??Z:Z)}return Re.success("Successfully created Reaction"),!0}return!1}catch(O){return Re.firebaseError(n.value,O),!1}finally{b(),s.isDatabaseCreationActive=!1}},I=async(F,U,x={mutatePost:!0,fetch:!0})=>{var O;try{s.isDatabaseDeletionActive=!0;const q=Fo(U);if(x.mutatePost){const z=ct(t,r.blogPosts(q.isPrivate).id,U.id),te=await si(z);te&&await ii(z,{reactions:((O=te.reactions)==null?void 0:O.filter(he=>he.id!==F))??[]})}return await ul(ct(t,r.blogReactions(q.isPrivate).id,F)),x!=null&&x.fetch&&(U.reactions=U.reactions.filter(z=>z.id!==F),i.data[q.visibility]=i.data[q.visibility].map(z=>z.id===U.id?U:z)),Re.success("Successfully deleted Reaction"),!0}catch(q){return Re.firebaseError(n.value,q),!1}finally{b(),s.isDatabaseDeletionActive=!1}},E=async F=>{try{s.isDatabaseDeletionActive=!0;const U=Fo(F),x=(F==null?void 0:F.reactions)??[];for(const O of x)await ul(ct(t,r.blogReactions(U.isPrivate).id,O.id));return x.length&&Re.success(`Successfully deleted ${x.length} Reaction${x.length!==1?"s":""}`),!0}catch(U){return Re.firebaseError(n.value,U),!1}finally{b(),s.isDatabaseDeletionActive=!1}},y=(F,U)=>{var O,q;const x=[];if(F.coverImageUrl&&(!U||!U.coverImageUrl)&&x.push(F.coverImageUrl),F.sections.length)for(const[z,te]of F.sections.entries()){const he=(q=(O=U==null?void 0:U.sections)==null?void 0:O[z])==null?void 0:q.coverImageUrl,Z=te.coverImageUrl;Z&&(!U||!he)&&x.push(Z)}return x},v=async F=>{try{return await si(ct(t,r.files.path,F))}catch(U){return Re.firebaseError(n.value,U),null}},T=async(F,U,x,O,q,z,te)=>await P(F.name,O,q,z,te)&&await C(F,U,x),C=async(F,U,x)=>{try{const O=m5(F,U);return O.on("state_changed",q=>{const z=q.bytesTransferred/q.totalBytes*100;x(z)}),await O,Re.success("Successfully uploaded File"),!0}catch(O){return Re.firebaseError(n.value,O),!1}},P=async(F,U,x,O,q)=>{try{let z;if(q){const te=Fo(q);z=ct(t,r.blogPosts(te.isPrivate).id,q.id)}return await Io(ct(t,r.files.path,F),{name:U,owner:x,post:z??null,public:O??!1}),!0}catch(z){return Re.firebaseError(n.value,z),!1}},G=async(F,U)=>{try{let x;if(U){const O=Fo(U);x=ct(t,r.blogPosts(O.isPrivate).id,U.id)}return await ii(ct(t,r.files.path,F),{post:x??null}),!0}catch(x){return Re.firebaseError(n.value,x),!1}},$=async(F,U=!1)=>{try{return await ul(ct(t,r.files.path,F.name)),await g5(F),U||Re.success("Successfully deleted File"),!0}catch(x){return Re.firebaseError(n.value,x),!1}},B=async(F,U)=>{try{const x=y(F,U);for(const O of x)await $(aI(O),!0);return x.length&&Re.success(`Successfully deleted ${x.length} File${x.length!==1?"s":""}`),!0}catch(x){return Re.firebaseError(n.value,x),!1}};return{collections:r,blogPosts:i,blogReactions:s,allBlogPosts:o,visibleBlogPosts:a,previousVisibleBlogPosts:l,isBlogPostsFetchLoading:u,isBlogPostsMutationLoading:c,isBlogPostDatabaseActionActive:h,$reset:f,fetchBlogPosts:p,fetchBlogPost:g,setPreviousBlogPosts:b,checkBlogPostForUnreadReactions:A,checkBlogPostsForUnreadReactions:R,createBlogPost:k,updateBlogPost:S,toggleBlogPostVisibility:_,deleteBlogPost:M,createBlogReaction:L,deleteBlogReaction:I,deleteBlogReactionsOfBlogPost:E,getFilesOfPost:y,fetchFileInfo:v,uploadFile:T,createFile:C,createFileInfo:P,updateFileInfo:G,deleteFile:$,deleteFilesOfBlogPost:B}},{persist:{enabled:!0}}),WD=Aa("userStore",()=>{const t=gu(),e=Yl(),n=vm(),{firebaseUser:r}=yo(e),{debug:i}=yo(n),s={users:Nn(t,cn.USERS),usersPublic:Nn(t,cn.USERS_PUBLIC),usersOnline:Nn(t,cn.USERS_ONLINE)},o=fe(null),a=fe(null),l=fe([]),u=fe([]),c=fe([]),h=fe([]),f=fe(!1),p=le(()=>R(a.value,o.value,c.value.find(T=>{var C;return T.id===((C=o.value)==null?void 0:C.id)}))),g=le(()=>c.value.filter(T=>sb(new Date(T.lastOnline))<=60));In(()=>[u.value,l.value,c.value],()=>{h.value=u.value.map(T=>{if(p.value&&p.value.id===T.id)return p.value;const C=l.value.find(G=>G.id===T.id),P=c.value.find(G=>G.id===T.id);return R(T,C,P)}).filter(T=>T!==null).sort((T,C)=>{try{const P=T.lastOnline?new Date(T.lastOnline).getTime():0;return(C.lastOnline?new Date(C.lastOnline).getTime():0)-P}catch{return 0}})});const b=()=>{l.value=[],u.value=[],c.value=[]},A=()=>{o.value=null,a.value=null},R=(T,C,P)=>T?{...C,...T??{displayName:"Anonymous"},lastOnline:(P==null?void 0:P.lastOnline)??null}:null,k=async T=>{const C=T==null?void 0:T.uid;if(C){a.value=await si(ct(t,s.usersPublic.id,C));const P=await si(ct(t,s.users.id,C));P!=null&&(o.value=await Ec.mapIncoming(P))}},S=async()=>{try{const T=await Ci(s.users);l.value=await Promise.all(T.map(async C=>await Ec.mapIncoming(C)))}catch(T){return Re.firebaseError(i.value,T),null}},_=async()=>{try{u.value=await Ci(s.usersPublic)}catch(T){return Re.firebaseError(i.value,T),null}},M=async T=>{try{return await si(ct(t,s.usersPublic.id,T))}catch(C){return Re.firebaseError(i.value,C),null}};return{currentUser:o,publicUser:a,combinedUser:p,users:l,publicUsers:u,onlineUsersInfo:c,onlineUsers:g,combinedUsers:h,isMutationLoading:f,$reset:b,$resetCurrentUser:A,fetchUser:k,fetchUsers:S,fetchPublicUsers:_,fetchPublicUser:M,allowedPublicUsers:async T=>{try{return(await Promise.all(T.map(async P=>{const G=await M(P);return G?{...G,displayName:G.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},fetchOnlineUsers:async()=>{try{const T=await Ci(s.usersOnline);c.value=await Promise.all(T.map(Ty.mapIncoming))}catch{return null}},updateUser:async T=>{try{f.value=!0,o.value&&r.value&&(Tc(Ec.convert(o.value),T)?Re.warning("Nothing changed in your details"):(await ii(ct(t,s.users.id,r.value.uid),{firstName:T.firstName,lastName:T.lastName}),await k(r.value),Re.success("Successfully updated your profile")))}catch(C){Re.firebaseError(!1,C)}finally{f.value=!1}},updatePublicUser:async T=>{try{f.value=!0,r.value&&a.value?Tc(a.value,T)?Re.warning("Nothing changed in your public profile"):(await ii(ct(t,s.usersPublic.id,a.value.id),{displayName:T.displayName,avatar:T.avatar}),await k(r.value),Re.success("Successfully updated your public profile")):r.value?(await Io(ct(t,s.usersPublic.id,r.value.uid),{displayName:T.displayName,avatar:T.avatar}),await k(r.value),Re.success("Successfully updated your public profile")):Re.firebaseError(!1)}catch(C){Re.firebaseError(!1,C)}finally{f.value=!1}},updateOnlineUser:async T=>{try{const C=ct(t,s.usersOnline.id,T);(await Ik(C)).exists()?await ii(C,{lastOnline:Ut.now()}):await Io(C,{lastOnline:Ut.now()})}catch{return null}}}},{persist:{enabled:!0}}),xW=Aa("petStore",()=>{const t=gu(),e=Yl(),n=vm(),{firebaseUser:r}=yo(e),{debug:i}=yo(n),s={pets:Nn(t,cn.PETS)},o=fe([]),a=fe(!1),l=le(()=>o.value.filter(p=>{var g;return p.userId===((g=r.value)==null?void 0:g.uid)})),u=()=>{o.value=[]},c=async(p=!1)=>{var b;const g=(b=r.value)==null?void 0:b.uid;if(g){const A=await Ci(Nn(t,cn.PETS),p?void 0:[p0("userId","==",g)]);o.value=await Promise.all(A.map(async R=>await Ey.mapIncoming(R)))}};return{pets:o,isMutationLoading:a,myPets:l,$reset:u,fetchPets:c,mutatePet:async(p,g)=>{if(r.value)try{if(a.value=!0,r.value){const b={userId:r.value.uid,name:p.name,avatar:p.avatar,dateOfBirth:p.dateOfBirth,type:p.type,breed:p.breed,breedSize:p.breedSize,gender:p.gender,weight:p.weight,insideCat:p.insideCat,castrated:p.castrated,dewormingDate:p.dewormingDate,weightLog:p.weightLog};g?(await ii(ct(s.pets,g),b),Re.success("Successfully updated your Pet")):(await Io(ct(s.pets),b),Re.success("Successfully updated your Pet")),await c()}}catch(b){Re.firebaseError(i.value,b)}finally{a.value=!1}},deletePet:async p=>{try{a.value=!0;const g=o.value.find(b=>b.id===p);g&&(await ul(ct(s.pets,p)),o.value=o.value.filter(b=>b.id!==g.id),Re.success("Successfully deleted your Pet"))}catch(g){Re.firebaseError(i.value,g)}finally{a.value=!1}}}},{persist:{enabled:!0}}),rb=Aa("mainStore",()=>{const t=gu(),e=Yl(),n=WD(),r=xW(),i=HD(),s=vm(),{debug:o,isOnline:a}=yo(s),{isLoggedIn:l}=yo(e),{fetchPublicUsers:u,fetchUsers:c}=n,{fetchBlogPosts:h}=i,{fetchPets:f}=r,p={content:Nn(t,cn.CONTENT),projects:Nn(t,cn.PROJECTS),menuItems:$=>Nn(t,$?cn.MENU_ITEMS_PRIVATE:cn.MENU_ITEMS),menuItemsPrivate:Nn(t,cn.MENU_ITEMS_PRIVATE),usersPublic:Nn(t,cn.USERS_PUBLIC)},g=fe(wy),b=fe(uI),A=fe(dI),R=fe(cI),k=fe(!1),S=fe(null),_=fe(null),M=le(()=>R.value.filter($=>!$.loading)),L=le(()=>A.value.filter($=>!$.loading)),I=le(()=>A.value.filter($=>!$.invisible&&(!$.authenticated||l.value))),E=()=>{g.value=wy,b.value=uI,A.value=dI,R.value=cI},y=()=>{E(),n.$reset(),i.$reset(),r.$reset()},v=async($,B)=>{try{k.value||(k.value=!0,console.log("attempt to fetch all"),(o.value||a.value&&(!L.value.length||B))&&(console.log("fetch all"),y(),await Promise.all([G($),T(),C(),h($),u(),f(!0)]),e.isOwner&&await c()))}catch(F){Re.firebaseError(o.value,F)}finally{k.value=!1}},T=async()=>{try{const $=await si(ct(t,p.content.id,"production"));b.value={...b.value,...$||{}}}catch($){Re.firebaseError(o.value,$)}},C=async()=>{try{const $=await Promise.all((await Ci(p.projects)).map(async B=>({...B,technologies:await Promise.all(B.technologies.map(async F=>await si(F)))})));R.value=$.length?lI($):R.value}catch($){Re.firebaseError(o.value,$)}},P=($,B)=>{const F=R.value.splice($,1)[0];R.value.splice(B,0,F)},G=async $=>{try{let B=await Ci(p.menuItems());if($)try{B=B.concat(await Ci(p.menuItemsPrivate,[p0("allowedUserIds","array-contains",ct(t,p.usersPublic.id,$).id)]))}catch{}return A.value=B.length?lI(B):A.value,A.value}catch(B){Re.firebaseError(o.value,B)}};return{profile:g,content:b,menuItems:A,projects:R,isFetchAllLoading:k,routeLoading:S,routeLoadingId:_,filteredProjects:M,filteredMenuItems:L,visibleMenuItems:I,fetchAll:v,fetchContent:T,fetchProjects:C,moveProject:P,fetchMenuItems:G}},{persist:{enabled:!0}}),Yl=Aa("authStore",()=>{const t=gu(),e=RW(),n=rb(),r=WD(),i=HD(),s=BH(),{$resetCurrentUser:o,fetchUser:a,updatePublicUser:l}=r,u=le(()=>(s==null?void 0:s.value)??null);e.onAuthStateChanged(async I=>{o(),a(I),n.filteredMenuItems.length,i.$patch({blogPosts:{...i.blogPosts,data:{...i.blogPosts.data,private:[]}}}),n.fetchAll(I==null?void 0:I.uid,!0)});const c={users:Nn(t,"users")},h=fe(!1),f=fe(!1),p=le(()=>!!u.value),g=le(()=>{var I;return((I=u.value)==null?void 0:I.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}),b=async(I,E)=>{try{h.value=!0;const{user:y}=await Ij(e,I,E);await _(y.uid),await a(y),n.fetchAll(y.uid,!0),Re.success("Successfully logged in",{route:kn.DASHBOARD})}catch(y){Re.firebaseError(!1,y)}finally{h.value=!1}},A=async(I,E,y)=>{try{h.value=!0;const{user:v}=await Ej(e,I,E);await Io(ct(t,c.users.id,v.uid),{firstName:y,createdAt:new Date}),await l({displayName:"Anonymous",avatar:""}),await a(v),Re.success("Successfully created your account",{route:kn.DASHBOARD})}catch(v){Re.firebaseError(!1,v)}finally{h.value=!1}},R=async(I,E)=>{try{if(h.value=!0,u.value&&u.value.email){const y=To.credential(u.value.email,E);await pE(u.value,y),await Sj(u.value,I),Re.success("Successfully changed your e-mail")}}catch(y){Re.firebaseError(!1,y)}finally{h.value=!1}},k=async(I,E)=>{try{if(h.value=!0,u.value&&u.value.email){const y=To.credential(u.value.email,E);await pE(u.value,y),await Aj(u.value,I),Re.success("Successfully changed your password")}}catch(y){Re.firebaseError(!1,y)}finally{h.value=!1}},S=async I=>{try{await Tj(e,I),Re.success("Successfully requested password reset")}catch(E){Re.firebaseError(!1,E)}},_=async I=>{try{await ii(ct(t,c.users.id,I),{lastLogin:new Date})}catch(E){Re.firebaseError(!1,E)}};return{firebaseUser:u,isLoggedIn:p,isLoginLoading:h,isLogoutLoading:f,isOwner:g,login:b,register:A,updateMail:R,updatePassword:k,resetPassword:S,updateUserLastLogin:_,logout:async()=>{try{f.value=!0,await Oj(e),n.fetchAll(void 0,!0),Re.success("Successfully logged out",{route:kn.HOME})}catch(I){Re.firebaseError(!1,I)}finally{f.value=!1}},deleteAccount:async()=>{try{f.value=!0,u.value&&(await ul(ct(t,c.users.id,u.value.uid)),await Pj(u.value),Re.success("Successfully deleted your account",{route:kn.HOME}))}catch(I){Re.firebaseError(!1,I)}finally{f.value=!1}}}},{persist:{enabled:!0}});var NW=(t=>(t.YAHTZEE="yahtzee",t.RAINWORMS="rainworms",t.PATIENCE="patience",t))(NW||{});const Dg=()=>({gameData:{highscores:[],scores:[]},previousPersonalBest:null,previousHighscorePosition:null}),oI=()=>({yahtzee:Dg(),rainworms:Dg(),patience:Dg()}),MW=Aa("gameStore",()=>{const t=gu(),e=Yl(),{firebaseUser:n}=yo(e),r=fe("yahtzee"),i=fe(!0),s=fe(1.5),o=fe(!1),a=Dr(oI()),l=le(()=>({gameData:Nn(t,cn.GAME_DATA),highscores:Nn(t,cn.GAME_DATA,r.value,cn.HIGHSCORES),scores:Nn(t,cn.GAME_DATA,r.value,cn.SCORES)})),u=le(()=>{var L,I;const _=(L=n.value)==null?void 0:L.uid;return _?((I=a[r.value].gameData.highscores.find(E=>E.id===_))==null?void 0:I.score)??0:0}),c=le(()=>{var I;const _=(I=n.value)==null?void 0:I.uid;return _?a[r.value].gameData.highscores.findIndex(E=>E.id===_)+1:0}),h=_=>{r.value=_??"yahtzee"},f=()=>{Object.assign(a,oI())},p=(_=!1)=>{if(n.value){const M=a[r.value];(!_||M.previousPersonalBest===null)&&(M.previousPersonalBest=u.value),(!_||M.previousHighscorePosition===null)&&(M.previousHighscorePosition=c.value)}},g=async()=>{await b(),await A()},b=async()=>{try{o.value=!0;const _=await Ci(l.value.highscores);a[r.value].gameData.highscores=await Promise.all(_.map(ap.Highscore.mapIncoming)),S("highscores"),p(!0)}catch(_){Re.firebaseError(!0,_)}finally{o.value=!1}},A=async()=>{try{o.value=!0;const _=await Ci(l.value.scores);a[r.value].gameData.scores=await Promise.all(_.map(ap.Highscore.mapIncoming)),S("scores")}catch(_){Re.firebaseError(!0,_)}finally{o.value=!1}},R=async _=>{var M;try{const L=(M=n.value)==null?void 0:M.uid;if(!L)return!1;if(_.score){await k(_),await b();const I=a[r.value].gameData,E=I.highscores.find(y=>y.id===L);if(!E||E.score<_.score){p();const y={score:_.score,userId:L,date:new Date().toString(),bonus:(_==null?void 0:_.bonus)??null,turns:(_==null?void 0:_.turns)??null,time:(_==null?void 0:_.time)??null,penalty:(_==null?void 0:_.penalty)??null,difficulty:(_==null?void 0:_.difficulty)??null},v={id:L,...y},T=ct(l.value.highscores,L);if(E){try{await ii(T,y)}catch(C){console.log(C)}Object.assign(E,v)}else await Io(T,y),I.highscores.push(v);return S("highscores"),!0}}return!1}catch(L){return Re.firebaseError(!0,L),!1}},k=async _=>{var M;try{const L=(M=n.value)==null?void 0:M.uid;if(!L)return!1;const I=a[r.value].gameData,E={score:_.score,userId:L,date:new Date().toString(),bonus:(_==null?void 0:_.bonus)??null,turns:(_==null?void 0:_.turns)??null,time:(_==null?void 0:_.time)??null,penalty:(_==null?void 0:_.penalty)??null,difficulty:(_==null?void 0:_.difficulty)??null},y=ct(l.value.scores);return await Io(y,E),I.scores.push({id:y.id,...E}),S("scores"),!0}catch(L){return Re.firebaseError(!0,L),!1}},S=_=>{a[r.value].gameData[_].sort((M,L)=>L.score-M.score)};return{useAudio:i,diceRollSpeed:s,fetchLoading:o,allGameData:a,personalBest:u,highscorePosition:c,$init:h,$reset:f,setPreviousHighscores:p,fetchGameData:g,fetchHighscores:b,fetchScores:A,updateHighscores:R,sortHighscores:S}},{persist:{enabled:!0}}),LW=1e3,VW=LW*60,FW=VW*60,ib=FW*24,sp=ib*365,qD=async t=>{const e=await Ik(t),n=e.data();return n?{id:e.id,...n}:null},Ci=async(t,e)=>{const n=await eB(e?G9(t,...e):t);return Promise.all(n.docs.map(r=>qD(r.ref)))},si=qD,$W=iB,Io=tB,ii=nB,ul=rB,aI=t=>v5(y5(),t),lI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),Dre=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},Tc=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!Tc(a,o[l])||o.some((u,c)=>!Tc(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!Tc(r,i))return!1}else if(r!==i)return!1}return!0},sb=t=>Math.round((Date.now()-t.getTime())/1e3),xre=t=>UW(new Date(t)),zD={month:"long",day:"numeric"},KD={year:"numeric",month:"long",day:"numeric"},UW=t=>new Date().getTime()-t.getTime()>0?BW(t):jW(t),BW=t=>{try{const e=sb(t);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/sp,o=r%sp/ib,a=t.toLocaleDateString("en-GB",i<=1?zD:KD);if(o<=7){const l={weekday:"long"};return t.toLocaleDateString("en-GB",l)}else return a}}}catch{return"Unknown"}},jW=t=>{try{const e=sb(t)*-1;if(e<30)return"Now";if(e<60)return`In ${e} second${e!==1?"s":""}`;if(e<60*60){const n=Math.floor(e/60);return`In ${n} minute${n!==1?"s":""}`}else if(e<60*60*24){const n=Math.floor(e/3600);return`In ${n} hour${n!==1?"s":""}`}else{if(e<60*60*24*2)return"Tomorrow";{const n=new Date,r=t.getTime()-n.getTime(),i=r/sp,o=r%sp/ib,a=t.toLocaleDateString("en-GB",i<=1?zD:KD);if(o<=7){const l={weekday:"long"};return t.toLocaleDateString("en-GB",l)}else return a}}}catch{return"Unknown"}},Nre=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},Mre=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},Lre=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Fo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Vre=t=>Array.isArray(t)?t:[t],Fre=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},$re=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),Ure=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},Bre=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},HW=()=>A5(),jre=(t,e)=>{const n=Math.floor(Math.random()*t)+1;return e&&n>=e?n:e??n},Hre=t=>{let e=t.length;for(;e!=0;){let n=Math.floor(Math.random()*e);e--,[t[e],t[n]]=[t[n],t[e]]}},Wre={value:new Audio("/sounds/applause-and-cheer.mp3"),startTime:0},GD={value:new Audio("/sounds/clicksound-1.m4a"),startTime:0},YD={value:new Audio("/sounds/roll-dices-1.m4a"),startTime:0};GD.value.preload="auto";YD.value.preload="auto";const qre=t=>{const{useAudio:e}=MW();if(!e)return;[GD,YD].forEach(r=>{r.value!==t.value&&(r.value.pause(),r.value.currentTime=r.startTime)}),t.value.currentTime=t.startTime,t.value.play()},wy={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},uI={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},cI=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],dI=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],zre=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Ui;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",date:e.date.toDate().toString(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate().toString())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate().toString())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await si(l)))??[])).map(async l=>op.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??HW(),subTitle:l.subTitle??"",alignment:l.alignment??"center",tableAlignment:l.tableAlignment??"left",countdown:((u=l.countdown)==null?void 0:u.toDate().toString())??null,timer:((c=l.timer)==null?void 0:c.toDate().toString())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??"",openByDefault:l.openByDefault??!1}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate().toString())??null,timer:((a=e.timer)==null?void 0:a.toDate().toString())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",sections:e.sections.map(n=>({...n,countdown:n.countdown?new Date(n.countdown):null,timer:n.timer?new Date(n.timer):null}))??[],date:new Date(e.date),dateUpdated:e.dateUpdated?new Date(e.dateUpdated):null,datePinned:e.datePinned?new Date(e.datePinned):null,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown?new Date(e.countdown):null,timer:e.timer?new Date(e.timer):null,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,tableAlignment:n.tableAlignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","tableAlignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Ui||(Ui={}));var op;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await si(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate().toString()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:new Date(e.date)})})(op||(op={}));var Ec;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate().toString(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate().toString()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(Ec||(Ec={}));var hI;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(hI||(hI={}));var Ty;(t=>{t.mapIncoming=async e=>({...e,lastOnline:e.lastOnline.toDate().toString()})})(Ty||(Ty={}));const Kre=[{label:"Cat",value:"cat"},{label:"Dog",value:"dog"},{label:"Other",value:"other"}],Gre=[{label:"Male",value:"male"},{label:"Female",value:"female"}],Yre=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Giant",value:"giant"}];var Ey;(t=>{t.convert=e=>({userId:e.userId,name:e.name,avatar:e.avatar??null,dateOfBirth:e.dateOfBirth?new Date(e.dateOfBirth):null,type:e.type??null,breed:e.breed??null,breedSize:e.breedSize??null,gender:e.gender??null,weight:e.weight??null,insideCat:e.insideCat??null,castrated:e.castrated??!1,dewormingDate:e.dewormingDate?new Date(e.dewormingDate):null,weightLog:e.weightLog?e.weightLog.map(n=>({...n,date:new Date(n.date)})):[]}),t.mapIncoming=async e=>{var n,r,i;return{...e,dateOfBirth:((n=e.dateOfBirth)==null?void 0:n.toDate().toString())??null,dewormingDate:((r=e.dewormingDate)==null?void 0:r.toDate().toString())??null,weightLog:((i=e.weightLog)==null?void 0:i.map(s=>({...s,date:s.date.toDate().toString()})))??[]}}})(Ey||(Ey={}));var ap;(t=>{t.mapIncoming=async n=>({...n,highscores:await Promise.all(n.highscores.map(e.mapIncoming)),scores:await Promise.all(n.scores.map(e.mapIncoming))});let e;(n=>{n.mapIncoming=async r=>{var i;return{...r,userId:r.userId??null,date:((i=r.date)==null?void 0:i.toDate().toString())??new Date().toString(),bonus:r.bonus??null,turns:r.turns??null,time:r.time??null,penalty:r.penalty??null,difficulty:r.difficulty??null}}})(e=t.Highscore||(t.Highscore={}))})(ap||(ap={}));const QD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],Qre=t=>QD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),Xre=QD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),Jre=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],fI=()=>ir(()=>import("./assets/c-Blog-BaYEM09x.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url),WW=()=>ir(()=>import("./assets/c-Tools-BANihaQs.js"),__vite__mapDeps([16,2,3]),import.meta.url),qW=()=>ir(()=>import("./assets/c-CatCalc-CQ0dHVpy.js"),__vite__mapDeps([17,2,15,8,7,18]),import.meta.url),zW=()=>ir(()=>import("./assets/c-CustomVoting-Ckd0erM-.js"),__vite__mapDeps([19,2,3,9,20,10,11,21]),import.meta.url),KW=()=>ir(()=>import("./assets/c-Dashboard-Dx-1xkVv.js"),__vite__mapDeps([22,2,1,23,7,8,13,3]),import.meta.url),GW=()=>ir(()=>import("./assets/c-Home-CAJYzgah.js"),__vite__mapDeps([24,3,2,25,20,26,27,4,5,6,7,8,9,10,11]),import.meta.url),YW=()=>ir(()=>import("./assets/c-Login-Ckfgw4Cn.js"),__vite__mapDeps([28,2,23,7,8,3]),import.meta.url),QW=()=>ir(()=>import("./assets/c-NotFound-D7bJ6Zjb.js"),__vite__mapDeps([29,2,3]),import.meta.url),XW=()=>ir(()=>import("./assets/c-Pet-DtdGbUlI.js"),__vite__mapDeps([30,2,3,31,1,12,13,7,8,15,9,5,6,18,20,32]),import.meta.url),JW=()=>ir(()=>import("./assets/c-Pets-DsBrpZbQ.js"),__vite__mapDeps([33,2,3,31,1,12,13,7,8,15,9]),import.meta.url),ZW=()=>ir(()=>import("./assets/c-User-C7QJAVfB.js"),__vite__mapDeps([34,2,3,20,35]),import.meta.url),eq=()=>ir(()=>import("./assets/c-Users-CUxmLY_z.js"),__vite__mapDeps([36,2,3]),import.meta.url),tq=()=>ir(()=>import("./assets/c-Register-C_krYUZ1.js"),__vite__mapDeps([37,2,23,7,8,3]),import.meta.url),nq=()=>ir(()=>import("./assets/c-Games-fMEsPwDE.js"),__vite__mapDeps([38,2,3,39,1,15,8,26,20,27,25]),import.meta.url),rq=()=>ir(()=>import("./assets/c-Yahtzee-BrsUxnXP.js"),__vite__mapDeps([40,2,27,41,20,42,39,1,15,8,43]),import.meta.url),iq=()=>ir(()=>import("./assets/c-Rainworms-C8kgixdK.js"),__vite__mapDeps([44,2,41,20,42,39,1,15,8,26]),import.meta.url),sq=()=>ir(()=>import("./assets/c-Patience-BJeXYYVY.js"),__vite__mapDeps([45,2,39,1,15,8,41,20,42,25,14,46]),import.meta.url),oq={HOME:{path:"/",meta:{title:"Home"},component:GW,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Kd.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:YW,beforeEnter:(t,e,n)=>{Yl().isLoggedIn?n({name:kn.DASHBOARD}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:tq,beforeEnter:(t,e,n)=>{Yl().isLoggedIn?n({name:kn.DASHBOARD}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:KW},PET_OVERVIEW:{path:"/pets",meta:{title:"Pets"},component:JW},PET_DETAILS:{path:"/pets/:petId",meta:{title:"Pet"},component:XW},USER_OVERVIEW:{path:"/users",meta:{title:"Users"},component:eq},USER_DETAILS:{path:"/users/:userId",meta:{title:"User"},component:ZW},BLOG:{path:"/blog",meta:{title:"Blog"},component:fI},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:fI},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:zW},TOOLS:{path:"/tools",meta:{title:"Tools"},component:WW,children:[{name:ec.TOOLS_CAT_CALC,path:"/tools/cat-calc",meta:{title:"CatCalc"},component:qW}]},GAMES:{path:"/games",meta:{title:"Games"},component:nq,children:[{name:ec.GAMES_YAHTZEE,path:"/games/yahtzee",meta:{title:"Yahtzee"},component:rq},{name:ec.GAMES_RAINWORMS,path:"/games/rainworms",meta:{title:"Rainworms"},component:iq},{name:ec.GAMES_PATIENCE,path:"/games/patience",meta:{title:"Patience"},component:sq}]},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:QW}},XD=Object.entries(oq).map(([t,e])=>({...e,name:kn[t]})),Kd=XV({history:CV(),routes:XD,scrollBehavior(t,e,n){return n||((t.name===kn.LOGIN||t.name===kn.REGISTER)&&(e.name===kn.LOGIN||e.name===kn.REGISTER)?!1:{top:0})}}),pI=wy.name;Kd.beforeEach(async(t,e,n)=>{var r,i,s;if(t===e)n();else if(!t.name)n({name:kn.NOT_FOUND});else{const o=t.name,a=rb();if(a.routeLoading=o,a.routeLoadingId=((r=t.params.postId)==null?void 0:r.toString())||((i=t.params.userId)==null?void 0:i.toString())||((s=t.params.petId)==null?void 0:s.toString())||null,[kn.HOME,kn.LOGIN,kn.REGISTER,kn.DASHBOARD,kn.NOT_FOUND].includes(o))n();else{const u=await jH(),c=await a.fetchMenuItems(u==null?void 0:u.uid);(c==null?void 0:c.some(f=>f.authenticated&&!u?!1:f.route?o===f.route||XD.some(p=>{var g;return(g=p.children)==null?void 0:g.some(b=>b.name===o)}):f.url?t.path.startsWith(f.url):!1))?n():n({name:kn.NOT_FOUND})}}});Kd.afterEach(()=>{const t=rb();t.routeLoading=null});Kd.beforeResolve(t=>{document.title=pI+" | "+t.meta.title||pI;const e=BO();jO(e,"screen_view",{screen_name:t.path})});const JD=Kd;function fi(t){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(t)}function Xe(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ze(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||fi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ms(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Oi(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function ZD(t,e){if(Ve(2,arguments),!e||fi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=ze(t),c=r||n?Oi(u,r+n*12):u,h=s||i?ms(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,b=new Date(h.getTime()+g);return b}function aq(t,e){Ve(2,arguments);var n=ze(t).getTime(),r=Xe(e);return new Date(n+r)}var lq={};function is(){return lq}function ba(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=is(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function lp(t){return Ve(1,arguments),ba(t,{weekStartsOn:1})}function uq(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=lp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=lp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cq(t){Ve(1,arguments);var e=uq(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=lp(n);return r}function up(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function mI(t){Ve(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var dq=864e5;function hq(t,e){Ve(2,arguments);var n=mI(t),r=mI(e),i=n.getTime()-up(n),s=r.getTime()-up(r);return Math.round((i-s)/dq)}function fq(t,e){Ve(2,arguments);var n=Xe(e),r=n*3;return Oi(t,r)}function ob(t,e){Ve(2,arguments);var n=Xe(e);return Oi(t,n*12)}var ab=6e4,lb=36e5,pq=1e3;function ex(t){return Ve(1,arguments),t instanceof Date||fi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ic(t){if(Ve(1,arguments),!ex(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function gI(t){Ve(1,arguments);var e=ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function tx(t,e){var n;Ve(1,arguments);var r=t||{},i=ze(r.start),s=ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function rd(t){Ve(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function mq(t){Ve(1,arguments);var e=t||{},n=ze(e.start),r=ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=rd(n),o=rd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ze(l)),l=fq(l,1);return a}function gq(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function vq(t){Ve(1,arguments);var e=ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function yq(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=is(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function vI(t){Ve(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function nx(t,e){Ve(2,arguments);var n=Xe(e);return aq(t,-n)}var _q=864e5;function bq(t){Ve(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/_q)+1}function Ql(t){Ve(1,arguments);var e=1,n=ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function rx(t){Ve(1,arguments);var e=ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ql(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Ql(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function wq(t){Ve(1,arguments);var e=rx(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ql(n);return r}var Tq=6048e5;function ix(t){Ve(1,arguments);var e=ze(t),n=Ql(e).getTime()-wq(e).getTime();return Math.round(n/Tq)+1}function wa(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=is(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function ub(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ze(t),h=c.getUTCFullYear(),f=is(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var b=wa(g,e),A=new Date(0);A.setUTCFullYear(h,0,p),A.setUTCHours(0,0,0,0);var R=wa(A,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function Eq(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=is(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=ub(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=wa(p,e);return g}var Iq=6048e5;function sx(t,e){Ve(1,arguments);var n=ze(t),r=wa(n,e).getTime()-Eq(n,e).getTime();return Math.round(r/Iq)+1}function $t(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Sq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return $t(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$t(r+1,2)},d:function(e,n){return $t(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $t(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $t(e.getUTCHours(),n.length)},m:function(e,n){return $t(e.getUTCMinutes(),n.length)},s:function(e,n){return $t(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return $t(s,n.length)}};const Bs=Sq;var Ka={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Aq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Bs.y(e,n)},Y:function(e,n,r,i){var s=ub(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return $t(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):$t(o,n.length)},R:function(e,n){var r=rx(e);return $t(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $t(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return $t(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return $t(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Bs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return $t(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=sx(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,n.length)},I:function(e,n,r){var i=ix(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):$t(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Bs.d(e,n)},D:function(e,n,r){var i=bq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):$t(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return $t(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return $t(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return $t(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Ka.noon:i===0?s=Ka.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Ka.evening:i>=12?s=Ka.afternoon:i>=4?s=Ka.morning:s=Ka.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Bs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Bs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Bs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Bs.s(e,n)},S:function(e,n){return Bs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return _I(o);case"XXXX":case"XX":return Bo(o);case"XXXXX":case"XXX":default:return Bo(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return _I(o);case"xxxx":case"xx":return Bo(o);case"xxxxx":case"xxx":default:return Bo(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+yI(o,":");case"OOOO":default:return"GMT"+Bo(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+yI(o,":");case"zzzz":default:return"GMT"+Bo(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return $t(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return $t(o,n.length)}};function yI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+$t(s,2)}function _I(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$t(Math.abs(t)/60,2)}return Bo(t,e)}function Bo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=$t(Math.floor(i/60),2),o=$t(i%60,2);return r+s+n+o}var bI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},ox=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Cq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return bI(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",bI(i,n)).replace("{{time}}",ox(s,n))},Iy={p:ox,P:Cq},Oq=["D","DD"],Pq=["YY","YYYY"];function ax(t){return Oq.indexOf(t)!==-1}function lx(t){return Pq.indexOf(t)!==-1}function cp(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var kq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rq=function(e,n,r){var i,s=kq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Dq=Rq;function xg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var xq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lq={date:xg({formats:xq,defaultWidth:"full"}),time:xg({formats:Nq,defaultWidth:"full"}),dateTime:xg({formats:Mq,defaultWidth:"full"})};const Vq=Lq;var Fq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$q=function(e,n,r,i){return Fq[e]};const Uq=$q;function Uu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Bq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Gq={ordinalNumber:Kq,era:Uu({values:Bq,defaultWidth:"wide"}),quarter:Uu({values:jq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Uu({values:Hq,defaultWidth:"wide"}),day:Uu({values:Wq,defaultWidth:"wide"}),dayPeriod:Uu({values:qq,defaultWidth:"wide",formattingValues:zq,defaultFormattingWidth:"wide"})};const Yq=Gq;function Bu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Xq(a,function(h){return h.test(o)}):Qq(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Qq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Xq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Jq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Zq=/^(\d+)(th|st|nd|rd)?/i,ez=/\d+/i,tz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nz={any:[/^b/i,/^(a|c)/i]},rz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iz={any:[/1/i,/2/i,/3/i,/4/i]},sz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},az={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dz={ordinalNumber:Jq({matchPattern:Zq,parsePattern:ez,valueCallback:function(e){return parseInt(e,10)}}),era:Bu({matchPatterns:tz,defaultMatchWidth:"wide",parsePatterns:nz,defaultParseWidth:"any"}),quarter:Bu({matchPatterns:rz,defaultMatchWidth:"wide",parsePatterns:iz,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Bu({matchPatterns:sz,defaultMatchWidth:"wide",parsePatterns:oz,defaultParseWidth:"any"}),day:Bu({matchPatterns:az,defaultMatchWidth:"wide",parsePatterns:lz,defaultParseWidth:"any"}),dayPeriod:Bu({matchPatterns:uz,defaultMatchWidth:"any",parsePatterns:cz,defaultParseWidth:"any"})};const hz=dz;var fz={code:"en-US",formatDistance:Dq,formatLong:Vq,formatRelative:Uq,localize:Yq,match:hz,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ux=fz;var pz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gz=/^'([^]*?)'?$/,vz=/''/g,yz=/[a-zA-Z]/;function co(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,b,A,R,k,S,_;Ve(2,arguments);var M=String(e),L=is(),I=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:ux,E=Xe((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:L.firstWeekContainsDate)!==null&&o!==void 0?o:(h=L.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=Xe((p=(g=(b=(A=n==null?void 0:n.weekStartsOn)!==null&&A!==void 0?A:n==null||(R=n.locale)===null||R===void 0||(k=R.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&b!==void 0?b:L.weekStartsOn)!==null&&g!==void 0?g:(S=L.locale)===null||S===void 0||(_=S.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var v=ze(t);if(!Ic(v))throw new RangeError("Invalid time value");var T=up(v),C=nx(v,T),P={firstWeekContainsDate:E,weekStartsOn:y,locale:I,_originalDate:v},G=M.match(mz).map(function($){var B=$[0];if(B==="p"||B==="P"){var F=Iy[B];return F($,I.formatLong)}return $}).join("").match(pz).map(function($){if($==="''")return"'";var B=$[0];if(B==="'")return _z($);var F=Aq[B];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&lx($)&&cp($,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ax($)&&cp($,e,String(t)),F(C,$,I.localize,P);if(B.match(yz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return $}).join("");return G}function _z(t){var e=t.match(gz);return e?e[1].replace(vz,"'"):t}function bz(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function wz(t){Ve(1,arguments);var e=ze(t),n=e.getDay();return n}function Tz(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Pi(t){Ve(1,arguments);var e=ze(t),n=e.getHours();return n}var Ez=6048e5;function Iz(t){Ve(1,arguments);var e=ze(t),n=lp(e).getTime()-cq(e).getTime();return Math.round(n/Ez)+1}function es(t){Ve(1,arguments);var e=ze(t),n=e.getMinutes();return n}function Et(t){Ve(1,arguments);var e=ze(t),n=e.getMonth();return n}function Xl(t){Ve(1,arguments);var e=ze(t),n=e.getSeconds();return n}function Sz(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ze(t),h=c.getFullYear(),f=is(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var b=ba(g,e),A=new Date(0);A.setFullYear(h,0,p),A.setHours(0,0,0,0);var R=ba(A,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function Az(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=is(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Sz(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=ba(p,e);return g}var Cz=6048e5;function Oz(t,e){Ve(1,arguments);var n=ze(t),r=ba(n,e).getTime()-Az(n,e).getTime();return Math.round(r/Cz)+1}function ut(t){return Ve(1,arguments),ze(t).getFullYear()}function id(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()>r.getTime()}function sd(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()<r.getTime()}function cl(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()===r.getTime()}function wI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Pz(t,e){if(t){if(typeof t=="string")return wI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wI(t,e):void 0}}function TI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Pz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sy(t,e)}function It(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dp(t)}function cx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cx=function(){return!!t})()}function kz(t,e){if(e&&(fi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(t)}function St(t){var e=cx();return function(){var n,r=dp(t);if(e){var i=dp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kz(this,n)}}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rz(t,e){if(fi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dx(t){var e=Rz(t,"string");return fi(e)=="symbol"?e:e+""}function EI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dx(r.key),r)}}function _t(t,e,n){return e&&EI(t.prototype,e),n&&EI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function De(t,e,n){return(e=dx(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dz=10,hx=function(){function t(){yt(this,t),De(this,"priority",void 0),De(this,"subPriority",0)}return _t(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),xz=function(t){It(n,t);var e=St(n);function n(r,i,s,o,a){var l;return yt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return _t(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(hx),Nz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",Dz),De(Le(r),"subPriority",-1),r}return _t(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(hx),xt=function(){function t(){yt(this,t),De(this,"incompatibleTokens",void 0),De(this,"priority",void 0),De(this,"subPriority",void 0)}return _t(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new xz(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Mz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",140),De(Le(r),"incompatibleTokens",["R","u","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Tn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Hi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function En(t,e){return t&&{value:e(t.value),rest:t.rest}}function fn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Wi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*lb+s*ab+o*pq),rest:e.slice(n[0].length)}}function fx(t){return fn(Tn.anyDigitsSigned,t)}function vn(t,e){switch(t){case 1:return fn(Tn.singleDigit,e);case 2:return fn(Tn.twoDigits,e);case 3:return fn(Tn.threeDigits,e);case 4:return fn(Tn.fourDigits,e);default:return fn(new RegExp("^\\d{1,"+t+"}"),e)}}function hp(t,e){switch(t){case 1:return fn(Tn.singleDigitSigned,e);case 2:return fn(Tn.twoDigitsSigned,e);case 3:return fn(Tn.threeDigitsSigned,e);case 4:return fn(Tn.fourDigitsSigned,e);default:return fn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function cb(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function px(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function mx(t){return t%400===0||t%4===0&&t%100!==0}var Lz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return En(vn(4,i),a);case"yo":return En(o.ordinalNumber(i,{unit:"year"}),a);default:return En(vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=px(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Vz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return En(vn(4,i),a);case"Yo":return En(o.ordinalNumber(i,{unit:"year"}),a);default:return En(vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=ub(i,a);if(o.isTwoDigitYear){var u=px(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),wa(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),wa(i,a)}}]),n}(xt),Fz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return hp(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Ql(a)}}]),n}(xt),$z=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return hp(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Uz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",120),De(Le(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return vn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Bz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",120),De(Le(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return vn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),jz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),De(Le(r),"priority",110),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return En(fn(Tn.month,i),a);case"MM":return En(vn(2,i),a);case"Mo":return En(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Hz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",110),De(Le(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return En(fn(Tn.month,i),a);case"LL":return En(vn(2,i),a);case"Lo":return En(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function Wz(t,e,n){Ve(2,arguments);var r=ze(t),i=Xe(e),s=sx(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var qz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",100),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return fn(Tn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return wa(Wz(i,o,a),a)}}]),n}(xt);function zz(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e),i=ix(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Kz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",100),De(Le(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return fn(Tn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Ql(zz(i,o))}}]),n}(xt),Gz=[31,28,31,30,31,30,31,31,30,31,30,31],Yz=[31,29,31,30,31,30,31,31,30,31,30,31],Qz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"subPriority",1),De(Le(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return fn(Tn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=mx(o),l=i.getUTCMonth();return a?s>=1&&s<=Yz[l]:s>=1&&s<=Gz[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Xz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"subpriority",1),De(Le(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return fn(Tn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=mx(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function db(t,e,n){var r,i,s,o,a,l,u,c;Ve(2,arguments);var h=is(),f=Xe((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(t),g=Xe(e),b=p.getUTCDay(),A=g%7,R=(A+7)%7,k=(R<f?7:0)+g-b;return p.setUTCDate(p.getUTCDate()+k),p}var Jz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=db(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Zz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return En(vn(s.length,i),l);case"eo":return En(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=db(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),eK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return En(vn(s.length,i),l);case"co":return En(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=db(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function tK(t,e){Ve(2,arguments);var n=Xe(e);n%7===0&&(n=n-7);var r=1,i=ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var nK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return vn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return En(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return En(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return En(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return En(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=tK(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),rK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(cb(o),0,0,0),i}}]),n}(xt),iK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(cb(o),0,0,0),i}}]),n}(xt),sK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["a","b","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(cb(o),0,0,0),i}}]),n}(xt),oK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["H","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return fn(Tn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),aK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return fn(Tn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(xt),lK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["h","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return fn(Tn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),uK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return fn(Tn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(xt),cK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",60),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return fn(Tn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(xt),dK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",50),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return fn(Tn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(xt),hK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",30),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return En(vn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(xt),fK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",10),De(Le(r),"incompatibleTokens",["t","T","x"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Wi(Hi.basicOptionalMinutes,i);case"XX":return Wi(Hi.basic,i);case"XXXX":return Wi(Hi.basicOptionalSeconds,i);case"XXXXX":return Wi(Hi.extendedOptionalSeconds,i);case"XXX":default:return Wi(Hi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),pK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",10),De(Le(r),"incompatibleTokens",["t","T","X"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Wi(Hi.basicOptionalMinutes,i);case"xx":return Wi(Hi.basic,i);case"xxxx":return Wi(Hi.basicOptionalSeconds,i);case"xxxxx":return Wi(Hi.extendedOptionalSeconds,i);case"xxx":default:return Wi(Hi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),mK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",40),De(Le(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return fx(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(xt),gK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",20),De(Le(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return fx(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(xt),vK={G:new Mz,y:new Lz,Y:new Vz,R:new Fz,u:new $z,Q:new Uz,q:new Bz,M:new jz,L:new Hz,w:new qz,I:new Kz,d:new Qz,D:new Xz,E:new Jz,e:new Zz,c:new eK,i:new nK,a:new rK,b:new iK,B:new sK,h:new oK,H:new aK,K:new lK,k:new uK,m:new cK,s:new dK,S:new hK,X:new fK,x:new pK,t:new mK,T:new gK},yK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_K=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bK=/^'([^]*?)'?$/,wK=/''/g,TK=/\S/,EK=/[a-zA-Z]/;function Ay(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,b,A,R,k,S,_,M;Ve(3,arguments);var L=String(t),I=String(e),E=is(),y=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:E.locale)!==null&&i!==void 0?i:ux;if(!y.match)throw new RangeError("locale must contain match property");var v=Xe((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&a!==void 0?a:(f=E.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Xe((g=(b=(A=(R=r==null?void 0:r.weekStartsOn)!==null&&R!==void 0?R:r==null||(k=r.locale)===null||k===void 0||(S=k.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&A!==void 0?A:E.weekStartsOn)!==null&&b!==void 0?b:(_=E.locale)===null||_===void 0||(M=_.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&g!==void 0?g:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return L===""?ze(n):new Date(NaN);var C={firstWeekContainsDate:v,weekStartsOn:T,locale:y},P=[new Nz],G=I.match(_K).map(function(ie){var X=ie[0];if(X in Iy){var ce=Iy[X];return ce(ie,y.formatLong)}return ie}).join("").match(yK),$=[],B=TI(G),F;try{var U=function(){var X=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&lx(X)&&cp(X,I,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ax(X)&&cp(X,I,t);var ce=X[0],be=vK[ce];if(be){var ne=be.incompatibleTokens;if(Array.isArray(ne)){var D=$.find(function(j){return ne.includes(j.token)||j.token===ce});if(D)throw new RangeError("The format string mustn't contain `".concat(D.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));$.push({token:ce,fullToken:X});var V=be.run(L,X,y.match,C);if(!V)return{v:new Date(NaN)};P.push(V.setter),L=V.rest}else{if(ce.match(EK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ce+"`");if(X==="''"?X="'":ce==="'"&&(X=IK(X)),L.indexOf(X)===0)L=L.slice(X.length);else return{v:new Date(NaN)}}};for(B.s();!(F=B.n()).done;){var x=U();if(fi(x)==="object")return x.v}}catch(ie){B.e(ie)}finally{B.f()}if(L.length>0&&TK.test(L))return new Date(NaN);var O=P.map(function(ie){return ie.priority}).sort(function(ie,X){return X-ie}).filter(function(ie,X,ce){return ce.indexOf(ie)===X}).map(function(ie){return P.filter(function(X){return X.priority===ie}).sort(function(X,ce){return ce.subPriority-X.subPriority})}).map(function(ie){return ie[0]}),q=ze(n);if(isNaN(q.getTime()))return new Date(NaN);var z=nx(q,up(q)),te={},he=TI(O),Z;try{for(he.s();!(Z=he.n()).done;){var H=Z.value;if(!H.validate(z,C))return new Date(NaN);var Q=H.set(z,te,C);Array.isArray(Q)?(z=Q[0],bz(te,Q[1])):z=Q}}catch(ie){he.e(ie)}finally{he.f()}return z}function IK(t){return t.match(bK)[1].replace(wK,"'")}function II(t,e){Ve(2,arguments);var n=rd(t),r=rd(e);return n.getTime()===r.getTime()}function SK(t,e){Ve(2,arguments);var n=Xe(e);return ms(t,-n)}function AK(t,e){var n;Ve(1,arguments);var r=Xe((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=kK(t),s;if(i.date){var o=RK(i.date,r);s=DK(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=xK(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=NK(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var Vh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,PK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function kK(t){var e={},n=t.split(Vh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Vh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Vh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Vh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function RK(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function DK(t,e){if(e===null)return new Date(NaN);var n=t.match(CK);if(!n)return new Date(NaN);var r=!!n[4],i=ju(n[1]),s=ju(n[2])-1,o=ju(n[3]),a=ju(n[4]),l=ju(n[5])-1;if(r)return $K(e,a,l)?MK(e,a,l):new Date(NaN);var u=new Date(0);return!VK(e,s,o)||!FK(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function ju(t){return t?parseInt(t):1}function xK(t){var e=t.match(OK);if(!e)return NaN;var n=Ng(e[1]),r=Ng(e[2]),i=Ng(e[3]);return UK(n,r,i)?n*lb+r*ab+i*1e3:NaN}function Ng(t){return t&&parseFloat(t.replace(",","."))||0}function NK(t){if(t==="Z")return 0;var e=t.match(PK);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return BK(r,i)?n*(r*lb+i*ab):NaN}function MK(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var LK=[31,null,31,30,31,30,31,31,30,31,30,31];function gx(t){return t%400===0||t%4===0&&t%100!==0}function VK(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(LK[e]||(gx(t)?29:28))}function FK(t,e){return e>=1&&e<=(gx(t)?366:365)}function $K(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function UK(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function BK(t,e){return e>=0&&e<=59}function vx(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Tz(o);return n.setMonth(r,Math.min(s,a)),n}function on(t,e){if(Ve(2,arguments),fi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=vx(n,e.month)),e.date!=null&&n.setDate(Xe(e.date)),e.hours!=null&&n.setHours(Xe(e.hours)),e.minutes!=null&&n.setMinutes(Xe(e.minutes)),e.seconds!=null&&n.setSeconds(Xe(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Xe(e.milliseconds)),n)}function yx(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setHours(r),n}function hb(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setMilliseconds(r),n}function _x(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setMinutes(r),n}function fb(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setSeconds(r),n}function Ki(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Jl(t,e){Ve(2,arguments);var n=Xe(e);return Oi(t,-n)}function jK(t,e){if(Ve(2,arguments),!e||fi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=Jl(t,r+n*12),c=SK(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function bx(t,e){Ve(2,arguments);var n=Xe(e);return ob(t,-n)}function vu(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ae("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}vu.compatConfig={MODE:3};function wx(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ae("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}wx.compatConfig={MODE:3};function pb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}pb.compatConfig={MODE:3};function mb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}mb.compatConfig={MODE:3};function gb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ae("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}gb.compatConfig={MODE:3};function vb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}vb.compatConfig={MODE:3};function yb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}yb.compatConfig={MODE:3};function _b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tx={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Tx);var HK=Tx.exports,Cy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Cy,Cy.exports);var WK=Cy.exports;const qK=_b(WK);var Oy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Oy,Oy.exports);var zK=Oy.exports;const SI=_b(zK);function KK(t,e){var n=XK(e);return n.formatToParts?YK(n,t):QK(n,t)}var GK={year:0,month:1,day:2,hour:3,minute:4,second:5};function YK(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=GK[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function QK(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Mg={};function XK(t){if(!Mg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";Mg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Mg[t]}function bb(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var AI=36e5,JK=6e4,Lg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function wb(t,e,n){var r,i;if(t===""||(r=Lg.timezoneZ.exec(t),r))return 0;var s;if(r=Lg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),CI(s)?-(s*AI):NaN;if(r=Lg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return CI(s,o)?(i=Math.abs(s)*AI+o*JK,s>0?-i:i):NaN}if(tG(t)){e=new Date(e||Date.now());var a=n?e:ZK(e),l=Py(a,t),u=n?l:eG(e,l,t);return-u}return NaN}function ZK(t){return bb(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Py(t,e){var n=KK(t,e),r=bb(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function eG(t,e,n){var r=t.getTime(),i=r-e,s=Py(new Date(i),n);if(e===s)return e;i-=s-e;var o=Py(new Date(i),n);return s===o?s:Math.max(s,o)}function CI(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var OI={};function tG(t){if(OI[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),OI[t]=!0,!0}catch{return!1}}var Ex=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Vg=36e5,PI=6e4,nG=2,Pr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ex};function ky(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?nG:qK(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=rG(t),s=iG(i.date,r),o=s.year,a=s.restDateString,l=sG(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=oG(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=wb(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=SI(new Date(u+c)),h=SI(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function rG(t){var e={},n=Pr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Pr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Pr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function iG(t,e){var n=Pr.YYY[e],r=Pr.YYYYY[e],i;if(i=Pr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Pr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function sG(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Pr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,RI(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Pr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return uG(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Pr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return RI(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Pr.Www.exec(t),n)return s=parseInt(n[1],10)-1,DI(e,s)?kI(e,s):new Date(NaN);if(n=Pr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return DI(e,s,l)?kI(e,s,l):new Date(NaN)}return null}function oG(t){var e,n,r;if(e=Pr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Fg(n)?n%24*Vg:NaN;if(e=Pr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Fg(n,r)?n%24*Vg+r*PI:NaN;if(e=Pr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Fg(n,r,i)?n%24*Vg+r*PI+i*1e3:NaN}return null}function kI(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var aG=[31,28,31,30,31,30,31,31,30,31,30,31],lG=[31,29,31,30,31,30,31,31,30,31,30,31];function Ix(t){return t%400===0||t%4===0&&t%100!==0}function RI(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=Ix(t);if(r&&n>lG[e]||!r&&n>aG[e])return!1}return!0}function uG(t,e){if(e<1)return!1;var n=Ix(t);return!(n&&e>366||!n&&e>365)}function DI(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Fg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Ry={exports:{}},Dy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Dy,Dy.exports);var cG=Dy.exports;(function(t,e){var n=HK.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(cG);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Ry,Ry.exports);var dG=Ry.exports;const hG=_b(dG);function fG(t,e,n){var r=ky(t,n),i=wb(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function pG(t,e,n){if(typeof t=="string"&&!t.match(Ex)){var r=hG(n);return r.timeZone=e,ky(t,r)}var i=ky(t,n),s=bb(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=wb(e,new Date(s));return new Date(s+o)}function xI(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function mG(t){return e=>co(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const gG=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(mG(t))}catch{i=r.map(xI(e))}else i=r.map(xI(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},Tb=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},Sx=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=co(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},vG=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Mn=t=>{const e=Y(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},yG=t=>Object.assign({type:"dot"},t),Ax=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,fp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Fn=t=>t,NI=t=>t===0?t:!t||isNaN(+t)?null:+t,MI=t=>t===null,_G=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},bG=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},od=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Zl=(t,e)=>bG(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ho=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},wG=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function TG(t,e){let n=[...document.querySelectorAll(wG())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const EG=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},LI=(t,e,n,r,i)=>{const s=Ay(t,e.slice(0,t.length),new Date);return Ic(s)&&ex(s)?r||i?s:on(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},IG=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return LI(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=LI(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},ye=t=>t?new Date(t):new Date,SG=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},br=t=>{let e=ye(JSON.parse(JSON.stringify(t)));return e=yx(e,0),e=_x(e,0),e=fb(e,0),e=hb(e,0),e},fo=(t,e,n,r)=>{let i=t?ye(t):ye();return(e||e===0)&&(i=yx(i,+e)),(n||n===0)&&(i=_x(i,+n)),(r||r===0)&&(i=fb(i,+r)),hb(i,0)},Jn=(t,e)=>!t||!e?!1:sd(br(t),br(e)),Rt=(t,e)=>!t||!e?!1:cl(br(t),br(e)),vr=(t,e)=>!t||!e?!1:id(br(t),br(e)),ym=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?vr(n,t[0])&&Jn(n,t[1]):t!=null&&t[0]&&e?vr(n,t[0])&&Jn(n,e)||Jn(n,t[0])&&vr(n,e):!1,wi=t=>{const e=on(new Date(t),{date:1});return br(e)},$g=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ta=t=>({hours:Pi(t),minutes:es(t),seconds:Xl(t)}),Cx=(t,e)=>{if(e){const n=ut(ye(e));if(n>t)return 12;if(n===t)return Et(ye(e))}},Ox=(t,e)=>{if(e){const n=ut(ye(e));return n<t?-1:n===t?Et(ye(e)):void 0}},eu=t=>{if(t)return ut(ye(t))},ki=(t,e)=>e?fG(t,e):t,Px=(t,e)=>e?pG(t,e):t,AG=t=>t instanceof Date?t:AK(t),kx=(t,e)=>{const n=vr(t,e)?e:t,r=vr(e,t)?e:t;return tx({start:n,end:r})},CG=t=>{const e=Oi(t,1);return{month:Et(e),year:ut(e)}},of=(t,e,n)=>{const r=ba(ki(t,e),{weekStartsOn:+n}),i=yq(ki(t,e),{weekStartsOn:+n});return[r,i]},Rx=(t,e)=>{const n={hours:Pi(ye()),minutes:es(ye()),seconds:e?Xl(ye()):0};return Object.assign(n,t)},ro=(t,e,n)=>[on(ye(t),{date:1}),on(ye(),{month:e,year:n,date:1})],bs=(t,e,n)=>{let r=t?ye(t):ye();return(e||e===0)&&(r=vx(r,e)),n&&(r=Ki(r,n)),r},Dx=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Oi(t,1):Jl(t,1),o=[Et(s),ut(s)];return i?!PG(...o,e):!OG(...o,n)},OG=(t,e,n)=>Jn(...ro(n,t,e))||Rt(...ro(n,t,e)),PG=(t,e,n)=>vr(...ro(n,t,e))||Rt(...ro(n,t,e)),xx=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${co(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?co(t[1],s,a):""}`:co(t,s,a)},Ga=t=>{if(t)return null;throw new Error(fp.prop("partial-range"))},Fh=(t,e)=>{if(e)return t();throw new Error(fp.prop("range"))},xy=t=>Array.isArray(t)?Ic(t[0])&&(t[1]?Ic(t[1]):!0):t?Ic(t):!1,kG=(t,e)=>on(e??ye(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Ug=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?sd(t,e):id(t,e),s={seconds:0,milliseconds:0};return i||cl(on(t,s),on(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Bg=(t,e,n)=>t?kG(t,e):ye(n??e),VI=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Bg(t,r[0],e),a=Bg(t,r[1],e);return Ug(r[0],o,n,!!e)&&Ug(r[1],a,n,!!e)&&i}const s=Bg(t,r,e);return Ug(r,s,n,!!e)&&i},jg=t=>on(ye(),ta(t)),RG=(t,e)=>Array.isArray(t)?t.map(n=>ye(n)).filter(n=>ut(ye(n))===e).map(n=>Et(n)):[],Nx=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),Eb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Hu=Dr({menuFocused:!1,shiftKeyInMenu:!1}),Mx=()=>{const t=n=>{Hu.menuFocused=n},e=n=>{Hu.shiftKeyInMenu!==n&&(Hu.shiftKeyInMenu=n)};return{control:le(()=>({shiftKeyInMenu:Hu.shiftKeyInMenu,menuFocused:Hu.menuFocused})),setMenuFocused:t,setShiftKey:e}},en=Dr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Hg=fe(null),$h=fe(!1),Wg=fe(!1),qg=fe(!1),zg=fe(!1),Ir=fe(0),Kn=fe(0),Ro=()=>{const t=le(()=>$h.value?[...en.selectionGrid,en.actionRow].filter(h=>h.length):Wg.value?[...en.timePicker[0],...en.timePicker[1],zg.value?[]:[Hg.value],en.actionRow].filter(h=>h.length):qg.value?[...en.monthPicker,en.actionRow]:[en.monthYear,...en.calendar,en.time,en.actionRow].filter(h=>h.length)),e=h=>{Ir.value=h?Ir.value+1:Ir.value-1;let f=null;t.value[Kn.value]&&(f=t.value[Kn.value][Ir.value]),f||(Ir.value=h?Ir.value-1:Ir.value+1)},n=h=>{Kn.value===0&&!h||Kn.value===t.value.length&&h||(Kn.value=h?Kn.value+1:Kn.value-1,t.value[Kn.value]?t.value[Kn.value]&&!t.value[Kn.value][Ir.value]&&Ir.value!==0&&(Ir.value=t.value[Kn.value].length-1):Kn.value=h?Kn.value-1:Kn.value+1)},r=h=>{let f=null;t.value[Kn.value]&&(f=t.value[Kn.value][Ir.value]),f?f.focus({preventScroll:!$h.value}):Ir.value=h?Ir.value-1:Ir.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{en[f]=h},u=(h,f)=>{en[f]=h},c=()=>{Ir.value=0,Kn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Hg.value=h},setSelectionGrid:h=>{$h.value=h,c(),h||(en.selectionGrid=[])},setTimePicker:(h,f=!1)=>{Wg.value=h,zg.value=f,c(),h||(en.timePicker[0]=[],en.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{en.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{en.monthYear=[],en.calendar=[],en.time=[],en.actionRow=[],en.selectionGrid=[],en.timePicker[0]=[],en.timePicker[1]=[],$h.value=!1,Wg.value=!1,zg.value=!1,qg.value=!1,c(),Hg.value=null},setMonthPicker:h=>{qg.value=h,c()},refSets:en}},FI=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),DG=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),$I=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,xG=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:$I(!1)};const r=e?t:{},i=e?r.count??!0:t,s=$I(i);return Object.assign(n,r,{count:s})},NG=(t,e,n)=>t||(typeof n=="string"?n:e),MG=t=>typeof t=="boolean"?t?FI({}):!1:FI(t),LG=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},VG=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),FG=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),$G=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},UG=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),BG=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>ye(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},jG=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},Sn=t=>{const e=()=>{const R=t.enableSeconds?":ss":"";return t.is24?`HH:mm${R}`:`hh:mm${R} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=R=>Rx(R,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=le(()=>xG(t.multiCalendars)),o=le(()=>i()),a=le(()=>DG(t.ariaLabels)),l=le(()=>VG(t.filters)),u=le(()=>MG(t.transitions)),c=le(()=>FG(t.actionRow)),h=le(()=>NG(t.previewFormat,t.format,n())),f=le(()=>LG(t.textInput)),p=le(()=>$G(t.inline)),g=le(()=>UG(t.config)),b=le(()=>BG(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),A=le(()=>jG(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:b,defaultedWeekNumbers:A,getDefaultPattern:n,getDefaultStartTime:i}},HG=(t,e,n)=>{const r=fe(),{defaultedTextInput:i,getDefaultPattern:s}=Sn(e),o=fe(""),a=Dc(e,"format");In(r,()=>{t("internal-model-change",r.value)}),In(a,()=>{G()});const l=O=>Px(O,e.timezone),u=O=>ki(O,e.timezone),c=(O,q,z=!1)=>xx(O,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,q??s(),z),h=O=>O?e.modelType?B(O):{hours:Pi(O),minutes:es(O),seconds:e.enableSeconds?Xl(O):0}:null,f=O=>e.modelType?B(O):{month:Et(O),year:ut(O)},p=O=>Array.isArray(O)?e.multiDates?O.map(q=>g(q,Ki(ye(),q))):Fh(()=>[Ki(ye(),O[0]),O[1]?Ki(ye(),O[1]):Ga(e.partialRange)],e.range):Ki(ye(),+O),g=(O,q)=>(typeof O=="string"||typeof O=="number")&&e.modelType?$(O):q,b=O=>Array.isArray(O)?[g(O[0],fo(null,+O[0].hours,+O[0].minutes,O[0].seconds)),g(O[1],fo(null,+O[1].hours,+O[1].minutes,O[1].seconds))]:g(O,fo(null,O.hours,O.minutes,O.seconds)),A=O=>Array.isArray(O)?e.multiDates?O.map(q=>g(q,bs(null,+q.month,+q.year))):Fh(()=>[g(O[0],bs(null,+O[0].month,+O[0].year)),g(O[1],O[1]?bs(null,+O[1].month,+O[1].year):Ga(e.partialRange))],e.range):g(O,bs(null,+O.month,+O.year)),R=O=>{if(Array.isArray(O))return O.map(q=>$(q));throw new Error(fp.dateArr("multi-dates"))},k=O=>{if(Array.isArray(O))return[ye(O[0]),ye(O[1])];throw new Error(fp.dateArr("week-picker"))},S=O=>e.modelAuto?Array.isArray(O)?[$(O[0]),$(O[1])]:e.autoApply?[$(O)]:[$(O),null]:Array.isArray(O)?Fh(()=>[$(O[0]),O[1]?$(O[1]):Ga(e.partialRange)],e.range):$(O),_=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(Ga(e.partialRange))},M=()=>{const O=r.value;return[B(O[0]),O[1]?B(O[1]):Ga(e.partialRange)]},L=()=>r.value[1]?M():B(Fn(r.value[0])),I=()=>(r.value||[]).map(O=>B(O)),E=()=>(_(),e.modelAuto?L():e.multiDates?I():Array.isArray(r.value)?Fh(()=>M(),e.range):B(Fn(r.value))),y=O=>!O||Array.isArray(O)&&!O.length?null:e.timePicker?b(Fn(O)):e.monthPicker?A(Fn(O)):e.yearPicker?p(Fn(O)):e.multiDates?R(Fn(O)):e.weekPicker?k(Fn(O)):S(Fn(O)),v=O=>{const q=y(O);xy(Fn(q))?(r.value=Fn(q),G()):(r.value=null,o.value="")},T=()=>{const O=q=>co(q,i.value.format);return`${O(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?O(r.value[1]):""}`},C=()=>n.value&&r.value?Array.isArray(r.value)?T():co(r.value,i.value.format):c(r.value),P=()=>r.value?e.multiDates?r.value.map(O=>c(O)).join("; "):i.value.enabled&&typeof i.value.format=="string"?C():c(r.value):"",G=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=P():o.value=e.format(r.value)},$=O=>{if(e.utc){const q=new Date(O);return e.utc==="preserve"?new Date(q.getTime()+q.getTimezoneOffset()*6e4):q}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(O)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Ay(O,s(),new Date):u(Ay(O,e.modelType,new Date)):u(new Date(O))},B=O=>O?e.utc?SG(O,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(O):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(O)):c(l(O),e.modelType,!0):l(O):"",F=(O,q=!1)=>{if(t("update:model-value",O),e.emitTimezone&&q){const z=Array.isArray(O)?O.map(te=>ki(Fn(te)),e.emitTimezone):ki(Fn(O),e.emitTimezone);t("update:model-timezone-value",z)}},U=O=>Array.isArray(r.value)?e.multiDates?r.value.map(q=>O(q)):[O(r.value[0]),r.value[1]?O(r.value[1]):Ga(e.partialRange)]:O(Fn(r.value)),x=O=>F(Fn(U(O)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:G,emitModelValue:()=>(G(),e.monthPicker?x(f):e.timePicker?x(h):e.yearPicker?x(ut):e.weekPicker?F(r.value.map(O=>B(O)),!0):F(E(),!0))}},WG=(t,e)=>{const{defaultedFilters:n}=Sn(t),{validateMonthYearInRange:r}=Na(t),i=(u,c)=>{let h=u;return n.value.months.includes(Et(h))?(h=c?Oi(u,1):Jl(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ut(h))?(h=c?ob(u,1):bx(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=on(new Date,{month:t.month,year:t.year});let f=u?Oi(h,1):Jl(h,1);t.disableYearSelect&&(f=Ki(f,t.year));let p=Et(f),g=ut(f);n.value.months.includes(p)&&(f=i(f,u),p=Et(f),g=ut(f)),n.value.years.includes(g)&&(f=s(f,u),g=ut(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=le(()=>u=>Dx(on(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var nl=(t=>(t.center="center",t.left="left",t.right="right",t))(nl||{}),vi=(t=>(t.month="month",t.year="year",t))(vi||{}),jo=(t=>(t.top="top",t.bottom="bottom",t))(jo||{}),na=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(na||{}),ji=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(ji||{});const qG=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=fe({}),u=fe(!1),c=fe({top:"0",left:"0"}),h=fe(!1),f=Dc(o,"teleportCenter");In(f,()=>{c.value=JSON.parse(JSON.stringify({})),_()});const p=$=>{if(o.teleport){const B=$.getBoundingClientRect();return{left:B.left+window.scrollX,top:B.top+window.scrollY}}return{top:0,left:0}},g=($,B)=>{c.value.left=`${$+B-l.value.width}px`},b=$=>{c.value.left=`${$}px`},A=($,B)=>{o.position===nl.left&&b($),o.position===nl.right&&g($,B),o.position===nl.center&&(c.value.left=`${$+B/2-l.value.width/2}px`)},R=$=>{const{width:B,height:F}=$.getBoundingClientRect(),{top:U,left:x}=o.altPosition?o.altPosition($):p($);return{top:+U,left:+x,width:B,height:F}},k=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},S=()=>{const $=Mn(n),{top:B,left:F,transform:U}=o.altPosition($);c.value={top:`${B}px`,left:`${F}px`,transform:U??""}},_=($=!0)=>{var B;if(!i.value.enabled){if(f.value)return k();if(o.altPosition!==null)return S();if($){const F=o.teleport?(B=e.value)==null?void 0:B.$el:t.value;F&&(l.value=F.getBoundingClientRect()),s("recalculate-position")}return T()}},M=({inputEl:$,left:B,width:F})=>{window.screen.width>768&&!u.value&&A(B,F),E($)},L=$=>{const{top:B,left:F,height:U,width:x}=R($);c.value.top=`${U+B+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${F+x/2-l.value.width/2}px`),M({inputEl:$,left:F,width:x})},I=$=>{const{top:B,left:F,width:U}=R($);c.value.top=`${B-+o.offset-l.value.height}px`,h.value=!0,M({inputEl:$,left:F,width:U})},E=$=>{if(o.autoPosition){const{left:B,width:F}=R($),{left:U,right:x}=l.value;if(!u.value){if(Math.abs(U)!==Math.abs(x)){if(U<=0)return u.value=!0,b(B);if(x>=document.documentElement.clientWidth)return u.value=!0,g(B,F)}return A(B,F)}}},y=()=>{const $=Mn(n);if($){const{height:B}=l.value,{top:F,height:U}=$.getBoundingClientRect(),x=window.innerHeight-F-U,O=F;return B<=x?jo.bottom:B>x&&B<=O?jo.top:x>=O?jo.bottom:jo.top}return jo.bottom},v=$=>y()===jo.bottom?L($):I($),T=()=>{const $=Mn(n);if($)return o.autoPosition?v($):L($)},C=function($){if($){const B=$.scrollHeight>$.clientHeight,F=window.getComputedStyle($).overflowY.indexOf("hidden")!==-1;return B&&!F}return!0},P=function($){return!$||$===document.body||$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:C($)?$:P($.parentNode)},G=$=>{if($)switch(o.position){case nl.left:return{left:0,transform:"translateX(0)"};case nl.right:return{left:`${$.width}px`,transform:"translateX(-100%)"};default:return{left:`${$.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:_,getScrollableParent:P,shadowRender:($,B)=>{var F,U,x;const O=document.createElement("div"),q=(F=Mn(n))==null?void 0:F.getBoundingClientRect();O.setAttribute("id","dp--temp-container");const z=(U=r.value)!=null&&U.clientWidth?r.value:document.body;z.append(O);const te=G(q),he=Dl($,{...B,shadow:!0,style:{opacity:0,position:"absolute",...te}},Object.fromEntries(Object.keys(a).filter(Z=>["right-sidebar","left-sidebar"].includes(Z)).map(Z=>[Z,a[Z]])));$c(he,O),l.value=(x=he.el)==null?void 0:x.getBoundingClientRect(),$c(null,O),z.removeChild(O)}}},js=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],zG=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],KG={all:()=>js,monthYear:()=>js.filter(t=>t.use.includes("month-year")),input:()=>zG,timePicker:()=>js.filter(t=>t.use.includes("time")),action:()=>js.filter(t=>t.use.includes("action")),calendar:()=>js.filter(t=>t.use.includes("calendar")),menu:()=>js.filter(t=>t.use.includes("menu")),shared:()=>js.filter(t=>t.use.includes("shared")),yearMode:()=>js.filter(t=>t.use.includes("year-mode"))},Qr=(t,e,n)=>{const r=[];return KG[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Gd=t=>{const e=le(()=>r=>t.value?r?t.value.open:t.value.close:""),n=le(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Yd=(t,e)=>{const n=ye(ki(new Date,t.timezone)),r=fe([{month:Et(n),year:ut(n)}]),i=Dr({hours:t.range?[Pi(n),Pi(n)]:Pi(n),minutes:t.range?[es(n),es(n)]:es(n),seconds:t.range?[0,0]:0}),s=le({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=le(()=>l=>r.value[l]?r.value[l].month:0),a=le(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},GG=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Sn(e),{isDisabled:i,matchDate:s}=Na(e),o=fe(null),a=fe(ye(ki(new Date,e.timezone))),l=x=>{!x.current&&e.hideOffsetDates||(o.value=x.value)},u=()=>{o.value=null},c=x=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?x?vr(o.value,t.value[0]):Jn(o.value,t.value[0]):!0,h=(x,O)=>{const q=()=>t.value?O?t.value[0]||null:t.value[1]:null,z=t.value&&Array.isArray(t.value)?q():null;return Rt(ye(x.value),z)},f=x=>{const O=Array.isArray(t.value)?t.value[0]:null;return x?!Jn(o.value??null,O):!0},p=(x,O=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!x.current?!1:Rt(ye(x.value),t.value[O?0:1]):e.range?h(x,O)&&f(O)||Rt(x.value,Array.isArray(t.value)?t.value[0]:null)&&c(O):!1,g=(x,O,q)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?x?!1:q?vr(t.value[0],O.value):Jn(t.value[0],O.value):!1,b=x=>!t.value||e.hideOffsetDates&&!x.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Rt(x.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(O=>Rt(O,x.value)):Rt(x.value,t.value?t.value:a.value),A=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const O=ms(o.value,+e.autoRange),q=of(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(q[1],ye(x.value)):Rt(O,ye(x.value))}return!1}return!1},R=x=>{if(e.autoRange||e.weekPicker){if(o.value){const O=ms(o.value,+e.autoRange);if(e.hideOffsetDates&&!x.current)return!1;const q=of(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?vr(x.value,q[0])&&Jn(x.value,q[1]):vr(x.value,o.value)&&Jn(x.value,O)}return!1}return!1},k=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const O=of(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(O[0],x.value):Rt(o.value,x.value)}return!1}return!1},S=x=>ym(t.value,o.value,x.value),_=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,M=()=>e.modelAuto?Ax(e.internalModelValue):!0,L=x=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const O=e.range?!p(x)&&!p(x,!1):!0;return!i(x.value)&&!b(x)&&!(!x.current&&e.hideOffsetDates)&&O},I=x=>e.range?e.modelAuto?_()&&b(x):!1:b(x),E=x=>{var O;return r.value?typeof r.value=="function"?r.value(x.value):s(x.value,(O=e.arrMapValues)!=null&&O.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},y=x=>{const O=i(x.value);return O&&(typeof r.value=="function"?!r.value(x.value,O):!r.value.options.highlightDisabled)},v=x=>{var O;return typeof r.value=="function"?r.value(x.value):(O=r.value.weekdays)==null?void 0:O.includes(x.value.getDay())},T=x=>(e.range||e.weekPicker)&&(!(n.value.count>0)||x.current)&&M()&&!(!x.current&&e.hideOffsetDates)&&!b(x)?S(x):!1,C=x=>{const{isRangeStart:O,isRangeEnd:q}=$(x),z=e.range?O||q:!1;return{dp__cell_offset:!x.current,dp__pointer:!e.disabled&&!(!x.current&&e.hideOffsetDates)&&!i(x.value),dp__cell_disabled:i(x.value),dp__cell_highlight:!y(x)&&(E(x)||v(x))&&!I(x)&&!z&&!k(x)&&!(T(x)&&e.weekPicker)&&!q,dp__cell_highlight_active:!y(x)&&(E(x)||v(x))&&I(x),dp__today:!e.noToday&&Rt(x.value,a.value)&&x.current}},P=x=>({dp__active_date:I(x),dp__date_hover:L(x)}),G=x=>({...B(x),...F(x),dp__range_between_week:T(x)&&e.weekPicker}),$=x=>{const O=n.value.count>0?x.current&&p(x)&&M():p(x)&&M(),q=n.value.count>0?x.current&&p(x,!1)&&M():p(x,!1)&&M();return{isRangeStart:O,isRangeEnd:q}},B=x=>{const{isRangeStart:O,isRangeEnd:q}=$(x);return{dp__range_start:O,dp__range_end:q,dp__range_between:T(x)&&!e.weekPicker,dp__date_hover_start:g(L(x),x,!0),dp__date_hover_end:g(L(x),x,!1)}},F=x=>({...B(x),dp__cell_auto_range:R(x),dp__cell_auto_range_start:k(x),dp__cell_auto_range_end:A(x)}),U=x=>e.range?e.autoRange?F(x):e.modelAuto?{...P(x),...B(x)}:B(x):e.weekPicker?G(x):P(x);return{setHoverDate:l,clearHoverDate:u,getDayClassData:x=>e.hideOffsetDates&&!x.current?{}:{...C(x),...U(x),[e.dayClass?e.dayClass(x.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Na=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Sn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const T=br(s(ye(v))).toISOString(),[C]=T.split("T");return C},s=v=>t.utc==="preserve"?Px(v,r()):ki(v,r()),o=v=>{var T;const C=t.maxDate?vr(v,s(ye(t.maxDate))):!1,P=t.minDate?Jn(v,s(ye(t.minDate))):!1,G=c(s(v),(T=t.arrMapValues)!=null&&T.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),$=e.value.months.map(O=>+O).includes(Et(v)),B=t.disabledWeekDays.length?t.disabledWeekDays.some(O=>+O===wz(v)):!1,F=f(v),U=ut(v),x=U<+t.yearRange[0]||U>+t.yearRange[1];return!(C||P||G||$||x||B||F)},a=(v,T)=>Jn(...ro(t.minDate,v,T))||Rt(...ro(t.minDate,v,T)),l=(v,T)=>vr(...ro(t.maxDate,v,T))||Rt(...ro(t.maxDate,v,T)),u=(v,T,C)=>{let P=!1;return t.maxDate&&C&&l(v,T)&&(P=!0),t.minDate&&!C&&a(v,T)&&(P=!0),P},c=(v,T)=>v?T instanceof Map?!!T.get(i(v)):Array.isArray(T)?T.some(C=>Rt(s(ye(C)),v)):T?T(ye(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,T,C,P)=>{let G=!1;return P?t.minDate&&t.maxDate?G=u(v,T,C):(t.minDate&&a(v,T)||t.maxDate&&l(v,T))&&(G=!0):G=!0,G},f=v=>{var T,C,P,G,$;return Array.isArray(t.allowedDates)&&!((T=t.allowedDates)!=null&&T.length)?!0:(C=t.arrMapValues)!=null&&C.allowedDates?!c(v,(P=t.arrMapValues)==null?void 0:P.allowedDates):(G=t.allowedDates)!=null&&G.length?!(($=t.allowedDates)!=null&&$.some(B=>Rt(br(B),s(br(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!tx({start:v[0],end:v[1]}).some(T=>p(T)):!0,b=(v,T,C=0)=>{if(Array.isArray(T)&&T[C]){const P=hq(v,T[C]),G=kx(T[C],v),$=G.length===1?0:G.filter(F=>p(F)).length,B=Math.abs(P)-$;if(t.minRange&&t.maxRange)return B>=+t.minRange&&B<=+t.maxRange;if(t.minRange)return B>=+t.minRange;if(t.maxRange)return B<=+t.maxRange}return!0},A=v=>new Map(v.map(T=>[i(T),!0])),R=v=>Array.isArray(v)&&v.length>0,k=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return R(t.allowedDates)&&(v.allowedDates=A(t.allowedDates)),typeof n.value!="function"&&R(n.value.dates)&&(v.highlightedDates=A(n.value.dates)),R(t.disabledDates)&&(v.disabledDates=A(t.disabledDates)),v},S=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=v=>Array.isArray(v)?[v[0]?jg(v[0]):null,v[1]?jg(v[1]):null]:jg(v),M=(v,T,C)=>v.find(P=>+P.hours===Pi(T)&&P.minutes==="*"?!0:+P.minutes===es(T)&&+P.hours===Pi(T))&&C,L=(v,T,C)=>{const[P,G]=v,[$,B]=T;return!M(P,$,C)&&!M(G,B,C)&&C},I=(v,T)=>{const C=Array.isArray(T)?T:[T];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?L(t.disabledTimes,C,v):!C.some(P=>M(t.disabledTimes,P,v)):v},E=(v,T)=>{const C=Array.isArray(T)?[ta(T[0]),T[1]?ta(T[1]):void 0]:ta(T),P=!t.disabledTimes(C);return v&&P},y=(v,T)=>t.disabledTimes?Array.isArray(t.disabledTimes)?I(T,v):E(T,v):T;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:b,matchDate:c,mapDatesArrToMap:k,isValidTime:v=>{let T=!0;if(!v||S())return!0;const C=!t.minDate&&!t.maxDate?_(v):v;return(t.maxTime||t.maxDate)&&(T=VI(t.maxTime,t.maxDate,"max",Fn(C),T)),(t.minTime||t.minDate)&&(T=VI(t.minTime,t.minDate,"min",Fn(C),T)),y(v,T)}}},_m=()=>{const t=le(()=>(r,i)=>r==null?void 0:r.includes(i)),e=le(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=le(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},YG=(t,e,n)=>{const r=fe(0),i=Dr({[na.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[na.calendar]:!1,[na.header]:!1}),s=le(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(ji.month,"toggleMonthPicker",!0),u(ji.year,"toggleYearPicker",!0),u(ji.calendar,"toggleTimePicker",!1,!0),u(ji.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===ji.hours||h===ji.minutes||h===ji.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},bm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Li={...bm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},QG={key:1,class:"dp__input_wrap"},XG=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],JG={key:2,class:"dp__clear_icon"},ZG=Gt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...bm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Sn(i),{checkMinMaxRange:h}=Na(i),f=fe(),p=fe(null),g=fe(!1),b=fe(!1),A=le(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),R=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},k=G=>{const $=c();return IG(G,s.value.format??u(),$??Rx({},i.enableSeconds),i.inputValue,b.value)},S=G=>{const{rangeSeparator:$}=s.value,[B,F]=G.split(`${$}`);if(B){const U=k(B.trim()),x=F?k(F.trim()):null,O=U&&x?[U,x]:[U];h(x,O,0)&&(f.value=U?O:null)}},_=()=>{b.value=!0},M=G=>{if(i.range)S(G);else if(i.multiDates){const $=G.split(";");f.value=$.map(B=>k(B.trim())).filter(B=>B)}else f.value=k(G)},L=G=>{var $;const B=typeof G=="string"?G:($=G.target)==null?void 0:$.value;B!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),M(B),r("set-input-date",f.value)):R(),b.value=!1,r("update:input-value",B)},I=G=>{s.value.enabled?(M(G.target.value),s.value.enterSubmit&&xy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(G)},E=G=>{s.value.enabled&&s.value.tabSubmit&&M(G.target.value),s.value.tabSubmit&&xy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},y=()=>{var G;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((G=p.value)==null||G.select())},v=G=>{G.preventDefault(),ho(G,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},T=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},C=G=>{ho(G,l.value,!0),r("clear")},P=G=>{if(!s.value.enabled){if(G.code==="Tab")return;G.preventDefault()}};return e({focusInput:()=>{var G;(G=p.value)==null||G.focus({preventScroll:!0})},setParsedDate:G=>{f.value=G}}),(G,$)=>{var B;return W(),ee("div",{onClick:v},[G.$slots.trigger&&!G.$slots["dp-input"]&&!Y(a).enabled?_e(G.$slots,"trigger",{key:0}):de("",!0),!G.$slots.trigger&&(!Y(a).enabled||Y(a).input)?(W(),ee("div",QG,[G.$slots["dp-input"]&&!G.$slots.trigger&&!Y(a).enabled?_e(G.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:L,onEnter:I,onTab:E,onClear:C,onBlur:T,onKeypress:P,onPaste:_,openMenu:()=>G.$emit("open"),closeMenu:()=>G.$emit("close"),toggleMenu:()=>G.$emit("toggle")}):de("",!0),G.$slots["dp-input"]?de("",!0):(W(),ee("input",{key:1,id:G.uid?`dp-input-${G.uid}`:void 0,ref_key:"inputRef",ref:p,name:G.name,class:tt(A.value),inputmode:Y(s).enabled?"text":"none",placeholder:G.placeholder,disabled:G.disabled,readonly:G.readonly,required:G.required,value:t.inputValue,autocomplete:G.autocomplete,"aria-label":(B=Y(o))==null?void 0:B.input,"aria-disabled":G.disabled||void 0,"aria-invalid":G.state===!1?!0:void 0,onInput:L,onKeydown:[at(I,["enter"]),at(E,["tab"]),P],onBlur:T,onFocus:y,onKeypress:P,onPaste:_},null,42,XG)),Ae("div",{onClick:$[2]||($[2]=F=>r("toggle"))},[G.$slots["input-icon"]&&!G.hideInputIcon?(W(),ee("span",{key:0,class:"dp__input_icon",onClick:$[0]||($[0]=F=>r("toggle"))},[_e(G.$slots,"input-icon")])):de("",!0),!G.$slots["input-icon"]&&!G.hideInputIcon&&!G.$slots["dp-input"]?(W(),qe(Y(vu),{key:1,class:"dp__input_icon dp__input_icons",onClick:$[1]||($[1]=F=>r("toggle"))})):de("",!0)]),G.$slots["clear-icon"]&&t.inputValue&&G.clearable&&!G.disabled&&!G.readonly?(W(),ee("span",JG,[_e(G.$slots,"clear-icon",{clear:C})])):de("",!0),G.clearable&&!G.$slots["clear-icon"]&&t.inputValue&&!G.disabled&&!G.readonly?(W(),qe(Y(wx),{key:3,class:"dp__clear_icon dp__input_icons",onClick:$[3]||($[3]=Lt(F=>C(F),["prevent"]))})):de("",!0)])):de("",!0)])}}}),eY=["title"],tY={class:"dp__action_buttons"},nY=["disabled"],rY=Gt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Li},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Sn(r),{isValidTime:c}=Na(r),{buildMatrix:h}=Ro(),f=fe(null),p=fe(null);yn(()=>{r.arrowNavigation&&h([Mn(f),Mn(p)],"actionRow")});const g=le(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),b=le(()=>!A.value||!R.value||!g.value),A=le(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),R=le(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!E(v)).length:E(r.internalModelValue):!0),k=()=>{const v=s.value;return r.timePicker||r.monthPicker,v(Fn(r.internalModelValue))},S=()=>{const v=r.internalModelValue;return o.value.count>0?`${_(v[0])} - ${_(v[1])}`:[_(v[0]),_(v[1])]},_=v=>xx(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),M=le(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?S():r.multiDates?r.internalModelValue.map(v=>`${_(v)}`):r.modelAuto?`${_(r.internalModelValue[0])}`:`${_(r.internalModelValue[0])} -`:_(r.internalModelValue):k()),L=()=>r.multiDates?"; ":" - ",I=le(()=>Array.isArray(M.value)?M.value.join(L()):M.value),E=v=>{if(!r.monthPicker)return!0;let T=!0;const C=ye(wi(v));if(r.minDate&&r.maxDate){const P=ye(wi(r.minDate)),G=ye(wi(r.maxDate));return vr(C,P)&&Jn(C,G)||Rt(C,P)||Rt(C,G)}if(r.minDate){const P=ye(wi(r.minDate));T=vr(C,P)||Rt(C,P)}if(r.maxDate){const P=ye(wi(r.maxDate));T=Jn(C,P)||Rt(C,P)}return T},y=()=>{A.value&&R.value&&g.value?n("select-date"):n("invalid-select")};return(v,T)=>(W(),ee("div",{class:"dp__action_row",style:kr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?_e(v.$slots,"action-row",wn(pe({key:0},{internalModelValue:v.internalModelValue,disabled:b.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(W(),ee(Me,{key:1},[Y(i).showPreview?(W(),ee("div",{key:0,class:"dp__selection_preview",title:I.value},[v.$slots["action-preview"]?_e(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-preview"]?de("",!0):(W(),ee(Me,{key:1},[Dn(ht(I.value),1)],64))],8,eY)):de("",!0),Ae("div",tY,[v.$slots["action-buttons"]?_e(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-buttons"]?de("",!0):(W(),ee(Me,{key:1},[!Y(l).enabled&&Y(i).showCancel?(W(),ee("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:T[0]||(T[0]=C=>v.$emit("close-picker")),onKeydown:[T[1]||(T[1]=at(C=>v.$emit("close-picker"),["enter"])),T[2]||(T[2]=at(C=>v.$emit("close-picker"),["space"]))]},ht(v.cancelText),545)):de("",!0),Y(i).showNow?(W(),ee("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:T[3]||(T[3]=C=>v.$emit("select-now")),onKeydown:[T[4]||(T[4]=at(C=>v.$emit("select-now"),["enter"])),T[5]||(T[5]=at(C=>v.$emit("select-now"),["space"]))]},ht(v.nowButtonLabel),545)):de("",!0),Y(i).showSelect?(W(),ee("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:b.value,onKeydown:[at(y,["enter"]),at(y,["space"])],onClick:y},ht(v.selectText),41,nY)):de("",!0)],64))])],64))],4))}}),iY=["onKeydown"],sY={class:"dp__selection_grid_header"},oY=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],aY=["aria-label"],Qd=Gt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Ro(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Sn(a),{hideNavigationButtons:h}=_m(),f=fe(!1),p=fe(null),g=fe(null),b=fe([]),A=fe(),R=fe(null),k=fe(0),S=fe(null);l_(()=>{p.value=null}),yn(()=>{Hn().then(()=>T()),a.noOverlayFocus||M(),_(!0)}),Ia(()=>_(!1));const _=x=>{var O;a.arrowNavigation&&((O=a.headerRefs)!=null&&O.length?s(x):r(x))},M=()=>{var x;const O=Mn(g);O&&(u.value.enabled||(p.value?(x=p.value)==null||x.focus({preventScroll:!0}):O.focus({preventScroll:!0})),f.value=O.clientHeight<O.scrollHeight)},L=le(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),I=le(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=le(()=>({dp__overlay_col:!0})),y=le(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=le(()=>{var x,O;return{dp__overlay_container:!0,dp__container_flex:((x=a.items)==null?void 0:x.length)<=6,dp__container_block:((O=a.items)==null?void 0:O.length)>6}});In(()=>a.items,()=>T(),{deep:!0});const T=()=>{Hn().then(()=>{const x=Mn(p),O=Mn(g),q=Mn(R),z=Mn(S),te=q?q.getBoundingClientRect().height:0;O&&(O.getBoundingClientRect().height?k.value=O.getBoundingClientRect().height-te:k.value=c.value.modeHeight-te),x&&z&&(z.scrollTop=x.offsetTop-z.offsetTop-(k.value/2-x.getBoundingClientRect().height)-te)})},C=x=>{x.disabled||o("selected",x.value)},P=()=>{o("toggle"),o("reset-flow")},G=()=>{a.escClose&&P()},$=(x,O,q,z)=>{x&&((O.active||O.value===a.focusValue)&&(p.value=x),a.arrowNavigation&&(Array.isArray(b.value[q])?b.value[q][z]=x:b.value[q]=[x],B()))},B=()=>{var x,O;const q=(x=a.headerRefs)!=null&&x.length?[a.headerRefs].concat(b.value):b.value.concat([a.skipButtonRef?[]:[R.value]]);i(Fn(q),(O=a.headerRefs)!=null&&O.length?"monthPicker":"selectionGrid")},F=x=>{a.arrowNavigation||ho(x,c.value,!0)},U=x=>{A.value=x,o("hover-value",x)};return e({focusGrid:M}),(x,O)=>{var q;return W(),ee("div",{ref_key:"gridWrapRef",ref:g,class:tt(L.value),style:kr(I.value),role:"dialog",tabindex:"0",onKeydown:[at(Lt(G,["prevent"]),["esc"]),O[0]||(O[0]=at(Lt(z=>F(z),["prevent"]),["left"])),O[1]||(O[1]=at(Lt(z=>F(z),["prevent"]),["up"])),O[2]||(O[2]=at(Lt(z=>F(z),["prevent"]),["down"])),O[3]||(O[3]=at(Lt(z=>F(z),["prevent"]),["right"]))]},[Ae("div",{ref_key:"containerRef",ref:S,class:tt(v.value),role:"grid",style:kr({height:`${k.value}px`})},[Ae("div",sY,[_e(x.$slots,"header")]),x.$slots.overlay?_e(x.$slots,"overlay",{key:0}):(W(!0),ee(Me,{key:1},Ft(x.items,(z,te)=>(W(),ee("div",{key:te,class:tt(["dp__overlay_row",{dp__flex_row:x.items.length>=3}]),role:"row"},[(W(!0),ee(Me,null,Ft(z,(he,Z)=>(W(),ee("div",{key:he.value,ref_for:!0,ref:H=>$(H,he,te,Z),role:"gridcell",class:tt(E.value),"aria-selected":he.active,"aria-disabled":he.disabled||void 0,tabindex:"0",onClick:H=>C(he),onKeydown:[at(Lt(H=>C(he),["prevent"]),["enter"]),at(Lt(H=>C(he),["prevent"]),["space"])],onMouseover:H=>U(he.value)},[Ae("div",{class:tt(he.className)},[x.$slots.item?_e(x.$slots,"item",{key:0,item:he}):de("",!0),x.$slots.item?de("",!0):(W(),ee(Me,{key:1},[Dn(ht(he.text),1)],64))],2)],42,oY))),128))],2))),128))],6),x.$slots["button-icon"]?Yo((W(),ee("button",{key:0,ref_key:"toggleButton",ref:R,type:"button","aria-label":(q=Y(l))==null?void 0:q.toggleOverlay,class:tt(y.value),tabindex:"0",onClick:P,onKeydown:[at(P,["enter"]),at(P,["tab"])]},[_e(x.$slots,"button-icon")],42,aY)),[[lc,!Y(h)(x.hideNavigation,x.type)]]):de("",!0)],46,iY)}}}),wm=Gt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=le(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=le(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(W(),ee("div",{class:tt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(W(!0),ee(Me,null,Ft(n.value,(o,a)=>(W(),ee("div",{key:o,class:tt(r.value)},[_e(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),lY=["aria-label","aria-disabled"],Sc=Gt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=fe(null);return yn(()=>n("set-ref",r)),(i,s)=>(W(),ee("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Lt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Lt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[Ae("span",{class:tt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[_e(i.$slots,"default")],2)],40,lY))}}),uY={class:"dp--year-mode-picker"},cY=["aria-label"],Lx=Gt({__name:"YearModePicker",props:{...Li,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=_m(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Sn(r),{showTransition:c,transitionName:h}=Gd(u),f=(b=!1,A)=>{n("toggle-year-picker",{flow:b,show:A})},p=b=>{n("year-select",b)},g=(b=!1)=>{n("handle-year",b)};return(b,A)=>{var R,k,S;return W(),ee("div",uY,[Y(s)(Y(a),t.instance)?(W(),qe(Sc,{key:0,ref:"mpPrevIconRef","aria-label":(R=Y(l))==null?void 0:R.prevYear,disabled:t.isDisabled(!1),onActivate:A[0]||(A[0]=_=>g(!1))},{default:Qe(()=>[b.$slots["arrow-left"]?_e(b.$slots,"arrow-left",{key:0}):de("",!0),b.$slots["arrow-left"]?de("",!0):(W(),qe(Y(pb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ae("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(k=Y(l))==null?void 0:k.openYearsOverlay,onClick:A[1]||(A[1]=()=>f(!1)),onKeydown:A[2]||(A[2]=at(()=>f(!1),["enter"]))},[b.$slots.year?_e(b.$slots,"year",{key:0,year:t.year}):de("",!0),b.$slots.year?de("",!0):(W(),ee(Me,{key:1},[Dn(ht(t.year),1)],64))],40,cY),Y(i)(Y(a),t.instance)?(W(),qe(Sc,{key:1,ref:"mpNextIconRef","aria-label":(S=Y(l))==null?void 0:S.nextYear,disabled:t.isDisabled(!0),onActivate:A[3]||(A[3]=_=>g(!0))},{default:Qe(()=>[b.$slots["arrow-right"]?_e(b.$slots,"arrow-right",{key:0}):de("",!0),b.$slots["arrow-right"]?de("",!0):(W(),qe(Y(mb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),et(Co,{name:Y(h)(t.showYearPicker),css:Y(c)},{default:Qe(()=>[t.showYearPicker?(W(),qe(Qd,{key:0,items:t.items,"text-input":b.textInput,"esc-close":b.escClose,config:b.config,"is-last":b.autoApply&&!Y(o).keepActionRow,"hide-navigation":b.hideNavigation,type:"year",onToggle:f,onSelected:A[4]||(A[4]=_=>p(_))},er({"button-icon":Qe(()=>[b.$slots["calendar-icon"]?_e(b.$slots,"calendar-icon",{key:0}):de("",!0),b.$slots["calendar-icon"]?de("",!0):(W(),qe(Y(vu),{key:1}))]),_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:_})=>[_e(b.$slots,"year-overlay-value",{text:_.text,value:_.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):de("",!0)]),_:3},8,["name","css"])])}}}),Ib=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Rt(t,r))){const r=e.value.filter(i=>!Rt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Sb=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Jn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Tm=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},Vx=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>ki(ye(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=ki(ye(t.value),t.timezone))},Fx=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=le(()=>Tb(i.yearRange,i.reverseYears)),u=fe([!1]),c=le(()=>(_,M)=>{const L=on(wi(new Date),{month:o.value(_),year:s.value(_)});return Dx(L,i.maxDate,i.minDate,i.preventMinMaxNavigation,M)}),h=()=>{for(let _=0;_<t.value.count;_++)if(_===0)n.value[_]=n.value[0];else{const M=on(ye(),n.value[_-1]);n.value[_]={month:Et(M),year:ut(ob(M,1))}}},f=_=>{if(!_)return h();const M=on(ye(),n.value[_]);return n.value[0].year=ut(bx(M,t.value.count-1)),h()},p=_=>i.focusStartDate?_[0]:_[1]?_[1]:_[0],g=()=>{if(r.value){const _=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Et(_),year:ut(_)}}};yn(()=>{g(),t.value.count&&h()});const b=(_,M)=>{n.value[M].year=_,t.value.count&&!t.value.solo&&f(M)},A=le(()=>_=>Zl(l.value,M=>{const L=s.value(_)===M.value,I=od(M.value,eu(i.minDate),eu(i.maxDate)),E=Eb(e.value,M.value);return{active:L,disabled:I,highlighted:E}})),R=(_,M)=>{b(_,M),S(M)},k=(_,M=!1)=>{if(!c.value(_,M)){const L=M?s.value(_)+1:s.value(_)-1;b(L,_)}},S=(_,M=!1,L)=>{M||a("reset-flow"),L!==void 0?u.value[_]=L:u.value[_]=!u.value[_],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:A,showYearPicker:u,selectYear:b,toggleYearPicker:S,handleYearSelect:R,handleYear:k}},dY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Sn(t),{modelValue:a,year:l,month:u,calendars:c}=Yd(t,e),h=le(()=>Sx(t.formatLocale,t.locale,t.monthNameFormat)),f=fe(null),{selectYear:p,groupedYears:g,showYearPicker:b,toggleYearPicker:A,handleYearSelect:R,handleYear:k,isDisabled:S}=Fx({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});yn(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ut(ye(t.startDate)),0)});const _=F=>F?{month:Et(F),year:ut(F)}:{month:null,year:null},M=()=>a.value?Array.isArray(a.value)?a.value.map(F=>_(F)):_(a.value):_(),L=(F,U)=>{const x=c.value[F],O=M();return Array.isArray(O)?O.some(q=>q.year===(x==null?void 0:x.year)&&q.month===U):(x==null?void 0:x.year)===O.year&&U===O.month},I=(F,U,x)=>{var O,q;const z=M();return Array.isArray(z)?l.value(U)===((O=z[x])==null?void 0:O.year)&&F===((q=z[x])==null?void 0:q.month):!1},E=(F,U)=>{if(t.range){const x=M();if(Array.isArray(a.value)&&Array.isArray(x)){const O=I(F,U,0)||I(F,U,1),q=bs(wi(ye()),F,l.value(U));return ym(a.value,f.value,q)&&!O}return!1}return!1},y=le(()=>F=>Zl(h.value,U=>{const x=L(F,U.value),O=od(U.value,Cx(l.value(F),t.minDate),Ox(l.value(F),t.maxDate))||RG(t.disabledDates,l.value(F)).includes(U.value),q=E(U.value,F),z=Nx(o.value,U.value,l.value(F));return{active:x,disabled:O,isBetween:q,highlighted:z}})),v=(F,U)=>bs(wi(ye()),F,l.value(U)),T=(F,U)=>{const x=a.value?a.value:wi(new Date);a.value=bs(x,F,l.value(U)),e("auto-apply")},C=(F,U)=>{const x=Sb(a,v(F,U),e);Tm(x,e,t.autoApply,t.modelAuto)},P=(F,U)=>{Ib(v(F,U),a,t.multiDatesLimit),e("auto-apply",!0)},G=(F,U)=>(c.value[U].month=F,B(U,c.value[U].year,F),t.multiDates?P(F,U):t.range?C(F,U):T(F,U)),$=(F,U)=>{p(F,U),B(U,F,null)},B=(F,U,x)=>{let O=x;if(!O&&O!==0){const q=M();O=Array.isArray(q)?q[F].month:q.month}e("update-month-year",{instance:F,year:U,month:O})};return{groupedMonths:y,groupedYears:g,year:l,isDisabled:S,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:b,modelValue:a,presetDate:(F,U)=>{Vx({value:F,modelValue:a,range:t.range,timezone:U?void 0:t.timezone}),e("auto-apply")},setHoverDate:(F,U)=>{f.value=v(F,U)},selectMonth:G,selectYear:$,toggleYearPicker:A,handleYearSelect:R,handleYear:k,getModelMonthYear:M}},hY=Gt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Li},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Sa(),s=Qr(i,"yearMode"),o=t;yn(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:b,setHoverDate:A,selectMonth:R,selectYear:k,toggleYearPicker:S,handleYearSelect:_,handleYear:M,getModelMonthYear:L}=dY(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:L,selectMonth:R,selectYear:k,handleYear:M}),presetDate:b,toggleYearPicker:I=>S(0,I)}),(I,E)=>(W(),qe(wm,{"multi-calendars":Y(h).count,stretch:""},{default:Qe(({instance:y})=>[I.$slots["month-year"]?_e(I.$slots,"month-year",wn(pe({key:0},{year:Y(u),months:Y(a)(y),years:Y(l)(y),selectMonth:Y(R),selectYear:Y(k),instance:y}))):(W(),qe(Qd,{key:1,items:Y(a)(y),"arrow-navigation":I.arrowNavigation,"is-last":I.autoApply&&!Y(f).keepActionRow,"esc-close":I.escClose,height:Y(f).modeHeight,config:I.config,"no-overlay-focus":!!(I.noOverlayFocus||I.textInput),"use-relative":"",type:"month",onSelected:v=>Y(R)(v,y),onHoverValue:v=>Y(A)(v,y)},{header:Qe(()=>[et(Lx,pe(I.$props,{items:Y(l)(y),instance:y,"show-year-picker":Y(p)[y],year:Y(u)(y),"is-disabled":v=>Y(c)(y,v),onHandleYear:v=>Y(M)(y,v),onYearSelect:v=>Y(_)(v,y),onToggleYearPicker:v=>Y(S)(y,v==null?void 0:v.flow,v==null?void 0:v.show)}),er({_:2},[Ft(Y(s),(v,T)=>({name:v,fn:Qe(C=>[_e(I.$slots,v,wn(Zn(C)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),fY=(t,e)=>{const{modelValue:n}=Yd(t,e),r=fe(null),{defaultedHighlight:i,defaultedFilters:s}=Sn(t),o=fe();yn(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ut(ye(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ut(f)===h):n.value?ut(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?ym(n.value,r.value,c(h)):!1,u=le(()=>Zl(Tb(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=od(h.value,eu(t.minDate),eu(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,b=Eb(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:b}})),c=h=>Ki(wi(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=Ki(wi(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ut(p))).includes(h)?n.value=n.value.filter(p=>ut(p)!==h):n.value.push(Ki(br(ye()),h))):n.value=[Ki(br(ye()),h)],e("auto-apply",!0);if(t.range){const p=Sb(n,c(h),e);return Tm(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},pY=Gt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Li},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=fY(i,r),{defaultedConfig:c}=Sn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(W(),ee("div",null,[h.$slots["month-year"]?_e(h.$slots,"month-year",wn(pe({key:0},{years:Y(s),selectYear:Y(l)}))):(W(),qe(Qd,{key:1,items:Y(s),"is-last":h.autoApply&&!Y(c).keepActionRow,height:Y(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":Y(a),type:"year","use-relative":"",onSelected:Y(l),onHoverValue:Y(u)},er({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:p})=>[_e(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),mY={key:0,class:"dp__time_input"},gY=["aria-label","onKeydown","onClick"],vY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),yY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),_Y=["aria-label","disabled","onKeydown","onClick"],bY=["aria-label","onKeydown","onClick"],wY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),TY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),EY={key:0},IY=["aria-label","onKeydown"],SY=Gt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Li},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Ro(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Sn(i),{transitionName:h,showTransition:f}=Gd(l),p=Dr({hours:!1,minutes:!1,seconds:!1}),g=fe("AM"),b=fe(null),A=fe([]);yn(()=>{r("mounted")});const R=H=>on(new Date,{hours:H.hours,minutes:H.minutes,seconds:i.enableSeconds?H.seconds:0,milliseconds:0}),k=le(()=>H=>G(H,i[H])||_(H,i[H])),S=le(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),_=(H,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(H,Q):!1,M=(H,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ie=Q?+i[`${H}Increment`]:-+i[`${H}Increment`],X=i[H]+ie;return!i.validateTime(H,X)}return!1},L=le(()=>H=>!B(+i[H]+ +i[`${H}Increment`],H)||M(H,!0)),I=le(()=>H=>!B(+i[H]-+i[`${H}Increment`],H)||M(H,!1)),E=(H,Q)=>ZD(on(ye(),H),Q),y=(H,Q)=>jK(on(ye(),H),Q),v=le(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),T=le(()=>{const H=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?H.concat([{type:"",separator:!0},{type:"seconds"}]):H}),C=le(()=>T.value.filter(H=>!H.separator)),P=le(()=>H=>{if(H==="hours"){const Q=q(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[H]<10?`0${i[H]}`:`${i[H]}`,value:i[H]}}),G=(H,Q)=>{var ie;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,H==="hours"?Q:void 0);return X[H]?!!((ie=X[H])!=null&&ie.includes(Q)):!0},$=H=>{const Q=i.is24?24:12,ie=H==="hours"?Q:60,X=+i[`${H}GridIncrement`],ce=H==="hours"&&!i.is24?X:0,be=[];for(let ne=ce;ne<ie;ne+=X)be.push({value:ne,text:ne<10?`0${ne}`:`${ne}`});return H==="hours"&&!i.is24&&be.push({value:0,text:"12"}),Zl(be,ne=>({active:!1,disabled:u.value.times[H].includes(ne.value)||!B(ne.value,H)||G(H,ne.value)||_(H,ne.value)}))},B=(H,Q)=>{const ie=i.minTime?R($g(i.minTime)):null,X=i.maxTime?R($g(i.maxTime)):null,ce=R($g(S.value,Q,H));return ie&&X?(sd(ce,X)||cl(ce,X))&&(id(ce,ie)||cl(ce,ie)):ie?id(ce,ie)||cl(ce,ie):X?sd(ce,X)||cl(ce,X):!0},F=H=>i[`no${H[0].toUpperCase()+H.slice(1)}Overlay`],U=H=>{F(H)||(p[H]=!p[H],p[H]||r("overlay-closed"))},x=H=>H==="hours"?Pi:H==="minutes"?es:Xl,O=(H,Q=!0)=>{const ie=Q?E:y,X=Q?+i[`${H}Increment`]:-+i[`${H}Increment`];B(+i[H]+X,H)&&r(`update:${H}`,x(H)(ie({[H]:+i[H]},{[H]:+i[`${H}Increment`]})))},q=H=>i.is24?H:(H>=12?g.value="PM":g.value="AM",vG(H)),z=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},te=H=>{p[H]=!0},he=(H,Q,ie)=>{if(H&&i.arrowNavigation){Array.isArray(A.value[Q])?A.value[Q][ie]=H:A.value[Q]=[H];const X=A.value.reduce((ce,be)=>be.map((ne,D)=>[...ce[D]||[],be[D]]),[]);o(i.closeTimePickerBtn),b.value&&(X[1]=X[1].concat(b.value)),s(X,i.order)}},Z=(H,Q)=>(U(H),H==="hours"&&!i.is24?r(`update:${H}`,g.value==="PM"?Q+12:Q):r(`update:${H}`,Q));return e({openChildCmp:te}),(H,Q)=>{var ie;return H.disabled?de("",!0):(W(),ee("div",mY,[(W(!0),ee(Me,null,Ft(T.value,(X,ce)=>{var be,ne,D;return W(),ee("div",{key:ce,class:tt(v.value)},[X.separator?(W(),ee(Me,{key:0},[Dn(" : ")],64)):(W(),ee(Me,{key:1},[Ae("button",{ref_for:!0,ref:V=>he(V,ce,0),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_top:H.timePickerInline,dp__inc_dec_button_disabled:L.value(X.type)}),"aria-label":(be=Y(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(V=>O(X.type),["prevent"]),["enter"]),at(Lt(V=>O(X.type),["prevent"]),["space"])],onClick:V=>O(X.type)},[i.timePickerInline?(W(),ee(Me,{key:1},[vY,yY],64)):(W(),ee(Me,{key:0},[H.$slots["arrow-up"]?_e(H.$slots,"arrow-up",{key:0}):de("",!0),H.$slots["arrow-up"]?de("",!0):(W(),qe(Y(vb),{key:1}))],64))],42,gY),Ae("button",{ref_for:!0,ref:V=>he(V,ce,1),type:"button","aria-label":(ne=Y(a))==null?void 0:ne.openTpOverlay(X.type),class:tt({dp__time_display:!0,dp__time_display_block:!H.timePickerInline,dp__time_display_inline:H.timePickerInline,"dp--time-invalid":k.value(X.type),"dp--time-overlay-btn":!k.value(X.type)}),disabled:F(X.type),tabindex:"0",onKeydown:[at(Lt(V=>U(X.type),["prevent"]),["enter"]),at(Lt(V=>U(X.type),["prevent"]),["space"])],onClick:V=>U(X.type)},[H.$slots[X.type]?_e(H.$slots,X.type,{key:0,text:P.value(X.type).text,value:P.value(X.type).value}):de("",!0),H.$slots[X.type]?de("",!0):(W(),ee(Me,{key:1},[Dn(ht(P.value(X.type).text),1)],64))],42,_Y),Ae("button",{ref_for:!0,ref:V=>he(V,ce,2),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_bottom:H.timePickerInline,dp__inc_dec_button_disabled:I.value(X.type)}),"aria-label":(D=Y(a))==null?void 0:D.decrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(V=>O(X.type,!1),["prevent"]),["enter"]),at(Lt(V=>O(X.type,!1),["prevent"]),["space"])],onClick:V=>O(X.type,!1)},[i.timePickerInline?(W(),ee(Me,{key:1},[wY,TY],64)):(W(),ee(Me,{key:0},[H.$slots["arrow-down"]?_e(H.$slots,"arrow-down",{key:0}):de("",!0),H.$slots["arrow-down"]?de("",!0):(W(),qe(Y(yb),{key:1}))],64))],42,bY)],64))],2)}),128)),H.is24?de("",!0):(W(),ee("div",EY,[H.$slots["am-pm-button"]?_e(H.$slots,"am-pm-button",{key:0,toggle:z,value:g.value}):de("",!0),H.$slots["am-pm-button"]?de("",!0):(W(),ee("button",{key:1,ref_key:"amPmButton",ref:b,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=Y(a))==null?void 0:ie.amPmButton,tabindex:"0",onClick:z,onKeydown:[at(Lt(z,["prevent"]),["enter"]),at(Lt(z,["prevent"]),["space"])]},ht(g.value),41,IY))])),(W(!0),ee(Me,null,Ft(C.value,(X,ce)=>(W(),qe(Co,{key:ce,name:Y(h)(p[X.type]),css:Y(f)},{default:Qe(()=>[p[X.type]?(W(),qe(Qd,{key:0,items:$(X.type),"is-last":H.autoApply&&!Y(c).keepActionRow,"esc-close":H.escClose,type:X.type,"text-input":H.textInput,config:H.config,"arrow-navigation":H.arrowNavigation,onSelected:be=>Z(X.type,be),onToggle:be=>U(X.type),onResetFlow:Q[0]||(Q[0]=be=>H.$emit("reset-flow"))},er({"button-icon":Qe(()=>[H.$slots["clock-icon"]?_e(H.$slots,"clock-icon",{key:0}):de("",!0),H.$slots["clock-icon"]?de("",!0):(W(),qe(zr(H.timePickerInline?Y(vu):Y(gb)),{key:1}))]),_:2},[H.$slots[`${X.type}-overlay-value`]?{name:"item",fn:Qe(({item:be})=>[_e(H.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),AY={class:"dp--tp-wrap"},CY=["aria-label","tabindex"],OY=["tabindex"],PY=["aria-label"],$x=Gt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Li},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Ro(),a=Sa(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=Sn(i),{transitionName:f,showTransition:p}=Gd(l),{hideNavigationButtons:g}=_m(),b=fe(null),A=fe(null),R=fe([]),k=fe(null);yn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Mn(b.value)],"time"):o(!0,i.timePicker)});const S=le(()=>i.range&&i.modelAuto?Ax(i.internalModelValue):!0),_=fe(!1),M=$=>({hours:Array.isArray(i.hours)?i.hours[$]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[$]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[$]:i.seconds}),L=le(()=>{const $=[];if(i.range)for(let B=0;B<2;B++)$.push(M(B));else $.push(M(0));return $}),I=($,B=!1,F="")=>{B||r("reset-flow"),_.value=$,r($?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o($),Hn(()=>{F!==""&&R.value[0]&&R.value[0].openChildCmp(F)})},E=le(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),y=Qr(a,"timePicker"),v=($,B,F)=>i.range?B===0?[$,L.value[1][F]]:[L.value[0][F],$]:$,T=$=>{r("update:hours",$)},C=$=>{r("update:minutes",$)},P=$=>{r("update:seconds",$)},G=()=>{if(k.value&&!c.value.enabled&&!i.noOverlayFocus){const $=_G(k.value);$&&$.focus({preventScroll:!0})}};return e({toggleTimePicker:I}),($,B)=>{var F;return W(),ee("div",AY,[!$.timePicker&&!$.timePickerInline?Yo((W(),ee("button",{key:0,ref_key:"openTimePickerBtn",ref:b,type:"button",class:tt(E.value),"aria-label":(F=Y(u))==null?void 0:F.openTimePicker,tabindex:$.noOverlayFocus?void 0:0,onKeydown:[B[0]||(B[0]=at(U=>I(!0),["enter"])),B[1]||(B[1]=at(U=>I(!0),["space"]))],onClick:B[2]||(B[2]=U=>I(!0))},[$.$slots["clock-icon"]?_e($.$slots,"clock-icon",{key:0}):de("",!0),$.$slots["clock-icon"]?de("",!0):(W(),qe(Y(gb),{key:1}))],42,CY)),[[lc,!Y(g)($.hideNavigation,"time")]]):de("",!0),et(Co,{name:Y(f)(_.value),css:Y(p)&&!$.timePickerInline},{default:Qe(()=>{var U;return[_.value||$.timePicker||$.timePickerInline?(W(),ee("div",{key:0,ref_key:"overlayRef",ref:k,class:tt({dp__overlay:!$.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!$.timePickerInline,"dp--overlay-relative":i.timePicker}),style:kr($.timePicker?{height:`${Y(h).modeHeight}px`}:void 0),tabindex:$.timePickerInline?void 0:0},[Ae("div",{class:tt($.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[$.$slots["time-picker-overlay"]?_e($.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:T,setMinutes:C,setSeconds:P}):de("",!0),$.$slots["time-picker-overlay"]?de("",!0):(W(),ee("div",{key:1,class:tt($.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(W(!0),ee(Me,null,Ft(L.value,(x,O)=>Yo((W(),qe(SY,pe({key:O},{...$.$props,order:O,hours:x.hours,minutes:x.minutes,seconds:x.seconds,closeTimePickerBtn:A.value,disabledTimesConfig:t.disabledTimesConfig,disabled:O===0?$.fixedStart:$.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:R,"validate-time":(q,z)=>t.validateTime(q,v(z,O,q)),"onUpdate:hours":q=>T(v(q,O,"hours")),"onUpdate:minutes":q=>C(v(q,O,"minutes")),"onUpdate:seconds":q=>P(v(q,O,"seconds")),onMounted:G,onOverlayClosed:G,onAmPmChange:B[3]||(B[3]=q=>$.$emit("am-pm-change",q))}),er({_:2},[Ft(Y(y),(q,z)=>({name:q,fn:Qe(te=>[_e($.$slots,q,wn(Zn(te)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[lc,O===0?!0:S.value]])),128))],2)),!$.timePicker&&!$.timePickerInline?Yo((W(),ee("button",{key:2,ref_key:"closeTimePickerBtn",ref:A,type:"button",class:tt(E.value),"aria-label":(U=Y(u))==null?void 0:U.closeTimePicker,tabindex:"0",onKeydown:[B[4]||(B[4]=at(x=>I(!1),["enter"])),B[5]||(B[5]=at(x=>I(!1),["space"]))],onClick:B[6]||(B[6]=x=>I(!1))},[$.$slots["calendar-icon"]?_e($.$slots,"calendar-icon",{key:0}):de("",!0),$.$slots["calendar-icon"]?de("",!0):(W(),qe(Y(vu),{key:1}))],42,PY)),[[lc,!Y(g)($.hideNavigation,"time")]]):de("",!0)],2)],14,OY)):de("",!0)]}),_:3},8,["name","css"])])}}}),Ux=(t,e,n,r)=>{const i=(R,k)=>Array.isArray(e[R])?e[R][k]:e[R],s=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,o=(R,k)=>R?k!==void 0?fo(R,i("hours",k),i("minutes",k),s(k)):fo(R,e.hours,e.minutes,s()):fb(ye(),s(k)),a=(R,k)=>{e[R]=k},l=(R,k)=>{const S=Object.fromEntries(Object.keys(e).map(_=>_===R?[_,k]:[_,e[_]].slice()));if(t.range&&!t.disableTimeRangeValidation){const _=L=>n.value?fo(n.value[L],S.hours[L],S.minutes[L],S.seconds[L]):null,M=L=>hb(n.value[L],0);return!(Rt(_(0),_(1))&&(id(_(0),M(1))||sd(_(1),M(0))))}return!0},u=(R,k)=>{l(R,k)&&(a(R,k),r&&r())},c=R=>{u("hours",R)},h=R=>{u("minutes",R)},f=R=>{u("seconds",R)},p=(R,k,S,_)=>{k&&c(R),!k&&!S&&h(R),S&&f(R),n.value&&_(n.value)},g=R=>{if(R){const k=Array.isArray(R),S=k?[+R[0].hours,+R[1].hours]:+R.hours,_=k?[+R[0].minutes,+R[1].minutes]:+R.minutes,M=k?[+R[0].seconds,+R[1].seconds]:+R.seconds;a("hours",S),a("minutes",_),t.enableSeconds&&a("seconds",M)}},b=(R,k)=>{const S={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(k||k===0)&&(S.hours=k),Array.isArray(t.disabledTimes)&&(S.disabledArr=t.range&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),S},A=le(()=>(R,k)=>{var S;if(Array.isArray(t.disabledTimes)){const{disabledArr:_,hours:M}=b(R,k),L=_.filter(I=>+I.hours===M);return((S=L[0])==null?void 0:S.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(L==null?void 0:L.map(I=>+I.minutes))??[],seconds:(L==null?void 0:L.map(I=>I.seconds?+I.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:A}},kY=(t,e)=>{const{modelValue:n,time:r}=Yd(t,e),{defaultedStartTime:i}=Sn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=Ux(t,r,n),h=k=>{const{hours:S,minutes:_,seconds:M}=k;return{hours:+S,minutes:+_,seconds:M?+M:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const S=h(t.startTime[0]),_=h(t.startTime[1]);return[on(ye(),S),on(ye(),_)]}const k=h(t.startTime);return on(ye(),k)}return t.range?[null,null]:null},p=()=>{if(t.range){const[k,S]=f();n.value=[o(k,0),o(S,1)]}else n.value=o(f())},g=k=>Array.isArray(k)?[ta(ye(k[0])),ta(ye(k[1]))]:[ta(k??ye())],b=(k,S,_)=>{a("hours",k),a("minutes",S),a("seconds",t.enableSeconds?_:0)},A=()=>{const[k,S]=g(n.value);return t.range?b([k.hours,S.hours],[k.minutes,S.minutes],[k.seconds,S.minutes]):b(k.hours,k.minutes,k.seconds)};yn(()=>{if(!t.shadow)return l(i.value),n.value?A():p()});const R=()=>{Array.isArray(n.value)?n.value=n.value.map((k,S)=>k&&o(k,S)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(k,S=!0,_=!1)=>{s(k,S,_,R)},validateTime:c}},RY=Gt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Li},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Sa(),o=Qr(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=kY(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(W(),qe(wm,{"multi-calendars":0,stretch:""},{default:Qe(()=>[et($x,pe(f.$props,{hours:Y(a).hours,minutes:Y(a).minutes,seconds:Y(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":Y(u),"validate-time":Y(h),"onUpdate:hours":p[0]||(p[0]=g=>Y(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>Y(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>Y(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),er({_:2},[Ft(Y(o),(g,b)=>({name:g,fn:Qe(A=>[_e(f.$slots,g,wn(Zn(A)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),DY={class:"dp__month_year_row"},xY=["aria-label","onClick","onKeydown"],NY=Gt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Li},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Sn(i),{transitionName:h,showTransition:f}=Gd(s),{buildMatrix:p}=Ro(),{handleMonthYearChange:g,isDisabled:b,updateMonthYear:A}=WG(i,r),{showLeftIcon:R,showRightIcon:k}=_m(),S=fe(!1),_=fe(!1),M=fe([null,null,null,null]);yn(()=>{r("mount")});const L=O=>({get:()=>i[O],set:q=>{const z=O===vi.month?vi.year:vi.month;r("update-month-year",{[O]:q,[z]:i[z]}),O===vi.month?G(!0):$(!0)}}),I=le(L(vi.month)),E=le(L(vi.year)),y=le(()=>O=>({month:i.month,year:i.year,items:O===vi.month?i.months:i.years,instance:i.instance,updateMonthYear:A,toggle:O===vi.month?G:$})),v=le(()=>i.months.find(q=>q.value===i.month)||{text:"",value:0}),T=le(()=>Zl(i.months,O=>{const q=i.month===O.value,z=od(O.value,Cx(i.year,i.minDate),Ox(i.year,i.maxDate))||l.value.months.includes(O.value),te=Nx(c.value,O.value,i.year);return{active:q,disabled:z,highlighted:te}})),C=le(()=>Zl(i.years,O=>{const q=i.year===O.value,z=od(O.value,eu(i.minDate),eu(i.maxDate))||l.value.years.includes(O.value),te=Eb(c.value,O.value);return{active:q,disabled:z,highlighted:te}})),P=(O,q)=>{q!==void 0?O.value=q:O.value=!O.value,O.value||r("overlay-closed")},G=(O=!1,q)=>{B(O),P(S,q)},$=(O=!1,q)=>{B(O),P(_,q)},B=O=>{O||r("reset-flow")},F=(O,q)=>{i.arrowNavigation&&(M.value[q]=Mn(O),p(M.value,"monthYear"))},U=le(()=>{var O,q;return[{type:vi.month,index:1,toggle:G,modelValue:I.value,updateModelValue:z=>I.value=z,text:v.value.text,showSelectionGrid:S.value,items:T.value,ariaLabel:(O=o.value)==null?void 0:O.openMonthsOverlay},{type:vi.year,index:2,toggle:$,modelValue:E.value,updateModelValue:z=>E.value=z,text:i.year,showSelectionGrid:_.value,items:C.value,ariaLabel:(q=o.value)==null?void 0:q.openYearsOverlay}]}),x=le(()=>i.disableYearSelect?[U.value[0]]:i.yearFirst?[...U.value].reverse():U.value);return e({toggleMonthPicker:G,toggleYearPicker:$,handleMonthYearChange:g}),(O,q)=>{var z,te,he;return W(),ee("div",DY,[O.$slots["month-year"]?_e(O.$slots,"month-year",wn(pe({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:Y(A),handleMonthYearChange:Y(g),instance:t.instance}))):(W(),ee(Me,{key:1},[Y(R)(Y(a),t.instance)&&!O.vertical?(W(),qe(Sc,{key:0,"aria-label":(z=Y(o))==null?void 0:z.prevMonth,disabled:Y(b)(!1),onActivate:q[0]||(q[0]=Z=>Y(g)(!1,!0)),onSetRef:q[1]||(q[1]=Z=>F(Z,0))},{default:Qe(()=>[O.$slots["arrow-left"]?_e(O.$slots,"arrow-left",{key:0}):de("",!0),O.$slots["arrow-left"]?de("",!0):(W(),qe(Y(pb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ae("div",{class:tt(["dp__month_year_wrap",{dp__year_disable_select:O.disableYearSelect}])},[(W(!0),ee(Me,null,Ft(x.value,(Z,H)=>(W(),ee(Me,{key:Z.type},[Ae("button",{ref_for:!0,ref:Q=>F(Q,H+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Z.ariaLabel,onClick:Z.toggle,onKeydown:[at(Lt(Z.toggle,["prevent"]),["enter"]),at(Lt(Z.toggle,["prevent"]),["space"])]},[O.$slots[Z.type]?_e(O.$slots,Z.type,{key:0,text:Z.text,value:i[Z.type]}):de("",!0),O.$slots[Z.type]?de("",!0):(W(),ee(Me,{key:1},[Dn(ht(Z.text),1)],64))],40,xY),et(Co,{name:Y(h)(Z.showSelectionGrid),css:Y(f)},{default:Qe(()=>[Z.showSelectionGrid?(W(),qe(Qd,{key:0,items:Z.items,"arrow-navigation":O.arrowNavigation,"hide-navigation":O.hideNavigation,"is-last":O.autoApply&&!Y(u).keepActionRow,"skip-button-ref":!1,config:O.config,type:Z.type,"header-refs":[],"esc-close":O.escClose,"text-input":O.textInput,onSelected:Z.updateModelValue,onToggle:Z.toggle},er({"button-icon":Qe(()=>[O.$slots["calendar-icon"]?_e(O.$slots,"calendar-icon",{key:0}):de("",!0),O.$slots["calendar-icon"]?de("",!0):(W(),qe(Y(vu),{key:1}))]),_:2},[O.$slots[`${Z.type}-overlay-value`]?{name:"item",fn:Qe(({item:Q})=>[_e(O.$slots,`${Z.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,O.$slots[`${Z.type}-overlay`]?{name:"overlay",fn:Qe(()=>[_e(O.$slots,`${Z.type}-overlay`,wn(Zn(y.value(Z.type))))]),key:"1"}:void 0,O.$slots[`${Z.type}-overlay-header`]?{name:"header",fn:Qe(()=>[_e(O.$slots,`${Z.type}-overlay-header`,{toggle:Z.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Y(R)(Y(a),t.instance)&&O.vertical?(W(),qe(Sc,{key:1,"aria-label":(te=Y(o))==null?void 0:te.prevMonth,disabled:Y(b)(!1),onActivate:q[2]||(q[2]=Z=>Y(g)(!1,!0))},{default:Qe(()=>[O.$slots["arrow-up"]?_e(O.$slots,"arrow-up",{key:0}):de("",!0),O.$slots["arrow-up"]?de("",!0):(W(),qe(Y(vb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Y(k)(Y(a),t.instance)?(W(),qe(Sc,{key:2,ref:"rightIcon",disabled:Y(b)(!0),"aria-label":(he=Y(o))==null?void 0:he.nextMonth,onActivate:q[3]||(q[3]=Z=>Y(g)(!0,!0)),onSetRef:q[4]||(q[4]=Z=>F(Z,O.disableYearSelect?2:3))},{default:Qe(()=>[O.$slots[O.vertical?"arrow-down":"arrow-right"]?_e(O.$slots,O.vertical?"arrow-down":"arrow-right",{key:0}):de("",!0),O.$slots[O.vertical?"arrow-down":"arrow-right"]?de("",!0):(W(),qe(zr(O.vertical?Y(yb):Y(mb)),{key:1}))]),_:3},8,["disabled","aria-label"])):de("",!0)],64))])}}}),MY=["aria-label"],LY={class:"dp__calendar_header",role:"row"},VY={key:0,class:"dp__calendar_header_item",role:"gridcell"},FY=Ae("div",{class:"dp__calendar_header_separator"},null,-1),$Y=["aria-label"],UY={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},BY={class:"dp__cell_inner"},jY=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],HY=Gt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Li},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Ro(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=Sn(i),h=fe(null),f=fe({bottom:"",left:"",transform:""}),p=fe([]),g=fe(null),b=fe(!0),A=fe(""),R=fe({startX:0,endX:0,startY:0,endY:0}),k=fe([]),S=fe({left:"50%"}),_=le(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),M=le(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):gG(i.formatLocale,i.locale,+i.weekStart));yn(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",$,{passive:!1}),g.value.addEventListener("touchend",B,{passive:!1}),g.value.addEventListener("touchmove",F,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",O,{passive:!1})});const L=Z=>Z?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",I=(Z,H)=>{if(i.transitions){const Q=br(bs(ye(),i.month,i.year));A.value=vr(br(bs(ye(),Z,H)),Q)?o.value[L(!0)]:o.value[L(!1)],b.value=!1,Hn(()=>{b.value=!0})}},E=le(()=>({[i.calendarClassName]:!!i.calendarClassName})),y=le(()=>Z=>{const H=yG(Z);return{dp__marker_dot:H.type==="dot",dp__marker_line:H.type==="line"}}),v=le(()=>Z=>Rt(Z,h.value)),T=le(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),C=le(()=>Z=>i.hideOffsetDates?Z.current:!0),P=async(Z,H,Q)=>{var ie,X;if(r("set-hover-date",Z),(X=(ie=Z.marker)==null?void 0:ie.tooltip)!=null&&X.length){const ce=Mn(p.value[H][Q]);if(ce){const{width:be,height:ne}=ce.getBoundingClientRect();h.value=Z.value;let D={left:`${be/2}px`},V=-50;if(await Hn(),k.value[0]){const{left:j,width:oe}=k.value[0].getBoundingClientRect();j<0&&(D={left:"0"},V=0,S.value.left=`${be/2}px`),window.innerWidth<j+oe&&(D={right:"0"},V=0,S.value.left=`${oe-be/2}px`)}f.value={bottom:`${ne}px`,...D,transform:`translateX(${V}%)`},r("tooltip-open",Z.marker)}}},G=Z=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Z.marker))},$=Z=>{R.value.startX=Z.changedTouches[0].screenX,R.value.startY=Z.changedTouches[0].screenY},B=Z=>{R.value.endX=Z.changedTouches[0].screenX,R.value.endY=Z.changedTouches[0].screenY,U()},F=Z=>{i.vertical&&!i.inline&&Z.preventDefault()},U=()=>{const Z=i.vertical?"Y":"X";Math.abs(R.value[`start${Z}`]-R.value[`end${Z}`])>10&&r("handle-swipe",R.value[`start${Z}`]>R.value[`end${Z}`]?"right":"left")},x=(Z,H,Q)=>{Z&&(Array.isArray(p.value[H])?p.value[H][Q]=Z:p.value[H]=[Z]),i.arrowNavigation&&s(p.value,"calendar")},O=Z=>{i.monthChangeOnScroll&&(Z.preventDefault(),r("handle-scroll",Z))},q=Z=>c.value.type==="local"?Oz(Z.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Iz(Z.value):typeof c.value.type=="function"?c.value.type(Z.value):"",z=Z=>{const H=Z[0];return c.value.hideOnOffsetDates?Z.some(Q=>Q.current)?q(H):"":q(H)},te=(Z,H)=>{ho(Z,a.value),r("select-date",H)},he=Z=>{ho(Z,a.value)};return e({triggerTransition:I}),(Z,H)=>{var Q;return W(),ee("div",{class:tt(T.value)},[Ae("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:tt(E.value),"aria-label":(Q=Y(l))==null?void 0:Q.calendarWrap},[(W(),ee(Me,{key:0},[Ae("div",LY,[Z.weekNumbers?(W(),ee("div",VY,ht(Z.weekNumName),1)):de("",!0),(W(!0),ee(Me,null,Ft(M.value,(ie,X)=>(W(),ee("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[Z.$slots["calendar-header"]?_e(Z.$slots,"calendar-header",{key:0,day:ie,index:X}):de("",!0),Z.$slots["calendar-header"]?de("",!0):(W(),ee(Me,{key:1},[Dn(ht(ie),1)],64))]))),128))]),FY,et(Co,{name:A.value,css:!!Z.transitions},{default:Qe(()=>{var ie;return[b.value?(W(),ee("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ie=Y(l))==null?void 0:ie.calendarDays)||void 0},[(W(!0),ee(Me,null,Ft(_.value,(X,ce)=>(W(),ee("div",{key:ce,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(W(),ee("div",UY,[Ae("div",BY,ht(z(X.days)),1)])):de("",!0),(W(!0),ee(Me,null,Ft(X.days,(be,ne)=>{var D,V,j;return W(),ee("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:oe=>x(oe,ce,ne),key:ne+ce,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(V=(D=Y(l))==null?void 0:D.day)==null?void 0:V.call(D,be),tabindex:"0",onClick:Lt(oe=>te(oe,be),["prevent"]),onKeydown:[at(oe=>Z.$emit("select-date",be),["enter"]),at(oe=>Z.$emit("handle-space",be),["space"])],onMouseenter:oe=>P(be,ce,ne),onMouseleave:oe=>G(be)},[Ae("div",{class:tt(["dp__cell_inner",be.classData])},[Z.$slots.day&&C.value(be)?_e(Z.$slots,"day",{key:0,day:+be.text,date:be.value}):de("",!0),Z.$slots.day?de("",!0):(W(),ee(Me,{key:1},[Dn(ht(be.text),1)],64)),be.marker&&C.value(be)?(W(),ee(Me,{key:2},[Z.$slots.marker?_e(Z.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(W(),ee("div",{key:1,class:tt(y.value(be.marker)),style:kr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):de("",!0),v.value(be.value)?(W(),ee("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:k,class:"dp__marker_tooltip",style:kr(f.value)},[(j=be.marker)!=null&&j.tooltip?(W(),ee("div",{key:0,class:"dp__tooltip_content",onClick:he},[(W(!0),ee(Me,null,Ft(be.marker.tooltip,(oe,se)=>(W(),ee("div",{key:se,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?_e(Z.$slots,"marker-tooltip",{key:0,tooltip:oe,day:be.value}):de("",!0),Z.$slots["marker-tooltip"]?de("",!0):(W(),ee(Me,{key:1},[Ae("div",{class:"dp__tooltip_mark",style:kr(oe.color?{backgroundColor:oe.color}:{})},null,4),Ae("div",null,ht(oe.text),1)],64))]))),128)),Ae("div",{class:"dp__arrow_bottom_tp",style:kr(S.value)},null,4)])):de("",!0)],4)):de("",!0)],2)],40,jY)}),128))]))),128))],8,$Y)):de("",!0)]}),_:3},8,["name","css"])],64))],10,MY)],2)}}}),UI=t=>Array.isArray(t),WY=(t,e,n,r)=>{const i=fe([]),{modelValue:s,calendars:o,time:a}=Yd(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Sn(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=Na(t),{updateTimeValues:g,getSetDateTime:b,setTime:A,assignStartTime:R,validateTime:k,disabledTimesConfig:S}=Ux(t,a,s,r),_=le(()=>K=>o.value[K]?o.value[K].month:0),M=le(()=>K=>o.value[K]?o.value[K].year:0),L=(K,ae,Ne)=>{var We,dt;o.value[K]||(o.value[K]={month:0,year:0}),o.value[K].month=MI(ae)?(We=o.value[K])==null?void 0:We.month:ae,o.value[K].year=MI(Ne)?(dt=o.value[K])==null?void 0:dt.year:Ne},I=()=>{t.autoApply&&e("select-date")};In(s,(K,ae)=>{JSON.stringify(K)!==JSON.stringify(ae)&&v()}),yn(()=>{t.shadow||(s.value||(O(),u.value&&R(u.value)),v(!0),t.focusStartDate&&t.startDate&&O())});const E=le(()=>{var K;return(K=t.flow)!=null&&K.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),y=()=>{t.autoApply&&E.value&&e("auto-apply",t.partialFlow)},v=(K=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,B(K)):C(s.value,K);if(l.value.count&&K&&!t.startDate)return T(ye(),K)},T=(K,ae=!1)=>{if((!l.value.count||!l.value.static||ae)&&L(0,Et(K),ut(K)),l.value.count&&(!l.value.solo||!s.value))for(let Ne=1;Ne<l.value.count;Ne++){const We=on(ye(),{month:_.value(Ne-1),year:M.value(Ne-1)}),dt=ZD(We,{months:1});o.value[Ne]={month:Et(dt),year:ut(dt)}}},C=(K,ae)=>{T(K),A("hours",Pi(K)),A("minutes",es(K)),A("seconds",Xl(K)),l.value.count&&ae&&x()},P=K=>{if(l.value.count){if(l.value.solo)return 0;const ae=Et(K[0]),Ne=Et(K[1]);return Math.abs(Ne-ae)<l.value.count?0:1}return 1},G=(K,ae)=>{K[1]&&t.showLastInRange?T(K[P(K)],ae):T(K[0],ae);const Ne=(We,dt)=>[We(K[0]),K[1]?We(K[1]):a[dt][1]];A("hours",Ne(Pi,"hours")),A("minutes",Ne(es,"minutes")),A("seconds",Ne(Xl,"seconds"))},$=(K,ae)=>{if((t.range||t.weekPicker)&&!t.multiDates)return G(K,ae);if(t.multiDates&&ae){const Ne=K[K.length-1];return C(Ne,ae)}},B=K=>{const ae=s.value;$(ae,K),l.value.count&&l.value.solo&&x()},F=(K,ae)=>{const Ne=on(ye(),{month:_.value(ae),year:M.value(ae)}),We=K<0?Oi(Ne,1):Jl(Ne,1);c(Et(We),ut(We),K<0,t.preventMinMaxNavigation)&&(L(ae,Et(We),ut(We)),e("update-month-year",{instance:ae,month:Et(We),year:ut(We)}),l.value.count&&!l.value.solo&&U(ae),n())},U=K=>{for(let ae=K-1;ae>=0;ae--){const Ne=Jl(on(ye(),{month:_.value(ae+1),year:M.value(ae+1)}),1);L(ae,Et(Ne),ut(Ne))}for(let ae=K+1;ae<=l.value.count-1;ae++){const Ne=Oi(on(ye(),{month:_.value(ae-1),year:M.value(ae-1)}),1);L(ae,Et(Ne),ut(Ne))}},x=()=>{if(Array.isArray(s.value)&&s.value.length===2){const K=ye(ye(s.value[1]?s.value[1]:Oi(s.value[0],1))),[ae,Ne]=[Et(s.value[0]),ut(s.value[0])],[We,dt]=[Et(s.value[1]),ut(s.value[1])];(ae!==We||ae===We&&Ne!==dt)&&l.value.solo&&L(1,Et(K),ut(K))}else s.value&&!Array.isArray(s.value)&&(L(0,Et(s.value),ut(s.value)),T(ye()))},O=()=>{t.startDate&&(L(0,Et(ye(t.startDate)),ut(ye(t.startDate))),l.value.count&&U(0))},q=EG((K,ae)=>{t.monthChangeOnScroll&&F(t.monthChangeOnScroll!=="inverse"?-K.deltaY:K.deltaY,ae)},50),z=(K,ae,Ne=!1)=>{t.monthChangeOnArrows&&t.vertical===Ne&&te(K,ae)},te=(K,ae)=>{F(K==="right"?-1:1,ae)},he=K=>t.markers.find(ae=>Rt(AG(K.value),ki(ye(ae.date),t.timezone))),Z=(K,ae)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[K==0,!0];case"fair":return[K==0||ae>K,!0];case"append":return[!1,!1];default:return[!1,!1]}},H=(K,ae,Ne,We)=>{if(t.sixWeeks&&K.length<6){const dt=6-K.length,Nt=(ae.getDay()+7-We)%7,Wn=6-(Ne.getDay()+7-We)%7,[Oe,Be]=Z(Nt,Wn);for(let je=1;je<=dt;je++)if(Be?!!(je%2)==Oe:Oe){const qn=K[0].days[0],Wr=Q(ms(qn.value,-7),Et(ae));K.unshift({days:Wr})}else{const qn=K[K.length-1],Wr=qn.days[qn.days.length-1],Va=Q(ms(Wr.value,1),Et(ae));K.push({days:Va})}}return K},Q=(K,ae)=>{const Ne=ye(K),We=[];for(let dt=0;dt<7;dt++){const Nt=ms(Ne,dt),Wn=Et(Nt)!==ae;We.push({text:t.hideOffsetDates&&Wn?"":Nt.getDate(),value:Nt,current:!Wn,classData:{}})}return We},ie=(K,ae)=>{const Ne=[],We=new Date(ae,K),dt=new Date(ae,K+1,0),Nt=t.weekStart,Wn=ba(We,{weekStartsOn:Nt}),Oe=Be=>{const je=Q(Be,K);if(Ne.push({days:je}),!Ne[Ne.length-1].days.some(qn=>Rt(br(qn.value),br(dt)))){const qn=ms(Be,7);Oe(qn)}};return Oe(Wn),H(Ne,We,dt,Nt)},X=K=>(s.value=of(ye(K.value),t.timezone,t.weekStart),e("date-update",K.value),y()),ce=K=>{const ae=fo(ye(K.value),a.hours,a.minutes,me());e("date-update",ae),t.multiDates?Ib(ae,s,t.multiDatesLimit):s.value=ae,r(),Hn().then(()=>{y()})},be=K=>t.noDisabledRange?kx(i.value[0],K).some(ae=>h(ae)):!1,ne=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},D=(K,ae)=>{const Ne=[ye(K.value),ms(ye(K.value),+t.autoRange)];f(Ne)?(ae&&V(K.value),i.value=Ne):e("invalid-date",K.value)},V=K=>{const ae=Et(ye(K)),Ne=ut(ye(K));if(L(0,ae,Ne),l.value.count>0)for(let We=1;We<l.value.count;We++){const dt=CG(on(ye(K),{year:_.value(We-1),month:M.value(We-1)}));L(We,dt.month,dt.year)}},j=K=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(vr(K,s.value[0])||Rt(K,s.value[0]))?[s.value[0],K]:t.fixedEnd&&(Jn(K,s.value[1])||Rt(K,s.value[1]))?[K,s.value[1]]:(e("invalid-fixed-range",K),s.value):[],oe=K=>{if(be(K.value)||!p(K.value,s.value,t.fixedStart?0:1))return e("invalid-date",K.value);i.value=j(ye(K.value))},se=(K,ae)=>{if(ne(),t.autoRange)return D(K,ae);if(t.fixedStart||t.fixedEnd)return oe(K);i.value[0]?p(ye(K.value),s.value)&&!be(K.value)?Jn(ye(K.value),ye(i.value[0]))?(i.value.unshift(ye(K.value)),e("range-end",i.value[0])):(i.value[1]=ye(K.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",K.value),e("invalid-date",K.value)):(i.value[0]=ye(K.value),e("range-start",i.value[0]))},me=(K=!0)=>t.enableSeconds?Array.isArray(a.seconds)?K?a.seconds[0]:a.seconds[1]:a.seconds:0,Se=K=>{i.value[K]=fo(i.value[K],a.hours[K],a.minutes[K],me(K!==1))},Ee=()=>{var K,ae;i.value[0]&&i.value[1]&&+((K=i.value)==null?void 0:K[0])>+((ae=i.value)==null?void 0:ae[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Te=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Se(0):(Se(0),Se(1),r()),Ee(),s.value=i.value.slice(),Tm(i.value,e,t.autoApply,t.modelAuto))},ge=(K,ae=!1)=>{if(h(K.value)||!K.current&&t.hideOffsetDates)return e("invalid-date",K.value);if(t.weekPicker)return X(K);if(!t.range)return ce(K);UI(a.hours)&&UI(a.minutes)&&!t.multiDates&&(se(K,ae),Te())},He=(K,ae)=>{var Ne;L(K,ae.month,ae.year),l.value.count&&!l.value.solo&&U(K),e("update-month-year",{instance:K,month:ae.month,year:ae.year}),n(l.value.solo?K:void 0);const We=(Ne=t.flow)!=null&&Ne.length?t.flow[t.flowStep]:void 0;!ae.fromNav&&(We===ji.month||We===ji.year)&&r()},Ie=(K,ae)=>{Vx({value:K,modelValue:s,range:t.range,timezone:ae?void 0:t.timezone}),I(),t.multiCalendars&&Hn().then(()=>v(!0))},Fe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Jn(ye(),s.value[0])?[ye(),s.value[0]]:[s.value[0],ye()]:s.value=[ye()]:s.value=ye(),I()},Ye=()=>{if(Array.isArray(s.value))if(t.multiDates){const K=Ke();s.value[s.value.length-1]=b(K)}else s.value=s.value.map((K,ae)=>K&&b(K,ae));else s.value=b(s.value);e("time-update")},Ke=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:_,year:M,time:a,disabledTimesConfig:S,validateTime:k,getCalendarDays:ie,getMarker:he,handleScroll:q,handleSwipe:te,handleArrow:z,selectDate:ge,updateMonthYear:He,presetDate:Ie,selectCurrentDate:Fe,updateTime:(K,ae=!0,Ne=!1)=>{g(K,ae,Ne,Ye)}}},qY={key:0},zY=Gt({__name:"DatePicker",props:{...Li},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:b,handleSwipe:A,selectDate:R,updateMonthYear:k,presetDate:S,selectCurrentDate:_,updateTime:M}=WY(i,r,x,O),L=Sa(),{setHoverDate:I,getDayClassData:E,clearHoverDate:y}=GG(l,i),{defaultedMultiCalendars:v}=Sn(i),T=fe([]),C=fe([]),P=fe(null),G=Qr(L,"calendar"),$=Qr(L,"monthYear"),B=Qr(L,"timePicker"),F=z=>{i.shadow||r("mount",z)};In(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const U=le(()=>z=>f(o.value(z),a.value(z)).map(te=>({...te,days:te.days.map(he=>(he.marker=p(he),he.classData=E(he),he))})));function x(z){var te;z||z===0?(te=C.value[z])==null||te.triggerTransition(o.value(z),a.value(z)):C.value.forEach((he,Z)=>he.triggerTransition(o.value(Z),a.value(Z)))}function O(){r("update-flow-step")}const q=(z,te=!1)=>{R(z,te),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:y,presetDate:S,selectCurrentDate:_,toggleMonthPicker:(z,te,he=0)=>{var Z;(Z=T.value[he])==null||Z.toggleMonthPicker(z,te)},toggleYearPicker:(z,te,he=0)=>{var Z;(Z=T.value[he])==null||Z.toggleYearPicker(z,te)},toggleTimePicker:(z,te,he)=>{var Z;(Z=P.value)==null||Z.toggleTimePicker(z,te,he)},handleArrow:g,updateMonthYear:k,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:M,updateMonthYear:k,selectDate:R,presetDate:S})}),(z,te)=>(W(),ee(Me,null,[et(wm,{"multi-calendars":Y(v).count},{default:Qe(({instance:he,index:Z})=>[z.disableMonthYearSelect?de("",!0):(W(),qe(NY,pe({key:0,ref:H=>{H&&(T.value[Z]=H)},months:Y(Sx)(z.formatLocale,z.locale,z.monthNameFormat),years:Y(Tb)(z.yearRange,z.reverseYears),month:Y(o)(he),year:Y(a)(he),instance:he},z.$props,{onMount:te[0]||(te[0]=H=>F(Y(na).header)),onResetFlow:te[1]||(te[1]=H=>z.$emit("reset-flow")),onUpdateMonthYear:H=>Y(k)(he,H),onOverlayClosed:te[2]||(te[2]=H=>z.$emit("focus-menu"))}),er({_:2},[Ft(Y($),(H,Q)=>({name:H,fn:Qe(ie=>[_e(z.$slots,H,wn(Zn(ie)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),et(HY,pe({ref:H=>{H&&(C.value[Z]=H)},"mapped-dates":U.value(he),month:Y(o)(he),year:Y(a)(he),instance:he},z.$props,{onSelectDate:H=>Y(R)(H,he!==1),onHandleSpace:H=>q(H,he!==1),onSetHoverDate:te[3]||(te[3]=H=>Y(I)(H)),onHandleScroll:H=>Y(b)(H,he),onHandleSwipe:H=>Y(A)(H,he),onMount:te[4]||(te[4]=H=>F(Y(na).calendar)),onResetFlow:te[5]||(te[5]=H=>z.$emit("reset-flow")),onTooltipOpen:te[6]||(te[6]=H=>z.$emit("tooltip-open",H)),onTooltipClose:te[7]||(te[7]=H=>z.$emit("tooltip-close",H))}),er({_:2},[Ft(Y(G),(H,Q)=>({name:H,fn:Qe(ie=>[_e(z.$slots,H,wn(Zn({...ie})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),z.enableTimePicker?(W(),ee("div",qY,[z.$slots["time-picker"]?_e(z.$slots,"time-picker",wn(pe({key:0},{time:Y(u),updateTime:Y(M)}))):(W(),qe($x,pe({key:1,ref_key:"timePickerRef",ref:P},z.$props,{hours:Y(u).hours,minutes:Y(u).minutes,seconds:Y(u).seconds,"internal-model-value":z.internalModelValue,"disabled-times-config":Y(c),"validate-time":Y(h),onMount:te[8]||(te[8]=he=>F(Y(na).timePicker)),"onUpdate:hours":te[9]||(te[9]=he=>Y(M)(he)),"onUpdate:minutes":te[10]||(te[10]=he=>Y(M)(he,!1)),"onUpdate:seconds":te[11]||(te[11]=he=>Y(M)(he,!1,!0)),onResetFlow:te[12]||(te[12]=he=>z.$emit("reset-flow")),onOverlayClosed:te[13]||(te[13]=he=>z.$emit("time-picker-close")),onOverlayOpened:te[14]||(te[14]=he=>z.$emit("time-picker-open",he)),onAmPmChange:te[15]||(te[15]=he=>z.$emit("am-pm-change",he))}),er({_:2},[Ft(Y(B),(he,Z)=>({name:he,fn:Qe(H=>[_e(z.$slots,he,wn(Zn(H)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):de("",!0)],64))}}),KY=(t,e)=>{const n=fe(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Sn(t),{modelValue:o,year:a,month:l,calendars:u}=Yd(t,e),{isDisabled:c}=Na(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:b,handleYearSelect:A,handleYear:R}=Fx({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),k=(y,v)=>[y,v].map(T=>co(T,"MMMM",{locale:t.formatLocale})).join("-"),S=le(()=>y=>o.value?Array.isArray(o.value)?o.value.some(v=>II(y,v)):II(o.value,y):!1),_=y=>{if(t.range){if(Array.isArray(o.value)){const v=Rt(y,o.value[0])||Rt(y,o.value[1]);return ym(o.value,n.value,y)&&!v}return!1}return!1},M=le(()=>y=>{const v=on(new Date,{year:a.value(y)});return mq({start:vq(v),end:gq(v)}).map(T=>{const C=rd(T),P=vI(T),G=c(T),$=_(C),B=typeof s.value=="function"?s.value({quarter:gI(C),year:ut(C)}):!!s.value.quarters.find(F=>F.quarter===gI(C)&&F.year===ut(C));return{text:k(C,P),value:C,active:S.value(C),highlighted:B,disabled:G,isBetween:$}})}),L=y=>{Ib(y,o,t.multiDatesLimit),e("auto-apply",!0)},I=y=>{const v=Sb(o,y,e);Tm(v,e,t.autoApply,t.modelAuto)},E=y=>{o.value=y,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:M,showYearPicker:p,modelValue:o,setHoverDate:y=>{n.value=y},selectYear:h,selectQuarter:(y,v,T)=>{if(!T)return u.value[v].month=Et(vI(y)),t.multiDates?L(y):t.range?I(y):E(y)},toggleYearPicker:b,handleYearSelect:A,handleYear:R}},GY={class:"dp--quarter-items"},YY=["disabled","onClick","onMouseover"],QY=Gt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Li},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Sa(),o=Qr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:b,selectQuarter:A,toggleYearPicker:R,handleYearSelect:k,handleYear:S}=KY(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:A,handleYearSelect:k,handleYear:S})}),(_,M)=>(W(),qe(wm,{"multi-calendars":Y(a).count,stretch:""},{default:Qe(({instance:L})=>[Ae("div",{class:"dp-quarter-picker-wrap",style:kr({minHeight:`${Y(l).modeHeight}px`})},[Ae("div",null,[et(Lx,pe(_.$props,{items:Y(u)(L),instance:L,"show-year-picker":Y(g)[L],year:Y(c)(L),"is-disabled":I=>Y(h)(L,I),onHandleYear:I=>Y(S)(L,I),onYearSelect:I=>Y(k)(I,L),onToggleYearPicker:I=>Y(R)(L,I==null?void 0:I.flow,I==null?void 0:I.show)}),er({_:2},[Ft(Y(o),(I,E)=>({name:I,fn:Qe(y=>[_e(_.$slots,I,wn(Zn(y)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ae("div",GY,[(W(!0),ee(Me,null,Ft(Y(f)(L),(I,E)=>(W(),ee("div",{key:E},[Ae("button",{type:"button",class:tt(["dp--qr-btn",{"dp--qr-btn-active":I.active,"dp--qr-btn-between":I.isBetween,"dp--qr-btn-disabled":I.disabled,"dp--highlighted":I.highlighted}]),disabled:I.disabled,onClick:y=>Y(A)(I.value,L,I.disabled),onMouseover:y=>Y(b)(I.value)},[_.$slots.quarter?_e(_.$slots,"quarter",{key:0,value:I.value,text:I.text}):(W(),ee(Me,{key:1},[Dn(ht(I.text),1)],64))],42,YY)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),XY=["id"],JY={key:0,class:"dp__sidebar_left"},ZY={key:1,class:"dp--preset-dates"},eQ=["onClick","onKeydown"],tQ={key:2,class:"dp__sidebar_right"},nQ={key:3,class:"dp__action_extra"},BI=Gt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...bm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=le(()=>{const{openOnTop:ne,...D}=i;return{...D,flowStep:E.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=Mx(),u=Sa(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=Sn(i),p=fe(null),g=fe(0),b=fe(null),A=fe(null),R=fe(!1),k=fe(null);yn(()=>{if(!i.shadow){R.value=!0,S(),window.addEventListener("resize",S);const ne=Mn(b);if(ne&&!c.value.enabled&&!h.value.enabled&&(o(!0),P()),ne){const D=V=>{f.value.allowPreventDefault&&V.preventDefault(),ho(V,f.value,!0)};ne.addEventListener("pointerdown",D),ne.addEventListener("mousedown",D)}}}),Ia(()=>{window.removeEventListener("resize",S)});const S=()=>{const ne=Mn(A);ne&&(g.value=ne.getBoundingClientRect().width)},{arrowRight:_,arrowLeft:M,arrowDown:L,arrowUp:I}=Ro(),{flowStep:E,updateFlowStep:y,childMount:v,resetFlow:T}=YG(i,r,k),C=le(()=>i.monthPicker?hY:i.yearPicker?pY:i.timePicker?RY:i.quarterPicker?QY:zY),P=()=>{const ne=Mn(b);ne&&ne.focus({preventScroll:!0})},G=le(()=>{var ne;return((ne=k.value)==null?void 0:ne.getSidebarProps())||{}}),$=()=>{i.openOnTop&&r("recalculate-position")},B=Qr(u,"action"),F=le(()=>i.monthPicker||i.yearPicker?Qr(u,"monthYear"):i.timePicker?Qr(u,"timePicker"):Qr(u,"shared")),U=le(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),x=le(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),O=le(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),q=ne=>{ho(ne,f.value,!0)},z=()=>{i.escClose&&r("close-picker")},te=ne=>{if(i.arrowNavigation){if(ne==="up")return I();if(ne==="down")return L();if(ne==="left")return M();if(ne==="right")return _()}else ne==="left"||ne==="up"?ie("handleArrow","left",0,ne==="up"):ie("handleArrow","right",0,ne==="down")},he=ne=>{a(ne.shiftKey),!i.disableMonthYearSelect&&ne.code==="Tab"&&ne.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(ne.preventDefault(),ho(ne,f.value,!0),r("close-picker"))},Z=()=>{P(),r("time-picker-close")},H=ne=>{var D,V,j;(D=k.value)==null||D.toggleTimePicker(!1,!1),(V=k.value)==null||V.toggleMonthPicker(!1,!1,ne),(j=k.value)==null||j.toggleYearPicker(!1,!1,ne)},Q=(ne,D=0)=>{var V,j,oe;return ne==="month"?(V=k.value)==null?void 0:V.toggleMonthPicker(!1,!0,D):ne==="year"?(j=k.value)==null?void 0:j.toggleYearPicker(!1,!0,D):ne==="time"?(oe=k.value)==null?void 0:oe.toggleTimePicker(!0,!1):H(D)},ie=(ne,...D)=>{var V,j;(V=k.value)!=null&&V[ne]&&((j=k.value)==null||j[ne](...D))},X=()=>{ie("selectCurrentDate")},ce=(ne,D)=>{ie("presetDate",ne,D)},be=()=>{ie("clearHoverDate")};return e({updateMonthYear:(ne,D)=>{ie("updateMonthYear",ne,D)},switchView:Q}),(ne,D)=>{var V;return W(),ee("div",{id:ne.uid?`dp-menu-${ne.uid}`:void 0,ref_key:"dpMenuRef",ref:b,tabindex:"0",role:"dialog",class:tt(O.value),onMouseleave:be,onClick:q,onKeydown:[at(z,["esc"]),D[18]||(D[18]=at(Lt(j=>te("left"),["prevent"]),["left"])),D[19]||(D[19]=at(Lt(j=>te("up"),["prevent"]),["up"])),D[20]||(D[20]=at(Lt(j=>te("down"),["prevent"]),["down"])),D[21]||(D[21]=at(Lt(j=>te("right"),["prevent"]),["right"])),he]},[(ne.disabled||ne.readonly)&&Y(h).enabled?(W(),ee("div",{key:0,class:tt(x.value)},null,2)):de("",!0),!Y(h).enabled&&!ne.teleportCenter?(W(),ee("div",{key:1,class:tt(U.value)},null,2)):de("",!0),Ae("div",{ref_key:"innerMenuRef",ref:A,class:tt({dp__menu_content_wrapper:((V=ne.presetDates)==null?void 0:V.length)||!!ne.$slots["left-sidebar"]||!!ne.$slots["right-sidebar"]}),style:kr({"--dp-menu-width":`${g.value}px`})},[ne.$slots["left-sidebar"]?(W(),ee("div",JY,[_e(ne.$slots,"left-sidebar",wn(Zn(G.value)))])):de("",!0),ne.presetDates.length?(W(),ee("div",ZY,[(W(!0),ee(Me,null,Ft(ne.presetDates,(j,oe)=>(W(),ee(Me,{key:oe},[j.slot?_e(ne.$slots,j.slot,{key:0,presetDate:ce,label:j.label,value:j.value}):(W(),ee("button",{key:1,type:"button",style:kr(j.style||{}),class:"dp__btn dp--preset-range",onClick:Lt(se=>ce(j.value,j.noTz),["prevent"]),onKeydown:[at(Lt(se=>ce(j.value,j.noTz),["prevent"]),["enter"]),at(Lt(se=>ce(j.value,j.noTz),["prevent"]),["space"])]},ht(j.label),45,eQ))],64))),128))])):de("",!0),Ae("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(W(),qe(zr(C.value),pe({ref_key:"dynCmpRef",ref:k},s.value,{"flow-step":Y(E),onMount:Y(v),onUpdateFlowStep:Y(y),onResetFlow:Y(T),onFocusMenu:P,onSelectDate:D[0]||(D[0]=j=>ne.$emit("select-date")),onDateUpdate:D[1]||(D[1]=j=>ne.$emit("date-update",j)),onTooltipOpen:D[2]||(D[2]=j=>ne.$emit("tooltip-open",j)),onTooltipClose:D[3]||(D[3]=j=>ne.$emit("tooltip-close",j)),onAutoApply:D[4]||(D[4]=j=>ne.$emit("auto-apply",j)),onRangeStart:D[5]||(D[5]=j=>ne.$emit("range-start",j)),onRangeEnd:D[6]||(D[6]=j=>ne.$emit("range-end",j)),onInvalidFixedRange:D[7]||(D[7]=j=>ne.$emit("invalid-fixed-range",j)),onTimeUpdate:D[8]||(D[8]=j=>ne.$emit("time-update")),onAmPmChange:D[9]||(D[9]=j=>ne.$emit("am-pm-change",j)),onTimePickerOpen:D[10]||(D[10]=j=>ne.$emit("time-picker-open",j)),onTimePickerClose:Z,onRecalculatePosition:$,onUpdateMonthYear:D[11]||(D[11]=j=>ne.$emit("update-month-year",j)),onAutoApplyInvalid:D[12]||(D[12]=j=>ne.$emit("auto-apply-invalid",j)),onInvalidDate:D[13]||(D[13]=j=>ne.$emit("invalid-date",j)),"onUpdate:internalModelValue":D[14]||(D[14]=j=>ne.$emit("update:internal-model-value",j))}),er({_:2},[Ft(F.value,(j,oe)=>({name:j,fn:Qe(se=>[_e(ne.$slots,j,wn(Zn({...se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ne.$slots["right-sidebar"]?(W(),ee("div",tQ,[_e(ne.$slots,"right-sidebar",wn(Zn(G.value)))])):de("",!0),ne.$slots["action-extra"]?(W(),ee("div",nQ,[ne.$slots["action-extra"]?_e(ne.$slots,"action-extra",{key:0,selectCurrentDate:X}):de("",!0)])):de("",!0)],6),!ne.autoApply||Y(f).keepActionRow?(W(),qe(rY,pe({key:2,"menu-mount":R.value},s.value,{"calendar-width":g.value,onClosePicker:D[15]||(D[15]=j=>ne.$emit("close-picker")),onSelectDate:D[16]||(D[16]=j=>ne.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=j=>ne.$emit("invalid-select")),onSelectNow:X}),er({_:2},[Ft(Y(B),(j,oe)=>({name:j,fn:Qe(se=>[_e(ne.$slots,j,wn(Zn({...se})))])}))]),1040,["menu-mount","calendar-width"])):de("",!0)],42,XY)}}}),rQ=typeof window<"u"?window:void 0,Kg=()=>{},iQ=t=>Jy()?(lA(t),!0):!1,sQ=(t,e,n,r)=>{if(!t)return Kg;let i=Kg;const s=In(()=>Y(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Kg})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return iQ(o),o},oQ=(t,e,n,r={})=>{const{window:i=rQ,event:s="pointerdown"}=r;return i?sQ(i,s,o=>{const a=Mn(t),l=Mn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},aQ=Gt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...bm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Sa(),o=fe(!1),a=Dc(i,"modelValue"),l=Dc(i,"timezone"),u=fe(null),c=fe(null),h=fe(null),f=fe(!1),p=fe(null),g=fe(!1),b=fe(!1),{setMenuFocused:A,setShiftKey:R}=Mx(),{clearArrowNav:k}=Ro(),{mapDatesArrToMap:S,validateDate:_,isValidTime:M}=Na(i),{defaultedTransitions:L,defaultedTextInput:I,defaultedInline:E,defaultedConfig:y}=Sn(i),{menuTransition:v,showTransition:T}=Gd(L);yn(()=>{te(i.modelValue),Hn().then(()=>{if(!E.value.enabled){const Oe=x(p.value);Oe==null||Oe.addEventListener("scroll",ne),window==null||window.addEventListener("resize",D)}}),E.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",V),window==null||window.addEventListener("keydown",j)});const C=le(()=>S());Ia(()=>{if(!E.value.enabled){const Oe=x(p.value);Oe==null||Oe.removeEventListener("scroll",ne),window==null||window.removeEventListener("resize",D)}window==null||window.removeEventListener("keyup",V),window==null||window.removeEventListener("keydown",j)});const P=Qr(s,"all",i.presetDates),G=Qr(s,"input");In([a,l],()=>{te(a.value)},{deep:!0});const{openOnTop:$,menuStyle:B,xCorrect:F,setMenuPosition:U,getScrollableParent:x,shadowRender:O}=qG({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:E,emit:r,props:i,slots:s}),{inputValue:q,internalModelValue:z,parseExternalModelValue:te,emitModelValue:he,formatInputValue:Z,checkBeforeEmit:H}=HG(r,i,f),Q=le(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,dp__flex_display_with_input:E.value.input})),ie=le(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=le(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled})),ce=le(()=>({class:"dp__outer_menu_wrap"})),be=le(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),ne=()=>{o.value&&(y.value.closeOnScroll?Ie():U())},D=()=>{o.value&&U()},V=Oe=>{Oe.key==="Tab"&&!E.value.enabled&&!i.teleport&&y.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ie()),b.value=Oe.shiftKey},j=Oe=>{b.value=Oe.shiftKey},oe=()=>{!i.disabled&&!i.readonly&&(O(BI,i),U(!1),o.value=!0,o.value&&r("open"),o.value||He(),te(i.modelValue))},se=()=>{var Oe;q.value="",He(),(Oe=h.value)==null||Oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),y.value.closeOnClearValue&&Ie()},me=()=>{const Oe=z.value;return!Oe||!Array.isArray(Oe)&&_(Oe)?!0:Array.isArray(Oe)?i.multiDates||Oe.length===2&&_(Oe[0])&&_(Oe[1])?!0:i.partialRange&&!i.timePicker?_(Oe[0]):!1:!1},Se=()=>{H()&&me()?(he(),Ie()):r("invalid-select",z.value)},Ee=Oe=>{Te(),he(),y.value.closeOnAutoApply&&!Oe&&Ie()},Te=()=>{h.value&&I.value.enabled&&h.value.setParsedDate(z.value)},ge=(Oe=!1)=>{i.autoApply&&M(z.value)&&me()&&(i.range&&Array.isArray(z.value)?(i.partialRange||z.value.length===2)&&Ee(Oe):Ee(Oe))},He=()=>{I.value.enabled||(z.value=null)},Ie=()=>{E.value.enabled||(o.value&&(o.value=!1,F.value=!1,A(!1),R(!1),k(),r("closed"),q.value&&te(a.value)),He(),r("blur"))},Fe=(Oe,Be,je=!1)=>{if(!Oe){z.value=null;return}const qn=Array.isArray(Oe)?!Oe.some(Va=>!_(Va)):_(Oe),Wr=M(Oe);qn&&Wr&&(z.value=Oe,Be&&(g.value=je,Se(),r("text-submit")))},Ye=()=>{i.autoApply&&M(z.value)&&he(),Te()},Ke=()=>o.value?Ie():oe(),K=Oe=>{z.value=Oe},ae=()=>{I.value.enabled&&(f.value=!0,Z()),r("focus")},Ne=()=>{if(I.value.enabled&&(f.value=!1,te(i.modelValue),g.value)){const Oe=TG(p.value,b.value);Oe==null||Oe.focus()}r("blur")},We=Oe=>{c.value&&c.value.updateMonthYear(0,{month:NI(Oe.month),year:NI(Oe.year)})},dt=Oe=>{te(Oe??i.modelValue)},Nt=(Oe,Be)=>{var je;(je=c.value)==null||je.switchView(Oe,Be)},Wn=Oe=>y.value.onClickOutside?y.value.onClickOutside(Oe):Ie();return oQ(u,h,()=>Wn(me)),e({closeMenu:Ie,selectDate:Se,clearValue:se,openMenu:oe,onScroll:ne,formatInputValue:Z,updateInternalModelValue:K,setMonthYear:We,parseModel:dt,switchView:Nt,toggleMenu:Ke}),(Oe,Be)=>(W(),ee("div",{ref_key:"pickerWrapperRef",ref:p,class:tt(Q.value),"data-datepicker-instance":""},[et(ZG,pe({ref_key:"inputRef",ref:h,"input-value":Y(q),"onUpdate:inputValue":Be[0]||(Be[0]=je=>an(q)?q.value=je:null),"is-menu-open":o.value},Oe.$props,{onClear:se,onOpen:oe,onSetInputDate:Fe,onSetEmptyDate:Y(he),onSelectDate:Se,onToggle:Ke,onClose:Ie,onFocus:ae,onBlur:Ne,onRealBlur:Be[1]||(Be[1]=je=>f.value=!1)}),er({_:2},[Ft(Y(G),(je,qn)=>({name:je,fn:Qe(Wr=>[_e(Oe.$slots,je,wn(Zn(Wr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),et(VA,wn(Zn(X.value)),{default:Qe(()=>[et(Co,{name:Y(v)(Y($)),css:Y(T)&&!Y(E).enabled},{default:Qe(()=>[o.value?(W(),ee("div",pe({key:0,ref_key:"dpWrapMenuRef",ref:u},ce.value,{class:{"dp--menu-wrapper":!Y(E).enabled},style:Y(E).enabled?void 0:Y(B)}),[et(BI,pe({ref_key:"dpMenuRef",ref:c},Oe.$props,{"internal-model-value":Y(z),"onUpdate:internalModelValue":Be[2]||(Be[2]=je=>an(z)?z.value=je:null),class:{[ie.value]:!0,"dp--menu-wrapper":Oe.teleport},"open-on-top":Y($),"arr-map-values":C.value,"no-overlay-focus":be.value,onClosePicker:Ie,onSelectDate:Se,onAutoApply:ge,onTimeUpdate:Ye,onFlowStep:Be[3]||(Be[3]=je=>Oe.$emit("flow-step",je)),onUpdateMonthYear:Be[4]||(Be[4]=je=>Oe.$emit("update-month-year",je)),onInvalidSelect:Be[5]||(Be[5]=je=>Oe.$emit("invalid-select",Y(z))),onAutoApplyInvalid:Be[6]||(Be[6]=je=>Oe.$emit("invalid-select",je)),onInvalidFixedRange:Be[7]||(Be[7]=je=>Oe.$emit("invalid-fixed-range",je)),onRecalculatePosition:Y(U),onTooltipOpen:Be[8]||(Be[8]=je=>Oe.$emit("tooltip-open",je)),onTooltipClose:Be[9]||(Be[9]=je=>Oe.$emit("tooltip-close",je)),onTimePickerOpen:Be[10]||(Be[10]=je=>Oe.$emit("time-picker-open",je)),onTimePickerClose:Be[11]||(Be[11]=je=>Oe.$emit("time-picker-close",je)),onAmPmChange:Be[12]||(Be[12]=je=>Oe.$emit("am-pm-change",je)),onRangeStart:Be[13]||(Be[13]=je=>Oe.$emit("range-start",je)),onRangeEnd:Be[14]||(Be[14]=je=>Oe.$emit("range-end",je)),onDateUpdate:Be[15]||(Be[15]=je=>Oe.$emit("date-update",je)),onInvalidDate:Be[16]||(Be[16]=je=>Oe.$emit("invalid-date",je))}),er({_:2},[Ft(Y(P),(je,qn)=>({name:je,fn:Qe(Wr=>[_e(Oe.$slots,je,wn(Zn({...Wr})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):de("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),Ab=(()=>{const t=aQ;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),lQ=Object.freeze(Object.defineProperty({__proto__:null,default:Ab},Symbol.toStringTag,{value:"Module"}));Object.entries(lQ).forEach(([t,e])=>{t!=="default"&&(Ab[t]=e)});function Gg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Cb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function uQ(t){return hQ(t)||dQ(t)||Cb(t)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hQ(t){if(Array.isArray(t))return Ny(t)}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function Yg(t,e){return mQ(t)||pQ(t,e)||Cb(t,e)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cb(t,e){if(t){if(typeof t=="string")return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(t,e)}}function Ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function mQ(t){if(Array.isArray(t))return t}var xe={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Yg(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=Ac(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(b){var A=Yg(b,2),R=A[0],k=A[1];return o==="style"&&(k||k===0)?"".concat(R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(k):k?R:void 0});h=g.length?h.concat(g.filter(function(b){return!!b})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=Yg(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?uQ(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,b="top";u.top+a+s>f.height?(p=u.top+c-s,b="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=b,r&&(e.style.marginTop=b==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(A){try{var R=window.getComputedStyle(A,null);return i.test(R.getPropertyValue("overflow"))||i.test(R.getPropertyValue("overflowX"))||i.test(R.getPropertyValue("overflowY"))}catch{return!1}},o=Gg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=Gg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(b){h.e(b)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(b){o.e(b)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Ac(HTMLElement))==="object"?e instanceof HTMLElement:e&&Ac(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Gg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function gQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yQ(r.key),r)}}function vQ(t,e,n){return e&&jI(t.prototype,e),n&&jI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yQ(t){var e=_Q(t,"string");return ad(e)=="symbol"?e:String(e)}function _Q(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bx=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};gQ(this,t),this.element=e,this.listener=n}return vQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=xe.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function bQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function HI(t,e){return EQ(t)||TQ(t,e)||Ob(t,e)||wQ()}function wQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function EQ(t){if(Array.isArray(t))return t}function WI(t){return AQ(t)||SQ(t)||Ob(t)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AQ(t){if(Array.isArray(t))return My(t)}function Qg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ob(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Ob(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}var we={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Cc(e)=="object"&&Cc(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=Qg(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=Qg(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=Qg(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Cc(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=WI(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(WI(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=HI(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=HI(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},qI=0;function pp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return qI++,"".concat(t).concat(qI)}function CQ(t){return RQ(t)||kQ(t)||PQ(t)||OQ()}function OQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(t,e){if(t){if(typeof t=="string")return Ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(t,e)}}function kQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RQ(t){if(Array.isArray(t))return Ly(t)}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return CQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Ol=DQ(),lr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function zI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=xQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function xQ(t,e){if(t){if(typeof t=="string")return KI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KI(t,e)}}function KI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jx={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=zI(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=zI(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=we.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)==we.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)!=we.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(we.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){NQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NQ(t,e,n){return e=MQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MQ(t){var e=LQ(t,"string");return ld(e)=="symbol"?e:String(e)}function LQ(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YI={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[lr.STARTS_WITH,lr.CONTAINS,lr.NOT_CONTAINS,lr.ENDS_WITH,lr.EQUALS,lr.NOT_EQUALS],numeric:[lr.EQUALS,lr.NOT_EQUALS,lr.LESS_THAN,lr.LESS_THAN_OR_EQUAL_TO,lr.GREATER_THAN,lr.GREATER_THAN_OR_EQUAL_TO],date:[lr.DATE_IS,lr.DATE_IS_NOT,lr.DATE_BEFORE,lr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},VQ=Symbol();function FQ(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var $Q={install:function(e,n){var r=n?Xg(Xg({},YI),n):Xg({},YI),i={config:Dr(r),changeTheme:FQ};e.config.globalProperties.$primevue=i,e.provide(VQ,i)}};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){UQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQ(t,e,n){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=jQ(t,"string");return ud(e)=="symbol"?e:String(e)}function jQ(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ei()?yn(t):e?t():Hn(t)}var WQ=0;function Hx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=fe(!1),r=fe(t),i=fe(null),s=xe.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++WQ):f,g=e.id,b=g===void 0?void 0:g,A=e.media,R=A===void 0?void 0:A,k=e.nonce,S=k===void 0?void 0:k,_=e.props,M=_===void 0?{}:_,L=function(){},I=function(v){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var C=XI(XI({},M),T),P=C.name||p,G=C.id||b,$=C.nonce||S;i.value=a.querySelector('style[data-primevue-style-id="'.concat(P,'"]'))||a.getElementById(G)||a.createElement("style"),i.value.isConnected||(r.value=v||t,xe.setAttributes(i.value,{type:"text/css",id:G,media:R,nonce:$}),a.head.appendChild(i.value),xe.setAttribute(i.value,"data-primevue-style-id",p),xe.setAttributes(i.value,C)),!n.value&&(L=In(r,function(B){i.value.textContent=B},{immediate:!0}),n.value=!0)}},E=function(){!a||!n.value||(L(),xe.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&HQ(I),{id:b,name:p,css:r,unload:E,load:I,isLoaded:n_(n)}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function qQ(t,e){return YQ(t)||GQ(t,e)||KQ(t,e)||zQ()}function zQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function YQ(t){if(Array.isArray(t))return t}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return e=XQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XQ(t){var e=JQ(t,"string");return cd(e)=="symbol"?e:String(e)}function JQ(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,eX={},tX={},pi={name:"base",css:ZQ,classes:eX,inlineStyles:tX,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?Hx(this.css,Jg({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=qQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Jg(Jg({},this),{},{css:void 0},e)}};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function eS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(n),!0).forEach(function(r){rX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rX(t,e,n){return e=iX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iX(t){var e=sX(t,"string");return dd(e)=="symbol"?e:String(e)}function sX(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zg=pi.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Hx(e,nX({name:"global"},n))}});function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function oX(t){return zx(t)||aX(t)||qx(t)||Wx()}function aX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uh(t,e){return zx(t)||lX(t,e)||qx(t,e)||Wx()}function Wx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qx(t,e){if(t){if(typeof t=="string")return tS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(t,e)}}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function zx(t){if(Array.isArray(t))return t}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){af(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function af(t,e,n){return e=uX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uX(t){var e=cX(t,"string");return hd(e)=="symbol"?e:String(e)}function cX(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ma={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Zg.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var b=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,A=b?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,R=b?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=R||A)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;pi.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);we.isNotEmpty(n)&&Zg.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?this._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,tn(tn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):tn(tn(tn({},f),p),g):tn(tn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return pe(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&we.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&tn(tn({},r==="root"&&tn(af({},"".concat(i,"name"),we.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&af({},"".concat(i,"extend"),we.toFlatCase(this.$.type.name)))),{},af({},"".concat(i,"section"),we.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return we.isString(e)||we.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=we.toFlatCase(r),f=we.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(b){return n(b,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:we.isString(p)?p:we.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):tn(tn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,tn(tn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pe(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,tn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,tn(tn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,tn(tn({},this.$params),r)),s=this._getOptionValue(Zg.inlineStyles,e,tn(tn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return we.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,tn({},n.$params))||we.getItemValue(r,tn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return tn(tn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Uh(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Uh(n,2),i=r[0],s=r[1],o=i.split(":"),a=oX(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Uh(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Uh(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},dX=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,hX=pi.extend({name:"baseicon",css:dX});function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(r){fX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fX(t,e,n){return e=pX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=mX(t,"string");return fd(e)=="symbol"?e:String(e)}function mX(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var La={name:"BaseIcon",extends:Ma,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:hX,methods:{pti:function(){var e=we.isEmpty(this.label);return iS(iS({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Kx={name:"BlankIcon",extends:La},gX=Ae("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),vX=[gX];function yX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),vX,16)}Kx.render=yX;var Em={name:"CheckIcon",extends:La},_X=Ae("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),bX=[_X];function wX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),bX,16)}Em.render=wX;var Pb={name:"ChevronDownIcon",extends:La},TX=Ae("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),EX=[TX];function IX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),EX,16)}Pb.render=IX;var kb={name:"SearchIcon",extends:La},SX=Ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),AX=[SX];function CX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),AX,16)}kb.render=CX;var Im={name:"SpinnerIcon",extends:La},OX=Ae("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),PX=[OX];function kX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),PX,16)}Im.render=kX;var Rb={name:"TimesIcon",extends:La},RX=Ae("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),DX=[RX];function xX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),DX,16)}Rb.render=xX;var Gx=bQ(),Db={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=xe.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function NX(t,e,n,r,i,s){return s.inline?_e(t.$slots,"default",{key:0}):i.mounted?(W(),qe(VA,{key:1,to:n.appendTo},[_e(t.$slots,"default")],8,["to"])):de("",!0)}Db.render=NX;function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function sS(t,e){return FX(t)||VX(t,e)||LX(t,e)||MX()}function MX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LX(t,e){if(t){if(typeof t=="string")return oS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oS(t,e)}}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function FX(t){if(Array.isArray(t))return t}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){Vy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vy(t,e,n){return e=$X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $X(t){var e=UX(t,"string");return pd(e)=="symbol"?e:String(e)}function UX(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ct={_getMeta:function(){return[we.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],we.getItemValue(we.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?Ct._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var k=Ct._getOptionValue.apply(Ct,arguments);return we.isString(k)||we.isArray(k)?{class:k}:k},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?Ct._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,b=Ct._usePT(r,Ct._getPT(i,r.$name),l,s,dn(dn({},o),{},{global:g||{}})),A=Ct._getPTDatasets(r,s);return h||!h&&b?p?Ct._mergeProps(r,p,g,b,A):dn(dn(dn({},g),b),A):dn(dn({},b),A)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return dn(dn({},n==="root"&&Vy({},"".concat(r,"name"),we.toFlatCase(e.$name))),{},Vy({},"".concat(r,"section"),we.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=we.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(A){return r(A,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:we.isString(g)?g:we.isString(p)?p:c||!c&&g?f?Ct._mergeProps(e,f,p,g):dn(dn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Ct._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(we.toCapitalCase(n)),c=Ct._getConfig(i,s),h=r==null?void 0:r.$instance,f=Ct._usePT(h,Ct._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Ct._getOptionValue,"hooks.".concat(u)),p=Ct._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Ct._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=Ct._getConfig(a,l),p=o._$instances[e]||{},g=we.isEmpty(p)?dn(dn({},n),n==null?void 0:n.methods):{};o._$instances[e]=dn(dn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:dn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return Ct._getPT(f==null?void 0:f.pt,void 0,function(A){var R;return A==null||(R=A.directives)===null||R===void 0?void 0:R[e]})},isUnstyled:function(){var A,R;return((A=o.$instance)===null||A===void 0||(A=A.$binding)===null||A===void 0||(A=A.value)===null||A===void 0?void 0:A.unstyled)!==void 0?(R=o.$instance)===null||R===void 0||(R=R.$binding)===null||R===void 0||(R=R.value)===null||R===void 0?void 0:R.unstyled:f==null?void 0:f.unstyled},ptm:function(){var A,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ct._getPTValue(o.$instance,(A=o.$instance)===null||A===void 0||(A=A.$binding)===null||A===void 0||(A=A.value)===null||A===void 0?void 0:A.pt,R,dn({},k))},ptmo:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ct._getPTValue(o.$instance,A,R,k,!1)},cx:function(){var A,R,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(A=o.$instance)!==null&&A!==void 0&&A.isUnstyled()?void 0:Ct._getOptionValue((R=o.$instance)===null||R===void 0||(R=R.$style)===null||R===void 0?void 0:R.classes,k,dn({},S))},sx:function(){var A,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k?Ct._getOptionValue((A=o.$instance)===null||A===void 0||(A=A.$style)===null||A===void 0?void 0:A.inlineStyles,R,dn({},S)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,Ct._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);pi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);pi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Ct._getMeta.apply(Ct,arguments),n=sS(e,2),r=n[0],i=n[1];return dn({extend:function(){var o=Ct._getMeta.apply(Ct,arguments),a=sS(o,2),l=a[0],u=a[1];return Ct.extend(l,dn(dn(dn({},i),i==null?void 0:i.methods),u))}},Ct._extend(r,i))}},BX={root:"p-ink"},jX=pi.extend({name:"ripple",classes:BX}),HX=Ct.extend({style:jX});function WX(t){return GX(t)||KX(t)||zX(t)||qX()}function qX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(t,e){if(t){if(typeof t=="string")return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(t,e)}}function KX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GX(t){if(Array.isArray(t))return Fy(t)}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yx=HX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=xe.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&xe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!xe.getHeight(i)&&!xe.getWidth(i)){var s=Math.max(xe.getOuterWidth(r),xe.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=xe.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-xe.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-xe.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&xe.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&xe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&xe.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?WX(e.children).find(function(n){return xe.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),YX=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,lS=pi.extend({name:"virtualscroller",css:YX}),QX={name:"BaseVirtualScroller",extends:Ma,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:lS,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;lS.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){Qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qx(t,e,n){return e=XX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XX(t){var e=JX(t,"string");return md(e)=="symbol"?e:String(e)}function JX(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xb={name:"VirtualScroller",extends:QX,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){xe.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=xe.getWidth(this.element),this.defaultHeight=xe.getHeight(this.element),this.defaultContentWidth=xe.getWidth(this.content),this.defaultContentHeight=xe.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(I){return I>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,b=this.getContentPosition(),A=this.itemSize,R=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1?arguments[1]:void 0;return E<=y?0:E},k=function(E,y,v){return E*y+v},S=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:E,top:y,behavior:r})},_=i?{rows:0,cols:0}:0,M=!1,L=!1;i?(_={rows:R(e[0],g[0]),cols:R(e[1],g[1])},S(k(_.cols,A[1],b.left),k(_.rows,A[0],b.top)),L=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,M=_.rows!==a.rows||_.cols!==a.cols):(_=R(e,g),s?S(k(_,A,b.left),c):S(f,k(_,A,b.top)),L=this.lastScrollPos!==(s?f:c),M=_!==a),this.isRangeChanged=M,L&&(this.first=_)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(A){return A>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:R,top:k,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var b=(c.first+1)*this.itemSize;o?h(b,0):h(0,b)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[xe.getWidth(e.element),xe.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Wu(Wu({},e.spacerStyle),Qx({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Wu(Wu({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(T,C){return T?T>C?T-C:T:0},l=function(T,C){return Math.floor(T/(C||T))},u=function(T,C,P,G,$,B){return T<=$?$:B?P-G-$:C+$-1},c=function(T,C,P,G,$,B,F){return T<=B?0:Math.max(0,F?T<C?P:T-B:T>C?P:T-2*B)},h=function(T,C,P,G,$,B){var F=C+G+2*$;return T>=$&&(F+=$+1),n.getLast(F,B)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,b=this.last,A=!1,R=this.lastScrollPos;if(i){var k=this.lastScrollPos.top<=f,S=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(k||S)){var _={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},M={rows:u(_.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],k),cols:u(_.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)};g={rows:c(_.rows,M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],k),cols:c(_.cols,M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)},b={rows:h(_.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(_.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},A=g.rows!==this.first.rows||b.rows!==this.last.rows||g.cols!==this.first.cols||b.cols!==this.last.cols||this.isRangeChanged,R={top:f,left:p}}}else{var L=s?p:f,I=this.lastScrollPos<=L;if(!this.appendOnly||this.appendOnly&&I){var E=l(L,this.itemSize),y=u(E,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I);g=c(E,y,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I),b=h(E,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),A=g!==this.first||b!==this.last||this.isRangeChanged,R=L}}return{first:g,last:b,isRangeChanged:A,scrollPos:R}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(xe.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[xe.getWidth(e.element),xe.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=xe.getWidth(e.content),e.defaultContentHeight=xe.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Wu({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||xe.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Im}},ZX=["tabindex"];function eJ(t,e,n,r,i,s){var o=Kr("SpinnerIcon");return t.disabled?(W(),ee(Me,{key:1},[_e(t.$slots,"default"),_e(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(W(),ee("div",pe({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[_e(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[Ae("div",pe({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(W(!0),ee(Me,null,Ft(s.loadedItems,function(a,l){return _e(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(W(),ee("div",pe({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):de("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(W(),ee("div",pe({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(W(!0),ee(Me,{key:0},Ft(i.loaderArr,function(a,l){return _e(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):de("",!0),_e(t.$slots,"loadingicon",{},function(){return[et(o,pe({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):de("",!0)],16,ZX))}xb.render=eJ;var tJ={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},nJ=pi.extend({name:"dropdown",classes:tJ}),rJ={name:"BaseDropdown",extends:Ma,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:nJ,provide:function(){return{$parentInstance:this}}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function iJ(t){return lJ(t)||aJ(t)||oJ(t)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return $y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $y(t,e)}}function aJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lJ(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(n),!0).forEach(function(r){Xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xx(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=cJ(t,"string");return gd(e)=="symbol"?e:String(e)}function cJ(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jx={name:"Dropdown",extends:rJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||pp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||pp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Ol.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&xe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&xe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||xe.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&we.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Gx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(xe.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Ol.set("overlay",e,this.$primevue.config.zIndex.overlay),xe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&xe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Ol.clear(e)},alignOverlay:function(){this.appendTo==="self"?xe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=xe.getOuterWidth(this.$el)+"px",xe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Bx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!xe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&xe.isVisible(n)&&(this.labelClickListener=function(){xe.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&xe.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return xe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&we.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=xe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=jx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(dS(dS({},o),{},Xx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",iJ(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Yx},components:{VirtualScroller:xb,Portal:Db,TimesIcon:Rb,ChevronDownIcon:Pb,SpinnerIcon:Im,SearchIcon:kb,CheckIcon:Em,BlankIcon:Kx}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=fJ(t,"string");return vd(e)=="symbol"?e:String(e)}function fJ(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pJ=["id"],mJ=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],gJ=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],vJ=["value","placeholder","aria-owns","aria-activedescendant"],yJ=["id","aria-label"],_J=["id"],bJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function wJ(t,e,n,r,i,s){var o=Kr("SpinnerIcon"),a=Kr("CheckIcon"),l=Kr("BlankIcon"),u=Kr("VirtualScroller"),c=Kr("Portal"),h=zA("ripple");return W(),ee("div",pe({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(W(),ee("input",pe({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Vi(Vi({},t.inputProps),t.ptm("input"))),null,16,mJ)):(W(),ee("span",pe({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Vi(Vi({},t.inputProps),t.ptm("input"))),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[Dn(ht(s.label==="p-emptylabel"?"":s.label||"empty"),1)]})],16,gJ)),t.showClear&&t.modelValue!=null?_e(t.$slots,"clearicon",{key:2,class:tt(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(W(),qe(zr(t.clearIcon?"i":"TimesIcon"),pe({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Vi(Vi({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):de("",!0),Ae("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(W(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(W(),qe(o,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(W(),qe(zr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(Co,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(W(),ee("div",pe({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Vi(Vi({},t.panelProps),t.ptm("panel"))),[Ae("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(W(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[Ae("div",pe({class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Vi(Vi({},t.filterInputProps),t.ptm("filterInput"))),null,16,vJ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(W(),qe(zr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ht(s.filterResultMessageText),17)],16)):de("",!0),Ae("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),er({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,A=f.getItemOptions,R=f.contentStyle,k=f.itemSize;return[Ae("ul",pe({ref:function(_){return s.listRef(_,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(W(!0),ee(Me,null,Ft(b,function(S,_){return W(),ee(Me,{key:s.getOptionRenderKey(S,s.getOptionIndex(_,A))},[s.isOptionGroup(S)?(W(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(_,A),style:{height:k?k+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:S.optionGroup,index:s.getOptionIndex(_,A)},function(){return[Ae("span",pe({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),ht(s.getOptionGroupLabel(S.optionGroup)),17)]})],16,_J)):Yo((W(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(_,A),class:t.cx("item",{option:S,focusedOption:s.getOptionIndex(_,A)}),style:{height:k?k+"px":void 0},role:"option","aria-label":s.getOptionLabel(S),"aria-selected":s.isSelected(S),"aria-disabled":s.isOptionDisabled(S),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(_,A)),onClick:function(L){return s.onOptionSelect(L,S)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(_,A))},"data-p-highlight":s.isSelected(S),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(_,A),"data-p-disabled":s.isOptionDisabled(S)},s.getPTItemOptions(S,A,_,"item")),[t.checkmark?(W(),ee(Me,{key:0},[s.isSelected(S)?(W(),qe(a,pe({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(W(),qe(l,pe({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):de("",!0),_e(t.$slots,"option",{option:S,index:s.getOptionIndex(_,A)},function(){return[Ae("span",pe({class:t.cx("itemLabel")},t.ptm("itemLabel")),ht(s.getOptionLabel(S)),17)]})],16,bJ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(W(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"emptyfilter",{},function(){return[Dn(ht(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(W(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"empty",{},function(){return[Dn(ht(s.emptyMessageText),1)]})],16)):de("",!0)],16,yJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(W(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ht(s.emptyMessageText),17)):de("",!0),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ht(s.selectedMessageText),17),Ae("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,pJ)}Jx.render=wJ;var TJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},EJ=pi.extend({name:"inputtext",classes:TJ}),IJ={name:"BaseInputText",extends:Ma,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:EJ,provide:function(){return{$parentInstance:this}}},Zx={name:"InputText",extends:IJ,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},SJ=["value","aria-invalid"];function AJ(t,e,n,r,i,s){return W(),ee("input",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,SJ)}Zx.render=AJ;var CJ={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},OJ=pi.extend({name:"checkbox",classes:CJ}),PJ={name:"BaseCheckbox",extends:Ma,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:OJ,provide:function(){return{$parentInstance:this}}};function kJ(t){return NJ(t)||xJ(t)||DJ(t)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(t,e){if(t){if(typeof t=="string")return Uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(t,e)}}function xJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NJ(t){if(Array.isArray(t))return Uy(t)}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eN={name:"Checkbox",extends:PJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!we.equals(i,n.value)}):r=this.modelValue?[].concat(kJ(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:we.contains(this.value,this.modelValue)}},components:{CheckIcon:Em}},MJ=["data-p-highlight","data-p-disabled"],LJ=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function VJ(t,e,n,r,i,s){var o=Kr("CheckIcon");return W(),ee("div",pe({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[Ae("input",pe({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,LJ),Ae("div",pe({class:t.cx("box")},s.getPTOptions("box")),[_e(t.$slots,"icon",{checked:s.checked,class:tt(t.cx("icon"))},function(){return[s.checked?(W(),qe(o,pe({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):de("",!0)]})],16)],16,MJ)}eN.render=VJ;var tN={name:"TimesCircleIcon",extends:La},FJ=Ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),$J=[FJ];function UJ(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),$J,16)}tN.render=UJ;var BJ={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},jJ={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},HJ=pi.extend({name:"multiselect",classes:jJ,inlineStyles:BJ}),WJ={name:"BaseMultiSelect",extends:Ma,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:HJ,provide:function(){return{$parentInstance:this}}};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){nN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nN(t,e,n){return e=qJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=zJ(t,"string");return yd(e)=="symbol"?e:String(e)}function zJ(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mS(t){return QJ(t)||YJ(t)||GJ(t)||KJ()}function KJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJ(t,e){if(t){if(typeof t=="string")return By(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return By(t,e)}}function YJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QJ(t){if(Array.isArray(t))return By(t)}function By(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rN={name:"MultiSelect",extends:WJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||pp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||pp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Ol.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&xe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&xe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!we.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(mS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&xe.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Gx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(xe.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Ol.set("overlay",e,this.$primevue.config.zIndex.overlay),xe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&xe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Ol.clear(e)},alignOverlay:function(){this.appendTo==="self"?xe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=xe.getOuterWidth(this.$el)+"px",xe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Bx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!xe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&we.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!we.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return xe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return we.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?we.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=xe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=jx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(pS(pS({},o),{},nN({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",mS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:we.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Yx},components:{Checkbox:eN,VirtualScroller:xb,Portal:Db,TimesIcon:Rb,SearchIcon:kb,TimesCircleIcon:tN,ChevronDownIcon:Pb,SpinnerIcon:Im,CheckIcon:Em}};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jy(t,e,n){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=JJ(t,"string");return _d(e)=="symbol"?e:String(e)}function JJ(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZJ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],eZ=["onClick"],tZ=["value","placeholder","aria-owns","aria-activedescendant"],nZ=["aria-label"],rZ=["id","aria-label"],iZ=["id"],sZ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function oZ(t,e,n,r,i,s){var o=Kr("TimesCircleIcon"),a=Kr("SpinnerIcon"),l=Kr("Checkbox"),u=Kr("VirtualScroller"),c=Kr("Portal"),h=zA("ripple");return W(),ee("div",pe({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[Ae("div",pe({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[Ae("input",pe({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Hs(Hs({},t.inputProps),t.ptm("hiddenInput"))),null,16,ZJ)],16),Ae("div",pe({class:t.cx("labelContainer")},t.ptm("labelContainer")),[Ae("div",pe({class:t.cx("label")},t.ptm("label")),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(W(),ee(Me,{key:0},[Dn(ht(s.label||"empty"),1)],64)):t.display==="chip"?(W(),ee(Me,{key:1},[(W(!0),ee(Me,null,Ft(s.chipSelectedItems,function(f){return W(),ee("div",pe({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[_e(t.$slots,"chip",{value:f},function(){return[Ae("span",pe({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),ht(s.getLabelByValue(f)),17)]}),t.disabled?de("",!0):_e(t.$slots,"removetokenicon",{key:0,class:tt(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(W(),ee("span",pe({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,eZ)):(W(),qe(o,pe({key:1,class:t.cx("removeTokenIcon"),onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(W(),ee(Me,{key:0},[Dn(ht(t.placeholder||"empty"),1)],64)):de("",!0)],64)):de("",!0)]})],16)],16),Ae("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(W(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(W(),qe(a,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(W(),qe(zr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(Co,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(W(),ee("div",pe({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Hs(Hs({},t.panelProps),t.ptm("panel"))),[Ae("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(W(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(W(),qe(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Qe(function(f){return[t.$slots.headercheckboxicon?(W(),qe(zr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:tt(f.class)},null,8,["checked","class"])):f.checked?(W(),qe(zr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[f.class,jy({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):de("",!0),t.filter?(W(),ee("div",pe({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Hs(Hs({},t.filterInputProps),t.ptm("filterInput"))),null,16,tZ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(W(),qe(zr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):de("",!0),t.filter?(W(),ee("span",pe({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ht(s.filterResultMessageText),17)):de("",!0),Yo((W(),ee("button",pe({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Hs(Hs({},t.closeButtonProps),t.ptm("closeButton"))),[_e(t.$slots,"closeicon",{class:tt(t.cx("closeIcon"))},function(){return[(W(),qe(zr(t.closeIcon?"span":"TimesIcon"),pe({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,nZ)),[[h]])],16)):de("",!0),Ae("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),er({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,A=f.getItemOptions,R=f.contentStyle,k=f.itemSize;return[Ae("ul",pe({ref:function(_){return s.listRef(_,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(W(!0),ee(Me,null,Ft(b,function(S,_){return W(),ee(Me,{key:s.getOptionRenderKey(S,s.getOptionIndex(_,A))},[s.isOptionGroup(S)?(W(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(_,A),style:{height:k?k+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:S.optionGroup,index:s.getOptionIndex(_,A)},function(){return[Dn(ht(s.getOptionGroupLabel(S.optionGroup)),1)]})],16,iZ)):Yo((W(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(_,A),style:{height:k?k+"px":void 0},class:t.cx("item",{option:S,index:_,getItemOptions:A}),role:"option","aria-label":s.getOptionLabel(S),"aria-selected":s.isSelected(S),"aria-disabled":s.isOptionDisabled(S),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(_,A)),onClick:function(L){return s.onOptionSelect(L,S,s.getOptionIndex(_,A),!0)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(_,A))}},s.getCheckboxPTOptions(S,A,_,"item"),{"data-p-highlight":s.isSelected(S),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(_,A),"data-p-disabled":s.isOptionDisabled(S)}),[et(l,{modelValue:s.isSelected(S),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(S,A,_,"itemCheckbox")},{icon:Qe(function(M){return[t.$slots.itemcheckboxicon?(W(),qe(zr(t.$slots.itemcheckboxicon),{key:0,checked:M.checked,class:tt(M.class)},null,8,["checked","class"])):M.checked?(W(),qe(zr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[M.class,jy({},t.checkboxIcon,M.checked)]},s.getCheckboxPTOptions(S,A,_,"itemCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),_e(t.$slots,"option",{option:S,index:s.getOptionIndex(_,A)},function(){return[Ae("span",wn(Zn(t.ptm("option"))),ht(s.getOptionLabel(S)),17)]})],16,sZ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(W(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"emptyfilter",{},function(){return[Dn(ht(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(W(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"empty",{},function(){return[Dn(ht(s.emptyMessageText),1)]})],16)):de("",!0)],16,rZ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(W(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ht(s.emptyMessageText),17)):de("",!0),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ht(s.selectedMessageText),17),Ae("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}rN.render=oZ;var aZ={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},lZ=pi.extend({name:"textarea",classes:aZ}),uZ={name:"BaseTextarea",extends:Ma,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:lZ,provide:function(){return{$parentInstance:this}}},iN={name:"Textarea",extends:uZ,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},cZ=["value","aria-invalid"];function dZ(t,e,n,r,i,s){return W(),ee("textarea",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,cZ)}iN.render=dZ;/*!
 * Viewer.js v1.11.7
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-11-24T04:32:19.116Z
 */function hZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sN(r.key),r)}}function fZ(t,e,n){return e&&vS(t.prototype,e),n&&vS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pZ(t,e,n){return(e=sN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sN(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}var _S={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},gZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Sm=typeof window<"u"&&typeof window.document<"u",ks=Sm?window:{},Pl=Sm&&ks.document.documentElement?"ontouchstart"in ks.document.documentElement:!1,Mb=Sm?"PointerEvent"in ks:!1,lt="viewer",lf="move",oN="switch",tc="zoom",Bh="".concat(lt,"-active"),vZ="".concat(lt,"-close"),uf="".concat(lt,"-fade"),Wy="".concat(lt,"-fixed"),yZ="".concat(lt,"-fullscreen"),bS="".concat(lt,"-fullscreen-exit"),Wo="".concat(lt,"-hide"),_Z="".concat(lt,"-hide-md-down"),bZ="".concat(lt,"-hide-sm-down"),wZ="".concat(lt,"-hide-xs-down"),ri="".concat(lt,"-in"),Oc="".concat(lt,"-invisible"),kl="".concat(lt,"-loading"),TZ="".concat(lt,"-move"),wS="".concat(lt,"-open"),Ya="".concat(lt,"-show"),gn="".concat(lt,"-transition"),tu="click",qy="dblclick",TS="dragstart",ES="focusin",IS="keydown",oi="load",ra="error",EZ=Pl?"touchend touchcancel":"mouseup",IZ=Pl?"touchmove":"mousemove",SZ=Pl?"touchstart":"mousedown",SS=Mb?"pointerdown":SZ,AS=Mb?"pointermove":IZ,CS=Mb?"pointerup pointercancel":EZ,OS="resize",yi="transitionend",PS="wheel",kS="ready",RS="show",DS="shown",xS="hide",NS="hidden",MS="view",bd="viewed",LS="move",VS="moved",FS="rotate",$S="rotated",US="scale",BS="scaled",jS="zoom",HS="zoomed",WS="play",qS="stop",mp="".concat(lt,"Action"),Lb=/\s\s*/,jh=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function wd(t){return typeof t=="string"}var AZ=Number.isNaN||ks.isNaN;function hn(t){return typeof t=="number"&&!AZ(t)}function dl(t){return typeof t>"u"}function nu(t){return Hy(t)==="object"&&t!==null}var CZ=Object.prototype.hasOwnProperty;function hl(t){if(!nu(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&CZ.call(n,"isPrototypeOf")}catch{return!1}}function qt(t){return typeof t=="function"}function Xt(t,e){if(t&&qt(e))if(Array.isArray(t)||hn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else nu(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Xr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return nu(e)&&r.length>0&&r.forEach(function(s){nu(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},OZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ii(t,e){var n=t.style;Xt(e,function(r,i){OZ.test(i)&&hn(r)&&(r+="px"),n[i]=r})}function PZ(t){return wd(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function rl(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function nt(t,e){if(!(!t||!e)){if(hn(t.length)){Xt(t,function(r){nt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Pt(t,e){if(!(!t||!e)){if(hn(t.length)){Xt(t,function(n){Pt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Td(t,e,n){if(e){if(hn(t.length)){Xt(t,function(r){Td(r,e,n)});return}n?nt(t,e):Pt(t,e)}}var kZ=/([a-z\d])([A-Z])/g;function Vb(t){return t.replace(kZ,"$1-$2").toLowerCase()}function fl(t,e){return nu(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Vb(e)))}function zy(t,e,n){nu(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Vb(e)),n)}var aN=function(){var t=!1;if(Sm){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});ks.addEventListener("test",n,r),ks.removeEventListener("test",n,r)}return t}();function zt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Lb).forEach(function(s){if(!aN){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function it(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Lb).forEach(function(s){if(r.once&&!aN){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function _n(t,e,n,r){var i;return qt(Event)&&qt(CustomEvent)?i=new CustomEvent(e,Nb({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function RZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function cf(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];hn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),hn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),hn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),hn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),hn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function DZ(t){return wd(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var ev=ks.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(ks.navigator.userAgent);function lN(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!ev)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),ev||i.removeChild(r)},Xt(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,ev||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Hh(t){switch(t){case 2:return wZ;case 3:return bZ;case 4:return _Z;default:return""}}function xZ(t){var e=Nb({},t),n=[];return Xt(t,function(r,i){delete e[i],Xt(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Wh(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:Nb({timeStamp:Date.now(),startX:n,startY:r},i)}function NZ(t){var e=0,n=0,r=0;return Xt(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var MZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Xr({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Ii(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",Xt(this.images,function(o,a){var l=o.src,u=o.alt||DZ(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");Xt(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,Xt(s,function(o){var a=o.firstElementChild,l,u;zy(a,"filled",!0),r.loading&&nt(o,kl),it(a,oi,l=function(h){zt(a,ra,u),r.loading&&Pt(o,kl),e.loadImage(h)},{once:!0}),it(a,ra,u=function(){zt(a,oi,l),r.loading&&Pt(o,kl)},{once:!0})}),r.transition&&it(n,bd,function(){nt(i,gn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Ii(this.list,Xr({width:o*this.length-i},cf({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Pt(e,gn),Ii(e,cf({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=lN(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),b=a,A=l;n.imageInitializing=!1,l*p>a?A=a/p:b=l*p,g=hn(g)?g:.9,b=Math.min(b*g,h),A=Math.min(A*g,f);var R=(a-b)/2,k=(l-A)/2,S={left:R,top:k,x:R,y:k,width:b,height:A,oldRatio:1,ratio:b/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},_=Xr({},S);r.rotatable&&(S.rotate=u.rotate||0,_.rotate=0),r.scalable&&(S.scaleX=u.scaleX||1,S.scaleY=u.scaleY||1,_.scaleX=1,_.scaleY=1),n.imageData=S,n.initialImageData=_,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Ii(r,Xr({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},cf(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&rl(r,gn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){zt(r,yi,s)}},it(r,yi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},LZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;it(n,tu,this.onClick=this.click.bind(this)),it(n,TS,this.onDragStart=this.dragstart.bind(this)),it(r,SS,this.onPointerDown=this.pointerdown.bind(this)),it(i,AS,this.onPointerMove=this.pointermove.bind(this)),it(i,CS,this.onPointerUp=this.pointerup.bind(this)),it(i,IS,this.onKeyDown=this.keydown.bind(this)),it(window,OS,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,PS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&it(r,qy,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;zt(n,tu,this.onClick),zt(n,TS,this.onDragStart),zt(r,SS,this.onPointerDown),zt(i,AS,this.onPointerMove),zt(i,CS,this.onPointerUp),zt(i,IS,this.onKeyDown),zt(window,OS,this.onResize),e.zoomable&&e.zoomOnWheel&&zt(n,PS,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&zt(r,qy,this.onDblclick)}},VZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=fl(i,mp);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=fl(i,mp)),Pl&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(fl(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Pl&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Pt(i,Oc),r.loading&&Pt(this.canvas,kl),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Td(i,TZ,r.movable),Td(i,gn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,qt(r.viewed)&&it(n,bd,r.viewed,{once:!0}),_n(n,bd,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!fl(n,"filled");lN(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,Ii(n,Xr({width:c,height:h},cf({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(hn(i)&&i!==1||hn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(a){r[a.identifier]=Wh(a)}):r[e.pointerId||0]=Wh(e);var o=n.movable?lf:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=tc:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=oN),n.transition&&(o===lf||o===tc)&&Pt(this.image,gn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(i){Xr(n[i.identifier]||{},Wh(i,!0))}):Xr(n[e.pointerId||0]||{},Wh(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?Xt(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===lf||i===tc)&&nt(this.image,gn),this.action=!1,Pl&&i!==tc&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){_n(n.image,qy,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){_n(n.canvas,tu,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Xt(this.player.getElementsByTagName("img"),function(n){it(n,oi,e.loadImage.bind(e),{once:!0}),_n(n,oi)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},FZ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(qt(r.show)&&it(n,RS,r.show,{once:!0}),_n(n,RS)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Pt(i,Wo),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){zt(i,yi,s),Pt(i,ri)}},nt(i,gn),i.initialOffsetWidth=i.offsetWidth,it(i,yi,s,{once:!0}),nt(i,ri)}else nt(i,ri),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(qt(i.hide)&&it(r,xS,i.hide,{once:!0}),_n(r,xS)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Pt(s,ri),e.hidden()};if(i.transition&&!n){var l=function(h){h&&h.target===s&&(zt(s,yi,l),e.hidden())},u=function(){rl(s,gn)?(it(s,yi,l),Pt(s,ri)):a()};this.transitioning={abort:function(){e.viewed&&rl(o,gn)?zt(o,yi,u):rl(s,gn)&&zt(s,yi,l)}},this.viewed&&rl(o,gn)?(it(o,yi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=fl(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(Xt(i.inheritedAttributes,function(A){var R=l.getAttribute(A);R!==null&&h.setAttribute(A,R)}),h.src=u,h.alt=c,qt(i.view)&&it(r,MS,i.view,{once:!0}),_n(r,MS,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Pt(f,Bh),f.removeAttribute("aria-selected")),nt(a,Bh),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},nt(h,Oc),i.loading&&nt(o,kl),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var R=e.imageData,k=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=PZ(qt(k)?k.call(e,h,R):"".concat(c," (").concat(R.naturalWidth,"  ").concat(R.naturalHeight,")"))},g,b;return it(r,bd,p,{once:!0}),this.viewing={abort:function(){zt(r,bd,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",zt(h,oi,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(it(h,oi,g=function(){zt(h,ra,b),e.load()},{once:!0}),it(h,ra,b=function(){zt(h,oi,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Pt(h,Oc),i.loading&&Pt(e.canvas,kl)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Pt(h,Oc),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(dl(e)?e:r.x+Number(e),dl(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(hn(e)?c=!0:e=l,hn(r)?c=!0:r=u,c){if(qt(o.move)&&it(s,LS,o.move,{once:!0}),_n(s,LS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,qt(o.moved)&&it(s,VS,o.moved,{once:!0}),_n(s,VS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),hn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(qt(i.rotate)&&it(r,FS,i.rotate,{once:!0}),_n(r,FS,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,qt(i.rotated)&&it(r,$S,i.rotated,{once:!0}),_n(r,$S,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(hn(e)?u=!0:e=a,hn(r)?u=!0:r=l,u){if(qt(s.scale)&&it(i,US,s.scale,{once:!0}),_n(i,US,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,qt(s.scaled)&&it(i,BS,s.scaled,{once:!0}),_n(i,BS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,b=c.naturalWidth,A=c.naturalHeight;if(e=Math.max(0,e),hn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var R=Math.max(.01,l.minZoomRatio),k=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,R),k)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var S=b*e,_=A*e,M=S-p,L=_-g,I=c.ratio;if(qt(l.zoom)&&it(a,jS,l.zoom,{once:!0}),_n(a,jS,{ratio:e,oldRatio:I,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var E=RZ(this.viewer),y=u&&Object.keys(u).length>0?NZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=M*((y.pageX-E.left-h)/p),c.y-=L*((y.pageY-E.top-f)/g)}else hl(i)&&hn(i.x)&&hn(i.y)?(c.x-=M*((i.x-h)/p),c.y-=L*((i.y-f)/g)):(c.x-=M/2,c.y-=L/2);c.left=c.x,c.top=c.y,c.width=S,c.height=_,c.oldRatio=I,c.ratio=e,this.renderImage(function(){n.zooming=!1,qt(l.zoomed)&&it(a,HS,l.zoomed,{once:!0}),_n(a,HS,{ratio:e,oldRatio:I,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(qt(i.play)&&it(r,WS,i.play,{once:!0}),_n(r,WS)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),nt(s,Ya),Xt(this.items,function(f,p){var g=f.querySelector("img"),b=document.createElement("img");b.src=fl(g,"originalUrl"),b.alt=g.getAttribute("alt"),b.referrerPolicy=g.referrerPolicy,l+=1,nt(b,uf),Td(b,gn,i.transition),rl(f,Bh)&&(nt(b,ri),u=p),a.push(b),it(b,oi,o,{once:!0}),s.appendChild(b)}),hn(i.interval)&&i.interval>0){var c=function(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u-=1,u=u>=0?u:l-1,nt(a[u],ri),e.playing.timeout=setTimeout(c,i.interval)},h=function(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u+=1,u=u<l?u:0,nt(a[u],ri),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(qt(r.stop)&&it(n,qS,r.stop,{once:!0}),_n(n,qS)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Xt(i.getElementsByTagName("img"),function(s){zt(s,oi,e.onLoadWhenPlay)}),Pt(i,Ya),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),nt(this.button,bS),n.transition&&(Pt(s,gn),this.viewed&&Pt(i,gn)),nt(r,Wy),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Ii(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Xr({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,gn),nt(s,gn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Pt(this.button,bS),n.transition&&(Pt(s,gn),this.viewed&&Pt(i,gn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Pt(r,Wy),Ii(r,{zIndex:n.zIndexInline}),this.viewerData=Xr({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,gn),nt(s,gn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&_n(r,yi),nt(r,Ya),nt(r,uf),nt(r,gn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,nt(r,ri)):(nt(r,Ya),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(it(r,yi,function(){Pt(r,Ya),Pt(r,uf),Pt(r,gn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Pt(r,ri),e.fading=!0):(Pt(r,Ya),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Xr({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(Xt(i?[n]:n.querySelectorAll("img"),function(u){qt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Xt(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),Ii(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];nt(l,Bh),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[lt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||zt(e,tu,this.onStart),e[lt]=void 0,this):this}},$Z={getImageURL:function(e){var n=this.options.url;return wd(n)?n=e.getAttribute(n):qt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),it(document,ES,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(zt(document,ES,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;nt(e,wS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Pt(e,wS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),qt(n.shown)&&it(e,DS,n.shown,{once:!0}),_n(e,DS)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),nt(r,Wo),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(qt(n.hidden)&&it(e,NS,n.hidden,{once:!0}),_n(e,NS,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?hl(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case lf:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case tc:this.zoom(xZ(r),!1,null,e);break;case oN:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}Xt(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},UZ=ks.Viewer,BZ=function(t){return function(){return t+=1,t}}(-1),ru=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(hZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Xr({},_S,hl(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=BZ(),this.init()}return fZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[lt]){r[lt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(Xt(s?[r]:r.querySelectorAll("img"),function(u){qt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),dl(document.createElement(lt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){Xt(o,function(c){c.complete||(zt(c,oi,l),zt(c,ra,l))})}},Xt(o,function(u){if(u.complete)l();else{var c,h;it(u,oi,c=function(){zt(u,ra,h),l()},{once:!0}),it(u,ra,h=function(){zt(u,oi,c),l()},{once:!0})}})}else it(r,tu,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!qt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=gZ;var o=s.querySelector(".".concat(lt,"-container")),a=o.querySelector(".".concat(lt,"-title")),l=o.querySelector(".".concat(lt,"-toolbar")),u=o.querySelector(".".concat(lt,"-navbar")),c=o.querySelector(".".concat(lt,"-button")),h=o.querySelector(".".concat(lt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(lt,"-footer")),this.tooltipBox=o.querySelector(".".concat(lt,"-tooltip")),this.player=o.querySelector(".".concat(lt,"-player")),this.list=o.querySelector(".".concat(lt,"-list")),o.id="".concat(lt).concat(this.id),a.id="".concat(lt,"Title").concat(this.id),nt(a,r.title?Hh(Array.isArray(r.title)?r.title[0]:r.title):Wo),nt(u,r.navbar?Hh(r.navbar):Wo),Td(c,Wo,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(nt(o,"".concat(lt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&zy(h,mp,"hide")),wd(r.className)&&r.className&&r.className.split(Lb).forEach(function(S){nt(o,S)}),r.toolbar){var f=document.createElement("ul"),p=hl(r.toolbar),g=jh.slice(0,3),b=jh.slice(7,9),A=jh.slice(9);p||nt(l,Hh(r.toolbar)),Xt(p?r.toolbar:jh,function(S,_){var M=p&&hl(S),L=p?Vb(_):S,I=M&&!dl(S.show)?S.show:S;if(!(!I||!r.zoomable&&g.indexOf(L)!==-1||!r.rotatable&&b.indexOf(L)!==-1||!r.scalable&&A.indexOf(L)!==-1)){var E=M&&!dl(S.size)?S.size:S,y=M&&!dl(S.click)?S.click:S,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),nt(v,"".concat(lt,"-").concat(L)),qt(y)||zy(v,mp,L),hn(I)&&nt(v,Hh(I)),["small","large"].indexOf(E)!==-1?nt(v,"".concat(lt,"-").concat(E)):L==="play"&&nt(v,"".concat(lt,"-large")),qt(y)&&it(v,tu,y),f.appendChild(v)}}),l.appendChild(f)}else nt(l,Wo);if(!r.rotatable){var R=l.querySelectorAll('li[class*="rotate"]');nt(R,Oc),Xt(R,function(S){l.appendChild(S)})}if(r.inline)nt(c,yZ),Ii(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Ii(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{nt(c,vZ),nt(o,Wy),nt(o,uf),nt(o,Wo),Ii(o,{zIndex:r.zIndex});var k=r.container;wd(k)&&(k=n.ownerDocument.querySelector(k)),k||(k=this.body),k.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,qt(r.ready)&&it(n,kS,r.ready,{once:!0}),_n(n,kS)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=UZ,t}},{key:"setDefaults",value:function(n){Xr(_S,hl(n)&&n)}}])}();Xr(ru.prototype,MZ,LZ,VZ,FZ,$Z);var jZ=typeof global=="object"&&global&&global.Object===Object&&global;const uN=jZ;var HZ=typeof self=="object"&&self&&self.Object===Object&&self,WZ=uN||HZ||Function("return this")();const Am=WZ;var qZ=Am.Symbol;const gp=qZ;var cN=Object.prototype,zZ=cN.hasOwnProperty,KZ=cN.toString,qu=gp?gp.toStringTag:void 0;function GZ(t){var e=zZ.call(t,qu),n=t[qu];try{t[qu]=void 0;var r=!0}catch{}var i=KZ.call(t);return r&&(e?t[qu]=n:delete t[qu]),i}var YZ=Object.prototype,QZ=YZ.toString;function XZ(t){return QZ.call(t)}var JZ="[object Null]",ZZ="[object Undefined]",zS=gp?gp.toStringTag:void 0;function Cm(t){return t==null?t===void 0?ZZ:JZ:zS&&zS in Object(t)?GZ(t):XZ(t)}function Om(t){return t!=null&&typeof t=="object"}var eee="[object Symbol]";function tee(t){return typeof t=="symbol"||Om(t)&&Cm(t)==eee}var nee=Array.isArray;const ree=nee;var iee=/\s/;function see(t){for(var e=t.length;e--&&iee.test(t.charAt(e)););return e}var oee=/^\s+/;function aee(t){return t&&t.slice(0,see(t)+1).replace(oee,"")}function Ta(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var KS=NaN,lee=/^[-+]0x[0-9a-f]+$/i,uee=/^0b[01]+$/i,cee=/^0o[0-7]+$/i,dee=parseInt;function GS(t){if(typeof t=="number")return t;if(tee(t))return KS;if(Ta(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ta(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=aee(t);var n=uee.test(t);return n||cee.test(t)?dee(t.slice(2),n?2:8):lee.test(t)?KS:+t}function dN(t){return t}var hee="[object AsyncFunction]",fee="[object Function]",pee="[object GeneratorFunction]",mee="[object Proxy]";function hN(t){if(!Ta(t))return!1;var e=Cm(t);return e==fee||e==pee||e==hee||e==mee}var gee=Am["__core-js_shared__"];const tv=gee;var YS=function(){var t=/[^.]+$/.exec(tv&&tv.keys&&tv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vee(t){return!!YS&&YS in t}var yee=Function.prototype,_ee=yee.toString;function bee(t){if(t!=null){try{return _ee.call(t)}catch{}try{return t+""}catch{}}return""}var wee=/[\\^$.*+?()[\]{}|]/g,Tee=/^\[object .+?Constructor\]$/,Eee=Function.prototype,Iee=Object.prototype,See=Eee.toString,Aee=Iee.hasOwnProperty,Cee=RegExp("^"+See.call(Aee).replace(wee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oee(t){if(!Ta(t)||vee(t))return!1;var e=hN(t)?Cee:Tee;return e.test(bee(t))}function Pee(t,e){return t==null?void 0:t[e]}function kee(t,e){var n=Pee(t,e);return Oee(n)?n:void 0}function Ree(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Dee=800,xee=16,Nee=Date.now;function Mee(t){var e=0,n=0;return function(){var r=Nee(),i=xee-(r-n);if(n=r,i>0){if(++e>=Dee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Lee(t){return function(){return t}}var Vee=function(){try{var t=kee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const vp=Vee;var Fee=vp?function(t,e){return vp(t,"toString",{configurable:!0,enumerable:!1,value:Lee(e),writable:!0})}:dN;const $ee=Fee;var Uee=Mee($ee);const Bee=Uee;var jee=9007199254740991,Hee=/^(?:0|[1-9]\d*)$/;function fN(t,e){var n=typeof t;return e=e??jee,!!e&&(n=="number"||n!="symbol"&&Hee.test(t))&&t>-1&&t%1==0&&t<e}function pN(t,e,n){e=="__proto__"&&vp?vp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fb(t,e){return t===e||t!==t&&e!==e}var Wee=Object.prototype,qee=Wee.hasOwnProperty;function mN(t,e,n){var r=t[e];(!(qee.call(t,e)&&Fb(r,n))||n===void 0&&!(e in t))&&pN(t,e,n)}function zee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?pN(n,a,l):mN(n,a,l)}return n}var QS=Math.max;function Kee(t,e,n){return e=QS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=QS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Ree(t,this,a)}}function gN(t,e){return Bee(Kee(t,e,dN),t+"")}var Gee=9007199254740991;function vN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Gee}function Pm(t){return t!=null&&vN(t.length)&&!hN(t)}function yN(t,e,n){if(!Ta(n))return!1;var r=typeof e;return(r=="number"?Pm(n)&&fN(e,n.length):r=="string"&&e in n)?Fb(n[e],t):!1}function Yee(t){return gN(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&yN(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Qee=Object.prototype;function $b(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Qee;return t===n}function Xee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jee="[object Arguments]";function XS(t){return Om(t)&&Cm(t)==Jee}var _N=Object.prototype,Zee=_N.hasOwnProperty,ete=_N.propertyIsEnumerable,tte=XS(function(){return arguments}())?XS:function(t){return Om(t)&&Zee.call(t,"callee")&&!ete.call(t,"callee")};const nte=tte;function rte(){return!1}var bN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,JS=bN&&typeof module=="object"&&module&&!module.nodeType&&module,ite=JS&&JS.exports===bN,ZS=ite?Am.Buffer:void 0,ste=ZS?ZS.isBuffer:void 0,ote=ste||rte;const ate=ote;var lte="[object Arguments]",ute="[object Array]",cte="[object Boolean]",dte="[object Date]",hte="[object Error]",fte="[object Function]",pte="[object Map]",mte="[object Number]",gte="[object Object]",vte="[object RegExp]",yte="[object Set]",_te="[object String]",bte="[object WeakMap]",wte="[object ArrayBuffer]",Tte="[object DataView]",Ete="[object Float32Array]",Ite="[object Float64Array]",Ste="[object Int8Array]",Ate="[object Int16Array]",Cte="[object Int32Array]",Ote="[object Uint8Array]",Pte="[object Uint8ClampedArray]",kte="[object Uint16Array]",Rte="[object Uint32Array]",nn={};nn[Ete]=nn[Ite]=nn[Ste]=nn[Ate]=nn[Cte]=nn[Ote]=nn[Pte]=nn[kte]=nn[Rte]=!0;nn[lte]=nn[ute]=nn[wte]=nn[cte]=nn[Tte]=nn[dte]=nn[hte]=nn[fte]=nn[pte]=nn[mte]=nn[gte]=nn[vte]=nn[yte]=nn[_te]=nn[bte]=!1;function Dte(t){return Om(t)&&vN(t.length)&&!!nn[Cm(t)]}function xte(t){return function(e){return t(e)}}var wN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pc=wN&&typeof module=="object"&&module&&!module.nodeType&&module,Nte=Pc&&Pc.exports===wN,nv=Nte&&uN.process,Mte=function(){try{var t=Pc&&Pc.require&&Pc.require("util").types;return t||nv&&nv.binding&&nv.binding("util")}catch{}}();const eA=Mte;var tA=eA&&eA.isTypedArray,Lte=tA?xte(tA):Dte;const Vte=Lte;var Fte=Object.prototype,$te=Fte.hasOwnProperty;function TN(t,e){var n=ree(t),r=!n&&nte(t),i=!n&&!r&&ate(t),s=!n&&!r&&!i&&Vte(t),o=n||r||i||s,a=o?Xee(t.length,String):[],l=a.length;for(var u in t)(e||$te.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fN(u,l)))&&a.push(u);return a}function Ute(t,e){return function(n){return t(e(n))}}var Bte=Ute(Object.keys,Object);const jte=Bte;var Hte=Object.prototype,Wte=Hte.hasOwnProperty;function qte(t){if(!$b(t))return jte(t);var e=[];for(var n in Object(t))Wte.call(t,n)&&n!="constructor"&&e.push(n);return e}function zte(t){return Pm(t)?TN(t):qte(t)}var Kte=Object.prototype,Gte=Kte.hasOwnProperty,Yte=Yee(function(t,e){if($b(e)||Pm(e)){zee(e,zte(e),t);return}for(var n in e)Gte.call(e,n)&&mN(t,n,e[n])});const Qte=Yte;function Xte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Jte=Object.prototype,Zte=Jte.hasOwnProperty;function ene(t){if(!Ta(t))return Xte(t);var e=$b(t),n=[];for(var r in t)r=="constructor"&&(e||!Zte.call(t,r))||n.push(r);return n}function tne(t){return Pm(t)?TN(t,!0):ene(t)}var nne=function(){return Am.Date.now()};const rv=nne;var rne="Expected a function",ine=Math.max,sne=Math.min;function one(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(rne);e=GS(e)||0,Ta(n)&&(c=!!n.leading,h="maxWait"in n,s=h?ine(GS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(L){var I=r,E=i;return r=i=void 0,u=L,o=t.apply(E,I),o}function g(L){return u=L,a=setTimeout(R,e),c?p(L):o}function b(L){var I=L-l,E=L-u,y=e-I;return h?sne(y,s-E):y}function A(L){var I=L-l,E=L-u;return l===void 0||I>=e||I<0||h&&E>=s}function R(){var L=rv();if(A(L))return k(L);a=setTimeout(R,b(L))}function k(L){return a=void 0,f&&r?p(L):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?o:k(rv())}function M(){var L=rv(),I=A(L);if(r=arguments,i=this,l=L,I){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(R,e),p(l)}return a===void 0&&(a=setTimeout(R,e)),o}return M.cancel=S,M.flush=_,M}var EN=Object.prototype,ane=EN.hasOwnProperty,lne=gN(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&yN(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=tne(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||Fb(c,EN[u])&&!ane.call(t,u))&&(t[u]=s[u])}return t});const une=lne,cne=({images:t=[],options:e})=>{e=Qte(e,{inline:!1});const n=document.createElement("div"),r=Dl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Dl("img",typeof a=="string"?{src:a}:a)));$c(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new ru(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),$c(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},dne=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await Hn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new ru(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const b=new g(R=>{R.forEach(k=>{u(`Viewer mutation:${k.type}`),f(c,h,p,!0)})}),A={attributes:!0,childList:!0,characterData:!0,subtree:!0};b.observe(c,A),c.__viewerMutationObserver=b,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=In(()=>h.value,(g,b)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=one(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},hne=Gt({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=fe();function i(){n=new ru(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return In(()=>t.images,()=>{Hn(()=>{l()})},u),In(()=>t.trigger,()=>{Hn(()=>{l()})},u),In(()=>t.options,()=>{Hn(()=>{o()})},u),yn(()=>i()),Ia(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),fne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},pne={ref:"root"};function mne(t,e,n,r,i,s){return W(),ee("div",pne,[_e(t.$slots,"default",{images:t.images,options:t.options})],512)}const gne=fne(hne,[["render",mne]]),vne={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&ru.setDefaults(r),t.config.globalProperties[`$${e}Api`]=cne,t.component(e,une(gne,{name:e})),t.directive(e,dne({name:e,debug:n}))},setDefaults(t){ru.setDefaults(t)}},mi=Iv(ZV);mi.use(JD);mi.use(DW,{firebaseApp:H4,modules:[OW()]});mi.use(sP);mi.use(B2);mi.use(vne);mi.use($Q);mi.component("VueDatePicker",Ab);mi.component("PrimeInputText",Zx);mi.component("PrimeTextArea",iN);mi.component("PrimeDropdown",Jx);mi.component("PrimeMultiSelect",rN);mi.mount("#app");export{QD as $,WD as A,pi as B,xre as C,Qe as D,tt as E,zk as F,Dn as G,ht as H,Ui as I,JD as J,oq as K,Re as L,In as M,Nre as N,Ft as O,xe as P,wn as Q,kn as R,Zn as S,Ure as T,Bre as U,at as V,zre as W,Mre as X,HW as Y,Qre as Z,ir as _,Dr as a,$ne as a$,Jre as a0,Xre as a1,$re as a2,Fo as a3,ec as a4,ZC as a5,ire as a6,Kr as a7,vm as a8,Ec as a9,sp as aA,ib as aB,FW as aC,VW as aD,LW as aE,Ey as aF,aI as aG,Rre as aH,La as aI,pp as aJ,Pb as aK,Yx as aL,Co as aM,MW as aN,NW as aO,qre as aP,Wre as aQ,jre as aR,YD as aS,GD as aT,KM as aU,UA as aV,Rn as aW,gre as aX,aA as aY,One as aZ,cre as a_,hI as aa,Zne as ab,Lt as ac,an as ad,kr as ae,Hn as af,Dre as ag,oL as ah,ct as ai,G9 as aj,p0 as ak,kre as al,Ia as am,er as an,Yo as ao,lc as ap,Fre as aq,tN as ar,zr as as,gne as at,Ene as au,xW as av,Kre as aw,Yre as ax,Gre as ay,UW as az,Tc as b,cL as b$,ff as b0,bl as b1,nre as b2,VA as b3,Xo as b4,Ine as b5,S2 as b6,Sne as b7,y_ as b8,Cne as b9,Ane as bA,o_ as bB,Dl as bC,su as bD,bL as bE,wre as bF,Nne as bG,Vne as bH,Lne as bI,Mne as bJ,are as bK,Tre as bL,Rr as bM,XL as bN,r_ as bO,Gi as bP,ia as bQ,ore as bR,ui as bS,go as bT,i_ as bU,Yne as bV,Qne as bW,rL as bX,c_ as bY,l_ as bZ,iL as b_,Di as ba,Id as bb,yr as bc,wp as bd,Is as be,mre as bf,Iv as bg,OL as bh,Xne as bi,CL as bj,V2 as bk,DM as bl,Fne as bm,b2 as bn,jne as bo,Hne as bp,zne as bq,Wne as br,Bne as bs,yre as bt,qne as bu,dre as bv,_ne as bw,Xy as bx,ei as by,Jy as bz,le as c,uL as c0,lL as c1,lA as c2,aL as c3,u_ as c4,FM as c5,kne as c6,oc as c7,CA as c8,Pne as c9,T2 as cA,Dne as cB,tre as cC,RL as cD,_re as cE,Sa as cF,xne as cG,$A as cH,kC as cI,D2 as cJ,RC as cK,R2 as cL,Ev as cM,JL as cN,ure as cO,ere as cP,DL as cQ,Jne as cR,Kne as cS,lre as cT,Rne as cU,Hre as cV,Vre as cW,Lre as cX,XD as cY,we as cZ,Im as c_,vf as ca,n_ as cb,sre as cc,$c as cd,zA as ce,pre as cf,Mc as cg,Gw as ch,hre as ci,mo as cj,IA as ck,wne as cl,SA as cm,kL as cn,fre as co,bne as cp,qh as cq,Une as cr,mt as cs,Dc as ct,xM as cu,rre as cv,Tne as cw,Gne as cx,bre as cy,vre as cz,Aa as d,Gt as e,Ere as f,rb as g,Yl as h,HD as i,iE as j,Y as k,W as l,ee as m,et as n,yn as o,Ae as p,qe as q,fe as r,yo as s,de as t,Ire as u,A5 as v,Me as w,Ma as x,pe as y,_e as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/c-Blog-BaYEM09x.js","./assets/c-SwitchField.vue_vue_type_script_setup_true_lang-C6J-GyL9.js","./assets/c-Bubble.vue_vue_type_script_setup_true_lang-BShtm6_i.js","./assets/c-Page.vue_vue_type_script_setup_true_lang-BGhe9uNp.js","./assets/c-BlogPost.vue_vue_type_script_setup_true_lang-ET1wYTno.js","./assets/c-Countdown.vue_vue_type_script_setup_true_lang-CuCP4XWO.js","./bundle12.css","./assets/c-TextField.vue_vue_type_script_setup_true_lang-aj-wueri.js","./assets/c-validation-DokkLKHB.js","./assets/c-accordiontab.esm-CX-DBziB.js","./assets/c-Image.vue_vue_type_script_setup_true_lang-BBaEBhzX.js","./bundle10.css","./assets/c-DateField.vue_vue_type_script_setup_true_lang-ykegzBN_.js","./assets/c-FileUpload.vue_vue_type_script_setup_true_lang-DbzAxtwG.js","./assets/c-vuedraggable.umd-CzRFyTns.js","./assets/c-SelectField.vue_vue_type_script_setup_true_lang-BanvuRMQ.js","./assets/c-Tools-BANihaQs.js","./assets/c-CatCalc-CQ0dHVpy.js","./assets/c-useCatCalc-6gobbMX9.js","./assets/c-CustomVoting-Ckd0erM-.js","./assets/c-_plugin-vue_export-helper-DlAUqK2U.js","./bundle9.css","./assets/c-Dashboard-Dx-1xkVv.js","./assets/c-PasswordField.vue_vue_type_script_setup_true_lang-BTjPNTvR.js","./assets/c-Home-CAJYzgah.js","./assets/c-Spades-CRNFPKDk.js","./assets/c-Worm-JshW0EFQ.js","./assets/c-Dice6.vue_vue_type_script_setup_true_lang-CyLZpKXP.js","./assets/c-Login-Ckfgw4Cn.js","./assets/c-NotFound-D7bJ6Zjb.js","./assets/c-Pet-DtdGbUlI.js","./assets/c-PetDialog.vue_vue_type_script_setup_true_lang-sajadzaE.js","./bundle11.css","./assets/c-Pets-DsBrpZbQ.js","./assets/c-User-C7QJAVfB.js","./bundle13.css","./assets/c-Users-CUxmLY_z.js","./assets/c-Register-C_krYUZ1.js","./assets/c-Games-fMEsPwDE.js","./assets/c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-CZ3EjRkQ.js","./assets/c-Yahtzee-BrsUxnXP.js","./assets/c-useScoreInfo-zd_EHTru.js","./bundle16.css","./bundle14.css","./assets/c-Rainworms-C8kgixdK.js","./assets/c-Patience-BJeXYYVY.js","./bundle15.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
