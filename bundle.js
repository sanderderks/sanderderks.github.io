var f3=Object.defineProperty;var h3=(t,e,n)=>e in t?f3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ya=(t,e,n)=>(h3(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pg(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const en={},vu=[],ui=()=>{},p3=()=>!1,Wf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yw=t=>t.startsWith("onUpdate:"),In=Object.assign,qw=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},m3=Object.prototype.hasOwnProperty,Lt=(t,e)=>m3.call(t,e),ze=Array.isArray,yu=t=>hc(t)==="[object Map]",Sl=t=>hc(t)==="[object Set]",gS=t=>hc(t)==="[object Date]",g3=t=>hc(t)==="[object RegExp]",at=t=>typeof t=="function",Cn=t=>typeof t=="string",ta=t=>typeof t=="symbol",sn=t=>t!==null&&typeof t=="object",Xw=t=>(sn(t)||at(t))&&at(t.then)&&at(t.catch),aP=Object.prototype.toString,hc=t=>aP.call(t),v3=t=>hc(t).slice(8,-1),lP=t=>hc(t)==="[object Object]",Qw=t=>Cn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bu=pg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},y3=/-(\w)/g,Jr=mg(t=>t.replace(y3,(e,n)=>n?n.toUpperCase():"")),b3=/\B([A-Z])/g,_i=mg(t=>t.replace(b3,"-$1").toLowerCase()),Kf=mg(t=>t.charAt(0).toUpperCase()+t.slice(1)),dd=mg(t=>t?`on${Kf(t)}`:""),us=(t,e)=>!Object.is(t,e),wu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Jp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Bd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Zp=t=>{const e=Cn(t)?Number(t):NaN;return isNaN(e)?t:e};let vS;const uP=()=>vS||(vS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),w3="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",_3=pg(w3);function rr(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Cn(r)?I3(r):rr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Cn(t)||sn(t))return t}const T3=/;(?![^(]*\))/g,S3=/:([^]+)/,E3=/\/\*[^]*?\*\//g;function I3(t){const e={};return t.replace(E3,"").split(T3).forEach(n=>{if(n){const r=n.split(S3);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ae(t){let e="";if(Cn(t))e=t;else if(ze(t))for(let n=0;n<t.length;n++){const r=Ae(t[n]);r&&(e+=r+" ")}else if(sn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function xn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Cn(e)&&(t.class=Ae(e)),n&&(t.style=rr(n)),t}const C3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",O3=pg(C3);function cP(t){return!!t||t===""}function A3(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=na(t[r],e[r]);return n}function na(t,e){if(t===e)return!0;let n=gS(t),r=gS(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ta(t),r=ta(e),n||r)return t===e;if(n=ze(t),r=ze(e),n||r)return n&&r?A3(t,e):!1;if(n=sn(t),r=sn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!na(t[o],e[o]))return!1}}return String(t)===String(e)}function gg(t,e){return t.findIndex(n=>na(n,e))}const Me=t=>Cn(t)?t:t==null?"":ze(t)||sn(t)&&(t.toString===aP||!at(t.toString))?JSON.stringify(t,dP,2):String(t),dP=(t,e)=>e&&e.__v_isRef?dP(t,e.value):yu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Yv(r,s)+" =>"]=i,n),{})}:Sl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Yv(n))}:ta(e)?Yv(e):sn(e)&&!ze(e)&&!lP(e)?String(e):e,Yv=(t,e="")=>{var n;return ta(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bi;class Jw{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=bi,!e&&bi&&(this.index=(bi.scopes||(bi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=bi;try{return bi=this,e()}finally{bi=n}}}on(){bi=this}off(){bi=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function vg(t){return new Jw(t)}function fP(t,e=bi){e&&e.active&&e.effects.push(t)}function yg(){return bi}function Zw(t){bi&&bi.cleanups.push(t)}let Va;class Lu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,fP(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,El();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(P3(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Il()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Ko,n=Va;try{return Ko=!0,Va=this,this._runnings++,yS(this),this.fn()}finally{bS(this),this._runnings--,Va=n,Ko=e}}stop(){var e;this.active&&(yS(this),bS(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function P3(t){return t.value}function yS(t){t._trackId++,t._depsLength=0}function bS(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)hP(t.deps[e],t);t.deps.length=t._depsLength}}function hP(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function k3(t,e){t.effect instanceof Lu&&(t=t.effect.fn);const n=new Lu(t,ui,()=>{n.dirty&&n.run()});e&&(In(n,e),e.scope&&fP(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function x3(t){t.effect.stop()}let Ko=!0,xb=0;const pP=[];function El(){pP.push(Ko),Ko=!1}function Il(){const t=pP.pop();Ko=t===void 0?!0:t}function e1(){xb++}function t1(){for(xb--;!xb&&Db.length;)Db.shift()()}function mP(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&hP(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Db=[];function gP(t,e,n){e1();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Db.push(r.scheduler)))}t1()}const vP=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},em=new WeakMap,Ba=Symbol(""),Rb=Symbol("");function mi(t,e,n){if(Ko&&Va){let r=em.get(t);r||em.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=vP(()=>r.delete(n))),mP(Va,i)}}function Qs(t,e,n,r,i,s){const o=em.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ze(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!ta(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ze(t)?Qw(n)&&a.push(o.get("length")):(a.push(o.get(Ba)),yu(t)&&a.push(o.get(Rb)));break;case"delete":ze(t)||(a.push(o.get(Ba)),yu(t)&&a.push(o.get(Rb)));break;case"set":yu(t)&&a.push(o.get(Ba));break}e1();for(const l of a)l&&gP(l,4);t1()}function D3(t,e){var n;return(n=em.get(t))==null?void 0:n.get(e)}const R3=pg("__proto__,__v_isRef,__isVue"),yP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ta)),wS=N3();function N3(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=_t(this);for(let s=0,o=this.length;s<o;s++)mi(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(_t)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){El(),e1();const r=_t(this)[e].apply(this,n);return t1(),Il(),r}}),t}function M3(t){const e=_t(this);return mi(e,"has",t),e.hasOwnProperty(t)}class bP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?IP:EP:s?SP:TP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ze(e);if(!i){if(o&&Lt(wS,n))return Reflect.get(wS,n,r);if(n==="hasOwnProperty")return M3}const a=Reflect.get(e,n,r);return(ta(n)?yP.has(n):R3(n))||(i||mi(e,"get",n),s)?a:dn(a)?o&&Qw(n)?a:a.value:sn(a)?i?_g(a):Dn(a):a}}class wP extends bP{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Za(s);if(!jd(r)&&!Za(r)&&(s=_t(s),r=_t(r)),!ze(e)&&dn(s)&&!dn(r))return l?!1:(s.value=r,!0)}const o=ze(e)&&Qw(n)?Number(n)<e.length:Lt(e,n),a=Reflect.set(e,n,r,i);return e===_t(i)&&(o?us(r,s)&&Qs(e,"set",n,r):Qs(e,"add",n,r)),a}deleteProperty(e,n){const r=Lt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Qs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ta(n)||!yP.has(n))&&mi(e,"has",n),r}ownKeys(e){return mi(e,"iterate",ze(e)?"length":Ba),Reflect.ownKeys(e)}}class _P extends bP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const $3=new wP,L3=new _P,F3=new wP(!0),U3=new _P(!0),n1=t=>t,bg=t=>Reflect.getPrototypeOf(t);function Nh(t,e,n=!1,r=!1){t=t.__v_raw;const i=_t(t),s=_t(e);n||(us(e,s)&&mi(i,"get",e),mi(i,"get",s));const{has:o}=bg(i),a=r?n1:n?s1:Hd;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Mh(t,e=!1){const n=this.__v_raw,r=_t(n),i=_t(t);return e||(us(t,i)&&mi(r,"has",t),mi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function $h(t,e=!1){return t=t.__v_raw,!e&&mi(_t(t),"iterate",Ba),Reflect.get(t,"size",t)}function _S(t){t=_t(t);const e=_t(this);return bg(e).has.call(e,t)||(e.add(t),Qs(e,"add",t,t)),this}function TS(t,e){e=_t(e);const n=_t(this),{has:r,get:i}=bg(n);let s=r.call(n,t);s||(t=_t(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?us(e,o)&&Qs(n,"set",t,e):Qs(n,"add",t,e),this}function SS(t){const e=_t(this),{has:n,get:r}=bg(e);let i=n.call(e,t);i||(t=_t(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Qs(e,"delete",t,void 0),s}function ES(){const t=_t(this),e=t.size!==0,n=t.clear();return e&&Qs(t,"clear",void 0,void 0),n}function Lh(t,e){return function(r,i){const s=this,o=s.__v_raw,a=_t(o),l=e?n1:t?s1:Hd;return!t&&mi(a,"iterate",Ba),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Fh(t,e,n){return function(...r){const i=this.__v_raw,s=_t(i),o=yu(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?n1:e?s1:Hd;return!e&&mi(s,"iterate",l?Rb:Ba),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function yo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function V3(){const t={get(s){return Nh(this,s)},get size(){return $h(this)},has:Mh,add:_S,set:TS,delete:SS,clear:ES,forEach:Lh(!1,!1)},e={get(s){return Nh(this,s,!1,!0)},get size(){return $h(this)},has:Mh,add:_S,set:TS,delete:SS,clear:ES,forEach:Lh(!1,!0)},n={get(s){return Nh(this,s,!0)},get size(){return $h(this,!0)},has(s){return Mh.call(this,s,!0)},add:yo("add"),set:yo("set"),delete:yo("delete"),clear:yo("clear"),forEach:Lh(!0,!1)},r={get(s){return Nh(this,s,!0,!0)},get size(){return $h(this,!0)},has(s){return Mh.call(this,s,!0)},add:yo("add"),set:yo("set"),delete:yo("delete"),clear:yo("clear"),forEach:Lh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Fh(s,!1,!1),n[s]=Fh(s,!0,!1),e[s]=Fh(s,!1,!0),r[s]=Fh(s,!0,!0)}),[t,n,e,r]}const[B3,j3,H3,W3]=V3();function wg(t,e){const n=e?t?W3:H3:t?j3:B3;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Lt(n,i)&&i in r?n:r,i,s)}const K3={get:wg(!1,!1)},z3={get:wg(!1,!0)},G3={get:wg(!0,!1)},Y3={get:wg(!0,!0)},TP=new WeakMap,SP=new WeakMap,EP=new WeakMap,IP=new WeakMap;function q3(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function X3(t){return t.__v_skip||!Object.isExtensible(t)?0:q3(v3(t))}function Dn(t){return Za(t)?t:Tg(t,!1,$3,K3,TP)}function r1(t){return Tg(t,!1,F3,z3,SP)}function _g(t){return Tg(t,!0,L3,G3,EP)}function Q3(t){return Tg(t,!0,U3,Y3,IP)}function Tg(t,e,n,r,i){if(!sn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=X3(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function As(t){return Za(t)?As(t.__v_raw):!!(t&&t.__v_isReactive)}function Za(t){return!!(t&&t.__v_isReadonly)}function jd(t){return!!(t&&t.__v_isShallow)}function i1(t){return As(t)||Za(t)}function _t(t){const e=t&&t.__v_raw;return e?_t(e):t}function zf(t){return Object.isExtensible(t)&&Jp(t,"__v_skip",!0),t}const Hd=t=>sn(t)?Dn(t):t,s1=t=>sn(t)?_g(t):t;class CP{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Lu(()=>e(this._value),()=>_u(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=_t(this);return(!e._cacheable||e.effect.dirty)&&us(e._value,e._value=e.effect.run())&&_u(e,4),o1(e),e.effect._dirtyLevel>=2&&_u(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function J3(t,e,n=!1){let r,i;const s=at(t);return s?(r=t,i=ui):(r=t.get,i=t.set),new CP(r,i,s||!i,n)}function o1(t){var e;Ko&&Va&&(t=_t(t),mP(Va,(e=t.dep)!=null?e:t.dep=vP(()=>t.dep=void 0,t instanceof CP?t:void 0)))}function _u(t,e=4,n){t=_t(t);const r=t.dep;r&&gP(r,e)}function dn(t){return!!(t&&t.__v_isRef===!0)}function se(t){return AP(t,!1)}function OP(t){return AP(t,!0)}function AP(t,e){return dn(t)?t:new Z3(t,e)}class Z3{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:_t(e),this._value=n?e:Hd(e)}get value(){return o1(this),this._value}set value(e){const n=this.__v_isShallow||jd(e)||Za(e);e=n?e:_t(e),us(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Hd(e),_u(this,4))}}function eF(t){_u(t,4)}function P(t){return dn(t)?t.value:t}function tF(t){return at(t)?t():P(t)}const nF={get:(t,e,n)=>P(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return dn(i)&&!dn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function a1(t){return As(t)?t:new Proxy(t,nF)}class rF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>o1(this),()=>_u(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function PP(t){return new rF(t)}function kP(t){const e=ze(t)?new Array(t.length):{};for(const n in t)e[n]=xP(t,n);return e}class iF{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return D3(_t(this._object),this._key)}}class sF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Fu(t,e,n){return dn(t)?t:at(t)?new sF(t):sn(t)&&arguments.length>1?xP(t,e,n):se(t)}function xP(t,e,n){const r=t[e];return dn(r)?r:new iF(t,e,n)}const oF={GET:"get",HAS:"has",ITERATE:"iterate"},aF={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lF(t,e){}const uF={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},cF={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Js(t,e,n,r){try{return r?t(...r):t()}catch(i){Cl(i,e,n)}}function Ii(t,e,n,r){if(at(t)){const s=Js(t,e,n,r);return s&&Xw(s)&&s.catch(o=>{Cl(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Ii(t[s],e,n,r));return i}function Cl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Js(l,null,10,[t,o,a]);return}}dF(t,n,i,r)}function dF(t,e,n,r=!0){console.error(t)}let Wd=!1,Nb=!1;const Nr=[];let ys=0;const Tu=[];let ko=null,xa=0;const DP=Promise.resolve();let l1=null;function Wn(t){const e=l1||DP;return t?e.then(this?t.bind(this):t):e}function fF(t){let e=ys+1,n=Nr.length;for(;e<n;){const r=e+n>>>1,i=Nr[r],s=Kd(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Sg(t){(!Nr.length||!Nr.includes(t,Wd&&t.allowRecurse?ys+1:ys))&&(t.id==null?Nr.push(t):Nr.splice(fF(t.id),0,t),RP())}function RP(){!Wd&&!Nb&&(Nb=!0,l1=DP.then(NP))}function hF(t){const e=Nr.indexOf(t);e>ys&&Nr.splice(e,1)}function tm(t){ze(t)?Tu.push(...t):(!ko||!ko.includes(t,t.allowRecurse?xa+1:xa))&&Tu.push(t),RP()}function IS(t,e,n=Wd?ys+1:0){for(;n<Nr.length;n++){const r=Nr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Nr.splice(n,1),n--,r()}}}function nm(t){if(Tu.length){const e=[...new Set(Tu)].sort((n,r)=>Kd(n)-Kd(r));if(Tu.length=0,ko){ko.push(...e);return}for(ko=e,xa=0;xa<ko.length;xa++)ko[xa]();ko=null,xa=0}}const Kd=t=>t.id==null?1/0:t.id,pF=(t,e)=>{const n=Kd(t)-Kd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function NP(t){Nb=!1,Wd=!0,Nr.sort(pF);try{for(ys=0;ys<Nr.length;ys++){const e=Nr[ys];e&&e.active!==!1&&Js(e,null,14)}}finally{ys=0,Nr.length=0,nm(),Wd=!1,l1=null,(Nr.length||Tu.length)&&NP()}}let Ql,Uh=[];function MP(t,e){var n,r;Ql=t,Ql?(Ql.enabled=!0,Uh.forEach(({event:i,args:s})=>Ql.emit(i,...s)),Uh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{MP(s,e)}),setTimeout(()=>{Ql||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Uh=[])},3e3)):Uh=[]}function mF(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||en;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||en;f&&(i=n.map(h=>Cn(h)?h.trim():h)),d&&(i=n.map(Bd))}let a,l=r[a=dd(e)]||r[a=dd(Jr(e))];!l&&s&&(l=r[a=dd(_i(e))]),l&&Ii(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ii(u,t,6,i)}}function $P(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!at(t)){const l=u=>{const c=$P(u,e,!0);c&&(a=!0,In(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(sn(t)&&r.set(t,null),null):(ze(s)?s.forEach(l=>o[l]=null):In(o,s),sn(t)&&r.set(t,o),o)}function Eg(t,e){return!t||!Wf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Lt(t,e[0].toLowerCase()+e.slice(1))||Lt(t,_i(e))||Lt(t,e))}let Qn=null,Ig=null;function zd(t){const e=Qn;return Qn=t,Ig=t&&t.type.__scopeId||null,e}function LP(t){Ig=t}function FP(){Ig=null}const gF=t=>ce;function ce(t,e=Qn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&jb(-1);const s=zd(e);let o;try{o=t(...i)}finally{zd(s),r._d&&jb(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Op(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t;let g,y;const v=zd(t);try{if(n.shapeFlag&4){const b=i||r,w=b;g=wi(c.call(w,b,d,s,h,f,p)),y=l}else{const b=e;g=wi(b.length>1?b(s,{attrs:l,slots:a,emit:u}):b(s,null)),y=e.props?l:yF(l)}}catch(b){pd.length=0,Cl(b,t,1),g=Z(Fr)}let _=g;if(y&&m!==!1){const b=Object.keys(y),{shapeFlag:w}=_;b.length&&w&7&&(o&&b.some(Yw)&&(y=bF(y,o)),_=Ns(_,y))}return n.dirs&&(_=Ns(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),g=_,zd(v),g}function vF(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(ra(i)){if(i.type!==Fr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const yF=t=>{let e;for(const n in t)(n==="class"||n==="style"||Wf(n))&&((e||(e={}))[n]=t[n]);return e},bF=(t,e)=>{const n={};for(const r in t)(!Yw(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function wF(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?CS(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!Eg(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?CS(r,o,u):!0:!!o;return!1}function CS(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Eg(n,s))return!0}return!1}function u1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const c1="components",_F="directives";function En(t,e){return d1(c1,t,!0,e)||t}const UP=Symbol.for("v-ndc");function un(t){return Cn(t)?d1(c1,t,!1)||t:t||UP}function Gf(t){return d1(_F,t)}function d1(t,e,n=!0,r=!1){const i=Qn||tr;if(i){const s=i.type;if(t===c1){const a=Gb(s,!1);if(a&&(a===e||a===Jr(e)||a===Kf(Jr(e))))return s}const o=OS(i[t]||s[t],e)||OS(i.appContext[t],e);return!o&&r?s:o}}function OS(t,e){return t&&(t[e]||t[Jr(e)]||t[Kf(Jr(e))])}const VP=t=>t.__isSuspense;let Mb=0;const TF={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)EF(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}IF(t,e,n,r,i,o,a,l,u)}},hydrate:CF,create:f1,normalize:OF},SF=TF;function Gd(t,e){const n=t.props&&t.props[e];at(n)&&n()}function EF(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=t.suspense=f1(t,i,r,e,d,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,d,null,r,f,s,o),f.deps>0?(Gd(t,"onPending"),Gd(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Su(f,t.ssFallback)):f.resolve(!1,!0)}function IF(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:y}=d;if(m)d.pendingBranch=f,Zi(f,m)?(l(m,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():g&&(y||(l(p,h,n,r,i,null,s,o,a),Su(d,h)))):(d.pendingId=Mb++,y?(d.isHydrating=!1,d.activeBranch=m):u(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),g?(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,h,n,r,i,null,s,o,a),Su(d,h))):p&&Zi(f,p)?(l(p,f,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&Zi(f,p))l(p,f,n,r,i,d,s,o,a),Su(d,f);else if(Gd(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=Mb++,l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:v,pendingId:_}=d;v>0?setTimeout(()=>{d.pendingId===_&&d.fallback(h)},v):v===0&&d.fallback(h)}}function f1(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:m,remove:g}}=u;let y;const v=AF(t);v&&e!=null&&e.pendingBranch&&(y=e.pendingId,e.deps++);const _=t.props?Zp(t.props.timeout):void 0,b=s,w={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:Mb++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(T=!1,x=!1){const{vnode:C,activeBranch:I,pendingBranch:E,pendingId:M,effects:F,parentComponent:N,container:k}=w;let R=!1;w.isHydrating?w.isHydrating=!1:T||(R=I&&E.transition&&E.transition.mode==="out-in",R&&(I.transition.afterLeave=()=>{M===w.pendingId&&(f(E,k,s===b?p(I):s,0),tm(F))}),I&&(m(I.el)!==w.hiddenContainer&&(s=p(I)),h(I,N,w,!0)),R||f(E,k,s,0)),Su(w,E),w.pendingBranch=null,w.isInFallback=!1;let D=w.parent,B=!1;for(;D;){if(D.pendingBranch){D.effects.push(...F),B=!0;break}D=D.parent}!B&&!R&&tm(F),w.effects=[],v&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,e.deps===0&&!x&&e.resolve()),Gd(C,"onResolve")},fallback(T){if(!w.pendingBranch)return;const{vnode:x,activeBranch:C,parentComponent:I,container:E,namespace:M}=w;Gd(x,"onFallback");const F=p(C),N=()=>{w.isInFallback&&(d(null,T,E,F,I,null,M,a,l),Su(w,T))},k=T.transition&&T.transition.mode==="out-in";k&&(C.transition.afterLeave=N),w.isInFallback=!0,h(C,I,null,!0),k||N()},move(T,x,C){w.activeBranch&&f(w.activeBranch,T,x,C),w.container=T},next(){return w.activeBranch&&p(w.activeBranch)},registerDep(T,x){const C=!!w.pendingBranch;C&&w.deps++;const I=T.vnode.el;T.asyncDep.catch(E=>{Cl(E,T,0)}).then(E=>{if(T.isUnmounted||w.isUnmounted||w.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:M}=T;Kb(T,E,!1),I&&(M.el=I);const F=!I&&T.subTree.el;x(T,M,m(I||T.subTree.el),I?null:p(T.subTree),w,o,l),F&&g(F),u1(T,M.el),C&&--w.deps===0&&w.resolve()})},unmount(T,x){w.isUnmounted=!0,w.activeBranch&&h(w.activeBranch,n,T,x),w.pendingBranch&&h(w.pendingBranch,n,T,x)}};return w}function CF(t,e,n,r,i,s,o,a,l){const u=e.suspense=f1(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function OF(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=AS(r?n.default:n),t.ssFallback=r?AS(n.fallback):Z(Fr)}function AS(t){let e;if(at(t)){const n=nl&&t._c;n&&(t._d=!1,S()),t=t(),n&&(t._d=!0,e=ci,wk())}return ze(t)&&(t=vF(t)),t=wi(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function BP(t,e){e&&e.pendingBranch?ze(t)?e.effects.push(...t):e.effects.push(t):tm(t)}function Su(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,u1(r,i))}function AF(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const jP=Symbol.for("v-scx"),HP=()=>Zr(jP);function WP(t,e){return Yf(t,null,e)}function KP(t,e){return Yf(t,null,{flush:"post"})}function zP(t,e){return Yf(t,null,{flush:"sync"})}const Vh={};function It(t,e,n){return Yf(t,e,n)}function Yf(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=en){if(e&&s){const T=e;e=(...x)=>{T(...x),w()}}const l=tr,u=T=>r===!0?T:Na(T,r===!1?1:void 0);let c,d=!1,f=!1;if(dn(t)?(c=()=>t.value,d=jd(t)):As(t)?(c=()=>u(t),d=!0):ze(t)?(f=!0,d=t.some(T=>As(T)||jd(T)),c=()=>t.map(T=>{if(dn(T))return T.value;if(As(T))return u(T);if(at(T))return Js(T,l,2)})):at(t)?e?c=()=>Js(t,l,2):c=()=>(h&&h(),Ii(t,l,3,[p])):c=ui,e&&r){const T=c;c=()=>Na(T())}let h,p=T=>{h=_.onStop=()=>{Js(T,l,4),h=_.onStop=void 0}},m;if(Qf)if(p=ui,e?n&&Ii(e,l,3,[c(),f?[]:void 0,p]):c(),i==="sync"){const T=HP();m=T.__watcherHandles||(T.__watcherHandles=[])}else return ui;let g=f?new Array(t.length).fill(Vh):Vh;const y=()=>{if(!(!_.active||!_.dirty))if(e){const T=_.run();(r||d||(f?T.some((x,C)=>us(x,g[C])):us(T,g)))&&(h&&h(),Ii(e,l,3,[T,g===Vh?void 0:f&&g[0]===Vh?[]:g,p]),g=T)}else _.run()};y.allowRecurse=!!e;let v;i==="sync"?v=y:i==="post"?v=()=>wr(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),v=()=>Sg(y));const _=new Lu(c,ui,v),b=yg(),w=()=>{_.stop(),b&&qw(b.effects,_)};return e?n?y():g=_.run():i==="post"?wr(_.run.bind(_),l&&l.suspense):_.run(),m&&m.push(w),w}function PF(t,e,n){const r=this.proxy,i=Cn(t)?t.includes(".")?GP(r,t):()=>r[t]:t.bind(r,r);let s;at(e)?s=e:(s=e.handler,n=e);const o=rl(this),a=Yf(i,s.bind(r),n);return o(),a}function GP(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Na(t,e,n=0,r){if(!sn(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),dn(t))Na(t.value,e,n,r);else if(ze(t))for(let i=0;i<t.length;i++)Na(t[i],e,n,r);else if(Sl(t)||yu(t))t.forEach(i=>{Na(i,e,n,r)});else if(lP(t))for(const i in t)Na(t[i],e,n,r);return t}function Ci(t,e){if(Qn===null)return t;const n=kg(Qn)||Qn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=en]=e[i];s&&(at(s)&&(s={mounted:s,updated:s}),s.deep&&Na(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function gs(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(El(),Ii(l,n,8,[t.el,a,t,e]),Il())}}const xo=Symbol("_leaveCb"),Bh=Symbol("_enterCb");function h1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wt(()=>{t.isMounted=!0}),Xf(()=>{t.isUnmounting=!0}),t}const Ri=[Function,Array],p1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ri,onEnter:Ri,onAfterEnter:Ri,onEnterCancelled:Ri,onBeforeLeave:Ri,onLeave:Ri,onAfterLeave:Ri,onLeaveCancelled:Ri,onBeforeAppear:Ri,onAppear:Ri,onAfterAppear:Ri,onAppearCancelled:Ri},kF={name:"BaseTransition",props:p1,setup(t,{slots:e}){const n=hs(),r=h1();return()=>{const i=e.default&&Cg(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const f of i)if(f.type!==Fr){s=f;break}}const o=_t(t),{mode:a}=o;if(r.isLeaving)return qv(s);const l=PS(s);if(!l)return qv(s);const u=Uu(l,o,r,n);el(l,u);const c=n.subTree,d=c&&PS(c);if(d&&d.type!==Fr&&!Zi(l,d)){const f=Uu(d,o,r,n);if(el(d,f),a==="out-in")return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},qv(s);a==="in-out"&&l.type!==Fr&&(f.delayLeave=(h,p,m)=>{const g=qP(r,d);g[String(d.key)]=d,h[xo]=()=>{p(),h[xo]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}},YP=kF;function qP(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Uu(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:y,onAppearCancelled:v}=e,_=String(t.key),b=qP(n,t),w=(C,I)=>{C&&Ii(C,r,9,I)},T=(C,I)=>{const E=I[1];w(C,I),ze(C)?C.every(M=>M.length<=1)&&E():C.length<=1&&E()},x={mode:s,persisted:o,beforeEnter(C){let I=a;if(!n.isMounted)if(i)I=m||a;else return;C[xo]&&C[xo](!0);const E=b[_];E&&Zi(t,E)&&E.el[xo]&&E.el[xo](),w(I,[C])},enter(C){let I=l,E=u,M=c;if(!n.isMounted)if(i)I=g||l,E=y||u,M=v||c;else return;let F=!1;const N=C[Bh]=k=>{F||(F=!0,k?w(M,[C]):w(E,[C]),x.delayedLeave&&x.delayedLeave(),C[Bh]=void 0)};I?T(I,[C,N]):N()},leave(C,I){const E=String(t.key);if(C[Bh]&&C[Bh](!0),n.isUnmounting)return I();w(d,[C]);let M=!1;const F=C[xo]=N=>{M||(M=!0,I(),N?w(p,[C]):w(h,[C]),C[xo]=void 0,b[E]===t&&delete b[E])};b[E]=t,f?T(f,[C,F]):F()},clone(C){return Uu(C,e,n,r)}};return x}function qv(t){if(qf(t))return t=Ns(t),t.children=null,t}function PS(t){return qf(t)?t.children?t.children[0]:void 0:t}function el(t,e){t.shapeFlag&6&&t.component?el(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Cg(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Te?(o.patchFlag&128&&i++,r=r.concat(Cg(o.children,e,a))):(e||o.type!==Fr)&&r.push(a!=null?Ns(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Pe(t,e){return at(t)?In({name:t.name},e,{setup:t}):t}const ja=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function xF(t){at(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,f()),f=()=>{let h;return l||(h=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,g)=>{a(p,()=>m(d()),()=>g(p),c+1)});throw p}).then(p=>h!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Pe({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const h=tr;if(u)return()=>Xv(u,h);const p=v=>{l=null,Cl(v,h,13,!r)};if(o&&h.suspense||Qf)return f().then(v=>()=>Xv(v,h)).catch(v=>(p(v),()=>r?Z(r,{error:v}):null));const m=se(!1),g=se(),y=se(!!i);return i&&setTimeout(()=>{y.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!g.value){const v=new Error(`Async component timed out after ${s}ms.`);p(v),g.value=v}},s),f().then(()=>{m.value=!0,h.parent&&qf(h.parent.vnode)&&(h.parent.effect.dirty=!0,Sg(h.parent.update))}).catch(v=>{p(v),g.value=v}),()=>{if(m.value&&u)return Xv(u,h);if(g.value&&r)return Z(r,{error:g.value});if(n&&!y.value)return Z(n)}}})}function Xv(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=Z(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const qf=t=>t.type.__isKeepAlive,DF={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=hs(),r=n.ctx;if(!r.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");r.activate=(v,_,b,w,T)=>{const x=v.component;u(v,_,b,0,a),l(x.vnode,v,_,b,x,a,w,v.slotScopeIds,T),wr(()=>{x.isDeactivated=!1,x.a&&wu(x.a);const C=v.props&&v.props.onVnodeMounted;C&&oi(C,x.parent,v)},a)},r.deactivate=v=>{const _=v.component;u(v,f,null,1,a),wr(()=>{_.da&&wu(_.da);const b=v.props&&v.props.onVnodeUnmounted;b&&oi(b,_.parent,v),_.isDeactivated=!0},a)};function h(v){Qv(v),c(v,n,a,!0)}function p(v){i.forEach((_,b)=>{const w=Gb(_.type);w&&(!v||!v(w))&&m(b)})}function m(v){const _=i.get(v);!o||!Zi(_,o)?h(_):o&&Qv(o),i.delete(v),s.delete(v)}It(()=>[t.include,t.exclude],([v,_])=>{v&&p(b=>Yc(v,b)),_&&p(b=>!Yc(_,b))},{flush:"post",deep:!0});let g=null;const y=()=>{g!=null&&i.set(g,Jv(n.subTree))};return Wt(y),Ag(y),Xf(()=>{i.forEach(v=>{const{subTree:_,suspense:b}=n,w=Jv(_);if(v.type===w.type&&v.key===w.key){Qv(w);const T=w.component.da;T&&wr(T,b);return}h(v)})}),()=>{if(g=null,!e.default)return null;const v=e.default(),_=v[0];if(v.length>1)return o=null,v;if(!ra(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let b=Jv(_);const w=b.type,T=Gb(ja(b)?b.type.__asyncResolved||{}:w),{include:x,exclude:C,max:I}=t;if(x&&(!T||!Yc(x,T))||C&&T&&Yc(C,T))return o=b,_;const E=b.key==null?w:b.key,M=i.get(E);return b.el&&(b=Ns(b),_.shapeFlag&128&&(_.ssContent=b)),g=E,M?(b.el=M.el,b.component=M.component,b.transition&&el(b,b.transition),b.shapeFlag|=512,s.delete(E),s.add(E)):(s.add(E),I&&s.size>parseInt(I,10)&&m(s.values().next().value)),b.shapeFlag|=256,o=b,VP(_.type)?_:b}}},RF=DF;function Yc(t,e){return ze(t)?t.some(n=>Yc(n,e)):Cn(t)?t.split(",").includes(e):g3(t)?t.test(e):!1}function XP(t,e){JP(t,"a",e)}function QP(t,e){JP(t,"da",e)}function JP(t,e,n=tr){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Og(e,r,n),n){let i=n.parent;for(;i&&i.parent;)qf(i.parent.vnode)&&NF(r,e,n,i),i=i.parent}}function NF(t,e,n,r){const i=Og(e,t,r,!0);mo(()=>{qw(r[e],i)},n)}function Qv(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Jv(t){return t.shapeFlag&128?t.ssContent:t}function Og(t,e,n=tr,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;El();const a=rl(n),l=Ii(e,n,t,o);return a(),Il(),l});return r?i.unshift(s):i.push(s),s}}const po=t=>(e,n=tr)=>(!Qf||t==="sp")&&Og(t,(...r)=>e(...r),n),ZP=po("bm"),Wt=po("m"),m1=po("bu"),Ag=po("u"),Xf=po("bum"),mo=po("um"),ek=po("sp"),tk=po("rtg"),nk=po("rtc");function rk(t,e=tr){Og("ec",t,e)}function st(t,e,n,r){let i;const s=n&&n[r];if(ze(t)||Cn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(sn(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function Jn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ze(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function fe(t,e,n={},r,i){if(Qn.isCE||Qn.parent&&ja(Qn.parent)&&Qn.parent.isCE)return e!=="default"&&(n.name=e),Z("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),S();const o=s&&ik(s(n)),a=re(Te,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function ik(t){return t.some(e=>ra(e)?!(e.type===Fr||e.type===Te&&!ik(e.children)):!0)?t:null}function MF(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:dd(r)]=t[r];return n}const $b=t=>t?Ek(t)?kg(t)||t.proxy:$b(t.parent):null,fd=In(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$b(t.parent),$root:t=>$b(t.root),$emit:t=>t.emit,$options:t=>g1(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Sg(t.update)}),$nextTick:t=>t.n||(t.n=Wn.bind(t.proxy)),$watch:t=>PF.bind(t)}),Zv=(t,e)=>t!==en&&!t.__isScriptSetup&&Lt(t,e),Lb={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Zv(r,e))return o[e]=1,r[e];if(i!==en&&Lt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Lt(u,e))return o[e]=3,s[e];if(n!==en&&Lt(n,e))return o[e]=4,n[e];Fb&&(o[e]=0)}}const c=fd[e];let d,f;if(c)return e==="$attrs"&&mi(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==en&&Lt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Lt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Zv(i,e)?(i[e]=n,!0):r!==en&&Lt(r,e)?(r[e]=n,!0):Lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==en&&Lt(t,o)||Zv(e,o)||(a=s[0])&&Lt(a,o)||Lt(r,o)||Lt(fd,o)||Lt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},$F=In({},Lb,{get(t,e){if(e!==Symbol.unscopables)return Lb.get(t,e,t)},has(t,e){return e[0]!=="_"&&!_3(e)}});function LF(){return null}function FF(){return null}function UF(t){}function VF(t){}function BF(){return null}function jF(){}function HF(t,e){return null}function ua(){return sk().slots}function WF(){return sk().attrs}function sk(){const t=hs();return t.setupContext||(t.setupContext=Ok(t))}function Yd(t){return ze(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function KF(t,e){const n=Yd(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?ze(i)||at(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function zF(t,e){return!t||!e?t||e:ze(t)&&ze(e)?t.concat(e):In({},Yd(t),Yd(e))}function GF(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function YF(t){const e=hs();let n=t();return Wb(),Xw(n)&&(n=n.catch(r=>{throw rl(e),r})),[n,()=>rl(e)]}let Fb=!0;function qF(t){const e=g1(t),n=t.proxy,r=t.ctx;Fb=!1,e.beforeCreate&&kS(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:v,destroyed:_,unmounted:b,render:w,renderTracked:T,renderTriggered:x,errorCaptured:C,serverPrefetch:I,expose:E,inheritAttrs:M,components:F,directives:N,filters:k}=e;if(u&&XF(u,r,null),o)for(const B in o){const Y=o[B];at(Y)&&(r[B]=Y.bind(n))}if(i){const B=i.call(n,n);sn(B)&&(t.data=Dn(B))}if(Fb=!0,s)for(const B in s){const Y=s[B],L=at(Y)?Y.bind(n,n):at(Y.get)?Y.get.bind(n,n):ui,O=!at(Y)&&at(Y.set)?Y.set.bind(n):ui,J=ee({get:L,set:O});Object.defineProperty(r,B,{enumerable:!0,configurable:!0,get:()=>J.value,set:te=>J.value=te})}if(a)for(const B in a)ok(a[B],r,n,B);if(l){const B=at(l)?l.call(n):l;Reflect.ownKeys(B).forEach(Y=>{Iu(Y,B[Y])})}c&&kS(c,t,"c");function D(B,Y){ze(Y)?Y.forEach(L=>B(L.bind(n))):Y&&B(Y.bind(n))}if(D(ZP,d),D(Wt,f),D(m1,h),D(Ag,p),D(XP,m),D(QP,g),D(rk,C),D(nk,T),D(tk,x),D(Xf,v),D(mo,b),D(ek,I),ze(E))if(E.length){const B=t.exposed||(t.exposed={});E.forEach(Y=>{Object.defineProperty(B,Y,{get:()=>n[Y],set:L=>n[Y]=L})})}else t.exposed||(t.exposed={});w&&t.render===ui&&(t.render=w),M!=null&&(t.inheritAttrs=M),F&&(t.components=F),N&&(t.directives=N)}function XF(t,e,n=ui){ze(t)&&(t=Ub(t));for(const r in t){const i=t[r];let s;sn(i)?"default"in i?s=Zr(i.from||r,i.default,!0):s=Zr(i.from||r):s=Zr(i),dn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function kS(t,e,n){Ii(ze(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function ok(t,e,n,r){const i=r.includes(".")?GP(n,r):()=>n[r];if(Cn(t)){const s=e[t];at(s)&&It(i,s)}else if(at(t))It(i,t.bind(n));else if(sn(t))if(ze(t))t.forEach(s=>ok(s,e,n,r));else{const s=at(t.handler)?t.handler.bind(n):e[t.handler];at(s)&&It(i,s,t)}}function g1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>rm(l,u,o,!0)),rm(l,e,o)),sn(e)&&s.set(e,l),l}function rm(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&rm(t,s,n,!0),i&&i.forEach(o=>rm(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=QF[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const QF={data:xS,props:DS,emits:DS,methods:qc,computed:qc,beforeCreate:Gr,created:Gr,beforeMount:Gr,mounted:Gr,beforeUpdate:Gr,updated:Gr,beforeDestroy:Gr,beforeUnmount:Gr,destroyed:Gr,unmounted:Gr,activated:Gr,deactivated:Gr,errorCaptured:Gr,serverPrefetch:Gr,components:qc,directives:qc,watch:ZF,provide:xS,inject:JF};function xS(t,e){return e?t?function(){return In(at(t)?t.call(this,this):t,at(e)?e.call(this,this):e)}:e:t}function JF(t,e){return qc(Ub(t),Ub(e))}function Ub(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Gr(t,e){return t?[...new Set([].concat(t,e))]:e}function qc(t,e){return t?In(Object.create(null),t,e):e}function DS(t,e){return t?ze(t)&&ze(e)?[...new Set([...t,...e])]:In(Object.create(null),Yd(t),Yd(e??{})):e}function ZF(t,e){if(!t)return e;if(!e)return t;const n=In(Object.create(null),t);for(const r in e)n[r]=Gr(t[r],e[r]);return n}function ak(){return{app:null,config:{isNativeTag:p3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let e4=0;function t4(t,e){return function(r,i=null){at(r)||(r=In({},r)),i!=null&&!sn(i)&&(i=null);const s=ak(),o=new WeakSet;let a=!1;const l=s.app={_uid:e4++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Pk,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&at(u.install)?(o.add(u),u.install(l,...c)):at(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const f=Z(r,i);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,kg(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Eu;Eu=l;try{return u()}finally{Eu=c}}};return l}}let Eu=null;function Iu(t,e){if(tr){let n=tr.provides;const r=tr.parent&&tr.parent.provides;r===n&&(n=tr.provides=Object.create(r)),n[t]=e}}function Zr(t,e,n=!1){const r=tr||Qn;if(r||Eu){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Eu._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&at(e)?e.call(r&&r.proxy):e}}function lk(){return!!(tr||Qn||Eu)}function n4(t,e,n,r=!1){const i={},s={};Jp(s,Pg,1),t.propsDefaults=Object.create(null),uk(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:r1(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function r4(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=_t(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Eg(t.emitsOptions,f))continue;const h=e[f];if(l)if(Lt(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const p=Jr(f);i[p]=Vb(l,a,p,h,t,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{uk(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!Lt(e,d)&&((c=_i(d))===d||!Lt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Vb(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Lt(e,d))&&(delete s[d],u=!0)}u&&Qs(t,"set","$attrs")}function uk(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(bu(l))continue;const u=e[l];let c;i&&Lt(i,c=Jr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Eg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=_t(n),u=a||en;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Vb(i,l,d,u[d],t,!Lt(u,d))}}return o}function Vb(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Lt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&at(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=rl(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===_i(n))&&(r=!0))}return r}function ck(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!at(t)){const c=d=>{l=!0;const[f,h]=ck(d,e,!0);In(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return sn(t)&&r.set(t,vu),vu;if(ze(s))for(let c=0;c<s.length;c++){const d=Jr(s[c]);RS(d)&&(o[d]=en)}else if(s)for(const c in s){const d=Jr(c);if(RS(d)){const f=s[c],h=o[d]=ze(f)||at(f)?{type:f}:In({},f);if(h){const p=$S(Boolean,h.type),m=$S(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||Lt(h,"default"))&&a.push(d)}}}const u=[o,a];return sn(t)&&r.set(t,u),u}function RS(t){return t[0]!=="$"&&!bu(t)}function NS(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function MS(t,e){return NS(t)===NS(e)}function $S(t,e){return ze(e)?e.findIndex(n=>MS(n,t)):at(e)&&MS(e,t)?0:-1}const dk=t=>t[0]==="_"||t==="$stable",v1=t=>ze(t)?t.map(wi):[wi(t)],i4=(t,e,n)=>{if(e._n)return e;const r=ce((...i)=>v1(e(...i)),n);return r._c=!1,r},fk=(t,e,n)=>{const r=t._ctx;for(const i in t){if(dk(i))continue;const s=t[i];if(at(s))e[i]=i4(i,s,r);else if(s!=null){const o=v1(s);e[i]=()=>o}}},hk=(t,e)=>{const n=v1(e);t.slots.default=()=>n},s4=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=_t(e),Jp(e,"_",n)):fk(e,t.slots={})}else t.slots={},e&&hk(t,e);Jp(t.slots,Pg,1)},o4=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=en;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(In(i,e),!n&&a===1&&delete i._):(s=!e.$stable,fk(e,i)),o=e}else e&&(hk(t,e),o={default:1});if(s)for(const a in i)!dk(a)&&o[a]==null&&delete i[a]};function im(t,e,n,r,i=!1){if(ze(t)){t.forEach((f,h)=>im(f,e&&(ze(e)?e[h]:e),n,r,i));return}if(ja(r)&&!i)return;const s=r.shapeFlag&4?kg(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===en?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Cn(u)?(c[u]=null,Lt(d,u)&&(d[u]=null)):dn(u)&&(u.value=null)),at(l))Js(l,a,12,[o,c]);else{const f=Cn(l),h=dn(l);if(f||h){const p=()=>{if(t.f){const m=f?Lt(d,l)?d[l]:c[l]:l.value;i?ze(m)&&qw(m,s):ze(m)?m.includes(s)||m.push(s):f?(c[l]=[s],Lt(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else f?(c[l]=o,Lt(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,wr(p,n)):p()}}}let bo=!1;const a4=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",l4=t=>t.namespaceURI.includes("MathML"),jh=t=>{if(a4(t))return"svg";if(l4(t))return"mathml"},Hh=t=>t.nodeType===8;function u4(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(_,b)=>{if(!b.hasChildNodes()){n(null,_,b),nm(),b._vnode=_;return}bo=!1,d(b.firstChild,_,null,null,null),nm(),b._vnode=_,bo&&console.error("Hydration completed but contains mismatches.")},d=(_,b,w,T,x,C=!1)=>{const I=Hh(_)&&_.data==="[",E=()=>m(_,b,w,T,x,I),{type:M,ref:F,shapeFlag:N,patchFlag:k}=b;let R=_.nodeType;b.el=_,k===-2&&(C=!1,b.dynamicChildren=null);let D=null;switch(M){case tl:R!==3?b.children===""?(l(b.el=i(""),o(_),_),D=_):D=E():(_.data!==b.children&&(bo=!0,_.data=b.children),D=s(_));break;case Fr:v(_)?(D=s(_),y(b.el=_.content.firstChild,_,w)):R!==8||I?D=E():D=s(_);break;case Ha:if(I&&(_=s(_),R=_.nodeType),R===1||R===3){D=_;const B=!b.children.length;for(let Y=0;Y<b.staticCount;Y++)B&&(b.children+=D.nodeType===1?D.outerHTML:D.data),Y===b.staticCount-1&&(b.anchor=D),D=s(D);return I?s(D):D}else E();break;case Te:I?D=p(_,b,w,T,x,C):D=E();break;default:if(N&1)(R!==1||b.type.toLowerCase()!==_.tagName.toLowerCase())&&!v(_)?D=E():D=f(_,b,w,T,x,C);else if(N&6){b.slotScopeIds=x;const B=o(_);if(I?D=g(_):Hh(_)&&_.data==="teleport start"?D=g(_,_.data,"teleport end"):D=s(_),e(b,B,null,w,T,jh(B),C),ja(b)){let Y;I?(Y=Z(Te),Y.anchor=D?D.previousSibling:B.lastChild):Y=_.nodeType===3?Qe(""):Z("div"),Y.el=_,b.component.subTree=Y}}else N&64?R!==8?D=E():D=b.type.hydrate(_,b,w,T,x,C,t,h):N&128&&(D=b.type.hydrate(_,b,w,T,jh(o(_)),x,C,t,d))}return F!=null&&im(F,null,T,b),D},f=(_,b,w,T,x,C)=>{C=C||!!b.dynamicChildren;const{type:I,props:E,patchFlag:M,shapeFlag:F,dirs:N,transition:k}=b,R=I==="input"||I==="option";if(R||M!==-1){N&&gs(b,null,w,"created");let D=!1;if(v(_)){D=vk(T,k)&&w&&w.vnode.props&&w.vnode.props.appear;const Y=_.content.firstChild;D&&k.beforeEnter(Y),y(Y,_,w),b.el=_=Y}if(F&16&&!(E&&(E.innerHTML||E.textContent))){let Y=h(_.firstChild,b,_,w,T,x,C);for(;Y;){bo=!0;const L=Y;Y=Y.nextSibling,a(L)}}else F&8&&_.textContent!==b.children&&(bo=!0,_.textContent=b.children);if(E)if(R||!C||M&48)for(const Y in E)(R&&(Y.endsWith("value")||Y==="indeterminate")||Wf(Y)&&!bu(Y)||Y[0]===".")&&r(_,Y,null,E[Y],void 0,void 0,w);else E.onClick&&r(_,"onClick",null,E.onClick,void 0,void 0,w);let B;(B=E&&E.onVnodeBeforeMount)&&oi(B,w,b),N&&gs(b,null,w,"beforeMount"),((B=E&&E.onVnodeMounted)||N||D)&&BP(()=>{B&&oi(B,w,b),D&&k.enter(_),N&&gs(b,null,w,"mounted")},T)}return _.nextSibling},h=(_,b,w,T,x,C,I)=>{I=I||!!b.dynamicChildren;const E=b.children,M=E.length;for(let F=0;F<M;F++){const N=I?E[F]:E[F]=wi(E[F]);if(_)_=d(_,N,T,x,C,I);else{if(N.type===tl&&!N.children)continue;bo=!0,n(null,N,w,null,T,x,jh(w),C)}}return _},p=(_,b,w,T,x,C)=>{const{slotScopeIds:I}=b;I&&(x=x?x.concat(I):I);const E=o(_),M=h(s(_),b,E,w,T,x,C);return M&&Hh(M)&&M.data==="]"?s(b.anchor=M):(bo=!0,l(b.anchor=u("]"),E,M),M)},m=(_,b,w,T,x,C)=>{if(bo=!0,b.el=null,C){const M=g(_);for(;;){const F=s(_);if(F&&F!==M)a(F);else break}}const I=s(_),E=o(_);return a(_),n(null,b,E,I,w,T,jh(E),x),I},g=(_,b="[",w="]")=>{let T=0;for(;_;)if(_=s(_),_&&Hh(_)&&(_.data===b&&T++,_.data===w)){if(T===0)return s(_);T--}return _},y=(_,b,w)=>{const T=b.parentNode;T&&T.replaceChild(_,b);let x=w;for(;x;)x.vnode.el===b&&(x.vnode.el=x.subTree.el=_),x=x.parent},v=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[c,d]}const wr=BP;function pk(t){return gk(t)}function mk(t){return gk(t,u4)}function gk(t,e){const n=uP();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=ui,insertStaticContent:p}=t,m=(A,$,H,le=null,ue=null,Se=null,ke=void 0,we=null,Ie=!!$.dynamicChildren)=>{if(A===$)return;A&&!Zi(A,$)&&(le=z(A),te(A,ue,Se,!0),A=null),$.patchFlag===-2&&(Ie=!1,$.dynamicChildren=null);const{type:ye,ref:Re,shapeFlag:Be}=$;switch(ye){case tl:g(A,$,H,le);break;case Fr:y(A,$,H,le);break;case Ha:A==null&&v($,H,le,ke);break;case Te:F(A,$,H,le,ue,Se,ke,we,Ie);break;default:Be&1?w(A,$,H,le,ue,Se,ke,we,Ie):Be&6?N(A,$,H,le,ue,Se,ke,we,Ie):(Be&64||Be&128)&&ye.process(A,$,H,le,ue,Se,ke,we,Ie,he)}Re!=null&&ue&&im(Re,A&&A.ref,Se,$||A,!$)},g=(A,$,H,le)=>{if(A==null)r($.el=a($.children),H,le);else{const ue=$.el=A.el;$.children!==A.children&&u(ue,$.children)}},y=(A,$,H,le)=>{A==null?r($.el=l($.children||""),H,le):$.el=A.el},v=(A,$,H,le)=>{[A.el,A.anchor]=p(A.children,$,H,le,A.el,A.anchor)},_=({el:A,anchor:$},H,le)=>{let ue;for(;A&&A!==$;)ue=f(A),r(A,H,le),A=ue;r($,H,le)},b=({el:A,anchor:$})=>{let H;for(;A&&A!==$;)H=f(A),i(A),A=H;i($)},w=(A,$,H,le,ue,Se,ke,we,Ie)=>{$.type==="svg"?ke="svg":$.type==="math"&&(ke="mathml"),A==null?T($,H,le,ue,Se,ke,we,Ie):I(A,$,ue,Se,ke,we,Ie)},T=(A,$,H,le,ue,Se,ke,we)=>{let Ie,ye;const{props:Re,shapeFlag:Be,transition:Ke,dirs:et}=A;if(Ie=A.el=o(A.type,Se,Re&&Re.is,Re),Be&8?c(Ie,A.children):Be&16&&C(A.children,Ie,null,le,ue,ey(A,Se),ke,we),et&&gs(A,null,le,"created"),x(Ie,A,A.scopeId,ke,le),Re){for(const q in Re)q!=="value"&&!bu(q)&&s(Ie,q,null,Re[q],Se,A.children,le,ue,j);"value"in Re&&s(Ie,"value",null,Re.value,Se),(ye=Re.onVnodeBeforeMount)&&oi(ye,le,A)}et&&gs(A,null,le,"beforeMount");const lt=vk(ue,Ke);lt&&Ke.beforeEnter(Ie),r(Ie,$,H),((ye=Re&&Re.onVnodeMounted)||lt||et)&&wr(()=>{ye&&oi(ye,le,A),lt&&Ke.enter(Ie),et&&gs(A,null,le,"mounted")},ue)},x=(A,$,H,le,ue)=>{if(H&&h(A,H),le)for(let Se=0;Se<le.length;Se++)h(A,le[Se]);if(ue){let Se=ue.subTree;if($===Se){const ke=ue.vnode;x(A,ke,ke.scopeId,ke.slotScopeIds,ue.parent)}}},C=(A,$,H,le,ue,Se,ke,we,Ie=0)=>{for(let ye=Ie;ye<A.length;ye++){const Re=A[ye]=we?Do(A[ye]):wi(A[ye]);m(null,Re,$,H,le,ue,Se,ke,we)}},I=(A,$,H,le,ue,Se,ke)=>{const we=$.el=A.el;let{patchFlag:Ie,dynamicChildren:ye,dirs:Re}=$;Ie|=A.patchFlag&16;const Be=A.props||en,Ke=$.props||en;let et;if(H&&ba(H,!1),(et=Ke.onVnodeBeforeUpdate)&&oi(et,H,$,A),Re&&gs($,A,H,"beforeUpdate"),H&&ba(H,!0),ye?E(A.dynamicChildren,ye,we,H,le,ey($,ue),Se):ke||Y(A,$,we,null,H,le,ey($,ue),Se,!1),Ie>0){if(Ie&16)M(we,$,Be,Ke,H,le,ue);else if(Ie&2&&Be.class!==Ke.class&&s(we,"class",null,Ke.class,ue),Ie&4&&s(we,"style",Be.style,Ke.style,ue),Ie&8){const lt=$.dynamicProps;for(let q=0;q<lt.length;q++){const V=lt[q],W=Be[V],Q=Ke[V];(Q!==W||V==="value")&&s(we,V,W,Q,ue,A.children,H,le,j)}}Ie&1&&A.children!==$.children&&c(we,$.children)}else!ke&&ye==null&&M(we,$,Be,Ke,H,le,ue);((et=Ke.onVnodeUpdated)||Re)&&wr(()=>{et&&oi(et,H,$,A),Re&&gs($,A,H,"updated")},le)},E=(A,$,H,le,ue,Se,ke)=>{for(let we=0;we<$.length;we++){const Ie=A[we],ye=$[we],Re=Ie.el&&(Ie.type===Te||!Zi(Ie,ye)||Ie.shapeFlag&70)?d(Ie.el):H;m(Ie,ye,Re,null,le,ue,Se,ke,!0)}},M=(A,$,H,le,ue,Se,ke)=>{if(H!==le){if(H!==en)for(const we in H)!bu(we)&&!(we in le)&&s(A,we,H[we],null,ke,$.children,ue,Se,j);for(const we in le){if(bu(we))continue;const Ie=le[we],ye=H[we];Ie!==ye&&we!=="value"&&s(A,we,ye,Ie,ke,$.children,ue,Se,j)}"value"in le&&s(A,"value",H.value,le.value,ke)}},F=(A,$,H,le,ue,Se,ke,we,Ie)=>{const ye=$.el=A?A.el:a(""),Re=$.anchor=A?A.anchor:a("");let{patchFlag:Be,dynamicChildren:Ke,slotScopeIds:et}=$;et&&(we=we?we.concat(et):et),A==null?(r(ye,H,le),r(Re,H,le),C($.children||[],H,Re,ue,Se,ke,we,Ie)):Be>0&&Be&64&&Ke&&A.dynamicChildren?(E(A.dynamicChildren,Ke,H,ue,Se,ke,we),($.key!=null||ue&&$===ue.subTree)&&y1(A,$,!0)):Y(A,$,H,Re,ue,Se,ke,we,Ie)},N=(A,$,H,le,ue,Se,ke,we,Ie)=>{$.slotScopeIds=we,A==null?$.shapeFlag&512?ue.ctx.activate($,H,le,ke,Ie):k($,H,le,ue,Se,ke,Ie):R(A,$,Ie)},k=(A,$,H,le,ue,Se,ke)=>{const we=A.component=Sk(A,le,ue);if(qf(A)&&(we.ctx.renderer=he),Ik(we),we.asyncDep){if(ue&&ue.registerDep(we,D),!A.el){const Ie=we.subTree=Z(Fr);y(null,Ie,$,H)}}else D(we,A,$,H,ue,Se,ke)},R=(A,$,H)=>{const le=$.component=A.component;if(wF(A,$,H))if(le.asyncDep&&!le.asyncResolved){B(le,$,H);return}else le.next=$,hF(le.update),le.effect.dirty=!0,le.update();else $.el=A.el,le.vnode=$},D=(A,$,H,le,ue,Se,ke)=>{const we=()=>{if(A.isMounted){let{next:Re,bu:Be,u:Ke,parent:et,vnode:lt}=A;{const de=yk(A);if(de){Re&&(Re.el=lt.el,B(A,Re,ke)),de.asyncDep.then(()=>{A.isUnmounted||we()});return}}let q=Re,V;ba(A,!1),Re?(Re.el=lt.el,B(A,Re,ke)):Re=lt,Be&&wu(Be),(V=Re.props&&Re.props.onVnodeBeforeUpdate)&&oi(V,et,Re,lt),ba(A,!0);const W=Op(A),Q=A.subTree;A.subTree=W,m(Q,W,d(Q.el),z(Q),A,ue,Se),Re.el=W.el,q===null&&u1(A,W.el),Ke&&wr(Ke,ue),(V=Re.props&&Re.props.onVnodeUpdated)&&wr(()=>oi(V,et,Re,lt),ue)}else{let Re;const{el:Be,props:Ke}=$,{bm:et,m:lt,parent:q}=A,V=ja($);if(ba(A,!1),et&&wu(et),!V&&(Re=Ke&&Ke.onVnodeBeforeMount)&&oi(Re,q,$),ba(A,!0),Be&&oe){const W=()=>{A.subTree=Op(A),oe(Be,A.subTree,A,ue,null)};V?$.type.__asyncLoader().then(()=>!A.isUnmounted&&W()):W()}else{const W=A.subTree=Op(A);m(null,W,H,le,A,ue,Se),$.el=W.el}if(lt&&wr(lt,ue),!V&&(Re=Ke&&Ke.onVnodeMounted)){const W=$;wr(()=>oi(Re,q,W),ue)}($.shapeFlag&256||q&&ja(q.vnode)&&q.vnode.shapeFlag&256)&&A.a&&wr(A.a,ue),A.isMounted=!0,$=H=le=null}},Ie=A.effect=new Lu(we,ui,()=>Sg(ye),A.scope),ye=A.update=()=>{Ie.dirty&&Ie.run()};ye.id=A.uid,ba(A,!0),ye()},B=(A,$,H)=>{$.component=A;const le=A.vnode.props;A.vnode=$,A.next=null,r4(A,$.props,le,H),o4(A,$.children,H),El(),IS(A),Il()},Y=(A,$,H,le,ue,Se,ke,we,Ie=!1)=>{const ye=A&&A.children,Re=A?A.shapeFlag:0,Be=$.children,{patchFlag:Ke,shapeFlag:et}=$;if(Ke>0){if(Ke&128){O(ye,Be,H,le,ue,Se,ke,we,Ie);return}else if(Ke&256){L(ye,Be,H,le,ue,Se,ke,we,Ie);return}}et&8?(Re&16&&j(ye,ue,Se),Be!==ye&&c(H,Be)):Re&16?et&16?O(ye,Be,H,le,ue,Se,ke,we,Ie):j(ye,ue,Se,!0):(Re&8&&c(H,""),et&16&&C(Be,H,le,ue,Se,ke,we,Ie))},L=(A,$,H,le,ue,Se,ke,we,Ie)=>{A=A||vu,$=$||vu;const ye=A.length,Re=$.length,Be=Math.min(ye,Re);let Ke;for(Ke=0;Ke<Be;Ke++){const et=$[Ke]=Ie?Do($[Ke]):wi($[Ke]);m(A[Ke],et,H,null,ue,Se,ke,we,Ie)}ye>Re?j(A,ue,Se,!0,!1,Be):C($,H,le,ue,Se,ke,we,Ie,Be)},O=(A,$,H,le,ue,Se,ke,we,Ie)=>{let ye=0;const Re=$.length;let Be=A.length-1,Ke=Re-1;for(;ye<=Be&&ye<=Ke;){const et=A[ye],lt=$[ye]=Ie?Do($[ye]):wi($[ye]);if(Zi(et,lt))m(et,lt,H,null,ue,Se,ke,we,Ie);else break;ye++}for(;ye<=Be&&ye<=Ke;){const et=A[Be],lt=$[Ke]=Ie?Do($[Ke]):wi($[Ke]);if(Zi(et,lt))m(et,lt,H,null,ue,Se,ke,we,Ie);else break;Be--,Ke--}if(ye>Be){if(ye<=Ke){const et=Ke+1,lt=et<Re?$[et].el:le;for(;ye<=Ke;)m(null,$[ye]=Ie?Do($[ye]):wi($[ye]),H,lt,ue,Se,ke,we,Ie),ye++}}else if(ye>Ke)for(;ye<=Be;)te(A[ye],ue,Se,!0),ye++;else{const et=ye,lt=ye,q=new Map;for(ye=lt;ye<=Ke;ye++){const Ce=$[ye]=Ie?Do($[ye]):wi($[ye]);Ce.key!=null&&q.set(Ce.key,ye)}let V,W=0;const Q=Ke-lt+1;let de=!1,Le=0;const Ge=new Array(Q);for(ye=0;ye<Q;ye++)Ge[ye]=0;for(ye=et;ye<=Be;ye++){const Ce=A[ye];if(W>=Q){te(Ce,ue,Se,!0);continue}let xe;if(Ce.key!=null)xe=q.get(Ce.key);else for(V=lt;V<=Ke;V++)if(Ge[V-lt]===0&&Zi(Ce,$[V])){xe=V;break}xe===void 0?te(Ce,ue,Se,!0):(Ge[xe-lt]=ye+1,xe>=Le?Le=xe:de=!0,m(Ce,$[xe],H,null,ue,Se,ke,we,Ie),W++)}const me=de?c4(Ge):vu;for(V=me.length-1,ye=Q-1;ye>=0;ye--){const Ce=lt+ye,xe=$[Ce],Ye=Ce+1<Re?$[Ce+1].el:le;Ge[ye]===0?m(null,xe,H,Ye,ue,Se,ke,we,Ie):de&&(V<0||ye!==me[V]?J(xe,H,Ye,2):V--)}}},J=(A,$,H,le,ue=null)=>{const{el:Se,type:ke,transition:we,children:Ie,shapeFlag:ye}=A;if(ye&6){J(A.component.subTree,$,H,le);return}if(ye&128){A.suspense.move($,H,le);return}if(ye&64){ke.move(A,$,H,he);return}if(ke===Te){r(Se,$,H);for(let Be=0;Be<Ie.length;Be++)J(Ie[Be],$,H,le);r(A.anchor,$,H);return}if(ke===Ha){_(A,$,H);return}if(le!==2&&ye&1&&we)if(le===0)we.beforeEnter(Se),r(Se,$,H),wr(()=>we.enter(Se),ue);else{const{leave:Be,delayLeave:Ke,afterLeave:et}=we,lt=()=>r(Se,$,H),q=()=>{Be(Se,()=>{lt(),et&&et()})};Ke?Ke(Se,lt,q):q()}else r(Se,$,H)},te=(A,$,H,le=!1,ue=!1)=>{const{type:Se,props:ke,ref:we,children:Ie,dynamicChildren:ye,shapeFlag:Re,patchFlag:Be,dirs:Ke}=A;if(we!=null&&im(we,null,H,A,!0),Re&256){$.ctx.deactivate(A);return}const et=Re&1&&Ke,lt=!ja(A);let q;if(lt&&(q=ke&&ke.onVnodeBeforeUnmount)&&oi(q,$,A),Re&6)ne(A.component,H,le);else{if(Re&128){A.suspense.unmount(H,le);return}et&&gs(A,null,$,"beforeUnmount"),Re&64?A.type.remove(A,$,H,ue,he,le):ye&&(Se!==Te||Be>0&&Be&64)?j(ye,$,H,!1,!0):(Se===Te&&Be&384||!ue&&Re&16)&&j(Ie,$,H),le&&ge(A)}(lt&&(q=ke&&ke.onVnodeUnmounted)||et)&&wr(()=>{q&&oi(q,$,A),et&&gs(A,null,$,"unmounted")},H)},ge=A=>{const{type:$,el:H,anchor:le,transition:ue}=A;if($===Te){ve(H,le);return}if($===Ha){b(A);return}const Se=()=>{i(H),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(A.shapeFlag&1&&ue&&!ue.persisted){const{leave:ke,delayLeave:we}=ue,Ie=()=>ke(H,Se);we?we(A.el,Se,Ie):Ie()}else Se()},ve=(A,$)=>{let H;for(;A!==$;)H=f(A),i(A),A=H;i($)},ne=(A,$,H)=>{const{bum:le,scope:ue,update:Se,subTree:ke,um:we}=A;le&&wu(le),ue.stop(),Se&&(Se.active=!1,te(ke,A,$,H)),we&&wr(we,$),wr(()=>{A.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},j=(A,$,H,le=!1,ue=!1,Se=0)=>{for(let ke=Se;ke<A.length;ke++)te(A[ke],$,H,le,ue)},z=A=>A.shapeFlag&6?z(A.component.subTree):A.shapeFlag&128?A.suspense.next():f(A.anchor||A.el);let ae=!1;const X=(A,$,H)=>{A==null?$._vnode&&te($._vnode,null,null,!0):m($._vnode||null,A,$,null,null,null,H),ae||(ae=!0,IS(),nm(),ae=!1),$._vnode=A},he={p:m,um:te,m:J,r:ge,mt:k,mc:C,pc:Y,pbc:E,n:z,o:t};let be,oe;return e&&([be,oe]=e(he)),{render:X,hydrate:be,createApp:t4(X,be)}}function ey({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ba({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function vk(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function y1(t,e,n=!1){const r=t.children,i=e.children;if(ze(r)&&ze(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Do(i[s]),a.el=o.el),n||y1(o,a)),a.type===tl&&(a.el=o.el)}}function c4(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function yk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:yk(e)}const d4=t=>t.__isTeleport,hd=t=>t&&(t.disabled||t.disabled===""),LS=t=>typeof SVGElement<"u"&&t instanceof SVGElement,FS=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Bb=(t,e)=>{const n=t&&t.to;return Cn(n)?e?e(n):null:n},f4={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:g}}=u,y=hd(e.props);let{shapeFlag:v,children:_,dynamicChildren:b}=e;if(t==null){const w=e.el=m(""),T=e.anchor=m("");h(w,n,r),h(T,n,r);const x=e.target=Bb(e.props,p),C=e.targetAnchor=m("");x&&(h(C,x),o==="svg"||LS(x)?o="svg":(o==="mathml"||FS(x))&&(o="mathml"));const I=(E,M)=>{v&16&&c(_,E,M,i,s,o,a,l)};y?I(n,T):x&&I(x,C)}else{e.el=t.el;const w=e.anchor=t.anchor,T=e.target=t.target,x=e.targetAnchor=t.targetAnchor,C=hd(t.props),I=C?n:T,E=C?w:x;if(o==="svg"||LS(T)?o="svg":(o==="mathml"||FS(T))&&(o="mathml"),b?(f(t.dynamicChildren,b,I,i,s,o,a),y1(t,e,!0)):l||d(t,e,I,E,i,s,o,a,!1),y)C?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Wh(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=Bb(e.props,p);M&&Wh(e,M,null,u,0)}else C&&Wh(e,T,x,u,1)}bk(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&s(c),o&&s(u),a&16){const h=o||!hd(f);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:Wh,hydrate:h4};function Wh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||hd(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(a,e,n)}function h4(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=Bb(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(hd(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}bk(e)}return e.anchor&&o(e.anchor)}const b1=f4;function bk(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Te=Symbol.for("v-fgt"),tl=Symbol.for("v-txt"),Fr=Symbol.for("v-cmt"),Ha=Symbol.for("v-stc"),pd=[];let ci=null;function S(t=!1){pd.push(ci=t?null:[])}function wk(){pd.pop(),ci=pd[pd.length-1]||null}let nl=1;function jb(t){nl+=t}function _k(t){return t.dynamicChildren=nl>0?ci||vu:null,wk(),nl>0&&ci&&ci.push(t),t}function U(t,e,n,r,i,s){return _k(K(t,e,n,r,i,s,!0))}function re(t,e,n,r,i){return _k(Z(t,e,n,r,i,!0))}function ra(t){return t?t.__v_isVNode===!0:!1}function Zi(t,e){return t.type===e.type&&t.key===e.key}function p4(t){}const Pg="__vInternal",Tk=({key:t})=>t??null,Ap=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Cn(t)||dn(t)||at(t)?{i:Qn,r:t,k:e,f:!!n}:t:null);function K(t,e=null,n=null,r=0,i=null,s=t===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Tk(e),ref:e&&Ap(e),scopeId:Ig,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qn};return a?(w1(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Cn(n)?8:16),nl>0&&!o&&ci&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ci.push(l),l}const Z=m4;function m4(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===UP)&&(t=Fr),ra(t)){const a=Ns(t,e,!0);return n&&w1(a,n),nl>0&&!s&&ci&&(a.shapeFlag&6?ci[ci.indexOf(t)]=a:ci.push(a)),a.patchFlag|=-2,a}if(S4(t)&&(t=t.__vccOpts),e){e=ir(e);let{class:a,style:l}=e;a&&!Cn(a)&&(e.class=Ae(a)),sn(l)&&(i1(l)&&!ze(l)&&(l=In({},l)),e.style=rr(l))}const o=Cn(t)?1:VP(t)?128:d4(t)?64:sn(t)?4:at(t)?2:0;return K(t,e,n,r,i,o,s,!0)}function ir(t){return t?i1(t)||Pg in t?In({},t):t:null}function Ns(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?ie(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Tk(a),ref:e&&e.ref?n&&i?ze(i)?i.concat(Ap(e)):[i,Ap(e)]:Ap(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ns(t.ssContent),ssFallback:t.ssFallback&&Ns(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Qe(t=" ",e=0){return Z(tl,null,t,e)}function g4(t,e){const n=Z(Ha,null,t);return n.staticCount=e,n}function G(t="",e=!1){return e?(S(),re(Fr,null,t)):Z(Fr,null,t)}function wi(t){return t==null||typeof t=="boolean"?Z(Fr):ze(t)?Z(Te,null,t.slice()):typeof t=="object"?Do(t):Z(tl,null,String(t))}function Do(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ns(t)}function w1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ze(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),w1(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Pg in e)?e._ctx=Qn:i===3&&Qn&&(Qn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else at(e)?(e={default:e,_ctx:Qn},n=32):(e=String(e),r&64?(n=16,e=[Qe(e)]):n=8);t.children=e,t.shapeFlag|=n}function ie(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ae([e.class,r.class]));else if(i==="style")e.style=rr([e.style,r.style]);else if(Wf(i)){const s=e[i],o=r[i];o&&s!==o&&!(ze(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function oi(t,e,n,r=null){Ii(t,e,7,[n,r])}const v4=ak();let y4=0;function Sk(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||v4,s={uid:y4++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ck(r,i),emitsOptions:$P(r,i),emit:null,emitted:null,propsDefaults:en,inheritAttrs:r.inheritAttrs,ctx:en,data:en,props:en,attrs:en,slots:en,refs:en,setupState:en,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=mF.bind(null,s),t.ce&&t.ce(s),s}let tr=null;const hs=()=>tr||Qn;let sm,Hb;{const t=uP(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};sm=e("__VUE_INSTANCE_SETTERS__",n=>tr=n),Hb=e("__VUE_SSR_SETTERS__",n=>Qf=n)}const rl=t=>{const e=tr;return sm(t),t.scope.on(),()=>{t.scope.off(),sm(e)}},Wb=()=>{tr&&tr.scope.off(),sm(null)};function Ek(t){return t.vnode.shapeFlag&4}let Qf=!1;function Ik(t,e=!1){e&&Hb(e);const{props:n,children:r}=t.vnode,i=Ek(t);n4(t,n,i,e),s4(t,r);const s=i?b4(t,e):void 0;return e&&Hb(!1),s}function b4(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=zf(new Proxy(t.ctx,Lb));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Ok(t):null,s=rl(t);El();const o=Js(r,t,0,[t.props,i]);if(Il(),s(),Xw(o)){if(o.then(Wb,Wb),e)return o.then(a=>{Kb(t,a,e)}).catch(a=>{Cl(a,t,0)});t.asyncDep=o}else Kb(t,o,e)}else Ck(t,e)}function Kb(t,e,n){at(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:sn(e)&&(t.setupState=a1(e)),Ck(t,n)}let om,zb;function w4(t){om=t,zb=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,$F))}}const _4=()=>!om;function Ck(t,e,n){const r=t.type;if(!t.render){if(!e&&om&&!r.render){const i=r.template||g1(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=In(In({isCustomElement:s,delimiters:a},o),l);r.render=om(i,u)}}t.render=r.render||ui,zb&&zb(t)}{const i=rl(t);El();try{qF(t)}finally{Il(),i()}}}function T4(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return mi(t,"get","$attrs"),e[n]}}))}function Ok(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return T4(t)},slots:t.slots,emit:t.emit,expose:e}}function kg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(a1(zf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in fd)return fd[n](t)},has(e,n){return n in e||n in fd}}))}function Gb(t,e=!0){return at(t)?t.displayName||t.name:t.name||e&&t.__name}function S4(t){return at(t)&&"__vccOpts"in t}const ee=(t,e)=>J3(t,e,Qf);function E4(t,e,n=en){const r=hs(),i=Jr(e),s=_i(e),o=PP((l,u)=>{let c;return zP(()=>{const d=t[e];us(c,d)&&(c=d,u())}),{get(){return l(),n.get?n.get(c):c},set(d){const f=r.vnode.props;!(f&&(e in f||i in f||s in f)&&(`onUpdate:${e}`in f||`onUpdate:${i}`in f||`onUpdate:${s}`in f))&&us(d,c)&&(c=d,u()),r.emit(`update:${e}`,n.set?n.set(d):d)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function il(t,e,n){const r=arguments.length;return r===2?sn(e)&&!ze(e)?ra(e)?Z(t,null,[e]):Z(t,e):Z(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ra(n)&&(n=[n]),Z(t,e,n))}function I4(){}function C4(t,e,n,r){const i=n[r];if(i&&Ak(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function Ak(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(us(n[r],e[r]))return!1;return nl>0&&ci&&ci.push(t),!0}const Pk="3.4.21",O4=ui,A4=cF,P4=Ql,k4=MP,x4={createComponentInstance:Sk,setupComponent:Ik,renderComponentRoot:Op,setCurrentRenderingInstance:zd,isVNode:ra,normalizeVNode:wi},D4=x4,R4=null,N4=null,M4=null;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $4="http://www.w3.org/2000/svg",L4="http://www.w3.org/1998/Math/MathML",Ro=typeof document<"u"?document:null,US=Ro&&Ro.createElement("template"),F4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Ro.createElementNS($4,t):e==="mathml"?Ro.createElementNS(L4,t):Ro.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ro.createTextNode(t),createComment:t=>Ro.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ro.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{US.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=US.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},wo="transition",Ac="animation",Vu=Symbol("_vtc"),Ki=(t,{slots:e})=>il(YP,xk(t),e);Ki.displayName="Transition";const kk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U4=Ki.props=In({},p1,kk),wa=(t,e=[])=>{ze(t)?t.forEach(n=>n(...e)):t&&t(...e)},VS=t=>t?ze(t)?t.some(e=>e.length>1):t.length>1:!1;function xk(t){const e={};for(const F in t)F in kk||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=V4(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:_,onLeave:b,onLeaveCancelled:w,onBeforeAppear:T=y,onAppear:x=v,onAppearCancelled:C=_}=e,I=(F,N,k)=>{Oo(F,N?c:a),Oo(F,N?u:o),k&&k()},E=(F,N)=>{F._isLeaving=!1,Oo(F,d),Oo(F,h),Oo(F,f),N&&N()},M=F=>(N,k)=>{const R=F?x:v,D=()=>I(N,F,k);wa(R,[N,D]),BS(()=>{Oo(N,F?l:s),js(N,F?c:a),VS(R)||jS(N,r,m,D)})};return In(e,{onBeforeEnter(F){wa(y,[F]),js(F,s),js(F,o)},onBeforeAppear(F){wa(T,[F]),js(F,l),js(F,u)},onEnter:M(!1),onAppear:M(!0),onLeave(F,N){F._isLeaving=!0;const k=()=>E(F,N);js(F,d),Rk(),js(F,f),BS(()=>{F._isLeaving&&(Oo(F,d),js(F,h),VS(b)||jS(F,r,g,k))}),wa(b,[F,k])},onEnterCancelled(F){I(F,!1),wa(_,[F])},onAppearCancelled(F){I(F,!0),wa(C,[F])},onLeaveCancelled(F){E(F),wa(w,[F])}})}function V4(t){if(t==null)return null;if(sn(t))return[ty(t.enter),ty(t.leave)];{const e=ty(t);return[e,e]}}function ty(t){return Zp(t)}function js(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vu]||(t[Vu]=new Set)).add(e)}function Oo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Vu];n&&(n.delete(e),n.size||(t[Vu]=void 0))}function BS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let B4=0;function jS(t,e,n,r){const i=t._endId=++B4,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=Dk(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,f),s()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function Dk(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${wo}Delay`),s=r(`${wo}Duration`),o=HS(i,s),a=r(`${Ac}Delay`),l=r(`${Ac}Duration`),u=HS(a,l);let c=null,d=0,f=0;e===wo?o>0&&(c=wo,d=o,f=s.length):e===Ac?u>0&&(c=Ac,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?wo:Ac:null,f=c?c===wo?s.length:l.length:0);const h=c===wo&&/\b(transform|all)(,|$)/.test(r(`${wo}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function HS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>WS(n)+WS(t[r])))}function WS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Rk(){return document.body.offsetHeight}function j4(t,e,n){const r=t[Vu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const am=Symbol("_vod"),Nk=Symbol("_vsh"),Zs={beforeMount(t,{value:e},{transition:n}){t[am]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Pc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Pc(t,!0),r.enter(t)):r.leave(t,()=>{Pc(t,!1)}):Pc(t,e))},beforeUnmount(t,{value:e}){Pc(t,e)}};function Pc(t,e){t.style.display=e?t[am]:"none",t[Nk]=!e}function H4(){Zs.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Mk=Symbol("");function W4(t){const e=hs();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>qb(s,i))},r=()=>{const i=t(e.proxy);Yb(e.subTree,i),n(i)};KP(r),Wt(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),mo(()=>i.disconnect())})}function Yb(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Yb(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)qb(t.el,e);else if(t.type===Te)t.children.forEach(n=>Yb(n,e));else if(t.type===Ha){let{el:n,anchor:r}=t;for(;n&&(qb(n,e),n!==r);)n=n.nextSibling}}function qb(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[Mk]=r}}const K4=/(^|;)\s*display\s*:/;function z4(t,e,n){const r=t.style,i=Cn(n);let s=!1;if(n&&!i){if(e)if(Cn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Pp(r,a,"")}else for(const o in e)n[o]==null&&Pp(r,o,"");for(const o in n)o==="display"&&(s=!0),Pp(r,o,n[o])}else if(i){if(e!==n){const o=r[Mk];o&&(n+=";"+o),r.cssText=n,s=K4.test(n)}}else e&&t.removeAttribute("style");am in t&&(t[am]=s?r.display:"",t[Nk]&&(r.display="none"))}const KS=/\s*!important$/;function Pp(t,e,n){if(ze(n))n.forEach(r=>Pp(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=G4(t,e);KS.test(n)?t.setProperty(_i(r),n.replace(KS,""),"important"):t[r]=n}}const zS=["Webkit","Moz","ms"],ny={};function G4(t,e){const n=ny[e];if(n)return n;let r=Jr(e);if(r!=="filter"&&r in t)return ny[e]=r;r=Kf(r);for(let i=0;i<zS.length;i++){const s=zS[i]+r;if(s in t)return ny[e]=s}return e}const GS="http://www.w3.org/1999/xlink";function Y4(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(GS,e.slice(6,e.length)):t.setAttributeNS(GS,e,n);else{const s=O3(e);n==null||s&&!cP(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function q4(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=cP(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ws(t,e,n,r){t.addEventListener(e,n,r)}function X4(t,e,n,r){t.removeEventListener(e,n,r)}const YS=Symbol("_vei");function Q4(t,e,n,r,i=null){const s=t[YS]||(t[YS]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=J4(e);if(r){const u=s[e]=t6(r,i);Ws(t,a,u,l)}else o&&(X4(t,a,o,l),s[e]=void 0)}}const qS=/(?:Once|Passive|Capture)$/;function J4(t){let e;if(qS.test(t)){e={};let r;for(;r=t.match(qS);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_i(t.slice(2)),e]}let ry=0;const Z4=Promise.resolve(),e6=()=>ry||(Z4.then(()=>ry=0),ry=Date.now());function t6(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ii(n6(r,n.value),e,5,[r])};return n.value=t,n.attached=e6(),n}function n6(t,e){if(ze(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const XS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,r6=(t,e,n,r,i,s,o,a,l)=>{const u=i==="svg";e==="class"?j4(t,r,u):e==="style"?z4(t,n,r):Wf(e)?Yw(e)||Q4(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):i6(t,e,r,u))?q4(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Y4(t,e,r,u))};function i6(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&XS(e)&&at(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return XS(e)&&Cn(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function $k(t,e){const n=Pe(t);class r extends xg{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const s6=t=>$k(t,Yk),o6=typeof HTMLElement<"u"?HTMLElement:class{};class xg extends o6{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Wn(()=>{this._connected||(sl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!ze(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Zp(this._props[l])),(a||(a=Object.create(null)))[Jr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=ze(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Jr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Jr(e);this._numberProps&&this._numberProps[r]&&(n=Zp(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(_i(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(_i(e),n+""):n||this.removeAttribute(_i(e))))}_update(){sl(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Z(this._def,In({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),_i(s)!==s&&r(_i(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof xg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function a6(t="$style"){{const e=hs();if(!e)return en;const n=e.type.__cssModules;if(!n)return en;const r=n[t];return r||en}}const Lk=new WeakMap,Fk=new WeakMap,lm=Symbol("_moveCb"),QS=Symbol("_enterCb"),Uk={name:"TransitionGroup",props:In({},U4,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=hs(),r=h1();let i,s;return Ag(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!f6(i[0].el,n.vnode.el,o))return;i.forEach(u6),i.forEach(c6);const a=i.filter(d6);Rk(),a.forEach(l=>{const u=l.el,c=u.style;js(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[lm]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[lm]=null,Oo(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=_t(t),a=xk(o);let l=o.tag||Te;i=s,s=e.default?Cg(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&el(c,Uu(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];el(c,Uu(c,a,r,n)),Lk.set(c,c.el.getBoundingClientRect())}return Z(l,null,s)}}},l6=t=>delete t.mode;Uk.props;const Vk=Uk;function u6(t){const e=t.el;e[lm]&&e[lm](),e[QS]&&e[QS]()}function c6(t){Fk.set(t,t.el.getBoundingClientRect())}function d6(t){const e=Lk.get(t),n=Fk.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function f6(t,e,n){const r=t.cloneNode(),i=t[Vu];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=Dk(r);return s.removeChild(r),o}const ia=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ze(e)?n=>wu(e,n):e};function h6(t){t.target.composing=!0}function JS(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vi=Symbol("_assign"),um={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Vi]=ia(i);const s=r||i.props&&i.props.type==="number";Ws(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Bd(a)),t[Vi](a)}),n&&Ws(t,"change",()=>{t.value=t.value.trim()}),e||(Ws(t,"compositionstart",h6),Ws(t,"compositionend",JS),Ws(t,"change",JS))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Vi]=ia(s),t.composing)return;const o=i||t.type==="number"?Bd(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},_1={deep:!0,created(t,e,n){t[Vi]=ia(n),Ws(t,"change",()=>{const r=t._modelValue,i=Bu(t),s=t.checked,o=t[Vi];if(ze(r)){const a=gg(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Sl(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(jk(t,s))})},mounted:ZS,beforeUpdate(t,e,n){t[Vi]=ia(n),ZS(t,e,n)}};function ZS(t,{value:e,oldValue:n},r){t._modelValue=e,ze(e)?t.checked=gg(e,r.props.value)>-1:Sl(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=na(e,jk(t,!0)))}const T1={created(t,{value:e},n){t.checked=na(e,n.props.value),t[Vi]=ia(n),Ws(t,"change",()=>{t[Vi](Bu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Vi]=ia(r),e!==n&&(t.checked=na(e,r.props.value))}},Bk={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Sl(e);Ws(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Bd(Bu(o)):Bu(o));t[Vi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Wn(()=>{t._assigning=!1})}),t[Vi]=ia(r)},mounted(t,{value:e,modifiers:{number:n}}){eE(t,e,n)},beforeUpdate(t,e,n){t[Vi]=ia(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||eE(t,e,n)}};function eE(t,e,n){const r=t.multiple,i=ze(e);if(!(r&&!i&&!Sl(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=Bu(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.includes(n?Bd(l):l):a.selected=gg(e,l)>-1}else a.selected=e.has(l);else if(na(Bu(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Bu(t){return"_value"in t?t._value:t.value}function jk(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Hk={created(t,e,n){Kh(t,e,n,null,"created")},mounted(t,e,n){Kh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Kh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Kh(t,e,n,r,"updated")}};function Wk(t,e){switch(t){case"SELECT":return Bk;case"TEXTAREA":return um;default:switch(e){case"checkbox":return _1;case"radio":return T1;default:return um}}}function Kh(t,e,n,r,i){const o=Wk(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function p6(){um.getSSRProps=({value:t})=>({value:t}),T1.getSSRProps=({value:t},e)=>{if(e.props&&na(e.props.value,t))return{checked:!0}},_1.getSSRProps=({value:t},e)=>{if(ze(t)){if(e.props&&gg(t,e.props.value)>-1)return{checked:!0}}else if(Sl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Hk.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Wk(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const m6=["ctrl","shift","alt","meta"],g6={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>m6.some(n=>t[`${n}Key`]&&!e.includes(n))},St=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=g6[e[o]];if(a&&a(i,e))return}return t(i,...s)})},v6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ct=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=_i(i.key);if(e.some(o=>o===s||v6[o]===s))return t(i)})},Kk=In({patchProp:r6},F4);let md,tE=!1;function zk(){return md||(md=pk(Kk))}function Gk(){return md=tE?md:mk(Kk),tE=!0,md}const sl=(...t)=>{zk().render(...t)},Yk=(...t)=>{Gk().hydrate(...t)},qk=(...t)=>{const e=zk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Qk(r);if(!i)return;const s=e._component;!at(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,Xk(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},y6=(...t)=>{const e=Gk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Qk(r);if(i)return n(i,!0,Xk(i))},e};function Xk(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Qk(t){return Cn(t)?document.querySelector(t):t}let nE=!1;const b6=()=>{nE||(nE=!0,p6(),H4())};/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const w6=()=>{},_6=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:YP,BaseTransitionPropsValidators:p1,Comment:Fr,DeprecationTypes:M4,EffectScope:Jw,ErrorCodes:uF,ErrorTypeStrings:A4,Fragment:Te,KeepAlive:RF,ReactiveEffect:Lu,Static:Ha,Suspense:SF,Teleport:b1,Text:tl,TrackOpTypes:oF,Transition:Ki,TransitionGroup:Vk,TriggerOpTypes:aF,VueElement:xg,assertNumber:lF,callWithAsyncErrorHandling:Ii,callWithErrorHandling:Js,camelize:Jr,capitalize:Kf,cloneVNode:Ns,compatUtils:N4,compile:w6,computed:ee,createApp:qk,createBlock:re,createCommentVNode:G,createElementBlock:U,createElementVNode:K,createHydrationRenderer:mk,createPropsRestProxy:GF,createRenderer:pk,createSSRApp:y6,createSlots:Jn,createStaticVNode:g4,createTextVNode:Qe,createVNode:Z,customRef:PP,defineAsyncComponent:xF,defineComponent:Pe,defineCustomElement:$k,defineEmits:FF,defineExpose:UF,defineModel:jF,defineOptions:VF,defineProps:LF,defineSSRCustomElement:s6,defineSlots:BF,devtools:P4,effect:k3,effectScope:vg,getCurrentInstance:hs,getCurrentScope:yg,getTransitionRawChildren:Cg,guardReactiveProps:ir,h:il,handleError:Cl,hasInjectionContext:lk,hydrate:Yk,initCustomFormatter:I4,initDirectivesForSSR:b6,inject:Zr,isMemoSame:Ak,isProxy:i1,isReactive:As,isReadonly:Za,isRef:dn,isRuntimeOnly:_4,isShallow:jd,isVNode:ra,markRaw:zf,mergeDefaults:KF,mergeModels:zF,mergeProps:ie,nextTick:Wn,normalizeClass:Ae,normalizeProps:xn,normalizeStyle:rr,onActivated:XP,onBeforeMount:ZP,onBeforeUnmount:Xf,onBeforeUpdate:m1,onDeactivated:QP,onErrorCaptured:rk,onMounted:Wt,onRenderTracked:nk,onRenderTriggered:tk,onScopeDispose:Zw,onServerPrefetch:ek,onUnmounted:mo,onUpdated:Ag,openBlock:S,popScopeId:FP,provide:Iu,proxyRefs:a1,pushScopeId:LP,queuePostFlushCb:tm,reactive:Dn,readonly:_g,ref:se,registerRuntimeCompiler:w4,render:sl,renderList:st,renderSlot:fe,resolveComponent:En,resolveDirective:Gf,resolveDynamicComponent:un,resolveFilter:R4,resolveTransitionHooks:Uu,setBlockTracking:jb,setDevtoolsHook:k4,setTransitionHooks:el,shallowReactive:r1,shallowReadonly:Q3,shallowRef:OP,ssrContextKey:jP,ssrUtils:D4,stop:x3,toDisplayString:Me,toHandlerKey:dd,toHandlers:MF,toRaw:_t,toRef:Fu,toRefs:kP,toValue:tF,transformVNodeArgs:p4,triggerRef:eF,unref:P,useAttrs:WF,useCssModule:a6,useCssVars:W4,useModel:E4,useSSRContext:HP,useSlots:ua,useTransitionState:h1,vModelCheckbox:_1,vModelDynamic:Hk,vModelRadio:T1,vModelSelect:Bk,vModelText:um,vShow:Zs,version:Pk,warn:O4,watch:It,watchEffect:WP,watchPostEffect:KP,watchSyncEffect:zP,withAsyncContext:YF,withCtx:ce,withDefaults:HF,withDirectives:Ci,withKeys:ct,withMemo:C4,withModifiers:St,withScopeId:gF},Symbol.toStringTag,{value:"Module"}));function T6(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const cm=T6();let rE=0;const S6=()=>{const t=rE;return rE+=1,t},Jk=()=>(t,e)=>{const n={...t,id:S6(),group:t.group||""};return cm.emit("notify",{notification:n,timeout:e}),()=>cm.emit("close",n.id)},Zk="context",Xb=Pe({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=Zr(Zk),i=Dn({notifications:[],timeouts:{}}),s=ee(()=>i.notifications.filter(f=>f.group===r.group)),o=ee(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(f,h)=>{i.timeouts[f]=window.setTimeout(()=>{h!==-1&&l(f)},Math.max(h||3e3,0))},l=f=>{i.notifications.splice(i.notifications.findIndex(h=>h.id===f),1),clearTimeout(i.timeouts[f])},u=({notification:f,timeout:h})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(f),a(f.id,h))},c=f=>{e("close"),l(f)},d=(f,h,p)=>{h?clearTimeout(i.timeouts[f]):a(f,p)};return Wt(()=>{cm.on("notify",u),cm.on("close",l)}),(f,h)=>(S(),re(Vk,{"enter-active-class":P(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:ce(()=>[fe(f.$slots,"default",{notifications:P(o),close:c,hovering:d})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),iE=Pe({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Iu(Zk,{group:e.group,position:e.position}),(n,r)=>fe(n.$slots,"default",{group:t.group})}});function E6(t){t.config.globalProperties.$notify=Jk(),t.component("Notification",Xb),t.component("NotificationGroup",iE),t.component("notification",Xb),t.component("notificationGroup",iE)}const I6={install:E6},C6=Jk(),O6={class:"px-4 py-2 -mx-3"},A6={class:"mx-3"},P6={class:"font-semibold text-white"},k6={class:"text-sm text-gray-100"},iy=Pe({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(S(),re(P(Xb),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:ce(({notifications:r})=>[(S(!0),U(Te,null,st(r,i=>(S(),U("div",{key:i.id},[i.type===e.type?(S(),U("div",{key:0,class:Ae("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-lg shadow-md "+e.color)},[K("div",O6,[K("div",A6,[K("span",P6,Me(i.title),1),K("p",k6,Me(i.text),1)])])],2)):G("",!0)]))),128))]),_:1}))}}),x6={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},D6={class:"w-full max-w-sm"},R6=Pe({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=En("NotificationGroup",!0);return S(),re(r,null,{default:ce(()=>[K("div",x6,[K("div",D6,[Z(iy,{type:"error",color:"bg-red-800"}),Z(iy,{type:"warning",color:"bg-yellow-800"}),Z(iy,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Jl=typeof document<"u";function N6(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Zt=Object.assign;function sy(t,e){const n={};for(const r in e){const i=e[r];n[r]=cs(i)?i.map(t):t(i)}return n}const gd=()=>{},cs=Array.isArray,ex=/#/g,M6=/&/g,$6=/\//g,L6=/=/g,F6=/\?/g,tx=/\+/g,U6=/%5B/g,V6=/%5D/g,nx=/%5E/g,B6=/%60/g,rx=/%7B/g,j6=/%7C/g,ix=/%7D/g,H6=/%20/g;function S1(t){return encodeURI(""+t).replace(j6,"|").replace(U6,"[").replace(V6,"]")}function W6(t){return S1(t).replace(rx,"{").replace(ix,"}").replace(nx,"^")}function Qb(t){return S1(t).replace(tx,"%2B").replace(H6,"+").replace(ex,"%23").replace(M6,"%26").replace(B6,"`").replace(rx,"{").replace(ix,"}").replace(nx,"^")}function K6(t){return Qb(t).replace(L6,"%3D")}function z6(t){return S1(t).replace(ex,"%23").replace(F6,"%3F")}function G6(t){return t==null?"":z6(t).replace($6,"%2F")}function qd(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Y6=/\/$/,q6=t=>t.replace(Y6,"");function oy(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Z6(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:qd(o)}}function X6(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function sE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Q6(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ju(e.matched[r],n.matched[i])&&sx(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ju(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function sx(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!J6(t[n],e[n]))return!1;return!0}function J6(t,e){return cs(t)?oE(t,e):cs(e)?oE(e,t):t===e}function oE(t,e){return cs(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Z6(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var Xd;(function(t){t.pop="pop",t.push="push"})(Xd||(Xd={}));var vd;(function(t){t.back="back",t.forward="forward",t.unknown=""})(vd||(vd={}));function e5(t){if(!t)if(Jl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),q6(t)}const t5=/^[^#]+#/;function n5(t,e){return t.replace(t5,"#")+e}function r5(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Dg=()=>({left:window.scrollX,top:window.scrollY});function i5(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=r5(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function aE(t,e){return(history.state?history.state.position-e:-1)+t}const Jb=new Map;function s5(t,e){Jb.set(t,e)}function o5(t){const e=Jb.get(t);return Jb.delete(t),e}let a5=()=>location.protocol+"//"+location.host;function ox(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),sE(l,"")}return sE(n,t)+r+i}function l5(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const h=ox(t,location),p=n.value,m=e.value;let g=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}g=m?f.position-m.position:0}else r(h);i.forEach(y=>{y(n.value,p,{delta:g,type:Xd.pop,direction:g?g>0?vd.forward:vd.back:vd.unknown})})};function l(){o=n.value}function u(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Zt({},f.state,{scroll:Dg()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function lE(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Dg():null}}function u5(t){const{history:e,location:n}=window,r={value:ox(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:a5()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function o(l,u){const c=Zt({},e.state,lE(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Zt({},i.value,e.state,{forward:l,scroll:Dg()});s(c.current,c,!0);const d=Zt({},lE(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function c5(t){t=e5(t);const e=u5(t),n=l5(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Zt({location:"",base:t,go:r,createHref:n5.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function d5(t){return typeof t=="string"||t&&typeof t=="object"}function ax(t){return typeof t=="string"||typeof t=="symbol"}const _o={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},lx=Symbol("");var uE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(uE||(uE={}));function Hu(t,e){return Zt(new Error,{type:t,[lx]:!0},e)}function Bs(t,e){return t instanceof Error&&lx in t&&(e==null||!!(t.type&e))}const cE="[^/]+?",f5={sensitive:!1,strict:!1,start:!0,end:!0},h5=/[.+*?^${}()[\]/\\]/g;function p5(t,e){const n=Zt({},f5,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(h5,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:g,regexp:y}=f;s.push({name:p,repeatable:m,optional:g});const v=y||cE;if(v!==cE){h+=10;try{new RegExp(`(${v})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+b.message)}}let _=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),i+=_,h+=20,g&&(h+=-8),m&&(h+=-20),v===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=s[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:g}=h,y=p in u?u[p]:"";if(cs(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=cs(y)?y.join("/"):y;if(!v)if(g)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=v}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function m5(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function g5(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=m5(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(dE(r))return 1;if(dE(i))return-1}return i.length-r.length}function dE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const v5={type:0,value:""},y5=/[a-zA-Z0-9_]/;function b5(t){if(!t)return[[]];if(t==="/")return[[v5]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:y5.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function w5(t,e,n){const r=p5(b5(t.path),n),i=Zt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function _5(t,e){const n=[],r=new Map;e=pE({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,f){const h=!f,p=T5(c);p.aliasOf=f&&f.record;const m=pE(e,c),g=[p];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of _)g.push(Zt({},p,{components:f?f.record.components:p.components,path:b,aliasOf:f?f.record:p}))}let y,v;for(const _ of g){const{path:b}=_;if(d&&b[0]!=="/"){const w=d.record.path,T=w[w.length-1]==="/"?"":"/";_.path=d.record.path+(b&&T+b)}if(y=w5(_,d,m),f?f.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),h&&c.name&&!hE(y)&&o(c.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)s(w[T],y,f&&f.children[T])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return v?()=>{o(v)}:gd}function o(c){if(ax(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&g5(c,n[d])>=0&&(c.record.path!==n[d].record.path||!ux(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!hE(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},p,m;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw Hu(1,{location:c});m=f.record.name,h=Zt(fE(d.params,f.keys.filter(v=>!v.optional).concat(f.parent?f.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),c.params&&fE(c.params,f.keys.map(v=>v.name))),p=f.stringify(h)}else if(c.path!=null)p=c.path,f=n.find(v=>v.re.test(p)),f&&(h=f.parse(p),m=f.record.name);else{if(f=d.name?r.get(d.name):n.find(v=>v.re.test(d.path)),!f)throw Hu(1,{location:c,currentLocation:d});m=f.record.name,h=Zt({},d.params,c.params),p=f.stringify(h)}const g=[];let y=f;for(;y;)g.unshift(y.record),y=y.parent;return{name:m,path:p,params:h,matched:g,meta:E5(g)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function fE(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function T5(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:S5(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function S5(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function hE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function E5(t){return t.reduce((e,n)=>Zt(e,n.meta),{})}function pE(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function ux(t,e){return e.children.some(n=>n===t||ux(t,n))}function I5(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(tx," "),o=s.indexOf("="),a=qd(o<0?s:s.slice(0,o)),l=o<0?null:qd(s.slice(o+1));if(a in e){let u=e[a];cs(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function mE(t){let e="";for(let n in t){const r=t[n];if(n=K6(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(cs(r)?r.map(s=>s&&Qb(s)):[r&&Qb(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function C5(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=cs(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const O5=Symbol(""),gE=Symbol(""),Rg=Symbol(""),E1=Symbol(""),Zb=Symbol("");function kc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function No(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Hu(4,{from:n,to:e})):f instanceof Error?l(f):d5(f)?l(Hu(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function ay(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(A5(l)){const c=(l.__vccOpts||l)[e];c&&s.push(No(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=N6(c)?c.default:c;o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&No(h,n,r,o,a,i)()}))}}return s}function A5(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function vE(t){const e=Zr(Rg),n=Zr(E1),r=ee(()=>e.resolve(P(t.to))),i=ee(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(ju.bind(null,c));if(f>-1)return f;const h=yE(l[u-2]);return u>1&&yE(c)===h&&d[d.length-1].path!==h?d.findIndex(ju.bind(null,l[u-2])):f}),s=ee(()=>i.value>-1&&D5(n.params,r.value.params)),o=ee(()=>i.value>-1&&i.value===n.matched.length-1&&sx(n.params,r.value.params));function a(l={}){return x5(l)?e[P(t.replace)?"replace":"push"](P(t.to)).catch(gd):Promise.resolve()}return{route:r,href:ee(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const P5=Pe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vE,setup(t,{slots:e}){const n=Dn(vE(t)),{options:r}=Zr(Rg),i=ee(()=>({[bE(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[bE(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:il("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),k5=P5;function x5(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function D5(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!cs(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function yE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const bE=(t,e,n)=>t??e??n,R5=Pe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Zr(Zb),i=ee(()=>t.route||r.value),s=Zr(gE,0),o=ee(()=>{let u=P(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ee(()=>i.value.matched[o.value]);Iu(gE,ee(()=>o.value+1)),Iu(O5,a),Iu(Zb,i);const l=se();return It(()=>[l.value,a.value,t.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!ju(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return wE(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=il(f,Zt({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return wE(n.default,{Component:g,route:u})||g}}});function wE(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const cx=R5;function N5(t){const e=_5(t.routes,t),n=t.parseQuery||I5,r=t.stringifyQuery||mE,i=t.history,s=kc(),o=kc(),a=kc(),l=OP(_o);let u=_o;Jl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=sy.bind(null,z=>""+z),d=sy.bind(null,G6),f=sy.bind(null,qd);function h(z,ae){let X,he;return ax(z)?(X=e.getRecordMatcher(z),he=ae):he=z,e.addRoute(he,X)}function p(z){const ae=e.getRecordMatcher(z);ae&&e.removeRoute(ae)}function m(){return e.getRoutes().map(z=>z.record)}function g(z){return!!e.getRecordMatcher(z)}function y(z,ae){if(ae=Zt({},ae||l.value),typeof z=="string"){const $=oy(n,z,ae.path),H=e.resolve({path:$.path},ae),le=i.createHref($.fullPath);return Zt($,H,{params:f(H.params),hash:qd($.hash),redirectedFrom:void 0,href:le})}let X;if(z.path!=null)X=Zt({},z,{path:oy(n,z.path,ae.path).path});else{const $=Zt({},z.params);for(const H in $)$[H]==null&&delete $[H];X=Zt({},z,{params:d($)}),ae.params=d(ae.params)}const he=e.resolve(X,ae),be=z.hash||"";he.params=c(f(he.params));const oe=X6(r,Zt({},z,{hash:W6(be),path:he.path})),A=i.createHref(oe);return Zt({fullPath:oe,hash:be,query:r===mE?C5(z.query):z.query||{}},he,{redirectedFrom:void 0,href:A})}function v(z){return typeof z=="string"?oy(n,z,l.value.path):Zt({},z)}function _(z,ae){if(u!==z)return Hu(8,{from:ae,to:z})}function b(z){return x(z)}function w(z){return b(Zt(v(z),{replace:!0}))}function T(z){const ae=z.matched[z.matched.length-1];if(ae&&ae.redirect){const{redirect:X}=ae;let he=typeof X=="function"?X(z):X;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=v(he):{path:he},he.params={}),Zt({query:z.query,hash:z.hash,params:he.path!=null?{}:z.params},he)}}function x(z,ae){const X=u=y(z),he=l.value,be=z.state,oe=z.force,A=z.replace===!0,$=T(X);if($)return x(Zt(v($),{state:typeof $=="object"?Zt({},be,$.state):be,force:oe,replace:A}),ae||X);const H=X;H.redirectedFrom=ae;let le;return!oe&&Q6(r,he,X)&&(le=Hu(16,{to:H,from:he}),J(he,he,!0,!1)),(le?Promise.resolve(le):E(H,he)).catch(ue=>Bs(ue)?Bs(ue,2)?ue:O(ue):Y(ue,H,he)).then(ue=>{if(ue){if(Bs(ue,2))return x(Zt({replace:A},v(ue.to),{state:typeof ue.to=="object"?Zt({},be,ue.to.state):be,force:oe}),ae||H)}else ue=F(H,he,!0,A,be);return M(H,he,ue),ue})}function C(z,ae){const X=_(z,ae);return X?Promise.reject(X):Promise.resolve()}function I(z){const ae=ve.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(z):z()}function E(z,ae){let X;const[he,be,oe]=M5(z,ae);X=ay(he.reverse(),"beforeRouteLeave",z,ae);for(const $ of he)$.leaveGuards.forEach(H=>{X.push(No(H,z,ae))});const A=C.bind(null,z,ae);return X.push(A),j(X).then(()=>{X=[];for(const $ of s.list())X.push(No($,z,ae));return X.push(A),j(X)}).then(()=>{X=ay(be,"beforeRouteUpdate",z,ae);for(const $ of be)$.updateGuards.forEach(H=>{X.push(No(H,z,ae))});return X.push(A),j(X)}).then(()=>{X=[];for(const $ of oe)if($.beforeEnter)if(cs($.beforeEnter))for(const H of $.beforeEnter)X.push(No(H,z,ae));else X.push(No($.beforeEnter,z,ae));return X.push(A),j(X)}).then(()=>(z.matched.forEach($=>$.enterCallbacks={}),X=ay(oe,"beforeRouteEnter",z,ae,I),X.push(A),j(X))).then(()=>{X=[];for(const $ of o.list())X.push(No($,z,ae));return X.push(A),j(X)}).catch($=>Bs($,8)?$:Promise.reject($))}function M(z,ae,X){a.list().forEach(he=>I(()=>he(z,ae,X)))}function F(z,ae,X,he,be){const oe=_(z,ae);if(oe)return oe;const A=ae===_o,$=Jl?history.state:{};X&&(he||A?i.replace(z.fullPath,Zt({scroll:A&&$&&$.scroll},be)):i.push(z.fullPath,be)),l.value=z,J(z,ae,X,A),O()}let N;function k(){N||(N=i.listen((z,ae,X)=>{if(!ne.listening)return;const he=y(z),be=T(he);if(be){x(Zt(be,{replace:!0}),he).catch(gd);return}u=he;const oe=l.value;Jl&&s5(aE(oe.fullPath,X.delta),Dg()),E(he,oe).catch(A=>Bs(A,12)?A:Bs(A,2)?(x(A.to,he).then($=>{Bs($,20)&&!X.delta&&X.type===Xd.pop&&i.go(-1,!1)}).catch(gd),Promise.reject()):(X.delta&&i.go(-X.delta,!1),Y(A,he,oe))).then(A=>{A=A||F(he,oe,!1),A&&(X.delta&&!Bs(A,8)?i.go(-X.delta,!1):X.type===Xd.pop&&Bs(A,20)&&i.go(-1,!1)),M(he,oe,A)}).catch(gd)}))}let R=kc(),D=kc(),B;function Y(z,ae,X){O(z);const he=D.list();return he.length?he.forEach(be=>be(z,ae,X)):console.error(z),Promise.reject(z)}function L(){return B&&l.value!==_o?Promise.resolve():new Promise((z,ae)=>{R.add([z,ae])})}function O(z){return B||(B=!z,k(),R.list().forEach(([ae,X])=>z?X(z):ae()),R.reset()),z}function J(z,ae,X,he){const{scrollBehavior:be}=t;if(!Jl||!be)return Promise.resolve();const oe=!X&&o5(aE(z.fullPath,0))||(he||!X)&&history.state&&history.state.scroll||null;return Wn().then(()=>be(z,ae,oe)).then(A=>A&&i5(A)).catch(A=>Y(A,z,ae))}const te=z=>i.go(z);let ge;const ve=new Set,ne={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:g,getRoutes:m,resolve:y,options:t,push:b,replace:w,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:D.add,isReady:L,install(z){const ae=this;z.component("RouterLink",k5),z.component("RouterView",cx),z.config.globalProperties.$router=ae,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),Jl&&!ge&&l.value===_o&&(ge=!0,b(i.location).catch(be=>{}));const X={};for(const be in _o)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});z.provide(Rg,ae),z.provide(E1,r1(X)),z.provide(Zb,l);const he=z.unmount;ve.add(z),z.unmount=function(){ve.delete(z),ve.size<1&&(u=_o,N&&N(),N=null,l.value=_o,ge=!1,B=!1),he()}}};function j(z){return z.reduce((ae,X)=>ae.then(()=>I(X)),Promise.resolve())}return ne}function M5(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>ju(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ju(u,l))||i.push(l))}return[n,r,i]}function dx(){return Zr(Rg)}function I1(){return Zr(E1)}const $5=Pe({__name:"App",setup(t){return(e,n)=>(S(),U(Te,null,[Z(P(cx)),Z(R6)],64))}});var _E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=function(t,e){if(!t)throw pc(e)},pc=function(t){return new Error("Firebase Database ("+fx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new F5;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const px=function(t){const e=hx(t);return Ng.encodeByteArray(e,!0)},dm=function(t){return px(t).replace(/\./g,"")},fm=function(t){try{return Ng.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){return mx(void 0,t)}function mx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!V5(n)||(t[n]=mx(t[n],e[n]));return t}function V5(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=()=>gx().__FIREBASE_DEFAULTS__,j5=()=>{if(typeof process>"u"||typeof _E>"u")return;const t=_E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fm(t[1]);return e&&JSON.parse(e)},Mg=()=>{try{return B5()||j5()||H5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vx=t=>{var e,n;return(n=(e=Mg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yx=t=>{const e=vx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bx=()=>{var t;return(t=Mg())===null||t===void 0?void 0:t.config},wx=t=>{var e;return(e=Mg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dm(JSON.stringify(n)),dm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function W5(){var t;const e=(t=Mg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Sx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K5(){const t=Hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ex(){return fx.NODE_ADMIN===!0}function $g(){try{return typeof indexedDB=="object"}catch{return!1}}function Ix(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function z5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="FirebaseError";class Di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G5,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Y5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Di(i,a,r)}}function Y5(t,e){return t.replace(q5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){return JSON.parse(t)}function Sr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Qd(fm(s[0])||""),n=Qd(fm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},X5=function(t){const e=Cx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Q5=function(t){const e=Cx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function e0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Jd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TE(s)&&TE(o)){if(!Jd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Z5(t,e){const n=new eU(t,e);return n.subscribe.bind(n)}class eU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ly),i.error===void 0&&(i.error=ly),i.complete===void 0&&(i.complete=ly);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ly(){}function nU(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Fe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=1e3,oU=2,aU=4*60*60*1e3,lU=.5;function t0(t,e=sU,n=oU){const r=e*Math.pow(n,t),i=Math.round(lU*r*(Math.random()-.5)*2);return Math.min(aU,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ol;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dU(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cU(t){return t===Ea?void 0:t}function dU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ft||(Ft={}));const hU={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},pU=Ft.INFO,mU={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},gU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gc{constructor(e){this.name=e,this._logLevel=pU,this._logHandler=gU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const vU=(t,e)=>e.some(n=>t instanceof n);let SE,EE;function yU(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bU(){return EE||(EE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ox=new WeakMap,n0=new WeakMap,Ax=new WeakMap,uy=new WeakMap,O1=new WeakMap;function wU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ox.set(n,t)}).catch(()=>{}),O1.set(e,t),e}function _U(t){if(n0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});n0.set(t,e)}let r0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ax.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TU(t){r0=t(r0)}function SU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cy(this),e,...n);return Ax.set(r,e.sort?e.sort():[e]),zo(r)}:bU().includes(t)?function(...e){return t.apply(cy(this),e),zo(Ox.get(this))}:function(...e){return zo(t.apply(cy(this),e))}}function EU(t){return typeof t=="function"?SU(t):(t instanceof IDBTransaction&&_U(t),vU(t,yU())?new Proxy(t,r0):t)}function zo(t){if(t instanceof IDBRequest)return wU(t);if(uy.has(t))return uy.get(t);const e=EU(t);return e!==t&&(uy.set(t,e),O1.set(e,t)),e}const cy=t=>O1.get(t);function IU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zo(o.result),l.oldVersion,l.newVersion,zo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const CU=["get","getKey","getAll","getAllKeys","count"],OU=["put","add","delete","clear"],dy=new Map;function IE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return dy.set(e,s),s}TU(t=>({...t,get:(e,n,r)=>IE(e,n)||t.get(e,n,r),has:(e,n)=>!!IE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const i0="@firebase/app",CE="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new gc("@firebase/app"),kU="@firebase/app-compat",xU="@firebase/analytics-compat",DU="@firebase/analytics",RU="@firebase/app-check-compat",NU="@firebase/app-check",MU="@firebase/auth",$U="@firebase/auth-compat",LU="@firebase/database",FU="@firebase/database-compat",UU="@firebase/functions",VU="@firebase/functions-compat",BU="@firebase/installations",jU="@firebase/installations-compat",HU="@firebase/messaging",WU="@firebase/messaging-compat",KU="@firebase/performance",zU="@firebase/performance-compat",GU="@firebase/remote-config",YU="@firebase/remote-config-compat",qU="@firebase/storage",XU="@firebase/storage-compat",QU="@firebase/firestore",JU="@firebase/firestore-compat",ZU="firebase",eV="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="[DEFAULT]",tV={[i0]:"fire-core",[kU]:"fire-core-compat",[DU]:"fire-analytics",[xU]:"fire-analytics-compat",[NU]:"fire-app-check",[RU]:"fire-app-check-compat",[MU]:"fire-auth",[$U]:"fire-auth-compat",[LU]:"fire-rtdb",[FU]:"fire-rtdb-compat",[UU]:"fire-fn",[VU]:"fire-fn-compat",[BU]:"fire-iid",[jU]:"fire-iid-compat",[HU]:"fire-fcm",[WU]:"fire-fcm-compat",[KU]:"fire-perf",[zU]:"fire-perf-compat",[GU]:"fire-rc",[YU]:"fire-rc-compat",[qU]:"fire-gcs",[XU]:"fire-gcs-compat",[QU]:"fire-fst",[JU]:"fire-fst-compat","fire-js":"fire-js",[ZU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map,o0=new Map;function nV(t,e){try{t.container.addComponent(e)}catch(n){al.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){const e=t.name;if(o0.has(e))return al.debug(`There were multiple attempts to register component ${e}.`),!1;o0.set(e,t);for(const n of pm.values())nV(n,t);return!0}function Fs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Go=new ca("app","Firebase",rV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=eV;function Px(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:s0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Go.create("bad-app-name",{appName:String(i)});if(n||(n=bx()),!n)throw Go.create("no-options");const s=pm.get(i);if(s){if(Jd(n,s.options)&&Jd(r,s.config))return s;throw Go.create("duplicate-app",{appName:i})}const o=new fU(i);for(const l of o0.values())o.addComponent(l);const a=new iV(n,r,o);return pm.set(i,a),a}function vc(t=s0){const e=pm.get(t);if(!e&&t===s0&&bx())return Px();if(!e)throw Go.create("no-app",{appName:t});return e}function Ir(t,e,n){var r;let i=(r=tV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),al.warn(a.join(" "));return}gi(new ti(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="firebase-heartbeat-database",oV=1,Zd="firebase-heartbeat-store";let fy=null;function kx(){return fy||(fy=IU(sV,oV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zd)}}}).catch(t=>{throw Go.create("idb-open",{originalErrorMessage:t.message})})),fy}async function aV(t){try{return await(await kx()).transaction(Zd).objectStore(Zd).get(xx(t))}catch(e){if(e instanceof Di)al.warn(e.message);else{const n=Go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});al.warn(n.message)}}}async function OE(t,e){try{const r=(await kx()).transaction(Zd,"readwrite");await r.objectStore(Zd).put(e,xx(t)),await r.done}catch(n){if(n instanceof Di)al.warn(n.message);else{const r=Go.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});al.warn(r.message)}}}function xx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=1024,uV=30*24*60*60*1e3;class cV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=uV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=AE(),{heartbeatsToSend:n,unsentEntries:r}=dV(this._heartbeatsCache.heartbeats),i=dm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function AE(){return new Date().toISOString().substring(0,10)}function dV(t,e=lV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $g()?Ix().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await aV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return OE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return OE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PE(t){return dm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){gi(new ti("platform-logger",e=>new AU(e),"PRIVATE")),gi(new ti("heartbeat",e=>new cV(e),"PRIVATE")),Ir(i0,CE,t),Ir(i0,CE,"esm2017"),Ir("fire-js","")}hV("");const pV=(t,e)=>e.some(n=>t instanceof n);let kE,xE;function mV(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gV(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dx=new WeakMap,a0=new WeakMap,Rx=new WeakMap,hy=new WeakMap,A1=new WeakMap;function vV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Dx.set(n,t)}).catch(()=>{}),A1.set(e,t),e}function yV(t){if(a0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});a0.set(t,e)}let l0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bV(t){l0=t(l0)}function wV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(py(this),e,...n);return Rx.set(r,e.sort?e.sort():[e]),Yo(r)}:gV().includes(t)?function(...e){return t.apply(py(this),e),Yo(Dx.get(this))}:function(...e){return Yo(t.apply(py(this),e))}}function _V(t){return typeof t=="function"?wV(t):(t instanceof IDBTransaction&&yV(t),pV(t,mV())?new Proxy(t,l0):t)}function Yo(t){if(t instanceof IDBRequest)return vV(t);if(hy.has(t))return hy.get(t);const e=_V(t);return e!==t&&(hy.set(t,e),A1.set(e,t)),e}const py=t=>A1.get(t);function TV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yo(o.result),l.oldVersion,l.newVersion,Yo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const SV=["get","getKey","getAll","getAllKeys","count"],EV=["put","add","delete","clear"],my=new Map;function DE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(my.get(e))return my.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return my.set(e,s),s}bV(t=>({...t,get:(e,n,r)=>DE(e,n)||t.get(e,n,r),has:(e,n)=>!!DE(e,n)||t.has(e,n)}));const Nx="@firebase/installations",P1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=1e4,$x=`w:${P1}`,Lx="FIS_v2",IV="https://firebaseinstallations.googleapis.com/v1",CV=60*60*1e3,OV="installations",AV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ll=new ca(OV,AV,PV);function Fx(t){return t instanceof Di&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux({projectId:t}){return`${IV}/projects/${t}/installations`}function Vx(t){return{token:t.token,requestStatus:2,expiresIn:xV(t.expiresIn),creationTime:Date.now()}}async function Bx(t,e){const r=(await e.json()).error;return ll.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function jx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kV(t,{refreshToken:e}){const n=jx(t);return n.append("Authorization",DV(e)),n}async function Hx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xV(t){return Number(t.replace("s","000"))}function DV(t){return`${Lx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Ux(t),i=jx(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Lx,appId:t.appId,sdkVersion:$x},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Hx(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Vx(u.authToken)}}else throw await Bx("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/^[cdef][\w-]{21}$/,u0="";function $V(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=LV(t);return MV.test(n)?n:u0}catch{return u0}}function LV(t){return NV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;function zx(t,e){const n=Fg(t);Gx(n,e),FV(n,e)}function Gx(t,e){const n=Kx.get(t);if(n)for(const r of n)r(e)}function FV(t,e){const n=UV();n&&n.postMessage({key:t,fid:e}),VV()}let Ma=null;function UV(){return!Ma&&"BroadcastChannel"in self&&(Ma=new BroadcastChannel("[Firebase] FID Change"),Ma.onmessage=t=>{Gx(t.data.key,t.data.fid)}),Ma}function VV(){Kx.size===0&&Ma&&(Ma.close(),Ma=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="firebase-installations-database",jV=1,ul="firebase-installations-store";let gy=null;function k1(){return gy||(gy=TV(BV,jV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ul)}}})),gy}async function mm(t,e){const n=Fg(t),i=(await k1()).transaction(ul,"readwrite"),s=i.objectStore(ul),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&zx(t,e.fid),e}async function Yx(t){const e=Fg(t),r=(await k1()).transaction(ul,"readwrite");await r.objectStore(ul).delete(e),await r.done}async function Ug(t,e){const n=Fg(t),i=(await k1()).transaction(ul,"readwrite"),s=i.objectStore(ul),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&zx(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t){let e;const n=await Ug(t.appConfig,r=>{const i=HV(r),s=WV(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===u0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function HV(t){const e=t||{fid:$V(),registrationStatus:0};return qx(e)}function WV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ll.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=KV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zV(t)}:{installationEntry:e}}async function KV(t,e){try{const n=await RV(t,e);return mm(t.appConfig,n)}catch(n){throw Fx(n)&&n.customData.serverCode===409?await Yx(t.appConfig):await mm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function zV(t){let e=await RE(t.appConfig);for(;e.registrationStatus===1;)await Wx(100),e=await RE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await x1(t);return r||n}return e}function RE(t){return Ug(t,e=>{if(!e)throw ll.create("installation-not-found");return qx(e)})}function qx(t){return GV(t)?{fid:t.fid,registrationStatus:0}:t}function GV(t){return t.registrationStatus===1&&t.registrationTime+Mx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV({appConfig:t,heartbeatServiceProvider:e},n){const r=qV(t,n),i=kV(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:$x,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Hx(()=>fetch(r,a));if(l.ok){const u=await l.json();return Vx(u)}else throw await Bx("Generate Auth Token",l)}function qV(t,{fid:e}){return`${Ux(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(t,e=!1){let n;const r=await Ug(t.appConfig,s=>{if(!Xx(s))throw ll.create("not-registered");const o=s.authToken;if(!e&&JV(o))return s;if(o.requestStatus===1)return n=XV(t,e),s;{if(!navigator.onLine)throw ll.create("app-offline");const a=e9(s);return n=QV(t,a),a}});return n?await n:r.authToken}async function XV(t,e){let n=await NE(t.appConfig);for(;n.authToken.requestStatus===1;)await Wx(100),n=await NE(t.appConfig);const r=n.authToken;return r.requestStatus===0?D1(t,e):r}function NE(t){return Ug(t,e=>{if(!Xx(e))throw ll.create("not-registered");const n=e.authToken;return t9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function QV(t,e){try{const n=await YV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await mm(t.appConfig,r),n}catch(n){if(Fx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Yx(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await mm(t.appConfig,r)}throw n}}function Xx(t){return t!==void 0&&t.registrationStatus===2}function JV(t){return t.requestStatus===2&&!ZV(t)}function ZV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CV}function e9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function t9(t){return t.requestStatus===1&&t.requestTime+Mx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t){const e=t,{installationEntry:n,registrationPromise:r}=await x1(e);return r?r.catch(console.error):D1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e=!1){const n=t;return await i9(n),(await D1(n,e)).token}async function i9(t){const{registrationPromise:e}=await x1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){if(!t||!t.options)throw vy("App Configuration");if(!t.name)throw vy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vy(t){return ll.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="installations",o9="installations-internal",a9=t=>{const e=t.getProvider("app").getImmediate(),n=s9(e),r=Fs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},l9=t=>{const e=t.getProvider("app").getImmediate(),n=Fs(e,Qx).getImmediate();return{getId:()=>n9(n),getToken:i=>r9(n,i)}};function u9(){gi(new ti(Qx,a9,"PUBLIC")),gi(new ti(o9,l9,"PRIVATE"))}u9();Ir(Nx,P1);Ir(Nx,P1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="analytics",c9="firebase_id",d9="origin",f9=60*1e3,h9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",R1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new gc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Oi=new ca("analytics","Analytics",p9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){if(!t.startsWith(R1)){const e=Oi.create("invalid-gtag-resource",{gtagURL:t});return hi.warn(e.message),""}return t}function Jx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function g9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function v9(t,e){const n=g9("firebase-js-sdk-policy",{createScriptURL:m9}),r=document.createElement("script"),i=`${R1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function y9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function b9(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Jx(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){hi.error(a)}t("config",i,s)}async function w9(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Jx(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){hi.error(s)}}function _9(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await w9(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await b9(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){hi.error(a)}}return i}function T9(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=_9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function S9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(R1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=30,I9=1e3;class C9{constructor(e={},n=I9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Zx=new C9;function O9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function A9(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:O9(r)},s=h9.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function P9(t,e=Zx,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Oi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Oi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new D9;return setTimeout(async()=>{a.abort()},n!==void 0?n:f9),eD({appId:r,apiKey:i,measurementId:s},o,a,e)}async function eD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Zx){var s;const{appId:o,measurementId:a}=t;try{await k9(r,e)}catch(l){if(a)return hi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await A9(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!x9(u)){if(i.deleteThrottleMetadata(o),a)return hi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?t0(n,i.intervalMillis,E9):t0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),hi.debug(`Calling attemptFetch again in ${c} millis`),eD(t,d,r,i)}}function k9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Oi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function x9(t){if(!(t instanceof Di)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class D9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function R9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(){if($g())try{await Ix()}catch(t){return hi.warn(Oi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hi.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function M9(t,e,n,r,i,s,o){var a;const l=P9(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&hi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>hi.error(h)),e.push(l);const u=N9().then(h=>{if(h)return r.getId()}),[c,d]=await Promise.all([l,u]);S9(s)||v9(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[d9]="firebase",f.update=!0,d!=null&&(f[c9]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.app=e}_delete(){return delete yd[this.app.options.appId],Promise.resolve()}}let yd={},ME=[];const $E={};let yy="dataLayer",L9="gtag",LE,tD,FE=!1;function F9(){const t=[];if(Tx()&&t.push("This is a browser extension environment."),z5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Oi.create("invalid-analytics-context",{errorInfo:e});hi.warn(n.message)}}function U9(t,e,n){F9();const r=t.options.appId;if(!r)throw Oi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Oi.create("no-api-key");if(yd[r]!=null)throw Oi.create("already-exists",{id:r});if(!FE){y9(yy);const{wrappedGtag:s,gtagCore:o}=T9(yd,ME,$E,yy,L9);tD=s,LE=o,FE=!0}return yd[r]=M9(t,ME,$E,e,LE,yy,n),new $9(t)}function V9(t=vc()){t=Ht(t);const e=Fs(t,gm);return e.isInitialized()?e.getImmediate():B9(t)}function B9(t,e={}){const n=Fs(t,gm);if(n.isInitialized()){const i=n.getImmediate();if(Jd(e,n.getOptions()))return i;throw Oi.create("already-initialized")}return n.initialize({options:e})}function j9(t,e,n,r){t=Ht(t),R9(tD,yd[t.app.options.appId],e,n,r).catch(i=>hi.error(i))}const UE="@firebase/analytics",VE="0.10.0";function H9(){gi(new ti(gm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return U9(r,i,n)},"PUBLIC")),gi(new ti("analytics-internal",t,"PRIVATE")),Ir(UE,VE),Ir(UE,VE,"esm2017");function t(e){try{const n=e.getProvider(gm).getImmediate();return{logEvent:(r,i,s)=>j9(n,r,i,s)}}catch(n){throw Oi.create("interop-component-reg-failed",{reason:n})}}}H9();var W9="firebase",K9="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(W9,K9,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map,nD={activated:!1,tokenObservers:[]},z9={initialized:!1,enabled:!1};function sr(t){return c0.get(t)||Object.assign({},nD)}function G9(t,e){return c0.set(t,e),c0.get(t)}function Vg(){return z9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="https://content-firebaseappcheck.googleapis.com/v1",Y9="exchangeRecaptchaV3Token",q9="exchangeDebugToken",BE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},X9=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ol,await J9(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ol,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function J9(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},di=new ca("appCheck","AppCheck",Z9);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function N1(t){if(!sr(t).activated)throw di.create("use-before-activation",{appName:t.name})}function iD(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=zh(n)+"d:"),r&&(o+=zh(r)+"h:"),o+=zh(i)+"m:"+zh(s)+"s",o}function zh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw di.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw di.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw di.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function e8(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${rD}/projects/${n}/apps/${r}:${Y9}?key=${i}`,body:{recaptcha_v3_token:e}}}function sD(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${rD}/projects/${n}/apps/${r}:${q9}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="firebase-app-check-database",n8=1,ef="firebase-app-check-store",oD="debug-token";let Gh=null;function aD(){return Gh||(Gh=new Promise((t,e)=>{try{const n=indexedDB.open(t8,n8);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(di.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ef,{keyPath:"compositeKey"})}}}catch(n){e(di.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Gh)}function r8(t){return uD(cD(t))}function i8(t,e){return lD(cD(t),e)}function s8(t){return lD(oD,t)}function o8(){return uD(oD)}async function lD(t,e){const r=(await aD()).transaction(ef,"readwrite"),s=r.objectStore(ef).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(di.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function uD(t){const n=(await aD()).transaction(ef,"readonly"),i=n.objectStore(ef).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(di.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function cD(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new gc("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t){if($g()){let e;try{e=await r8(t)}catch(n){tf.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function by(t,e){return $g()?i8(t,e).catch(n=>{tf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function l8(){let t;try{t=await o8()}catch{}if(t)return t;{const e=iU();return s8(e).catch(n=>tf.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return Vg().enabled}async function L1(){const t=Vg();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function u8(){const t=gx(),e=Vg();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new ol;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(l8())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8={error:"UNKNOWN_ERROR"};function d8(t){return Ng.encodeString(JSON.stringify(t),!1)}async function d0(t,e=!1){const n=t.app;N1(n);const r=sr(n);let i=r.token,s;if(i&&!ou(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(ou(l)?i=l:await by(n,void 0))}if(!e&&i&&ou(i))return{token:i.token};let o=!1;if($1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=M1(sD(n,await L1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await by(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await sr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?tf.warn(l.message):tf.error(l),s=l}let a;return i?s?ou(i)?a={token:i.token,internalError:s}:a=WE(s):(a={token:i.token},r.token=i,await by(n,i)):a=WE(s),o&&hD(n,a),a}async function f8(t){const e=t.app;N1(e);const{provider:n}=sr(e);if($1()){const r=await L1(),{token:i}=await M1(sD(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function dD(t,e,n,r){const{app:i}=t,s=sr(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&ou(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),HE(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HE(t))}function fD(t,e){const n=sr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function HE(t){const{app:e}=t,n=sr(e);let r=n.tokenRefresher;r||(r=h8(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function h8(t){const{app:e}=t;return new Q9(async()=>{const n=sr(e);let r;if(n.token?r=await d0(t,!0):r=await d0(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=sr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},BE.RETRIAL_MIN_WAIT,BE.RETRIAL_MAX_WAIT)}function hD(t,e){const n=sr(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ou(t){return t.expireTimeMillis-Date.now()>0}function WE(t){return{token:d8(c8),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=sr(this.app);for(const n of e)fD(this.app,n.next);return Promise.resolve()}}function m8(t,e){return new p8(t,e)}function g8(t){return{getToken:e=>d0(t,e),getLimitedUseToken:()=>f8(t),addTokenListener:e=>dD(t,"INTERNAL",e),removeTokenListener:e=>fD(t.app,e)}}const v8="@firebase/app-check",y8="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="https://www.google.com/recaptcha/api.js";function w8(t,e){const n=new ol,r=sr(t);r.reCAPTCHAState={initialized:n};const i=_8(t),s=jE(!1);return s?KE(t,e,s,i,n):E8(()=>{const o=jE(!1);if(!o)throw new Error("no recaptcha");KE(t,e,o,i,n)}),n.promise}function KE(t,e,n,r,i){n.ready(()=>{S8(t,e,n,r),i.resolve(n)})}function _8(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function T8(t){N1(t);const n=await sr(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=sr(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function S8(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{sr(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{sr(t).reCAPTCHAState.succeeded=!1}}),s=sr(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function E8(t){const e=document.createElement("script");e.src=b8,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;C8(this._throttleData);const i=await T8(this._app).catch(o=>{throw di.create("recaptcha-error")});if(!(!((e=sr(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw di.create("recaptcha-error");let s;try{s=await M1(e8(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=I8(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),di.create("throttled",{time:iD(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Fs(e,"heartbeat"),w8(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof F1?this._siteKey===e._siteKey:!1}}function I8(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+X9,httpStatus:t};{const n=e?e.backoffCount:0,r=t0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function C8(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw di.create("throttled",{time:iD(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t=vc(),e){t=Ht(t);const n=Fs(t,"app-check");if(Vg().initialized||u8(),$1()&&L1().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw di.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return A8(t,e.provider,e.isTokenAutoRefreshEnabled),sr(t).isTokenAutoRefreshEnabled&&dD(r,"INTERNAL",()=>{}),r}function A8(t,e,n){const r=G9(t,Object.assign({},nD));r.activated=!0,r.provider=e,r.cachedTokenPromise=a8(t).then(i=>(i&&ou(i)&&(r.token=i,hD(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const P8="app-check",zE="app-check-internal";function k8(){gi(new ti(P8,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return m8(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(zE).initialize()})),gi(new ti(zE,t=>{const e=t.getProvider("app-check").getImmediate();return g8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ir(v8,y8)}k8();const x8={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},D8=t=>{O8(t,{provider:new F1("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},R8=()=>{const t=Px(x8);return D8(t),V9(t),t},pD=R8();var N8=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let mD;const Bg=t=>mD=t,gD=Symbol();function f0(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var bd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(bd||(bd={}));function M8(){const t=vg(!0),e=t.run(()=>se({}));let n=[],r=[];const i=zf({install(s){Bg(i),i._a=s,s.provide(gD,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!N8?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const vD=()=>{};function GE(t,e,n,r=vD){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&yg()&&Zw(i),i}function Fl(t,...e){t.slice().forEach(n=>{n(...e)})}const $8=t=>t();function h0(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];f0(i)&&f0(r)&&t.hasOwnProperty(n)&&!dn(r)&&!As(r)?t[n]=h0(i,r):t[n]=r}return t}const L8=Symbol();function F8(t){return!f0(t)||!t.hasOwnProperty(L8)}const{assign:Ao}=Object;function U8(t){return!!(dn(t)&&t.effect)}function V8(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=kP(n.state.value[t]);return Ao(c,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=zf(ee(()=>{Bg(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=yD(t,u,e,n,r,!0),l}function yD(t,e,n={},r,i,s){let o;const a=Ao({actions:{}},n),l={deep:!0};let u,c,d=[],f=[],h;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),se({});let m;function g(C){let I;u=c=!1,typeof C=="function"?(C(r.state.value[t]),I={type:bd.patchFunction,storeId:t,events:h}):(h0(r.state.value[t],C),I={type:bd.patchObject,payload:C,storeId:t,events:h});const E=m=Symbol();Wn().then(()=>{m===E&&(u=!0)}),c=!0,Fl(d,I,r.state.value[t])}const y=s?function(){const{state:I}=n,E=I?I():{};this.$patch(M=>{Ao(M,E)})}:vD;function v(){o.stop(),d=[],f=[],r._s.delete(t)}function _(C,I){return function(){Bg(r);const E=Array.from(arguments),M=[],F=[];function N(D){M.push(D)}function k(D){F.push(D)}Fl(f,{args:E,name:C,store:w,after:N,onError:k});let R;try{R=I.apply(this&&this.$id===t?this:w,E)}catch(D){throw Fl(F,D),D}return R instanceof Promise?R.then(D=>(Fl(M,D),D)).catch(D=>(Fl(F,D),Promise.reject(D))):(Fl(M,R),R)}}const b={_p:r,$id:t,$onAction:GE.bind(null,f),$patch:g,$reset:y,$subscribe(C,I={}){const E=GE(d,C,I.detached,()=>M()),M=o.run(()=>It(()=>r.state.value[t],F=>{(I.flush==="sync"?c:u)&&C({storeId:t,type:bd.direct,events:h},F)},Ao({},l,I)));return E},$dispose:v},w=Dn(b);r._s.set(t,w);const x=(r._a&&r._a.runWithContext||$8)(()=>r._e.run(()=>(o=vg()).run(e)));for(const C in x){const I=x[C];if(dn(I)&&!U8(I)||As(I))s||(p&&F8(I)&&(dn(I)?I.value=p[C]:h0(I,p[C])),r.state.value[t][C]=I);else if(typeof I=="function"){const E=_(C,I);x[C]=E,a.actions[C]=I}}return Ao(w,x),Ao(_t(w),x),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:C=>{g(I=>{Ao(I,C)})}}),r._p.forEach(C=>{Ao(w,o.run(()=>C({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),u=!0,c=!0,w}function bD(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=lk();return a=a||(u?Zr(gD,null):null),a&&Bg(a),a=mD,a._s.has(r)||(s?yD(r,e,i,a):V8(r,i,a)),a._s.get(r)}return o.$id=r,o}function tn(t){{t=_t(t);const e={};for(const n in t){const r=t[n];(dn(r)||As(r))&&(e[n]=Fu(t,n))}return e}}const YE=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var B8=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),YE(l,e))}),e.$subscribe(()=>{a.forEach(l=>{YE(l,e)})})}};const wD=M8();wD.use(B8);const qr=class qr{constructor(e,n,r={}){qr.log(r.debug,n),r.route&&KT.push({name:r.route}),C6({title:e,type:e.toLowerCase(),text:n},5e3)}};ya(qr,"success",(e,n={})=>new qr("Success",e,n)),ya(qr,"warning",(e,n={})=>new qr("Warning",e,n)),ya(qr,"error",(e,n={})=>new qr("Error",e,n)),ya(qr,"generalError",(e,n)=>new qr("Error",(n==null?void 0:n.message)||_D,{debug:e})),ya(qr,"firebaseError",(e,n)=>(qr.log(e,n),n instanceof Di?n.message=wy[n.code]:n instanceof Error&&Object.keys(wy).includes(n.name)?n.message=wy[n.name]:n=void 0,qr.generalError(e,n))),ya(qr,"log",(e,n)=>{e&&console.log(n)});let qe=qr;const _D="Something went wrong",wy={"":_D,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var j8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue,U1=U1||{},ft=j8||self;function jg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Jf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function H8(t){return Object.prototype.hasOwnProperty.call(t,_y)&&t[_y]||(t[_y]=++W8)}var _y="closure_uid_"+(1e9*Math.random()>>>0),W8=0;function K8(t,e,n){return t.call.apply(t.bind,arguments)}function z8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ur(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ur=K8:Ur=z8,Ur.apply(null,arguments)}function Yh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function fa(){this.s=this.s,this.o=this.o}var G8=0;fa.prototype.s=!1;fa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),G8!=0)&&H8(this)};fa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function V1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(jg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Vr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vr.prototype.h=function(){this.defaultPrevented=!0};var Y8=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ft.addEventListener("test",()=>{},e),ft.removeEventListener("test",()=>{},e)}catch{}return t}();function nf(t){return/^[\s\xa0]*$/.test(t)}function Hg(){var t=ft.navigator;return t&&(t=t.userAgent)?t:""}function bs(t){return Hg().indexOf(t)!=-1}function B1(t){return B1[" "](t),t}B1[" "]=function(){};function q8(t,e){var n=BB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var X8=bs("Opera"),Ku=bs("Trident")||bs("MSIE"),SD=bs("Edge"),p0=SD||Ku,ED=bs("Gecko")&&!(Hg().toLowerCase().indexOf("webkit")!=-1&&!bs("Edge"))&&!(bs("Trident")||bs("MSIE"))&&!bs("Edge"),Q8=Hg().toLowerCase().indexOf("webkit")!=-1&&!bs("Edge");function ID(){var t=ft.document;return t?t.documentMode:void 0}var m0;e:{var Ty="",Sy=function(){var t=Hg();if(ED)return/rv:([^\);]+)(\)|;)/.exec(t);if(SD)return/Edge\/([\d\.]+)/.exec(t);if(Ku)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Q8)return/WebKit\/(\S+)/.exec(t);if(X8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Sy&&(Ty=Sy?Sy[1]:""),Ku){var Ey=ID();if(Ey!=null&&Ey>parseFloat(Ty)){m0=String(Ey);break e}}m0=Ty}var g0;if(ft.document&&Ku){var XE=ID();g0=XE||parseInt(m0,10)||void 0}else g0=void 0;var J8=g0;function rf(t,e){if(Vr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ED){e:{try{B1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Z8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rf.$.h.call(this)}}gr(rf,Vr);var Z8={2:"touch",3:"pen",4:"mouse"};rf.prototype.h=function(){rf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zf="closure_listenable_"+(1e6*Math.random()|0),eB=0;function tB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++eB,this.fa=this.ia=!1}function Wg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function j1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nB(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function CD(t){const e={};for(const n in t)e[n]=t[n];return e}const QE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<QE.length;s++)n=QE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kg(t){this.src=t,this.g={},this.h=0}Kg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=y0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new tB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function v0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=TD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function y0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var H1="closure_lm_"+(1e6*Math.random()|0),Iy={};function AD(t,e,n,r,i){if(r&&r.once)return kD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AD(t,e[s],n,r,i);return null}return n=z1(n),t&&t[Zf]?t.O(e,n,Jf(r)?!!r.capture:!!r,i):PD(t,e,n,!1,r,i)}function PD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Jf(i)?!!i.capture:!!i,a=K1(t);if(a||(t[H1]=a=new Kg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=rB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Y8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(DD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rB(){function t(n){return e.call(t.src,t.listener,n)}const e=iB;return t}function kD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kD(t,e[s],n,r,i);return null}return n=z1(n),t&&t[Zf]?t.P(e,n,Jf(r)?!!r.capture:!!r,i):PD(t,e,n,!0,r,i)}function xD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xD(t,e[s],n,r,i);else r=Jf(r)?!!r.capture:!!r,n=z1(n),t&&t[Zf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=y0(s,n,r,i),-1<n&&(Wg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=K1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=y0(e,n,r,i)),(n=-1<t?e[t]:null)&&W1(n))}function W1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zf])v0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(DD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=K1(e))?(v0(n,t),n.h==0&&(n.src=null,e[H1]=null)):Wg(t)}}}function DD(t){return t in Iy?Iy[t]:Iy[t]="on"+t}function iB(t,e){if(t.fa)t=!0;else{e=new rf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&W1(t),t=n.call(r,e)}return t}function K1(t){return t=t[H1],t instanceof Kg?t:null}var Cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function z1(t){return typeof t=="function"?t:(t[Cy]||(t[Cy]=function(e){return t.handleEvent(e)}),t[Cy])}function mr(){fa.call(this),this.i=new Kg(this),this.S=this,this.J=null}gr(mr,fa);mr.prototype[Zf]=!0;mr.prototype.removeEventListener=function(t,e,n,r){xD(this,t,e,n,r)};function Cr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vr(e,t);else if(e instanceof Vr)e.target=e.target||t;else{var i=e;e=new Vr(r,t),OD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=qh(o,r,!0,e)&&i}if(o=e.g=t,i=qh(o,r,!0,e)&&i,i=qh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=qh(o,r,!1,e)&&i}mr.prototype.N=function(){if(mr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wg(n[r]);delete t.g[e],t.h--}}this.J=null};mr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};mr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function qh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&v0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var G1=ft.JSON.stringify;class sB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function oB(){var t=Y1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class aB{constructor(){this.h=this.g=null}add(e,n){const r=RD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var RD=new sB(()=>new lB,t=>t.reset());class lB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function uB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function cB(t){ft.setTimeout(()=>{throw t},0)}let sf,of=!1,Y1=new aB,ND=()=>{const t=ft.Promise.resolve(void 0);sf=()=>{t.then(dB)}};var dB=()=>{for(var t;t=oB();){try{t.h.call(t.g)}catch(n){cB(n)}var e=RD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}of=!1};function zg(t,e){mr.call(this),this.h=t||1,this.g=e||ft,this.j=Ur(this.qb,this),this.l=Date.now()}gr(zg,mr);Ue=zg.prototype;Ue.ga=!1;Ue.T=null;Ue.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cr(this,"tick"),this.ga&&(q1(this),this.start()))}};Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function q1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ue.N=function(){zg.$.N.call(this),q1(this),delete this.g};function X1(t,e,n){if(typeof t=="function")n&&(t=Ur(t,n));else if(t&&typeof t.handleEvent=="function")t=Ur(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ft.setTimeout(t,e||0)}function MD(t){t.g=X1(()=>{t.g=null,t.i&&(t.i=!1,MD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class fB extends fa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MD(this)}N(){super.N(),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function af(t){fa.call(this),this.h=t,this.g={}}gr(af,fa);var JE=[];function $D(t,e,n,r){Array.isArray(n)||(n&&(JE[0]=n.toString()),n=JE);for(var i=0;i<n.length;i++){var s=AD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function LD(t){j1(t.g,function(e,n){this.g.hasOwnProperty(n)&&W1(e)},t),t.g={}}af.prototype.N=function(){af.$.N.call(this),LD(this)};af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gg(){this.g=!0}Gg.prototype.Ea=function(){this.g=!1};function hB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function pB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function au(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+gB(t,n)+(r?" "+r:"")})}function mB(t,e){t.info(function(){return"TIMEOUT: "+e})}Gg.prototype.info=function(){};function gB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return G1(n)}catch{return e}}var Ol={},ZE=null;function Yg(){return ZE=ZE||new mr}Ol.Ta="serverreachability";function FD(t){Vr.call(this,Ol.Ta,t)}gr(FD,Vr);function lf(t){const e=Yg();Cr(e,new FD(e))}Ol.STAT_EVENT="statevent";function UD(t,e){Vr.call(this,Ol.STAT_EVENT,t),this.stat=e}gr(UD,Vr);function Qr(t){const e=Yg();Cr(e,new UD(e,t))}Ol.Ua="timingevent";function VD(t,e){Vr.call(this,Ol.Ua,t),this.size=e}gr(VD,Vr);function eh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ft.setTimeout(function(){t()},e)}var qg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Q1(){}Q1.prototype.h=null;function eI(t){return t.h||(t.h=t.i())}function jD(){}var th={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function J1(){Vr.call(this,"d")}gr(J1,Vr);function Z1(){Vr.call(this,"c")}gr(Z1,Vr);var b0;function Xg(){}gr(Xg,Q1);Xg.prototype.g=function(){return new XMLHttpRequest};Xg.prototype.i=function(){return{}};b0=new Xg;function nh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new af(this),this.P=vB,t=p0?125:void 0,this.V=new zg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new HD}function HD(){this.i=null,this.g="",this.h=!1}var vB=45e3,w0={},vm={};Ue=nh.prototype;Ue.setTimeout=function(t){this.P=t};function _0(t,e,n){t.L=1,t.v=Jg(io(e)),t.s=n,t.S=!0,WD(t,null)}function WD(t,e){t.G=Date.now(),rh(t),t.A=io(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),JD(n.i,"t",r),t.C=0,n=t.l.J,t.h=new HD,t.g=bR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new fB(Ur(t.Pa,t,t.g),t.O)),$D(t.U,t.g,"readystatechange",t.nb),e=t.I?CD(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),lf(),hB(t.j,t.u,t.A,t.m,t.W,t.s)}Ue.nb=function(t){t=t.target;const e=this.M;e&&Ts(t)==3?e.l():this.Pa(t)};Ue.Pa=function(t){try{if(t==this.g)e:{const c=Ts(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||p0||this.g&&(this.h.h||this.g.ja()||iI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?lf(3):lf(2)),Qg(this);var n=this.g.da();this.ca=n;t:if(KD(this)){var r=iI(this.g);t="";var i=r.length,s=Ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$a(this),wd(this);var o="";break t}this.h.i=new ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,pB(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nf(a)){var u=a;break t}}u=null}if(n=u)au(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,T0(this,n);else{this.i=!1,this.o=3,Qr(12),$a(this),wd(this);break e}}this.S?(zD(this,c,o),p0&&this.i&&c==3&&($D(this.U,this.V,"tick",this.mb),this.V.start())):(au(this.j,this.m,o,null),T0(this,o)),c==4&&$a(this),this.i&&!this.J&&(c==4?mR(this.l,this):(this.i=!1,rh(this)))}else FB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Qr(12)):(this.o=0,Qr(13)),$a(this),wd(this)}}}catch{}finally{}};function KD(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function zD(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=yB(t,n),i==vm){e==4&&(t.o=4,Qr(14),r=!1),au(t.j,t.m,null,"[Incomplete Response]");break}else if(i==w0){t.o=4,Qr(15),au(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else au(t.j,t.m,i,null),T0(t,i);KD(t)&&i!=vm&&i!=w0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Qr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),s_(e),e.M=!0,Qr(11))):(au(t.j,t.m,n,"[Invalid Chunked Response]"),$a(t),wd(t))}Ue.mb=function(){if(this.g){var t=Ts(this.g),e=this.g.ja();this.C<e.length&&(Qg(this),zD(this,t,e),this.i&&t!=4&&rh(this))}};function yB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vm:(n=Number(e.substring(n,r)),isNaN(n)?w0:(r+=1,r+n>e.length?vm:(e=e.slice(r,r+n),t.C=r+n,e)))}Ue.cancel=function(){this.J=!0,$a(this)};function rh(t){t.Y=Date.now()+t.P,GD(t,t.P)}function GD(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=eh(Ur(t.lb,t),e)}function Qg(t){t.B&&(ft.clearTimeout(t.B),t.B=null)}Ue.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(mB(this.j,this.A),this.L!=2&&(lf(),Qr(17)),$a(this),this.o=2,wd(this)):GD(this,this.Y-t)};function wd(t){t.l.H==0||t.J||mR(t.l,t)}function $a(t){Qg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,q1(t.V),LD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function T0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||S0(n.i,t))){if(!t.K&&S0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)wm(n),tv(n);else break e;i_(n),Qr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=eh(Ur(n.ib,n),6e3));if(1>=tR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else La(n,11)}else if((t.K||n.g==t)&&wm(n),!nf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(e_(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,vn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=yR(r,r.J?r.pa:null,r.Y),o.K){nR(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Qg(a),rh(a)),r.g=o}else hR(r);0<n.j.length&&nv(n)}else u[0]!="stop"&&u[0]!="close"||La(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?La(n,7):r_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}lf(4)}catch{}}function bB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(jg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function wB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(jg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function YD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=wB(t),r=bB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var qD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _B(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wa){this.h=t.h,ym(this,t.j),this.s=t.s,this.g=t.g,bm(this,t.m),this.l=t.l;var e=t.i,n=new uf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),tI(this,n),this.o=t.o}else t&&(e=String(t).match(qD))?(this.h=!1,ym(this,e[1]||"",!0),this.s=Jc(e[2]||""),this.g=Jc(e[3]||"",!0),bm(this,e[4]),this.l=Jc(e[5]||"",!0),tI(this,e[6]||"",!0),this.o=Jc(e[7]||"")):(this.h=!1,this.i=new uf(null,this.h))}Wa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zc(e,nI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Zc(e,nI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Zc(n,n.charAt(0)=="/"?EB:SB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zc(n,CB)),t.join("")};function io(t){return new Wa(t)}function ym(t,e,n){t.j=n?Jc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tI(t,e,n){e instanceof uf?(t.i=e,OB(t.i,t.h)):(n||(e=Zc(e,IB)),t.i=new uf(e,t.h))}function vn(t,e,n){t.i.set(e,n)}function Jg(t){return vn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Jc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,TB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function TB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var nI=/[#\/\?@]/g,SB=/[#\?:]/g,EB=/[#\?]/g,IB=/[#\?@]/g,CB=/#/g;function uf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ha(t){t.g||(t.g=new Map,t.h=0,t.i&&_B(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ue=uf.prototype;Ue.add=function(t,e){ha(this),this.i=null,t=yc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function XD(t,e){ha(t),e=yc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function QD(t,e){return ha(t),e=yc(t,e),t.g.has(e)}Ue.forEach=function(t,e){ha(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ue.ta=function(){ha(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ue.Z=function(t){ha(this);let e=[];if(typeof t=="string")QD(this,t)&&(e=e.concat(this.g.get(yc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ue.set=function(t,e){return ha(this),this.i=null,t=yc(this,t),QD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ue.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function JD(t,e,n){XD(t,e),0<n.length&&(t.i=null,t.g.set(yc(t,e),V1(n)),t.h+=n.length)}Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function yc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OB(t,e){e&&!t.j&&(ha(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(XD(this,r),JD(this,i,n))},t)),t.j=e}var AB=class{constructor(t,e){this.g=t,this.map=e}};function ZD(t){this.l=t||PB,ft.PerformanceNavigationTiming?(t=ft.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ft.g&&ft.g.Ka&&ft.g.Ka()&&ft.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PB=10;function eR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tR(t){return t.h?1:t.g?t.g.size:0}function S0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function e_(t,e){t.g?t.g.add(e):t.h=e}function nR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ZD.prototype.cancel=function(){if(this.i=rR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function rR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return V1(t.i)}var kB=class{stringify(t){return ft.JSON.stringify(t,void 0)}parse(t){return ft.JSON.parse(t,void 0)}};function xB(){this.g=new kB}function DB(t,e,n){const r=n||"";try{YD(t,function(i,s){let o=i;Jf(i)&&(o=G1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function RB(t,e){const n=new Gg;if(ft.Image){const r=new Image;r.onload=Yh(Xh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Yh(Xh,n,r,"TestLoadImage: error",!1,e),r.onabort=Yh(Xh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yh(Xh,n,r,"TestLoadImage: timeout",!1,e),ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ih(t){this.l=t.fc||null,this.j=t.ob||!1}gr(ih,Q1);ih.prototype.g=function(){return new Zg(this.l,this.j)};ih.prototype.i=function(t){return function(){return t}}({});function Zg(t,e){mr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=t_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gr(Zg,mr);var t_=0;Ue=Zg.prototype;Ue.open=function(t,e){if(this.readyState!=t_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cf(this)};Ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sh(this)),this.readyState=t_};Ue.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ft.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function iR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ue.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sh(this):cf(this),this.readyState==3&&iR(this)}};Ue.Za=function(t){this.g&&(this.response=this.responseText=t,sh(this))};Ue.Ya=function(t){this.g&&(this.response=t,sh(this))};Ue.ka=function(){this.g&&sh(this)};function sh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cf(t)}Ue.setRequestHeader=function(t,e){this.v.append(t,e)};Ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Zg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var NB=ft.JSON.parse;function Un(t){mr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sR,this.L=this.M=!1}gr(Un,mr);var sR="",MB=/^https?$/i,$B=["POST","PUT"];Ue=Un.prototype;Ue.Oa=function(t){this.M=t};Ue.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():b0.g(),this.C=this.u?eI(this.u):eI(b0),this.g.onreadystatechange=Ur(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){rI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ft.FormData&&t instanceof ft.FormData,!(0<=TD($B,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lR(this),0<this.B&&((this.L=LB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.ua,this)):this.A=X1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){rI(this,s)}};function LB(t){return Ku&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ue.ua=function(){typeof U1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))};function rI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oR(t),ev(t)}function oR(t){t.F||(t.F=!0,Cr(t,"complete"),Cr(t,"error"))}Ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Cr(this,"complete"),Cr(this,"abort"),ev(this))};Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ev(this,!0)),Un.$.N.call(this)};Ue.La=function(){this.s||(this.G||this.v||this.l?aR(this):this.kb())};Ue.kb=function(){aR(this)};function aR(t){if(t.h&&typeof U1<"u"&&(!t.C[1]||Ts(t)!=4||t.da()!=2)){if(t.v&&Ts(t)==4)X1(t.La,0,t);else if(Cr(t,"readystatechange"),Ts(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(qD)[1]||null;!i&&ft.self&&ft.self.location&&(i=ft.self.location.protocol.slice(0,-1)),r=!MB.test(i?i.toLowerCase():"")}n=r}if(n)Cr(t,"complete"),Cr(t,"success");else{t.m=6;try{var s=2<Ts(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",oR(t)}}finally{ev(t)}}}}function ev(t,e){if(t.g){lR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Cr(t,"ready");try{n.onreadystatechange=r}catch{}}}function lR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ft.clearTimeout(t.A),t.A=null)}Ue.isActive=function(){return!!this.g};function Ts(t){return t.g?t.g.readyState:0}Ue.da=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}};Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ue.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),NB(e)}};function iI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case sR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function FB(t){const e={};t=(t.g&&2<=Ts(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(nf(t[r]))continue;var n=uB(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}nB(e,function(r){return r.join(", ")})}Ue.Ia=function(){return this.m};Ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uR(t){let e="";return j1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function n_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):vn(t,e,n))}function xc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cR(t){this.Ga=0,this.j=[],this.l=new Gg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xc("baseRetryDelayMs",5e3,t),this.hb=xc("retryDelaySeedMs",1e4,t),this.eb=xc("forwardChannelMaxRetries",2,t),this.xa=xc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ZD(t&&t.concurrentRequestLimit),this.Ja=new xB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ue=cR.prototype;Ue.ra=8;Ue.H=1;function r_(t){if(dR(t),t.H==3){var e=t.W++,n=io(t.I);if(vn(n,"SID",t.K),vn(n,"RID",e),vn(n,"TYPE","terminate"),oh(t,n),e=new nh(t,t.l,e),e.L=2,e.v=Jg(io(n)),n=!1,ft.navigator&&ft.navigator.sendBeacon)try{n=ft.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ft.Image&&(new Image().src=e.v,n=!0),n||(e.g=bR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),rh(e)}vR(t)}function tv(t){t.g&&(s_(t),t.g.cancel(),t.g=null)}function dR(t){tv(t),t.u&&(ft.clearTimeout(t.u),t.u=null),wm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ft.clearTimeout(t.m),t.m=null)}function nv(t){if(!eR(t.i)&&!t.m){t.m=!0;var e=t.Na;sf||ND(),of||(sf(),of=!0),Y1.add(e,t),t.C=0}}function UB(t,e){return tR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=eh(Ur(t.Na,t,e),gR(t,t.C)),t.C++,!0)}Ue.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new nh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=CD(s),OD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fR(this,i,e),n=io(this.I),vn(n,"RID",t),vn(n,"CVER",22),this.F&&vn(n,"X-HTTP-Session-Id",this.F),oh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(uR(s)))+"&"+e:this.o&&n_(n,this.o,s)),e_(this.i,i),this.bb&&vn(n,"TYPE","init"),this.P?(vn(n,"$req",e),vn(n,"SID","null"),i.aa=!0,_0(i,n,null)):_0(i,n,e),this.H=2}}else this.H==3&&(t?sI(this,t):this.j.length==0||eR(this.i)||sI(this))};function sI(t,e){var n;e?n=e.m:n=t.W++;const r=io(t.I);vn(r,"SID",t.K),vn(r,"RID",n),vn(r,"AID",t.V),oh(t,r),t.o&&t.s&&n_(r,t.o,t.s),n=new nh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=fR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),e_(t.i,n),_0(n,r,e)}function oh(t,e){t.na&&j1(t.na,function(n,r){vn(e,r,n)}),t.h&&YD({},function(n,r){vn(e,r,n)})}function fR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ur(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{DB(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function hR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sf||ND(),of||(sf(),of=!0),Y1.add(e,t),t.A=0}}function i_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=eh(Ur(t.Ma,t),gR(t,t.A)),t.A++,!0)}Ue.Ma=function(){if(this.u=null,pR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=eh(Ur(this.jb,this),t)}};Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qr(10),tv(this),pR(this))};function s_(t){t.B!=null&&(ft.clearTimeout(t.B),t.B=null)}function pR(t){t.g=new nh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=io(t.wa);vn(e,"RID","rpc"),vn(e,"SID",t.K),vn(e,"AID",t.V),vn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vn(e,"TO",t.qa),vn(e,"TYPE","xmlhttp"),oh(t,e),t.o&&t.s&&n_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Jg(io(e)),n.s=null,n.S=!0,WD(n,t)}Ue.ib=function(){this.v!=null&&(this.v=null,tv(this),i_(this),Qr(19))};function wm(t){t.v!=null&&(ft.clearTimeout(t.v),t.v=null)}function mR(t,e){var n=null;if(t.g==e){wm(t),s_(t),t.g=null;var r=2}else if(S0(t.i,e))n=e.F,nR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Yg(),Cr(r,new VD(r,n)),nv(t)}else hR(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&UB(t,e)||r==2&&i_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:La(t,5);break;case 4:La(t,10);break;case 3:La(t,6);break;default:La(t,2)}}}function gR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function La(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ur(t.pb,t);n||(n=new Wa("//www.google.com/images/cleardot.gif"),ft.location&&ft.location.protocol=="http"||ym(n,"https"),Jg(n)),RB(n.toString(),r)}else Qr(2);t.H=0,t.h&&t.h.za(e),vR(t),dR(t)}Ue.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qr(2)):(this.l.info("Failed to ping google.com"),Qr(1))};function vR(t){if(t.H=0,t.ma=[],t.h){const e=rR(t.i);(e.length!=0||t.j.length!=0)&&(qE(t.ma,e),qE(t.ma,t.j),t.i.i.length=0,V1(t.j),t.j.length=0),t.h.ya()}}function yR(t,e,n){var r=n instanceof Wa?io(n):new Wa(n);if(r.g!="")e&&(r.g=e+"."+r.g),bm(r,r.m);else{var i=ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Wa(null);r&&ym(s,r),e&&(s.g=e),i&&bm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&vn(r,n,e),vn(r,"VER",t.ra),oh(t,r),r}function bR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Un(new ih({ob:!0})):new Un(t.va),e.Oa(t.J),e}Ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function wR(){}Ue=wR.prototype;Ue.Ba=function(){};Ue.Aa=function(){};Ue.za=function(){};Ue.ya=function(){};Ue.isActive=function(){return!0};Ue.Va=function(){};function _m(){if(Ku&&!(10<=Number(J8)))throw Error("Environmental error: no available transport.")}_m.prototype.g=function(t,e){return new ki(t,e)};function ki(t,e){mr.call(this),this.g=new cR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new bc(this)}gr(ki,mr);ki.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=yR(t,null,t.Y),nv(t)};ki.prototype.close=function(){r_(this.g)};ki.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=G1(t),t=n);e.j.push(new AB(e.fb++,t)),e.H==3&&nv(e)};ki.prototype.N=function(){this.g.h=null,delete this.j,r_(this.g),delete this.g,ki.$.N.call(this)};function _R(t){J1.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gr(_R,J1);function TR(){Z1.call(this),this.status=1}gr(TR,Z1);function bc(t){this.g=t}gr(bc,wR);bc.prototype.Ba=function(){Cr(this.g,"a")};bc.prototype.Aa=function(t){Cr(this.g,new _R(t))};bc.prototype.za=function(t){Cr(this.g,new TR)};bc.prototype.ya=function(){Cr(this.g,"b")};function VB(){this.blockSize=-1}function ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gr(ds,VB);ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Oy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ds.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Oy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Oy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Oy(this,r),i=0;break}}this.h=i,this.i+=e};ds.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function nn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var BB={};function o_(t){return-128<=t&&128>t?q8(t,function(e){return new nn([e|0],0>e?-1:0)}):new nn([t|0],0>t?-1:0)}function Ss(t){if(isNaN(t)||!isFinite(t))return Cu;if(0>t)return Tr(Ss(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=E0;return new nn(e,0)}function SR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Tr(SR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ss(Math.pow(e,8)),r=Cu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ss(Math.pow(e,s)),r=r.R(s).add(Ss(o))):(r=r.R(n),r=r.add(Ss(o)))}return r}var E0=4294967296,Cu=o_(0),I0=o_(1),oI=o_(16777216);Ue=nn.prototype;Ue.ea=function(){if(Li(this))return-Tr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:E0+r)*e,e*=E0}return t};Ue.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zs(this))return"0";if(Li(this))return"-"+Tr(this).toString(t);for(var e=Ss(Math.pow(t,6)),n=this,r="";;){var i=Sm(n,e).g;n=Tm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ue.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Li(t){return t.h==-1}Ue.X=function(t){return t=Tm(this,t),Li(t)?-1:zs(t)?0:1};function Tr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new nn(n,~t.h).add(I0)}Ue.abs=function(){return Li(this)?Tr(this):this};Ue.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new nn(n,n[n.length-1]&-2147483648?-1:0)};function Tm(t,e){return t.add(Tr(e))}Ue.R=function(t){if(zs(this)||zs(t))return Cu;if(Li(this))return Li(t)?Tr(this).R(Tr(t)):Tr(Tr(this).R(t));if(Li(t))return Tr(this.R(Tr(t)));if(0>this.X(oI)&&0>t.X(oI))return Ss(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Qh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Qh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new nn(n,0)};function Qh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Dc(t,e){this.g=t,this.h=e}function Sm(t,e){if(zs(e))throw Error("division by zero");if(zs(t))return new Dc(Cu,Cu);if(Li(t))return e=Sm(Tr(t),e),new Dc(Tr(e.g),Tr(e.h));if(Li(e))return e=Sm(t,Tr(e)),new Dc(Tr(e.g),e.h);if(30<t.g.length){if(Li(t)||Li(e))throw Error("slowDivide_ only works with positive integers.");for(var n=I0,r=e;0>=r.X(t);)n=aI(n),r=aI(r);var i=Ul(n,1),s=Ul(r,1);for(r=Ul(r,2),n=Ul(n,2);!zs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ul(r,1),n=Ul(n,1)}return e=Tm(t,i.R(e)),new Dc(i,e)}for(i=Cu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ss(n),o=s.R(e);Li(o)||0<o.X(t);)n-=r,s=Ss(n),o=s.R(e);zs(s)&&(s=I0),i=i.add(s),t=Tm(t,o)}return new Dc(i,t)}Ue.gb=function(t){return Sm(this,t).h};Ue.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new nn(n,this.h&t.h)};Ue.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new nn(n,this.h|t.h)};Ue.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new nn(n,this.h^t.h)};function aI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new nn(n,t.h)}function Ul(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new nn(i,t.h)}_m.prototype.createWebChannel=_m.prototype.g;ki.prototype.send=ki.prototype.u;ki.prototype.open=ki.prototype.m;ki.prototype.close=ki.prototype.close;qg.NO_ERROR=0;qg.TIMEOUT=8;qg.HTTP_ERROR=6;BD.COMPLETE="complete";jD.EventType=th;th.OPEN="a";th.CLOSE="b";th.ERROR="c";th.MESSAGE="d";mr.prototype.listen=mr.prototype.O;Un.prototype.listenOnce=Un.prototype.P;Un.prototype.getLastError=Un.prototype.Sa;Un.prototype.getLastErrorCode=Un.prototype.Ia;Un.prototype.getStatus=Un.prototype.da;Un.prototype.getResponseJson=Un.prototype.Wa;Un.prototype.getResponseText=Un.prototype.ja;Un.prototype.send=Un.prototype.ha;Un.prototype.setWithCredentials=Un.prototype.Oa;ds.prototype.digest=ds.prototype.l;ds.prototype.reset=ds.prototype.reset;ds.prototype.update=ds.prototype.j;nn.prototype.add=nn.prototype.add;nn.prototype.multiply=nn.prototype.R;nn.prototype.modulo=nn.prototype.gb;nn.prototype.compare=nn.prototype.X;nn.prototype.toNumber=nn.prototype.ea;nn.prototype.toString=nn.prototype.toString;nn.prototype.getBits=nn.prototype.D;nn.fromNumber=Ss;nn.fromString=SR;var jB=function(){return new _m},HB=function(){return Yg()},Ay=qg,WB=BD,KB=Ol,lI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zB=ih,Jh=jD,GB=Un,YB=ds,Ou=nn;const uI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new gc("@firebase/firestore");function cI(){return cl.logLevel}function Je(t,...e){if(cl.logLevel<=Ft.DEBUG){const n=e.map(a_);cl.debug(`Firestore (${wc}): ${t}`,...n)}}function so(t,...e){if(cl.logLevel<=Ft.ERROR){const n=e.map(a_);cl.error(`Firestore (${wc}): ${t}`,...n)}}function zu(t,...e){if(cl.logLevel<=Ft.WARN){const n=e.map(a_);cl.warn(`Firestore (${wc}): ${t}`,...n)}}function a_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t="Unexpected state"){const e=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: `+t;throw so(e),new Error(e)}function bn(t,e){t||dt()}function gt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let qB=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kr.UNAUTHENTICATED))}shutdown(){}},XB=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},QB=class{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new eo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new eo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new eo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bn(typeof r.accessToken=="string"),new ER(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string"),new kr(e)}},JB=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},ZB=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new JB(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ej=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},tj=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bn(typeof n.token=="string"),this.T=n.token,new ej(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IR=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Yt(t,e){return t<e?-1:t>e?1:0}function Gu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xn=class kp{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $e(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kp.fromMillis(Date.now())}static fromDate(e){return kp.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new kp(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vt=class xp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xp(e)}static min(){return new xp(new Xn(0,0))}static max(){return new xp(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CR=class C0{constructor(e,n,r){n===void 0?n=0:n>e.length&&dt(),r===void 0?r=e.length-n:r>e.length-n&&dt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return C0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof C0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fn=class Dp extends CR{construct(e,n,r){return new Dp(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dp(n)}static emptyPath(){return new Dp([])}};const rj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let Ms=class Zl extends CR{construct(e,n,r){return new Zl(e,n,r)}static isValidIdentifier(e){return rj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zl(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $e(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $e(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $e(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $e(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zl(n)}static emptyPath(){return new Zl([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rt=class ed{constructor(e){this.path=e}static fromPath(e){return new ed(Fn.fromString(e))}static fromName(e){return new ed(Fn.fromString(e).popFirst(5))}static empty(){return new ed(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ed(new Fn(e.slice()))}};function ij(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(r===1e9?new Xn(n+1,0):new Xn(n,r));return new df(i,rt.empty(),e)}function sj(t){return new df(t.readTime,t.key,-1)}let df=class O0{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new O0(vt.min(),rt.empty(),-1)}static max(){return new O0(vt.max(),rt.empty(),-1)}};function oj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let lj=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==aj)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ne=class si{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new si((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof si?n:si.resolve(n)}catch(n){return si.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):si.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):si.reject(n)}static resolve(e){return new si((n,r)=>{n(e)})}static reject(e){return new si((n,r)=>{r(e)})}static waitFor(e){return new si((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=si.resolve(!1);for(const r of e)n=n.next(i=>i?si.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new si((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new si((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function lh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l_=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};l_.ct=-1;function rv(t){return t==null}function Em(t){return t===0&&1/t==-1/0}function uj(t){return typeof t=="number"&&Number.isInteger(t)&&!Em(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zn=class A0{constructor(e,n){this.comparator=e,this.root=n||_r.EMPTY}insert(e,n){return new A0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new A0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}},Zh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}};class _r{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_r.RED,this.left=i??_r.EMPTY,this.right=s??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _r(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _r(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai=class P0{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fI(this.data.getIterator())}getIteratorFrom(e){return new fI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof P0)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new P0(this.comparator);return n.data=e,n}},fI=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es=class k0{constructor(e){this.fields=e,e.sort(Ms.comparator)}static empty(){return new k0([])}unionWith(e){let n=new Ai(Ms.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new k0(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi=class x0{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new AR("Invalid base64 string: "+i):i}}(e);return new x0(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new x0(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xi.EMPTY_BYTE_STRING=new xi("");const cj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(t){if(bn(!!t),typeof t=="string"){let e=0;const n=cj.exec(t);if(bn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qn(t.seconds),nanos:qn(t.nanos)}}function qn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dl(t){return typeof t=="string"?xi.fromBase64String(t):xi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function u_(t){const e=t.mapValue.fields.__previous_value__;return iv(e)?u_(e):e}function ff(t){const e=sa(t.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dj=class{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},PR=class D0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new D0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof D0&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iv(t)?4:fj(t)?9007199254740991:10:dt()}function $s(t,e){if(t===e)return!0;const n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ff(t).isEqual(ff(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=sa(r.timestampValue),o=sa(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return dl(r.bytesValue).isEqual(dl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return qn(r.geoPointValue.latitude)===qn(i.geoPointValue.latitude)&&qn(r.geoPointValue.longitude)===qn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qn(r.integerValue)===qn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=qn(r.doubleValue),o=qn(i.doubleValue);return s===o?Em(s)===Em(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(dI(s)!==dI(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!$s(s[a],o[a])))return!1;return!0}(t,e);default:return dt()}}function hf(t,e){return(t.values||[]).find(n=>$s(n,e))!==void 0}function Yu(t,e){if(t===e)return 0;const n=fl(t),r=fl(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=qn(i.integerValue||i.doubleValue),a=qn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return hI(t.timestampValue,e.timestampValue);case 4:return hI(ff(t),ff(e));case 5:return Yt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=dl(i),a=dl(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Yt(o[l],a[l]);if(u!==0)return u}return Yt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Yt(qn(i.latitude),qn(s.latitude));return o!==0?o:Yt(qn(i.longitude),qn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Yu(o[l],a[l]);if(u)return u}return Yt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ep.mapValue&&s===ep.mapValue)return 0;if(i===ep.mapValue)return 1;if(s===ep.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Yt(a[c],u[c]);if(d!==0)return d;const f=Yu(o[a[c]],l[u[c]]);if(f!==0)return f}return Yt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw dt()}}function hI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const n=sa(t),r=sa(e),i=Yt(n.seconds,r.seconds);return i!==0?i:Yt(n.nanos,r.nanos)}function qu(t){return R0(t)}function R0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=sa(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?dl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,rt.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=R0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${R0(r.fields[a])}`;return s+"}"}(t.mapValue):dt();var e,n}function Im(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function N0(t){return!!t&&"integerValue"in t}function c_(t){return!!t&&"arrayValue"in t}function pI(t){return!!t&&"nullValue"in t}function mI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rp(t){return!!t&&"mapValue"in t}function _d(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Al(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_d(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_d(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_d(n)}setAll(e){let n=Ms.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_d(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Rp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Al(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new li(_d(this.value))}}function kR(t){const e=[];return Al(t.fields,(n,r)=>{const i=new Ms([n]);if(Rp(r)){const s=kR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo=class Ia{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ia(e,0,vt.min(),vt.min(),vt.min(),li.empty(),0)}static newFoundDocument(e,n,r,i){return new Ia(e,1,n,vt.min(),r,i,0)}static newNoDocument(e,n){return new Ia(e,2,n,vt.min(),vt.min(),li.empty(),0)}static newUnknownDocument(e,n){return new Ia(e,3,n,vt.min(),vt.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ia&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ia(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=class{constructor(e,n){this.position=e,this.inclusive=n}};function gI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=Yu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$s(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n="asc"){this.field=e,this.dir=n}}function hj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xR=class{},fr=class DR extends xR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mj(e,n,r):n==="array-contains"?new yj(e,r):n==="in"?new bj(e,r):n==="not-in"?new wj(e,r):n==="array-contains-any"?new _j(e,r):new DR(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gj(e,r):new vj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yu(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(Yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},ao=class RR extends xR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new RR(e,n)}matches(e){return NR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function NR(t){return t.op==="and"}function MR(t){return pj(t)&&NR(t)}function pj(t){for(const e of t.filters)if(e instanceof ao)return!1;return!0}function M0(t){if(t instanceof fr)return t.field.canonicalString()+t.op.toString()+qu(t.value);if(MR(t))return t.filters.map(e=>M0(e)).join(",");{const e=t.filters.map(n=>M0(n)).join(",");return`${t.op}(${e})`}}function $R(t,e){return t instanceof fr?function(n,r){return r instanceof fr&&n.op===r.op&&n.field.isEqual(r.field)&&$s(n.value,r.value)}(t,e):t instanceof ao?function(n,r){return r instanceof ao&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&$R(s,r.filters[o]),!0):!1}(t,e):void dt()}function LR(t){return t instanceof fr?function(e){return`${e.field.canonicalString()} ${e.op} ${qu(e.value)}`}(t):t instanceof ao?function(e){return e.op.toString()+" {"+e.getFilters().map(LR).join(" ,")+"}"}(t):"Filter"}let mj=class extends fr{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}},gj=class extends fr{constructor(e,n){super(e,"in",n),this.keys=FR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vj=class extends fr{constructor(e,n){super(e,"not-in",n),this.keys=FR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function FR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}let yj=class extends fr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c_(n)&&hf(n.arrayValue,this.value)}},bj=class extends fr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hf(this.value.arrayValue,n)}};class wj extends fr{constructor(e,n){super(e,"not-in",n)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hf(this.value.arrayValue,n)}}class _j extends fr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tj=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function yI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Tj(t,e,n,r,i,s,o)}function d_(t){const e=gt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>M0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qu(r)).join(",")),e.dt=n}return e.dt}function f_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$R(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vI(t.startAt,e.startAt)&&vI(t.endAt,e.endAt)}function $0(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function Sj(t,e,n,r,i,s,o,a){return new Pl(t,e,n,r,i,s,o,a)}function sv(t){return new Pl(t)}function bI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function h_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ov(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function p_(t){return t.collectionGroup!==null}function Ka(t){const e=gt(t);if(e.wt===null){e.wt=[];const n=ov(e),r=h_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Au(n)),e.wt.push(new Au(Ms.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Au(Ms.keyField(),s))}}}return e.wt}function lo(t){const e=gt(t);if(!e._t)if(e.limitType==="F")e._t=yI(e.path,e.collectionGroup,Ka(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ka(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Au(s.field,o))}const r=e.endAt?new Xu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xu(e.startAt.position,e.startAt.inclusive):null;e._t=yI(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function L0(t,e){e.getFirstInequalityField(),ov(t);const n=t.filters.concat([e]);return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cm(t,e,n){return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function av(t,e){return f_(lo(t),lo(e))&&t.limitType===e.limitType}function UR(t){return`${d_(lo(t))}|lt:${t.limitType}`}function F0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>LR(r)).join(", ")}]`),rv(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qu(r)).join(",")),`Target(${n})`}(lo(t))}; limitType=${t.limitType})`}function lv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):rt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ka(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=gI(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ka(n),r)||n.endAt&&!function(i,s,o){const a=gI(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ka(n),r))}(t,e)}function Ej(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VR(t){return(e,n)=>{let r=!1;for(const i of Ka(t)){const s=Ij(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ij(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Yu(a,l):dt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new Zn(rt.comparator);function uo(){return Cj}const BR=new Zn(rt.comparator);function td(...t){let e=BR;for(const n of t)e=e.insert(n.key,n);return e}function jR(t){let e=BR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fa(){return Td()}function HR(){return Td()}function Td(){return new _c(t=>t.toString(),(t,e)=>t.isEqual(e))}const Oj=new Zn(rt.comparator),Aj=new Ai(rt.comparator);function Et(...t){let e=Aj;for(const n of t)e=e.add(n);return e}const Pj=new Ai(Yt);function kj(){return Pj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Em(e)?"-0":e}}function KR(t){return{integerValue:""+t}}function xj(t,e){return uj(e)?KR(e):WR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this._=void 0}}function Dj(t,e,n){return t instanceof Om?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&iv(i)&&(i=u_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof pf?GR(t,e):t instanceof mf?YR(t,e):function(r,i){const s=zR(r,i),o=wI(s)+wI(r.gt);return N0(s)&&N0(r.gt)?KR(o):WR(r.serializer,o)}(t,e)}function Rj(t,e,n){return t instanceof pf?GR(t,e):t instanceof mf?YR(t,e):n}function zR(t,e){return t instanceof Am?N0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Om extends uv{}class pf extends uv{constructor(e){super(),this.elements=e}}function GR(t,e){const n=qR(e);for(const r of t.elements)n.some(i=>$s(i,r))||n.push(r);return{arrayValue:{values:n}}}class mf extends uv{constructor(e){super(),this.elements=e}}function YR(t,e){let n=qR(e);for(const r of t.elements)n=n.filter(i=>!$s(i,r));return{arrayValue:{values:n}}}class Am extends uv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function wI(t){return qn(t.integerValue||t.doubleValue)}function qR(t){return c_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Nj(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof pf&&r instanceof pf||n instanceof mf&&r instanceof mf?Gu(n.elements,r.elements,$s):n instanceof Am&&r instanceof Am?$s(n.gt,r.gt):n instanceof Om&&r instanceof Om}(t.transform,e.transform)}class Mj{constructor(e,n){this.version=e,this.transformResults=n}}class Bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cv{}function XR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m_(t.key,Bi.none()):new uh(t.key,t.data,Bi.none());{const n=t.data,r=li.empty();let i=new Ai(Ms.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pa(t.key,r,new Es(i.toArray()),Bi.none())}}function $j(t,e,n){t instanceof uh?function(r,i,s){const o=r.value.clone(),a=TI(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof pa?function(r,i,s){if(!Np(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=TI(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(QR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Sd(t,e,n,r){return t instanceof uh?function(i,s,o,a){if(!Np(i.precondition,s))return o;const l=i.value.clone(),u=SI(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pa?function(i,s,o,a){if(!Np(i.precondition,s))return o;const l=SI(i.fieldTransforms,a,s),u=s.data;return u.setAll(QR(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Np(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Lj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zR(r.transform,i||null);s!=null&&(n===null&&(n=li.empty()),n.set(r.field,s))}return n||null}function _I(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Gu(n,r,(i,s)=>Nj(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uh extends cv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pa extends cv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TI(t,e,n){const r=new Map;bn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Rj(o,a,n[i]))}return r}function SI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Dj(s,o,e))}return r}class m_ extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fj extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$j(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=XR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Et())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,(n,r)=>_I(n,r))&&Gu(this.baseMutations,e.baseMutations,(n,r)=>_I(n,r))}}class g_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bn(e.mutations.length===r.length);let i=Oj;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new g_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,kt;function jj(t){switch(t){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function JR(t){if(t===void 0)return so("GRPC error has no .code"),pe.UNKNOWN;switch(t){case zn.OK:return pe.OK;case zn.CANCELLED:return pe.CANCELLED;case zn.UNKNOWN:return pe.UNKNOWN;case zn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case zn.INTERNAL:return pe.INTERNAL;case zn.UNAVAILABLE:return pe.UNAVAILABLE;case zn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case zn.NOT_FOUND:return pe.NOT_FOUND;case zn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case zn.ABORTED:return pe.ABORTED;case zn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case zn.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(kt=zn||(zn={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return tp}static getOrCreateInstance(){return tp===null&&(tp=new v_),tp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let tp=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=new Ou([4294967295,4294967295],0);function EI(t){const e=Hj().encode(t),n=new YB;return n.update(e),new Uint8Array(n.digest())}function II(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ou([n,r],0),new Ou([i,s],0)]}class y_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nd(`Invalid padding: ${n}`);if(r<0)throw new nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ou.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ou.fromNumber(r)));return i.compare(Wj)===1&&(i=new Ou([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=EI(e),[r,i]=II(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new y_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=EI(e),[r,i]=II(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ch.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dv(vt.min(),i,new Zn(Yt),uo(),Et())}}class ch{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ch(r,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class ZR{constructor(e,n){this.targetId=e,this.Vt=n}}class e2{constructor(e,n,r=xi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class CI{constructor(){this.St=0,this.Dt=AI(),this.Ct=xi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Et(),n=Et(),r=Et();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new ch(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=AI()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Kj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=uo(),this.zt=OI(),this.Wt=new Zn(Yt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if($0(o))if(i===0){const a=new rt(o.path);this.Yt(r,a,oo.newNoDocument(a,vt.min()))}else bn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=v_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,h,p,m,g,y;const v={localCacheCount:c,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(v.bloomFilter={applied:u===0,hashCount:(f=_==null?void 0:_.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(m=(p=(h=_==null?void 0:_.bits)===null||h===void 0?void 0:h.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(y=(g=_==null?void 0:_.bits)===null||g===void 0?void 0:g.padding)!==null&&y!==void 0?y:0}),v}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=dl(s).toUint8Array()}catch(c){if(c instanceof AR)return zu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new y_(l,o,a)}catch(c){return zu(c instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&$0(a.target)){const l=new rt(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,oo.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Et();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new dv(e,n,this.Wt,this.jt,r);return this.jt=uo(),this.zt=OI(),this.Wt=new Zn(Yt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new CI,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ai(Yt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new CI),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function OI(){return new Zn(rt.comparator)}function AI(){return new Zn(rt.comparator)}const zj={asc:"ASCENDING",desc:"DESCENDING"},Gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yj={and:"AND",or:"OR"};class qj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function U0(t,e){return t.useProto3Json||rv(e)?e:{value:e}}function Pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xj(t,e){return Pm(t,e.toTimestamp())}function Ps(t){return bn(!!t),vt.fromTimestamp(function(e){const n=sa(e);return new Xn(n.seconds,n.nanos)}(t))}function b_(t,e){return function(n){return new Fn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function n2(t){const e=Fn.fromString(t);return bn(o2(e)),e}function V0(t,e){return b_(t.databaseId,e.path)}function Py(t,e){const n=n2(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(r2(n))}function B0(t,e){return b_(t.databaseId,e)}function Qj(t){const e=n2(t);return e.length===4?Fn.emptyPath():r2(e)}function j0(t){return new Fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r2(t){return bn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PI(t,e,n){return{name:V0(t,e),fields:n.value.mapValue.fields}}function Jj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(bn(u===void 0||typeof u=="string"),xi.fromBase64String(u||"")):(bn(u===void 0||u instanceof Uint8Array),xi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?pe.UNKNOWN:JR(l.code);return new $e(u,l.message||"")}(o);n=new e2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Py(t,r.document.name),s=Ps(r.document.updateTime),o=r.document.createTime?Ps(r.document.createTime):vt.min(),a=new li({mapValue:{fields:r.document.fields}}),l=oo.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Mp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Py(t,r.document),s=r.readTime?Ps(r.readTime):vt.min(),o=oo.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Mp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Py(t,r.document),s=r.removedTargetIds||[];n=new Mp([],s,i,null)}else{if(!("filter"in e))return dt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Bj(i,s),a=r.targetId;n=new ZR(a,o)}}return n}function Zj(t,e){let n;if(e instanceof uh)n={update:PI(t,e.key,e.value)};else if(e instanceof m_)n={delete:V0(t,e.key)};else if(e instanceof pa)n={update:PI(t,e.key,e.data),updateMask:l7(e.fieldMask)};else{if(!(e instanceof Fj))return dt();n={verify:V0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Om)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof pf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof mf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Am)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw dt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Xj(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:dt()}(t,e.precondition)),n}function e7(t,e){return t&&t.length>0?(bn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ps(r.updateTime):Ps(i);return s.isEqual(vt.min())&&(s=Ps(i)),new Mj(s,r.transformResults||[])}(n,e))):[]}function t7(t,e){return{documents:[B0(t,e.path)]}}function n7(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=B0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=B0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return s2(ao.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:eu(c.field),direction:s7(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=U0(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function r7(t){let e=Qj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=i2(c);return d instanceof ao&&MR(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Au(tu(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,rv(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Xu(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Xu(f,d)}(n.endAt)),Sj(e,i,o,s,a,"F",l,u)}function i7(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=tu(e.unaryFilter.field);return fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=tu(e.unaryFilter.field);return fr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tu(e.unaryFilter.field);return fr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=tu(e.unaryFilter.field);return fr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(t):t.fieldFilter!==void 0?function(e){return fr.create(tu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ao.create(e.compositeFilter.filters.map(n=>i2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(t):dt()}function s7(t){return zj[t]}function o7(t){return Gj[t]}function a7(t){return Yj[t]}function eu(t){return{fieldPath:t.canonicalString()}}function tu(t){return Ms.fromServerFormat(t.fieldPath)}function s2(t){return t instanceof fr?function(e){if(e.op==="=="){if(mI(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NAN"}};if(pI(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mI(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NAN"}};if(pI(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(e.field),op:o7(e.op),value:e.value}}}(t):t instanceof ao?function(e){const n=e.getFilters().map(r=>s2(r));return n.length===1?n[0]:{compositeFilter:{op:a7(e.op),filters:n}}}(t):dt()}function l7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function o2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_=class rd{constructor(e,n,r,i,s=vt.min(),o=vt.min(),a=xi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new rd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u7=class{constructor(e){this.fe=e}};function c7(t){const e=r7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d7=class{constructor(){this.rn=new f7}addToCollectionParentIndex(e,n){return this.rn.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(df.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(df.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}},f7=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ai(Fn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ai(Fn.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H0=class W0{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new W0(0)}static Mn(){return new W0(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h7=class{constructor(){this.changes=new _c(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,oo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m7=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sd(r.mutation,i,Es.empty(),Xn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Et()){const i=Fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=td();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Et()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=uo();const o=Td(),a=Td();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof pa)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Sd(c.mutation,u,c.mutation.getFieldMask(),Xn.now())):o.set(u.key,Es.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new p7(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Td();let i=new Zn((o,a)=>o-a),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Es.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Et()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=HR();c.forEach(f=>{if(!s.has(f)){const h=XR(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return rt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ne.resolve(Fa());let a=-1,l=s;return o.next(u=>Ne.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Ne.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Et())).next(c=>({batchId:a,changes:jR(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=td();return this.indexManager.getCollectionParents(e,i).next(o=>Ne.forEach(o,a=>{const l=function(u,c){return new Pl(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,oo.newInvalidDocument(u)))});let o=td();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Sd(u.mutation,l,Es.empty(),Xn.now()),lv(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g7=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ne.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ps(r.createTime)}),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:c7(r.bundledQuery),readTime:Ps(r.readTime)}}(n)),Ne.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v7=class{constructor(){this.overlays=new Zn(rt.comparator),this.ls=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return Ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const i=Fa(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Zn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Fa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Fa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ne.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vj(n,r));let s=this.ls.get(n);s===void 0&&(s=Et(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __=class{constructor(){this.fs=new Ai(cr.ds),this.ws=new Ai(cr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new cr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new cr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new rt(new Fn([])),r=new cr(n,e),i=new cr(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new rt(new Fn([])),r=new cr(n,e),i=new cr(n,e+1);let s=Et();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new cr(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}};class cr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return rt.comparator(e.key,n.key)||Yt(e.As,n.As)}static _s(e,n){return Yt(e.As,n.As)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ai(cr.ds)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Uj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new cr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(e,n){return Ne.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cr(n,0),i=new cr(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ai(Yt);return n.forEach(i=>{const s=new cr(i,0),o=new cr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Ne.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new cr(new rt(s),0);let a=new Ai(Yt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Ne.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Ne.forEach(n.mutations,i=>{const s=new cr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new cr(n,0),i=this.Rs.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.Ds=e,this.docs=new Zn(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():oo.newInvalidDocument(n))}getEntries(e,n){let r=uo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():oo.newInvalidDocument(i))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=uo();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oj(sj(c),r)<=0||(i.has(c.key)||lv(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){dt()}Cs(e,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new w7(this)}getSize(e){return Ne.resolve(this.size)}}class w7 extends h7{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Ne.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.persistence=e,this.xs=new _c(n=>d_(n),f_),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new __,this.targetCount=0,this.Ms=H0.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Ne.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new H0(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Fn(n),Ne.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ne.waitFor(s).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n){this.$s={},this.overlays={},this.Os=new l_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new _7(this),this.indexManager=new d7,this.remoteDocumentCache=function(r){return new b7(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new u7(n),this.qs=new g7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new y7(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);const i=new S7(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Ne.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class S7 extends lj{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Qs=new __,this.js=null}static zs(e){return new T_(e)}get Ws(){if(this.js)return this.js;throw dt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Ws,r=>{const i=rt.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,vt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ne.or([()=>Ne.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Et(),i=Et();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new S_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(bI(n))return Ne.resolve(null);let r=lo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cm(n,null,"F"),r=lo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Et(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Cm(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return bI(n)||i.isEqual(vt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(cI()<=Ft.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),F0(n)),this.Wi(e,o,n,ij(i,-1)))})}ji(e,n){let r=new Ai(VR(e));return n.forEach((i,s)=>{lv(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return cI()<=Ft.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",F0(n)),this.Ui.getDocumentsMatchingQuery(e,n,df.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Zn(Yt),this.Yi=new _c(s=>d_(s),f_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m7(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function C7(t,e,n,r){return new I7(t,e,n,r)}async function a2(t,e){const n=gt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Et();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function O7(t,e){const n=gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=Ne.resolve();return d.forEach(h=>{f=f.next(()=>u.getEntry(a,h)).next(p=>{const m=l.docVersions.get(h);bn(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Et();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function l2(t){const e=gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function A7(t,e){const n=gt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(xi.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(p,m,g){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,h,c)&&a.push(n.Bs.updateTargetData(s,h))});let l=uo(),u=Et();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(P7(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(vt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function P7(t,e,n){let r=Et(),i=Et();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=uo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(vt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function k7(t,e){const n=gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x7(t,e){const n=gt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Ne.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new w_(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function K0(t,e,n){const r=gt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lh(o))throw o;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function kI(t,e,n){const r=gt(t);let i=vt.min(),s=Et();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=gt(a),d=c.Yi.get(u);return d!==void 0?Ne.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,lo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:vt.min(),n?s:Et())).next(a=>(D7(r,Ej(e),a),{documents:a,ir:s})))}function D7(t,e,n){let r=t.Xi.get(e)||vt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class xI{constructor(){this.activeTargetIds=kj()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R7{constructor(){this.Hr=new xI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np=null;function ky(){return np===null?np=268435456+Math.round(2147483648*Math.random()):np++,"0x"+np.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class L7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=ky(),a=this.To(e,n);Je("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(Je("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw zu("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=M7[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=ky();return new Promise((o,a)=>{const l=new GB;l.setWithCredentials(!0),l.listenOnce(WB.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ay.NO_ERROR:const c=l.getResponseJson();Je(Or,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ay.TIMEOUT:Je(Or,`RPC '${e}' ${s} timed out`),a(new $e(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Ay.HTTP_ERROR:const d=l.getStatus();if(Je(Or,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(g)>=0?g:pe.UNKNOWN}(h.status);a(new $e(p,h.message))}else a(new $e(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $e(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Je(Or,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Je(Or,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=ky(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jB(),a=HB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new zB({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Je(Or,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,h=!1;const p=new $7({ro:g=>{h?Je(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(f||(Je(Or,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Je(Or,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,y,v)=>{g.listen(y,_=>{try{v(_)}catch(b){setTimeout(()=>{throw b},0)}})};return m(d,Jh.EventType.OPEN,()=>{h||Je(Or,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Jh.EventType.CLOSE,()=>{h||(h=!0,Je(Or,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Jh.EventType.ERROR,g=>{h||(h=!0,zu(Or,`RPC '${e}' stream ${i} transport errored:`,g),p.wo(new $e(pe.UNAVAILABLE,"The operation could not be completed")))}),m(d,Jh.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];bn(!!v);const _=v,b=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(b){Je(Or,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let T=function(C){const I=zn[C];if(I!==void 0)return JR(I)}(w),x=b.message;T===void 0&&(T=pe.INTERNAL,x="Unknown error status: "+w+" with message "+b.message),h=!0,p.wo(new $e(T,x)),d.close()}else Je(Or,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),m(a,KB.STAT_EVENT,g=>{g.stat===lI.PROXY?Je(Or,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===lI.NOPROXY&&Je(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function xy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){return new qj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new u2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(so(n.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new $e(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F7 extends c2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=Jj(this.serializer,e),r=function(i){if(!("targetChange"in i))return vt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?vt.min():s.readTime?Ps(s.readTime):vt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=j0(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=$0(a)?{documents:t7(i,a)}:{query:n7(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=t2(i,s.resumeToken);const l=U0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(vt.min())>0){o.readTime=Pm(i,s.snapshotVersion.toTimestamp());const l=U0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=i7(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=j0(this.serializer),n.removeTarget=e,this.Wo(n)}}class U7 extends c2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=e7(e.writeResults,e.commitTime),r=Ps(e.commitTime);return this.listener.cu(r,n)}return bn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=j0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Zj(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new $e(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(pe.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(pe.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class B7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(so(n),this.mu=!1):Je("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{kl(this)&&(Je("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=gt(a);l.vu.add(4),await dh(l),l.bu.set("Unknown"),l.vu.delete(4),await hv(l)}(this))})}),this.bu=new B7(r,i)}}async function hv(t){if(kl(t))for(const e of t.Ru)await e(!0)}async function dh(t){for(const e of t.Ru)await e(!1)}function d2(t,e){const n=gt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),C_(n)?I_(n):Tc(n).Ko()&&E_(n,e))}function f2(t,e){const n=gt(t),r=Tc(n);n.Au.delete(e),r.Ko()&&h2(n,e),n.Au.size===0&&(r.Ko()?r.jo():kl(n)&&n.bu.set("Unknown"))}function E_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tc(t).su(e)}function h2(t,e){t.Vu.qt(e),Tc(t).iu(e)}function I_(t){t.Vu=new Kj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Tc(t).start(),t.bu.gu()}function C_(t){return kl(t)&&!Tc(t).Uo()&&t.Au.size>0}function kl(t){return gt(t).vu.size===0}function p2(t){t.Vu=void 0}async function H7(t){t.Au.forEach((e,n)=>{E_(t,e)})}async function W7(t,e){p2(t),C_(t)?(t.bu.Iu(e),I_(t)):t.bu.set("Unknown")}async function K7(t,e,n){if(t.bu.set("Online"),e instanceof e2&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await km(t,r)}else if(e instanceof Mp?t.Vu.Ht(e):e instanceof ZR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(vt.min()))try{const r=await l2(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(xi.EMPTY_BYTE_STRING,u.snapshotVersion)),h2(i,a);const c=new w_(u.target,a,l,u.sequenceNumber);E_(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Je("RemoteStore","Failed to raise snapshot:",r),await km(t,r)}}async function km(t,e,n){if(!lh(e))throw e;t.vu.add(1),await dh(t),t.bu.set("Offline"),n||(n=()=>l2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Je("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await hv(t)})}function m2(t,e){return e().catch(n=>km(t,n,e))}async function pv(t){const e=gt(t),n=oa(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;z7(e);)try{const i=await k7(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,G7(e,i)}catch(i){await km(e,i)}g2(e)&&v2(e)}function z7(t){return kl(t)&&t.Eu.length<10}function G7(t,e){t.Eu.push(e);const n=oa(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function g2(t){return kl(t)&&!oa(t).Uo()&&t.Eu.length>0}function v2(t){oa(t).start()}async function Y7(t){oa(t).hu()}async function q7(t){const e=oa(t);for(const n of t.Eu)e.uu(n.mutations)}async function X7(t,e,n){const r=t.Eu.shift(),i=g_.from(r,e,n);await m2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pv(t)}async function Q7(t,e){e&&oa(t).ou&&await async function(n,r){if(i=r.code,jj(i)&&i!==pe.ABORTED){const s=n.Eu.shift();oa(n).Qo(),await m2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await pv(n)}var i}(t,e),g2(t)&&v2(t)}async function RI(t,e){const n=gt(t);n.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const r=kl(n);n.vu.add(3),await dh(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await hv(n)}async function J7(t,e){const n=gt(t);e?(n.vu.delete(2),await hv(n)):e||(n.vu.add(2),await dh(n),n.bu.set("Unknown"))}function Tc(t){return t.Su||(t.Su=function(e,n,r){const i=gt(e);return i.fu(),new F7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:H7.bind(null,t),ao:W7.bind(null,t),nu:K7.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),C_(t)?I_(t):t.bu.set("Unknown")):(await t.Su.stop(),p2(t))})),t.Su}function oa(t){return t.Du||(t.Du=function(e,n,r){const i=gt(e);return i.fu(),new U7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Y7.bind(null,t),ao:Q7.bind(null,t),au:q7.bind(null,t),cu:X7.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await pv(t)):(await t.Du.stop(),t.Eu.length>0&&(Je("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new O_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(t,e){if(so("AsyncQueue",`${e}: ${t}`),lh(t))return new $e(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=td(),this.sortedSet=new Zn(this.comparator)}static emptySet(e){return new Pu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Cu=new Zn(rt.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):dt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qu(e,n,Pu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this.Nu=void 0,this.listeners=[]}}class eH{constructor(){this.queries=new _c(e=>UR(e),av),this.onlineState="Unknown",this.ku=new Set}}async function P_(t,e){const n=gt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Z7),i)try{s.Nu=await n.onListen(r)}catch(o){const a=A_(o,`Initialization of query '${F0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&x_(n)}async function k_(t,e){const n=gt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function tH(t,e){const n=gt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&x_(n)}function nH(t,e,n){const r=gt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function x_(t){t.ku.forEach(e=>{e.next()})}class D_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.key=e}}class b2{constructor(e){this.key=e}}class rH{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Et(),this.mutatedKeys=Et(),this.tc=VR(e),this.ec=new Pu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new NI,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=lv(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.rc(f,h)||(r.track({type:2,doc:h}),g=!0,(l&&this.tc(h,l)>0||u&&this.tc(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),g=!0):f&&!h&&(r.track({type:1,doc:f}),g=!0,(l||u)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,f){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return h(d)-h(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Qu(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new NI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Et(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new b2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new y2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Et();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Qu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class iH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sH{constructor(e){this.key=e,this.fc=!1}}class oH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new _c(a=>UR(a),av),this._c=new Map,this.mc=new Set,this.gc=new Zn(rt.comparator),this.yc=new Map,this.Ic=new __,this.Tc={},this.Ec=new Map,this.Ac=H0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function aH(t,e){const n=vH(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await x7(n.localStore,lo(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await lH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&d2(n.remoteStore,o)}return i}async function lH(t,e,n,r,i){t.Rc=(d,f,h)=>async function(p,m,g,y){let v=m.view.sc(g);v.zi&&(v=await kI(p.localStore,m.query,!1).then(({documents:w})=>m.view.sc(w,v)));const _=y&&y.targetChanges.get(m.targetId),b=m.view.applyChanges(v,p.isPrimaryClient,_);return $I(p,m.targetId,b.cc),b.snapshot}(t,d,f,h);const s=await kI(t.localStore,e,!0),o=new rH(e,s.ir),a=o.sc(s.documents),l=ch.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);$I(t,n,u.cc);const c=new iH(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function uH(t,e){const n=gt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!av(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await K0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),f2(n.remoteStore,r.targetId),z0(n,r.targetId)}).catch(ah)):(z0(n,r.targetId),await K0(n.localStore,r.targetId,!0))}async function cH(t,e,n){const r=yH(t);try{const i=await function(s,o){const a=gt(s),l=Xn.now(),u=o.reduce((f,h)=>f.add(h.key),Et());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=uo(),p=Et();return a.Zi.getEntries(f,u).next(m=>{h=m,h.forEach((g,y)=>{y.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(m=>{c=m;const g=[];for(const y of o){const v=Lj(y,c.get(y.key).overlayedDocument);v!=null&&g.push(new pa(y.key,v,kR(v.value.mapValue),Bi.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,g,o)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:jR(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Zn(Yt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await fh(r,i.changes),await pv(r.remoteStore)}catch(i){const s=A_(i,"Failed to persist write");n.reject(s)}}async function w2(t,e){const n=gt(t);try{const r=await A7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(bn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?bn(o.fc):i.removedDocuments.size>0&&(bn(o.fc),o.fc=!1))}),await fh(n,r,e)}catch(r){await ah(r)}}function MI(t,e,n){const r=gt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=gt(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&x_(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dH(t,e,n){const r=gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Zn(rt.comparator);o=o.insert(s,oo.newNoDocument(s,vt.min()));const a=Et().add(s),l=new dv(vt.min(),new Map,new Zn(Yt),o,a);await w2(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),R_(r)}else await K0(r.localStore,e,!1).then(()=>z0(r,e,n)).catch(ah)}async function fH(t,e){const n=gt(t),r=e.batch.batchId;try{const i=await O7(n.localStore,e);T2(n,r,null),_2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fh(n,i)}catch(i){await ah(i)}}async function hH(t,e,n){const r=gt(t);try{const i=await function(s,o){const a=gt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(bn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);T2(r,e,n),_2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fh(r,i)}catch(i){await ah(i)}}function _2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function T2(t,e,n){const r=gt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function z0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||S2(t,r)})}function S2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(f2(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),R_(t))}function $I(t,e,n){for(const r of n)r instanceof y2?(t.Ic.addReference(r.key,e),pH(t,r)):r instanceof b2?(Je("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||S2(t,r.key)):dt()}function pH(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Je("SyncEngine","New document in limbo: "+n),t.mc.add(r),R_(t))}function R_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new rt(Fn.fromString(e)),r=t.Ac.next();t.yc.set(r,new sH(n)),t.gc=t.gc.insert(n,r),d2(t.remoteStore,new w_(lo(sv(n.path)),r,"TargetPurposeLimboResolution",l_.ct))}}async function fh(t,e,n){const r=gt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=S_.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=gt(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Ne.forEach(l,d=>Ne.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>Ne.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!lh(c))throw c;Je("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),h=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(h);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function mH(t,e){const n=gt(t);if(!n.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const r=await a2(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new $e(pe.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fh(n,r.er)}}function gH(t,e){const n=gt(t),r=n.yc.get(e);if(r&&r.fc)return Et().add(r.key);{let i=Et();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function vH(t){const e=gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dH.bind(null,e),e.dc.nu=tH.bind(null,e.eventManager),e.dc.Pc=nH.bind(null,e.eventManager),e}function yH(t){const e=gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hH.bind(null,e),e}let LI=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return C7(this.persistence,new E7,e.initialUser,this.serializer)}createPersistence(e){return new T7(T_.zs,this.serializer)}createSharedClientState(e){return new R7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},bH=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mH.bind(null,this.syncEngine),await J7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new eH}createDatastore(e){const n=fv(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new L7(i));var i;return function(s,o,a,l){return new V7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>MI(this.syncEngine,a,0),o=DI.D()?new DI:new N7,new j7(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new oH(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=gt(e);Je("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await dh(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=IR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Je("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dy(t,e){t.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await a2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TH(t);Je("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>RI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>RI(e.remoteStore,s)),t._onlineComponents=e}function _H(t){return t.name==="FirebaseError"?t.code===pe.FAILED_PRECONDITION||t.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function TH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_H(n))throw n;zu("Error using user provided cache. Falling back to memory cache: "+n),await Dy(t,new LI)}}else Je("FirestoreClient","Using default OfflineComponentProvider"),await Dy(t,new LI);return t._offlineComponents}async function E2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je("FirestoreClient","Using user provided OnlineComponentProvider"),await FI(t,t._uninitializedComponentsProvider._online)):(Je("FirestoreClient","Using default OnlineComponentProvider"),await FI(t,new bH))),t._onlineComponents}function SH(t){return E2(t).then(e=>e.syncEngine)}async function xm(t){const e=await E2(t),n=e.eventManager;return n.onListen=aH.bind(null,e.syncEngine),n.onUnlisten=uH.bind(null,e.syncEngine),n}function EH(t,e,n={}){const r=new eo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new N_({next:d=>{s.enqueueAndForget(()=>k_(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new $e(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new $e(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new D_(sv(o.path),u,{includeMetadataChanges:!0,Ku:!0});return P_(i,c)}(await xm(t),t.asyncQueue,e,n,r)),r.promise}function IH(t,e,n={}){const r=new eo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new N_({next:d=>{s.enqueueAndForget(()=>k_(i,c)),d.fromCache&&a.source==="server"?l.reject(new $e(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new D_(o,u,{includeMetadataChanges:!0,Ku:!0});return P_(i,c)}(await xm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e,n){if(!n)throw new $e(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CH(t,e,n,r){if(e===!0&&r===!0)throw new $e(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VI(t){if(!rt.isDocumentKey(t))throw new $e(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BI(t){if(rt.isDocumentKey(t))throw new $e(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt()}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mv(t);throw new $e(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function OH(t,e){if(e<=0)throw new $e(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $e(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $e(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $e(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class gv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $e(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new qB;switch(n.type){case"firstParty":return new ZB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=UI.get(e);n&&(Je("ComponentProvider","Removing Datastore"),UI.delete(e),n.terminate())}(this),Promise.resolve()}}function AH(t,e,n,r={}){var i;const s=(t=pi(t,gv))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kr.MOCK_USER;else{a=_x(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $e(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kr(u)}t._authCredentials=new XB(new ER(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class Us{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class qo extends Us{constructor(e,n,r){super(e,n,sv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new rt(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function Xi(t,e,...n){if(t=Ht(t),C2("collection","path",e),t instanceof gv){const r=Fn.fromString(e,...n);return BI(r),new qo(t,null,r)}{if(!(t instanceof Br||t instanceof qo))throw new $e(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fn.fromString(e,...n));return BI(r),new qo(t.firestore,null,r)}}function Kt(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=IR.A()),C2("doc","path",e),t instanceof gv){const r=Fn.fromString(e,...n);return VI(r),new Br(t,null,new rt(r))}{if(!(t instanceof Br||t instanceof qo))throw new $e(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fn.fromString(e,...n));return VI(r),new Br(t.firestore,t instanceof qo?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new u2(this,"async_queue_retry"),this.Xc=()=>{const n=xy();n&&Je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=xy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new eo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!lh(e))throw e;Je("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw so("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=O_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&dt()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function HI(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class co extends gv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new PH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||O2(this),this._firestoreClient.terminate()}}function kH(t,e){const n=typeof t=="object"?t:vc(),r=typeof t=="string"?t:e||"(default)",i=Fs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yx("firestore");s&&AH(i,...s)}return i}function vv(t){return t._firestoreClient||O2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function O2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new dj(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,I2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new wH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ju(xi.fromBase64String(e))}catch(n){throw new $e(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ju(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=/^__.*__$/;class DH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new uh(e,this.data,n,this.fieldTransforms)}}class A2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function P2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class L_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new L_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Dm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(P2(this.ca)&&xH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class RH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fv(e)}ya(e,n,r,i=!1){return new L_({ca:e,methodName:n,ga:r,path:Ms.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(t){const e=t._freezeSettings(),n=fv(t._databaseId);return new RH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k2(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);F_("Data must be an object, but it was:",o,r);const a=N2(r,o);let l,u;if(s.merge)l=new Es(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=G0(e,d,n);if(!o.contains(f))throw new $e(pe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);$2(c,f)||c.push(f)}l=new Es(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new DH(new li(a),l,u)}let x2=class D2 extends M_{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D2}};function NH(t,e,n,r){const i=t.ya(1,e,n);F_("Data must be an object, but it was:",i,r);const s=[],o=li.empty();Al(r,(l,u)=>{const c=U_(e,l,n);u=Ht(u);const d=i.da(c);if(u instanceof x2)s.push(c);else{const f=ph(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Es(s);return new A2(o,a,i.fieldTransforms)}function MH(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[G0(e,r,n)],l=[i];if(s.length%2!=0)throw new $e(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(G0(e,s[f])),l.push(s[f+1]);const u=[],c=li.empty();for(let f=a.length-1;f>=0;--f)if(!$2(u,a[f])){const h=a[f];let p=l[f];p=Ht(p);const m=o.da(h);if(p instanceof x2)u.push(h);else{const g=ph(p,m);g!=null&&(u.push(h),c.set(h,g))}}const d=new Es(u);return new A2(c,d,o.fieldTransforms)}function R2(t,e,n,r=!1){return ph(n,t.ya(r?4:3,e))}function ph(t,e){if(M2(t=Ht(t)))return F_("Unsupported field value:",e,t),N2(t,e);if(t instanceof M_)return function(n,r){if(!P2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ph(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xj(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Xn.fromDate(n);return{timestampValue:Pm(r.serializer,i)}}if(n instanceof Xn){const i=new Xn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pm(r.serializer,i)}}if(n instanceof $_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ju)return{bytesValue:t2(r.serializer,n._byteString)};if(n instanceof Br){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:b_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${mv(n)}`)}(t,e)}function N2(t,e){const n={};return OR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Al(t,(r,i)=>{const s=ph(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function M2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xn||t instanceof $_||t instanceof Ju||t instanceof Br||t instanceof M_)}function F_(t,e,n){if(!M2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=mv(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function G0(t,e,n){if((e=Ht(e))instanceof yv)return e._internalPath;if(typeof e=="string")return U_(t,e);throw Dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const $H=new RegExp("[~\\*/\\[\\]]");function U_(t,e,n){if(e.search($H)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yv(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $e(pe.INVALID_ARGUMENT,a+t+l)}function $2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V_=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},LH=class extends V_{data(){return super.data()}};function bv(t,e){return typeof e=="string"?U_(t,e):e instanceof yv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let B_=class{},wv=class extends B_{};function FH(t,e,...n){let r=[];e instanceof B_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof UH).length,o=i.filter(a=>a instanceof F2).length;if(s>1||s>0&&o>0)throw new $e(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let F2=class U2 extends wv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new U2(e,n,r)}_apply(e){const n=this._parse(e);return W2(e._query,n),new Us(e.firestore,e.converter,L0(e._query,n))}_parse(e){const n=hh(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new $e(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){GI(c,u);const f=[];for(const h of c)f.push(zI(a,i,h));d={arrayValue:{values:f}}}else d=zI(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||GI(c,u),d=R2(o,s,c,u==="in"||u==="not-in");return fr.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function WI(t,e,n){const r=e,i=bv("where",t);return F2._create(i,r,n)}let UH=class V2 extends B_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ao.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)W2(s,a),s=L0(s,a)}(e._query,n),new Us(e.firestore,e.converter,L0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},VH=class B2 extends wv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new B2(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new $e(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new $e(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Au(i,s);return function(a,l){if(h_(a)===null){const u=ov(a);u!==null&&K2(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Pl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function KI(t,e="asc"){const n=e,r=bv("orderBy",t);return VH._create(r,n)}let BH=class j2 extends wv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new j2(e,n,r)}_apply(e){return new Us(e.firestore,e.converter,Cm(e._query,this._limit,this._limitType))}};function jH(t){return OH("limit",t),BH._create("limit",t,"F")}let HH=class H2 extends wv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new H2(e,n,r)}_apply(e){const n=KH(e,this.type,this._docOrFields,this._inclusive);return new Us(e.firestore,e.converter,function(r,i){return new Pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}};function WH(...t){return HH._create("startAfter",t,!1)}function KH(t,e,n,r){if(n[0]=Ht(n[0]),n[0]instanceof V_)return function(i,s,o,a,l){if(!a)throw new $e(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Ka(i))if(c.field.isKeyField())u.push(Im(s,a.key));else{const d=a.data.field(c.field);if(iv(d))throw new $e(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=c.field.canonicalString();throw new $e(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(d)}return new Xu(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=hh(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new $e(pe.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let h=0;h<u.length;h++){const p=u[h];if(d[h].field.isKeyField()){if(typeof p!="string")throw new $e(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!p_(s)&&p.indexOf("/")!==-1)throw new $e(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(Fn.fromString(p));if(!rt.isDocumentKey(m))throw new $e(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const g=new rt(m);f.push(Im(o,g))}else{const m=R2(a,l,p);f.push(m)}}return new Xu(f,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function zI(t,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new $e(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p_(e)&&n.indexOf("/")!==-1)throw new $e(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fn.fromString(n));if(!rt.isDocumentKey(r))throw new $e(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Im(t,new rt(r))}if(n instanceof Br)return Im(t,n._key);throw new $e(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mv(n)}.`)}function GI(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W2(t,e){if(e.isInequality()){const r=ov(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new $e(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=h_(t);s!==null&&K2(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $e(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function K2(t,e,n){if(!n.isEqual(e))throw new $e(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let zH=class{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Al(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $_(qn(e.latitude),qn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=u_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ff(e));default:return null}}convertTimestamp(e){const n=sa(e);return new Xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fn.fromString(e);bn(o2(r));const i=new PR(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||so(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G2 extends V_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $p extends G2{data(e={}){return super.data(e)}}class Y2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new id(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $p(this._firestore,this._userDataWriter,r.key,r,new id(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new $p(r._firestore,r._userDataWriter,o.doc.key,o.doc,new id(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new $p(r._firestore,r._userDataWriter,o.doc.key,o.doc,new id(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:GH(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(t){t=pi(t,Br);const e=pi(t.firestore,co);return EH(vv(e),t._key).then(n=>q2(e,t,n))}class j_ extends zH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,n)}}function qH(t){t=pi(t,Us);const e=pi(t.firestore,co),n=vv(e),r=new j_(e);return L2(t._query),IH(n,t._query).then(i=>new Y2(e,r,t,i))}function XH(t,e,n){t=pi(t,Br);const r=pi(t.firestore,co),i=z2(t.converter,e,n);return _v(r,[k2(hh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bi.none())])}function QH(t,e,n,...r){t=pi(t,Br);const i=pi(t.firestore,co),s=hh(i);let o;return o=typeof(e=Ht(e))=="string"||e instanceof yv?MH(s,"updateDoc",t._key,e,n,r):NH(s,"updateDoc",t._key,e),_v(i,[o.toMutation(t._key,Bi.exists(!0))])}function JH(t){return _v(pi(t.firestore,co),[new m_(t._key,Bi.none())])}function ZH(t,e){const n=pi(t.firestore,co),r=Kt(t),i=z2(t.converter,e);return _v(n,[k2(hh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Bi.exists(!1))]).then(()=>r)}function rp(t,...e){var n,r,i;t=Ht(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||HI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(HI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Br)u=pi(t.firestore,co),c=sv(t._key.path),l={next:d=>{e[o]&&e[o](q2(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pi(t,Us);u=pi(d.firestore,co),c=d._query;const f=new j_(u);l={next:h=>{e[o]&&e[o](new Y2(u,f,d,h))},error:e[o+1],complete:e[o+2]},L2(t._query)}return function(d,f,h,p){const m=new N_(p),g=new D_(f,m,h);return d.asyncQueue.enqueueAndForget(async()=>P_(await xm(d),g)),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(async()=>k_(await xm(d),g))}}(vv(u),c,a,l)}function _v(t,e){return function(n,r){const i=new eo;return n.asyncQueue.enqueueAndForget(async()=>cH(await SH(n),r,i)),i.promise}(vv(t),e)}function q2(t,e,n){const r=n.docs.get(e._key),i=new j_(t);return new G2(t,i,e._key,r,new id(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){wc=n})(da),gi(new ti("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new co(new QB(n.getProvider("auth-internal")),new tj(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new $e(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new PR(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ir(uI,"3.13.0",t),Ir(uI,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="firebasestorage.googleapis.com",Q2="storageBucket",eW=2*60*1e3,tW=10*60*1e3,nW=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends Di{constructor(e,n,r=0){super(Ry(e),`Firebase Storage: ${n} (${Ry(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ry(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function Ry(t){return"storage/"+t}function H_(){const t="An unknown error occurred, please check the error payload for server response.";return new Rn(wn.UNKNOWN,t)}function rW(t){return new Rn(wn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iW(t){return new Rn(wn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rn(wn.UNAUTHENTICATED,t)}function oW(){return new Rn(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aW(t){return new Rn(wn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function J2(){return new Rn(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z2(){return new Rn(wn.CANCELED,"User canceled the upload/download.")}function lW(t){return new Rn(wn.INVALID_URL,"Invalid URL '"+t+"'.")}function uW(t){return new Rn(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cW(){return new Rn(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q2+"' property when initializing the app?")}function eN(){return new Rn(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dW(){return new Rn(wn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function fW(){return new Rn(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hW(t){return new Rn(wn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Y0(t){return new Rn(wn.INVALID_ARGUMENT,t)}function tN(){return new Rn(wn.APP_DELETED,"The Firebase app was deleted.")}function pW(t){return new Rn(wn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ed(t,e){return new Rn(wn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rc(t){throw new Rn(wn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ti.makeFromUrl(e,n)}catch{return new Ti(e,"")}if(r.path==="")return r;throw uW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===X2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<_.length;b++){const w=_[b],T=w.regex.exec(e);if(T){const x=T[w.indices.bucket];let C=T[w.indices.path];C||(C=""),r=new Ti(x,C),w.postModify(r);break}}if(r==null)throw lW(e);return r}}class mW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(h,l())},g)}function f(){s&&clearTimeout(s)}function h(g,...y){if(u){f();return}if(g){f(),c.call(null,g,...y);return}if(l()||o){f(),c.call(null,g,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function vW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){return t!==void 0}function bW(t){return typeof t=="function"}function wW(t){return typeof t=="object"&&!Array.isArray(t)}function Tv(t){return typeof t=="string"||t instanceof String}function YI(t){return W_()&&t instanceof Blob}function W_(){return typeof Blob<"u"&&!W5()}function qI(t,e,n,r){if(r<e)throw Y0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Y0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(za||(za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ip(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===za.NO_ERROR,l=s.getStatus();if(!a||rN(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===za.ABORT;r(!1,new ip(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ip(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());yW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=H_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?tN():Z2();o(l)}else{const l=J2();o(l)}};this.canceled_?n(!1,new ip(!1,null,!0)):this.backoffId_=gW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ip{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function IW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CW(t,e,n,r,i,s,o=!0){const a=nN(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return EW(u,e),TW(u,n),SW(u,s),IW(u,r),new _W(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AW(...t){const e=OW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(W_())return new Blob(t);throw new Rn(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t){if(typeof atob>"u")throw hW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ny{constructor(e,n){this.data=e,this.contentType=n||null}}function xW(t,e){switch(t){case Is.RAW:return new Ny(iN(e));case Is.BASE64:case Is.BASE64URL:return new Ny(sN(t,e));case Is.DATA_URL:return new Ny(RW(e),NW(e))}throw H_()}function iN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function DW(t){let e;try{e=decodeURIComponent(t)}catch{throw Ed(Is.DATA_URL,"Malformed data URL.")}return iN(e)}function sN(t,e){switch(t){case Is.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ed(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Is.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ed(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kW(e)}catch(i){throw i.message.includes("polyfill")?i:Ed(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class oN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ed(Is.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=MW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function RW(t){const e=new oN(t);return e.base64?sN(Is.BASE64,e.rest):DW(e.rest)}function NW(t){return new oN(t).contentType}function MW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){let r=0,i="";YI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(YI(this.data_)){const r=this.data_,i=PW(r,e,n);return i===null?null:new Lo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Lo(r,!0)}}static getBlob(...e){if(W_()){const n=e.map(r=>r instanceof Lo?r.data_:r);return new Lo(AW.apply(null,n))}else{const n=e.map(o=>Tv(o)?xW(Is.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Lo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){let e;try{e=JSON.parse(t)}catch{return null}return wW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function LW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(t,e){return e}class Kr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||FW}}let sp=null;function UW(t){return!Tv(t)||t.length<2?t:lN(t)}function uN(){if(sp)return sp;const t=[];t.push(new Kr("bucket")),t.push(new Kr("generation")),t.push(new Kr("metageneration")),t.push(new Kr("name","fullPath",!0));function e(s,o){return UW(o)}const n=new Kr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Kr("size");return i.xform=r,t.push(i),t.push(new Kr("timeCreated")),t.push(new Kr("updated")),t.push(new Kr("md5Hash",null,!0)),t.push(new Kr("cacheControl",null,!0)),t.push(new Kr("contentDisposition",null,!0)),t.push(new Kr("contentEncoding",null,!0)),t.push(new Kr("contentLanguage",null,!0)),t.push(new Kr("contentType",null,!0)),t.push(new Kr("metadata","customMetadata",!0)),sp=t,sp}function VW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ti(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function BW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return VW(r,t),r}function cN(t,e,n){const r=aN(e);return r===null?null:BW(t,r,n)}function jW(t,e,n,r){const i=aN(e);if(i===null||!Tv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=Sc(f,n,r),p=nN({alt:"media",token:u});return h+p})[0]}function dN(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class xl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){if(!t)throw H_()}function K_(t,e){function n(r,i){const s=cN(t,i,e);return to(s!==null),s}return n}function HW(t,e){function n(r,i){const s=cN(t,i,e);return to(s!==null),jW(s,i,t.host,t._protocol)}return n}function mh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oW():i=sW():n.getStatus()===402?i=iW(t.bucket):n.getStatus()===403?i=aW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function z_(t){const e=mh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rW(t.path)),s.serverResponse=i.serverResponse,s}return n}function WW(t,e,n){const r=e.fullServerUrl(),i=Sc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xl(i,s,K_(t,n),o);return a.errorHandler=z_(e),a}function KW(t,e,n){const r=e.fullServerUrl(),i=Sc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xl(i,s,HW(t,n),o);return a.errorHandler=z_(e),a}function zW(t,e){const n=e.fullServerUrl(),r=Sc(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new xl(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=z_(e),a}function GW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=GW(null,e)),r}function YW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=fN(e,r,i),c=dN(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=Lo.getBlob(d,r,f);if(h===null)throw eN();const p={name:u.fullPath},m=Sc(s,t.host,t._protocol),g="POST",y=t.maxUploadRetryTime,v=new xl(m,g,K_(t,n),y);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=mh(e),v}class Rm{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function G_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{to(!1)}return to(!!n&&(e||["active"]).indexOf(n)!==-1),n}function qW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=fN(e,r,i),a={name:o.fullPath},l=Sc(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=dN(o,n),f=t.maxUploadRetryTime;function h(m){G_(m);let g;try{g=m.getResponseHeader("X-Goog-Upload-URL")}catch{to(!1)}return to(Tv(g)),g}const p=new xl(l,u,h,f);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=mh(e),p}function XW(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=G_(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{to(!1)}d||to(!1);const f=Number(d);return to(!isNaN(f)),new Rm(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new xl(n,o,s,a);return l.headers=i,l.errorHandler=mh(e),l}const XI=256*1024;function QW(t,e,n,r,i,s,o,a){const l=new Rm(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw dW();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,f=d+c;let h="";c===0?h="finalize":u===c?h="upload, finalize":h="upload";const p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,f);if(m===null)throw eN();function g(b,w){const T=G_(b,["active","final"]),x=l.current+c,C=r.size();let I;return T==="final"?I=K_(e,s)(b,w):I=null,new Rm(x,C,T==="final",I)}const y="POST",v=e.maxUploadRetryTime,_=new xl(n,y,g,v);return _.headers=p,_.body=m.uploadData(),_.progressCallback=a||null,_.errorHandler=mh(t),_}const ai={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function My(t){switch(t){case"running":case"pausing":case"canceling":return ai.RUNNING;case"paused":return ai.PAUSED;case"success":return ai.SUCCESS;case"canceled":return ai.CANCELED;case"error":return ai.ERROR;default:return ai.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n,r){if(bW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class ZW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Rc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eK extends ZW{initXhr(){this.xhr_.responseType="text"}}function Da(){return new eK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=uN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(wn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(rN(i.status,[]))if(s)i=J2();else{this.sleepTime=Math.max(this.sleepTime*2,nW),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(wn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=qW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=XW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Da,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=XI*this._chunkMultiplier,n=new Rm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=QW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Da,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){XI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=WW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=YW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Z2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=My(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new JW(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(My(this._state)){case ai.SUCCESS:Vl(this._resolve.bind(null,this.snapshot))();break;case ai.CANCELED:case ai.ERROR:const n=this._reject;Vl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(My(this._state)){case ai.RUNNING:case ai.PAUSED:e.next&&Vl(e.next.bind(e,this.snapshot))();break;case ai.SUCCESS:e.complete&&Vl(e.complete.bind(e))();break;case ai.CANCELED:case ai.ERROR:e.error&&Vl(e.error.bind(e,this._error))();break;default:e.error&&Vl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this._service=e,n instanceof Ti?this._location=n:this._location=Ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hl(e,n)}get root(){const e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lN(this._location.path)}get storage(){return this._service}get parent(){const e=$W(this._location.path);if(e===null)return null;const n=new Ti(this._location.bucket,e);return new hl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pW(e)}}function nK(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new tK(t,new Lo(e),n)}function rK(t){t._throwIfRoot("getDownloadURL");const e=KW(t.storage,t._location,uN());return t.storage.makeRequestWithTokens(e,Da).then(n=>{if(n===null)throw fW();return n})}function iK(t){t._throwIfRoot("deleteObject");const e=zW(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Da)}function sK(t,e){const n=LW(t._location.path,e),r=new Ti(t._location.bucket,n);return new hl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t){return/^[A-Za-z]+:\/\//.test(t)}function aK(t,e){return new hl(t,e)}function hN(t,e){if(t instanceof Y_){const n=t;if(n._bucket==null)throw cW();const r=new hl(n,n._bucket);return e!=null?hN(r,e):r}else return e!==void 0?sK(t,e):t}function lK(t,e){if(e&&oK(e)){if(t instanceof Y_)return aK(t,e);throw Y0("To use ref(service, url), the first argument must be a Storage instance.")}else return hN(t,e)}function QI(t,e){const n=e==null?void 0:e[Q2];return n==null?null:Ti.makeFromBucketSpec(n,t)}function uK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_x(i,t.app.options.projectId))}class Y_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=X2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eW,this._maxUploadRetryTime=tW,this._requests=new Set,i!=null?this._bucket=Ti.makeFromBucketSpec(i,this._host):this._bucket=QI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ti.makeFromBucketSpec(this._url,e):this._bucket=QI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mW(tN());{const o=CW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const JI="@firebase/storage",ZI="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="storage";function cK(t,e,n){return t=Ht(t),nK(t,e,n)}function dK(t){return t=Ht(t),rK(t)}function fK(t){return t=Ht(t),iK(t)}function hK(t,e){return t=Ht(t),lK(t,e)}function pK(t=vc(),e){t=Ht(t);const r=Fs(t,pN).getImmediate({identifier:e}),i=yx("storage");return i&&mK(r,...i),r}function mK(t,e,n,r={}){uK(t,e,n,r)}function gK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Y_(n,r,i,e,da)}function vK(){gi(new ti(pN,gK,"PUBLIC").setMultipleInstances(!0)),Ir(JI,ZI,""),Ir(JI,ZI,"esm2017")}vK();const mN=1e3,q0=mN*60,X0=q0*60,Nm=X0*24,Mm=Nm*365,gN=async t=>{const e=await YH(t),n=e.data();return n?{id:e.id,...n}:null},Bl=async(t,e)=>{const n=await qH(e?FH(t,...e):t);return Promise.all(n.docs.map(r=>gN(r.ref)))},$i=gN,yK=ZH,$m=XH,Mo=QH,sd=JH,Q0=t=>hK(pK(),t),eC=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),bK=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},is=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!is(a,o[l])||o.some((u,c)=>!is(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!is(r,i))return!1}else if(r!==i)return!1}return!0},J0=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/Mm,o=r%Mm/Nm,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}},Lp=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},wK=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Po=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Ca=t=>Array.isArray(t)?t:[t],_K=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Z0=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),gh=t=>Object.keys(t).map(e=>t[e].error).some(e=>typeof e=="boolean"?e:typeof e=="string"?!!e:e.some(n=>n));function q_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TK=vN,yN=new ca("auth","Firebase",vN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new gc("@firebase/auth");function SK(t,...e){Lm.logLevel<=Ft.WARN&&Lm.warn(`Auth (${da}): ${t}`,...e)}function Fp(t,...e){Lm.logLevel<=Ft.ERROR&&Lm.error(`Auth (${da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,...e){throw X_(t,...e)}function ks(t,...e){return X_(t,...e)}function EK(t,e,n){const r=Object.assign(Object.assign({},TK()),{[e]:n});return new ca("auth","Firebase",r).create(e,{appName:t.name})}function X_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yN.create(t,...e)}function it(t,e,...n){if(!t)throw X_(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fp(e),new Error(e)}function fo(t,e){t||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IK(){return tC()==="http:"||tC()==="https:"}function tC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IK()||Tx()||"connection"in navigator)?navigator.onLine:!0}function OK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,fo(n>e,"Short delay should be less than long delay!"),this.isMobile=C1()||Sx()}get(){return CK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){fo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=new vh(3e4,6e4);function Dl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rl(t,e,n,r,i={}){return wN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bN.fetch()(_N(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function wN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AK),e);try{const i=new kK(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw op(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw op(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw op(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw op(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw EK(t,c,u);fs(t,c)}}catch(i){if(i instanceof Di)throw i;fs(t,"network-request-failed",{message:String(i)})}}async function yh(t,e,n,r,i={}){const s=await Rl(t,e,n,r,i);return"mfaPendingCredential"in s&&fs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _N(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Q_(t.config,i):`${t.config.apiScheme}://${i}`}class kK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ks(this.auth,"network-request-failed")),PK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function op(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ks(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xK(t,e){return Rl(t,"POST","/v1/accounts:delete",e)}async function DK(t,e){return Rl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RK(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),i=J_(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Id($y(i.auth_time)),issuedAtTime:Id($y(i.iat)),expirationTime:Id($y(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $y(t){return Number(t)*1e3}function J_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=fm(n);return i?JSON.parse(i):(Fp("Failed to decode base64 JWT payload"),null)}catch(i){return Fp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function NK(t){const e=J_(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Di&&MK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Id(this.lastLoginAt),this.creationTime=Id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zu(t,DK(n,{idToken:r}));it(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?UK(s.providerUserInfo):[],a=FK(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new TN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function LK(t){const e=Ht(t);await Fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UK(t){return t.map(e=>{var{providerId:n}=e,r=q_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VK(t,e){const n=await wN(t,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_N(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NK(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return it(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await VK(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new gf;return r&&(it(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(it(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gf,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ga{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=q_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new TN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return it(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RK(this,e)}reload(){return LK(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ga(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Zu(this,xK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:T,stsTokenManager:x}=n;it(_&&x,e,"internal-error");const C=gf.fromJSON(this.name,x);it(typeof _=="string",e,"internal-error"),To(d,e.name),To(f,e.name),it(typeof b=="boolean",e,"internal-error"),it(typeof w=="boolean",e,"internal-error"),To(h,e.name),To(p,e.name),To(m,e.name),To(g,e.name),To(y,e.name),To(v,e.name);const I=new Ga({uid:_,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:C,createdAt:y,lastLoginAt:v});return T&&Array.isArray(T)&&(I.providerData=T.map(E=>Object.assign({},E))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new gf;i.updateFromServerResponse(n);const s=new Ga({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Map;function Ys(t){fo(t instanceof Function,"Expected a class definition");let e=nC.get(t);return e?(fo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SN.type="NONE";const rC=SN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t,e,n){return`firebase:${t}:${e}:${n}`}class ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Up(this.userKey,i.apiKey,s),this.fullPersistenceKey=Up("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ga._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ku(Ys(rC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ys(rC);const o=Up(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ga._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ku(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AN(e))return"Blackberry";if(PN(e))return"Webos";if(Z_(e))return"Safari";if((e.includes("chrome/")||IN(e))&&!e.includes("edge/"))return"Chrome";if(ON(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EN(t=Hr()){return/firefox\//i.test(t)}function Z_(t=Hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IN(t=Hr()){return/crios\//i.test(t)}function CN(t=Hr()){return/iemobile/i.test(t)}function ON(t=Hr()){return/android/i.test(t)}function AN(t=Hr()){return/blackberry/i.test(t)}function PN(t=Hr()){return/webos/i.test(t)}function Sv(t=Hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BK(t=Hr()){var e;return Sv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jK(){return K5()&&document.documentMode===10}function kN(t=Hr()){return Sv(t)||ON(t)||PN(t)||AN(t)||/windows phone/i.test(t)||CN(t)}function HK(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e=[]){let n;switch(t){case"Browser":n=iC(Hr());break;case"Worker":n=`${iC(Hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${r}`}async function DN(t,e){return Rl(t,"GET","/v2/recaptchaConfig",Dl(t,e))}function sC(t){return t!==void 0&&t.enterprise!==void 0}class RN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function NN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ks("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",WK().appendChild(r)})}function KK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zK="https://www.google.com/recaptcha/enterprise.js?render=",GK="recaptcha-enterprise",YK="NO_RECAPTCHA";class MN{constructor(e){this.type=GK,this.auth=Nl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{DN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new RN(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;sC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(YK)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&sC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}NN(zK+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ec(t,e,n,r=!1){const i=new MN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oC(this),this.idTokenSubscription=new oC(this),this.beforeStateQueue=new qK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ht(e):null;return n&&it(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}async initializeRecaptchaConfig(){const e=await DN(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new RN(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new MN(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;it(n,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return it(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Nl(t){return Ht(t)}class oC{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z5(n=>this.observer=n)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e){const n=Fs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jd(s,e??{}))return i;fs(i,"already-initialized")}return n.initialize({options:e})}function QK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JK(t,e,n){const r=Nl(t);it(r._canInitEmulator,r,"emulator-config-failed"),it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=LN(e),{host:o,port:a}=ZK(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ez()}function LN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZK(t){const e=LN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:aC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:aC(o)}}}function aC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ez(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function FN(t,e){return Rl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ly(t,e){return yh(t,"POST","/v1/accounts:signInWithPassword",Dl(t,e))}async function tz(t,e){return Rl(t,"POST","/v1/accounts:sendOobCode",Dl(t,e))}async function Fy(t,e){return tz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Dl(t,e))}async function rz(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends eT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ec(e,r,"signInWithPassword");return Ly(e,i)}else return Ly(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ec(e,r,"signInWithPassword");return Ly(e,s)}else return Promise.reject(i)});case"emailLink":return nz(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return FN(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return rz(e,{idToken:n,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e){return yh(t,"POST","/v1/accounts:signInWithIdp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="http://localhost";class pl extends eT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=q_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new pl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xu(e,n)}buildRequest(){const e={requestUri:iz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oz(t){const e=Xc(Qc(t)).link,n=e?Xc(Qc(e)).deep_link_id:null,r=Xc(Qc(t)).deep_link_id;return(r?Xc(Qc(r)).link:null)||r||n||e||t}class tT{constructor(e){var n,r,i,s,o,a;const l=Xc(Qc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=sz((i=l.mode)!==null&&i!==void 0?i:null);it(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oz(e);try{return new tT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.providerId=aa.PROVIDER_ID}static credential(e,n){return vf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tT.parseLink(n);return it(r,"argument-error"),vf._fromEmailAndCode(e,r.code,r.tenantId)}}aa.PROVIDER_ID="password";aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends UN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends bh{constructor(){super("facebook.com")}static credential(e){return pl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.GOOGLE_SIGN_IN_METHOD="google.com";Uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends bh{constructor(){super("github.com")}static credential(e){return pl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.GITHUB_SIGN_IN_METHOD="github.com";Vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends bh{constructor(){super("twitter.com")}static credential(e,n){return pl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t,e){return yh(t,"POST","/v1/accounts:signUp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ga._fromIdTokenResponse(e,r,i),o=lC(r);return new ml({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lC(r);return new ml({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Di{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Um(e,n,r,i)}}function VN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(t,s,e,r):s})}async function az(t,e,n=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Zu(t,VN(r,i,e,t),n);it(s.idToken,r,"internal-error");const o=J_(s.idToken);it(o,r,"internal-error");const{sub:a}=o;return it(t.uid===a,r,"user-mismatch"),ml._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e,n=!1){const r="signIn",i=await VN(t,r,e),s=await ml._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function lz(t,e){return jN(Nl(t),e)}async function uC(t,e){return BN(Ht(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t,e,n){var r;it(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),it(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(it(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(it(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(t,e,n){var r;const i=Nl(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await ec(i,s,"getOobCode",!0);n&&Vy(i,o,n),await Fy(i,o)}else n&&Vy(i,s,n),await Fy(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ec(i,s,"getOobCode",!0);n&&Vy(i,a,n),await Fy(i,a)}else return Promise.reject(o)})}async function cz(t,e,n){var r;const i=Nl(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ec(i,s,"signUpPassword");o=Uy(i,u)}else o=Uy(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ec(i,s,"signUpPassword");return Uy(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await ml._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function dz(t,e,n){return lz(Ht(t),aa.credential(e,n))}function fz(t,e){return HN(Ht(t),e,null)}function hz(t,e){return HN(Ht(t),null,e)}async function HN(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Zu(t,FN(r,s));await t._updateTokensIfNecessary(o,!0)}function WN(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function pz(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function mz(t){return Ht(t).signOut()}async function gz(t){return Ht(t).delete()}const Vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(){const t=Hr();return Z_(t)||Sv(t)}const yz=1e3,bz=10;class zN extends KN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vz()&&HK(),this.fallbackToPolling=kN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);jK()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zN.type="LOCAL";const GN=zN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends KN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YN.type="SESSION";const nT=YN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ev(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await wz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ev.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=rT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function Tz(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function Sz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ez(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Iz(){return qN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebaseLocalStorageDb",Cz=1,Bm="firebaseLocalStorage",QN="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iv(t,e){return t.transaction([Bm],e?"readwrite":"readonly").objectStore(Bm)}function Oz(){const t=indexedDB.deleteDatabase(XN);return new wh(t).toPromise()}function tw(){const t=indexedDB.open(XN,Cz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bm,{keyPath:QN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bm)?e(r):(r.close(),await Oz(),e(await tw()))})})}async function cC(t,e,n){const r=Iv(t,!0).put({[QN]:e,value:n});return new wh(r).toPromise()}async function Az(t,e){const n=Iv(t,!1).get(e),r=await new wh(n).toPromise();return r===void 0?null:r.value}function dC(t,e){const n=Iv(t,!0).delete(e);return new wh(n).toPromise()}const Pz=800,kz=3;class JN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ev._getInstance(Iz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Sz(),!this.activeServiceWorker)return;this.sender=new _z(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ez()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tw();return await cC(e,Vm,"1"),await dC(e,Vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Az(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Iv(i,!1).getAll();return new wh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JN.type="LOCAL";const ZN=JN;new vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t,e){return e?Ys(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends eT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dz(t){return jN(t.auth,new iT(t),t.bypassAuthState)}function Rz(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),BN(n,new iT(t),t.bypassAuthState)}async function Nz(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),az(n,new iT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dz;case"linkViaPopup":case"linkViaRedirect":return Nz;case"reauthViaPopup":case"reauthViaRedirect":return Rz;default:fs(this.auth,"internal-error")}}resolve(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new vh(2e3,1e4);class lu extends eM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,lu.currentPopupAction&&lu.currentPopupAction.cancel(),lu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){fo(this.filter.length===1,"Popup operations only handle one event");const e=rT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mz.get())};e()}}lu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="pendingRedirect",Vp=new Map;class Lz extends eM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vp.get(this.auth._key());if(!e){try{const r=await Fz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vp.set(this.auth._key(),e)}return this.bypassAuthState||Vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fz(t,e){const n=Bz(e),r=Vz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Uz(t,e){Vp.set(t._key(),e)}function Vz(t){return Ys(t._redirectPersistence)}function Bz(t){return Up($z,t.config.apiKey,t.name)}async function jz(t,e,n=!1){const r=Nl(t),i=xz(r,e),o=await new Lz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=10*60*1e3;class Wz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ks(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hz&&this.cachedEventUids.clear(),this.cachedEventUids.has(fC(e))}saveEventToCache(e){this.cachedEventUids.add(fC(e)),this.lastProcessedEventTime=Date.now()}}function fC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e={}){return Rl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yz=/^https?/;async function qz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zz(t);for(const n of e)try{if(Xz(n))return}catch{}fs(t,"unauthorized-domain")}function Xz(t){const e=ew(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Yz.test(n))return!1;if(Gz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new vh(3e4,6e4);function hC(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jz(t){return new Promise((e,n)=>{var r,i,s;function o(){hC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hC(),n(ks(t,"network-request-failed"))},timeout:Qz.get()})}if(!((i=(r=xs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xs().gapi)===null||s===void 0)&&s.load)o();else{const a=KK("iframefcb");return xs()[a]=()=>{gapi.load?o():n(ks(t,"network-request-failed"))},NN(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bp=null,e})}let Bp=null;function Zz(t){return Bp=Bp||Jz(t),Bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=new vh(5e3,15e3),tG="__/auth/iframe",nG="emulator/auth/iframe",rG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sG(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Q_(e,nG):`https://${t.config.authDomain}/${tG}`,r={apiKey:e.apiKey,appName:t.name,v:da},i=iG.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mc(r).slice(1)}`}async function oG(t){const e=await Zz(t),n=xs().gapi;return it(n,t,"internal-error"),e.open({where:document.body,url:sG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ks(t,"network-request-failed"),a=xs().setTimeout(()=>{s(o)},eG.get());function l(){xs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lG=500,uG=600,cG="_blank",dG="http://localhost";class pC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fG(t,e,n,r=lG,i=uG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},aG),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Hr().toLowerCase();n&&(a=IN(u)?cG:n),EN(u)&&(e=e||dG,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(BK(u)&&a!=="_self")return hG(e||"",a),new pC(null);const d=window.open(e||"",a,c);it(d,t,"popup-blocked");try{d.focus()}catch{}return new pC(d)}function hG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG="__/auth/handler",mG="emulator/auth/handler",gG=encodeURIComponent("fac");async function mC(t,e,n,r,i,s){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:da,eventId:i};if(e instanceof UN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",e0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof bh){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${gG}=${encodeURIComponent(l)}`:"";return`${vG(t)}?${mc(a).slice(1)}${u}`}function vG({config:t}){return t.emulator?Q_(t,mG):`https://${t.authDomain}/${pG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="webStorageSupport";class yG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nT,this._completeRedirectFn=jz,this._overrideRedirectResult=Uz}async _openPopup(e,n,r,i){var s;fo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await mC(e,n,r,ew(),i);return fG(e,o,rT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await mC(e,n,r,ew(),i);return Tz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oG(e),r=new Wz(e);return n.register("authEvent",i=>(it(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(By,{type:By},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[By];o!==void 0&&n(!!o),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kN()||Z_()||Sv()}}const nM=yG;var gC="@firebase/auth",vC="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function _G(t){gi(new ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;it(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xN(t)},u=new XK(r,i,s,l);return QK(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gi(new ti("auth-internal",e=>{const n=Nl(e.getProvider("auth").getImmediate());return(r=>new bG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(gC,vC,wG(t)),Ir(gC,vC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=5*60,SG=wx("authIdTokenMaxAge")||TG;let yC=null;const EG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SG)return;const i=n==null?void 0:n.token;yC!==i&&(yC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function IG(t=vc()){const e=Fs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$N(t,{popupRedirectResolver:nM,persistence:[ZN,GN,nT]}),r=wx("authTokenSyncURL");if(r){const s=EG(r);pz(n,s,()=>s(n.currentUser)),WN(n,o=>s(o))}const i=vx("auth");return i&&JK(n,`http://${i}`),n}_G("Browser");const rM=Symbol("firebaseApp");function iM(t){return hs()&&Zr(rM,null)||vc(t)}const ap=new WeakMap;function CG(t,e){if(!ap.has(t)){const n=vg(!0);ap.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),ap.delete(t)}}return ap.get(t)}const OG=new WeakMap,lp=new WeakMap;function AG(t){const e=iM(t);if(!lp.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{lp.set(e,s),n(s.value)}];lp.set(e,i)}return lp.get(e)}function PG(t,e){WN(e,n=>{const r=AG();t.value=n,Array.isArray(r)&&r[1](t)})}var bC={};const wC="@firebase/database",_C="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sM="";function kG(t){sM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Sr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return go(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xG(e)}}catch{}return new DG},Ua=oM("localStorage"),nw=oM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new gc("@firebase/database"),RG=function(){let t=1;return function(){return t++}}(),aM=function(t){const e=rU(t),n=new J5;n.update(e);const r=n.digest();return Ng.encodeByteArray(r)},_h=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_h.apply(null,r):typeof r=="object"?e+=Sr(r):e+=r,e+=" "}return e};let Ya=null,TC=!0;const NG=function(t,e){Fe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Du.logLevel=Ft.VERBOSE,Ya=Du.log.bind(Du),e&&nw.set("logging_enabled",!0)):typeof t=="function"?Ya=t:(Ya=null,nw.remove("logging_enabled"))},Dr=function(...t){if(TC===!0&&(TC=!1,Ya===null&&nw.get("logging_enabled")===!0&&NG(!0)),Ya){const e=_h.apply(null,t);Ya(e)}},Th=function(t){return function(...e){Dr(t,...e)}},rw=function(...t){const e="FIREBASE INTERNAL ERROR: "+_h(...t);Du.error(e)},gl=function(...t){const e=`FIREBASE FATAL ERROR: ${_h(...t)}`;throw Du.error(e),new Error(e)},Pi=function(...t){const e="FIREBASE WARNING: "+_h(...t);Du.warn(e)},MG=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},$G=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},tc="[MIN_NAME]",vl="[MAX_NAME]",Ec=function(t,e){if(t===e)return 0;if(t===tc||e===vl)return-1;if(e===tc||t===vl)return 1;{const n=SC(t),r=SC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},LG=function(t,e){return t===e?0:t<e?-1:1},Nc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Sr(e))},sT=function(t){if(typeof t!="object"||t===null)return Sr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Sr(e[r]),n+=":",n+=sT(t[e[r]]);return n+="}",n},uM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ji(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cM=function(t){Fe(!lM(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},FG=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},UG=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},VG=new RegExp("^-?(0*)\\d{1,10}$"),BG=-2147483648,jG=2147483647,SC=function(t){if(VG.test(t)){const e=Number(t);if(e>=BG&&e<=jG)return e}return null},Sh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pi("Exception was thrown by user callback.",n),e},Math.floor(0))}},HG=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pi(e)}}class iw{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}iw.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="5",dM="v",fM="s",hM="r",pM="f",mM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gM="ls",vM="p",sw="ac",yM="websocket",bM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ua.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ua.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function GG(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wM(t,e,n){Fe(typeof e=="string","typeof type must == string"),Fe(typeof n=="object","typeof params must == object");let r;if(e===yM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);GG(t)&&(n.ns=t.namespace);const i=[];return ji(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(){this.counters_={}}incrementCounter(e,n=1){go(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return U5(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy={},Hy={};function aT(t){const e=t.toString();return jy[e]||(jy[e]=new YG),jy[e]}function qG(t,e){const n=t.toString();return Hy[n]||(Hy[n]=e()),Hy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Sh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="start",QG="close",JG="pLPCommand",ZG="pRTLPCB",_M="id",TM="pw",SM="ser",eY="cb",tY="seg",nY="ts",rY="d",iY="dframe",EM=1870,IM=30,sY=EM-IM,oY=25e3,aY=3e4;class uu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Th(e),this.stats_=aT(n),this.urlFn=l=>(this.appCheckToken&&(l[sw]=this.appCheckToken),wM(n,bM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new XG(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aY)),$G(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lT((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===EC)this.id=a,this.password=l;else if(o===QG)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[EC]="t",r[SM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[eY]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dM]=oT,this.transportSessionId&&(r[fM]=this.transportSessionId),this.lastSessionId&&(r[gM]=this.lastSessionId),this.applicationId&&(r[vM]=this.applicationId),this.appCheckToken&&(r[sw]=this.appCheckToken),typeof location<"u"&&location.hostname&&mM.test(location.hostname)&&(r[hM]=pM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uu.forceAllow_=!0}static forceDisallow(){uu.forceDisallow_=!0}static isAvailable(){return uu.forceAllow_?!0:!uu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FG()&&!UG()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Sr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=px(n),i=uM(r,sY);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iY]="t",r[_M]=e,r[TM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Sr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class lT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RG(),window[JG+this.uniqueCallbackIdentifier]=e,window[ZG+this.uniqueCallbackIdentifier]=n,this.myIFrame=lT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Dr("frame writing exception"),a.stack&&Dr(a.stack),Dr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_M]=this.myID,e[TM]=this.myPW,e[SM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+IM+r.length<=EM;){const o=this.pendingSegs.shift();r=r+"&"+tY+i+"="+o.seg+"&"+nY+i+"="+o.ts+"&"+rY+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(oY)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY=16384,uY=45e3;let jm=null;typeof MozWebSocket<"u"?jm=MozWebSocket:typeof WebSocket<"u"&&(jm=WebSocket);class es{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Th(this.connId),this.stats_=aT(n),this.connURL=es.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[dM]=oT,typeof location<"u"&&location.hostname&&mM.test(location.hostname)&&(o[hM]=pM),n&&(o[fM]=n),r&&(o[gM]=r),i&&(o[sw]=i),s&&(o[vM]=s),wM(e,yM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ua.set("previous_websocket_failure",!0);try{let r;Ex(),this.mySock=new jm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){es.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jm!==null&&!es.forceDisallow_}static previouslyFailed(){return Ua.isInMemoryStorage||Ua.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ua.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Sr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uM(n,lY);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uY))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}es.responsesRequiredToBeHealthy=2;es.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[uu,es]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=es&&es.isAvailable();let r=n&&!es.previouslyFailed();if(e.webSocketOnly&&(n||Pi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[es];else{const i=this.transports_=[];for(const s of yf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);yf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY=6e4,dY=5e3,fY=10*1024,hY=100*1024,Wy="t",IC="d",pY="s",CC="r",mY="e",OC="o",AC="a",PC="n",kC="p",gY="h";class vY{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Th("c:"+this.id+":"),this.transportManager_=new yf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Cd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hY?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fY?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wy in e){const n=e[Wy];n===AC?this.upgradeIfSecondaryHealthy_():n===CC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===OC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Nc("t",e),r=Nc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:AC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Nc("t",e),r=Nc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Nc(Wy,e);if(IC in e){const r=e[IC];if(n===gY){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===PC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pY?this.onConnectionShutdown_(r):n===CC?this.onReset_(r):n===mY?rw("Server Error: "+r):n===OC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),oT!==r&&Pi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Cd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cY))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dY))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ua.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.allowedEvents_=e,this.listeners_={},Fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends OM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!C1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Hm}getInitialEvent(e){return Fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=32,DC=768;class _n{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function rn(){return new _n("")}function Dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function la(t){return t.pieces_.length-t.pieceNum_}function gn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _n(t.pieces_,e)}function AM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yY(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function PM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function kM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _n(e,0)}function hr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _n)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _n(n,0)}function Ot(t){return t.pieceNum_>=t.pieces_.length}function Ui(t,e){const n=Dt(t),r=Dt(e);if(n===null)return e;if(n===r)return Ui(gn(t),gn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xM(t,e){if(la(t)!==la(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ns(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(la(t)>la(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class bY{constructor(e,n){this.errorPrefix_=n,this.parts_=PM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lg(this.parts_[r]);DM(this)}}function wY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lg(e),DM(t)}function _Y(t){const e=t.parts_.pop();t.byteLength_-=Lg(e),t.parts_.length>0&&(t.byteLength_-=1)}function DM(t){if(t.byteLength_>DC)throw new Error(t.errorPrefix_+"has a key path longer than "+DC+" bytes ("+t.byteLength_+").");if(t.parts_.length>xC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xC+") or object contains a cycle "+Oa(t))}function Oa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends OM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new uT}getInitialEvent(e){return Fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=1e3,TY=60*5*1e3,RC=30*1e3,SY=1.3,EY=3e4,IY="server_kill",NC=3;class no extends CM{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=no.nextPersistentConnectionId_++,this.log_=Th("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mc,this.maxReconnectDelay_=TY,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ex())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Sr(s)),Fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ol,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;no.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&go(e,"w")){const r=Wu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Pi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Q5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=X5(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Sr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):rw("Unrecognized action received from server: "+Sr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>EY&&(this.reconnectDelay_=Mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+no.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Fe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Dr("getToken() completed but was canceled"):(Dr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new vY(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{Pi(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(IY)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Pi(d),l())}}}interrupt(e){Dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],e0(this.interruptReasons_)&&(this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>sT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _n(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Dr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=NC&&(this.reconnectDelay_=RC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Dr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=NC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sM.replace(/\./g,"-")]=1,C1()?e["framework.cordova"]=1:Sx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hm.getInstance().currentlyOnline();return e0(this.interruptReasons_)&&e}}no.nextPersistentConnectionId_=0;no.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Rt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Rt(tc,e),i=new Rt(tc,n);return this.compare(r,i)!==0}minPost(){return Rt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up;class RM extends Cv{static get __EMPTY_NODE(){return up}static set __EMPTY_NODE(e){up=e}compare(e,n){return Ec(e.name,n.name)}isDefinedOn(e){throw pc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(vl,up)}makePost(e,n){return Fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Rt(e,up)}toString(){return".key"}}const Ru=new RM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dr.RED,this.left=i??fi.EMPTY_NODE,this.right=s??fi.EMPTY_NODE}copy(e,n,r,i,s){return new dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return fi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return fi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dr.RED=!0;dr.BLACK=!1;class CY{copy(e,n,r,i,s){return this}insert(e,n,r){return new dr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class fi{constructor(e,n=fi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new fi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,dr.BLACK,null,null))}remove(e){return new fi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new cp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new cp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new cp(this.root_,null,this.comparator_,!0,e)}}fi.EMPTY_NODE=new CY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(t,e){return Ec(t.name,e.name)}function cT(t,e){return Ec(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ow;function AY(t){ow=t}const NM=function(t){return typeof t=="number"?"number:"+cM(t):"string:"+t},MM=function(t){if(t.isLeafNode()){const e=t.val();Fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&go(e,".sv"),"Priority must be a string or number.")}else Fe(t===ow||t.isEmpty(),"priority of unexpected type.");Fe(t===ow||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC;class ur{constructor(e,n=ur.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),MM(this.priorityNode_)}static set __childrenNodeConstructor(e){MC=e}static get __childrenNodeConstructor(){return MC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ur(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ur.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ot(e)?this:Dt(e)===".priority"?this.priorityNode_:ur.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ur.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Dt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Fe(r!==".priority"||la(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ur.__childrenNodeConstructor.EMPTY_NODE.updateChild(gn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+NM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=cM(this.value_):e+=this.value_,this.lazyHash_=aM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ur.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ur.__childrenNodeConstructor?-1:(Fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ur.VALUE_TYPE_ORDER.indexOf(n),s=ur.VALUE_TYPE_ORDER.indexOf(r);return Fe(i>=0,"Unknown leaf type: "+n),Fe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ur.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $M,LM;function PY(t){$M=t}function kY(t){LM=t}class xY extends Cv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ec(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(vl,new ur("[PRIORITY-POST]",LM))}makePost(e,n){const r=$M(e);return new Rt(n,new ur("[PRIORITY-POST]",r))}toString(){return".priority"}}const $r=new xY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DY=Math.log(2);class RY{constructor(e){const n=s=>parseInt(Math.log(s)/DY,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new dr(f,d.node,dr.BLACK,null,null);{const h=parseInt(c/2,10)+l,p=i(l,h),m=i(h+1,u);return d=t[h],f=n?n(d):d,new dr(f,d.node,dr.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const f=function(p,m){const g=d-p,y=d;d-=p;const v=i(g+1,y),_=t[g],b=n?n(_):_;h(new dr(b,_.node,m,null,v))},h=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?f(g,dr.BLACK):(f(g,dr.BLACK),f(g,dr.RED))}return c},o=new RY(t.length),a=s(o);return new fi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky;const jl={};class qs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Fe(jl&&$r,"ChildrenNode.ts has not been loaded"),Ky=Ky||new qs({".priority":jl},{".priority":$r}),Ky}get(e){const n=Wu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof fi?n:null}hasIndex(e){return go(this.indexSet_,e.toString())}addIndex(e,n){Fe(e!==Ru,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Rt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Wm(r,e.getCompare()):a=jl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new qs(c,u)}addToIndexes(e,n){const r=hm(this.indexes_,(i,s)=>{const o=Wu(this.indexSet_,s);if(Fe(o,"Missing index implementation for "+s),i===jl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Rt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Wm(a,o.getCompare())}else return jl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Rt(e.name,a))),l.insert(e,e.node)}});return new qs(r,this.indexSet_)}removeFromIndexes(e,n){const r=hm(this.indexes_,i=>{if(i===jl)return i;{const s=n.get(e.name);return s?i.remove(new Rt(e.name,s)):i}});return new qs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;class Qt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&MM(this.priorityNode_),this.children_.isEmpty()&&Fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $c||($c=new Qt(new fi(cT),null,qs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$c}updatePriority(e){return this.children_.isEmpty()?this:new Qt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$c:n}}getChild(e){const n=Dt(e);return n===null?this:this.getImmediateChild(n).getChild(gn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Rt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?$c:this.priorityNode_;return new Qt(i,o,s)}}updateChild(e,n){const r=Dt(e);if(r===null)return n;{Fe(Dt(e)!==".priority"||la(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(gn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild($r,(o,a)=>{n[o]=a.val(e),r++,s&&Qt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+NM(this.getPriority().val())+":"),this.forEachChild($r,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":aM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Rt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Rt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Rt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Eh?-1:0}withIndex(e){if(e===Ru||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Qt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ru||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator($r),i=n.getIterator($r);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ru?null:this.indexMap_.get(e.toString())}}Qt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class NY extends Qt{constructor(){super(new fi(cT),Qt.EMPTY_NODE,qs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qt.EMPTY_NODE}isEmpty(){return!1}}const Eh=new NY;Object.defineProperties(Rt,{MIN:{value:new Rt(tc,Qt.EMPTY_NODE)},MAX:{value:new Rt(vl,Eh)}});RM.__EMPTY_NODE=Qt.EMPTY_NODE;ur.__childrenNodeConstructor=Qt;AY(Eh);kY(Eh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=!0;function Rr(t,e=null){if(t===null)return Qt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ur(n,Rr(e))}if(!(t instanceof Array)&&MY){const n=[];let r=!1;if(ji(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Rr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Rt(o,l)))}}),n.length===0)return Qt.EMPTY_NODE;const s=Wm(n,OY,o=>o.name,cT);if(r){const o=Wm(n,$r.getCompare());return new Qt(s,Rr(e),new qs({".priority":o},{".priority":$r}))}else return new Qt(s,Rr(e),qs.Default)}else{let n=Qt.EMPTY_NODE;return ji(t,(r,i)=>{if(go(t,r)&&r.substring(0,1)!=="."){const s=Rr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Rr(e))}}PY(Rr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y extends Cv{constructor(e){super(),this.indexPath_=e,Fe(!Ot(e)&&Dt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ec(e.name,n.name):s}makePost(e,n){const r=Rr(e),i=Qt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Rt(n,i)}maxPost(){const e=Qt.EMPTY_NODE.updateChild(this.indexPath_,Eh);return new Rt(vl,e)}toString(){return PM(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY extends Cv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ec(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(e,n){const r=Rr(e);return new Rt(n,r)}toString(){return".value"}}const FY=new LY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t){return{type:"value",snapshotNode:t}}function VY(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function BY(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $C(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function jY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$r}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tc}hasEnd(){return this.endSet_}getIndexEndValue(){return Fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$r}copy(){const e=new dT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===$r?n="$priority":t.index_===FY?n="$value":t.index_===Ru?n="$key":(Fe(t.index_ instanceof $Y,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Sr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Sr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Sr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Sr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Sr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function FC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==$r&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends CM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Th("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Km.getListenId_(e,r),a={};this.listens_[o]=a;const l=LC(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Wu(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Km.getListenId_(e,n);delete this.listens_[r]}get(e){const n=LC(e._queryParams),r=e._path.toString(),i=new ol;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Qd(a.responseText)}catch{Pi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Pi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(){this.rootNode_=Qt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){return{value:null,children:new Map}}function FM(t,e,n){if(Ot(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Dt(e);t.children.has(r)||t.children.set(r,zm());const i=t.children.get(r);e=gn(e),FM(i,e,n)}}function aw(t,e,n){t.value!==null?n(e,t.value):WY(t,(r,i)=>{const s=new _n(e.toString()+"/"+r);aw(i,s,n)})}function WY(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ji(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=10*1e3,zY=30*1e3,GY=5*60*1e3;class YY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new KY(e);const r=UC+(zY-UC)*Math.random();Cd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ji(e,(i,s)=>{s>0&&go(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Cd(this.reportStats_.bind(this),Math.floor(Math.random()*2*GY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cs||(Cs={}));function UM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function VM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function BM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cs.ACK_USER_WRITE,this.source=UM()}operationForChild(e){if(Ot(this.path)){if(this.affectedTree.value!=null)return Fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _n(e));return new Gm(rn(),n,this.revert)}}else return Fe(Dt(this.path)===e,"operationForChild called for unrelated child."),new Gm(gn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cs.OVERWRITE}operationForChild(e){return Ot(this.path)?new yl(this.source,rn(),this.snap.getImmediateChild(e)):new yl(this.source,gn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cs.MERGE}operationForChild(e){if(Ot(this.path)){const n=this.children.subtree(new _n(e));return n.isEmpty()?null:n.value?new yl(this.source,rn(),n.value):new bf(this.source,rn(),n)}else return Fe(Dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bf(this.source,gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ot(e))return this.isFullyInitialized()&&!this.filtered_;const n=Dt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function qY(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(jY(o.childName,o.snapshotNode))}),Lc(t,i,"child_removed",e,r,n),Lc(t,i,"child_added",e,r,n),Lc(t,i,"child_moved",s,r,n),Lc(t,i,"child_changed",e,r,n),Lc(t,i,"value",e,r,n),i}function Lc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>QY(t,a,l)),o.forEach(a=>{const l=XY(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function XY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function QY(t,e,n){if(e.childName==null||n.childName==null)throw pc("Should only compare child_ events.");const r=new Rt(e.childName,e.snapshotNode),i=new Rt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e){return{eventCache:t,serverCache:e}}function Od(t,e,n,r){return jM(new fT(e,n,r),t.serverCache)}function HM(t,e,n,r){return jM(t.eventCache,new fT(e,n,r))}function lw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zy;const JY=()=>(zy||(zy=new fi(LG)),zy);class mn{constructor(e,n=JY()){this.value=e,this.children=n}static fromObject(e){let n=new mn(null);return ji(e,(r,i)=>{n=n.set(new _n(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:rn(),value:this.value};if(Ot(e))return null;{const r=Dt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(gn(e),n);return s!=null?{path:hr(new _n(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ot(e))return this;{const n=Dt(e),r=this.children.get(n);return r!==null?r.subtree(gn(e)):new mn(null)}}set(e,n){if(Ot(e))return new mn(n,this.children);{const r=Dt(e),s=(this.children.get(r)||new mn(null)).set(gn(e),n),o=this.children.insert(r,s);return new mn(this.value,o)}}remove(e){if(Ot(e))return this.children.isEmpty()?new mn(null):new mn(null,this.children);{const n=Dt(e),r=this.children.get(n);if(r){const i=r.remove(gn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new mn(null):new mn(this.value,s)}else return this}}get(e){if(Ot(e))return this.value;{const n=Dt(e),r=this.children.get(n);return r?r.get(gn(e)):null}}setTree(e,n){if(Ot(e))return n;{const r=Dt(e),s=(this.children.get(r)||new mn(null)).setTree(gn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new mn(this.value,o)}}fold(e){return this.fold_(rn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(hr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,rn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ot(e))return null;{const s=Dt(e),o=this.children.get(s);return o?o.findOnPath_(gn(e),hr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,rn(),n)}foreachOnPath_(e,n,r){if(Ot(e))return this;{this.value&&r(n,this.value);const i=Dt(e),s=this.children.get(i);return s?s.foreachOnPath_(gn(e),hr(n,i),r):new mn(null)}}foreach(e){this.foreach_(rn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(hr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.writeTree_=e}static empty(){return new ss(new mn(null))}}function Ad(t,e,n){if(Ot(e))return new ss(new mn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ui(i,e);return s=s.updateChild(o,n),new ss(t.writeTree_.set(i,s))}else{const i=new mn(n),s=t.writeTree_.setTree(e,i);return new ss(s)}}}function VC(t,e,n){let r=t;return ji(n,(i,s)=>{r=Ad(r,hr(e,i),s)}),r}function BC(t,e){if(Ot(e))return ss.empty();{const n=t.writeTree_.setTree(e,new mn(null));return new ss(n)}}function uw(t,e){return Ml(t,e)!=null}function Ml(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ui(n.path,e)):null}function jC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($r,(r,i)=>{e.push(new Rt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Rt(r,i.value))}),e}function Xo(t,e){if(Ot(e))return t;{const n=Ml(t,e);return n!=null?new ss(new mn(n)):new ss(t.writeTree_.subtree(e))}}function cw(t){return t.writeTree_.isEmpty()}function nc(t,e){return WM(rn(),t.writeTree_,e)}function WM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Fe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=WM(hr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(hr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t,e){return XM(e,t)}function ZY(t,e,n,r,i){Fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ad(t.visibleWrites,e,n)),t.lastWriteId=r}function eq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function tq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&nq(a,r.path)?i=!1:ns(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return rq(t),!0;if(r.snap)t.visibleWrites=BC(t.visibleWrites,r.path);else{const a=r.children;ji(a,l=>{t.visibleWrites=BC(t.visibleWrites,hr(r.path,l))})}return!0}else return!1}function nq(t,e){if(t.snap)return ns(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ns(hr(t.path,n),e))return!0;return!1}function rq(t){t.visibleWrites=zM(t.allWrites,iq,rn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function iq(t){return t.visible}function zM(t,e,n){let r=ss.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ns(n,o)?(a=Ui(n,o),r=Ad(r,a,s.snap)):ns(o,n)&&(a=Ui(o,n),r=Ad(r,rn(),s.snap.getChild(a)));else if(s.children){if(ns(n,o))a=Ui(n,o),r=VC(r,a,s.children);else if(ns(o,n))if(a=Ui(o,n),Ot(a))r=VC(r,rn(),s.children);else{const l=Wu(s.children,Dt(a));if(l){const u=l.getChild(gn(a));r=Ad(r,rn(),u)}}}else throw pc("WriteRecord should have .snap or .children")}}return r}function GM(t,e,n,r,i){if(!r&&!i){const s=Ml(t.visibleWrites,e);if(s!=null)return s;{const o=Xo(t.visibleWrites,e);if(cw(o))return n;if(n==null&&!uw(o,rn()))return null;{const a=n||Qt.EMPTY_NODE;return nc(o,a)}}}else{const s=Xo(t.visibleWrites,e);if(!i&&cw(s))return n;if(!i&&n==null&&!uw(s,rn()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ns(u.path,e)||ns(e,u.path))},a=zM(t.allWrites,o,e),l=n||Qt.EMPTY_NODE;return nc(a,l)}}}function sq(t,e,n){let r=Qt.EMPTY_NODE;const i=Ml(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild($r,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Xo(t.visibleWrites,e);return n.forEachChild($r,(o,a)=>{const l=nc(Xo(s,new _n(o)),a);r=r.updateImmediateChild(o,l)}),jC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Xo(t.visibleWrites,e);return jC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function oq(t,e,n,r,i){Fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=hr(e,n);if(uw(t.visibleWrites,s))return null;{const o=Xo(t.visibleWrites,s);return cw(o)?i.getChild(n):nc(o,i.getChild(n))}}function aq(t,e,n,r){const i=hr(e,n),s=Ml(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Xo(t.visibleWrites,i);return nc(o,r.getNode().getImmediateChild(n))}else return null}function lq(t,e){return Ml(t.visibleWrites,e)}function uq(t,e,n,r,i,s,o){let a;const l=Xo(t.visibleWrites,e),u=Ml(l,rn());if(u!=null)a=u;else if(n!=null)a=nc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function cq(){return{visibleWrites:ss.empty(),allWrites:[],lastWriteId:-1}}function dw(t,e,n,r){return GM(t.writeTree,t.treePath,e,n,r)}function YM(t,e){return sq(t.writeTree,t.treePath,e)}function HC(t,e,n,r){return oq(t.writeTree,t.treePath,e,n,r)}function Ym(t,e){return lq(t.writeTree,hr(t.treePath,e))}function dq(t,e,n,r,i,s){return uq(t.writeTree,t.treePath,e,n,r,i,s)}function hT(t,e,n){return aq(t.writeTree,t.treePath,e,n)}function qM(t,e){return XM(hr(t.treePath,e),t.writeTree)}function XM(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Fe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,$C(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,BY(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,VY(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,$C(r,e.snapshotNode,i.oldSnap));else throw pc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const QM=new hq;class pT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new fT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bl(this.viewCache_),s=dq(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function pq(t,e){Fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function mq(t,e,n,r,i){const s=new fq;let o,a;if(n.type===Cs.OVERWRITE){const u=n;u.source.fromUser?o=fw(t,e,u.path,u.snap,r,i,s):(Fe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ot(u.path),o=qm(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Cs.MERGE){const u=n;u.source.fromUser?o=vq(t,e,u.path,u.children,r,i,s):(Fe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=hw(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Cs.ACK_USER_WRITE){const u=n;u.revert?o=wq(t,e,u.path,r,i,s):o=yq(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Cs.LISTEN_COMPLETE)o=bq(t,e,n.path,r,s);else throw pc("Unknown operation type: "+n.type);const l=s.getChanges();return gq(e,o,l),{viewCache:o,changes:l}}function gq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=lw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(UY(lw(e)))}}function JM(t,e,n,r,i,s){const o=e.eventCache;if(Ym(r,n)!=null)return e;{let a,l;if(Ot(n))if(Fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=bl(e),c=u instanceof Qt?u:Qt.EMPTY_NODE,d=YM(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=dw(r,bl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Dt(n);if(u===".priority"){Fe(la(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=HC(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=gn(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=HC(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=hT(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Od(e,a,o.isFullyInitialized()||Ot(n),t.filter.filtersNodes())}}function qm(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Ot(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=Dt(n);if(!l.isCompleteForPath(n)&&la(n)>1)return e;const p=gn(n),g=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?u=c.updatePriority(l.getNode(),g):u=c.updateChild(l.getNode(),h,g,p,QM,null)}const d=HM(e,u,l.isFullyInitialized()||Ot(n),c.filtersNodes()),f=new pT(i,d,s);return JM(t,d,n,i,f,a)}function fw(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new pT(i,e,s);if(Ot(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Od(e,u,!0,t.filter.filtersNodes());else{const d=Dt(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Od(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=gn(n),h=a.getNode().getImmediateChild(d);let p;if(Ot(f))p=r;else{const m=c.getCompleteChild(d);m!=null?AM(f)===".priority"&&m.getChild(kM(f)).isEmpty()?p=m:p=m.updateChild(f,r):p=Qt.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,c,o);l=Od(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function WC(t,e){return t.eventCache.isCompleteForChild(e)}function vq(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=hr(n,l);WC(e,Dt(c))&&(a=fw(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=hr(n,l);WC(e,Dt(c))||(a=fw(t,a,c,u,i,s,o))}),a}function KC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function hw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ot(n)?u=r:u=new mn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=KC(t,h,f);l=qm(t,l,new _n(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=KC(t,p,f);l=qm(t,l,new _n(d),m,i,s,o,a)}}),l}function yq(t,e,n,r,i,s,o){if(Ym(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ot(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ot(n)){let u=new mn(null);return l.getNode().forEachChild(Ru,(c,d)=>{u=u.set(new _n(c),d)}),hw(t,e,n,u,i,s,a,o)}else return e}else{let u=new mn(null);return r.foreach((c,d)=>{const f=hr(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),hw(t,e,n,u,i,s,a,o)}}function bq(t,e,n,r,i){const s=e.serverCache,o=HM(e,s.getNode(),s.isFullyInitialized()||Ot(n),s.isFiltered());return JM(t,o,n,r,QM,i)}function wq(t,e,n,r,i,s){let o;if(Ym(r,n)!=null)return e;{const a=new pT(r,e,i),l=e.eventCache.getNode();let u;if(Ot(n)||Dt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=dw(r,bl(e));else{const d=e.serverCache.getNode();Fe(d instanceof Qt,"serverChildren would be complete if leaf node"),c=YM(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Dt(n);let d=hT(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,gn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Qt.EMPTY_NODE,gn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=dw(r,bl(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ym(r,rn())!=null,Od(e,u,o,t.filter.filtersNodes())}}function _q(t,e){const n=bl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ot(e)&&!n.getImmediateChild(Dt(e)).isEmpty())?n.getChild(e):null}function zC(t,e,n,r){e.type===Cs.MERGE&&e.source.queryId!==null&&(Fe(bl(t.viewCache_),"We should always have a full cache before handling merges"),Fe(lw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=mq(t.processor_,i,e,n,r);return pq(t.processor_,s.viewCache),Fe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Tq(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Tq(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return qY(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GC;function Sq(t){Fe(!GC,"__referenceConstructor has already been defined"),GC=t}function mT(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Fe(s!=null,"SyncTree gave us an op for an invalid query."),zC(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(zC(o,e,n,r));return s}}function gT(t,e){let n=null;for(const r of t.views.values())n=n||_q(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YC;function Eq(t){Fe(!YC,"__referenceConstructor has already been defined"),YC=t}class qC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mn(null),this.pendingWriteTree_=cq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Iq(t,e,n,r,i){return ZY(t.pendingWriteTree_,e,n,r,i),i?Av(t,new yl(UM(),e,n)):[]}function cu(t,e,n=!1){const r=eq(t.pendingWriteTree_,e);if(tq(t.pendingWriteTree_,e)){let s=new mn(null);return r.snap!=null?s=s.set(rn(),!0):ji(r.children,o=>{s=s.set(new _n(o),!0)}),Av(t,new Gm(r.path,s,n))}else return[]}function Ov(t,e,n){return Av(t,new yl(VM(),e,n))}function Cq(t,e,n){const r=mn.fromObject(n);return Av(t,new bf(VM(),e,r))}function Oq(t,e,n,r){const i=n$(t,r);if(i!=null){const s=r$(i),o=s.path,a=s.queryId,l=Ui(o,e),u=new yl(BM(a),l,n);return i$(t,o,u)}else return[]}function Aq(t,e,n,r){const i=n$(t,r);if(i){const s=r$(i),o=s.path,a=s.queryId,l=Ui(o,e),u=mn.fromObject(n),c=new bf(BM(a),l,u);return i$(t,o,c)}else return[]}function ZM(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ui(o,e),u=gT(a,l);if(u)return u});return GM(i,e,s,n,!0)}function Av(t,e){return e$(e,t.syncPointTree_,null,KM(t.pendingWriteTree_,rn()))}function e$(t,e,n,r){if(Ot(t.path))return t$(t,e,n,r);{const i=e.get(rn());n==null&&i!=null&&(n=gT(i,rn()));let s=[];const o=Dt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=qM(r,o);s=s.concat(e$(a,l,u,c))}return i&&(s=s.concat(mT(i,t,r,n))),s}}function t$(t,e,n,r){const i=e.get(rn());n==null&&i!=null&&(n=gT(i,rn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=qM(r,o),c=t.operationForChild(o);c&&(s=s.concat(t$(c,a,l,u)))}),i&&(s=s.concat(mT(i,t,r,n))),s}function n$(t,e){return t.tagToQueryMap.get(e)}function r$(t){const e=t.indexOf("$");return Fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _n(t.substr(0,e))}}function i$(t,e,n){const r=t.syncPointTree_.get(e);Fe(r,"Missing sync point for query tag that we're tracking");const i=KM(t.pendingWriteTree_,e);return mT(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vT(n)}node(){return this.node_}}class yT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=hr(this.path_,e);return new yT(this.syncTree_,n)}node(){return ZM(this.syncTree_,this.path_)}}const Pq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},XC=function(t,e,n){if(!t||typeof t!="object")return t;if(Fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return kq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return xq(t[".sv"],e);Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},kq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Fe(!1,"Unexpected server value: "+t)}},xq=function(t,e,n){t.hasOwnProperty("increment")||Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Fe(!1,"Unexpected increment value: "+r);const i=e.node();if(Fe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Dq=function(t,e,n,r){return bT(e,new yT(n,t),r)},Rq=function(t,e,n){return bT(t,new vT(e),n)};function bT(t,e,n){const r=t.getPriority().val(),i=XC(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=XC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ur(a,Rr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ur(i))),o.forEachChild($r,(a,l)=>{const u=bT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function _T(t,e){let n=e instanceof _n?e:new _n(e),r=t,i=Dt(n);for(;i!==null;){const s=Wu(r.node.children,i)||{children:{},childCount:0};r=new wT(i,r,s),n=gn(n),i=Dt(n)}return r}function Ic(t){return t.node.value}function s$(t,e){t.node.value=e,pw(t)}function o$(t){return t.node.childCount>0}function Nq(t){return Ic(t)===void 0&&!o$(t)}function Pv(t,e){ji(t.node.children,(n,r)=>{e(new wT(n,t,r))})}function a$(t,e,n,r){n&&!r&&e(t),Pv(t,i=>{a$(i,e,!0,r)}),n&&r&&e(t)}function Mq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ih(t){return new _n(t.parent===null?t.name:Ih(t.parent)+"/"+t.name)}function pw(t){t.parent!==null&&$q(t.parent,t.name,t)}function $q(t,e,n){const r=Nq(n),i=go(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,pw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,pw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=/[\[\].#$\/\u0000-\u001F\u007F]/,Fq=/[\[\].#$\u0000-\u001F\u007F]/,Gy=10*1024*1024,l$=function(t){return typeof t=="string"&&t.length!==0&&!Lq.test(t)},Uq=function(t){return typeof t=="string"&&t.length!==0&&!Fq.test(t)},Vq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Uq(t)},u$=function(t,e,n){const r=n instanceof _n?new bY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Oa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Oa(r)+" with contents = "+e.toString());if(lM(e))throw new Error(t+"contains "+e.toString()+" "+Oa(r));if(typeof e=="string"&&e.length>Gy/3&&Lg(e)>Gy)throw new Error(t+"contains a string greater than "+Gy+" utf8 bytes "+Oa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ji(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!l$(o)))throw new Error(t+" contains an invalid key ("+o+") "+Oa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wY(r,o),u$(t,a,r),_Y(r)}),i&&s)throw new Error(t+' contains ".value" child '+Oa(r)+" in addition to actual children.")}},Bq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!l$(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Vq(n))throw new Error(nU(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hq(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!xM(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function $l(t,e,n){Hq(t,n),Wq(t,r=>ns(r,e)||ns(e,r))}function Wq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Kq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Kq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ya&&Dr("event: "+n.toString()),Sh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq="repo_interrupt",Gq=25;class Yq{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zm(),this.transactionQueueTree_=new wT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qq(t,e,n){if(t.stats_=aT(t.repoInfo_),t.forceRestClient_||HG())t.server_=new Km(t.repoInfo_,(r,i,s,o)=>{QC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>JC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Sr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new no(t.repoInfo_,e,(r,i,s,o)=>{QC(t,r,i,s,o)},r=>{JC(t,r)},r=>{Qq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=qG(t.repoInfo_,()=>new YY(t.stats_,t.server_)),t.infoData_=new HY,t.infoSyncTree_=new qC({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ov(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),TT(t,"connected",!1),t.serverSyncTree_=new qC({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);$l(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Xq(t){const n=t.infoData_.getNode(new _n(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function c$(t){return Pq({timestamp:Xq(t)})}function QC(t,e,n,r,i){t.dataUpdateCount++;const s=new _n(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=hm(n,u=>Rr(u));o=Aq(t.serverSyncTree_,s,l,i)}else{const l=Rr(n);o=Oq(t.serverSyncTree_,s,l,i)}else if(r){const l=hm(n,u=>Rr(u));o=Cq(t.serverSyncTree_,s,l)}else{const l=Rr(n);o=Ov(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ET(t,s)),$l(t.eventQueue_,a,o)}function JC(t,e){TT(t,"connected",e),e===!1&&Zq(t)}function Qq(t,e){ji(e,(n,r)=>{TT(t,n,r)})}function TT(t,e,n){const r=new _n("/.info/"+e),i=Rr(n);t.infoData_.updateSnapshot(r,i);const s=Ov(t.infoSyncTree_,r,i);$l(t.eventQueue_,r,s)}function Jq(t){return t.nextWriteId_++}function Zq(t){d$(t,"onDisconnectEvents");const e=c$(t),n=zm();aw(t.onDisconnect_,rn(),(i,s)=>{const o=Dq(i,s,t.serverSyncTree_,e);FM(n,i,o)});let r=[];aw(n,rn(),(i,s)=>{r=r.concat(Ov(t.serverSyncTree_,i,s));const o=rX(t,i);ET(t,o)}),t.onDisconnect_=zm(),$l(t.eventQueue_,rn(),r)}function eX(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zq)}function d$(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Dr(n,...e)}function f$(t,e,n){return ZM(t.serverSyncTree_,e,n)||Qt.EMPTY_NODE}function ST(t,e=t.transactionQueueTree_){if(e||kv(t,e),Ic(e)){const n=p$(t,e);Fe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&tX(t,Ih(e),n)}else o$(e)&&Pv(e,n=>{ST(t,n)})}function tX(t,e,n){const r=n.map(u=>u.currentWriteId),i=f$(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Fe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ui(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{d$(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(cu(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();kv(t,_T(t.transactionQueueTree_,e)),ST(t,t.transactionQueueTree_),$l(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Sh(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Pi("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}ET(t,e)}},o)}function ET(t,e){const n=h$(t,e),r=Ih(n),i=p$(t,n);return nX(t,i,r),r}function nX(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Ui(n,l.path);let c=!1,d;if(Fe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(cu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Gq)c=!0,d="maxretry",i=i.concat(cu(t.serverSyncTree_,l.currentWriteId,!0));else{const f=f$(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){u$("transaction failed: Data returned ",h,l.path);let p=Rr(h);typeof h=="object"&&h!=null&&go(h,".priority")||(p=p.updatePriority(f.getPriority()));const g=l.currentWriteId,y=c$(t),v=Rq(p,f,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Jq(t),o.splice(o.indexOf(g),1),i=i.concat(Iq(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(cu(t.serverSyncTree_,g,!0))}else c=!0,d="nodata",i=i.concat(cu(t.serverSyncTree_,l.currentWriteId,!0))}$l(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}kv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Sh(r[a]);ST(t,t.transactionQueueTree_)}function h$(t,e){let n,r=t.transactionQueueTree_;for(n=Dt(e);n!==null&&Ic(r)===void 0;)r=_T(r,n),e=gn(e),n=Dt(e);return r}function p$(t,e){const n=[];return m$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function m$(t,e,n){const r=Ic(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Pv(e,i=>{m$(t,i,n)})}function kv(t,e){const n=Ic(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,s$(e,n.length>0?n:void 0)}Pv(e,r=>{kv(t,r)})}function rX(t,e){const n=Ih(h$(t,e)),r=_T(t.transactionQueueTree_,e);return Mq(r,i=>{Yy(t,i)}),Yy(t,r),a$(r,i=>{Yy(t,i)}),n}function Yy(t,e){const n=Ic(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Fe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Fe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?s$(e,void 0):n.length=s+1,$l(t.eventQueue_,Ih(e),i);for(let o=0;o<r.length;o++)Sh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function sX(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pi(`Invalid query segment '${n}' in query '${t}'`)}return e}const ZC=function(t,e){const n=oX(t),r=n.namespace;n.domain==="firebase.com"&&gl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&gl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||MG();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zG(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _n(n.pathString)}},oX=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=iX(t.substring(c,d)));const f=sX(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ot(this._path)?null:AM(this._path)}get ref(){return new Cc(this._repo,this._path)}get _queryIdentifier(){const e=FC(this._queryParams),n=sT(e);return n==="{}"?"default":n}get _queryObject(){return FC(this._queryParams)}isEqual(e){if(e=Ht(e),!(e instanceof IT))return!1;const n=this._repo===e._repo,r=xM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+yY(this._path)}}class Cc extends IT{constructor(e,n){super(e,n,new dT,!1)}get parent(){const e=kM(this._path);return e===null?null:new Cc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Sq(Cc);Eq(Cc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX="FIREBASE_DATABASE_EMULATOR_HOST",mw={};let lX=!1;function uX(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||gl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=ZC(s,i),a=o.repoInfo,l,u;typeof process<"u"&&bC&&(u=bC[aX]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=ZC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new iw(iw.OWNER):new KG(t.name,t.options,e);Bq("Invalid Firebase Database URL",o),Ot(o.path)||gl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=dX(a,t,c,new WG(t.name,n));return new fX(d,t)}function cX(t,e){const n=mw[e];(!n||n[t.key]!==t)&&gl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eX(t),delete n[t.key]}function dX(t,e,n,r){let i=mw[e.name];i||(i={},mw[e.name]=i);let s=i[t.toURLString()];return s&&gl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Yq(t,lX,n,r),i[t.toURLString()]=s,s}class fX{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cc(this._repo,rn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cX(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(t){kG(da),gi(new ti("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return uX(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ir(wC,_C,t),Ir(wC,_C,"esm2017")}no.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};no.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hX();function g$(t){return kH(iM(t))}function pX(t){return gX({initialUser:t,dependencies:{popupRedirectResolver:nM,persistence:[ZN,GN,nT]}})}const mX=Symbol("VueFireAuth");function gX({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=vX(n,r,e,t);PG(i,s)}}function vX(t,e,n,r,i=$N(t,r)){const s=CG(t,e).run(()=>se(n));return OG.set(t,s),e.provide(mX,i),[s,i]}function yX(t,{firebaseApp:e,modules:n=[]}){t.provide(rM,e);for(const r of n)r(e,t)}const bX=""+new URL("bundle8.css",import.meta.url).href,v$={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},wX={avatarUrl:bX,headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},_X=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],TX=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],y$=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Yn;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await $i(l)))??[])).map(async l=>Xm.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[]}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Yn||(Yn={}));var Xm;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await $i(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(Xm||(Xm={}));var gw;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(gw||(gw={}));const Qm=[{value:"bg-gray-900",label:"Default",background:"bg-gray-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"}],SX=t=>Qm.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-gray-900",text:(t==null?void 0:t.text)||"text-white"}:e),EX=Qm.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-gray-700",text:"text-white"}:t),qy=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],Xt=g$(),jt={content:Xi(Xt,"content"),projects:Xi(Xt,"projects"),menuItems:t=>Xi(Xt,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:Xi(Xt,"menuItemsPrivate"),blogPosts:t=>Xi(Xt,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:Xi(Xt,"blogPostsPrivate"),blogReactions:t=>Xi(Xt,t?"blogReactionsPrivate":"blogReactions"),usersPublic:Xi(Xt,"usersPublic"),files:Xi(Xt,"files")},ar=bD("main",{state:()=>({profile:v$,content:wX,menuItems:TX,projects:_X,blogPosts:{data:{public:[],private:[],single:null},isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1,databaseCreationActive:!1,databaseMutationActive:!1,databaseDeletionActive:!1},blogReactions:{databaseCreationActive:!1,databaseDeletionActive:!1},publicUsers:[],online:!0,debug:!1,fetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility]},actions:{async fetchAll(t,e){try{this.fetchAllLoading||(this.fetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()])))}catch(n){qe.firebaseError(this.debug,n)}finally{this.fetchAllLoading=!1}},async fetchContent(){try{const t=await $i(Kt(Xt,jt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){qe.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await Bl(jt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await $i(n)))})));this.projects=t.length?eC(t):this.projects}catch(t){qe.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await Bl(jt.menuItems());if(t)try{e=e.concat(await Bl(jt.menuItemsPrivate,[WI("allowedUserIds","array-contains",Kt(Xt,jt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?eC(e):this.menuItems,this.menuItems}catch(e){qe.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{e.loadingIndicator!==!1&&(this.blogPosts.fetchLoading=!0);const r=e.visibility??this.blogPosts.visibility,i=this.blogPosts.data[r][this.blogPosts.data[r].length-1],s=[KI("datePinned","desc"),KI("date","desc"),jH(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[r]=[]),!e.amount&&i&&s.push(WH(i.datePinned,i.date));var n=[];r==="private"&&t?n=await Bl(jt.blogPostsPrivate,[WI("allowedUserIds","array-contains",Kt(Xt,jt.usersPublic.id,t).id),...s]):r==="public"&&(n=await Bl(jt.blogPosts(!1),s));const o=await Promise.all(n.map(async a=>await Yn.mapIncoming(a)));if(e.amount)this.blogPosts.data[r]=o;else for(const a of o)this.blogPosts.data[r].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(r){qe.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchBlogPost(t,e){try{console.log("attempt to fetch single"),this.blogPosts.fetchLoading=!0;var n=await $i(Kt(jt.blogPosts(!!(e!=null&&e.isPrivate)),t));return n||(n=await $i(Kt(jt.blogPostsPrivate,t))),n?(this.blogPosts.data.single=await Yn.mapIncoming(n),this.blogPosts.data.single):null}catch(r){return qe.firebaseError(this.debug,r),null}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await Bl(jt.usersPublic)}catch(t){return qe.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await $i(Kt(Xt,jt.usersPublic.id,t))}catch(e){return qe.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{this.blogPosts.databaseCreationActive=!0,this.blogPosts.mutationLoading=!0;const i=Po(e);return await $m(Kt(Xt,jt.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:Xn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Xn.fromDate(e.countdown):null,timer:e.timer?Xn.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),qe.success("Successfully created Post"),!0}catch(i){return qe.firebaseError(this.debug,i),!1}finally{this.blogPosts.mutationLoading=!1,this.blogPosts.databaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.databaseMutationActive=!0,this.blogPosts.mutationLoading=!0;const i=jt.blogPosts(n.isPrivate).id;let s="";if(Yn.Content.instanceOf(e)&&(await Mo(Kt(Xt,i,t),{...Yn.Content.convert(e),dateUpdated:Xn.now()}),s="content"),Yn.Styling.instanceOf(e)&&(await Mo(Kt(Xt,i,t),{...Yn.Styling.convert(e)}),s="styling"),Yn.Settings.instanceOf(e)&&(await Mo(Kt(Xt,i,t),{...Yn.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){const o=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){qe.firebaseError(this.debug,i)}finally{this.blogPosts.mutationLoading=!1,this.blogPosts.databaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.databaseMutationActive=!0,this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||qe.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,Xm.convert(a),{includeTime:!0,fetch:!1})||qe.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=Q0(a);await this.updateFileInfo(l.name,o)||qe.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return qe.error("Failed to re-create Post",{debug:this.debug}),!1}else return qe.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return qe.firebaseError(this.debug,s),!1}finally{this.blogPosts.mutationLoading=!1,this.blogPosts.databaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.databaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=Po(n);return await sd(Kt(Xt,jt.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),qe.success("Successfully deleted Post"),!0}return!1}catch(n){return qe.firebaseError(this.debug,n),!1}finally{this.blogPosts.databaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.databaseCreationActive=!0;const r=Po(t),i=Kt(Xt,jt.blogPosts(r.isPrivate).id,t.id),s=await $i(i);if(s){const o=await yK(jt.blogReactions(r.isPrivate),{user:Kt(Xt,jt.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:Xn.now(),post:i});if(await Mo(Kt(Xt,jt.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(s.id,r);this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return qe.success("Successfully created Reaction"),!0}return!1}catch(r){return qe.firebaseError(this.debug,r),!1}finally{this.blogReactions.databaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.databaseDeletionActive=!0;const i=Po(e);if(n.mutatePost){const s=Kt(Xt,jt.blogPosts(i.isPrivate).id,e.id),o=await $i(s);o&&await Mo(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await sd(Kt(Xt,jt.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),qe.success("Successfully deleted Reaction"),!0}catch(i){return qe.firebaseError(this.debug,i),!1}finally{this.blogReactions.databaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.databaseDeletionActive=!0;const e=Po(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await sd(Kt(Xt,jt.blogReactions(e.isPrivate).id,r.id));return n.length&&qe.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return qe.firebaseError(this.debug,e),!1}finally{this.blogReactions.databaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await $i(Kt(Xt,jt.files.path,t))}catch(e){return qe.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=cK(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,qe.success("Successfully uploaded File"),!0}catch(r){return qe.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=Po(i);s=Kt(Xt,jt.blogPosts(o.isPrivate).id,i.id)}return await $m(Kt(Xt,jt.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return qe.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=Po(e);n=Kt(Xt,jt.blogPosts(r.isPrivate).id,e.id)}return await Mo(Kt(Xt,jt.files.path,t),{post:n??null}),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await sd(Kt(Xt,jt.files.path,t.name)),await fK(t),e||qe.success("Successfully deleted File"),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(Q0(r),!0);return n.length&&qe.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),nu=IG(pD);nu.onAuthStateChanged(t=>{or().fetchUser(t);const e=ar();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const Hs=g$(),_a={users:Xi(Hs,"users"),usersPublic:Xi(Hs,"usersPublic")},or=bD("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:nu.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await $i(Kt(Hs,_a.usersPublic.id,t.uid));const e=await $i(Kt(Hs,_a.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await dz(nu,t,e);await this.fetchUser(n),qe.success("Successfully logged in",{route:"dashboard"})}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await cz(nu,t,e);await $m(Kt(Hs,_a.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),qe.success("Successfully created your account",{route:"dashboard"})}catch(r){qe.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=aa.credential(this.firebaseUser.email,e);await uC(this.firebaseUser,n),await fz(this.firebaseUser,t),qe.success("Successfully changed your e-mail")}}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=aa.credential(this.firebaseUser.email,e);await uC(this.firebaseUser,n),await hz(this.firebaseUser,t),qe.success("Successfully changed your password")}}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await uz(nu,t),qe.success("Successfully requested password reset")}catch(e){qe.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(is(this.currentUser,t)?qe.warning("Nothing changed in your details"):(await Mo(Kt(Hs,_a.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your profile")))}catch(e){qe.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?is(this.publicUser,t)?qe.warning("Nothing changed in your public profile"):(await Mo(Kt(Hs,_a.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your public profile")):this.firebaseUser?(await $m(Kt(Hs,_a.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your public profile")):qe.firebaseError(!1)}catch(e){qe.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await mz(nu),this.currentUser=null,this.publicUser=null,qe.success("Successfully logged out",{route:"home"})}catch(t){qe.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await sd(Kt(Hs,_a.users.id,this.firebaseUser.uid)),await gz(this.firebaseUser),this.currentUser=null,this.publicUser=null,qe.success("Successfully deleted your account",{route:"home"}))}catch(t){qe.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}});function IX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z","clip-rule":"evenodd"})])}function CX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z","clip-rule":"evenodd"}),K("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"})])}function OX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function AX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z","clip-rule":"evenodd"})])}function PX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"})])}function kX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}const xX=["href"],DX=Pe({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{}},setup(t){return(e,n)=>{const r=En("RouterLink");return e.url?(S(),U(Te,{key:0},[e.url.startsWith("http")?(S(),U("a",{key:1,class:Ae(e.class),href:e.url},[fe(e.$slots,"default")],10,xX)):(S(),re(r,{key:0,class:Ae(e.class),"active-class":e.activeClass,to:{path:e.url}},{default:ce(()=>[fe(e.$slots,"default")]),_:3},8,["class","active-class","to"]))],64)):fe(e.$slots,"default",{key:1,class:Ae(e.class)})}}}),RX=["type","disabled"],NX={class:Ae("w-full flex flex-column justify-center")},Ut=Pe({__name:"CustomButton",props:{class:{},url:{},type:{},activeClass:{},style:{type:[Boolean,null,String,Object,Array]},outlined:{type:Boolean},list:{type:Boolean},action:{},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=ee(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"action-positive":return e.outlined?"button-outlined-action-positive":"button-action-positive";case"orange":return e.outlined?"button-outlined-orange":"button-orange";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(S(),re(DX,{class:Ae([n.value,"md:mt-0 py-2 px-4 rounded-full",r.list?"flex flex-column justify-center":"",...P(Ca)(e.class)]),activeClass:r.activeClass,url:r.url},{default:ce(({class:s})=>[K("button",{class:Ae(s),style:rr(r.style),type:r.action??"button",disabled:r.loading,onClick:i[0]||(i[0]=o=>r.$emit("click"))},[K("span",NX,[r.loading?(S(),re(P(IX),{key:0,class:"my-1 mr-2.5 h-5 w-5 animate-spin"})):G("",!0),fe(r.$slots,"default")])],14,RX)]),_:3},8,["class","activeClass","url"]))}}),Fc=Pe({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(S(),U("span",{class:Ae({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},Me(e.time),3))}}),MX=Pe({__name:"CountdownWrapper",props:{time:{},direction:{}},setup(t){const e=t,n=m=>(e.direction==="up"?m=Math.abs(m):m=Math.max(0,m),Math.floor(m)),r=se(0),i=ee(()=>n(r.value/Mm)),s=ee(()=>r.value%Mm),o=ee(()=>n(s.value/Nm)),a=ee(()=>s.value%Nm),l=ee(()=>n(a.value/X0)),u=ee(()=>a.value%X0),c=ee(()=>n(u.value/q0)),d=ee(()=>u.value%q0),f=ee(()=>n(d.value/mN)),h=ee(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&f.value===0),p=()=>{r.value=e.time-new Date().getTime(),setTimeout(p,1e3)};return Wt(()=>{p()}),(m,g)=>fe(m.$slots,"default",{years:i.value,days:o.value,hours:l.value,minutes:c.value,seconds:f.value,isTimeUp:h.value,daysIsLast:m.direction==="down"?o.value===364:o.value===0,hoursIsLast:m.direction==="down"?l.value===23:o.value===0,minutesIsLast:m.direction==="down"?c.value===59:c.value===0,secondsIsLast:m.direction==="down"?f.value===59:f.value===0})}}),$X={class:"grid grid-flow-col text-center"},LX={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},FX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},UX={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},VX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},BX={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},jX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},HX={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},WX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},KX={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},zX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Hl=Pe({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t;return(n,r)=>(S(),U("div",{class:Ae({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[Z(MX,{time:e.time,direction:n.direction},{default:ce(({years:i,days:s,hours:o,minutes:a,seconds:l,isTimeUp:u,daysIsLast:c,hoursIsLast:d,minutesIsLast:f,secondsIsLast:h})=>[K("div",$X,[i>0?(S(),U("div",LX,[K("span",FX,[Z(Fc,{time:i,animate:i>=0&&c&&d&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" years ")])):G("",!0),i>0||s>0||u?(S(),U("div",UX,[K("span",VX,[Z(Fc,{time:s,animate:s>=0&&d&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" days ")])):G("",!0),i>0||s>0||o>0||u?(S(),U("div",BX,[K("span",jX,[Z(Fc,{time:o,animate:o>=0&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" hrs ")])):G("",!0),i>0||s>0||o>0||a>0||u?(S(),U("div",HX,[K("span",WX,[Z(Fc,{time:a,animate:a>=0&&h,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" mins ")])):G("",!0),i>0||s>0||o>0||a>0||l>0||u?(S(),U("div",KX,[K("span",zX,[Z(Fc,{time:l,animate:!u,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" secs ")])):G("",!0)])]),_:1},8,["time","direction"])],2))}});function Xy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=CT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function GX(t){return XX(t)||qX(t)||CT(t)||YX()}function YX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XX(t){if(Array.isArray(t))return vw(t)}function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function Qy(t,e){return ZX(t)||JX(t,e)||CT(t,e)||QX()}function QX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CT(t,e){if(t){if(typeof t=="string")return vw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vw(t,e)}}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function ZX(t){if(Array.isArray(t))return t}var Oe={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Qy(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(d,f){if(f!=null){var h=Pd(f);if(h==="string"||h==="number")d.push(f);else if(h==="object"){var p=Array.isArray(f)?s(o,f):Object.entries(f).map(function(m){var g=Qy(m,2),y=g[0],v=g[1];return o==="style"&&(v||v===0)?"".concat(y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(v):v?y:void 0});d=p.length?d.concat(p.filter(function(m){return!!m})):d}}return d},c)};Object.entries(r).forEach(function(s){var o=Qy(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?GX(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport(),h,p,m="top";u.top+a+s>f.height?(h=u.top+c-s,m="bottom",h<0&&(h=c)):h=a+u.top+c,u.left+o>f.width?p=Math.max(0,u.left+d+l-o):p=u.left+d,e.style.top=h+"px",e.style.left=p+"px",e.style.transformOrigin=m,r&&(e.style.marginTop=m==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(g){try{var y=window.getComputedStyle(g,null);return i.test(y.getPropertyValue("overflow"))||i.test(y.getPropertyValue("overflowX"))||i.test(y.getPropertyValue("overflowY"))}catch{return!1}},o=Xy(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),d=Xy(c),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,p=this.findSingle(l,h);p&&s(p)&&n.push(p)}}catch(m){d.e(m)}finally{d.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(m){o.e(m)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Pd(HTMLElement))==="object"?e instanceof HTMLElement:e&&Pd(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,d=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>d&&(e.scrollTop=c+u-d+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Xy(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function eQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nQ(r.key),r)}}function tQ(t,e,n){return e&&eO(t.prototype,e),n&&eO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nQ(t){var e=rQ(t,"string");return wf(e)=="symbol"?e:String(e)}function rQ(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b$=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};eQ(this,t),this.element=e,this.listener=n}return tQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=Oe.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function iQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function tO(t,e){return aQ(t)||oQ(t,e)||OT(t,e)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function aQ(t){if(Array.isArray(t))return t}function nO(t){return cQ(t)||uQ(t)||OT(t)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cQ(t){if(Array.isArray(t))return yw(t)}function Jy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=OT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function OT(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}var Ee={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&kd(e)=="object"&&kd(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=Jy(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=Jy(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=Jy(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&kd(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=nO(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(nO(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=tO(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=tO(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},rO=0;function rc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return rO++,"".concat(t).concat(rO)}function dQ(t){return mQ(t)||pQ(t)||hQ(t)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hQ(t,e){if(t){if(typeof t=="string")return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(t,e)}}function pQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mQ(t){if(Array.isArray(t))return bw(t)}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),d=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:d}),d},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return dQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Nu=gQ();function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){vQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vQ(t,e,n){return e=yQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=bQ(t,"string");return _f(e)=="symbol"?e:String(e)}function bQ(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;hs()?Wt(t):e?t():Wn(t)}var _Q=0;function w$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=se(!1),r=se(t),i=se(null),s=Oe.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,f=e.name,h=f===void 0?"style_".concat(++_Q):f,p=e.id,m=p===void 0?void 0:p,g=e.media,y=g===void 0?void 0:g,v=e.nonce,_=v===void 0?void 0:v,b=e.props,w=b===void 0?{}:b,T=function(){},x=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var F=sO(sO({},w),M),N=F.name||h,k=F.id||m,R=F.nonce||_;i.value=a.querySelector('style[data-primevue-style-id="'.concat(N,'"]'))||a.getElementById(k)||a.createElement("style"),i.value.isConnected||(r.value=E||t,Oe.setAttributes(i.value,{type:"text/css",id:k,media:y,nonce:R}),a.head.appendChild(i.value),Oe.setAttribute(i.value,"data-primevue-style-id",h),Oe.setAttributes(i.value,F)),!n.value&&(T=It(r,function(D){i.value.textContent=D},{immediate:!0}),n.value=!0)}},C=function(){!a||!n.value||(T(),Oe.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!d&&wQ(x),{id:m,name:h,css:r,unload:C,load:x,isLoaded:_g(n)}}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function TQ(t,e){return CQ(t)||IQ(t,e)||EQ(t,e)||SQ()}function SQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EQ(t,e){if(t){if(typeof t=="string")return oO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function CQ(t){if(Array.isArray(t))return t}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){OQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQ(t,e,n){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQ(t){var e=PQ(t,"string");return Tf(e)=="symbol"?e:String(e)}function PQ(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,xQ={},DQ={},er={name:"base",css:kQ,classes:xQ,inlineStyles:DQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?w$(this.css,Zy({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=TQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Zy(Zy({},this),{},{css:void 0},e)}},RQ={root:function(e){var n=e.props;return["p-avatar p-component",{"p-avatar-image":n.image!=null,"p-avatar-circle":n.shape==="circle","p-avatar-lg":n.size==="large","p-avatar-xl":n.size==="xlarge"}]},label:"p-avatar-text",icon:"p-avatar-icon"},NQ=er.extend({name:"avatar",classes:RQ});function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=FQ(t,"string");return Sf(e)=="symbol"?e:String(e)}function FQ(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eb=er.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w$(e,MQ({name:"global"},n))}});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function UQ(t){return S$(t)||VQ(t)||T$(t)||_$()}function VQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dp(t,e){return S$(t)||BQ(t,e)||T$(t,e)||_$()}function _$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T$(t,e){if(t){if(typeof t=="string")return uO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uO(t,e)}}function uO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function S$(t){if(Array.isArray(t))return t}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){jp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jp(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=HQ(t,"string");return Ef(e)=="symbol"?e:String(e)}function HQ(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wr={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;eb.loadStyle({nonce:(n=this.$config)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,d,f=(e=this.pt)===null||e===void 0?void 0:e._usept,h=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,p=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=p||h)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var m=(o=this.$config)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,g=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,y=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=y||g)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;er.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ee.isFunction(e)?e.apply(void 0,r):ie.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Ee.isNotEmpty(n)&&eb.loadGlobalStyle(n,{nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ee.toFlatCase(n).split("."),s=i.shift();return s?Ee.isObject(e)?this._getOptionValue(Ee.getItemValue(e[Object.keys(e).find(function(o){return Ee.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ee.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$config)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,h=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,fn(fn({},i),{},{global:f||{}})),p=this._getPTDatasets(r);return u||!u&&h?d?this._mergeProps(d,f,h,p):fn(fn(fn({},f),h),p):fn(fn({},h),p)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ie(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&Ee.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&fn(fn({},r==="root"&&fn(jp({},"".concat(i,"name"),Ee.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&jp({},"".concat(i,"extend"),Ee.toFlatCase(this.$.type.name)))),{},jp({},"".concat(i,"section"),Ee.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Ee.isString(e)||Ee.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,d=Ee.toFlatCase(r),f=Ee.toFlatCase(n.$name);return(l=u?d!==f?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(m){return n(m,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$config)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,f=s(e.originalValue),h=s(e.value);return f===void 0&&h===void 0?void 0:Ee.isString(h)?h:Ee.isString(f)?f:u||!u&&h?d?this._mergeProps(d,f,h):fn(fn({},f),h):h}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,fn(fn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ie(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,fn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,fn(fn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,fn(fn({},this.$params),r)),s=this._getOptionValue(eb.inlineStyles,e,fn(fn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return Ee.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,fn({},n.$params))||Ee.getItemValue(r,fn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$config)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return fn(fn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=dp(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=dp(n,2),i=r[0],s=r[1],o=i.split(":"),a=UQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,d,f){return!u[c]&&(u[c]=d===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=dp(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=dp(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},WQ={name:"BaseAvatar",extends:Wr,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:NQ,provide:function(){return{$parentInstance:this}}},ww={name:"Avatar",extends:WQ,inheritAttrs:!1,emits:["error"],methods:{onError:function(e){this.$emit("error",e)}}},KQ=["aria-labelledby","aria-label"],zQ=["src","alt"];function GQ(t,e,n,r,i,s){return S(),U("div",ie({class:t.cx("root"),"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[t.label?(S(),U("span",ie({key:0,class:t.cx("label")},t.ptm("label")),Me(t.label),17)):t.$slots.icon?(S(),re(un(t.$slots.icon),{key:1,class:Ae(t.cx("icon"))},null,8,["class"])):t.icon?(S(),U("span",ie({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):t.image?(S(),U("img",ie({key:3,src:t.image,alt:t.ariaLabel,onError:e[0]||(e[0]=function(){return s.onError&&s.onError.apply(s,arguments)})},t.ptm("image")),null,16,zQ)):G("",!0)]})],16,KQ)}ww.render=GQ;var YQ={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},qQ=er.extend({name:"tag",classes:YQ}),XQ={name:"BaseTag",extends:Wr,props:{value:null,severity:null,rounded:Boolean,icon:String},style:qQ,provide:function(){return{$parentInstance:this}}},_w={name:"Tag",extends:XQ,inheritAttrs:!1};function QQ(t,e,n,r,i,s){return S(),U("span",ie({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(S(),re(un(t.$slots.icon),ie({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(S(),U("span",ie({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):G("",!0),t.value||t.$slots.default?fe(t.$slots,"default",{key:2},function(){return[K("span",ie({class:t.cx("value")},t.ptm("value")),Me(t.value),17)]}):G("",!0)],16)}_w.render=QQ;const JQ={class:"flex justify-between"},ZQ={class:"flex flex-col"},eJ={class:"flex justify-between"},tJ={class:"xl:flex"},nJ={key:0,class:"flex gap-2"},rJ=["href"],iJ={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},sJ={key:1,class:"flex gap-2"},oJ={key:0,class:"xl:mt-2"},ei=Pe({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},description:{},avatar:{},loading:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},setup(t){return(e,n)=>(S(),U("div",{class:Ae(["group/bubble background-primary rounded-3xl p-5 md:p-10",e.url?"hover:bg-opacity-30":null,e.loading?"animate-pulse":null])},[K("div",JQ,[K("div",ZQ,[K("div",eJ,[K("div",tJ,[e.url?(S(),U("div",nJ,[e.avatar?(S(),re(P(ww),{key:0,image:e.avatar,shape:"circle"},null,8,["image"])):G("",!0),K("a",{href:e.url},[K("h2",iJ,Me(e.title),1)],8,rJ),e.tags?(S(!0),U(Te,{key:1},st(e.tags,r=>(S(),re(P(_w),{class:"ms-2",value:r.value,severity:r.severity,rounded:r.rounded!==!1,icon:r.icon},null,8,["value","severity","rounded","icon"]))),256)):G("",!0)])):e.title?(S(),U("div",sJ,[e.avatar?(S(),re(P(ww),{key:0,image:e.avatar,shape:"circle"},null,8,["image"])):G("",!0),K("h2",ie({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},e.titleProps),[Qe(Me(e.title)+" ",1),e.tags?(S(!0),U(Te,{key:0},st(e.tags,r=>(S(),re(P(_w),{class:"ms-2",value:r.value,severity:r.severity,rounded:r.rounded!==!1,icon:r.icon},null,8,["value","severity","rounded","icon"]))),256)):G("",!0)],16)])):G("",!0),e.subTitle?(S(),U("p",ie({key:2,class:"text-sm text-gray-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},e.subTitleProps),Me(e.subTitle),17)):G("",!0)])]),e.description?(S(),U("div",oJ,[(S(!0),U(Te,null,st(Array.isArray(e.description)?e.description:[e.description],r=>(S(),U("p",ie({class:"text-gray-400 mb-2"},e.descriptionProps),Me(r),17))),256))])):G("",!0)]),fe(e.$slots,"right")]),fe(e.$slots,"default")],2))}});var aJ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,lJ=er.extend({name:"baseicon",css:aJ});function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){uJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uJ(t,e,n){return e=cJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=dJ(t,"string");return If(e)=="symbol"?e:String(e)}function dJ(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ma={name:"BaseIcon",extends:Wr,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:lJ,methods:{pti:function(){var e=Ee.isEmpty(this.label);return fO(fO({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},xv={name:"ChevronDownIcon",extends:ma},fJ=K("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),hJ=[fJ];function pJ(t,e,n,r,i,s){return S(),U("svg",ie({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),hJ,16)}xv.render=pJ;var E$={name:"ChevronRightIcon",extends:ma},mJ=K("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),gJ=[mJ];function vJ(t,e,n,r,i,s){return S(),U("svg",ie({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),gJ,16)}E$.render=vJ;function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function hO(t,e){return _J(t)||wJ(t,e)||bJ(t,e)||yJ()}function yJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(t,e){if(t){if(typeof t=="string")return pO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pO(t,e)}}function pO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _J(t){if(Array.isArray(t))return t}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){Tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tw(t,e,n){return e=TJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TJ(t){var e=SJ(t,"string");return Cf(e)=="symbol"?e:String(e)}function SJ(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mt={_getMeta:function(){return[Ee.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Ee.getItemValue(Ee.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ee.toFlatCase(n).split("."),s=i.shift();return s?Ee.isObject(e)?Mt._getOptionValue(Ee.getItemValue(e[Object.keys(e).find(function(o){return Ee.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ee.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var v=Mt._getOptionValue.apply(Mt,arguments);return Ee.isString(v)||Ee.isArray(v)?{class:v}:v},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$config)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,f=u.mergeProps,h=f===void 0?!1:f,p=a?Mt._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,m=Mt._usePT(r,Mt._getPT(i,r.$name),l,s,On(On({},o),{},{global:p||{}})),g=Mt._getPTDatasets(r,s);return d||!d&&m?h?Mt._mergeProps(r,h,p,m,g):On(On(On({},p),m),g):On(On({},m),g)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return On(On({},n==="root"&&Tw({},"".concat(r,"name"),Ee.toFlatCase(e.$name))),{},Tw({},"".concat(r,"section"),Ee.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=Ee.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(g){return r(g,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$config)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,f=d===void 0?!1:d,h=o(n.originalValue),p=o(n.value);return h===void 0&&p===void 0?void 0:Ee.isString(p)?p:Ee.isString(h)?h:c||!c&&p?f?Mt._mergeProps(e,f,h,p):On(On({},h),p):p}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Mt._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(Ee.toCapitalCase(n)),c=Mt._getConfig(i,s),d=r==null?void 0:r.$instance,f=Mt._usePT(d,Mt._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Mt._getOptionValue,"hooks.".concat(u)),h=Mt._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Mt._getOptionValue,"hooks.".concat(u)),p={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(d,p),h==null||h(d,p)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Ee.isFunction(e)?e.apply(void 0,r):ie.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,d;o._$instances=o._$instances||{};var f=Mt._getConfig(a,l),h=o._$instances[e]||{},p=Ee.isEmpty(h)?On(On({},n),n==null?void 0:n.methods):{};o._$instances[e]=On(On({},h),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:h.$el||o||void 0,$style:On({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$config:f,defaultPT:function(){return Mt._getPT(f==null?void 0:f.pt,void 0,function(g){var y;return g==null||(y=g.directives)===null||y===void 0?void 0:y[e]})},isUnstyled:function(){var g,y;return((g=o.$instance)===null||g===void 0||(g=g.$binding)===null||g===void 0||(g=g.value)===null||g===void 0?void 0:g.unstyled)!==void 0?(y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled:f==null?void 0:f.unstyled},ptm:function(){var g,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Mt._getPTValue(o.$instance,(g=o.$instance)===null||g===void 0||(g=g.$binding)===null||g===void 0||(g=g.value)===null||g===void 0?void 0:g.pt,y,On({},v))},ptmo:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Mt._getPTValue(o.$instance,g,y,v,!1)},cx:function(){var g,y,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(g=o.$instance)!==null&&g!==void 0&&g.isUnstyled()?void 0:Mt._getOptionValue((y=o.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.classes,v,On({},_))},sx:function(){var g,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v?Mt._getOptionValue((g=o.$instance)===null||g===void 0||(g=g.$style)===null||g===void 0?void 0:g.inlineStyles,y,On({},_)):void 0}},p),o.$instance=o._$instances[e],(c=(d=o.$instance)[s])===null||c===void 0||c.call(d,o,a,l,u),o["$".concat(e)]=o.$instance,Mt._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,d,f,h=Mt._getConfig(o,a);er.loadStyle({nonce:h==null||(u=h.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:h==null||(f=h.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,d,f,h=Mt._getConfig(o,a);er.loadStyle({nonce:h==null||(u=h.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:h==null||(f=h.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Mt._getMeta.apply(Mt,arguments),n=hO(e,2),r=n[0],i=n[1];return On({extend:function(){var o=Mt._getMeta.apply(Mt,arguments),a=hO(o,2),l=a[0],u=a[1];return Mt.extend(l,On(On(On({},i),i==null?void 0:i.methods),u))}},Mt._extend(r,i))}},EJ={root:"p-ink"},IJ=er.extend({name:"ripple",classes:EJ}),CJ=Mt.extend({style:IJ});function OJ(t){return xJ(t)||kJ(t)||PJ(t)||AJ()}function AJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(t,e){if(t){if(typeof t=="string")return Sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(t,e)}}function kJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xJ(t){if(Array.isArray(t))return Sw(t)}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dv=CJ.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$config;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=Oe.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&Oe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!Oe.getHeight(i)&&!Oe.getWidth(i)){var s=Math.max(Oe.getOuterWidth(r),Oe.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=Oe.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-Oe.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-Oe.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&Oe.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&Oe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&Oe.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?OJ(e.children).find(function(n){return Oe.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),DJ={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,r=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(r)}]},header:function(e){var n=e.instance,r=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(r,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},RJ=er.extend({name:"accordion",classes:DJ}),NJ={name:"BaseAccordion",extends:Wr,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:RJ,provide:function(){return{$parentInstance:this}}},Ch={name:"Accordion",extends:NJ,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||rc()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||rc()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,r){var i=this.tabs.length,s={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:i,first:r===0,last:r===i-1,active:this.isTabActive(r)}};return ie(this.ptm("tab.".concat(n),{tab:s}),this.ptm("accordiontab.".concat(n),{accordiontab:s}),this.ptm("accordiontab.".concat(n),s),this.ptmo(this.getTabProp(e,"pt"),n,s))},onTabClick:function(e,n,r){this.changeActiveIndex(e,n,r),this.$emit("tab-click",{originalEvent:e,index:r})},onTabKeyDown:function(e,n,r){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,r);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,r){this.changeActiveIndex(e,n,r),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling,i=Oe.findSingle(r,'[data-pc-section="header"]');return i?Oe.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):Oe.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling,i=Oe.findSingle(r,'[data-pc-section="header"]');return i?Oe.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):Oe.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,r){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(r),s=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==r}):this.d_activeIndex?this.d_activeIndex.push(r):this.d_activeIndex=[r]:this.d_activeIndex=this.d_activeIndex===r?null:r,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:r})}},changeFocusedTab:function(e,n){if(n&&(Oe.focus(n),this.selectOnFocus)){var r=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[r];this.changeActiveIndex(e,i,r)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,r){return e.isAccordionTab(r)?n.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:xv,ChevronRightIcon:E$},directives:{ripple:Dv}};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){MJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e,n){return e=$J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=LJ(t,"string");return Of(e)=="symbol"?e:String(e)}function LJ(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FJ=["data-pc-index","data-p-active"],UJ=["data-p-highlight","data-p-disabled"],VJ=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],BJ=["id","aria-labelledby"];function jJ(t,e,n,r,i,s){return S(),U("div",ie({class:t.cx("root")},t.ptmi("root")),[(S(!0),U(Te,null,st(s.tabs,function(o,a){return S(),U("div",ie({key:s.getKey(o,a),class:t.cx("tab.root",{tab:o,index:a})},s.getTabPT(o,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":s.isTabActive(a)}),[K("div",ie({style:s.getTabProp(o,"headerStyle"),class:[t.cx("tab.header",{tab:o,index:a}),s.getTabProp(o,"headerClass")]},Wl(Wl({},s.getTabProp(o,"headerProps")),s.getTabPT(o,"header",a)),{"data-p-highlight":s.isTabActive(a),"data-p-disabled":s.getTabProp(o,"disabled")}),[K("a",ie({id:s.getTabHeaderActionId(a),class:t.cx("tab.headerAction"),tabindex:s.getTabProp(o,"disabled")?-1:t.tabindex,role:"button","aria-disabled":s.getTabProp(o,"disabled"),"aria-expanded":s.isTabActive(a),"aria-controls":s.getTabContentId(a),onClick:function(u){return s.onTabClick(u,o,a)},onKeydown:function(u){return s.onTabKeyDown(u,o,a)}},Wl(Wl({},s.getTabProp(o,"headeractionprops")),s.getTabPT(o,"headeraction",a))),[o.children&&o.children.headericon?(S(),re(un(o.children.headericon),{key:0,isTabActive:s.isTabActive(a),active:s.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):s.isTabActive(a)?(S(),re(un(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),ie({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])):(S(),re(un(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),ie({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])),o.props&&o.props.header?(S(),U("span",ie({key:3,class:t.cx("tab.headerTitle")},s.getTabPT(o,"headertitle",a)),Me(o.props.header),17)):G("",!0),o.children&&o.children.header?(S(),re(un(o.children.header),{key:4})):G("",!0)],16,VJ)],16,UJ),Z(Ki,ie({name:"p-toggleable-content"},s.getTabPT(o,"transition",a)),{default:ce(function(){return[!t.lazy||s.isTabActive(a)?Ci((S(),U("div",ie({key:0,id:s.getTabContentId(a),style:s.getTabProp(o,"contentStyle"),class:[t.cx("tab.toggleableContent"),s.getTabProp(o,"contentClass")],role:"region","aria-labelledby":s.getTabHeaderActionId(a)},Wl(Wl({},s.getTabProp(o,"contentProps")),s.getTabPT(o,"toggleablecontent",a))),[K("div",ie({class:t.cx("tab.content")},s.getTabPT(o,"content",a)),[(S(),re(un(o)))],16)],16,BJ)),[[Zs,t.lazy?!0:s.isTabActive(a)]]):G("",!0)]}),_:2},1040)],16,FJ)}),128))],16)}Ch.render=jJ;var HJ={},WJ={name:"BaseAccordionTab",extends:Wr,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:HJ,provide:function(){return{$parentInstance:this}}},Qo={name:"AccordionTab",extends:WJ,inheritAttrs:!1};function KJ(t,e,n,r,i,s){return fe(t.$slots,"default")}Qo.render=KJ;var AT={name:"TimesCircleIcon",extends:ma},zJ=K("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),GJ=[zJ];function YJ(t,e,n,r,i,s){return S(),U("svg",ie({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),GJ,16)}AT.render=YJ;var qJ={root:function(e){var n=e.props;return["p-chip p-component",{"p-chip-image":n.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},XJ=er.extend({name:"chip",classes:qJ}),QJ={name:"BaseChip",extends:Wr,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:XJ,provide:function(){return{$parentInstance:this}}},I$={name:"Chip",extends:QJ,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:AT}},JJ=["aria-label"],ZJ=["src"];function eZ(t,e,n,r,i,s){return i.visible?(S(),U("div",ie({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[t.image?(S(),U("img",ie({key:0,src:t.image},t.ptm("image")),null,16,ZJ)):t.$slots.icon?(S(),re(un(t.$slots.icon),ie({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(S(),U("span",ie({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):G("",!0),t.label?(S(),U("div",ie({key:3,class:t.cx("label")},t.ptm("label")),Me(t.label),17)):G("",!0)]}),t.removable?fe(t.$slots,"removeicon",{key:0,onClick:s.close,onKeydown:s.onKeydown,removeCallback:s.close,keydownCallback:s.onKeydown},function(){return[(S(),re(un(t.removeIcon?"span":"TimesCircleIcon"),ie({tabindex:"0",class:[t.cx("removeIcon"),t.removeIcon],onClick:s.close,onKeydown:s.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):G("",!0)],16,JJ)):G("",!0)}I$.render=eZ;const tZ={key:0,class:"text-red-600"},PT=Pe({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(S(),U("p",tZ,Me(e.error),1)):G("",!0)}});var kT=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(kT||{});const xt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},nZ=Pe({__name:"TrashIcon",setup(t){return(e,n)=>(S(),re(P(kX),{class:"h-7 w-7"}))}}),C$=Pe({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(S(),re(Ut,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",onClick:r[0]||(r[0]=i=>n.$emit("click"))},{default:ce(()=>[Z(nZ)]),_:1}))}}),rZ={class:"m-4"},iZ=["for"],sZ={class:"flex"},pr=Pe({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete"],setup(t,{expose:e,emit:n}){const r=t,i=ee(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=ee(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===kT.Required)?" *":""):void 0),o=ee(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,f=r.rules||[];typeof r.minValue=="number"&&f.push(xt.Min),typeof r.maxValue=="number"&&f.push(xt.Max),typeof r.minLength=="number"&&f.push(xt.MinLength),typeof r.maxLength=="number"&&f.push(xt.MaxLength),r.compare&&f.push(xt.EqualTo);const h={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=f.filter(m=>!m.test(h)).map(m=>{var g;return((g=m.compareError)==null?void 0:g.call(m,h))||m.error(h)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var f,h;return S(),U("div",rZ,[c.label?(S(),U("label",ie({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Me(s.value),17,iZ)):G("",!0),K("div",sZ,[(S(),re(un(((f=c.inputProps)==null?void 0:f.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),ie({id:o.value,ref:"input",value:i.value,class:"p-input",type:((h=c.inputProps)==null?void 0:h.type)||"text",placeholder:c.placeholder,invalid:!!c.error,onInput:a},c.inputProps),null,16,["id","value","type","placeholder","invalid"])),c.deleteButton?(S(),re(C$,{key:0,class:"h-fit",onClick:d[0]||(d[0]=p=>u("update:delete"))})):G("",!0)]),c.error?(S(),re(PT,{key:1,name:c.name,error:c.error},null,8,["name","error"])):G("",!0)])}}}),oZ={class:"flex flex-col"},aZ=Pe({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=tn(or()),{deleteBlogReaction:i}=ar();return(s,o)=>(S(),re(ei,{class:Ae(["p-5 mb-5 w-full md:w-3/4",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50"]),titleProps:{class:"!text-base mt-1"},title:e.reaction.user.displayName||"Unknown user",subTitle:P(J0)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message},Jn({_:2},[P(n)&&e.reaction.user.id===P(n).id||P(r)?{name:"right",fn:ce(()=>[K("div",oZ,[e.post.locked?G("",!0):(S(),re(Ut,{key:0,type:"danger",outlined:"",class:"h-fit",onClick:o[0]||(o[0]=a=>P(i)(e.reaction.id,e.post))},{default:ce(()=>[Qe(" Delete ")]),_:1}))])]),key:"0"}:void 0]),1032,["class","title","subTitle","avatar","description"]))}}),lZ={class:"grid justify-items-center p-5"},uZ=Pe({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=tn(or()),r=ar(),{content:i}=tn(r),{createBlogReaction:s}=r,o=se(),a=Dn({reaction:{value:"",error:""}}),l=async()=>{await o.value.test(),!a.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:a.reaction.value,date:new Date})&&(a.reaction.value=""),_K()};return(u,c)=>(S(),U("form",{action:"",onSubmit:St(l,["prevent"])},[K("div",lZ,[(S(!0),U(Te,null,st(u.post.reactions,d=>(S(),re(aZ,{post:u.post,reaction:d},null,8,["post","reaction"]))),256)),!P(n)||u.post.reactions.filter(d=>d.user.id===P(n).id).length<8?(S(),re(ei,{key:0,class:Ae(["p-5 flex justify-center w-full md:w-3/4",u.post.colorTertiary||"bg-gray-700",u.post.opacityTertiary||"bg-opacity-50"])},{default:ce(()=>[Z(pr,{class:"w-5/6",id:u.post.id,inputProps:{class:["rounded-xl border-none !placeholder-gray-300",u.post.colorSecondary||u.post.colorPrimary||"bg-gray-600",u.post.opacitySecondary||"!bg-opacity-20",!u.post.locked&&P(n)?"hover:!bg-gray-700 focus:!bg-gray-600 focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50"],disabled:!P(n)||u.post.locked},ref_key:"reaction",ref:o,name:"reaction",placeholder:u.post.locked?"Locked for comments":P(n)?"Reply":P(i).blogLoginGuest,modelValue:a.reaction.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.reaction.value=d),error:a.reaction.error,"onUpdate:error":c[1]||(c[1]=d=>a.reaction.error=d),rules:[P(xt).Required],onClick:c[2]||(c[2]=()=>!P(n)&&!u.post.locked?P(KT).push({name:"login"}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):G("",!0)])],32))}}),cZ=Pe({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(S(),U("div",null,[K("div",{class:Ae({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[K("ul",{class:Ae(["list-disc",{"ms-5":e.alignment==="left"}])},[(S(!0),U(Te,null,st(e.bullets,r=>(S(),U("li",null,Me(r),1))),256))],2)],2)]))}}),dZ=["href"],fZ={class:"break-all"},hZ={key:1},pZ={key:2},fp=Pe({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(S(!0),U(Te,null,st(e.description.split(`
`).map(s=>s.trim()),s=>(S(),U("div",{class:Ae(["text-lg",e.class])},[K("div",{class:Ae({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(S(),U("a",{key:0,href:s,class:"underline hover:no-underline"},[K("span",fZ,Me(s),1)],8,dZ)):s?(S(),U("p",hZ,Me(s),1)):(S(),U("br",pZ))],2)],2))),256))}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){vZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}function mZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O$(r.key),r)}}function gZ(t,e,n){return e&&yO(t.prototype,e),n&&yO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vZ(t,e,n){return e=O$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O$(t){var e=yZ(t,"string");return typeof e=="symbol"?e:String(e)}var bO={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},bZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Rv=typeof window<"u"&&typeof window.document<"u",ho=Rv?window:{},Mu=Rv&&ho.document.documentElement?"ontouchstart"in ho.document.documentElement:!1,DT=Rv?"PointerEvent"in ho:!1,yt="viewer",Hp="move",A$="switch",od="zoom",hp="".concat(yt,"-active"),wZ="".concat(yt,"-close"),Wp="".concat(yt,"-fade"),Iw="".concat(yt,"-fixed"),_Z="".concat(yt,"-fullscreen"),wO="".concat(yt,"-fullscreen-exit"),Ra="".concat(yt,"-hide"),TZ="".concat(yt,"-hide-md-down"),SZ="".concat(yt,"-hide-sm-down"),EZ="".concat(yt,"-hide-xs-down"),Ni="".concat(yt,"-in"),xd="".concat(yt,"-invisible"),$u="".concat(yt,"-loading"),IZ="".concat(yt,"-move"),_O="".concat(yt,"-open"),Kl="".concat(yt,"-show"),$n="".concat(yt,"-transition"),ic="click",Cw="dblclick",TO="dragstart",SO="focusin",EO="keydown",Fi="load",qa="error",CZ=Mu?"touchend touchcancel":"mouseup",OZ=Mu?"touchmove":"mousemove",AZ=Mu?"touchstart":"mousedown",IO=DT?"pointerdown":AZ,CO=DT?"pointermove":OZ,OO=DT?"pointerup pointercancel":CZ,AO="resize",Qi="transitionend",PO="wheel",kO="ready",xO="show",DO="shown",RO="hide",NO="hidden",MO="view",Af="viewed",$O="move",LO="moved",FO="rotate",UO="rotated",VO="scale",BO="scaled",jO="zoom",HO="zoomed",WO="play",KO="stop",Jm="".concat(yt,"Action"),RT=/\s\s*/,pp=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Pf(t){return typeof t=="string"}var PZ=Number.isNaN||ho.isNaN;function Pn(t){return typeof t=="number"&&!PZ(t)}function du(t){return typeof t>"u"}function sc(t){return Ew(t)==="object"&&t!==null}var kZ=Object.prototype.hasOwnProperty;function fu(t){if(!sc(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&kZ.call(n,"isPrototypeOf")}catch{return!1}}function on(t){return typeof t=="function"}function cn(t,e){if(t&&on(e))if(Array.isArray(t)||Pn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else sc(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Si=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return sc(e)&&r.length>0&&r.forEach(function(s){sc(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},xZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function rs(t,e){var n=t.style;cn(e,function(r,i){xZ.test(i)&&Pn(r)&&(r+="px"),n[i]=r})}function DZ(t){return Pf(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function ru(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function ut(t,e){if(!(!t||!e)){if(Pn(t.length)){cn(t,function(r){ut(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function zt(t,e){if(!(!t||!e)){if(Pn(t.length)){cn(t,function(n){zt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function kf(t,e,n){if(e){if(Pn(t.length)){cn(t,function(r){kf(r,e,n)});return}n?ut(t,e):zt(t,e)}}var RZ=/([a-z\d])([A-Z])/g;function NT(t){return t.replace(RZ,"$1-$2").toLowerCase()}function hu(t,e){return sc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(NT(e)))}function Ow(t,e,n){sc(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(NT(e)),n)}var P$=function(){var t=!1;if(Rv){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});ho.addEventListener("test",n,r),ho.removeEventListener("test",n,r)}return t}();function an(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(RT).forEach(function(s){if(!P$){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function pt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(RT).forEach(function(s){if(r.once&&!P$){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function Bn(t,e,n,r){var i;return on(Event)&&on(CustomEvent)?i=new CustomEvent(e,xT({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function NZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Kp(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];Pn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),Pn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),Pn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),Pn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),Pn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function MZ(t){return Pf(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var tb=ho.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(ho.navigator.userAgent);function k$(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!tb)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),tb||i.removeChild(r)},cn(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,tb||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function mp(t){switch(t){case 2:return EZ;case 3:return SZ;case 4:return TZ;default:return""}}function $Z(t){var e=xT({},t),n=[];return cn(t,function(r,i){delete e[i],cn(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),f=(d-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function gp(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:xT({timeStamp:Date.now(),startX:n,startY:r},i)}function LZ(t){var e=0,n=0,r=0;return cn(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var FZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Si({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&rs(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",cn(this.images,function(o,a){var l=o.src,u=o.alt||MZ(l),c=e.getImageURL(o);if(l||c){var d=document.createElement("li"),f=document.createElement("img");cn(r.inheritedAttributes,function(h){var p=o.getAttribute(h);p!==null&&f.setAttribute(h,p)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(f),i.appendChild(d),s.push(d)}}),this.items=s,cn(s,function(o){var a=o.firstElementChild,l,u;Ow(a,"filled",!0),r.loading&&ut(o,$u),pt(a,Fi,l=function(d){an(a,qa,u),r.loading&&zt(o,$u),e.loadImage(d)},{once:!0}),pt(a,qa,u=function(){an(a,Fi,l),r.loading&&zt(o,$u)},{once:!0})}),r.transition&&pt(n,Af,function(){ut(i,$n)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;rs(this.list,Si({width:o*this.length-i},Kp({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",zt(e,$n),rs(e,Kp({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=k$(i,r,function(d,f){var h=d/f,p=Math.max(0,Math.min(1,r.initialCoverage)),m=a,g=l;n.imageInitializing=!1,l*h>a?g=a/h:m=l*h,p=Pn(p)?p:.9,m=Math.min(m*p,d),g=Math.min(g*p,f);var y=(a-m)/2,v=(l-g)/2,_={left:y,top:v,x:y,y:v,width:m,height:g,oldRatio:1,ratio:m/d,aspectRatio:h,naturalWidth:d,naturalHeight:f},b=Si({},_);r.rotatable&&(_.rotate=u.rotate||0,b.rotate=0),r.scalable&&(_.scaleX=u.scaleX||1,_.scaleY=u.scaleY||1,b.scaleX=1,b.scaleY=1),n.imageData=_,n.initialImageData=b,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(rs(r,Si({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},Kp(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&ru(r,$n)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){an(r,Qi,s)}},pt(r,Qi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},UZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;pt(n,ic,this.onClick=this.click.bind(this)),pt(n,TO,this.onDragStart=this.dragstart.bind(this)),pt(r,IO,this.onPointerDown=this.pointerdown.bind(this)),pt(i,CO,this.onPointerMove=this.pointermove.bind(this)),pt(i,OO,this.onPointerUp=this.pointerup.bind(this)),pt(i,EO,this.onKeyDown=this.keydown.bind(this)),pt(window,AO,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&pt(n,PO,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&pt(r,Cw,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;an(n,ic,this.onClick),an(n,TO,this.onDragStart),an(r,IO,this.onPointerDown),an(i,CO,this.onPointerMove),an(i,OO,this.onPointerUp),an(i,EO,this.onKeyDown),an(window,AO,this.onResize),e.zoomable&&e.zoomOnWheel&&an(n,PO,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&an(r,Cw,this.onDblclick)}},VZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=hu(i,Jm);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=hu(i,Jm)),Mu&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(hu(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Mu&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;zt(i,xd),r.loading&&zt(this.canvas,$u),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){kf(i,IZ,r.movable),kf(i,$n,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,on(r.viewed)&&pt(n,Af,r.viewed,{once:!0}),Bn(n,Af,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!hu(n,"filled");k$(n,this.options,function(a,l){var u=a/l,c=i,d=s;s*u>i?o?c=s*u:d=i/u:o?d=i/u:c=s*u,rs(n,Si({width:c,height:d},Kp({translateX:(i-c)/2,translateY:(s-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Pn(i)&&i!==1||Pn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?cn(e.changedTouches,function(a){r[a.identifier]=gp(a)}):r[e.pointerId||0]=gp(e);var o=n.movable?Hp:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=od:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=A$),n.transition&&(o===Hp||o===od)&&zt(this.image,$n),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?cn(e.changedTouches,function(i){Si(n[i.identifier]||{},gp(i,!0))}):Si(n[e.pointerId||0]||{},gp(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?cn(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===Hp||i===od)&&ut(this.image,$n),this.action=!1,Mu&&i!==od&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Bn(n.image,Cw,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Bn(n.canvas,ic,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}cn(this.player.getElementsByTagName("img"),function(n){pt(n,Fi,e.loadImage.bind(e),{once:!0}),Bn(n,Fi)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},BZ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(on(r.show)&&pt(n,xO,r.show,{once:!0}),Bn(n,xO)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(zt(i,Ra),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){an(i,Qi,s),zt(i,Ni)}},ut(i,$n),i.initialOffsetWidth=i.offsetWidth,pt(i,Qi,s,{once:!0}),ut(i,Ni)}else ut(i,Ni),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(on(i.hide)&&pt(r,RO,i.hide,{once:!0}),Bn(r,RO)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){zt(s,Ni),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===s&&(an(s,Qi,c),e.hidden())},u=function(){ru(s,$n)?(pt(s,Qi,l),zt(s,Ni)):a()};this.transitioning={abort:function(){e.viewed&&ru(o,$n)?an(o,Qi,u):ru(s,$n)&&an(s,Qi,l)}},this.viewed&&ru(o,$n)?(pt(o,Qi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=hu(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(cn(i.inheritedAttributes,function(g){var y=l.getAttribute(g);y!==null&&d.setAttribute(g,y)}),d.src=u,d.alt=c,on(i.view)&&pt(r,MO,i.view,{once:!0}),Bn(r,MO,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(zt(f,hp),f.removeAttribute("aria-selected")),ut(a,hp),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},ut(d,xd),i.loading&&ut(o,$u),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var h=function(){var y=e.imageData,v=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=DZ(on(v)?v.call(e,d,y):"".concat(c," (").concat(y.naturalWidth,"  ").concat(y.naturalHeight,")"))},p,m;return pt(r,Af,h,{once:!0}),this.viewing={abort:function(){an(r,Af,h),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",an(d,Fi,p),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(pt(d,Fi,p=function(){an(d,qa,m),e.load()},{once:!0}),pt(d,qa,m=function(){an(d,Fi,p),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),zt(d,xd),i.loading&&zt(e.canvas,$u)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){zt(d,xd),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(du(e)?e:r.x+Number(e),du(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(Pn(e)?c=!0:e=l,Pn(r)?c=!0:r=u,c){if(on(o.move)&&pt(s,$O,o.move,{once:!0}),Bn(s,$O,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,on(o.moved)&&pt(s,LO,o.moved,{once:!0}),Bn(s,LO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),Pn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(on(i.rotate)&&pt(r,FO,i.rotate,{once:!0}),Bn(r,FO,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,on(i.rotated)&&pt(r,UO,i.rotated,{once:!0}),Bn(r,UO,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(Pn(e)?u=!0:e=a,Pn(r)?u=!0:r=l,u){if(on(s.scale)&&pt(i,VO,s.scale,{once:!0}),Bn(i,VO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,on(s.scaled)&&pt(i,BO,s.scaled,{once:!0}),Bn(i,BO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,f=c.y,h=c.width,p=c.height,m=c.naturalWidth,g=c.naturalHeight;if(e=Math.max(0,e),Pn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var y=Math.max(.01,l.minZoomRatio),v=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,y),v)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var _=m*e,b=g*e,w=_-h,T=b-p,x=c.ratio;if(on(l.zoom)&&pt(a,jO,l.zoom,{once:!0}),Bn(a,jO,{ratio:e,oldRatio:x,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var C=NZ(this.viewer),I=u&&Object.keys(u).length>0?LZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=w*((I.pageX-C.left-d)/h),c.y-=T*((I.pageY-C.top-f)/p)}else fu(i)&&Pn(i.x)&&Pn(i.y)?(c.x-=w*((i.x-d)/h),c.y-=T*((i.y-f)/p)):(c.x-=w/2,c.y-=T/2);c.left=c.x,c.top=c.y,c.width=_,c.height=b,c.oldRatio=x,c.ratio=e,this.renderImage(function(){n.zooming=!1,on(l.zoomed)&&pt(a,HO,l.zoomed,{once:!0}),Bn(a,HO,{ratio:e,oldRatio:x,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(on(i.play)&&pt(r,WO,i.play,{once:!0}),Bn(r,WO)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),ut(s,Kl),cn(this.items,function(f,h){var p=f.querySelector("img"),m=document.createElement("img");m.src=hu(p,"originalUrl"),m.alt=p.getAttribute("alt"),m.referrerPolicy=p.referrerPolicy,l+=1,ut(m,Wp),kf(m,$n,i.transition),ru(f,hp)&&(ut(m,Ni),u=h),a.push(m),pt(m,Fi,o,{once:!0}),s.appendChild(m)}),Pn(i.interval)&&i.interval>0){var c=function f(){clearTimeout(e.playing.timeout),zt(a[u],Ni),u-=1,u=u>=0?u:l-1,ut(a[u],Ni),e.playing.timeout=setTimeout(f,i.interval)},d=function f(){clearTimeout(e.playing.timeout),zt(a[u],Ni),u+=1,u=u<l?u:0,ut(a[u],Ni),e.playing.timeout=setTimeout(f,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(on(r.stop)&&pt(n,KO,r.stop,{once:!0}),Bn(n,KO)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,cn(i.getElementsByTagName("img"),function(s){an(s,Fi,e.onLoadWhenPlay)}),zt(i,Kl),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),ut(this.button,wO),n.transition&&(zt(s,$n),this.viewed&&zt(i,$n)),ut(r,Iw),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),rs(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Si({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){ut(i,$n),ut(s,$n)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),zt(this.button,wO),n.transition&&(zt(s,$n),this.viewed&&zt(i,$n)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),zt(r,Iw),rs(r,{zIndex:n.zIndexInline}),this.viewerData=Si({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){ut(i,$n),ut(s,$n)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Bn(r,Qi),ut(r,Kl),ut(r,Wp),ut(r,$n),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,ut(r,Ni)):(ut(r,Kl),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(pt(r,Qi,function(){zt(r,Kl),zt(r,Wp),zt(r,$n),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),zt(r,Ni),e.fading=!0):(zt(r,Kl),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Si({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(cn(i?[n]:n.querySelectorAll("img"),function(u){on(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(cn(this.items,function(u,c){var d=u.querySelector("img"),f=s[c];f&&d?(f.src!==d.src||f.alt!==d.alt)&&o.push(c):o.push(c)}),rs(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];ut(l,hp),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[yt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||an(e,ic,this.onStart),e[yt]=void 0,this):this}},jZ={getImageURL:function(e){var n=this.options.url;return Pf(n)?n=e.getAttribute(n):on(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),pt(document,SO,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(an(document,SO,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;ut(e,_O),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;zt(e,_O),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),on(n.shown)&&pt(e,DO,n.shown,{once:!0}),Bn(e,DO)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),ut(r,Ra),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(on(n.hidden)&&pt(e,NO,n.hidden,{once:!0}),Bn(e,NO,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?fu(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case Hp:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case od:this.zoom($Z(r),!1,null,e);break;case A$:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}cn(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},HZ=ho.Viewer,WZ=function(t){return function(){return t+=1,t}}(-1),oc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Si({},bO,fu(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=WZ(),this.init()}return gZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[yt]){r[yt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(cn(s?[r]:r.querySelectorAll("img"),function(u){on(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),du(document.createElement(yt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){cn(o,function(c){c.complete||(an(c,Fi,l),an(c,qa,l))})}},cn(o,function(u){if(u.complete)l();else{var c,d;pt(u,Fi,c=function(){an(u,qa,d),l()},{once:!0}),pt(u,qa,d=function(){an(u,Fi,c),l()},{once:!0})}})}else pt(r,ic,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!on(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=bZ;var o=s.querySelector(".".concat(yt,"-container")),a=o.querySelector(".".concat(yt,"-title")),l=o.querySelector(".".concat(yt,"-toolbar")),u=o.querySelector(".".concat(yt,"-navbar")),c=o.querySelector(".".concat(yt,"-button")),d=o.querySelector(".".concat(yt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=o.querySelector(".".concat(yt,"-footer")),this.tooltipBox=o.querySelector(".".concat(yt,"-tooltip")),this.player=o.querySelector(".".concat(yt,"-player")),this.list=o.querySelector(".".concat(yt,"-list")),o.id="".concat(yt).concat(this.id),a.id="".concat(yt,"Title").concat(this.id),ut(a,r.title?mp(Array.isArray(r.title)?r.title[0]:r.title):Ra),ut(u,r.navbar?mp(r.navbar):Ra),kf(c,Ra,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(ut(o,"".concat(yt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&Ow(d,Jm,"hide")),Pf(r.className)&&r.className&&r.className.split(RT).forEach(function(_){ut(o,_)}),r.toolbar){var f=document.createElement("ul"),h=fu(r.toolbar),p=pp.slice(0,3),m=pp.slice(7,9),g=pp.slice(9);h||ut(l,mp(r.toolbar)),cn(h?r.toolbar:pp,function(_,b){var w=h&&fu(_),T=h?NT(b):_,x=w&&!du(_.show)?_.show:_;if(!(!x||!r.zoomable&&p.indexOf(T)!==-1||!r.rotatable&&m.indexOf(T)!==-1||!r.scalable&&g.indexOf(T)!==-1)){var C=w&&!du(_.size)?_.size:_,I=w&&!du(_.click)?_.click:_,E=document.createElement("li");r.keyboard&&E.setAttribute("tabindex",0),E.setAttribute("role","button"),ut(E,"".concat(yt,"-").concat(T)),on(I)||Ow(E,Jm,T),Pn(x)&&ut(E,mp(x)),["small","large"].indexOf(C)!==-1?ut(E,"".concat(yt,"-").concat(C)):T==="play"&&ut(E,"".concat(yt,"-large")),on(I)&&pt(E,ic,I),f.appendChild(E)}}),l.appendChild(f)}else ut(l,Ra);if(!r.rotatable){var y=l.querySelectorAll('li[class*="rotate"]');ut(y,xd),cn(y,function(_){l.appendChild(_)})}if(r.inline)ut(c,_Z),rs(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&rs(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{ut(c,wZ),ut(o,Iw),ut(o,Wp),ut(o,Ra),rs(o,{zIndex:r.zIndex});var v=r.container;Pf(v)&&(v=n.ownerDocument.querySelector(v)),v||(v=this.body),v.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,on(r.ready)&&pt(n,kO,r.ready,{once:!0}),Bn(n,kO)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=HZ,t}},{key:"setDefaults",value:function(n){Si(bO,fu(n)&&n)}}]),t}();Si(oc.prototype,FZ,UZ,VZ,BZ,jZ);var KZ=typeof global=="object"&&global&&global.Object===Object&&global;const x$=KZ;var zZ=typeof self=="object"&&self&&self.Object===Object&&self,GZ=x$||zZ||Function("return this")();const Nv=GZ;var YZ=Nv.Symbol;const Zm=YZ;var D$=Object.prototype,qZ=D$.hasOwnProperty,XZ=D$.toString,Uc=Zm?Zm.toStringTag:void 0;function QZ(t){var e=qZ.call(t,Uc),n=t[Uc];try{t[Uc]=void 0;var r=!0}catch{}var i=XZ.call(t);return r&&(e?t[Uc]=n:delete t[Uc]),i}var JZ=Object.prototype,ZZ=JZ.toString;function eee(t){return ZZ.call(t)}var tee="[object Null]",nee="[object Undefined]",zO=Zm?Zm.toStringTag:void 0;function Mv(t){return t==null?t===void 0?nee:tee:zO&&zO in Object(t)?QZ(t):eee(t)}function $v(t){return t!=null&&typeof t=="object"}var ree="[object Symbol]";function iee(t){return typeof t=="symbol"||$v(t)&&Mv(t)==ree}var see=Array.isArray;const oee=see;var aee=/\s/;function lee(t){for(var e=t.length;e--&&aee.test(t.charAt(e)););return e}var uee=/^\s+/;function cee(t){return t&&t.slice(0,lee(t)+1).replace(uee,"")}function wl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var GO=NaN,dee=/^[-+]0x[0-9a-f]+$/i,fee=/^0b[01]+$/i,hee=/^0o[0-7]+$/i,pee=parseInt;function YO(t){if(typeof t=="number")return t;if(iee(t))return GO;if(wl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cee(t);var n=fee.test(t);return n||hee.test(t)?pee(t.slice(2),n?2:8):dee.test(t)?GO:+t}function R$(t){return t}var mee="[object AsyncFunction]",gee="[object Function]",vee="[object GeneratorFunction]",yee="[object Proxy]";function N$(t){if(!wl(t))return!1;var e=Mv(t);return e==gee||e==vee||e==mee||e==yee}var bee=Nv["__core-js_shared__"];const nb=bee;var qO=function(){var t=/[^.]+$/.exec(nb&&nb.keys&&nb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wee(t){return!!qO&&qO in t}var _ee=Function.prototype,Tee=_ee.toString;function See(t){if(t!=null){try{return Tee.call(t)}catch{}try{return t+""}catch{}}return""}var Eee=/[\\^$.*+?()[\]{}|]/g,Iee=/^\[object .+?Constructor\]$/,Cee=Function.prototype,Oee=Object.prototype,Aee=Cee.toString,Pee=Oee.hasOwnProperty,kee=RegExp("^"+Aee.call(Pee).replace(Eee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xee(t){if(!wl(t)||wee(t))return!1;var e=N$(t)?kee:Iee;return e.test(See(t))}function Dee(t,e){return t==null?void 0:t[e]}function Ree(t,e){var n=Dee(t,e);return xee(n)?n:void 0}function Nee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Mee=800,$ee=16,Lee=Date.now;function Fee(t){var e=0,n=0;return function(){var r=Lee(),i=$ee-(r-n);if(n=r,i>0){if(++e>=Mee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Uee(t){return function(){return t}}var Vee=function(){try{var t=Ree(Object,"defineProperty");return t({},"",{}),t}catch{}}();const eg=Vee;var Bee=eg?function(t,e){return eg(t,"toString",{configurable:!0,enumerable:!1,value:Uee(e),writable:!0})}:R$;const jee=Bee;var Hee=Fee(jee);const Wee=Hee;var Kee=9007199254740991,zee=/^(?:0|[1-9]\d*)$/;function M$(t,e){var n=typeof t;return e=e??Kee,!!e&&(n=="number"||n!="symbol"&&zee.test(t))&&t>-1&&t%1==0&&t<e}function $$(t,e,n){e=="__proto__"&&eg?eg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function MT(t,e){return t===e||t!==t&&e!==e}var Gee=Object.prototype,Yee=Gee.hasOwnProperty;function L$(t,e,n){var r=t[e];(!(Yee.call(t,e)&&MT(r,n))||n===void 0&&!(e in t))&&$$(t,e,n)}function qee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?$$(n,a,l):L$(n,a,l)}return n}var XO=Math.max;function Xee(t,e,n){return e=XO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=XO(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Nee(t,this,a)}}function F$(t,e){return Wee(Xee(t,e,R$),t+"")}var Qee=9007199254740991;function U$(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Qee}function Lv(t){return t!=null&&U$(t.length)&&!N$(t)}function V$(t,e,n){if(!wl(n))return!1;var r=typeof e;return(r=="number"?Lv(n)&&M$(e,n.length):r=="string"&&e in n)?MT(n[e],t):!1}function Jee(t){return F$(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&V$(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Zee=Object.prototype;function $T(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Zee;return t===n}function ete(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var tte="[object Arguments]";function QO(t){return $v(t)&&Mv(t)==tte}var B$=Object.prototype,nte=B$.hasOwnProperty,rte=B$.propertyIsEnumerable,ite=QO(function(){return arguments}())?QO:function(t){return $v(t)&&nte.call(t,"callee")&&!rte.call(t,"callee")};const ste=ite;function ote(){return!1}var j$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,JO=j$&&typeof module=="object"&&module&&!module.nodeType&&module,ate=JO&&JO.exports===j$,ZO=ate?Nv.Buffer:void 0,lte=ZO?ZO.isBuffer:void 0,ute=lte||ote;const cte=ute;var dte="[object Arguments]",fte="[object Array]",hte="[object Boolean]",pte="[object Date]",mte="[object Error]",gte="[object Function]",vte="[object Map]",yte="[object Number]",bte="[object Object]",wte="[object RegExp]",_te="[object Set]",Tte="[object String]",Ste="[object WeakMap]",Ete="[object ArrayBuffer]",Ite="[object DataView]",Cte="[object Float32Array]",Ote="[object Float64Array]",Ate="[object Int8Array]",Pte="[object Int16Array]",kte="[object Int32Array]",xte="[object Uint8Array]",Dte="[object Uint8ClampedArray]",Rte="[object Uint16Array]",Nte="[object Uint32Array]",pn={};pn[Cte]=pn[Ote]=pn[Ate]=pn[Pte]=pn[kte]=pn[xte]=pn[Dte]=pn[Rte]=pn[Nte]=!0;pn[dte]=pn[fte]=pn[Ete]=pn[hte]=pn[Ite]=pn[pte]=pn[mte]=pn[gte]=pn[vte]=pn[yte]=pn[bte]=pn[wte]=pn[_te]=pn[Tte]=pn[Ste]=!1;function Mte(t){return $v(t)&&U$(t.length)&&!!pn[Mv(t)]}function $te(t){return function(e){return t(e)}}var H$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dd=H$&&typeof module=="object"&&module&&!module.nodeType&&module,Lte=Dd&&Dd.exports===H$,rb=Lte&&x$.process,Fte=function(){try{var t=Dd&&Dd.require&&Dd.require("util").types;return t||rb&&rb.binding&&rb.binding("util")}catch{}}();const eA=Fte;var tA=eA&&eA.isTypedArray,Ute=tA?$te(tA):Mte;const Vte=Ute;var Bte=Object.prototype,jte=Bte.hasOwnProperty;function W$(t,e){var n=oee(t),r=!n&&ste(t),i=!n&&!r&&cte(t),s=!n&&!r&&!i&&Vte(t),o=n||r||i||s,a=o?ete(t.length,String):[],l=a.length;for(var u in t)(e||jte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||M$(u,l)))&&a.push(u);return a}function Hte(t,e){return function(n){return t(e(n))}}var Wte=Hte(Object.keys,Object);const Kte=Wte;var zte=Object.prototype,Gte=zte.hasOwnProperty;function Yte(t){if(!$T(t))return Kte(t);var e=[];for(var n in Object(t))Gte.call(t,n)&&n!="constructor"&&e.push(n);return e}function qte(t){return Lv(t)?W$(t):Yte(t)}var Xte=Object.prototype,Qte=Xte.hasOwnProperty,Jte=Jee(function(t,e){if($T(e)||Lv(e)){qee(e,qte(e),t);return}for(var n in e)Qte.call(e,n)&&L$(t,n,e[n])});const Zte=Jte;function ene(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var tne=Object.prototype,nne=tne.hasOwnProperty;function rne(t){if(!wl(t))return ene(t);var e=$T(t),n=[];for(var r in t)r=="constructor"&&(e||!nne.call(t,r))||n.push(r);return n}function ine(t){return Lv(t)?W$(t,!0):rne(t)}var sne=function(){return Nv.Date.now()};const ib=sne;var one="Expected a function",ane=Math.max,lne=Math.min;function une(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(one);e=YO(e)||0,wl(n)&&(c=!!n.leading,d="maxWait"in n,s=d?ane(YO(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(T){var x=r,C=i;return r=i=void 0,u=T,o=t.apply(C,x),o}function p(T){return u=T,a=setTimeout(y,e),c?h(T):o}function m(T){var x=T-l,C=T-u,I=e-x;return d?lne(I,s-C):I}function g(T){var x=T-l,C=T-u;return l===void 0||x>=e||x<0||d&&C>=s}function y(){var T=ib();if(g(T))return v(T);a=setTimeout(y,m(T))}function v(T){return a=void 0,f&&r?h(T):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?o:v(ib())}function w(){var T=ib(),x=g(T);if(r=arguments,i=this,l=T,x){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),o}return w.cancel=_,w.flush=b,w}var K$=Object.prototype,cne=K$.hasOwnProperty,dne=F$(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&V$(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=ine(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||MT(c,K$[u])&&!cne.call(t,u))&&(t[u]=s[u])}return t});const fne=dne,hne=({images:t=[],options:e})=>{e=Zte(e,{inline:!1});const n=document.createElement("div"),r=il("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>il("img",typeof a=="string"?{src:a}:a)));sl(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new oc(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),sl(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},pne=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,f=!1,h=!1){await Wn(),!(h&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new oc(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=d?d.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,d,f,h){a(c);const p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!p){u("Observer not supported");return}const m=new p(y=>{y.forEach(v=>{u(`Viewer mutation:${v.type}`),f(c,d,h,!0)})}),g={attributes:!0,childList:!0,characterData:!0,subtree:!0};m.observe(c,g),c.__viewerMutationObserver=m,u("Observer created")}function s(c,d,f,h){c.__viewerUnwatch=It(()=>d.value,(p,m)=>{u("Change detected by watcher: ",d.value),h(c,p,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,f){u("Viewer bind");const h=une(n,50);h(c,d.value),s(c,d,f,h),d.modifiers.static||i(c,d.value,h,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},mne=Pe({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=se();function i(){n=new oc(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return It(()=>t.images,()=>{Wn(()=>{l()})},u),It(()=>t.trigger,()=>{Wn(()=>{l()})},u),It(()=>t.options,()=>{Wn(()=>{o()})},u),Wt(()=>i()),mo(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),gne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},vne={ref:"root"};function yne(t,e,n,r,i,s){return S(),U("div",vne,[fe(t.$slots,"default",{images:t.images,options:t.options})],512)}const z$=gne(mne,[["render",yne]]),bne={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&oc.setDefaults(r),t.config.globalProperties[`$${e}Api`]=hne,t.component(e,fne(z$,{name:e})),t.directive(e,pne({name:e,debug:n}))},setDefaults(t){oc.setDefaults(t)}},wne=["src"],nA=Pe({__name:"BlogPostImage",props:{post:{},coverImageUrl:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=se(0),r=se(0),i=ee(()=>n.value>r.value),s=ee(()=>n.value>r.value*1.5),o=ee(()=>r.value>n.value),a=ee(()=>r.value>n.value*1.5);return Wt(()=>{const l=new Image;l.src=e.coverImageUrl,l.onload=()=>{n.value=l.height,r.value=l.width}}),(l,u)=>(S(),U("div",{class:Ae({flex:!0,"justify-start":l.alignment==="left","justify-center":l.alignment===void 0||l.alignment==="center","justify-end":l.alignment==="right"})},[Z(ei,{class:Ae(["!p-5 my-5 w-fit",l.post.colorTertiary||"",l.post.opacityTertiary||"bg-opacity-50"])},{default:ce(()=>[Z(P(z$),{class:"cursor-pointer"},{default:ce(()=>[K("img",{class:"cover-image",src:l.coverImageUrl,style:rr({maxHeight:i.value?l.maxHeight??a.value?"60vh":"40h":"50vh",maxWidth:o.value?l.maxWidth??s.value?"60vw":"40vw":"50vw"})},null,12,wne)]),_:1})]),_:1},8,["class"])],2))}}),Aw=Pe({__name:"ArrowIcon",props:{rotate:{type:Boolean},size:{}},setup(t){return(e,n)=>(S(),re(P(OX),{class:Ae(["sm:block animation",{"rotate-180":e.rotate,"mt-0.5 mr-2.5 h-5 w-5":!e.size||e.size==="sm","h-10 w-10":e.size==="md","h-20 w-20":e.size==="xl"}])},null,8,["class"]))}}),_ne=Pe({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(S(),U("div",{class:Ae(["font-bold text-lg md:text-2xl",{"hover:underline cursor-pointer":n.isExpandable},e.class])},[K("div",{class:Ae({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[K("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(S(),re(Aw,{key:0,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):G("",!0),fe(n.$slots,"default"),n.isExpandable&&(n.alignment==="left"||n.alignment==="center")?(S(),re(Aw,{key:1,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):G("",!0)])],2)],2))}}),Tne={class:"flex justify-between h-fit mt-2 gap-2"},Sne={class:"flex flex-wrap gap-3"},Ene={class:"w-full"},Ine={class:"w-full"},Cne={class:"flex gap-3"},One=K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6"},[K("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})],-1),G$=Pe({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=tn(ar()),{firebaseUser:r,isOwner:i}=tn(or()),s=ee(()=>{var c;return(c=e.post.allowedUserIds)!=null&&c.length?n.value.filter(d=>{var f;return(f=e.post.allowedUserIds)==null?void 0:f.includes(d.id)}):[]}),o=ee(()=>{const c=[];return e.post.datePinned&&c.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&c.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&c.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),c}),a=ee(()=>e.post.sections.map(c=>({...c,isExpandable:l(c)}))),l=c=>!!c.description||!!c.coverImageUrl||!!c.bullets.length,u=()=>{const c=document.createElement("textarea"),{protocol:d,hostname:f,port:h,pathname:p}=window.location,m=`${d}//${f}`+(f==="localhost"?`:${h}`:"")+p;c.value=`${m}/${e.post.id}`,document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),qe.success("Copied link!")};return(c,d)=>(S(),re(ei,{id:c.post.id,class:Ae([{"min-h-[90vh]":!c.post.archived},"border-4 border-transparent",c.post.colorPrimary||"bg-gray-900",c.post.opacityPrimary||"bg-opacity-30"]),title:c.post.title,subTitle:P(J0)(new Date(c.post.date))+(c.post.dateUpdated?" - updated "+P(J0)(new Date(c.post.dateUpdated)):""),tags:o.value,loading:c.post.loading},{right:ce(()=>[K("div",Cne,[Z(Ut,{class:"border-none bg-gray-500 text-purple-100 bg-opacity-10 h-fit",type:"secondary",outlined:"",onClick:u},{default:ce(()=>[One]),_:1})])]),default:ce(()=>{var f;return[K("div",Tne,[K("div",Sne,[c.post.archived?G("",!0):(S(!0),U(Te,{key:0},st(s.value,h=>{var p;return S(),re(P(I$),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:h.id===((p=P(r))==null?void 0:p.uid)?"You":h.displayName,rounded:""},null,8,["label"])}),256))]),P(i)?(S(),U("div",{key:0,class:Ae(["flex justify-end h-fit ms-5 gap-3",(f=c.post.allowedUserIds)!=null&&f.length?"flex-col md:flex-row":"flex-row"])},[Z(Ut,{class:"min-w-80",onClick:d[0]||(d[0]=h=>c.$emit("editClicked"))},{default:ce(()=>[Qe(" Edit ")]),_:1}),Z(Ut,{class:"min-w-80",type:"danger",outlined:"",onClick:d[1]||(d[1]=h=>c.$emit("deleteClicked"))},{default:ce(()=>[Qe(" Delete ")]),_:1})],2)):G("",!0)]),c.post.archived?G("",!0):(S(),re(ei,{key:0,class:Ae(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",c.post.colorSecondary||c.post.colorPrimary,c.post.opacitySecondary||"bg-opacity-25"])},{default:ce(()=>[K("div",{class:Ae(["flex relative",c.post.countdown||c.post.alignment==="center"?"flex justify-between":""])},[K("div",Ene,[c.post.countdown?(S(),re(Hl,{key:0,time:new Date(c.post.countdown).getTime(),direction:"down",alignment:c.post.alignment},null,8,["time","alignment"])):G("",!0),c.post.timer?(S(),re(Hl,{key:1,time:new Date(c.post.timer).getTime(),direction:"up",alignment:c.post.alignment},null,8,["time","alignment"])):G("",!0),c.post.description?(S(),re(fp,{key:2,description:c.post.description,alignment:c.post.alignment},null,8,["description","alignment"])):G("",!0)])],2),c.post.coverImageUrl?(S(),re(nA,{key:0,post:c.post,"cover-image-url":c.post.coverImageUrl},null,8,["post","cover-image-url"])):G("",!0),c.post.descriptionFooter?(S(),re(fp,{key:1,class:"mb-5",description:c.post.descriptionFooter,alignment:c.post.alignment},null,8,["description","alignment"])):G("",!0),Z(P(Ch),null,{default:ce(()=>[(S(!0),U(Te,null,st(a.value,h=>(S(),re(P(Qo),{disabled:!h.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",h.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:h.isExpandable?void 0:"invisible"}}},Jn({header:ce(()=>[K("div",Ine,[h.title?(S(),re(_ne,{key:0,alignment:h.alignment},{default:ce(()=>[Qe(Me(h.title),1)]),_:2},1032,["alignment"])):G("",!0),h.subTitle?(S(),re(fp,{key:1,class:"mb-5",description:h.subTitle,alignment:h.alignment},null,8,["description","alignment"])):G("",!0),h.isExpandable?G("",!0):(S(),U(Te,{key:2},[h.countdown?(S(),re(Hl,{key:0,time:new Date(h.countdown).getTime(),direction:"down",alignment:h.alignment},null,8,["time","alignment"])):G("",!0),h.timer?(S(),re(Hl,{key:1,time:new Date(h.timer).getTime(),direction:"up",alignment:h.alignment},null,8,["time","alignment"])):G("",!0)],64))])]),default:ce(()=>[h.description?(S(),re(fp,{key:0,description:h.description,alignment:h.alignment},null,8,["description","alignment"])):G("",!0),h.coverImageUrl?(S(),re(nA,{key:1,post:c.post,"cover-image-url":h.coverImageUrl,alignment:h.alignment,"max-height":"30vh"},null,8,["post","cover-image-url","alignment"])):G("",!0),Z(cZ,{bullets:h.bullets,alignment:h.alignment},null,8,["bullets","alignment"]),h.isExpandable?(S(),U(Te,{key:2},[h.countdown?(S(),re(Hl,{key:0,time:new Date(h.countdown).getTime(),direction:"down",alignment:h.alignment},null,8,["time","alignment"])):G("",!0),h.timer?(S(),re(Hl,{key:1,time:new Date(h.timer).getTime(),direction:"up",alignment:h.alignment},null,8,["time","alignment"])):G("",!0)],64)):G("",!0)]),_:2},[h.isExpandable?void 0:{name:"headericon",fn:ce(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1})]),_:1},8,["class"])),c.post.archived?G("",!0):(S(),re(uZ,{key:1,post:c.post},null,8,["post"]))]}),_:1},8,["id","class","title","subTitle","tags","loading"]))}}),Ane={key:0,class:"flex justify-center mt-5"},Pne={class:"grid grid-cols-6 mb-5 gap-5"},kne=Pe({__name:"BlogDetails",setup(t){const e=I1(),n=ee(()=>e.params.postId),r=ar(),{fetchBlogPost:i}=r,{blogPosts:s}=tn(r);return Wt(()=>{var o,a;n.value&&((o=s.value.data.single)==null?void 0:o.id)!==n.value&&((a=s.value.data.single)==null?void 0:a.id)!==n.value&&i(n.value)}),(o,a)=>P(s).fetchLoading?(S(),U("div",Ane,[Z(Ut,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:P(s).fetchLoading},{default:ce(()=>[Qe(" Loading... ")]),_:1},8,["loading"])])):(S(),U(Te,{key:1},[K("div",Pne,[Z(Ut,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"orange",url:"/blog"},{default:ce(()=>[Qe(" All Posts ")]),_:1})]),P(s).data.single?(S(),re(G$,{key:0,post:P(s).data.single},null,8,["post"])):G("",!0)],64))}}),xne={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},Dne={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},Rne={class:"bg-gray-800 border border-gray-500 rounded-2xl p-5"},Nne={class:"sm:p-8"},Mne={class:"text-title-secondary"},$ne={class:"mt-4 text-gray-300"},Lne={class:"my-2"},Fne={class:"grid grid-cols-4 mt-10 gap-3"},LT=Pe({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return Xf(()=>{document.body.style.overflow=""}),It(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${wK()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(S(),U("div",xne,[K("div",{class:"fixed inset-0 bg-gray-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),K("div",Dne,[K("div",Rne,[K("div",Nne,[K("h3",Mne,Me(n.title),1),K("div",$ne,[(S(!0),U(Te,null,st(Array.isArray(n.description)?[...n.description]:[n.description],i=>(S(),U("p",Lne,Me(i),1))),256))]),fe(n.$slots,"default")]),K("div",Fne,[Z(Ut,{class:Ae(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},{default:ce(()=>[Qe(" Cancel ")]),_:1},8,["class"]),n.confirmText?(S(),re(Ut,ie({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),{default:ce(()=>[Qe(Me(n.confirmText),1)]),_:1},16,["loading"])):G("",!0)])])])])):G("",!0)}});let vp;const Une=new Uint8Array(16);function Vne(){if(!vp&&(vp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vp(Une)}const yr=[];for(let t=0;t<256;++t)yr.push((t+256).toString(16).slice(1));function Bne(t,e=0){return yr[t[e+0]]+yr[t[e+1]]+yr[t[e+2]]+yr[t[e+3]]+"-"+yr[t[e+4]]+yr[t[e+5]]+"-"+yr[t[e+6]]+yr[t[e+7]]+"-"+yr[t[e+8]]+yr[t[e+9]]+"-"+yr[t[e+10]]+yr[t[e+11]]+yr[t[e+12]]+yr[t[e+13]]+yr[t[e+14]]+yr[t[e+15]]}const jne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rA={randomUUID:jne};function tg(t,e,n){if(rA.randomUUID&&!e&&!t)return rA.randomUUID();t=t||{};const r=t.random||(t.rng||Vne)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Bne(r)}const Hne={class:"m-4"},Wne=["for"],ng=Pe({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=()=>{},a=n;return e({test:o}),(l,u)=>{const c=En("VueDatePicker");return S(),U("div",Hne,[l.label?(S(),U("label",ie({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),Me(l.label),17,Wne)):G("",!0),Z(c,{uid:s.value,class:"p-input px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),dark:""},null,8,["uid","modelValue"])])}}}),Kne={class:"m-4"},zne=["for"],Gne={class:"flex justify-between gap-1"},Yne=["id","disabled"],qne={key:2},Xne={class:"flex justify-center"},Qne=["src"],FT=Pe({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,{firebaseUser:i}=tn(or()),{fetchFileInfo:s,uploadFile:o,deleteFile:a}=ar(),l=se(),u=se(null),c=se(0),d=ee(()=>Q0(r.modelValue||"uploads/"+tg())),f=ee(()=>d.value.name),h=se(),p=se(""),m=b=>{const w=b.target;w.files&&w.files.length>0&&(u.value=w.files[0],p.value=u.value.name,g())},g=async()=>{var b,w;u.value&&((b=i.value)!=null&&b.uid)&&await o(d.value,u.value,T=>c.value=T,p.value,(w=i.value)==null?void 0:w.uid,r.isPublic,r.blogPost)&&(_("update:modelValue",await dK(d.value)),u.value=null,c.value=0)},y=async()=>{await a(d.value)?(window.URL.revokeObjectURL(r.modelValue),l.value.value=null,_("update:modelValue","")):_("update:error","Failed to delete File reference")},v=()=>{};It(()=>r.modelValue,async()=>{var b;h.value=r.modelValue?await s(f.value):void 0,p.value=((b=h.value)==null?void 0:b.name)??""},{immediate:!0});const _=n;return e({test:v}),(b,w)=>(S(),U("div",Kne,[b.label?(S(),U("label",{key:0,class:"block text-sm font-bold mb-2",for:`${b.id}`},Me(b.label),9,zne)):G("",!0),K("div",Gne,[K("input",{id:`${b.id}`,ref_key:"fileUpload",ref:l,type:"file",accept:"image/*",onChange:m,class:"p-input",disabled:!!h.value},null,40,Yne),h.value?(S(),re(C$,{key:0,onClick:y})):G("",!0)]),b.error?(S(),re(PT,{key:1,name:b.name,error:b.error},null,8,["name","error"])):G("",!0),c.value>0?(S(),U("div",qne,"Uploading: "+Me(c.value.toFixed(2))+"%",1)):G("",!0),K("div",Xne,[K("div",xn(ir(b.imageContainerProps)),[h.value?(S(),U("img",ie({key:0,class:"p-input-file mt-4 w-full min-w-25 md:max-w-fit",src:b.modelValue},b.imageProps),null,16,Qne)):G("",!0)],16)])]))}}),Jne={class:"m-4"},Zne=["for"],xr=Pe({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},placeholder:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ee(()=>(r.rules??[]).some(h=>h.type===kT.Required)),o=ee({get:()=>{if(r.multiple){const h=Array.isArray(r.modelValue)?r.modelValue:[];return h.length?h:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const h=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return h||(r.options.length?r.options[0].value:"")}},set:h=>{i("update:modelValue",Ca(h)[0]),i("update:arrayValue",Ca(h))}}),a=ee(()=>r.label+(s.value?" *":"")),l=ee(()=>r.name+(r.id?"."+r.id:"")),u=ee(()=>r.options.find(({value:h})=>h===o.value)),c=ee(()=>{var h,p,m;return[((h=u.value)==null?void 0:h.background)??"bg-transparent",(p=u.value)!=null&&p.background?"bg-opacity-90":"bg-opacity-40",((m=u.value)==null?void 0:m.text)??"text-black"]}),d=ee(()=>Ca(o.value).map(h=>{var p;return(p=r.options.find(m=>m.value===h))==null?void 0:p.label}).join(", "));return Wt(()=>{s.value&&(i("update:modelValue",Ca(o.value)[0]),i("update:arrayValue",Ca(o.value)))}),e({test:async()=>{const h=r.rules||[];let p="";for(const m of Ca(o.value)){const g={value:m.toString()},y=h.filter(v=>!v.test(g)).map(v=>v.error(g))||[];if(y[0]){p=y[0];break}}i("update:error",p)}}),(h,p)=>(S(),U("div",Jne,[K("label",{class:"block text-sm font-bold mb-2",for:l.value},Me(a.value),9,Zne),K("div",null,[(S(),re(un(h.multiple?"PrimeMultiSelect":"PrimeDropdown"),{inputId:l.value,modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=m=>o.value=m),placeholder:h.placeholder??"No option selected",class:"w-full p-input p-0",multiple:h.multiple,options:h.options,optionValue:"value",pt:{trigger:{class:c.value}}},{value:ce(({placeholder:m})=>{var g;return[K("span",{class:Ae(["block w-full p-2",...c.value])},Me((h.multiple?d.value:(g=u.value)==null?void 0:g.label)||m),3)]}),option:ce(({option:m})=>[K("span",{class:Ae(["w-full p-2",m.background,m.background?"bg-opacity-90":"bg-opacity-40",m.text])},Me(m.label),3)]),_:1},8,["inputId","modelValue","placeholder","multiple","options","pt"]))]),h.error?(S(),re(PT,{key:0,name:h.name,error:h.error},null,8,["name","error"])):G("",!0)]))}});var ere=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Y$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var q$={exports:{}};const nre=Y$(_6);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zp=function(e){return typeof e}:zp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function rre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hi(){return Hi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hi.apply(this,arguments)}function ire(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sre(t,e){if(t==null)return{};var n=ire(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ore(t){return are(t)||lre(t)||ure(t)||cre()}function are(t){if(Array.isArray(t))return Pw(t)}function lre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ure(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dre="1.14.0";function ro(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var vo=ro(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Oh=ro(/Edge/i),sA=ro(/firefox/i),Rd=ro(/safari/i)&&!ro(/chrome/i)&&!ro(/android/i),X$=ro(/iP(ad|od|hone)/i),fre=ro(/chrome/i)&&ro(/android/i),Q$={capture:!1,passive:!1};function Tt(t,e,n){t.addEventListener(e,n,!vo&&Q$)}function wt(t,e,n){t.removeEventListener(e,n,!vo&&Q$)}function rg(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function hre(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ji(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&rg(t,e):rg(t,e))||r&&t===n)return t;if(t===n)break}while(t=hre(t))}return null}var oA=/\s+/g;function An(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(oA," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(oA," ")}}function Xe(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Xa(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Xe(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function J$(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Ds(){var t=document.scrollingElement;return t||document.documentElement}function Sn(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==Ds()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!vo))do if(i&&i.getBoundingClientRect&&(Xe(i,"transform")!=="none"||n&&Xe(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(Xe(i,"border-top-width")),a-=f.left+parseInt(Xe(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var h=Xa(i||t),p=h&&h.a,m=h&&h.d;h&&(o/=m,a/=p,d/=p,c/=m,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function aA(t,e,n){for(var r=Ho(t,!0),i=Sn(t)[e];r;){var s=Sn(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===Ds())break;r=Ho(r,!1)}return!1}function ac(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==ot.ghost&&(r||o[s]!==ot.dragged)&&Ji(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function UT(t,e){for(var n=t.lastElementChild;n&&(n===ot.ghost||Xe(n,"display")==="none"||e&&!rg(n,e));)n=n.previousElementSibling;return n||null}function Ln(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ot.clone&&(!e||rg(t,e))&&n++;return n}function lA(t){var e=0,n=0,r=Ds();if(t)do{var i=Xa(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function pre(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Ho(t,e){if(!t||!t.getBoundingClientRect)return Ds();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Xe(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ds();if(r||e)return n;r=!0}}while(n=n.parentNode);return Ds()}function mre(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function sb(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Nd;function Z$(t,e){return function(){if(!Nd){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Nd=setTimeout(function(){Nd=void 0},e)}}}function gre(){clearTimeout(Nd),Nd=void 0}function eL(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function VT(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function uA(t,e){Xe(t,"position","absolute"),Xe(t,"top",e.top),Xe(t,"left",e.left),Xe(t,"width",e.width),Xe(t,"height",e.height)}function ob(t){Xe(t,"position",""),Xe(t,"top",""),Xe(t,"left",""),Xe(t,"width",""),Xe(t,"height","")}var Mr="Sortable"+new Date().getTime();function vre(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Xe(i,"display")==="none"||i===ot.ghost)){t.push({target:i,rect:Sn(i)});var s=Ls({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Xa(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(pre(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=Sn(u),f=u.prevFromRect,h=u.prevToRect,p=a.rect,m=Xa(u,!0);m&&(d.top-=m.f,d.left-=m.e),u.toRect=d,u.thisAnimationDuration&&sb(f,d)&&!sb(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=bre(p,f,h,i.options)),sb(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){Xe(r,"transition",""),Xe(r,"transform","");var a=Xa(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,Xe(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=yre(r),Xe(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Xe(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Xe(r,"transition",""),Xe(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function yre(t){return t.offsetWidth}function bre(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var zl=[],ab={initializeByDefault:!0},Ah={mount:function(e){for(var n in ab)ab.hasOwnProperty(n)&&!(n in e)&&(e[n]=ab[n]);zl.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),zl.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";zl.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Ls({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Ls({sortable:n},r)))})},initializePlugins:function(e,n,r,i){zl.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Hi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return zl.forEach(function(i){typeof i.eventProperties=="function"&&Hi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return zl.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function ad(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[Mr],!!e){var m,g=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!vo&&!Oh?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var v=Ls(Ls({},p),Ah.getEventProperties(r,e));for(var _ in v)m[_]=v[_];n&&n.dispatchEvent(m),g[y]&&g[y].call(e,m)}}var wre=["evt"],ri=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=sre(r,wre);Ah.pluginEvent.bind(ot)(e,n,Ls({dragEl:De,parentEl:Nn,ghostEl:mt,rootEl:Tn,nextEl:Aa,lastDownEl:Gp,cloneEl:Mn,cloneHidden:jo,dragStarted:ld,putSortable:br,activeSortable:ot.active,originalEvent:i,oldIndex:pu,oldDraggableIndex:Md,newIndex:yi,newDraggableIndex:$o,hideGhostForTarget:iL,unhideGhostForTarget:sL,cloneNowHidden:function(){jo=!0},cloneNowShown:function(){jo=!1},dispatchSortableEvent:function(a){Yr({sortable:n,name:a,originalEvent:i})}},s))};function Yr(t){ad(Ls({putSortable:br,cloneEl:Mn,targetEl:De,rootEl:Tn,oldIndex:pu,oldDraggableIndex:Md,newIndex:yi,newDraggableIndex:$o},t))}var De,Nn,mt,Tn,Aa,Gp,Mn,jo,pu,yi,Md,$o,yp,br,iu=!1,ig=!1,sg=[],Ta,Gi,lb,ub,cA,dA,ld,Gl,$d,Ld=!1,bp=!1,Yp,Ar,cb=[],kw=!1,og=[],Fv=typeof document<"u",wp=X$,fA=Oh||vo?"cssFloat":"float",_re=Fv&&!fre&&!X$&&"draggable"in document.createElement("div"),tL=function(){if(Fv){if(vo)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),nL=function(e,n){var r=Xe(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=ac(e,0,n),o=ac(e,1,n),a=s&&Xe(s),l=o&&Xe(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Sn(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Sn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[fA]==="none"||o&&r[fA]==="none"&&u+c>i)?"vertical":"horizontal"},Tre=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},Sre=function(e,n){var r;return sg.some(function(i){var s=i[Mr].options.emptyInsertThreshold;if(!(!s||UT(i))){var o=Sn(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},rL=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var r={},i=e.group;(!i||zp(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},iL=function(){!tL&&mt&&Xe(mt,"display","none")},sL=function(){!tL&&mt&&Xe(mt,"display","")};Fv&&document.addEventListener("click",function(t){if(ig)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ig=!1,!1},!0);var Sa=function(e){if(De){e=e.touches?e.touches[0]:e;var n=Sre(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Mr]._onDragOver(r)}}},Ere=function(e){De&&De.parentNode[Mr]._isOutsideThisEl(e.target)};function ot(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Hi({},e),t[Mr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return nL(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ot.supportPointer!==!1&&"PointerEvent"in window&&!Rd,emptyInsertThreshold:5};Ah.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);rL(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:_re,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Tt(t,"pointerdown",this._onTapStart):(Tt(t,"mousedown",this._onTapStart),Tt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Tt(t,"dragover",this),Tt(t,"dragenter",this)),sg.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Hi(this,vre())}ot.prototype={constructor:ot,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Gl=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,De):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(Dre(r),!De&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Rd&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ji(l,i.draggable,r,!1),!(l&&l.animated)&&Gp!==l)){if(pu=Ln(l),Md=Ln(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Yr({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),ri("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Ji(u,d.trim(),r,!1),d)return Yr({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),ri("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Ji(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!De&&r.parentNode===s){var u=Sn(r);if(Tn=s,De=r,Nn=De.parentNode,Aa=De.nextSibling,Gp=r,yp=o.group,ot.dragged=De,Ta={target:De,clientX:(n||e).clientX,clientY:(n||e).clientY},cA=Ta.clientX-u.left,dA=Ta.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,De.style["will-change"]="all",l=function(){if(ri("delayEnded",i,{evt:e}),ot.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!sA&&i.nativeDraggable&&(De.draggable=!0),i._triggerDragStart(e,n),Yr({sortable:i,name:"choose",originalEvent:e}),An(De,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){J$(De,c.trim(),db)}),Tt(a,"dragover",Sa),Tt(a,"mousemove",Sa),Tt(a,"touchmove",Sa),Tt(a,"mouseup",i._onDrop),Tt(a,"touchend",i._onDrop),Tt(a,"touchcancel",i._onDrop),sA&&this.nativeDraggable&&(this.options.touchStartThreshold=4,De.draggable=!0),ri("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Oh||vo))){if(ot.eventCanceled){this._onDrop();return}Tt(a,"mouseup",i._disableDelayedDrag),Tt(a,"touchend",i._disableDelayedDrag),Tt(a,"touchcancel",i._disableDelayedDrag),Tt(a,"mousemove",i._delayedDragTouchMoveHandler),Tt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Tt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){De&&db(De),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;wt(e,"mouseup",this._disableDelayedDrag),wt(e,"touchend",this._disableDelayedDrag),wt(e,"touchcancel",this._disableDelayedDrag),wt(e,"mousemove",this._delayedDragTouchMoveHandler),wt(e,"touchmove",this._delayedDragTouchMoveHandler),wt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Tt(document,"pointermove",this._onTouchMove):n?Tt(document,"touchmove",this._onTouchMove):Tt(document,"mousemove",this._onTouchMove):(Tt(De,"dragend",this),Tt(Tn,"dragstart",this._onDragStart));try{document.selection?qp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(iu=!1,Tn&&De){ri("dragStarted",this,{evt:n}),this.nativeDraggable&&Tt(document,"dragover",Ere);var r=this.options;!e&&An(De,r.dragClass,!1),An(De,r.ghostClass,!0),ot.active=this,e&&this._appendGhost(),Yr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Gi){this._lastX=Gi.clientX,this._lastY=Gi.clientY,iL();for(var e=document.elementFromPoint(Gi.clientX,Gi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Gi.clientX,Gi.clientY),e!==n);)n=e;if(De.parentNode[Mr]._isOutsideThisEl(e),n)do{if(n[Mr]){var r=void 0;if(r=n[Mr]._onDragOver({clientX:Gi.clientX,clientY:Gi.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);sL()}},_onTouchMove:function(e){if(Ta){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=mt&&Xa(mt,!0),a=mt&&o&&o.a,l=mt&&o&&o.d,u=wp&&Ar&&lA(Ar),c=(s.clientX-Ta.clientX+i.x)/(a||1)+(u?u[0]-cb[0]:0)/(a||1),d=(s.clientY-Ta.clientY+i.y)/(l||1)+(u?u[1]-cb[1]:0)/(l||1);if(!ot.active&&!iu){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(mt){o?(o.e+=c-(lb||0),o.f+=d-(ub||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Xe(mt,"webkitTransform",f),Xe(mt,"mozTransform",f),Xe(mt,"msTransform",f),Xe(mt,"transform",f),lb=c,ub=d,Gi=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!mt){var e=this.options.fallbackOnBody?document.body:Tn,n=Sn(De,!0,wp,!0,e),r=this.options;if(wp){for(Ar=e;Xe(Ar,"position")==="static"&&Xe(Ar,"transform")==="none"&&Ar!==document;)Ar=Ar.parentNode;Ar!==document.body&&Ar!==document.documentElement?(Ar===document&&(Ar=Ds()),n.top+=Ar.scrollTop,n.left+=Ar.scrollLeft):Ar=Ds(),cb=lA(Ar)}mt=De.cloneNode(!0),An(mt,r.ghostClass,!1),An(mt,r.fallbackClass,!0),An(mt,r.dragClass,!0),Xe(mt,"transition",""),Xe(mt,"transform",""),Xe(mt,"box-sizing","border-box"),Xe(mt,"margin",0),Xe(mt,"top",n.top),Xe(mt,"left",n.left),Xe(mt,"width",n.width),Xe(mt,"height",n.height),Xe(mt,"opacity","0.8"),Xe(mt,"position",wp?"absolute":"fixed"),Xe(mt,"zIndex","100000"),Xe(mt,"pointerEvents","none"),ot.ghost=mt,e.appendChild(mt),Xe(mt,"transform-origin",cA/parseInt(mt.style.width)*100+"% "+dA/parseInt(mt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(ri("dragStart",this,{evt:e}),ot.eventCanceled){this._onDrop();return}ri("setupClone",this),ot.eventCanceled||(Mn=VT(De),Mn.draggable=!1,Mn.style["will-change"]="",this._hideClone(),An(Mn,this.options.chosenClass,!1),ot.clone=Mn),r.cloneId=qp(function(){ri("clone",r),!ot.eventCanceled&&(r.options.removeCloneOnHide||Tn.insertBefore(Mn,De),r._hideClone(),Yr({sortable:r,name:"clone"}))}),!n&&An(De,s.dragClass,!0),n?(ig=!0,r._loopId=setInterval(r._emulateDragOver,50)):(wt(document,"mouseup",r._onDrop),wt(document,"touchend",r._onDrop),wt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,De)),Tt(document,"drop",r),Xe(De,"transform","translateZ(0)")),iu=!0,r._dragStartId=qp(r._dragStarted.bind(r,n,e)),Tt(document,"selectstart",r),ld=!0,Rd&&Xe(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=ot.active,c=yp===l,d=a.sort,f=br||u,h,p=this,m=!1;if(kw)return;function g(Y,L){ri(Y,p,Ls({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:f,target:r,completed:v,onMove:function(J,te){return _p(Tn,n,De,i,J,Sn(J),e,te)},changed:_},L))}function y(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function v(Y){return g("dragOverCompleted",{insertion:Y}),Y&&(c?u._hideClone():u._showClone(p),p!==f&&(An(De,br?br.options.ghostClass:u.options.ghostClass,!1),An(De,a.ghostClass,!0)),br!==p&&p!==ot.active?br=p:p===ot.active&&br&&(br=null),f===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===De&&!De.animated||r===n&&!r.animated)&&(Gl=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(De.parentNode[Mr]._isOutsideThisEl(e.target),!Y&&Sa(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function _(){yi=Ln(De),$o=Ln(De,a.draggable),Yr({sortable:p,name:"change",toEl:n,newIndex:yi,newDraggableIndex:$o,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Ji(r,a.draggable,n,!0),g("dragOver"),ot.eventCanceled)return m;if(De.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return v(!1);if(ig=!1,u&&!a.disabled&&(c?d||(o=Nn!==Tn):br===this||(this.lastPutMode=yp.checkPull(this,u,De,e))&&l.checkPut(this,u,De,e))){if(h=this._getDirection(e,r)==="vertical",i=Sn(De),g("dragOverValid"),ot.eventCanceled)return m;if(o)return Nn=Tn,y(),this._hideClone(),g("revert"),ot.eventCanceled||(Aa?Tn.insertBefore(De,Aa):Tn.appendChild(De)),v(!0);var b=UT(n,a.draggable);if(!b||Are(e,h,this)&&!b.animated){if(b===De)return v(!1);if(b&&n===e.target&&(r=b),r&&(s=Sn(r)),_p(Tn,n,De,i,r,s,e,!!r)!==!1)return y(),n.appendChild(De),Nn=n,_(),v(!0)}else if(b&&Ore(e,h,this)){var w=ac(n,0,a,!0);if(w===De)return v(!1);if(r=w,s=Sn(r),_p(Tn,n,De,i,r,s,e,!1)!==!1)return y(),n.insertBefore(De,w),Nn=n,_(),v(!0)}else if(r.parentNode===n){s=Sn(r);var T=0,x,C=De.parentNode!==n,I=!Tre(De.animated&&De.toRect||i,r.animated&&r.toRect||s,h),E=h?"top":"left",M=aA(r,"top","top")||aA(De,"top","top"),F=M?M.scrollTop:void 0;Gl!==r&&(x=s[E],Ld=!1,bp=!I&&a.invertSwap||C),T=Pre(e,r,s,h,I?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,bp,Gl===r);var N;if(T!==0){var k=Ln(De);do k-=T,N=Nn.children[k];while(N&&(Xe(N,"display")==="none"||N===mt))}if(T===0||N===r)return v(!1);Gl=r,$d=T;var R=r.nextElementSibling,D=!1;D=T===1;var B=_p(Tn,n,De,i,r,s,e,D);if(B!==!1)return(B===1||B===-1)&&(D=B===1),kw=!0,setTimeout(Cre,30),y(),D&&!R?n.appendChild(De):r.parentNode.insertBefore(De,D?R:r),M&&eL(M,0,F-M.scrollTop),Nn=De.parentNode,x!==void 0&&!bp&&(Yp=Math.abs(x-Sn(r)[E])),_(),v(!0)}if(n.contains(De))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){wt(document,"mousemove",this._onTouchMove),wt(document,"touchmove",this._onTouchMove),wt(document,"pointermove",this._onTouchMove),wt(document,"dragover",Sa),wt(document,"mousemove",Sa),wt(document,"touchmove",Sa)},_offUpEvents:function(){var e=this.el.ownerDocument;wt(e,"mouseup",this._onDrop),wt(e,"touchend",this._onDrop),wt(e,"pointerup",this._onDrop),wt(e,"touchcancel",this._onDrop),wt(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(yi=Ln(De),$o=Ln(De,r.draggable),ri("drop",this,{evt:e}),Nn=De&&De.parentNode,yi=Ln(De),$o=Ln(De,r.draggable),ot.eventCanceled){this._nulling();return}iu=!1,bp=!1,Ld=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xw(this.cloneId),xw(this._dragStartId),this.nativeDraggable&&(wt(document,"drop",this),wt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Rd&&Xe(document.body,"user-select",""),Xe(De,"transform",""),e&&(ld&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),mt&&mt.parentNode&&mt.parentNode.removeChild(mt),(Tn===Nn||br&&br.lastPutMode!=="clone")&&Mn&&Mn.parentNode&&Mn.parentNode.removeChild(Mn),De&&(this.nativeDraggable&&wt(De,"dragend",this),db(De),De.style["will-change"]="",ld&&!iu&&An(De,br?br.options.ghostClass:this.options.ghostClass,!1),An(De,this.options.chosenClass,!1),Yr({sortable:this,name:"unchoose",toEl:Nn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Tn!==Nn?(yi>=0&&(Yr({rootEl:Nn,name:"add",toEl:Nn,fromEl:Tn,originalEvent:e}),Yr({sortable:this,name:"remove",toEl:Nn,originalEvent:e}),Yr({rootEl:Nn,name:"sort",toEl:Nn,fromEl:Tn,originalEvent:e}),Yr({sortable:this,name:"sort",toEl:Nn,originalEvent:e})),br&&br.save()):yi!==pu&&yi>=0&&(Yr({sortable:this,name:"update",toEl:Nn,originalEvent:e}),Yr({sortable:this,name:"sort",toEl:Nn,originalEvent:e})),ot.active&&((yi==null||yi===-1)&&(yi=pu,$o=Md),Yr({sortable:this,name:"end",toEl:Nn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ri("nulling",this),Tn=De=Nn=mt=Aa=Mn=Gp=jo=Ta=Gi=ld=yi=$o=pu=Md=Gl=$d=br=yp=ot.dragged=ot.ghost=ot.clone=ot.active=null,og.forEach(function(e){e.checked=!0}),og.length=lb=ub=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":De&&(this._onDragOver(e),Ire(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Ji(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||xre(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Ji(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ji(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Ah.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&rL(r)},destroy:function(){ri("destroy",this);var e=this.el;e[Mr]=null,wt(e,"mousedown",this._onTapStart),wt(e,"touchstart",this._onTapStart),wt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(wt(e,"dragover",this),wt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sg.splice(sg.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!jo){if(ri("hideClone",this),ot.eventCanceled)return;Xe(Mn,"display","none"),this.options.removeCloneOnHide&&Mn.parentNode&&Mn.parentNode.removeChild(Mn),jo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(jo){if(ri("showClone",this),ot.eventCanceled)return;De.parentNode==Tn&&!this.options.group.revertClone?Tn.insertBefore(Mn,De):Aa?Tn.insertBefore(Mn,Aa):Tn.appendChild(Mn),this.options.group.revertClone&&this.animate(De,Mn),Xe(Mn,"display",""),jo=!1}}};function Ire(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function _p(t,e,n,r,i,s,o,a){var l,u=t[Mr],c=u.options.onMove,d;return window.CustomEvent&&!vo&&!Oh?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||Sn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function db(t){t.draggable=!1}function Cre(){kw=!1}function Ore(t,e,n){var r=Sn(ac(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function Are(t,e,n){var r=Sn(UT(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function Pre(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(a&&Yp<u*i){if(!Ld&&($d===1?l>c+u*s/2:l<d-u*s/2)&&(Ld=!0),Ld)f=!0;else if($d===1?l<c+Yp:l>d-Yp)return-$d}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return kre(e)}return f=f||o,f&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function kre(t){return Ln(De)<Ln(t)?1:-1}function xre(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Dre(t){og.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&og.push(r)}}function qp(t){return setTimeout(t,0)}function xw(t){return clearTimeout(t)}Fv&&Tt(document,"touchmove",function(t){(ot.active||iu)&&t.cancelable&&t.preventDefault()});ot.utils={on:Tt,off:wt,css:Xe,find:J$,is:function(e,n){return!!Ji(e,n,e,!1)},extend:mre,throttle:Z$,closest:Ji,toggleClass:An,clone:VT,index:Ln,nextTick:qp,cancelNextTick:xw,detectDirection:nL,getChild:ac};ot.get=function(t){return t[Mr]};ot.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ot.utils=Ls(Ls({},ot.utils),r.utils)),Ah.mount(r)})};ot.create=function(t,e){return new ot(t,e)};ot.version=dre;var Gn=[],ud,Dw,Rw=!1,fb,hb,ag,cd;function Rre(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Tt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Tt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Tt(document,"touchmove",this._handleFallbackAutoScroll):Tt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?wt(document,"dragover",this._handleAutoScroll):(wt(document,"pointermove",this._handleFallbackAutoScroll),wt(document,"touchmove",this._handleFallbackAutoScroll),wt(document,"mousemove",this._handleFallbackAutoScroll)),hA(),Xp(),gre()},nulling:function(){ag=Dw=ud=Rw=cd=fb=hb=null,Gn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(ag=n,r||this.options.forceAutoScrollFallback||Oh||vo||Rd){pb(n,this.options,a,r);var l=Ho(a,!0);Rw&&(!cd||s!==fb||o!==hb)&&(cd&&hA(),cd=setInterval(function(){var u=Ho(document.elementFromPoint(s,o),!0);u!==l&&(l=u,Xp()),pb(n,i.options,u,r)},10),fb=s,hb=o)}else{if(!this.options.bubbleScroll||Ho(a,!0)===Ds()){Xp();return}pb(n,this.options,Ho(a,!1),!1)}}},Hi(t,{pluginName:"scroll",initializeByDefault:!0})}function Xp(){Gn.forEach(function(t){clearInterval(t.pid)}),Gn=[]}function hA(){clearInterval(cd)}var pb=Z$(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Ds(),u=!1,c;Dw!==n&&(Dw=n,Xp(),ud=e.scroll,c=e.scrollFn,ud===!0&&(ud=Ho(n,!0)));var d=0,f=ud;do{var h=f,p=Sn(h),m=p.top,g=p.bottom,y=p.left,v=p.right,_=p.width,b=p.height,w=void 0,T=void 0,x=h.scrollWidth,C=h.scrollHeight,I=Xe(h),E=h.scrollLeft,M=h.scrollTop;h===l?(w=_<x&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),T=b<C&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(w=_<x&&(I.overflowX==="auto"||I.overflowX==="scroll"),T=b<C&&(I.overflowY==="auto"||I.overflowY==="scroll"));var F=w&&(Math.abs(v-i)<=o&&E+_<x)-(Math.abs(y-i)<=o&&!!E),N=T&&(Math.abs(g-s)<=o&&M+b<C)-(Math.abs(m-s)<=o&&!!M);if(!Gn[d])for(var k=0;k<=d;k++)Gn[k]||(Gn[k]={});(Gn[d].vx!=F||Gn[d].vy!=N||Gn[d].el!==h)&&(Gn[d].el=h,Gn[d].vx=F,Gn[d].vy=N,clearInterval(Gn[d].pid),(F!=0||N!=0)&&(u=!0,Gn[d].pid=setInterval((function(){r&&this.layer===0&&ot.active._onTouchMove(ag);var R=Gn[this.layer].vy?Gn[this.layer].vy*a:0,D=Gn[this.layer].vx?Gn[this.layer].vx*a:0;typeof c=="function"&&c.call(ot.dragged.parentNode[Mr],D,R,t,ag,Gn[this.layer].el)!=="continue"||eL(Gn[this.layer].el,D,R)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=Ho(f,!1)));Rw=u}},30),oL=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function BT(){}BT.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=ac(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:oL};Hi(BT,{pluginName:"revertOnSpill"});function jT(){}jT.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:oL};Hi(jT,{pluginName:"removeOnSpill"});var Mi;function Nre(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Mi=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=Mi;s(i)!==!1?(An(i,c.swapClass,!0),Mi=i):Mi=null,d&&d!==Mi&&An(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;Mi&&An(Mi,a.swapClass,!1),Mi&&(a.swap||i&&i.options.swap)&&s!==Mi&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),Mre(s,Mi),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){Mi=null}},Hi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Mi}}})}function Mre(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Ln(t),s=Ln(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var ht=[],vi=[],Vc,Yi,Bc=!1,ii=!1,Yl=!1,ln,jc,Tp;function $re(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Tt(document,"pointerup",this._deselectMultiDrag):(Tt(document,"mouseup",this._deselectMultiDrag),Tt(document,"touchend",this._deselectMultiDrag)),Tt(document,"keydown",this._checkKeyDown),Tt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";ht.length&&Yi===e?ht.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;ln=r},delayEnded:function(){this.isMultiDrag=~ht.indexOf(ln)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<ht.length;s++)vi.push(VT(ht[s])),vi[s].sortableIndex=ht[s].sortableIndex,vi[s].draggable=!1,vi[s].style["will-change"]="",An(vi[s],this.options.selectedClass,!1),ht[s]===ln&&An(vi[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ht.length&&Yi===r&&(pA(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(pA(!1,i),vi.forEach(function(o){Xe(o,"display","")}),r(),Tp=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(vi.forEach(function(o){Xe(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Tp=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Yi&&Yi.multiDrag._deselectMultiDrag(),ht.forEach(function(r){r.sortableIndex=Ln(r)}),ht=ht.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Yl=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){ht.forEach(function(o){o!==ln&&Xe(o,"position","absolute")});var s=Sn(ln,!1,!0,!0);ht.forEach(function(o){o!==ln&&uA(o,s)}),ii=!0,Bc=!0}i.animateAll(function(){ii=!1,Bc=!1,r.options.animation&&ht.forEach(function(o){ob(o)}),r.options.sort&&Sp()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;ii&&~ht.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;ht.length>1&&(ht.forEach(function(a){s.addAnimationState({target:a,rect:ii?Sn(a):o}),ob(a),a.fromRect=o,r.removeAnimationState(a)}),ii=!1,Lre(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),Bc=!1,u.animation&&ht.length>1&&(ii||!i&&!o.options.sort&&!l)){var c=Sn(ln,!1,!0,!0);ht.forEach(function(f){f!==ln&&(uA(f,c),a.appendChild(f))}),ii=!0}if(!i)if(ii||Sp(),ht.length>1){var d=Tp;o._showClone(r),o.options.animation&&!Tp&&d&&vi.forEach(function(f){o.addAnimationState({target:f,rect:jc}),f.fromRect=jc,f.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(ht.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){jc=Hi({},r);var o=Xa(ln,!0);jc.top-=o.f,jc.left-=o.e}},dragOverAnimationComplete:function(){ii&&(ii=!1,Sp())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,f=s.children;if(!Yl)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),An(ln,d.selectedClass,!~ht.indexOf(ln)),~ht.indexOf(ln))ht.splice(ht.indexOf(ln),1),Vc=null,ad({sortable:o,rootEl:i,name:"deselect",targetEl:ln,originalEvt:r});else{if(ht.push(ln),ad({sortable:o,rootEl:i,name:"select",targetEl:ln,originalEvt:r}),r.shiftKey&&Vc&&o.el.contains(Vc)){var h=Ln(Vc),p=Ln(ln);if(~h&&~p&&h!==p){var m,g;for(p>h?(g=h,m=p):(g=p,m=h+1);g<m;g++)~ht.indexOf(f[g])||(An(f[g],d.selectedClass,!0),ht.push(f[g]),ad({sortable:o,rootEl:i,name:"select",targetEl:f[g],originalEvt:r}))}}else Vc=ln;Yi=c}if(Yl&&this.isMultiDrag){if(ii=!1,(s[Mr].options.sort||s!==i)&&ht.length>1){var y=Sn(ln),v=Ln(ln,":not(."+this.options.selectedClass+")");if(!Bc&&d.animation&&(ln.thisAnimationDuration=null),c.captureAnimationState(),!Bc&&(d.animation&&(ln.fromRect=y,ht.forEach(function(b){if(b.thisAnimationDuration=null,b!==ln){var w=ii?Sn(b):y;b.fromRect=w,c.addAnimationState({target:b,rect:w})}})),Sp(),ht.forEach(function(b){f[v]?s.insertBefore(b,f[v]):s.appendChild(b),v++}),l===Ln(ln))){var _=!1;ht.forEach(function(b){if(b.sortableIndex!==Ln(b)){_=!0;return}}),_&&a("update")}ht.forEach(function(b){ob(b)}),c.animateAll()}Yi=c}(i===s||u&&u.lastPutMode!=="clone")&&vi.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},nullingGlobal:function(){this.isMultiDrag=Yl=!1,vi.length=0},destroyGlobal:function(){this._deselectMultiDrag(),wt(document,"pointerup",this._deselectMultiDrag),wt(document,"mouseup",this._deselectMultiDrag),wt(document,"touchend",this._deselectMultiDrag),wt(document,"keydown",this._checkKeyDown),wt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Yl<"u"&&Yl)&&Yi===this.sortable&&!(n&&Ji(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;ht.length;){var r=ht[0];An(r,this.options.selectedClass,!1),ht.shift(),ad({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Hi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Mr];!r||!r.options.multiDrag||~ht.indexOf(n)||(Yi&&Yi!==r&&(Yi.multiDrag._deselectMultiDrag(),Yi=r),An(n,r.options.selectedClass,!0),ht.push(n))},deselect:function(n){var r=n.parentNode[Mr],i=ht.indexOf(n);!r||!r.options.multiDrag||!~i||(An(n,r.options.selectedClass,!1),ht.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return ht.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;ii&&s!==ln?o=-1:ii?o=Ln(s,":not(."+n.options.selectedClass+")"):o=Ln(s),i.push({multiDragElement:s,index:o})}),{items:ore(ht),clones:[].concat(vi),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function Lre(t,e){ht.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function pA(t,e){vi.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Sp(){ht.forEach(function(t){t!==ln&&t.parentNode&&t.parentNode.removeChild(t)})}ot.mount(new Rre);ot.mount(jT,BT);const Fre=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:$re,Sortable:ot,Swap:Nre,default:ot},Symbol.toStringTag,{value:"Module"})),Ure=Y$(Fre);(function(t,e){(function(r,i){t.exports=i(nre,Ure)})(typeof self<"u"?self:ere,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,f){return l.call(u,d,f)};case 3:return function(d,f,h){return l.call(u,d,f,h)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return l(f)}catch{return c.slice()}};i.exports.f=function(h){return c&&u.call(h)=="[object Window]"?d(h):l(a(h))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),f=o("5135"),h=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(g,y){if(g=c(g),y=d(y,!0),h)try{return p(g,y)}catch{}if(f(g,y))return u(!l.f.call(g,y),g[y])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),f=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!f},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var f=d.call(u,c);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var f=a[d],h=f&&f.prototype;if(h&&h.forEach!==u)try{c(h,"forEach",u)}catch{h.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(h){return a(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(f,h){if(!h&&!u)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},f(m)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var f=[],h=f.constructor={};return h[c]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var f=a(c);return f<0?l(f+d,0):u(f,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),f=o("e893"),h=o("94ca");i.exports=function(p,m){var g=p.target,y=p.global,v=p.stat,_,b,w,T,x,C;if(y?b=a:v?b=a[g]||d(g,{}):b=(a[g]||{}).prototype,b)for(w in m){if(x=m[w],p.noTargetGet?(C=l(b,w),T=C&&C.value):T=b[w],_=h(y?w:g+(v?".":"#")+w,p.forced),!_&&T!==void 0){if(typeof x==typeof T)continue;f(x,T)}(p.sham||T&&T.sham)&&u(x,"sham",!0),c(b,w,x,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",f=RegExp.prototype,h=f[d],p=u(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),m=h.name!=d;(p||m)&&a(RegExp.prototype,d,function(){var y=l(this),v=String(y.source),_=y.flags,b=String(_===void 0&&y instanceof RegExp&&!("flags"in f)?c.call(y):_);return"/"+v+"/"+b},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),f=o("ab13"),h=o("c430"),p="".startsWith,m=Math.min,g=f("startsWith"),y=!h&&!g&&!!function(){var v=l(String.prototype,"startsWith");return v&&!v.writable}();a({target:"String",proto:!0,forced:!y&&!g},{startsWith:function(_){var b=String(d(this));c(_);var w=u(m(arguments.length>1?arguments[1]:void 0,b.length)),T=String(_);return p?p.call(b,T,w):b.slice(w,w+T.length)===T}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,f,h;d?(f=d.split("."),h=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(h=f[1]))),i.exports=h&&+h},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(f,h){u(f);for(var p=c(h),m=p.length,g=0,y;m>g;)l.f(f,y=p[g++],h[y]);return f}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,f=l.getterFor(c);u(String,"String",function(h){d(this,{type:c,string:String(h),index:0})},function(){var p=f(this),m=p.string,g=p.index,y;return g>=m.length?{value:void 0,done:!0}:(y=a(m,g),p.index+=y.length,{value:y,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(f){d[c][f]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var f;return a(d)&&((f=d[c])!==void 0?!!f:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(f,h,p){var m=a(f),g=l(m.length),y=u(p,g),v;if(d&&h!=h){for(;g>y;)if(v=m[y++],v!=v)return!0}else for(;g>y;y++)if((d||y in m)&&m[y]===h)return d||y||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),f=c("filter");a({target:"Array",proto:!0,forced:!d||!f},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),f=o("8418"),h=o("35a1");i.exports=function(m){var g=l(m),y=typeof this=="function"?this:Array,v=arguments.length,_=v>1?arguments[1]:void 0,b=_!==void 0,w=h(g),T=0,x,C,I,E,M,F;if(b&&(_=a(_,v>2?arguments[2]:void 0,2)),w!=null&&!(y==Array&&c(w)))for(E=w.call(g),M=E.next,C=new y;!(I=M.call(E)).done;T++)F=b?u(E,_,[I.value,T],!0):I.value,f(C,T,F);else for(x=d(g.length),C=new y(x);x>T;T++)F=b?_(g[T],T):g[T],f(C,T,F);return C.length=T,C}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),f=o("1d80"),h=o("8aa5"),p=o("14c3"),m=Math.max,g=Math.min,y=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,b=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,T,x,C){var I=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=C.REPLACE_KEEPS_$0,M=I?"$":"$0";return[function(k,R){var D=f(this),B=k==null?void 0:k[w];return B!==void 0?B.call(k,D,R):T.call(String(D),k,R)},function(N,k){if(!I&&E||typeof k=="string"&&k.indexOf(M)===-1){var R=x(T,N,this,k);if(R.done)return R.value}var D=l(N),B=String(this),Y=typeof k=="function";Y||(k=String(k));var L=D.global;if(L){var O=D.unicode;D.lastIndex=0}for(var J=[];;){var te=p(D,B);if(te===null||(J.push(te),!L))break;var ge=String(te[0]);ge===""&&(D.lastIndex=h(B,c(D.lastIndex),O))}for(var ve="",ne=0,j=0;j<J.length;j++){te=J[j];for(var z=String(te[0]),ae=m(g(d(te.index),B.length),0),X=[],he=1;he<te.length;he++)X.push(b(te[he]));var be=te.groups;if(Y){var oe=[z].concat(X,ae,B);be!==void 0&&oe.push(be);var A=String(k.apply(void 0,oe))}else A=F(z,B,ae,X,be,k);ae>=ne&&(ve+=B.slice(ne,ae)+A,ne=ae+z.length)}return ve+B.slice(ne)}];function F(N,k,R,D,B,Y){var L=R+N.length,O=D.length,J=_;return B!==void 0&&(B=u(B),J=v),T.call(Y,J,function(te,ge){var ve;switch(ge.charAt(0)){case"$":return"$";case"&":return N;case"`":return k.slice(0,R);case"'":return k.slice(L);case"<":ve=B[ge.slice(1,-1)];break;default:var ne=+ge;if(ne===0)return te;if(ne>O){var j=y(ne/10);return j===0?te:j<=O?D[j-1]===void 0?ge.charAt(1):D[j-1]+ge.charAt(1):te}ve=D[ne-1]}return ve===void 0?"":ve})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(f){var h=l.f(c(f)),p=u.f;return p?h.concat(p(f)):h}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),f=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var m=u(this),g=c(m.length),y;return d(p),y=f(m,0),y.length=l(y,m,m,g,0,1,p,arguments.length>1?arguments[1]:void 0),y}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,f){var h=String(l(d)),p=a(f),m=h.length,g,y;return p<0||p>=m?c?"":void 0:(g=h.charCodeAt(p),g<55296||g>56319||p+1===m||(y=h.charCodeAt(p+1))<56320||y>57343?c?h.charAt(p):g:c?h.slice(p,p+2):(g-55296<<10)+(y-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,f){var h;return l(d)&&(h=d.constructor,typeof h=="function"&&(h===Array||l(h.prototype))?h=void 0:a(h)&&(h=h[c],h===null&&(h=void 0))),new(h===void 0?Array:h)(f===0?0:f)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),f=o("f772"),h=o("d012"),p=l.WeakMap,m,g,y,v=function(I){return y(I)?g(I):m(I,{})},_=function(I){return function(E){var M;if(!u(E)||(M=g(E)).type!==I)throw TypeError("Incompatible receiver, "+I+" required");return M}};if(a){var b=new p,w=b.get,T=b.has,x=b.set;m=function(I,E){return x.call(b,I,E),E},g=function(I){return w.call(b,I)||{}},y=function(I){return T.call(b,I)}}else{var C=f("state");h[C]=!0,m=function(I,E){return c(I,C,E),E},g=function(I){return d(I,C)?I[C]:{}},y=function(I){return d(I,C)}}i.exports={set:m,get:g,has:y,enforce:v,getterFor:_}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),f=o("69f3"),h=f.get,p=f.enforce,m=String(String).split("String");(i.exports=function(g,y,v,_){var b=_?!!_.unsafe:!1,w=_?!!_.enumerable:!1,T=_?!!_.noTargetGet:!1;if(typeof v=="function"&&(typeof y=="string"&&!u(v,"name")&&l(v,"name",y),p(v).source=m.join(typeof y=="string"?y:"")),g===a){w?g[y]=v:c(y,v);return}else b?!T&&g[y]&&(w=!0):delete g[y];w?g[y]=v:l(g,y,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(f){return function(h){for(var p=u(h),m=l(p),g=m.length,y=0,v=[],_;g>y;)_=m[y++],(!a||c.call(p,_))&&v.push(f?[_,p[_]]:p[_]);return v}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var f=a.Symbol||(a.Symbol={});l(f,d)||c(f,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),f=o("cc12"),h=o("f772"),p=">",m="<",g="prototype",y="script",v=h("IE_PROTO"),_=function(){},b=function(I){return m+y+p+I+m+"/"+y+p},w=function(I){I.write(b("")),I.close();var E=I.parentWindow.Object;return I=null,E},T=function(){var I=f("iframe"),E="java"+y+":",M;return I.style.display="none",d.appendChild(I),I.src=String(E),M=I.contentWindow.document,M.open(),M.write(b("document.F=Object")),M.close(),M.F},x,C=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch{}C=x?w(x):T();for(var I=u.length;I--;)delete C[g][u[I]];return C()};c[v]=!0,i.exports=Object.create||function(E,M){var F;return E!==null?(_[g]=a(E),F=new _,_[g]=null,F[v]=E):F=C(),M===void 0?F:l(F,M)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),f=o("9112"),h=o("6eeb"),p=o("b622"),m=o("c430"),g=o("3f8c"),y=o("ae93"),v=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,b=p("iterator"),w="keys",T="values",x="entries",C=function(){return this};i.exports=function(I,E,M,F,N,k,R){l(M,E,F);var D=function(j){if(j===N&&J)return J;if(!_&&j in L)return L[j];switch(j){case w:return function(){return new M(this,j)};case T:return function(){return new M(this,j)};case x:return function(){return new M(this,j)}}return function(){return new M(this)}},B=E+" Iterator",Y=!1,L=I.prototype,O=L[b]||L["@@iterator"]||N&&L[N],J=!_&&O||D(N),te=E=="Array"&&L.entries||O,ge,ve,ne;if(te&&(ge=u(te.call(new I)),v!==Object.prototype&&ge.next&&(!m&&u(ge)!==v&&(c?c(ge,v):typeof ge[b]!="function"&&f(ge,b,C)),d(ge,B,!0,!0),m&&(g[B]=C))),N==T&&O&&O.name!==T&&(Y=!0,J=function(){return O.call(this)}),(!m||R)&&L[b]!==J&&f(L,b,J),g[E]=J,N)if(ve={values:D(T),keys:k?J:D(w),entries:D(x)},R)for(ne in ve)(_||Y||!(ne in L))&&h(L,ne,ve[ne]);else a({target:E,proto:!0,forced:_||Y},ve);return ve}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,f){var h=a(d);h in c?l.f(c,h,u(0,f)):c[h]=f}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(x){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(x.stack)||h.exec(x.stack),m=p&&p[1]||!1,g=p&&p[2]||!1,y=document.location.href.replace(document.location.hash,""),v,_,b,w=document.getElementsByTagName("script");m===y&&(v=document.documentElement.outerHTML,_=new RegExp("(?:[^\\n]+?\\n){0,"+(g-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),b=v.replace(_,"$1").trim());for(var T=0;T<w.length;T++)if(w[T].readyState==="interactive"||w[T].src===m||m===y&&w[T].innerHTML&&w[T].innerHTML.trim()===b)return w[T];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,f){return l.f(c,d,u(1,f))}:function(c,d,f){return c[d]=f,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,f=function(){var g=/a/,y=/b*/g;return u.call(g,"a"),u.call(y,"a"),g.lastIndex!==0||y.lastIndex!==0}(),h=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=f||p||h;m&&(d=function(y){var v=this,_,b,w,T,x=h&&v.sticky,C=a.call(v),I=v.source,E=0,M=y;return x&&(C=C.replace("y",""),C.indexOf("g")===-1&&(C+="g"),M=String(y).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&y[v.lastIndex-1]!==`
`)&&(I="(?: "+I+")",M=" "+M,E++),b=new RegExp("^(?:"+I+")",C)),p&&(b=new RegExp("^"+I+"$(?!\\s)",C)),f&&(_=v.lastIndex),w=u.call(x?b:v,M),x?w?(w.input=w.input.slice(E),w[0]=w[0].slice(E),w.index=v.lastIndex,v.lastIndex+=w[0].length):v.lastIndex=0:f&&w&&(v.lastIndex=v.global?w.index+w[0].length:_),p&&w&&w.length>1&&c.call(w[0],b,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(w[T]=void 0)}),w}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,m){var g=d[c(p)];return g==h?!0:g==f?!1:typeof m=="function"?a(m):!!m},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},f=u.NATIVE="N",h=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),f=o("50c4"),h=o("8418"),p=o("65f0"),m=o("1dde"),g=o("b622"),y=o("2d00"),v=g("isConcatSpreadable"),_=9007199254740991,b="Maximum allowed index exceeded",w=y>=51||!l(function(){var I=[];return I[v]=!1,I.concat()[0]!==I}),T=m("concat"),x=function(I){if(!c(I))return!1;var E=I[v];return E!==void 0?!!E:u(I)},C=!w||!T;a({target:"Array",proto:!0,forced:C},{concat:function(E){var M=d(this),F=p(M,0),N=0,k,R,D,B,Y;for(k=-1,D=arguments.length;k<D;k++)if(Y=k===-1?M:arguments[k],x(Y)){if(B=f(Y.length),N+B>_)throw TypeError(b);for(R=0;R<B;R++,N++)R in Y&&h(F,N,Y[R])}else{if(N>=_)throw TypeError(b);h(F,N++,Y)}return F.length=N,F}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(h){var f=l.return;throw f!==void 0&&a(f.call(l)),h}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(h,p,m){if(u(h),p=c(p,!0),u(m),l)try{return d(h,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(h[p]=m.value),h}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),f=function(){return this};i.exports=function(h,p,m){var g=p+" Iterator";return h.prototype=l(a,{next:u(1,m)}),c(h,g,!1,!0),d[g]=f,h}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,f,h,p,m,g,y,v){for(var _=m,b=0,w=y?u(y,v,3):!1,T;b<p;){if(b in h){if(T=w?w(h[b],b,f):h[b],g>0&&a(T))_=c(d,f,T,l(T.length),_,g-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[_]=T}_++}b++}return _};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),f=o("65f0"),h=o("8418"),p=o("1dde"),m=o("ae40"),g=p("splice"),y=m("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,_=Math.min,b=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!g||!y},{splice:function(x,C){var I=d(this),E=c(I.length),M=l(x,E),F=arguments.length,N,k,R,D,B,Y;if(F===0?N=k=0:F===1?(N=0,k=E-M):(N=F-2,k=_(v(u(C),0),E-M)),E+N-k>b)throw TypeError(w);for(R=f(I,k),D=0;D<k;D++)B=M+D,B in I&&h(R,D,I[B]);if(R.length=k,N<k){for(D=M;D<E-k;D++)B=D+k,Y=D+N,B in I?I[Y]=I[B]:delete I[Y];for(D=E;D>E-k+N;D--)delete I[D-1]}else if(N>k)for(D=E-k;D>M;D--)B=D+k-1,Y=D+N-1,B in I?I[Y]=I[B]:delete I[Y];for(D=0;D<N;D++)I[D+M]=arguments[D+2];return I.length=E-k+N,R}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),f=o("4930"),h=o("fdbf"),p=o("d039"),m=o("5135"),g=o("e8b5"),y=o("861d"),v=o("825a"),_=o("7b0b"),b=o("fc6a"),w=o("c04e"),T=o("5c6c"),x=o("7c73"),C=o("df75"),I=o("241c"),E=o("057f"),M=o("7418"),F=o("06cf"),N=o("9bf2"),k=o("d1e7"),R=o("9112"),D=o("6eeb"),B=o("5692"),Y=o("f772"),L=o("d012"),O=o("90e3"),J=o("b622"),te=o("e538"),ge=o("746f"),ve=o("d44e"),ne=o("69f3"),j=o("b727").forEach,z=Y("hidden"),ae="Symbol",X="prototype",he=J("toPrimitive"),be=ne.set,oe=ne.getterFor(ae),A=Object[X],$=l.Symbol,H=u("JSON","stringify"),le=F.f,ue=N.f,Se=E.f,ke=k.f,we=B("symbols"),Ie=B("op-symbols"),ye=B("string-to-symbol-registry"),Re=B("symbol-to-string-registry"),Be=B("wks"),Ke=l.QObject,et=!Ke||!Ke[X]||!Ke[X].findChild,lt=d&&p(function(){return x(ue({},"a",{get:function(){return ue(this,"a",{value:7}).a}})).a!=7})?function(Ye,je,tt){var Ct=le(A,je);Ct&&delete A[je],ue(Ye,je,tt),Ct&&Ye!==A&&ue(A,je,Ct)}:ue,q=function(Ye,je){var tt=we[Ye]=x($[X]);return be(tt,{type:ae,tag:Ye,description:je}),d||(tt.description=je),tt},V=h?function(Ye){return typeof Ye=="symbol"}:function(Ye){return Object(Ye)instanceof $},W=function(je,tt,Ct){je===A&&W(Ie,tt,Ct),v(je);var Nt=w(tt,!0);return v(Ct),m(we,Nt)?(Ct.enumerable?(m(je,z)&&je[z][Nt]&&(je[z][Nt]=!1),Ct=x(Ct,{enumerable:T(0,!1)})):(m(je,z)||ue(je,z,T(1,{})),je[z][Nt]=!0),lt(je,Nt,Ct)):ue(je,Nt,Ct)},Q=function(je,tt){v(je);var Ct=b(tt),Nt=C(Ct).concat(Ce(Ct));return j(Nt,function(ni){(!d||Le.call(Ct,ni))&&W(je,ni,Ct[ni])}),je},de=function(je,tt){return tt===void 0?x(je):Q(x(je),tt)},Le=function(je){var tt=w(je,!0),Ct=ke.call(this,tt);return this===A&&m(we,tt)&&!m(Ie,tt)?!1:Ct||!m(this,tt)||!m(we,tt)||m(this,z)&&this[z][tt]?Ct:!0},Ge=function(je,tt){var Ct=b(je),Nt=w(tt,!0);if(!(Ct===A&&m(we,Nt)&&!m(Ie,Nt))){var ni=le(Ct,Nt);return ni&&m(we,Nt)&&!(m(Ct,z)&&Ct[z][Nt])&&(ni.enumerable=!0),ni}},me=function(je){var tt=Se(b(je)),Ct=[];return j(tt,function(Nt){!m(we,Nt)&&!m(L,Nt)&&Ct.push(Nt)}),Ct},Ce=function(je){var tt=je===A,Ct=Se(tt?Ie:b(je)),Nt=[];return j(Ct,function(ni){m(we,ni)&&(!tt||m(A,ni))&&Nt.push(we[ni])}),Nt};if(f||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var je=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),tt=O(je),Ct=function(Nt){this===A&&Ct.call(Ie,Nt),m(this,z)&&m(this[z],tt)&&(this[z][tt]=!1),lt(this,tt,T(1,Nt))};return d&&et&&lt(A,tt,{configurable:!0,set:Ct}),q(tt,je)},D($[X],"toString",function(){return oe(this).tag}),D($,"withoutSetter",function(Ye){return q(O(Ye),Ye)}),k.f=Le,N.f=W,F.f=Ge,I.f=E.f=me,M.f=Ce,te.f=function(Ye){return q(J(Ye),Ye)},d&&(ue($[X],"description",{configurable:!0,get:function(){return oe(this).description}}),c||D(A,"propertyIsEnumerable",Le,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:$}),j(C(Be),function(Ye){ge(Ye)}),a({target:ae,stat:!0,forced:!f},{for:function(Ye){var je=String(Ye);if(m(ye,je))return ye[je];var tt=$(je);return ye[je]=tt,Re[tt]=je,tt},keyFor:function(je){if(!V(je))throw TypeError(je+" is not a symbol");if(m(Re,je))return Re[je]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!d},{create:de,defineProperty:W,defineProperties:Q,getOwnPropertyDescriptor:Ge}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:me,getOwnPropertySymbols:Ce}),a({target:"Object",stat:!0,forced:p(function(){M.f(1)})},{getOwnPropertySymbols:function(je){return M.f(_(je))}}),H){var xe=!f||p(function(){var Ye=$();return H([Ye])!="[null]"||H({a:Ye})!="{}"||H(Object(Ye))!="{}"});a({target:"JSON",stat:!0,forced:xe},{stringify:function(je,tt,Ct){for(var Nt=[je],ni=1,Gv;arguments.length>ni;)Nt.push(arguments[ni++]);if(Gv=tt,!(!y(tt)&&je===void 0||V(je)))return g(tt)||(tt=function(d3,Rh){if(typeof Gv=="function"&&(Rh=Gv.call(this,d3,Rh)),!V(Rh))return Rh}),Nt[1]=tt,H.apply(null,Nt)}})}$[X][he]||R($[X],he,$[X].valueOf),ve($,ae),L[z]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},f=function(h){throw h};i.exports=function(h,p){if(u(d,h))return d[h];p||(p={});var m=[][h],g=u(p,"ACCESSORS")?p.ACCESSORS:!1,y=u(p,0)?p[0]:f,v=u(p,1)?p[1]:void 0;return d[h]=!!m&&!l(function(){if(g&&!a)return!0;var _={length:-1};g?c(_,1,{enumerable:!0,get:f}):_[1]=1,m.call(_,y,v)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),f=c("iterator"),h=!1,p=function(){return this},m,g,y;[].keys&&(y=[].keys(),"next"in y?(g=a(a(y)),g!==Object.prototype&&(m=g)):h=!0),m==null&&(m={}),!d&&!u(m,f)&&l(m,f,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:h}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,f="name";a&&!(f in u)&&l(u,f,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),f=o("fdbf"),h=l("wks"),p=a.Symbol,m=f?p:p&&p.withoutSetter||c;i.exports=function(g){return u(h,g)||(d&&u(p,g)?h[g]=p[g]:h[g]=m("Symbol."+g)),h[g]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(h){return u(l(h))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),f=[].push,h=function(p){var m=p==1,g=p==2,y=p==3,v=p==4,_=p==6,b=p==5||_;return function(w,T,x,C){for(var I=u(w),E=l(I),M=a(T,x,3),F=c(E.length),N=0,k=C||d,R=m?k(w,F):g?k(w,0):void 0,D,B;F>N;N++)if((b||N in E)&&(D=E[N],B=M(D,N,I),p)){if(m)R[N]=B;else if(B)switch(p){case 3:return!0;case 5:return D;case 6:return N;case 2:f.call(R,D)}else if(v)return!1}return _?-1:y||v?v:R}};i.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",f=!0,h=c(d);d in[]&&Array(1)[d](function(){f=!1}),a({target:"Array",proto:!0,forced:f||!h},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,h=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:f||!h||!p},{indexOf:function(g){return f?d.apply(this,arguments)||0:l(this,g,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,f){var h=l(d),p=0,m=[],g;for(g in h)!a(c,g)&&a(h,g)&&m.push(g);for(;f.length>p;)a(h,g=f[p++])&&(~u(m,g)||m.push(g));return m}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(h){return l(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var f=l(this,d);return!!f&&f.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(h,p){return a(h),l(p),u?d.call(h,p):h.__proto__=p,h}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,f,h){d&&!l(d=h?d:d.prototype,c)&&a(d,c,{configurable:!0,value:f})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(f){return function(h,p,m,g){a(p);var y=l(h),v=u(y),_=c(y.length),b=f?_-1:0,w=f?-1:1;if(m<2)for(;;){if(b in v){g=v[b],b+=w;break}if(b+=w,f?b<0:_<=b)throw TypeError("Reduce of empty array with no initial value")}for(;f?b>=0:_>b;b+=w)b in v&&(g=p(g,v[b],b,y));return g}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),f=u("species"),h=!l(function(){var v=/./;return v.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(v,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=u("replace"),g=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),y=!l(function(){var v=/(?:)/,_=v.exec;v.exec=function(){return _.apply(this,arguments)};var b="ab".split(v);return b.length!==2||b[0]!=="a"||b[1]!=="b"});i.exports=function(v,_,b,w){var T=u(v),x=!l(function(){var N={};return N[T]=function(){return 7},""[v](N)!=7}),C=x&&!l(function(){var N=!1,k=/a/;return v==="split"&&(k={},k.constructor={},k.constructor[f]=function(){return k},k.flags="",k[T]=/./[T]),k.exec=function(){return N=!0,null},k[T](""),!N});if(!x||!C||v==="replace"&&!(h&&p&&!g)||v==="split"&&!y){var I=/./[T],E=b(T,""[v],function(N,k,R,D,B){return k.exec===c?x&&!B?{done:!0,value:I.call(k,R,D)}:{done:!0,value:N.call(R,k,D)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),M=E[0],F=E[1];a(String.prototype,v,M),a(RegExp.prototype,T,_==2?function(N,k){return F.call(N,this,k)}:function(N){return F.call(N,this)})}w&&d(RegExp.prototype[T],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),f=c("map");a({target:"Array",proto:!0,forced:!d||!f},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),f=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=c(p),g=d.f,y=u(m),v={},_=0,b,w;y.length>_;)w=g(m,b=y[_++]),w!==void 0&&f(v,b,w);return v}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),f=d("iterator"),h=d("toStringTag"),p=u.values;for(var m in l){var g=a[m],y=g&&g.prototype;if(y){if(y[f]!==p)try{c(y,f,p)}catch{y[f]=p}if(y[h]||c(y,h,m),l[m]){for(var v in u)if(y[v]!==u[v])try{c(y,v,u[v])}catch{y[v]=u[v]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),f=o("9bf2").f,h=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},g=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof g?new p(T):T===void 0?p():p(T);return T===""&&(m[x]=!0),x};h(g,p);var y=g.prototype=p.prototype;y.constructor=g;var v=y.toString,_=String(p("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var T=d(this)?this.valueOf():this,x=v.call(T);if(c(m,T))return"";var C=_?x.slice(7,-1):x.replace(b,"$1");return C===""?void 0:C}}),a({global:!0,forced:!0},{Symbol:g})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),f=Object.prototype;i.exports=c?Object.getPrototypeOf:function(h){return h=l(h),a(h,d)?h[d]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?f:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),f="Array Iterator",h=c.set,p=c.getterFor(f);i.exports=d(Array,"Array",function(m,g){h(this,{type:f,target:a(m),index:0,kind:g})},function(){var m=p(this),g=m.target,y=m.kind,v=m.index++;return!g||v>=g.length?(m.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:v,done:!1}:y=="values"?{value:g[v],done:!1}:{value:[v,g[v]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),f=l(function(){c(1)}),h=!d||f;a({target:"Object",stat:!0,forced:h,sham:!d},{getOwnPropertyDescriptor:function(m,g){return c(u(m),g)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,f){for(var h=l(f),p=c.f,m=u.f,g=0;g<h.length;g++){var y=h[g];a(d,y)||p(d,y,m(f,y))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",f=function(h,p){try{return h[p]}catch{}};i.exports=a?l:function(h){var p,m,g;return h===void 0?"Undefined":h===null?"Null":typeof(m=f(p=Object(h),c))=="string"?m:d?l(p):(g=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":g}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(V,W,Q){return W in V?Object.defineProperty(V,W,{value:Q,enumerable:!0,configurable:!0,writable:!0}):V[W]=Q,V}function d(V,W){var Q=Object.keys(V);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(V);W&&(de=de.filter(function(Le){return Object.getOwnPropertyDescriptor(V,Le).enumerable})),Q.push.apply(Q,de)}return Q}function f(V){for(var W=1;W<arguments.length;W++){var Q=arguments[W]!=null?arguments[W]:{};W%2?d(Object(Q),!0).forEach(function(de){c(V,de,Q[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Q)):d(Object(Q)).forEach(function(de){Object.defineProperty(V,de,Object.getOwnPropertyDescriptor(Q,de))})}return V}function h(V){if(Array.isArray(V))return V}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(V,W){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(V)))){var Q=[],de=!0,Le=!1,Ge=void 0;try{for(var me=V[Symbol.iterator](),Ce;!(de=(Ce=me.next()).done)&&(Q.push(Ce.value),!(W&&Q.length===W));de=!0);}catch(xe){Le=!0,Ge=xe}finally{try{!de&&me.return!=null&&me.return()}finally{if(Le)throw Ge}}return Q}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m(V,W){(W==null||W>V.length)&&(W=V.length);for(var Q=0,de=new Array(W);Q<W;Q++)de[Q]=V[Q];return de}function g(V,W){if(V){if(typeof V=="string")return m(V,W);var Q=Object.prototype.toString.call(V).slice(8,-1);if(Q==="Object"&&V.constructor&&(Q=V.constructor.name),Q==="Map"||Q==="Set")return Array.from(V);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return m(V,W)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(V,W){return h(V)||p(V,W)||g(V,W)||y()}function _(V){if(Array.isArray(V))return m(V)}function b(V){if(typeof Symbol<"u"&&Symbol.iterator in Object(V))return Array.from(V)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(V){return _(V)||b(V)||g(V)||w()}var x=o("a352"),C=o.n(x);function I(V){V.parentElement!==null&&V.parentElement.removeChild(V)}function E(V,W,Q){var de=Q===0?V.children[0]:V.children[Q-1].nextSibling;V.insertBefore(W,de)}var M=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function F(V){var W=Object.create(null);return function(de){var Le=W[de];return Le||(W[de]=V(de))}}var N=/-(\w)/g,k=F(function(V){return V.replace(N,function(W,Q){return Q.toUpperCase()})});o("5db7"),o("73d9");var R=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],B=["Move"],Y=[B,R,D].flatMap(function(V){return V}).map(function(V){return"on".concat(V)}),L={manage:B,manageAndEmit:R,emit:D};function O(V){return Y.indexOf(V)!==-1}o("caad"),o("2ca0");var J=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function te(V){return J.includes(V)}function ge(V){return["transition-group","TransitionGroup"].includes(V)}function ve(V){return["id","class","role","style"].includes(V)||V.startsWith("data-")||V.startsWith("aria-")||V.startsWith("on")}function ne(V){return V.reduce(function(W,Q){var de=v(Q,2),Le=de[0],Ge=de[1];return W[Le]=Ge,W},{})}function j(V){var W=V.$attrs,Q=V.componentData,de=Q===void 0?{}:Q,Le=ne(Object.entries(W).filter(function(Ge){var me=v(Ge,2),Ce=me[0];return me[1],ve(Ce)}));return f(f({},Le),de)}function z(V){var W=V.$attrs,Q=V.callBackBuilder,de=ne(ae(W));Object.entries(Q).forEach(function(Ge){var me=v(Ge,2),Ce=me[0],xe=me[1];L[Ce].forEach(function(Ye){de["on".concat(Ye)]=xe(Ye)})});var Le="[data-draggable]".concat(de.draggable||"");return f(f({},de),{},{draggable:Le})}function ae(V){return Object.entries(V).filter(function(W){var Q=v(W,2),de=Q[0];return Q[1],!ve(de)}).map(function(W){var Q=v(W,2),de=Q[0],Le=Q[1];return[k(de),Le]}).filter(function(W){var Q=v(W,2),de=Q[0];return Q[1],!O(de)})}o("c740");function X(V,W){if(!(V instanceof W))throw new TypeError("Cannot call a class as a function")}function he(V,W){for(var Q=0;Q<W.length;Q++){var de=W[Q];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(V,de.key,de)}}function be(V,W,Q){return W&&he(V.prototype,W),Q&&he(V,Q),V}var oe=function(W){var Q=W.el;return Q},A=function(W,Q){return W.__draggable_context=Q},$=function(W){return W.__draggable_context},H=function(){function V(W){var Q=W.nodes,de=Q.header,Le=Q.default,Ge=Q.footer,me=W.root,Ce=W.realList;X(this,V),this.defaultNodes=Le,this.children=[].concat(T(de),T(Le),T(Ge)),this.externalComponent=me.externalComponent,this.rootTransition=me.transition,this.tag=me.tag,this.realList=Ce}return be(V,[{key:"render",value:function(Q,de){var Le=this.tag,Ge=this.children,me=this._isRootComponent,Ce=me?{default:function(){return Ge}}:Ge;return Q(Le,de,Ce)}},{key:"updated",value:function(){var Q=this.defaultNodes,de=this.realList;Q.forEach(function(Le,Ge){A(oe(Le),{element:de[Ge],index:Ge})})}},{key:"getUnderlyingVm",value:function(Q){return $(Q)}},{key:"getVmIndexFromDomIndex",value:function(Q,de){var Le=this.defaultNodes,Ge=Le.length,me=de.children,Ce=me.item(Q);if(Ce===null)return Ge;var xe=$(Ce);if(xe)return xe.index;if(Ge===0)return 0;var Ye=oe(Le[0]),je=T(me).findIndex(function(tt){return tt===Ye});return Q<je?0:Ge}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),V}(),le=o("8bbf");function ue(V,W){var Q=V[W];return Q?Q():[]}function Se(V){var W=V.$slots,Q=V.realList,de=V.getKey,Le=Q||[],Ge=["header","footer"].map(function(tt){return ue(W,tt)}),me=v(Ge,2),Ce=me[0],xe=me[1],Ye=W.item;if(!Ye)throw new Error("draggable element must have an item slot");var je=Le.flatMap(function(tt,Ct){return Ye({element:tt,index:Ct}).map(function(Nt){return Nt.key=de(tt),Nt.props=f(f({},Nt.props||{}),{},{"data-draggable":!0}),Nt})});if(je.length!==Le.length)throw new Error("Item slot must have only one child");return{header:Ce,footer:xe,default:je}}function ke(V){var W=ge(V),Q=!te(V)&&!W;return{transition:W,externalComponent:Q,tag:Q?Object(le.resolveComponent)(V):W?le.TransitionGroup:V}}function we(V){var W=V.$slots,Q=V.tag,de=V.realList,Le=V.getKey,Ge=Se({$slots:W,realList:de,getKey:Le}),me=ke(Q);return new H({nodes:Ge,root:me,realList:de})}function Ie(V,W){var Q=this;Object(le.nextTick)(function(){return Q.$emit(V.toLowerCase(),W)})}function ye(V){var W=this;return function(Q,de){if(W.realList!==null)return W["onDrag".concat(V)](Q,de)}}function Re(V){var W=this,Q=ye.call(this,V);return function(de,Le){Q.call(W,de,Le),Ie.call(W,V,de)}}var Be=null,Ke={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(W){return W}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},et=["update:modelValue","change"].concat(T([].concat(T(L.manageAndEmit),T(L.emit)).map(function(V){return V.toLowerCase()}))),lt=Object(le.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ke,emits:et,data:function(){return{error:!1}},render:function(){try{this.error=!1;var W=this.$slots,Q=this.$attrs,de=this.tag,Le=this.componentData,Ge=this.realList,me=this.getKey,Ce=we({$slots:W,tag:de,realList:Ge,getKey:me});this.componentStructure=Ce;var xe=j({$attrs:Q,componentData:Le});return Ce.render(le.h,xe)}catch(Ye){return this.error=!0,Object(le.h)("pre",{style:{color:"red"}},Ye.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&M.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var W=this;if(!this.error){var Q=this.$attrs,de=this.$el,Le=this.componentStructure;Le.updated();var Ge=z({$attrs:Q,callBackBuilder:{manageAndEmit:function(xe){return Re.call(W,xe)},emit:function(xe){return Ie.bind(W,xe)},manage:function(xe){return ye.call(W,xe)}}}),me=de.nodeType===1?de:de.parentElement;this._sortable=new C.a(me,Ge),this.targetDomElement=me,me.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var W=this.list;return W||this.modelValue},getKey:function(){var W=this.itemKey;return typeof W=="function"?W:function(Q){return Q[W]}}},watch:{$attrs:{handler:function(W){var Q=this._sortable;Q&&ae(W).forEach(function(de){var Le=v(de,2),Ge=Le[0],me=Le[1];Q.option(Ge,me)})},deep:!0}},methods:{getUnderlyingVm:function(W){return this.componentStructure.getUnderlyingVm(W)||null},getUnderlyingPotencialDraggableComponent:function(W){return W.__draggable_component__},emitChanges:function(W){var Q=this;Object(le.nextTick)(function(){return Q.$emit("change",W)})},alterList:function(W){if(this.list){W(this.list);return}var Q=T(this.modelValue);W(Q),this.$emit("update:modelValue",Q)},spliceList:function(){var W=arguments,Q=function(Le){return Le.splice.apply(Le,T(W))};this.alterList(Q)},updatePosition:function(W,Q){var de=function(Ge){return Ge.splice(Q,0,Ge.splice(W,1)[0])};this.alterList(de)},getRelatedContextFromMoveEvent:function(W){var Q=W.to,de=W.related,Le=this.getUnderlyingPotencialDraggableComponent(Q);if(!Le)return{component:Le};var Ge=Le.realList,me={list:Ge,component:Le};if(Q!==de&&Ge){var Ce=Le.getUnderlyingVm(de)||{};return f(f({},Ce),me)}return me},getVmIndexFromDomIndex:function(W){return this.componentStructure.getVmIndexFromDomIndex(W,this.targetDomElement)},onDragStart:function(W){this.context=this.getUnderlyingVm(W.item),W.item._underlying_vm_=this.clone(this.context.element),Be=W.item},onDragAdd:function(W){var Q=W.item._underlying_vm_;if(Q!==void 0){I(W.item);var de=this.getVmIndexFromDomIndex(W.newIndex);this.spliceList(de,0,Q);var Le={element:Q,newIndex:de};this.emitChanges({added:Le})}},onDragRemove:function(W){if(E(this.$el,W.item,W.oldIndex),W.pullMode==="clone"){I(W.clone);return}var Q=this.context,de=Q.index,Le=Q.element;this.spliceList(de,1);var Ge={element:Le,oldIndex:de};this.emitChanges({removed:Ge})},onDragUpdate:function(W){I(W.item),E(W.from,W.item,W.oldIndex);var Q=this.context.index,de=this.getVmIndexFromDomIndex(W.newIndex);this.updatePosition(Q,de);var Le={element:this.context.element,oldIndex:Q,newIndex:de};this.emitChanges({moved:Le})},computeFutureIndex:function(W,Q){if(!W.element)return 0;var de=T(Q.to.children).filter(function(Ce){return Ce.style.display!=="none"}),Le=de.indexOf(Q.related),Ge=W.component.getVmIndexFromDomIndex(Le),me=de.indexOf(Be)!==-1;return me||!Q.willInsertAfter?Ge:Ge+1},onDragMove:function(W,Q){var de=this.move,Le=this.realList;if(!de||!Le)return!0;var Ge=this.getRelatedContextFromMoveEvent(W),me=this.computeFutureIndex(Ge,W),Ce=f(f({},this.context),{},{futureIndex:me}),xe=f(f({},W),{},{relatedContext:Ge,draggedContext:Ce});return de(xe,Q)},onDragEnd:function(){Be=null}}}),q=lt;s.default=q},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),f=o("fc6a"),h=o("8418"),p=o("b622"),m=o("1dde"),g=o("ae40"),y=m("slice"),v=g("slice",{ACCESSORS:!0,0:0,1:2}),_=p("species"),b=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!y||!v},{slice:function(x,C){var I=f(this),E=d(I.length),M=c(x,E),F=c(C===void 0?E:C,E),N,k,R;if(u(I)&&(N=I.constructor,typeof N=="function"&&(N===Array||u(N.prototype))?N=void 0:l(N)&&(N=N[_],N===null&&(N=void 0)),N===Array||N===void 0))return b.call(I,M,F);for(k=new(N===void 0?Array:N)(w(F-M,0)),R=0;M<F;M++,R++)M in I&&h(k,R,I[M]);return k.length=R,k}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(q$);var Vre=q$.exports;const aL=tre(Vre),Bre={key:0,class:"mb-5 p-4 border-y"},jre={class:"flex"},Hre=Pe({__name:"StringListField",props:{name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=se(""),s=ee({get:()=>r.modelValue,set:d=>{u("update:modelValue",d),i.value=""}}),o=d=>{if(d.moved){const{oldIndex:f,newIndex:h}=d.moved,p=[...s.value];if(p.length===2)s.value=[p[1],p[0]];else{const m=p.splice(f,1)[0];p.splice(h,0,m),s.value=p}}},a=()=>{i.value.length&&(s.value=[...s.value,i.value])},l=d=>{s.value.splice(d,1)},u=n;return e({test:()=>{}}),(d,f)=>(S(),U("div",null,[Z(pr,{id:d.name,name:d.name,label:d.label,modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=h=>i.value=h),max:200,placeholder:d.placeholder,onKeydown:f[1]||(f[1]=ct(h=>a(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),s.value.length?(S(),U("div",Bre,[Z(P(aL),{modelValue:s.value,itemKey:"index",onChange:o},{item:ce(({element:h,index:p})=>[K("div",jre,[Z(pr,{class:"w-full",id:`${d.name}.${p}`,name:d.name,"model-value":h,max:200,"delete-button":"","onUpdate:modelValue":m=>s.value[p]=m.toString(),"onUpdate:delete":m=>l(p)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):G("",!0)]))}});var Wre={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-no-gutter":Ee.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Ee.isEmpty(n.value)&&!r.$slots.default,"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warning":n.severity==="warning","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},Kre=er.extend({name:"badge",classes:Wre}),zre={name:"BaseBadge",extends:Wr,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:Kre,provide:function(){return{$parentInstance:this}}},lL={name:"Badge",extends:zre,inheritAttrs:!1};function Gre(t,e,n,r,i,s){return S(),U("span",ie({class:t.cx("root")},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[Qe(Me(t.value),1)]})],16)}lL.render=Gre;var Ph={name:"SpinnerIcon",extends:ma},Yre=K("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),qre=[Yre];function Xre(t,e,n,r,i,s){return S(),U("svg",ie({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),qre,16)}Ph.render=Xre;function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function So(t,e,n){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Jre(t,"string");return xf(e)=="symbol"?e:String(e)}function Jre(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zre={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",So(So(So(So(So(So(So(So({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":n.$attrs.disabled||n.$attrs.disabled===""||r.loading,"p-button-loading":r.loading,"p-button-loading-label-only":r.loading&&!n.hasIcon&&r.label,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var n=e.props;return["p-button-icon",{"p-button-icon-left":n.iconPos==="left"&&n.label,"p-button-icon-right":n.iconPos==="right"&&n.label,"p-button-icon-top":n.iconPos==="top"&&n.label,"p-button-icon-bottom":n.iconPos==="bottom"&&n.label}]},label:"p-button-label"},eie=er.extend({name:"button",classes:Zre}),tie={name:"BaseButton",extends:Wr,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:eie,provide:function(){return{$parentInstance:this}}},uL={name:"Button",extends:tie,inheritAttrs:!1,methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:Ph,Badge:lL},directives:{ripple:Dv}},nie=["aria-label","disabled","data-p-severity"];function rie(t,e,n,r,i,s){var o=En("SpinnerIcon"),a=En("Badge"),l=Gf("ripple");return Ci((S(),U("button",ie({class:t.cx("root"),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},s.getPTOptions("root"),{"data-p-severity":t.severity}),[fe(t.$slots,"default",{},function(){return[t.loading?fe(t.$slots,"loadingicon",{key:0,class:Ae([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(S(),U("span",ie({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(S(),re(o,ie({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"icon",{key:1,class:Ae([t.cx("icon")])},function(){return[t.icon?(S(),U("span",ie({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):G("",!0)]}),K("span",ie({class:t.cx("label")},t.ptm("label")),Me(t.label||""),17),t.badge?(S(),re(a,ie({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):G("",!0)]})],16,nie)),[[l]])}uL.render=rie;var iie={},sie=Mt.extend({style:iie});function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(r){oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oie(t,e,n){return e=aie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=lie(t,"string");return Df(e)=="symbol"?e:String(e)}function lie(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uie=sie.extend("focustrap",{mounted:function(e,n){var r=n.value||{},i=r.disabled;i||(this.createHiddenFocusableElements(e,n),this.bind(e,n),this.autoElementFocus(e,n)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,n){var r=n.value||{},i=r.disabled;i&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,n){var r=this,i=n.value||{},s=i.onFocusIn,o=i.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var u=function c(d){var f=Oe.isFocusableElement(d)?Oe.isFocusableElement(d,r.getComputedSelector(e.$_pfocustrap_focusableselector))?d:Oe.getFirstFocusableElement(e,r.getComputedSelector(e.$_pfocustrap_focusableselector)):Oe.getFirstFocusableElement(d);return Ee.isNotEmpty(f)?f:d.nextSibling&&c(d.nextSibling)};Oe.focus(u(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return s&&s(a)},e.$_pfocustrap_focusoutlistener=function(a){return o&&o(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:gA(gA({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,n){var r=n.value||{},i=r.autoFocusSelector,s=i===void 0?"":i,o=r.firstFocusableSelector,a=o===void 0?"":o,l=r.autoFocus,u=l===void 0?!1:l,c=Oe.getFirstFocusableElement(e,"[autofocus]".concat(this.getComputedSelector(s)));u&&!c&&(c=Oe.getFirstFocusableElement(e,this.getComputedSelector(a))),Oe.focus(c)},onFirstHiddenElementFocus:function(e){var n,r=e.currentTarget,i=e.relatedTarget,s=i===r.$_pfocustrap_lasthiddenfocusableelement||!((n=this.$el)!==null&&n!==void 0&&n.contains(i))?Oe.getFirstFocusableElement(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_lasthiddenfocusableelement;Oe.focus(s)},onLastHiddenElementFocus:function(e){var n,r=e.currentTarget,i=e.relatedTarget,s=i===r.$_pfocustrap_firsthiddenfocusableelement||!((n=this.$el)!==null&&n!==void 0&&n.contains(i))?Oe.getLastFocusableElement(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_firsthiddenfocusableelement;Oe.focus(s)},createHiddenFocusableElements:function(e,n){var r=this,i=n.value||{},s=i.tabIndex,o=s===void 0?0:s,a=i.firstFocusableSelector,l=a===void 0?"":a,u=i.lastFocusableSelector,c=u===void 0?"":u,d=function(m){return Oe.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:o,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:m==null?void 0:m.bind(r)})},f=d(this.onFirstHiddenElementFocus),h=d(this.onLastHiddenElementFocus);f.$_pfocustrap_lasthiddenfocusableelement=h,f.$_pfocustrap_focusableselector=l,f.setAttribute("data-pc-section","firstfocusableelement"),h.$_pfocustrap_firsthiddenfocusableelement=f,h.$_pfocustrap_focusableselector=c,h.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(f),e.append(h)}}}),Uv={name:"TimesIcon",extends:ma},cie=K("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),die=[cie];function fie(t,e,n,r,i,s){return S(),U("svg",ie({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),die,16)}Uv.render=fie;var hie={root:function(e){var n=e.props;return["p-inplace p-component",{"p-inplace-closable":n.closable}]},display:function(e){var n=e.props;return["p-inplace-display",{"p-disabled":n.disabled}]},content:"p-inplace-content"},pie=er.extend({name:"inplace",classes:hie}),mie={name:"BaseInplace",extends:Wr,props:{closable:{type:Boolean,default:!1},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},closeIcon:{type:String,default:void 0},displayProps:{type:null,default:null},closeButtonProps:{type:null,default:null}},style:pie,provide:function(){return{$parentInstance:this}}},cL={name:"Inplace",extends:mie,inheritAttrs:!1,emits:["open","close","update:active"],data:function(){return{d_active:this.active}},watch:{active:function(e){this.d_active=e}},methods:{open:function(e){this.disabled||(this.$emit("open",e),this.d_active=!0,this.$emit("update:active",!0))},close:function(e){var n=this;this.$emit("close",e),this.d_active=!1,this.$emit("update:active",!1),setTimeout(function(){n.$refs.display.focus()},0)}},computed:{closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{IPButton:uL,TimesIcon:Uv},directives:{focustrap:uie}};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function vA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return e=vie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=yie(t,"string");return Rf(e)=="symbol"?e:String(e)}function yie(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bie=["tabindex"];function wie(t,e,n,r,i,s){var o=En("IPButton"),a=Gf("focustrap");return Ci((S(),U("div",ie({class:t.cx("root"),"aria-live":"polite"},t.ptmi("root")),[i.d_active?(S(),U("div",ie({key:1,class:t.cx("content")},t.ptm("content")),[fe(t.$slots,"content"),t.closable?(S(),re(o,ie({key:0,"aria-label":s.closeAriaLabel,onClick:s.close,unstyled:t.unstyled,pt:t.ptm("closeButton")},t.closeButtonProps),{icon:ce(function(){return[fe(t.$slots,"closeicon",{},function(){return[(S(),re(un(t.closeIcon?"span":"TimesIcon"),ie({class:t.closeIcon},t.ptm("closeButton").icon,{"data-pc-section":"closebuttonicon"}),null,16,["class"]))]})]}),_:3},16,["aria-label","onClick","unstyled","pt"])):G("",!0)],16)):(S(),U("div",ie({key:0,ref:"display",class:t.cx("display"),tabindex:t.$attrs.tabindex||"0",role:"button",onClick:e[0]||(e[0]=function(){return s.open&&s.open.apply(s,arguments)}),onKeydown:e[1]||(e[1]=ct(function(){return s.open&&s.open.apply(s,arguments)},["enter"]))},yA(yA({},t.displayProps),t.ptm("display"))),[fe(t.$slots,"display")],16,bie))],16)),[[a]])}cL.render=wie;const _ie={class:"mt-5"},Tie={class:"px-5"},Sie={class:"flex justify-center"},Eie={class:"mt-3 flex justify-evenly font-bold"},Iie=Pe({__name:"BlogPostContentSectionDialogSection",props:{selected:{},selectedBlogPost:{},index:{},isOpen:{type:Boolean}},emits:["update:selected","error","delete"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=se(),o=se(),a=se(),l=se(),u=se(),c=se(),d=se(),f=se(),h=()=>({selected:{title:{value:r.selected.title,error:""},subTitle:{value:r.selected.subTitle,error:""},description:{value:r.selected.description,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},alignment:{value:r.selected.alignment,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},bullets:{value:r.selected.bullets,error:""}}}),p=Dn(h()),m=async()=>{var g,y,v,_,b,w,T,x;await Promise.all([(g=s.value)==null?void 0:g.test(),(y=o.value)==null?void 0:y.test(),(v=a.value)==null?void 0:v.test(),(_=u.value)==null?void 0:_.test(),(b=l.value)==null?void 0:b.test(),(w=c.value)==null?void 0:w.test(),(T=d.value)==null?void 0:T.test(),(x=f.value)==null?void 0:x.test()]),i("error",gh(p.selected))};return It(()=>r.selectedBlogPost,()=>{p.selected=h().selected}),It(()=>p.selected,()=>{i("update:selected",{title:p.selected.title.value,subTitle:p.selected.subTitle.value,description:p.selected.description.value,alignment:p.selected.alignment.value,coverImageUrl:p.selected.coverImageUrl.value,countdown:p.selected.countdown.value,timer:p.selected.timer.value,bullets:p.selected.bullets.value})},{deep:!0}),e({test:m}),(g,y)=>(S(),U("div",_ie,[g.isOpen?(S(),re(P(Ch),{key:0},{default:ce(()=>[Z(P(Qo),{header:`Section ${g.index+1}`,pt:{toggleableContent:{class:"background-secondary rounded-t-md rounded-b-xl"}}},{default:ce(()=>[K("div",Tie,[Z(pr,{class:"mt-0 pt-5",ref_key:"title",ref:s,id:g.index,name:"title",label:"Section Title",modelValue:p.selected.title.value,"onUpdate:modelValue":y[0]||(y[0]=v=>p.selected.title.value=v),error:p.selected.title.error,"onUpdate:error":y[1]||(y[1]=v=>p.selected.title.error=v),max:50},null,8,["id","modelValue","error"]),Z(pr,{ref_key:"subTitle",ref:o,id:g.index,name:"subTitle",label:"Section Subtitle",modelValue:p.selected.subTitle.value,"onUpdate:modelValue":y[2]||(y[2]=v=>p.selected.subTitle.value=v),error:p.selected.subTitle.error,"onUpdate:error":y[3]||(y[3]=v=>p.selected.subTitle.error=v),max:200},null,8,["id","modelValue","error"]),Z(pr,{ref_key:"description",ref:a,id:g.index,name:"description",label:"Section Description",modelValue:p.selected.description.value,"onUpdate:modelValue":y[4]||(y[4]=v=>p.selected.description.value=v),error:p.selected.description.error,"onUpdate:error":y[5]||(y[5]=v=>p.selected.description.error=v),max:300,"input-props":{type:"textarea",rows:p.selected.description.value.split(`
`).length<=5?p.selected.description.value.split(`
`).length:5}},null,8,["id","modelValue","error","input-props"]),K("div",Sie,[g.isOpen?(S(),re(P(cL),{key:0},{display:ce(()=>[Qe(" Other options ")]),content:ce(()=>[Z(xr,{ref_key:"alignment",ref:l,id:g.index,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":y[6]||(y[6]=v=>p.selected.alignment.value=v),error:p.selected.alignment.error,"onUpdate:error":y[7]||(y[7]=v=>p.selected.alignment.error=v),options:P(y$),rules:[P(xt).Required]},null,8,["id","modelValue","error","options","rules"]),Z(FT,{ref_key:"coverImageUrl",ref:u,id:g.index,name:"coverImageUrl",label:"Cover image",modelValue:p.selected.coverImageUrl.value,"onUpdate:modelValue":y[8]||(y[8]=v=>p.selected.coverImageUrl.value=v),error:p.selected.coverImageUrl.error,"onUpdate:error":y[9]||(y[9]=v=>p.selected.coverImageUrl.error=v)},null,8,["id","modelValue","error"]),Z(ng,{ref_key:"countdown",ref:c,id:g.index,name:"countdown",label:"Countdown",modelValue:p.selected.countdown.value,"onUpdate:modelValue":y[10]||(y[10]=v=>p.selected.countdown.value=v),error:p.selected.countdown.error,"onUpdate:error":y[11]||(y[11]=v=>p.selected.countdown.error=v)},null,8,["id","modelValue","error"]),Z(ng,{ref_key:"timer",ref:d,id:g.index,name:"timer",label:"Timer",modelValue:p.selected.timer.value,"onUpdate:modelValue":y[12]||(y[12]=v=>p.selected.timer.value=v),error:p.selected.timer.error,"onUpdate:error":y[13]||(y[13]=v=>p.selected.timer.error=v)},null,8,["id","modelValue","error"]),Z(Hre,{ref_key:"bullets",ref:f,name:"bullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:p.selected.bullets.value,"onUpdate:modelValue":y[14]||(y[14]=v=>p.selected.bullets.value=v)},null,8,["modelValue"])]),_:1})):G("",!0)]),K("div",Eie,[Z(Ut,{class:"w-1/2",type:"danger",outlined:"",onClick:y[15]||(y[15]=v=>g.$emit("delete"))},{default:ce(()=>[Qe(" Delete ")]),_:1})])])]),_:1},8,["header"])]),_:1})):G("",!0)]))}}),Cie={class:"mt-3 flex justify-center"},Oie=Pe({__name:"BlogPostContentDialogSection",props:{selected:{},selectedBlogPost:{},isOpen:{type:Boolean}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=se(),o=se(),a=se(),l=se(),u=se(),c=se(),d=se([]),f=()=>({selected:{title:{value:r.selected.title,error:""},description:{value:r.selected.description,error:""},descriptionFooter:{value:r.selected.descriptionFooter,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},sections:{value:r.selected.sections.map(_=>({id:tg(),..._})),error:[]}}}),h=Dn(f()),p=()=>{h.selected.sections.value.push({id:tg(),title:"",subTitle:"",description:"",alignment:"left",coverImageUrl:"",countdown:null,timer:null,bullets:[]})},m=(_,b)=>{h.selected.sections.value.splice(b,1,{id:h.selected.sections.value[b].id,..._})},g=_=>{h.selected.sections.value.splice(_,1)},y=(_,b)=>{h.selected.sections.error[b]=_},v=async()=>{for(const _ of d.value)await _.test();await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test()]),i("error",gh(h.selected)),h.selected.sections.error=[]};return It(()=>r.selectedBlogPost,()=>{h.selected=f().selected}),It(()=>h.selected,()=>{i("update:selected",{title:h.selected.title.value,description:h.selected.description.value,descriptionFooter:h.selected.descriptionFooter.value,coverImageUrl:h.selected.coverImageUrl.value,countdown:h.selected.countdown.value,timer:h.selected.timer.value,sections:h.selected.sections.value})},{deep:!0}),e({test:v}),(_,b)=>(S(),U(Te,null,[Z(pr,{ref_key:"title",ref:s,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:h.selected.title.value,"onUpdate:modelValue":b[0]||(b[0]=w=>h.selected.title.value=w),error:h.selected.title.error,"onUpdate:error":b[1]||(b[1]=w=>h.selected.title.error=w),rules:[P(xt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),Z(pr,{ref_key:"description",ref:o,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:h.selected.description.value,"onUpdate:modelValue":b[2]||(b[2]=w=>h.selected.description.value=w),error:h.selected.description.error,"onUpdate:error":b[3]||(b[3]=w=>h.selected.description.error=w),"max-length":500,"input-props":{type:"textarea",rows:h.selected.description.value.split(`
`).length<=5?h.selected.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),Z(FT,{ref_key:"coverImageUrl",ref:l,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:h.selected.coverImageUrl.value,"onUpdate:modelValue":b[4]||(b[4]=w=>h.selected.coverImageUrl.value=w),error:h.selected.coverImageUrl.error,"onUpdate:error":b[5]||(b[5]=w=>h.selected.coverImageUrl.error=w),"blog-post":_.selectedBlogPost??void 0},null,8,["modelValue","error","blog-post"]),_.isOpen?(S(),re(P(Ch),{key:0},{default:ce(()=>[Z(P(Qo),{header:"Other content"},{default:ce(()=>[Z(pr,{ref_key:"descriptionFooter",ref:a,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:h.selected.descriptionFooter.value,"onUpdate:modelValue":b[6]||(b[6]=w=>h.selected.descriptionFooter.value=w),error:h.selected.descriptionFooter.error,"onUpdate:error":b[7]||(b[7]=w=>h.selected.descriptionFooter.error=w),"max-length":300,"input-props":{type:"textarea",rows:h.selected.descriptionFooter.value.split(`
`).length<=5?h.selected.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),Z(ng,{ref_key:"countdown",ref:u,name:"countdown",label:"Countdown",modelValue:h.selected.countdown.value,"onUpdate:modelValue":b[8]||(b[8]=w=>h.selected.countdown.value=w),error:h.selected.countdown.error,"onUpdate:error":b[9]||(b[9]=w=>h.selected.countdown.error=w)},null,8,["modelValue","error"]),Z(ng,{ref_key:"timer",ref:c,name:"timer",label:"Timer",modelValue:h.selected.timer.value,"onUpdate:modelValue":b[10]||(b[10]=w=>h.selected.timer.value=w),error:h.selected.timer.error,"onUpdate:error":b[11]||(b[11]=w=>h.selected.timer.error=w)},null,8,["modelValue","error"])]),_:1}),Z(P(Qo),{header:"Sections"},{default:ce(()=>[(S(!0),U(Te,null,st(h.selected.sections.value,(w,T)=>(S(),re(Iie,{key:w.id,ref_for:!0,ref_key:"sections",ref:d,selected:w,"selected-blog-post":_.selectedBlogPost,index:T,"is-open":_.isOpen,"onUpdate:selected":x=>m(x,T),onError:x=>y(x,T),onDelete:x=>g(T)},null,8,["selected","selected-blog-post","index","is-open","onUpdate:selected","onError","onDelete"]))),128)),K("div",Cie,[Z(Ut,{class:"w-1/2",type:"action-positive",onClick:p},{default:ce(()=>[Qe(" Add Section ")]),_:1})])]),_:1})]),_:1})):G("",!0)],64))}});var Aie={root:{position:"relative"}},Pie={root:function(e){var n=e.instance,r=e.props;return["p-inputswitch p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},kie=er.extend({name:"inputswitch",classes:Pie,inlineStyles:Aie}),xie={name:"BaseInputSwitch",extends:Wr,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:kie,provide:function(){return{$parentInstance:this}}},dL={name:"InputSwitch",extends:xie,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},Die=["data-p-highlight","data-p-disabled"],Rie=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function Nie(t,e,n,r,i,s){return S(),U("div",ie({class:t.cx("root"),style:t.sx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[K("input",ie({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":s.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,Rie),K("span",ie({class:t.cx("slider")},s.getPTOptions("slider")),null,16)],16,Die)}dL.render=Nie;const Mie={class:"m-4"},$ie=["for"],Fd=Pe({__name:"SwitchField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>(S(),U("div",Mie,[l.label?(S(),U("label",ie({key:0,class:"block text-sm font-bold mb-2",for:s.value},l.labelProps),Me(l.label),17,$ie)):G("",!0),K("div",{class:"p-input cursor-pointer flex align-middle",onClick:u[1]||(u[1]=St(c=>i.value=!i.value,["prevent"]))},[Z(P(dL),{inputId:s.value,ref:"input",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c)},null,8,["inputId","modelValue"])])]))}}),Lie=Pe({__name:"BlogPostSettingsDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,{firebaseUser:s,publicUser:o}=tn(or()),a=ar(),{allowedPublicUsers:l}=a,{publicUsers:u}=tn(a),c=se(),d=se(),f=se(),h=se(),p=ee(()=>u.value.map(({id:_,displayName:b})=>({value:_,label:b}))),m=se([]),g=()=>({selected:{allowedUserIds:{value:r.selected.allowedUserIds,error:""},locked:{value:r.selected.locked,error:""},archived:{value:r.selected.archived,error:""},pinned:{value:!!r.selected.datePinned,error:""}}}),y=Dn(g()),v=async()=>{y.selected.allowedUserIds.value.length&&!m.value.length&&(y.selected.allowedUserIds.error="Invalid user ID's"),await Promise.all([d.value.test(),f.value.test(),h.value.test()]),i("error",gh(y.selected))};return It(()=>y.selected.allowedUserIds.value,async _=>{m.value=await l(_)},{immediate:!0}),It(()=>r.selectedBlogPost,()=>{y.selected=g().selected}),It(()=>y.selected,()=>{var _,b;i("update:selected",{allowedUserIds:y.selected.allowedUserIds.value,locked:y.selected.locked.value,archived:y.selected.archived.value,datePinned:y.selected.pinned.value?(_=r.selected)!=null&&_.datePinned?((b=r.selected)==null?void 0:b.datePinned)??null:new Date:null})},{deep:!0}),e({test:v}),(_,b)=>(S(),U(Te,null,[Z(xr,{ref_key:"allowedUsers",ref:c,name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":y.selected.allowedUserIds.value,error:y.selected.allowedUserIds.error,"onUpdate:error":b[0]||(b[0]=w=>y.selected.allowedUserIds.error=w),"onUpdate:arrayValue":b[1]||(b[1]=w=>y.selected.allowedUserIds.value=w),options:[{value:P(s).uid,label:P(o).displayName},...p.value.filter(({value:w})=>{var T;return w!==((T=P(s))==null?void 0:T.uid)})],multiple:""},null,8,["model-value","error","options"]),Z(Fd,{ref_key:"pinned",ref:h,name:"pinned",label:"Pinned",modelValue:y.selected.pinned.value,"onUpdate:modelValue":b[2]||(b[2]=w=>y.selected.pinned.value=w)},null,8,["modelValue"]),Z(Fd,{ref_key:"locked",ref:d,name:"locked",label:"Locked for commenting",modelValue:y.selected.locked.value,"onUpdate:modelValue":b[3]||(b[3]=w=>y.selected.locked.value=w)},null,8,["modelValue"]),Z(Fd,{ref_key:"archived",ref:f,name:"archived",label:"Archived",modelValue:y.selected.archived.value,"onUpdate:modelValue":b[4]||(b[4]=w=>y.selected.archived.value=w)},null,8,["modelValue"])],64))}}),Fie=Pe({__name:"BlogPostStylingDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=se(),o=se(),a=se(),l=se(),u=se(),c=se(),d=se(),f=ee(()=>SX(Qm.find(g=>g.value===p.selected.colorPrimary.value))),h=()=>({selected:{alignment:{value:r.selected.alignment,error:""},colorPrimary:{value:r.selected.colorPrimary,error:""},colorSecondary:{value:r.selected.colorSecondary,error:""},colorTertiary:{value:r.selected.colorTertiary,error:""},opacityPrimary:{value:r.selected.opacityPrimary,error:""},opacitySecondary:{value:r.selected.opacitySecondary,error:""},opacityTertiary:{value:r.selected.opacityTertiary,error:""}}}),p=Dn(h()),m=async()=>{await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test(),d.value.test()]),i("error",gh(p.selected))};return It(()=>r.selectedBlogPost,()=>{p.selected=h().selected}),It(()=>p.selected,()=>{i("update:selected",{alignment:p.selected.alignment.value,colorPrimary:p.selected.colorPrimary.value,colorSecondary:p.selected.colorSecondary.value,colorTertiary:p.selected.colorTertiary.value,opacityPrimary:p.selected.opacityPrimary.value,opacitySecondary:p.selected.opacitySecondary.value,opacityTertiary:p.selected.opacityTertiary.value})},{deep:!0}),e({test:m}),(g,y)=>(S(),U(Te,null,[Z(xr,{ref_key:"alignment",ref:s,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":y[0]||(y[0]=v=>p.selected.alignment.value=v),error:p.selected.alignment.error,"onUpdate:error":y[1]||(y[1]=v=>p.selected.alignment.error=v),options:P(y$),rules:[P(xt).Required]},null,8,["modelValue","error","options","rules"]),Z(xr,{ref_key:"colorPrimary",ref:o,name:"colorPrimary",label:"Primary Style",modelValue:p.selected.colorPrimary.value,"onUpdate:modelValue":y[2]||(y[2]=v=>p.selected.colorPrimary.value=v),error:p.selected.colorPrimary.error,"onUpdate:error":y[3]||(y[3]=v=>p.selected.colorPrimary.error=v),options:P(Qm),rules:[P(xt).Required]},null,8,["modelValue","error","options","rules"]),Z(xr,{ref_key:"opacityPrimary",ref:u,name:"opacityPrimary",label:"Primary Opacity",modelValue:p.selected.opacityPrimary.value,"onUpdate:modelValue":y[4]||(y[4]=v=>p.selected.opacityPrimary.value=v),error:p.selected.opacityPrimary.error,"onUpdate:error":y[5]||(y[5]=v=>p.selected.opacityPrimary.error=v),options:P(qy)},null,8,["modelValue","error","options"]),Z(xr,{ref_key:"colorSecondary",ref:a,name:"colorSecondary",label:"Secondary Style",modelValue:p.selected.colorSecondary.value,"onUpdate:modelValue":y[6]||(y[6]=v=>p.selected.colorSecondary.value=v),error:p.selected.colorSecondary.error,"onUpdate:error":y[7]||(y[7]=v=>p.selected.colorSecondary.error=v),options:f.value},null,8,["modelValue","error","options"]),Z(xr,{ref_key:"opacitySecondary",ref:c,name:"opacitySecondary",label:"Secondary Opacity",modelValue:p.selected.opacitySecondary.value,"onUpdate:modelValue":y[8]||(y[8]=v=>p.selected.opacitySecondary.value=v),error:p.selected.opacitySecondary.error,"onUpdate:error":y[9]||(y[9]=v=>p.selected.opacitySecondary.error=v),options:P(qy)},null,8,["modelValue","error","options"]),Z(xr,{ref_key:"colorTertiary",ref:l,name:"colorTertiary",label:"Tertiary Style",modelValue:p.selected.colorTertiary.value,"onUpdate:modelValue":y[10]||(y[10]=v=>p.selected.colorTertiary.value=v),error:p.selected.colorTertiary.error,"onUpdate:error":y[11]||(y[11]=v=>p.selected.colorTertiary.error=v),options:P(EX)},null,8,["modelValue","error","options"]),Z(xr,{ref_key:"opacityTertiary",ref:d,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:p.selected.opacityTertiary.value,"onUpdate:modelValue":y[12]||(y[12]=v=>p.selected.opacityTertiary.value=v),error:p.selected.opacityTertiary.error,"onUpdate:error":y[13]||(y[13]=v=>p.selected.opacityTertiary.error=v),options:P(qy)},null,8,["modelValue","error","options"])],64))}}),Uie=Pe({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close","scroll-to-updated"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=tn(or()),i=ar(),{createBlogPost:s,updateBlogPost:o,deleteFilesOfBlogPost:a,toggleBlogPostVisibility:l}=i,{blogPosts:u}=tn(i),c=se(),d=se(),f=se(),h=se(),p=()=>{var k,R,D,B,Y,L,O,J,te,ge,ve,ne,j,z,ae,X,he,be;return{id:tg(),form:{content:{value:{title:((k=n.selected)==null?void 0:k.title)??"",description:((R=n.selected)==null?void 0:R.description)??"",descriptionFooter:((D=n.selected)==null?void 0:D.descriptionFooter)??"",coverImageUrl:((B=n.selected)==null?void 0:B.coverImageUrl)??"",timer:((Y=n.selected)==null?void 0:Y.timer)??null,countdown:((L=n.selected)==null?void 0:L.countdown)??null,sections:((O=n.selected)==null?void 0:O.sections)??[]},error:!1},styling:{value:{alignment:((J=n.selected)==null?void 0:J.alignment)??"center",colorPrimary:((te=n.selected)==null?void 0:te.colorPrimary)??"",colorSecondary:((ge=n.selected)==null?void 0:ge.colorSecondary)??"",colorTertiary:((ve=n.selected)==null?void 0:ve.colorTertiary)??"",opacityPrimary:((ne=n.selected)==null?void 0:ne.opacityPrimary)??"",opacitySecondary:((j=n.selected)==null?void 0:j.opacitySecondary)??"",opacityTertiary:((z=n.selected)==null?void 0:z.opacityTertiary)??""},error:!1},settings:{value:{locked:((ae=n.selected)==null?void 0:ae.locked)??!1,allowedUserIds:((X=n.selected)==null?void 0:X.allowedUserIds)??[],archived:((he=n.selected)==null?void 0:he.archived)??!1,datePinned:((be=n.selected)==null?void 0:be.datePinned)??null},error:!1}}}},m=Dn(p()),g=()=>{var k,R;return{id:m.id,date:((k=n.selected)==null?void 0:k.date)||new Date,dateUpdated:((R=n.selected)==null?void 0:R.dateUpdated)||new Date,...m.form.content.value,...m.form.styling.value,...m.form.settings.value,reactions:[]}},y=se(g()),v=ee(()=>Yn.Content.convert(y.value)),_=ee(()=>!!n.selected&&!is(Yn.Content.convert(Yn.convert(n.selected)),v.value)),b=ee(()=>Yn.Styling.convert(y.value)),w=ee(()=>!!n.selected&&!is(Yn.Styling.convert(Yn.convert(n.selected)),b.value)),T=ee(()=>Yn.Settings.convert(y.value)),x=ee(()=>!!n.selected&&!is(Yn.Settings.convert(Yn.convert(n.selected)),T.value)),C=ee(()=>{var k,R,D,B,Y,L;return!!((R=(k=n.selected)==null?void 0:k.allowedUserIds)!=null&&R.length)&&!((D=T.value.allowedUserIds)!=null&&D.length)||!((Y=(B=n.selected)==null?void 0:B.allowedUserIds)!=null&&Y.length)&&!!((L=T.value.allowedUserIds)!=null&&L.length)}),I=ee(()=>{const k=[];return _.value&&k.push("Content"),w.value&&k.push("Styling"),x.value&&k.push("Settings"),k.length?"Update "+Z0(k):void 0}),E=ee(()=>Po(n.selected)),M=async()=>{var k,R,D,B,Y;if(await Promise.all([d.value.test(),f.value.test(),h.value.test()]),!gh(m.form))if(!n.selected)await s(m.id,y.value,(k=r.value)==null?void 0:k.uid)&&(N("close"),N("scroll-to-updated",m.id));else if(C.value){const L=n.selected.id;N("close"),await l(L,Yn.convert(y.value),n.selected.reactions,y.value.allowedUserIds.length?"private":"public",(R=r.value)==null?void 0:R.uid)&&(qe.success("Successfully updated Post Visibility"),N("scroll-to-updated",L))}else{const L=n.selected.id;let O=[];_.value&&O.push(await o(L,v.value,E.value,(D=r.value)==null?void 0:D.uid)),w.value&&O.push(await o(L,b.value,E.value,(B=r.value)==null?void 0:B.uid)),x.value&&(O.push(await o(L,T.value,E.value,(Y=r.value)==null?void 0:Y.uid)),N("scroll-to-updated",L)),O=O.filter(J=>typeof J=="string"),O.length&&(qe.success(`Successfully updated Post ${Z0(O)}`),N("close"))}},F=async()=>{a(y.value,n.selected??void 0),Object.assign(m,p()),N("close")};It(()=>n.selected,()=>{const k=p();m.id=k.id,m.form.content=k.form.content,m.form.styling=k.form.styling,m.form.settings=k.form.settings}),It(m,()=>{y.value=g()},{deep:!0});const N=e;return(k,R)=>(S(),re(LT,{isOpen:k.isOpen,title:k.selected?"Update Post":"Create Post",description:k.selected?"Update this post":"Create a new post","confirm-text":k.selected?I.value:"Create","confirm-loading":P(u).mutationLoading,onConfirm:M,onCancel:F},{default:ce(()=>[K("form",{ref_key:"dialog",ref:c,class:"pt-6 mb-4 xl:px-16"},[k.isOpen?(S(),re(P(Ch),{key:0,"active-index":0},{default:ce(()=>[Z(P(Qo),{header:"Content"},{default:ce(()=>[Z(Oie,{ref_key:"content",ref:d,selected:m.form.content.value,"onUpdate:selected":R[0]||(R[0]=D=>m.form.content.value=D),"selected-blog-post":k.selected??void 0,"is-open":k.isOpen,onError:R[1]||(R[1]=D=>m.form.content.error=D)},null,8,["selected","selected-blog-post","is-open"])]),_:1}),Z(P(Qo),{header:"Styling"},{default:ce(()=>[Z(Fie,{ref_key:"styling",ref:f,selected:m.form.styling.value,"onUpdate:selected":R[2]||(R[2]=D=>m.form.styling.value=D),"selected-blog-post":k.selected??void 0,onError:R[3]||(R[3]=D=>m.form.styling.error=D)},null,8,["selected","selected-blog-post"])]),_:1}),Z(P(Qo),{header:"Settings"},{default:ce(()=>[Z(Lie,{ref_key:"settings",ref:h,selected:m.form.settings.value,"onUpdate:selected":R[4]||(R[4]=D=>m.form.settings.value=D),"selected-blog-post":k.selected??void 0,onError:R[5]||(R[5]=D=>m.form.settings.error=D)},null,8,["selected","selected-blog-post"])]),_:1})]),_:1})):G("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),Vie={key:0,class:"grid grid-cols-6 mb-5 gap-5"},Bie={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},jie={class:"grid gap-4 md:gap-10 xl:gap-20"},Hie={key:2,class:"flex justify-center mt-5"},Wie=Pe({__name:"BlogPosts",setup(t){const e=ar(),{deleteBlogPost:n,fetchBlogPosts:r}=e,{blogPosts:i,blogReactions:s,visibleBlogPosts:o}=tn(e),{isOwner:a,firebaseUser:l}=tn(or());let u=[];const c=se(),d=se(),f=se(!1),h=se(!1),p=se(null),m=se(),g=()=>{p.value=null,f.value=!0},y=C=>{p.value=C,f.value=!0},v=C=>{p.value=C,h.value=!0},_=async C=>{await n(C)&&(h.value=!1,p.value=null)},b=()=>{f.value=!1,p.value=null},w=async C=>{var I;i.value.visibility!==C&&(i.value.visibility=C,i.value.isLastPage=!1,o.value.length||await r((I=l.value)==null?void 0:I.uid),Lp(c.value))},T=async()=>{var I;const C=o.value.length;await r((I=l.value)==null?void 0:I.uid),o.value[C]&&Lp(d.value[C])},x=()=>{var C;!i.value.databaseCreationActive&&!i.value.databaseMutationActive&&!i.value.databaseDeletionActive&&!s.value.databaseCreationActive&&!s.value.databaseDeletionActive&&r((C=l.value)==null?void 0:C.uid,{amount:o.value.length,loadingIndicator:!1})};return Wt(()=>{u.push(rp(jt.blogPosts(!1),C=>{x()})),u.push(rp(jt.blogReactions(!1),C=>{x()})),u.push(rp(jt.blogPosts(!0),C=>{x()})),u.push(rp(jt.blogReactions(!0),C=>{x()}))}),mo(()=>{u.forEach(C=>{C()})}),It(()=>{var C;return(C=d.value)==null?void 0:C.length},()=>{var C;if((C=d.value)!=null&&C.length&&m.value){const I=o.value.find(E=>E.id===m.value);if(I){const E=o.value.indexOf(I);Lp(d.value[E]),m.value=void 0}}}),(C,I)=>(S(),U(Te,null,[K("div",{ref_key:"container",ref:c},[P(l)?(S(),U("div",Vie,[Z(Ut,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"orange",outlined:P(i).visibility!=="public",loading:P(i).fetchLoading,onClick:I[0]||(I[0]=E=>w("public"))},{default:ce(()=>[Qe(" Public Posts ")]),_:1},8,["outlined","loading"]),P(a)?(S(),re(Ut,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",onClick:g},{default:ce(()=>[Qe(" New Post ")]),_:1})):G("",!0),Z(Ut,{type:"orange",class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",outlined:P(i).visibility!=="private",loading:P(i).fetchLoading,onClick:I[1]||(I[1]=E=>w("private"))},{default:ce(()=>[Qe(" Private Posts ")]),_:1},8,["outlined","loading"])])):G("",!0),P(l)?(S(),U("div",Bie,[Z(Ut,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"orange",outlined:P(i).visibility!=="public",loading:P(i).fetchLoading,onClick:I[2]||(I[2]=E=>w("public"))},{default:ce(()=>[Qe(" Public Posts ")]),_:1},8,["outlined","loading"]),Z(Ut,{type:"orange",class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",outlined:P(i).visibility!=="private",loading:P(i).fetchLoading,onClick:I[3]||(I[3]=E=>w("private"))},{default:ce(()=>[Qe(" Private Posts ")]),_:1},8,["outlined","loading"])])):G("",!0),K("div",jie,[P(o).length?(S(!0),U(Te,{key:0},st(P(o),E=>(S(),U("div",{key:E.id,ref_for:!0,ref_key:"posts",ref:d},[Z(G$,{post:E,onEditClicked:M=>y(E),onDeleteClicked:M=>v(E)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):P(i).fetchLoading?G("",!0):(S(),re(ei,{key:1,class:"!bg-red-900 !bg-opacity-40",title:"No posts"}))]),P(i).isLastPage?G("",!0):(S(),U("div",Hie,[Z(Ut,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:P(i).fetchLoading,onClick:T},{default:ce(()=>[Qe(" Load more posts ")]),_:1},8,["loading"])]))],512),Z(Uie,{isOpen:f.value,selected:p.value,onClose:b,onScrollToUpdated:I[4]||(I[4]=E=>m.value=E)},null,8,["isOpen","selected"]),p.value?(S(),re(LT,{key:0,title:"Delete Post",isOpen:h.value,description:[` Are you sure you want to delete this post called ' ${p.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:I[5]||(I[5]=E=>_(p.value.id)),onCancel:I[6]||(I[6]=E=>h.value=!1)},null,8,["isOpen","description"])):G("",!0)],64))}}),Kie={class:"bg-black text-white shadow-md py-4"},zie={class:"container mx-auto text-center"},Gie=Pe({__name:"Footer",setup(t){const{content:e}=tn(ar());return(n,r)=>(S(),U("footer",Kie,[K("div",zie,[K("p",null," "+Me(new Date().getFullYear()+" "+P(e).footerCopyright),1)])]))}}),Yie={class:"flex justify-between"},qie={class:"hidden sm:block w-full sm:min-w-fit"},Xie=["src","alt"],Qie={class:"w-fit sm:max-w-1/2"},Jie={class:"text-title-primary"},Zie={class:"text-title-secondary"},ese={class:"text-title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},tse={class:"mt-2 flex items-center whitespace-nowrap me-6"},nse={class:"mt-2 flex items-center whitespace-nowrap"},rse={class:"sm:hidden min-w-fit mt-3"},ise=["src","alt"],bA=Pe({__name:"HeaderContent",setup(t){const{profile:e,content:n}=tn(ar());return(r,i)=>{const s=En("RouterLink");return S(),U("div",Yie,[K("div",qie,[Z(s,{to:{name:"home"}},{default:ce(()=>[K("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:P(n).avatarUrl,alt:P(e).name},null,8,Xie)]),_:1})]),K("div",Qie,[K("h1",Jie,Me(P(e).name),1),K("h2",Zie,Me(P(e).service),1),K("div",ese,[K("div",tse,[Z(P(CX),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Qe(" "+Me(P(e).role),1)]),K("div",nse,[Z(P(AX),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Qe(" "+Me(P(e).location.city)+", "+Me(P(e).location.country),1)])])]),K("div",rse,[Z(s,{to:{name:"home"}},{default:ce(()=>[K("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:P(n).avatarUrl,alt:P(e).name},null,8,ise)]),_:1})])])}}}),sse=Pe({__name:"NavigationDropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=or(),{currentUser:n}=tn(e),{visibleMenuItems:r}=tn(ar());return(i,s)=>(S(),U(Te,null,[Ci(K("div",{class:"md:hidden w-screen h-screen z-10 bg-gray-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Zs,i.isOpen]]),Ci(K("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-gray-900 border border-indigo-600 rounded-xl",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(S(!0),U(Te,null,st(P(r),o=>(S(),re(Ut,{class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:o.url,loading:o.loading},{default:ce(()=>[Qe(Me(o.name),1)]),_:2},1032,["url","loading"]))),256)),P(n)?(S(),re(Ut,{key:0,class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:"dashboard"},{default:ce(()=>[Qe(" Dashboard ")]),_:1})):G("",!0),P(n)?(S(),re(Ut,{key:1,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"danger",onClick:P(e).logout},{default:ce(()=>[Qe(" Logout ")]),_:1},8,["onClick"])):(S(),re(Ut,{key:2,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"secondary",url:"login"},{default:ce(()=>[Qe(" Login ")]),_:1}))],512),[[Zs,i.isOpen]])],64))}}),ose={key:0,class:Ae(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},ase={class:"group fixed w-full px-10 sm:px-0 sm:relative md:hidden"},lse={class:"flex justify-between sm:justify-center"},use=K("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),cse=[use],dse=Pe({__name:"NavigationMenu",setup(t){const e=or(),{currentUser:n,logoutLoading:r}=tn(e),{visibleMenuItems:i}=tn(ar()),s=se(),o=se(!1),a=()=>{o.value=!o.value,o.value&&Wn(()=>{var l;(l=s.value)==null||l.scrollIntoView({behavior:"smooth",block:"center"})})};return(l,u)=>P(i).length?(S(),U("div",ose,[(S(!0),U(Te,null,st(P(i),c=>(S(),re(Ut,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",outlined:"",url:c.url,loading:c.loading},{default:ce(()=>[Qe(Me(c.name),1)]),_:2},1032,["url","loading"]))),256)),P(n)?G("",!0):(S(),re(Ut,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"secondary",outlined:"",url:"login"},{default:ce(()=>[Qe(" Login ")]),_:1})),P(n)?(S(),re(Ut,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:P(r),onClick:P(e).logout},{default:ce(()=>[Qe(" Logout ")]),_:1},8,["loading","onClick"])):G("",!0),K("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[K("div",ase,[K("div",{class:Ae(["flex animation",o.value?"justify-center":"justify-end"])},[Z(Ut,{class:Ae(["sm:w-full bg-black bg-opacity-50 sm:bg-transparent",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",onClick:a},{default:ce(()=>[K("div",lse,[Z(Aw,{rotate:o.value,class:Ae(["group-hover:block",o.value?"block":"hidden"])},null,8,["rotate","class"]),K("p",{class:Ae(["sm:block group-hover:block",o.value?"block":"hidden"])},"Menu",2),(S(),U("svg",{class:Ae(["h-6 sm:hidden group-hover:hidden",o.value?"hidden":null]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},cse,2))])]),_:1},8,["class"])],2)]),Z(sse,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):G("",!0)}}),fse={class:Ae(["w-fit md:w-1/3","mb-8 py-8 bg-transparent text-indigo-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-black sm:bg-opacity-50 sm:rounded-3xl sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-3xl lg:rounded-t-none"])},hse={key:0,class:"hidden sm:flex justify-center mb-4"},pse={class:"hidden md:block w-4/5 space-y-2"},mse={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},gse={class:"flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},vse={key:1},yse={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},bse={class:"font-semibold text-base first:font-bold first:text-lg"},wse=Pe({__name:"Navigation",setup(t){const{currentUser:e}=tn(or()),{content:n}=tn(ar());return(r,i)=>{const s=En("RouterLink");return S(),U("div",fse,[P(e)?(S(),U("div",hse,[K("div",pse,[(S(!0),U(Te,null,st(P(n).headerDescriptionUser,o=>(S(),U("p",mse,Me(o.replace("%USER%",P(e).firstName+(P(e).lastName?" "+P(e).lastName:""))),1))),256))]),K("div",gse,[Z(s,{to:{name:"dashboard"}},{default:ce(()=>[Z(P(PX),{class:"w-16 h-16 rounded-full border-2 text-indigo-600 border-indigo-600 animation-scale"})]),_:1})])])):(S(),U("div",vse,[K("div",yse,[(S(!0),U(Te,null,st(P(n).headerDescriptionGuest,o=>(S(),U("p",bse,Me(o),1))),256))])])),Z(dse)])}}}),_se={class:"sm:flex sm:items-start sm:justify-between mb-20"},Tse={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},Sse=Pe({__name:"Header",setup(t){return(e,n)=>(S(),U("div",_se,[Z(bA,{class:"hidden sm:block"}),K("div",Tse,[Z(wse,{class:Ae(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto"])})]),Z(bA,{class:"sm:hidden"})]))}}),Ese={class:"min-h-screen bg-gradient-to-t from-black to-blue-900 via-gray-800"},Ise={class:"mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-3xl text-white bg-blue-gray-900 bg-opacity-50 bg-gradient-to-b from-transparent to-black via-purple-900 border-opacity-100"},ga=Pe({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=I1(),r=se(),i=()=>{e.scrollToContent&&Lp(r.value)};return It(()=>n.fullPath,()=>{i()}),Wt(()=>{i()}),(s,o)=>(S(),U(Te,null,[K("div",Ese,[K("div",Ise,[K("header",null,[s.$slots.header?fe(s.$slots,"header",{key:0}):(S(),re(Sse,{key:1}))]),K("main",null,[K("div",{ref_key:"content",ref:r},[fe(s.$slots,"content")],512)])])]),K("footer",null,[s.$slots.footer?fe(s.$slots,"footer",{key:0}):(S(),re(Gie,{key:1}))])],64))}}),Cse={class:"grid mt-10 md:mt-15"},Ose={class:"grid justify-center"},Ase={class:"text-lg md:text-xl text-white"},Pse=["innerHTML"],kse={class:"grid my-5 xl:mx-20"},xse=Pe({__name:"Blog",setup(t){const{publicUser:e}=tn(or()),{menuItems:n,content:r}=tn(ar()),i=ee(()=>window.location.hash),s=I1();return(o,a)=>(S(),re(ga,{"scroll-to-content":!i.value},{content:ce(()=>{var l;return[K("div",Cse,[K("div",Ose,[(S(!0),U(Te,null,st(P(e)?[...P(r).blogDescriptionUser.map(u=>u.replace("%USER%",P(e).displayName||"Unknown user")),...((l=P(n).find(u=>u.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:l.description)||[]]:P(r).blogDescriptionGuest,u=>(S(),U("h1",Ase,[K("span",{innerHTML:u},null,8,Pse)]))),256))]),K("div",kse,[P(s).params.postId?(S(),re(kne,{key:0})):(S(),re(Wie,{key:1}))])])]}),_:1},8,["scroll-to-content"]))}}),Dse=Pe({__name:"Blog",setup(t){return(e,n)=>(S(),re(xse))}}),Rse={class:"flex flex-col items-center content-center"},Nse=Pe({__name:"CatCalc",setup(t){const e=Dn({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"Nederlandse Voedsel- en Warenautoriteit"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=ee(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(w,T)=>{const C=o[w].sort((N,k)=>N.weight-k.weight);let I=C[C.length-2].weight,E=C[C.length-2].calories,M=C[C.length-1].weight,F=C[C.length-1].calories;for(let N=0;N<C.length-1;N++)if(T>=C[N].weight&&T<=C[N+1].weight){I=C[N].weight,E=C[N].calories,M=C[N+1].weight,F=C[N+1].calories;break}return{x1:I,y1:E,x2:M,y2:F}},l=(w,T)=>{const{x1:x,y1:C,x2:I,y2:E}=a(w,T);return C+(T-x)*(E-C)/(I-x)},u=()=>{const w=new Map;for(const C of Object.values(o).filter(I=>I!==o.average))for(const{weight:I,calories:E}of C)w.has(I)||w.set(I,{sum:0,count:0}),w.get(I).sum+=E,w.get(I).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(C=>w.has(C)).map(C=>({weight:C,calories:w.get(C).sum/w.get(C).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],f=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40},{value:"dried_fish",label:"Dried Fish (8kcal)",calories:8}],h=ee(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=ee(()=>{var w;return h.value*(((w=r.find(T=>T.value===e.catAge.value))==null?void 0:w.rerIndex)??1)}),m=ee(()=>{var w;return p.value*(((w=s.value.find(T=>T.value===e.catSize.value))==null?void 0:w.factor)??1)}),g=ee(()=>{const w=f.find(T=>T.value===e.catFoodSnax.value);return w!=null&&w.calories?m.value*(Number(e.catFoodSnaxPercentage.value)/100)/w.calories:void 0}),y=ee(()=>m.value*(1-Number(g.value?e.catFoodSnaxPercentage.value:0)/100)),v=ee(()=>{const w=d.find(T=>T.value===e.catFoodWet.value);return w!=null&&w.calories?y.value/4/w.calories*100:void 0}),_=ee(()=>y.value/4*(v.value?3:4)),b=ee(()=>{var w;return _.value/(((w=c.find(T=>T.value===e.catFoodDry.value))==null?void 0:w.calories)??c[0].calories)*100});return(w,T)=>(S(),re(ga,null,{content:ce(()=>[Z(ei,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:ce(()=>{var x;return[K("div",Rse,[Z(xr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":T[0]||(T[0]=C=>e.calculator.value=C),error:e.calculator.error,"onUpdate:error":T[1]||(T[1]=C=>e.calculator.error=C),options:n,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(pr,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":T[2]||(T[2]=C=>e.catWeigth.value=C),error:e.catWeigth.error,"onUpdate:error":T[3]||(T[3]=C=>e.catWeigth.error=C),rules:[P(xt).Required,P(xt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),Z(xr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":T[4]||(T[4]=C=>e.catAge.value=C),error:e.catAge.error,"onUpdate:error":T[5]||(T[5]=C=>e.catAge.error=C),options:r,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(xr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":T[6]||(T[6]=C=>e.catGender.value=C),error:e.catGender.error,"onUpdate:error":T[7]||(T[7]=C=>e.catGender.error=C),options:i,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(xr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":T[8]||(T[8]=C=>e.catSize.value=C),error:e.catSize.error,"onUpdate:error":T[9]||(T[9]=C=>e.catSize.error=C),options:s.value,rules:[P(xt).Required]},null,8,["modelValue","error","options","rules"]),Z(ei,{class:"w-full md:w-1/2 my-5 border border-gray-400",description:"Required energy per day: "+m.value.toFixed(1)+" kcal"},null,8,["description"]),Z(xr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":T[10]||(T[10]=C=>e.catFoodDry.value=C),error:e.catFoodDry.error,"onUpdate:error":T[11]||(T[11]=C=>e.catFoodDry.error=C),options:c,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(xr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":T[12]||(T[12]=C=>e.catFoodWet.value=C),error:e.catFoodWet.error,"onUpdate:error":T[13]||(T[13]=C=>e.catFoodWet.error=C),options:d,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(xr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":T[14]||(T[14]=C=>e.catFoodSnax.value=C),error:e.catFoodSnax.error,"onUpdate:error":T[15]||(T[15]=C=>e.catFoodSnax.error=C),options:f,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(S(),re(pr,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":T[16]||(T[16]=C=>e.catFoodSnaxPercentage.value=C),error:e.catFoodSnaxPercentage.error,"onUpdate:error":T[17]||(T[17]=C=>e.catFoodSnaxPercentage.error=C),rules:[P(xt).Required,P(xt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):G("",!0),Z(ei,{class:"w-full md:w-1/2 my-5 border border-gray-400",title:"Result","sub-title":"Based on constants from "+((x=n.find(C=>C.value===e.calculator.value))==null?void 0:x.label),description:["Required dry food per day: "+b.value.toFixed(1)+" g","","","Required dry food per meal: "+(b.value/(v.value?2:3)).toFixed(1)+" g",...v.value?["Required wet food per day: "+v.value.toFixed(1)+" g"]:[],...g.value?["Allowed snacks per day: "+g.value.toFixed(g.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),Mse=Pe({__name:"CatCalc",setup(t){return(e,n)=>(S(),re(Nse))}}),$se={class:"min-w-0 flex-1"},Lse=K("img",{class:"w-48 h-48 rounded-full animation-scale mb-4 cursor-pointer",src:"https://www.spigotmc.org/data/resource_icons/28/28103.jpg?1472586104",alt:"customvoting"},null,-1),Fse=Pe({__name:"CustomVoting",setup(t){return(e,n)=>{const r=En("RouterLink");return S(),re(ga,null,{header:ce(()=>[K("div",$se,[Z(r,{to:{name:"home"}},{default:ce(()=>[Lse]),_:1})])]),content:ce(()=>[Z(ei,{class:"!bg-yellow-700 !bg-opacity-50 my-5",title:"CustomVoting",description:"In Progress"})]),_:1})}}}),Use=Pe({__name:"CustomVoting",setup(t){return(e,n)=>(S(),re(Fse))}}),Vse={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-primary"},Bse={class:"m-1 lg:w-4/5"},HT=Pe({__name:"Privacy",setup(t){const{content:e}=tn(ar());return(n,r)=>(S(),U("div",Vse,[(S(!0),U(Te,null,st(P(e).privacyStatement,i=>(S(),U("p",Bse,Me(i),1))),256))]))}}),WT=Pe({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=se(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(S(),re(pr,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,P(xt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),mu=Pe({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=se(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(S(),re(pr,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),jse={class:"flex flex-wrap pt-6 pb-8 mb-4"},Hse={class:"basis-full lg:basis-1/2"},Wse={class:"flex gap-3 mt-10 flex-wrap"},Kse={class:"basis-full lg:basis-1/2"},zse={class:"flex flex-col items-center content-center"},Gse=Pe({__name:"Dashboard",setup(t){const e=or(),{currentUser:n,firebaseUser:r,publicUser:i,isOwner:s,mutationLoading:o}=tn(e),a=ar(),{fetchAll:l}=a,{content:u,online:c,debug:d}=tn(a),f=se(!1),h=se(),p=se(),m=se(),g=se(),y=se(),v=se(),_=se(),b=se(),w=Dn({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),T=ee(()=>({firstName:w.firstName.value,lastName:w.lastName.value})),x=ee(()=>({displayName:w.displayName.value,avatar:w.avatar.value})),C=ee(()=>!!i.value&&!is(gw.convert(i.value),x.value)),I=ee(()=>{var F;return w.email.value!==((F=r.value)==null?void 0:F.email)}),E=ee(()=>{const F=[];return is(n.value,T.value)||F.push("Details"),C.value&&F.push("Public Profile"),I.value&&F.push("E-mail"),w.newPassword.value&&F.push("Password"),F.length?"Save "+Z0(F):void 0}),M=async()=>{var F;Object.keys(w).forEach(N=>w[N].error=""),w.newPassword.value&&(await Promise.all([y.value.test(),v.value.test(),_.value.test()]),!w.newPassword.error&&!w.currentPassword.error&&!w.repeatPassword.error&&(await e.updatePassword(w.newPassword.value,w.currentPassword.value),w.newPassword.value="",w.currentPassword.value="")),C.value&&(await m.value.test(),!w.displayName.error&&!w.avatar.error&&e.updatePublicUser({displayName:w.displayName.value,avatar:w.avatar.value})),I.value&&(await Promise.all([g.value.test(),v.value.test()]),!w.email.error&&!w.currentPassword.error&&(await e.updateMail(w.email.value,w.currentPassword.value),w.currentPassword.value="")),is(n.value,T.value)||(await Promise.all([h.value.test(),p.value.test()]),!w.firstName.error&&!w.lastName.error&&e.updateUser({firstName:w.firstName.value,lastName:w.lastName.value})),await l((F=r.value)==null?void 0:F.uid,!0)};return WP(()=>{var F,N,k,R,D;w.firstName.value=((F=n.value)==null?void 0:F.firstName)||"",w.lastName.value=((N=n.value)==null?void 0:N.lastName)||"",w.displayName.value=((k=i.value)==null?void 0:k.displayName)||"",w.email.value=((R=r.value)==null?void 0:R.email)||"",w.avatar.value=((D=i.value)==null?void 0:D.avatar)||""}),(F,N)=>(S(),re(ga,null,{content:ce(()=>[P(n)&&P(r)?(S(),re(ei,{key:0,class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Welcome "+P(n).firstName+(P(n).lastName?" "+P(n).lastName:""),description:P(u).dashboardDescription},{default:ce(()=>[K("div",jse,[K("div",Hse,[K("form",{onSubmit:N[19]||(N[19]=St(k=>M(),["prevent"]))},[Z(pr,{name:"accountType",label:"Account Type","model-value":P(s)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),Z(pr,{ref_key:"firstName",ref:h,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:w.firstName.value,"onUpdate:modelValue":N[0]||(N[0]=k=>w.firstName.value=k),error:w.firstName.error,"onUpdate:error":N[1]||(N[1]=k=>w.firstName.error=k),rules:[P(xt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),Z(pr,{ref_key:"lastName",ref:p,name:"lastName",label:"Last Name",modelValue:w.lastName.value,"onUpdate:modelValue":N[2]||(N[2]=k=>w.lastName.value=k),error:w.lastName.error,"onUpdate:error":N[3]||(N[3]=k=>w.lastName.error=k),"min-length":3,"max-length":50},null,8,["modelValue","error"]),Z(pr,{ref_key:"displayName",ref:m,name:"displayName",label:"Public Username",modelValue:w.displayName.value,"onUpdate:modelValue":N[4]||(N[4]=k=>w.displayName.value=k),error:w.displayName.error,"onUpdate:error":N[5]||(N[5]=k=>w.displayName.error=k),rules:[P(xt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),Z(WT,{ref_key:"email",ref:g,name:"email",label:"E-mail",modelValue:w.email.value,"onUpdate:modelValue":N[6]||(N[6]=k=>w.email.value=k),error:w.email.error,"onUpdate:error":N[7]||(N[7]=k=>w.email.error=k),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),I.value?(S(),re(mu,{key:0,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":N[8]||(N[8]=k=>w.currentPassword.value=k),error:w.currentPassword.error,"onUpdate:error":N[9]||(N[9]=k=>w.currentPassword.error=k),rules:[P(xt).Required]},null,8,["modelValue","error","rules"])):G("",!0),Z(mu,{ref_key:"newPassword",ref:y,name:"newPassword",label:"New Password",modelValue:w.newPassword.value,"onUpdate:modelValue":N[10]||(N[10]=k=>w.newPassword.value=k),error:w.newPassword.error,"onUpdate:error":N[11]||(N[11]=k=>w.newPassword.error=k),min:6,max:50},null,8,["modelValue","error"]),w.newPassword.value?(S(),re(mu,{key:1,ref_key:"repeatPassword",ref:_,name:"repeatPassword",label:"Repeat New Password",modelValue:w.repeatPassword.value,"onUpdate:modelValue":N[12]||(N[12]=k=>w.repeatPassword.value=k),error:w.repeatPassword.error,"onUpdate:error":N[13]||(N[13]=k=>w.repeatPassword.error=k),rules:[P(xt).Required],compare:{value:w.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):G("",!0),w.newPassword.value&&!I.value?(S(),re(mu,{key:2,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":N[14]||(N[14]=k=>w.currentPassword.value=k),error:w.currentPassword.error,"onUpdate:error":N[15]||(N[15]=k=>w.currentPassword.error=k),rules:[P(xt).Required]},null,8,["modelValue","error","rules"])):G("",!0),K("div",Wse,[E.value?(S(),re(Ut,{key:0,class:"w-full",action:"submit",loading:P(o)},{default:ce(()=>[Qe(Me(E.value),1)]),_:1},8,["loading"])):G("",!0),P(s)?G("",!0):(S(),re(Ut,{key:1,class:"w-full",type:"danger",outlined:"",onClick:N[16]||(N[16]=k=>f.value=!0)},{default:ce(()=>[Qe(" Delete account ")]),_:1}))]),P(s)?(S(),re(Fd,{key:3,name:"online",label:"Online",modelValue:P(c),"onUpdate:modelValue":N[17]||(N[17]=k=>dn(c)?c.value=k:null)},null,8,["modelValue"])):G("",!0),P(s)?(S(),re(Fd,{key:4,name:"debug",label:"Debug",modelValue:P(d),"onUpdate:modelValue":N[18]||(N[18]=k=>dn(d)?d.value=k:null)},null,8,["modelValue"])):G("",!0)],32)]),K("div",Kse,[Z(FT,{ref_key:"avatar",ref:b,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:w.avatar.value,"onUpdate:modelValue":N[20]||(N[20]=k=>w.avatar.value=k),error:w.avatar.error,"onUpdate:error":N[21]||(N[21]=k=>w.avatar.error=k),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])])]),K("div",zse,[Z(HT)])]),_:1},8,["title","description"])):G("",!0),Z(LT,{title:"Delete Account",isOpen:f.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:N[22]||(N[22]=k=>P(e).deleteAccount()),onCancel:N[23]||(N[23]=k=>f.value=!1)},null,8,["isOpen","description"])]),_:1}))}}),Yse=Pe({__name:"Dashboard",setup(t){return(e,n)=>(S(),re(Gse))}}),qse=t=>(LP("data-v-bdf50b04"),t=t(),FP(),t),Xse=qse(()=>K("h3",{class:"text-title-secondary"},"My Work",-1)),Qse=Pe({__name:"Projects",setup(t){const e=ar(),{moveProject:n}=e,{projects:r}=tn(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{Wn(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),bK(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return It(()=>r.value,(o,a)=>{o>a&&s()}),Wt(()=>{s()}),(o,a)=>(S(),U(Te,null,[Xse,Z(P(aL),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":P(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:ce(({element:l})=>[Z(ei,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,description:l.description,loading:l.loading},{default:ce(()=>[(S(!0),U(Te,null,st(l.technologies,u=>(S(),re(Ut,{class:"m-1 md:mt-2 font-bold",style:rr({backgroundColor:u.color})},{default:ce(()=>[Qe(Me(u.name),1)]),_:2},1032,["style"]))),256))]),_:2},1032,["title","url","description","loading"])]),_:1},8,["model-value"])],64))}}),Jse=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Zse=Jse(Qse,[["__scopeId","data-v-bdf50b04"]]),eoe={class:"grid mt-20"},toe=Pe({__name:"Home",setup(t){return(e,n)=>(S(),re(ga,{"scroll-to-content":!1},{content:ce(()=>[K("div",eoe,[Z(Zse)])]),_:1}))}}),noe=Pe({__name:"Home",setup(t){return(e,n)=>(S(),re(toe))}}),roe={class:"flex flex-col items-center content-center"},ioe={class:"grid grid-cols-4 mt-10 gap-3"},soe=Pe({__name:"Login",setup(t){const e=or(),{loginLoading:n}=tn(e),r=dx(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=se(),a=se(),l=Dn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return Wt(()=>{r.replace({query:void 0})}),(d,f)=>{const h=En("RouterLink");return S(),re(ga,null,{content:ce(()=>[Z(ei,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:ce(()=>[K("div",roe,[K("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:f[4]||(f[4]=St(p=>u(),["prevent"]))},[Z(WT,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":f[0]||(f[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":f[1]||(f[1]=p=>l.email.error=p),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(mu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":f[2]||(f[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":f[3]||(f[3]=p=>l.password.error=p),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),K("div",ioe,[Z(Ut,{class:"col-span-full md:col-span-2",action:"submit",loading:P(n)},{default:ce(()=>[Qe(" Login ")]),_:1},8,["loading"]),Z(h,{class:"col-span-full md:col-span-2",to:{name:"register",query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:ce(()=>[Z(Ut,{class:"w-full",outlined:""},{default:ce(()=>[Qe(" Register ")]),_:1})]),_:1},8,["to"]),Z(Ut,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",onClick:c},{default:ce(()=>[Qe(" Forgot Password ")]),_:1})])],32),Z(HT)])]),_:1})]),_:1})}}}),ooe=Pe({__name:"Login",setup(t){return(e,n)=>(S(),re(soe))}}),aoe=Pe({__name:"NotFound",setup(t){return(e,n)=>(S(),re(ga,{"scroll-to-content":!1},{content:ce(()=>[Z(ei,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),loe=Pe({__name:"NotFound",setup(t){return(e,n)=>(S(),re(aoe))}}),uoe={class:"flex flex-col items-center content-center"},coe={class:"grid grid-cols-2 mt-10 gap-3"},doe=Pe({__name:"Register",setup(t){const e=or(),{loginLoading:n}=tn(e),r=dx(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=se(),a=se(),l=se(),u=Dn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return Wt(()=>{r.replace({query:void 0})}),(d,f)=>{const h=En("RouterLink");return S(),re(ga,null,{content:ce(()=>[Z(ei,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:ce(()=>[K("div",uoe,[K("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:f[6]||(f[6]=St(p=>c(),["prevent"]))},[Z(pr,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":f[0]||(f[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":f[1]||(f[1]=p=>u.firstName.error=p),rules:[P(xt).Required,P(xt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),Z(WT,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":f[2]||(f[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":f[3]||(f[3]=p=>u.email.error=p),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(mu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":f[4]||(f[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":f[5]||(f[5]=p=>u.password.error=p),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),K("div",coe,[Z(Ut,{class:"col-span-full md:col-span-1",action:"submit",loading:P(n)},{default:ce(()=>[Qe(" Register ")]),_:1},8,["loading"]),Z(h,{to:{name:"login",query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:ce(()=>[Z(Ut,{class:"w-full",outlined:""},{default:ce(()=>[Qe(" Login ")]),_:1})]),_:1},8,["to"])])],32),Z(HT)])]),_:1})]),_:1})}}}),foe=Pe({__name:"Register",setup(t){return(e,n)=>(S(),re(doe))}}),Vv=N5({history:c5(""),routes:[{path:"/",name:"home",meta:{title:"Home"},component:noe,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Vv.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},{path:"/login",name:"login",meta:{title:"Login"},component:ooe,beforeEnter:(t,e,n)=>{or().currentUser?n({name:"dashboard"}):n()}},{path:"/register",name:"register",meta:{title:"Register"},component:foe,beforeEnter:(t,e,n)=>{or().currentUser?n({name:"dashboard"}):n()}},{path:"/dashboard",name:"dashboard",meta:{title:"Dashboard"},component:Yse,beforeEnter:(t,e,n)=>{or().currentUser?n():n({name:"login"})}},{path:"/blog/:postId?",name:"blog",meta:{title:"Blog"},component:Dse},{path:"/customvoting",name:"customvoting",meta:{title:"CustomVoting"},component:Use},{path:"/cat-calc",name:"cat-calc",meta:{title:"CatCalc"},component:Mse},{path:"/:pathMatch(.*)*",name:"notfound",meta:{title:"404"},component:loe}],scrollBehavior(t,e,n){return t.hash?new Promise((r,i)=>{let s=10;const o=()=>{setTimeout(()=>{try{document.getElementById(t.hash.replace("#",""))?r({el:t.hash,behavior:"smooth",top:15}):(s--,s>0?o():i())}catch(a){i(a)}},1e3)};o()}):n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),wA=v$.name;Vv.beforeEach(async(t,e,n)=>{var r,i;if(t!==e){const s=ar();t.name&&(["home","login","register","dashboard","notfound"].includes(t.name.toString())||(i=await s.fetchMenuItems((r=or().firebaseUser)==null?void 0:r.uid))!=null&&i.some(o=>t.path.startsWith(o.url)))?n():n({name:"notfound"})}else n()});Vv.beforeResolve(t=>{document.title=wA+" | "+t.meta.title||wA});const KT=Vv;function Wi(t){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(t)}function nt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function We(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ze(t){We(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Wi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ks(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function os(t,e){We(2,arguments);var n=Ze(t),r=nt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function fL(t,e){if(We(2,arguments),!e||Wi(e)!=="object")return new Date(NaN);var n=e.years?nt(e.years):0,r=e.months?nt(e.months):0,i=e.weeks?nt(e.weeks):0,s=e.days?nt(e.days):0,o=e.hours?nt(e.hours):0,a=e.minutes?nt(e.minutes):0,l=e.seconds?nt(e.seconds):0,u=Ze(t),c=r||n?os(u,r+n*12):u,d=s||i?Ks(c,s+i*7):c,f=a+o*60,h=l+f*60,p=h*1e3,m=new Date(d.getTime()+p);return m}function hoe(t,e){We(2,arguments);var n=Ze(t).getTime(),r=nt(e);return new Date(n+r)}var poe={};function Vs(){return poe}function _l(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getDay(),p=(h<d?7:0)+h-d;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function lg(t){return We(1,arguments),_l(t,{weekStartsOn:1})}function moe(t){We(1,arguments);var e=Ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=lg(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=lg(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function goe(t){We(1,arguments);var e=moe(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=lg(n);return r}function ug(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function _A(t){We(1,arguments);var e=Ze(t);return e.setHours(0,0,0,0),e}var voe=864e5;function yoe(t,e){We(2,arguments);var n=_A(t),r=_A(e),i=n.getTime()-ug(n),s=r.getTime()-ug(r);return Math.round((i-s)/voe)}function boe(t,e){We(2,arguments);var n=nt(e),r=n*3;return os(t,r)}function zT(t,e){We(2,arguments);var n=nt(e);return os(t,n*12)}var GT=6e4,YT=36e5,woe=1e3;function hL(t){return We(1,arguments),t instanceof Date||Wi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ud(t){if(We(1,arguments),!hL(t)&&typeof t!="number")return!1;var e=Ze(t);return!isNaN(Number(e))}function TA(t){We(1,arguments);var e=Ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function pL(t,e){var n;We(1,arguments);var r=t||{},i=Ze(r.start),s=Ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function Nf(t){We(1,arguments);var e=Ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function _oe(t){We(1,arguments);var e=t||{},n=Ze(e.start),r=Ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=Nf(n),o=Nf(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(Ze(l)),l=boe(l,1);return a}function Toe(t){We(1,arguments);var e=Ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Soe(t){We(1,arguments);var e=Ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Eoe(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getDay(),p=(h<d?-7:0)+6-(h-d);return f.setDate(f.getDate()+p),f.setHours(23,59,59,999),f}function SA(t){We(1,arguments);var e=Ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function mL(t,e){We(2,arguments);var n=nt(e);return hoe(t,-n)}var Ioe=864e5;function Coe(t){We(1,arguments);var e=Ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Ioe)+1}function lc(t){We(1,arguments);var e=1,n=Ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function gL(t){We(1,arguments);var e=Ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=lc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=lc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ooe(t){We(1,arguments);var e=gL(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=lc(n);return r}var Aoe=6048e5;function vL(t){We(1,arguments);var e=Ze(t),n=lc(e).getTime()-Ooe(e).getTime();return Math.round(n/Aoe)+1}function Tl(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function qT(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Ze(t),d=c.getUTCFullYear(),f=Vs(),h=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var m=Tl(p,e),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var y=Tl(g,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function Poe(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=qT(t,e),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=Tl(h,e);return p}var koe=6048e5;function yL(t,e){We(1,arguments);var n=Ze(t),r=Tl(n,e).getTime()-Poe(n,e).getTime();return Math.round(r/koe)+1}function Jt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var xoe={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Jt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Jt(r+1,2)},d:function(e,n){return Jt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Jt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Jt(e.getUTCHours(),n.length)},m:function(e,n){return Jt(e.getUTCMinutes(),n.length)},s:function(e,n){return Jt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Jt(s,n.length)}};const Eo=xoe;var ql={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Doe={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Eo.y(e,n)},Y:function(e,n,r,i){var s=qT(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Jt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Jt(o,n.length)},R:function(e,n){var r=gL(e);return Jt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Jt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Jt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Jt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Eo.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Jt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=yL(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Jt(s,n.length)},I:function(e,n,r){var i=vL(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Jt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Eo.d(e,n)},D:function(e,n,r){var i=Coe(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Jt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Jt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Jt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Jt(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=ql.noon:i===0?s=ql.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=ql.evening:i>=12?s=ql.afternoon:i>=4?s=ql.morning:s=ql.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Eo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Eo.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Jt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Jt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Eo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Eo.s(e,n)},S:function(e,n){return Eo.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return IA(o);case"XXXX":case"XX":return Pa(o);case"XXXXX":case"XXX":default:return Pa(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return IA(o);case"xxxx":case"xx":return Pa(o);case"xxxxx":case"xxx":default:return Pa(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+EA(o,":");case"OOOO":default:return"GMT"+Pa(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+EA(o,":");case"zzzz":default:return"GMT"+Pa(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Jt(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Jt(o,n.length)}};function EA(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Jt(s,2)}function IA(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Jt(Math.abs(t)/60,2)}return Pa(t,e)}function Pa(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Jt(Math.floor(i/60),2),o=Jt(i%60,2);return r+s+n+o}var CA=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},bL=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Roe=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return CA(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",CA(i,n)).replace("{{time}}",bL(s,n))},Nw={p:bL,P:Roe},Noe=["D","DD"],Moe=["YY","YYYY"];function wL(t){return Noe.indexOf(t)!==-1}function _L(t){return Moe.indexOf(t)!==-1}function cg(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var $oe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Loe=function(e,n,r){var i,s=$oe[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Foe=Loe;function mb(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Uoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Voe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Boe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},joe={date:mb({formats:Uoe,defaultWidth:"full"}),time:mb({formats:Voe,defaultWidth:"full"}),dateTime:mb({formats:Boe,defaultWidth:"full"})};const Hoe=joe;var Woe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Koe=function(e,n,r,i){return Woe[e]};const zoe=Koe;function Hc(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Goe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qoe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xoe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Joe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zoe=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eae={ordinalNumber:Zoe,era:Hc({values:Goe,defaultWidth:"wide"}),quarter:Hc({values:Yoe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Hc({values:qoe,defaultWidth:"wide"}),day:Hc({values:Xoe,defaultWidth:"wide"}),dayPeriod:Hc({values:Qoe,defaultWidth:"wide",formattingValues:Joe,defaultFormattingWidth:"wide"})};const tae=eae;function Wc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?rae(a,function(d){return d.test(o)}):nae(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function nae(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function rae(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function iae(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var sae=/^(\d+)(th|st|nd|rd)?/i,oae=/\d+/i,aae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lae={any:[/^b/i,/^(a|c)/i]},uae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cae={any:[/1/i,/2/i,/3/i,/4/i]},dae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vae={ordinalNumber:iae({matchPattern:sae,parsePattern:oae,valueCallback:function(e){return parseInt(e,10)}}),era:Wc({matchPatterns:aae,defaultMatchWidth:"wide",parsePatterns:lae,defaultParseWidth:"any"}),quarter:Wc({matchPatterns:uae,defaultMatchWidth:"wide",parsePatterns:cae,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Wc({matchPatterns:dae,defaultMatchWidth:"wide",parsePatterns:fae,defaultParseWidth:"any"}),day:Wc({matchPatterns:hae,defaultMatchWidth:"wide",parsePatterns:pae,defaultParseWidth:"any"}),dayPeriod:Wc({matchPatterns:mae,defaultMatchWidth:"any",parsePatterns:gae,defaultParseWidth:"any"})};const yae=vae;var bae={code:"en-US",formatDistance:Foe,formatLong:Hoe,formatRelative:zoe,localize:tae,match:yae,options:{weekStartsOn:0,firstWeekContainsDate:1}};const TL=bae;var wae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_ae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tae=/^'([^]*?)'?$/,Sae=/''/g,Eae=/[a-zA-Z]/;function Jo(t,e,n){var r,i,s,o,a,l,u,c,d,f,h,p,m,g,y,v,_,b;We(2,arguments);var w=String(e),T=Vs(),x=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:TL,C=nt((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(d=T.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=nt((h=(p=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(y=n.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&m!==void 0?m:T.weekStartsOn)!==null&&p!==void 0?p:(_=T.locale)===null||_===void 0||(b=_.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var E=Ze(t);if(!Ud(E))throw new RangeError("Invalid time value");var M=ug(E),F=mL(E,M),N={firstWeekContainsDate:C,weekStartsOn:I,locale:x,_originalDate:E},k=w.match(_ae).map(function(R){var D=R[0];if(D==="p"||D==="P"){var B=Nw[D];return B(R,x.formatLong)}return R}).join("").match(wae).map(function(R){if(R==="''")return"'";var D=R[0];if(D==="'")return Iae(R);var B=Doe[D];if(B)return!(n!=null&&n.useAdditionalWeekYearTokens)&&_L(R)&&cg(R,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&wL(R)&&cg(R,e,String(t)),B(F,R,x.localize,N);if(D.match(Eae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return R}).join("");return k}function Iae(t){var e=t.match(Tae);return e?e[1].replace(Sae,"'"):t}function Cae(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Oae(t){We(1,arguments);var e=Ze(t),n=e.getDay();return n}function Aae(t){We(1,arguments);var e=Ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function as(t){We(1,arguments);var e=Ze(t),n=e.getHours();return n}var Pae=6048e5;function kae(t){We(1,arguments);var e=Ze(t),n=lg(e).getTime()-goe(e).getTime();return Math.round(n/Pae)+1}function Rs(t){We(1,arguments);var e=Ze(t),n=e.getMinutes();return n}function $t(t){We(1,arguments);var e=Ze(t),n=e.getMonth();return n}function uc(t){We(1,arguments);var e=Ze(t),n=e.getSeconds();return n}function xae(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Ze(t),d=c.getFullYear(),f=Vs(),h=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,h),p.setHours(0,0,0,0);var m=_l(p,e),g=new Date(0);g.setFullYear(d,0,h),g.setHours(0,0,0,0);var y=_l(g,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function Dae(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=xae(t,e),h=new Date(0);h.setFullYear(f,0,d),h.setHours(0,0,0,0);var p=_l(h,e);return p}var Rae=6048e5;function Nae(t,e){We(1,arguments);var n=Ze(t),r=_l(n,e).getTime()-Dae(n,e).getTime();return Math.round(r/Rae)+1}function bt(t){return We(1,arguments),Ze(t).getFullYear()}function Mf(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()>r.getTime()}function $f(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()<r.getTime()}function gu(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()===r.getTime()}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mae(t,e){if(t){if(typeof t=="string")return OA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(t,e)}}function AA(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Mae(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mw(t,e)}function Vt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function SL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SL=function(){return!!t})()}function $ae(t,e){if(e&&(Wi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(t)}function Bt(t){var e=SL();return function(){var r=dg(t),i;if(e){var s=dg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return $ae(this,i)}}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lae(t,e){if(Wi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EL(t){var e=Lae(t,"string");return Wi(e)=="symbol"?e:String(e)}function PA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EL(r.key),r)}}function Pt(t,e,n){return e&&PA(t.prototype,e),n&&PA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ve(t,e,n){return e=EL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fae=10,IL=function(){function t(){At(this,t),Ve(this,"priority",void 0),Ve(this,"subPriority",0)}return Pt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Uae=function(t){Vt(n,t);var e=Bt(n);function n(r,i,s,o,a){var l;return At(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return Pt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(IL),Vae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",Fae),Ve(He(r),"subPriority",-1),r}return Pt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(IL),qt=function(){function t(){At(this,t),Ve(this,"incompatibleTokens",void 0),Ve(this,"priority",void 0),Ve(this,"subPriority",void 0)}return Pt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new Uae(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Bae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",140),Ve(He(r),"incompatibleTokens",["R","u","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ws={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hn(t,e){return t&&{value:e(t.value),rest:t.rest}}function kn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function _s(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*YT+s*GT+o*woe),rest:e.slice(n[0].length)}}function CL(t){return kn(jn.anyDigitsSigned,t)}function Vn(t,e){switch(t){case 1:return kn(jn.singleDigit,e);case 2:return kn(jn.twoDigits,e);case 3:return kn(jn.threeDigits,e);case 4:return kn(jn.fourDigits,e);default:return kn(new RegExp("^\\d{1,"+t+"}"),e)}}function fg(t,e){switch(t){case 1:return kn(jn.singleDigitSigned,e);case 2:return kn(jn.twoDigitsSigned,e);case 3:return kn(jn.threeDigitsSigned,e);case 4:return kn(jn.fourDigitsSigned,e);default:return kn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function XT(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OL(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function AL(t){return t%400===0||t%4===0&&t%100!==0}var jae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Hn(Vn(4,i),a);case"yo":return Hn(o.ordinalNumber(i,{unit:"year"}),a);default:return Hn(Vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=OL(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),Hae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Hn(Vn(4,i),a);case"Yo":return Hn(o.ordinalNumber(i,{unit:"year"}),a);default:return Hn(Vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=qT(i,a);if(o.isTwoDigitYear){var u=OL(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Tl(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Tl(i,a)}}]),n}(qt),Wae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s){return fg(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),lc(a)}}]),n}(qt),Kae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s){return fg(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),zae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",120),Ve(He(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Vn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),Gae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",120),Ve(He(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Vn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),Yae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ve(He(r),"priority",110),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Hn(kn(jn.month,i),a);case"MM":return Hn(Vn(2,i),a);case"Mo":return Hn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),qae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",110),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Hn(kn(jn.month,i),a);case"LL":return Hn(Vn(2,i),a);case"Lo":return Hn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt);function Xae(t,e,n){We(2,arguments);var r=Ze(t),i=nt(e),s=yL(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Qae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",100),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return kn(jn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Tl(Xae(i,o,a),a)}}]),n}(qt);function Jae(t,e){We(2,arguments);var n=Ze(t),r=nt(e),i=vL(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Zae=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",100),Ve(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return kn(jn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return lc(Jae(i,o))}}]),n}(qt),ele=[31,28,31,30,31,30,31,31,30,31,30,31],tle=[31,29,31,30,31,30,31,31,30,31,30,31],nle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"subPriority",1),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return kn(jn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=AL(o),l=i.getUTCMonth();return a?s>=1&&s<=tle[l]:s>=1&&s<=ele[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(qt),rle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"subpriority",1),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return kn(jn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=AL(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(qt);function QT(t,e,n){var r,i,s,o,a,l,u,c;We(2,arguments);var d=Vs(),f=nt((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ze(t),p=nt(e),m=h.getUTCDay(),g=p%7,y=(g+7)%7,v=(y<f?7:0)+p-m;return h.setUTCDate(h.getUTCDate()+v),h}var ile=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=QT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(qt),sle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Hn(Vn(s.length,i),l);case"eo":return Hn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=QT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(qt),ole=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Hn(Vn(s.length,i),l);case"co":return Hn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=QT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(qt);function ale(t,e){We(2,arguments);var n=nt(e);n%7===0&&(n=n-7);var r=1,i=Ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var lle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Vn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Hn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Hn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Hn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Hn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=ale(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(qt),ule=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(XT(o),0,0,0),i}}]),n}(qt),cle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(XT(o),0,0,0),i}}]),n}(qt),dle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["a","b","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(XT(o),0,0,0),i}}]),n}(qt),fle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return kn(jn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(qt),hle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return kn(jn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(qt),ple=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return kn(jn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(qt),mle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return kn(jn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(qt),gle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",60),Ve(He(r),"incompatibleTokens",["t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return kn(jn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(qt),vle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",50),Ve(He(r),"incompatibleTokens",["t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return kn(jn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(qt),yle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",30),Ve(He(r),"incompatibleTokens",["t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Hn(Vn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(qt),ble=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",10),Ve(He(r),"incompatibleTokens",["t","T","x"]),r}return Pt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return _s(ws.basicOptionalMinutes,i);case"XX":return _s(ws.basic,i);case"XXXX":return _s(ws.basicOptionalSeconds,i);case"XXXXX":return _s(ws.extendedOptionalSeconds,i);case"XXX":default:return _s(ws.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(qt),wle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",10),Ve(He(r),"incompatibleTokens",["t","T","X"]),r}return Pt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return _s(ws.basicOptionalMinutes,i);case"xx":return _s(ws.basic,i);case"xxxx":return _s(ws.basicOptionalSeconds,i);case"xxxxx":return _s(ws.extendedOptionalSeconds,i);case"xxx":default:return _s(ws.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(qt),_le=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",40),Ve(He(r),"incompatibleTokens","*"),r}return Pt(n,[{key:"parse",value:function(i){return CL(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(qt),Tle=function(t){Vt(n,t);var e=Bt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",20),Ve(He(r),"incompatibleTokens","*"),r}return Pt(n,[{key:"parse",value:function(i){return CL(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(qt),Sle={G:new Bae,y:new jae,Y:new Hae,R:new Wae,u:new Kae,Q:new zae,q:new Gae,M:new Yae,L:new qae,w:new Qae,I:new Zae,d:new nle,D:new rle,E:new ile,e:new sle,c:new ole,i:new lle,a:new ule,b:new cle,B:new dle,h:new fle,H:new hle,K:new ple,k:new mle,m:new gle,s:new vle,S:new yle,X:new ble,x:new wle,t:new _le,T:new Tle},Ele=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ile=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cle=/^'([^]*?)'?$/,Ole=/''/g,Ale=/\S/,Ple=/[a-zA-Z]/;function $w(t,e,n,r){var i,s,o,a,l,u,c,d,f,h,p,m,g,y,v,_,b,w;We(3,arguments);var T=String(t),x=String(e),C=Vs(),I=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:C.locale)!==null&&i!==void 0?i:TL;if(!I.match)throw new RangeError("locale must contain match property");var E=nt((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(f=C.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=nt((p=(m=(g=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(v=r.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&m!==void 0?m:(b=C.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(x==="")return T===""?Ze(n):new Date(NaN);var F={firstWeekContainsDate:E,weekStartsOn:M,locale:I},N=[new Vae],k=x.match(Ile).map(function(ae){var X=ae[0];if(X in Nw){var he=Nw[X];return he(ae,I.formatLong)}return ae}).join("").match(Ele),R=[],D=AA(k),B;try{var Y=function(){var X=B.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&_L(X)&&cg(X,x,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&wL(X)&&cg(X,x,t);var he=X[0],be=Sle[he];if(be){var oe=be.incompatibleTokens;if(Array.isArray(oe)){var A=R.find(function(H){return oe.includes(H.token)||H.token===he});if(A)throw new RangeError("The format string mustn't contain `".concat(A.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&R.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));R.push({token:he,fullToken:X});var $=be.run(T,X,I.match,F);if(!$)return{v:new Date(NaN)};N.push($.setter),T=$.rest}else{if(he.match(Ple))throw new RangeError("Format string contains an unescaped latin alphabet character `"+he+"`");if(X==="''"?X="'":he==="'"&&(X=kle(X)),T.indexOf(X)===0)T=T.slice(X.length);else return{v:new Date(NaN)}}};for(D.s();!(B=D.n()).done;){var L=Y();if(Wi(L)==="object")return L.v}}catch(ae){D.e(ae)}finally{D.f()}if(T.length>0&&Ale.test(T))return new Date(NaN);var O=N.map(function(ae){return ae.priority}).sort(function(ae,X){return X-ae}).filter(function(ae,X,he){return he.indexOf(ae)===X}).map(function(ae){return N.filter(function(X){return X.priority===ae}).sort(function(X,he){return he.subPriority-X.subPriority})}).map(function(ae){return ae[0]}),J=Ze(n);if(isNaN(J.getTime()))return new Date(NaN);var te=mL(J,ug(J)),ge={},ve=AA(O),ne;try{for(ve.s();!(ne=ve.n()).done;){var j=ne.value;if(!j.validate(te,F))return new Date(NaN);var z=j.set(te,ge,F);Array.isArray(z)?(te=z[0],Cae(ge,z[1])):te=z}}catch(ae){ve.e(ae)}finally{ve.f()}return te}function kle(t){return t.match(Cle)[1].replace(Ole,"'")}function kA(t,e){We(2,arguments);var n=Nf(t),r=Nf(e);return n.getTime()===r.getTime()}function xle(t,e){We(2,arguments);var n=nt(e);return Ks(t,-n)}function Dle(t,e){var n;We(1,arguments);var r=nt((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=$le(t),s;if(i.date){var o=Lle(i.date,r);s=Fle(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=Ule(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Vle(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var Ep={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Rle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nle=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Mle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $le(t){var e={},n=t.split(Ep.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ep.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ep.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Ep.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Lle(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Fle(t,e){if(e===null)return new Date(NaN);var n=t.match(Rle);if(!n)return new Date(NaN);var r=!!n[4],i=Kc(n[1]),s=Kc(n[2])-1,o=Kc(n[3]),a=Kc(n[4]),l=Kc(n[5])-1;if(r)return Kle(e,a,l)?Ble(e,a,l):new Date(NaN);var u=new Date(0);return!Hle(e,s,o)||!Wle(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Kc(t){return t?parseInt(t):1}function Ule(t){var e=t.match(Nle);if(!e)return NaN;var n=gb(e[1]),r=gb(e[2]),i=gb(e[3]);return zle(n,r,i)?n*YT+r*GT+i*1e3:NaN}function gb(t){return t&&parseFloat(t.replace(",","."))||0}function Vle(t){if(t==="Z")return 0;var e=t.match(Mle);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Gle(r,i)?n*(r*YT+i*GT):NaN}function Ble(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var jle=[31,null,31,30,31,30,31,31,30,31,30,31];function PL(t){return t%400===0||t%4===0&&t%100!==0}function Hle(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(jle[e]||(PL(t)?29:28))}function Wle(t,e){return e>=1&&e<=(PL(t)?366:365)}function Kle(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function zle(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Gle(t,e){return e>=0&&e<=59}function kL(t,e){We(2,arguments);var n=Ze(t),r=nt(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Aae(o);return n.setMonth(r,Math.min(s,a)),n}function yn(t,e){if(We(2,arguments),Wi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=Ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=kL(n,e.month)),e.date!=null&&n.setDate(nt(e.date)),e.hours!=null&&n.setHours(nt(e.hours)),e.minutes!=null&&n.setMinutes(nt(e.minutes)),e.seconds!=null&&n.setSeconds(nt(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(nt(e.milliseconds)),n)}function xL(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setHours(r),n}function JT(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setMilliseconds(r),n}function DL(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setMinutes(r),n}function ZT(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setSeconds(r),n}function Os(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function cc(t,e){We(2,arguments);var n=nt(e);return os(t,-n)}function Yle(t,e){if(We(2,arguments),!e||Wi(e)!=="object")return new Date(NaN);var n=e.years?nt(e.years):0,r=e.months?nt(e.months):0,i=e.weeks?nt(e.weeks):0,s=e.days?nt(e.days):0,o=e.hours?nt(e.hours):0,a=e.minutes?nt(e.minutes):0,l=e.seconds?nt(e.seconds):0,u=cc(t,r+n*12),c=xle(u,s+i*7),d=a+o*60,f=l+d*60,h=f*1e3,p=new Date(c.getTime()-h);return p}function RL(t,e){We(2,arguments);var n=nt(e);return zT(t,-n)}function Oc(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),K("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Oc.compatConfig={MODE:3};function NL(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),K("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}NL.compatConfig={MODE:3};function eS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}eS.compatConfig={MODE:3};function tS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}tS.compatConfig={MODE:3};function nS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),K("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}nS.compatConfig={MODE:3};function rS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}rS.compatConfig={MODE:3};function iS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}iS.compatConfig={MODE:3};function sS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ML={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(ML);var qle=ML.exports,Lw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Lw,Lw.exports);var Xle=Lw.exports;const Qle=sS(Xle);var Fw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Fw,Fw.exports);var Jle=Fw.exports;const xA=sS(Jle);function Zle(t,e){var n=rue(e);return n.formatToParts?tue(n,t):nue(n,t)}var eue={year:0,month:1,day:2,hour:3,minute:4,second:5};function tue(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=eue[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function nue(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var vb={};function rue(t){if(!vb[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";vb[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return vb[t]}function oS(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var DA=36e5,iue=6e4,yb={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function aS(t,e,n){var r,i;if(t===""||(r=yb.timezoneZ.exec(t),r))return 0;var s;if(r=yb.timezoneHH.exec(t),r)return s=parseInt(r[1],10),RA(s)?-(s*DA):NaN;if(r=yb.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return RA(s,o)?(i=Math.abs(s)*DA+o*iue,s>0?-i:i):NaN}if(aue(t)){e=new Date(e||Date.now());var a=n?e:sue(e),l=Uw(a,t),u=n?l:oue(e,l,t);return-u}return NaN}function sue(t){return oS(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Uw(t,e){var n=Zle(t,e),r=oS(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function oue(t,e,n){var r=t.getTime(),i=r-e,s=Uw(new Date(i),n);if(e===s)return e;i-=s-e;var o=Uw(new Date(i),n);return s===o?s:Math.max(s,o)}function RA(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var NA={};function aue(t){if(NA[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),NA[t]=!0,!0}catch{return!1}}var $L=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,bb=36e5,MA=6e4,lue=2,Xr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:$L};function Vw(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?lue:Qle(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=uue(t),s=cue(i.date,r),o=s.year,a=s.restDateString,l=due(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=fue(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=aS(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=xA(new Date(u+c)),d=xA(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function uue(t){var e={},n=Xr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Xr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Xr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function cue(t,e){var n=Xr.YYY[e],r=Xr.YYYYY[e],i;if(i=Xr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Xr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function due(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Xr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,LA(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Xr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return mue(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Xr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return LA(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Xr.Www.exec(t),n)return s=parseInt(n[1],10)-1,FA(e,s)?$A(e,s):new Date(NaN);if(n=Xr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return FA(e,s,l)?$A(e,s,l):new Date(NaN)}return null}function fue(t){var e,n,r;if(e=Xr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),wb(n)?n%24*bb:NaN;if(e=Xr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),wb(n,r)?n%24*bb+r*MA:NaN;if(e=Xr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return wb(n,r,i)?n%24*bb+r*MA+i*1e3:NaN}return null}function $A(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var hue=[31,28,31,30,31,30,31,31,30,31,30,31],pue=[31,29,31,30,31,30,31,31,30,31,30,31];function LL(t){return t%400===0||t%4===0&&t%100!==0}function LA(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=LL(t);if(r&&n>pue[e]||!r&&n>hue[e])return!1}return!0}function mue(t,e){if(e<1)return!1;var n=LL(t);return!(n&&e>366||!n&&e>365)}function FA(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function wb(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Bw={exports:{}},jw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(jw,jw.exports);var gue=jw.exports;(function(t,e){var n=qle.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(gue);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Bw,Bw.exports);var vue=Bw.exports;const yue=sS(vue);function bue(t,e,n){var r=Vw(t,n),i=aS(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function wue(t,e,n){if(typeof t=="string"&&!t.match($L)){var r=yue(n);return r.timeZone=e,Vw(t,r)}var i=Vw(t,n),s=oS(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=aS(e,new Date(s));return new Date(s+o)}function UA(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function _ue(t){return e=>Jo(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Tue=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(_ue(t))}catch{i=r.map(UA(e))}else i=r.map(UA(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},lS=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},FL=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=Jo(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},Sue=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],nr=t=>{const e=P(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},Eue=t=>Object.assign({type:"dot"},t),UL=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,hg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},lr=t=>t,VA=t=>t===0?t:!t||isNaN(+t)?null:+t,BA=t=>t===null,Iue=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Cue=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Lf=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},dc=(t,e)=>Cue(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),Zo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},Oue=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Aue(t,e){let n=[...document.querySelectorAll(Oue())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const Pue=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},jA=(t,e,n,r,i)=>{const s=$w(t,e.slice(0,t.length),new Date);return Ud(s)&&hL(s)?r||i?s:yn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},kue=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return jA(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=jA(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},_e=t=>t?new Date(t):new Date,xue=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},jr=t=>{let e=_e(JSON.parse(JSON.stringify(t)));return e=xL(e,0),e=DL(e,0),e=ZT(e,0),e=JT(e,0),e},ea=(t,e,n,r)=>{let i=t?_e(t):_e();return(e||e===0)&&(i=xL(i,+e)),(n||n===0)&&(i=DL(i,+n)),(r||r===0)&&(i=ZT(i,+r)),JT(i,0)},Er=(t,e)=>!t||!e?!1:$f(jr(t),jr(e)),Gt=(t,e)=>!t||!e?!1:gu(jr(t),jr(e)),Lr=(t,e)=>!t||!e?!1:Mf(jr(t),jr(e)),Bv=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Lr(n,t[0])&&Er(n,t[1]):t!=null&&t[0]&&e?Lr(n,t[0])&&Er(n,e)||Er(n,t[0])&&Lr(n,e):!1,ts=t=>{const e=yn(new Date(t),{date:1});return jr(e)},_b=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Qa=t=>({hours:as(t),minutes:Rs(t),seconds:uc(t)}),VL=(t,e)=>{if(e){const n=bt(_e(e));if(n>t)return 12;if(n===t)return $t(_e(e))}},BL=(t,e)=>{if(e){const n=bt(_e(e));return n<t?-1:n===t?$t(_e(e)):void 0}},fc=t=>{if(t)return bt(_e(t))},ls=(t,e)=>e?bue(t,e):t,jL=(t,e)=>e?wue(t,e):t,Due=t=>t instanceof Date?t:Dle(t),HL=(t,e)=>{const n=Lr(t,e)?e:t,r=Lr(e,t)?e:t;return pL({start:n,end:r})},Rue=t=>{const e=os(t,1);return{month:$t(e),year:bt(e)}},Qp=(t,e,n)=>{const r=_l(ls(t,e),{weekStartsOn:+n}),i=Eoe(ls(t,e),{weekStartsOn:+n});return[r,i]},WL=(t,e)=>{const n={hours:as(_e()),minutes:Rs(_e()),seconds:e?uc(_e()):0};return Object.assign(n,t)},Wo=(t,e,n)=>[yn(_e(t),{date:1}),yn(_e(),{month:e,year:n,date:1})],Xs=(t,e,n)=>{let r=t?_e(t):_e();return(e||e===0)&&(r=kL(r,e)),n&&(r=Os(r,n)),r},KL=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?os(t,1):cc(t,1),o=[$t(s),bt(s)];return i?!Mue(...o,e):!Nue(...o,n)},Nue=(t,e,n)=>Er(...Wo(n,t,e))||Gt(...Wo(n,t,e)),Mue=(t,e,n)=>Lr(...Wo(n,t,e))||Gt(...Wo(n,t,e)),zL=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Jo(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?Jo(t[1],s,a):""}`:Jo(t,s,a)},Xl=t=>{if(t)return null;throw new Error(hg.prop("partial-range"))},Ip=(t,e)=>{if(e)return t();throw new Error(hg.prop("range"))},Hw=t=>Array.isArray(t)?Ud(t[0])&&(t[1]?Ud(t[1]):!0):t?Ud(t):!1,$ue=(t,e)=>yn(e??_e(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Tb=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?$f(t,e):Mf(t,e),s={seconds:0,milliseconds:0};return i||gu(yn(t,s),yn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Sb=(t,e,n)=>t?$ue(t,e):_e(n??e),HA=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Sb(t,r[0],e),a=Sb(t,r[1],e);return Tb(r[0],o,n,!!e)&&Tb(r[1],a,n,!!e)&&i}const s=Sb(t,r,e);return Tb(r,s,n,!!e)&&i},Eb=t=>yn(_e(),Qa(t)),Lue=(t,e)=>Array.isArray(t)?t.map(n=>_e(n)).filter(n=>bt(_e(n))===e).map(n=>$t(n)):[],GL=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),uS=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),zc=Dn({menuFocused:!1,shiftKeyInMenu:!1}),YL=()=>{const t=n=>{zc.menuFocused=n},e=n=>{zc.shiftKeyInMenu!==n&&(zc.shiftKeyInMenu=n)};return{control:ee(()=>({shiftKeyInMenu:zc.shiftKeyInMenu,menuFocused:zc.menuFocused})),setMenuFocused:t,setShiftKey:e}},hn=Dn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Ib=se(null),Cp=se(!1),Cb=se(!1),Ob=se(!1),Ab=se(!1),zr=se(0),vr=se(0),va=()=>{const t=ee(()=>Cp.value?[...hn.selectionGrid,hn.actionRow].filter(d=>d.length):Cb.value?[...hn.timePicker[0],...hn.timePicker[1],Ab.value?[]:[Ib.value],hn.actionRow].filter(d=>d.length):Ob.value?[...hn.monthPicker,hn.actionRow]:[hn.monthYear,...hn.calendar,hn.time,hn.actionRow].filter(d=>d.length)),e=d=>{zr.value=d?zr.value+1:zr.value-1;let f=null;t.value[vr.value]&&(f=t.value[vr.value][zr.value]),f||(zr.value=d?zr.value-1:zr.value+1)},n=d=>{vr.value===0&&!d||vr.value===t.value.length&&d||(vr.value=d?vr.value+1:vr.value-1,t.value[vr.value]?t.value[vr.value]&&!t.value[vr.value][zr.value]&&zr.value!==0&&(zr.value=t.value[vr.value].length-1):vr.value=d?vr.value-1:vr.value+1)},r=d=>{let f=null;t.value[vr.value]&&(f=t.value[vr.value][zr.value]),f?f.focus({preventScroll:!Cp.value}):zr.value=d?zr.value-1:zr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,f)=>{hn[f]=d},u=(d,f)=>{hn[f]=d},c=()=>{zr.value=0,vr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{Ib.value=d},setSelectionGrid:d=>{Cp.value=d,c(),d||(hn.selectionGrid=[])},setTimePicker:(d,f=!1)=>{Cb.value=d,Ab.value=f,c(),d||(hn.timePicker[0]=[],hn.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{hn.timePicker[f]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{hn.monthYear=[],hn.calendar=[],hn.time=[],hn.actionRow=[],hn.selectionGrid=[],hn.timePicker[0]=[],hn.timePicker[1]=[],Cp.value=!1,Cb.value=!1,Ab.value=!1,Ob.value=!1,c(),Ib.value=null},setMonthPicker:d=>{Ob.value=d,c()},refSets:hn}},WA=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Fue=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),KA=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Uue=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:KA(!1)};const r=e?t:{},i=e?r.count??!0:t,s=KA(i);return Object.assign(n,r,{count:s})},Vue=(t,e,n)=>t||(typeof n=="string"?n:e),Bue=t=>typeof t=="boolean"?t?WA({}):!1:WA(t),jue=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},Hue=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Wue=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Kue=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},zue=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),Gue=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>_e(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},Yue=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},Kn=t=>{const e=()=>{const y=t.enableSeconds?":ss":"";return t.is24?`HH:mm${y}`:`hh:mm${y} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=y=>WL(y,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ee(()=>Uue(t.multiCalendars)),o=ee(()=>i()),a=ee(()=>Fue(t.ariaLabels)),l=ee(()=>Hue(t.filters)),u=ee(()=>Bue(t.transitions)),c=ee(()=>Wue(t.actionRow)),d=ee(()=>Vue(t.previewFormat,t.format,n())),f=ee(()=>jue(t.textInput)),h=ee(()=>Kue(t.inline)),p=ee(()=>zue(t.config)),m=ee(()=>Gue(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),g=ee(()=>Yue(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:h,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:g,getDefaultPattern:n,getDefaultStartTime:i}},que=(t,e,n)=>{const r=se(),{defaultedTextInput:i,getDefaultPattern:s}=Kn(e),o=se(""),a=Fu(e,"format");It(r,()=>{t("internal-model-change",r.value)}),It(a,()=>{k()});const l=O=>jL(O,e.timezone),u=O=>ls(O,e.timezone),c=(O,J,te=!1)=>zL(O,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,J??s(),te),d=O=>O?e.modelType?D(O):{hours:as(O),minutes:Rs(O),seconds:e.enableSeconds?uc(O):0}:null,f=O=>e.modelType?D(O):{month:$t(O),year:bt(O)},h=O=>Array.isArray(O)?e.multiDates?O.map(J=>p(J,Os(_e(),J))):Ip(()=>[Os(_e(),O[0]),O[1]?Os(_e(),O[1]):Xl(e.partialRange)],e.range):Os(_e(),+O),p=(O,J)=>(typeof O=="string"||typeof O=="number")&&e.modelType?R(O):J,m=O=>Array.isArray(O)?[p(O[0],ea(null,+O[0].hours,+O[0].minutes,O[0].seconds)),p(O[1],ea(null,+O[1].hours,+O[1].minutes,O[1].seconds))]:p(O,ea(null,O.hours,O.minutes,O.seconds)),g=O=>Array.isArray(O)?e.multiDates?O.map(J=>p(J,Xs(null,+J.month,+J.year))):Ip(()=>[p(O[0],Xs(null,+O[0].month,+O[0].year)),p(O[1],O[1]?Xs(null,+O[1].month,+O[1].year):Xl(e.partialRange))],e.range):p(O,Xs(null,+O.month,+O.year)),y=O=>{if(Array.isArray(O))return O.map(J=>R(J));throw new Error(hg.dateArr("multi-dates"))},v=O=>{if(Array.isArray(O))return[_e(O[0]),_e(O[1])];throw new Error(hg.dateArr("week-picker"))},_=O=>e.modelAuto?Array.isArray(O)?[R(O[0]),R(O[1])]:e.autoApply?[R(O)]:[R(O),null]:Array.isArray(O)?Ip(()=>[R(O[0]),O[1]?R(O[1]):Xl(e.partialRange)],e.range):R(O),b=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(Xl(e.partialRange))},w=()=>{const O=r.value;return[D(O[0]),O[1]?D(O[1]):Xl(e.partialRange)]},T=()=>r.value[1]?w():D(lr(r.value[0])),x=()=>(r.value||[]).map(O=>D(O)),C=()=>(b(),e.modelAuto?T():e.multiDates?x():Array.isArray(r.value)?Ip(()=>w(),e.range):D(lr(r.value))),I=O=>!O||Array.isArray(O)&&!O.length?null:e.timePicker?m(lr(O)):e.monthPicker?g(lr(O)):e.yearPicker?h(lr(O)):e.multiDates?y(lr(O)):e.weekPicker?v(lr(O)):_(lr(O)),E=O=>{const J=I(O);Hw(lr(J))?(r.value=lr(J),k()):(r.value=null,o.value="")},M=()=>{const O=J=>Jo(J,i.value.format);return`${O(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?O(r.value[1]):""}`},F=()=>n.value&&r.value?Array.isArray(r.value)?M():Jo(r.value,i.value.format):c(r.value),N=()=>r.value?e.multiDates?r.value.map(O=>c(O)).join("; "):i.value.enabled&&typeof i.value.format=="string"?F():c(r.value):"",k=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=N():o.value=e.format(r.value)},R=O=>{if(e.utc){const J=new Date(O);return e.utc==="preserve"?new Date(J.getTime()+J.getTimezoneOffset()*6e4):J}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(O)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?$w(O,s(),new Date):u($w(O,e.modelType,new Date)):u(new Date(O))},D=O=>O?e.utc?xue(O,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(O):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(O)):c(l(O),e.modelType,!0):l(O):"",B=(O,J=!1)=>{if(t("update:model-value",O),e.emitTimezone&&J){const te=Array.isArray(O)?O.map(ge=>ls(lr(ge)),e.emitTimezone):ls(lr(O),e.emitTimezone);t("update:model-timezone-value",te)}},Y=O=>Array.isArray(r.value)?e.multiDates?r.value.map(J=>O(J)):[O(r.value[0]),r.value[1]?O(r.value[1]):Xl(e.partialRange)]:O(lr(r.value)),L=O=>B(lr(Y(O)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:E,formatInputValue:k,emitModelValue:()=>(k(),e.monthPicker?L(f):e.timePicker?L(d):e.yearPicker?L(bt):e.weekPicker?B(r.value.map(O=>D(O)),!0):B(C(),!0))}},Xue=(t,e)=>{const{defaultedFilters:n}=Kn(t),{validateMonthYearInRange:r}=Ll(t),i=(u,c)=>{let d=u;return n.value.months.includes($t(d))?(d=c?os(u,1):cc(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(bt(d))?(d=c?zT(u,1):RL(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=yn(new Date,{month:t.month,year:t.year});let f=u?os(d,1):cc(d,1);t.disableYearSelect&&(f=Os(f,t.year));let h=$t(f),p=bt(f);n.value.months.includes(h)&&(f=i(f,u),h=$t(f),p=bt(f)),n.value.years.includes(p)&&(f=s(f,u),p=bt(f)),r(h,p,u,t.preventMinMaxNavigation)&&a(h,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=ee(()=>u=>KL(yn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var su=(t=>(t.center="center",t.left="left",t.right="right",t))(su||{}),qi=(t=>(t.month="month",t.year="year",t))(qi||{}),ka=(t=>(t.top="top",t.bottom="bottom",t))(ka||{}),Ja=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ja||{}),vs=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(vs||{});const Que=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=se({}),u=se(!1),c=se({top:"0",left:"0"}),d=se(!1),f=Fu(o,"teleportCenter");It(f,()=>{c.value=JSON.parse(JSON.stringify({})),b()});const h=R=>{if(o.teleport){const D=R.getBoundingClientRect();return{left:D.left+window.scrollX,top:D.top+window.scrollY}}return{top:0,left:0}},p=(R,D)=>{c.value.left=`${R+D-l.value.width}px`},m=R=>{c.value.left=`${R}px`},g=(R,D)=>{o.position===su.left&&m(R),o.position===su.right&&p(R,D),o.position===su.center&&(c.value.left=`${R+D/2-l.value.width/2}px`)},y=R=>{const{width:D,height:B}=R.getBoundingClientRect(),{top:Y,left:L}=o.altPosition?o.altPosition(R):h(R);return{top:+Y,left:+L,width:D,height:B}},v=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},_=()=>{const R=nr(n),{top:D,left:B,transform:Y}=o.altPosition(R);c.value={top:`${D}px`,left:`${B}px`,transform:Y??""}},b=(R=!0)=>{var D;if(!i.value.enabled){if(f.value)return v();if(o.altPosition!==null)return _();if(R){const B=o.teleport?(D=e.value)==null?void 0:D.$el:t.value;B&&(l.value=B.getBoundingClientRect()),s("recalculate-position")}return M()}},w=({inputEl:R,left:D,width:B})=>{window.screen.width>768&&!u.value&&g(D,B),C(R)},T=R=>{const{top:D,left:B,height:Y,width:L}=y(R);c.value.top=`${Y+D+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${B+L/2-l.value.width/2}px`),w({inputEl:R,left:B,width:L})},x=R=>{const{top:D,left:B,width:Y}=y(R);c.value.top=`${D-+o.offset-l.value.height}px`,d.value=!0,w({inputEl:R,left:B,width:Y})},C=R=>{if(o.autoPosition){const{left:D,width:B}=y(R),{left:Y,right:L}=l.value;if(!u.value){if(Math.abs(Y)!==Math.abs(L)){if(Y<=0)return u.value=!0,m(D);if(L>=document.documentElement.clientWidth)return u.value=!0,p(D,B)}return g(D,B)}}},I=()=>{const R=nr(n);if(R){const{height:D}=l.value,{top:B,height:Y}=R.getBoundingClientRect(),L=window.innerHeight-B-Y,O=B;return D<=L?ka.bottom:D>L&&D<=O?ka.top:L>=O?ka.bottom:ka.top}return ka.bottom},E=R=>I()===ka.bottom?T(R):x(R),M=()=>{const R=nr(n);if(R)return o.autoPosition?E(R):T(R)},F=function(R){if(R){const D=R.scrollHeight>R.clientHeight,B=window.getComputedStyle(R).overflowY.indexOf("hidden")!==-1;return D&&!B}return!0},N=function(R){return!R||R===document.body||R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:F(R)?R:N(R.parentNode)},k=R=>{if(R)switch(o.position){case su.left:return{left:0,transform:"translateX(0)"};case su.right:return{left:`${R.width}px`,transform:"translateX(-100%)"};default:return{left:`${R.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:b,getScrollableParent:N,shadowRender:(R,D)=>{var B,Y,L;const O=document.createElement("div"),J=(B=nr(n))==null?void 0:B.getBoundingClientRect();O.setAttribute("id","dp--temp-container");const te=(Y=r.value)!=null&&Y.clientWidth?r.value:document.body;te.append(O);const ge=k(J),ve=il(R,{...D,shadow:!0,style:{opacity:0,position:"absolute",...ge}},Object.fromEntries(Object.keys(a).filter(ne=>["right-sidebar","left-sidebar"].includes(ne)).map(ne=>[ne,a[ne]])));sl(ve,O),l.value=(L=ve.el)==null?void 0:L.getBoundingClientRect(),sl(null,O),te.removeChild(O)}}},Io=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Jue=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Zue={all:()=>Io,monthYear:()=>Io.filter(t=>t.use.includes("month-year")),input:()=>Jue,timePicker:()=>Io.filter(t=>t.use.includes("time")),action:()=>Io.filter(t=>t.use.includes("action")),calendar:()=>Io.filter(t=>t.use.includes("calendar")),menu:()=>Io.filter(t=>t.use.includes("menu")),shared:()=>Io.filter(t=>t.use.includes("shared")),yearMode:()=>Io.filter(t=>t.use.includes("year-mode"))},Ei=(t,e,n)=>{const r=[];return Zue[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},kh=t=>{const e=ee(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ee(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},xh=(t,e)=>{const n=_e(ls(new Date,t.timezone)),r=se([{month:$t(n),year:bt(n)}]),i=Dn({hours:t.range?[as(n),as(n)]:as(n),minutes:t.range?[Rs(n),Rs(n)]:Rs(n),seconds:t.range?[0,0]:0}),s=ee({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ee(()=>l=>r.value[l]?r.value[l].month:0),a=ee(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},ece=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Kn(e),{isDisabled:i,matchDate:s}=Ll(e),o=se(null),a=se(_e(ls(new Date,e.timezone))),l=L=>{!L.current&&e.hideOffsetDates||(o.value=L.value)},u=()=>{o.value=null},c=L=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?L?Lr(o.value,t.value[0]):Er(o.value,t.value[0]):!0,d=(L,O)=>{const J=()=>t.value?O?t.value[0]||null:t.value[1]:null,te=t.value&&Array.isArray(t.value)?J():null;return Gt(_e(L.value),te)},f=L=>{const O=Array.isArray(t.value)?t.value[0]:null;return L?!Er(o.value??null,O):!0},h=(L,O=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!L.current?!1:Gt(_e(L.value),t.value[O?0:1]):e.range?d(L,O)&&f(O)||Gt(L.value,Array.isArray(t.value)?t.value[0]:null)&&c(O):!1,p=(L,O,J)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?L?!1:J?Lr(t.value[0],O.value):Er(t.value[0],O.value):!1,m=L=>!t.value||e.hideOffsetDates&&!L.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Gt(L.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(O=>Gt(O,L.value)):Gt(L.value,t.value?t.value:a.value),g=L=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!L.current)return!1;const O=Ks(o.value,+e.autoRange),J=Qp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Gt(J[1],_e(L.value)):Gt(O,_e(L.value))}return!1}return!1},y=L=>{if(e.autoRange||e.weekPicker){if(o.value){const O=Ks(o.value,+e.autoRange);if(e.hideOffsetDates&&!L.current)return!1;const J=Qp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Lr(L.value,J[0])&&Er(L.value,J[1]):Lr(L.value,o.value)&&Er(L.value,O)}return!1}return!1},v=L=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!L.current)return!1;const O=Qp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Gt(O[0],L.value):Gt(o.value,L.value)}return!1}return!1},_=L=>Bv(t.value,o.value,L.value),b=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,w=()=>e.modelAuto?UL(e.internalModelValue):!0,T=L=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const O=e.range?!h(L)&&!h(L,!1):!0;return!i(L.value)&&!m(L)&&!(!L.current&&e.hideOffsetDates)&&O},x=L=>e.range?e.modelAuto?b()&&m(L):!1:m(L),C=L=>{var O;return r.value?typeof r.value=="function"?r.value(L.value):s(L.value,(O=e.arrMapValues)!=null&&O.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},I=L=>{const O=i(L.value);return O&&(typeof r.value=="function"?!r.value(L.value,O):!r.value.options.highlightDisabled)},E=L=>{var O;return typeof r.value=="function"?r.value(L.value):(O=r.value.weekdays)==null?void 0:O.includes(L.value.getDay())},M=L=>(e.range||e.weekPicker)&&(!(n.value.count>0)||L.current)&&w()&&!(!L.current&&e.hideOffsetDates)&&!m(L)?_(L):!1,F=L=>{const{isRangeStart:O,isRangeEnd:J}=R(L),te=e.range?O||J:!1;return{dp__cell_offset:!L.current,dp__pointer:!e.disabled&&!(!L.current&&e.hideOffsetDates)&&!i(L.value),dp__cell_disabled:i(L.value),dp__cell_highlight:!I(L)&&(C(L)||E(L))&&!x(L)&&!te&&!v(L)&&!(M(L)&&e.weekPicker)&&!J,dp__cell_highlight_active:!I(L)&&(C(L)||E(L))&&x(L),dp__today:!e.noToday&&Gt(L.value,a.value)&&L.current}},N=L=>({dp__active_date:x(L),dp__date_hover:T(L)}),k=L=>({...D(L),...B(L),dp__range_between_week:M(L)&&e.weekPicker}),R=L=>{const O=n.value.count>0?L.current&&h(L)&&w():h(L)&&w(),J=n.value.count>0?L.current&&h(L,!1)&&w():h(L,!1)&&w();return{isRangeStart:O,isRangeEnd:J}},D=L=>{const{isRangeStart:O,isRangeEnd:J}=R(L);return{dp__range_start:O,dp__range_end:J,dp__range_between:M(L)&&!e.weekPicker,dp__date_hover_start:p(T(L),L,!0),dp__date_hover_end:p(T(L),L,!1)}},B=L=>({...D(L),dp__cell_auto_range:y(L),dp__cell_auto_range_start:v(L),dp__cell_auto_range_end:g(L)}),Y=L=>e.range?e.autoRange?B(L):e.modelAuto?{...N(L),...D(L)}:D(L):e.weekPicker?k(L):N(L);return{setHoverDate:l,clearHoverDate:u,getDayClassData:L=>e.hideOffsetDates&&!L.current?{}:{...F(L),...Y(L),[e.dayClass?e.dayClass(L.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ll=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Kn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=E=>{const M=jr(s(_e(E))).toISOString(),[F]=M.split("T");return F},s=E=>t.utc==="preserve"?jL(E,r()):ls(E,r()),o=E=>{var M;const F=t.maxDate?Lr(E,s(_e(t.maxDate))):!1,N=t.minDate?Er(E,s(_e(t.minDate))):!1,k=c(s(E),(M=t.arrMapValues)!=null&&M.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),R=e.value.months.map(O=>+O).includes($t(E)),D=t.disabledWeekDays.length?t.disabledWeekDays.some(O=>+O===Oae(E)):!1,B=f(E),Y=bt(E),L=Y<+t.yearRange[0]||Y>+t.yearRange[1];return!(F||N||k||R||L||D||B)},a=(E,M)=>Er(...Wo(t.minDate,E,M))||Gt(...Wo(t.minDate,E,M)),l=(E,M)=>Lr(...Wo(t.maxDate,E,M))||Gt(...Wo(t.maxDate,E,M)),u=(E,M,F)=>{let N=!1;return t.maxDate&&F&&l(E,M)&&(N=!0),t.minDate&&!F&&a(E,M)&&(N=!0),N},c=(E,M)=>E?M instanceof Map?!!M.get(i(E)):Array.isArray(M)?M.some(F=>Gt(s(_e(F)),E)):M?M(_e(JSON.parse(JSON.stringify(E)))):!1:!0,d=(E,M,F,N)=>{let k=!1;return N?t.minDate&&t.maxDate?k=u(E,M,F):(t.minDate&&a(E,M)||t.maxDate&&l(E,M))&&(k=!0):k=!0,k},f=E=>{var M,F,N,k,R;return Array.isArray(t.allowedDates)&&!((M=t.allowedDates)!=null&&M.length)?!0:(F=t.arrMapValues)!=null&&F.allowedDates?!c(E,(N=t.arrMapValues)==null?void 0:N.allowedDates):(k=t.allowedDates)!=null&&k.length?!((R=t.allowedDates)!=null&&R.some(D=>Gt(jr(D),s(jr(E))))):!1},h=E=>!o(E),p=E=>t.noDisabledRange?!pL({start:E[0],end:E[1]}).some(M=>h(M)):!0,m=(E,M,F=0)=>{if(Array.isArray(M)&&M[F]){const N=yoe(E,M[F]),k=HL(M[F],E),R=k.length===1?0:k.filter(B=>h(B)).length,D=Math.abs(N)-R;if(t.minRange&&t.maxRange)return D>=+t.minRange&&D<=+t.maxRange;if(t.minRange)return D>=+t.minRange;if(t.maxRange)return D<=+t.maxRange}return!0},g=E=>new Map(E.map(M=>[i(M),!0])),y=E=>Array.isArray(E)&&E.length>0,v=()=>{const E={disabledDates:null,allowedDates:null,highlightedDates:null};return y(t.allowedDates)&&(E.allowedDates=g(t.allowedDates)),typeof n.value!="function"&&y(n.value.dates)&&(E.highlightedDates=g(n.value.dates)),y(t.disabledDates)&&(E.disabledDates=g(t.disabledDates)),E},_=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,b=E=>Array.isArray(E)?[E[0]?Eb(E[0]):null,E[1]?Eb(E[1]):null]:Eb(E),w=(E,M,F)=>E.find(N=>+N.hours===as(M)&&N.minutes==="*"?!0:+N.minutes===Rs(M)&&+N.hours===as(M))&&F,T=(E,M,F)=>{const[N,k]=E,[R,D]=M;return!w(N,R,F)&&!w(k,D,F)&&F},x=(E,M)=>{const F=Array.isArray(M)?M:[M];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?T(t.disabledTimes,F,E):!F.some(N=>w(t.disabledTimes,N,E)):E},C=(E,M)=>{const F=Array.isArray(M)?[Qa(M[0]),M[1]?Qa(M[1]):void 0]:Qa(M),N=!t.disabledTimes(F);return E&&N},I=(E,M)=>t.disabledTimes?Array.isArray(t.disabledTimes)?x(M,E):C(M,E):M;return{isDisabled:h,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:m,matchDate:c,mapDatesArrToMap:v,isValidTime:E=>{let M=!0;if(!E||_())return!0;const F=!t.minDate&&!t.maxDate?b(E):E;return(t.maxTime||t.maxDate)&&(M=HA(t.maxTime,t.maxDate,"max",lr(F),M)),(t.minTime||t.minDate)&&(M=HA(t.minTime,t.minDate,"min",lr(F),M)),I(E,M)}}},jv=()=>{const t=ee(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ee(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ee(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},tce=(t,e,n)=>{const r=se(0),i=Dn({[Ja.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ja.calendar]:!1,[Ja.header]:!1}),s=ee(()=>t.monthPicker),o=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(h=>!i[h]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,f,...h)=>{t.flow[r.value]===d&&n.value&&n.value[f](...h)},c=()=>{u(vs.month,"toggleMonthPicker",!0),u(vs.year,"toggleYearPicker",!0),u(vs.calendar,"toggleTimePicker",!1,!0),u(vs.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===vs.hours||d===vs.minutes||d===vs.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},Hv={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},ps={...Hv,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},nce={key:1,class:"dp__input_wrap"},rce=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],ice={key:2,class:"dp__clear_icon"},sce=Pe({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Hv},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Kn(i),{checkMinMaxRange:d}=Ll(i),f=se(),h=se(null),p=se(!1),m=se(!1),g=ee(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:p.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),y=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},v=k=>{const R=c();return kue(k,s.value.format??u(),R??WL({},i.enableSeconds),i.inputValue,m.value)},_=k=>{const{rangeSeparator:R}=s.value,[D,B]=k.split(`${R}`);if(D){const Y=v(D.trim()),L=B?v(B.trim()):null,O=Y&&L?[Y,L]:[Y];d(L,O,0)&&(f.value=Y?O:null)}},b=()=>{m.value=!0},w=k=>{if(i.range)_(k);else if(i.multiDates){const R=k.split(";");f.value=R.map(D=>v(D.trim())).filter(D=>D)}else f.value=v(k)},T=k=>{var R;const D=typeof k=="string"?k:(R=k.target)==null?void 0:R.value;D!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),w(D),r("set-input-date",f.value)):y(),m.value=!1,r("update:input-value",D)},x=k=>{s.value.enabled?(w(k.target.value),s.value.enterSubmit&&Hw(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):E(k)},C=k=>{s.value.enabled&&s.value.tabSubmit&&w(k.target.value),s.value.tabSubmit&&Hw(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},I=()=>{var k;p.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((k=h.value)==null||k.select())},E=k=>{k.preventDefault(),Zo(k,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},M=()=>{r("real-blur"),p.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},F=k=>{Zo(k,l.value,!0),r("clear")},N=k=>{if(!s.value.enabled){if(k.code==="Tab")return;k.preventDefault()}};return e({focusInput:()=>{var k;(k=h.value)==null||k.focus({preventScroll:!0})},setParsedDate:k=>{f.value=k}}),(k,R)=>{var D;return S(),U("div",{onClick:E},[k.$slots.trigger&&!k.$slots["dp-input"]&&!P(a).enabled?fe(k.$slots,"trigger",{key:0}):G("",!0),!k.$slots.trigger&&(!P(a).enabled||P(a).input)?(S(),U("div",nce,[k.$slots["dp-input"]&&!k.$slots.trigger&&!P(a).enabled?fe(k.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:T,onEnter:x,onTab:C,onClear:F,onBlur:M,onKeypress:N,onPaste:b,openMenu:()=>k.$emit("open"),closeMenu:()=>k.$emit("close"),toggleMenu:()=>k.$emit("toggle")}):G("",!0),k.$slots["dp-input"]?G("",!0):(S(),U("input",{key:1,id:k.uid?`dp-input-${k.uid}`:void 0,ref_key:"inputRef",ref:h,name:k.name,class:Ae(g.value),inputmode:P(s).enabled?"text":"none",placeholder:k.placeholder,disabled:k.disabled,readonly:k.readonly,required:k.required,value:t.inputValue,autocomplete:k.autocomplete,"aria-label":(D=P(o))==null?void 0:D.input,"aria-disabled":k.disabled||void 0,"aria-invalid":k.state===!1?!0:void 0,onInput:T,onKeydown:[ct(x,["enter"]),ct(C,["tab"]),N],onBlur:M,onFocus:I,onKeypress:N,onPaste:b},null,42,rce)),K("div",{onClick:R[2]||(R[2]=B=>r("toggle"))},[k.$slots["input-icon"]&&!k.hideInputIcon?(S(),U("span",{key:0,class:"dp__input_icon",onClick:R[0]||(R[0]=B=>r("toggle"))},[fe(k.$slots,"input-icon")])):G("",!0),!k.$slots["input-icon"]&&!k.hideInputIcon&&!k.$slots["dp-input"]?(S(),re(P(Oc),{key:1,class:"dp__input_icon dp__input_icons",onClick:R[1]||(R[1]=B=>r("toggle"))})):G("",!0)]),k.$slots["clear-icon"]&&t.inputValue&&k.clearable&&!k.disabled&&!k.readonly?(S(),U("span",ice,[fe(k.$slots,"clear-icon",{clear:F})])):G("",!0),k.clearable&&!k.$slots["clear-icon"]&&t.inputValue&&!k.disabled&&!k.readonly?(S(),re(P(NL),{key:3,class:"dp__clear_icon dp__input_icons",onClick:R[3]||(R[3]=St(B=>F(B),["prevent"]))})):G("",!0)])):G("",!0)])}}}),oce=["title"],ace={class:"dp__action_buttons"},lce=["disabled"],uce=Pe({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ps},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Kn(r),{isValidTime:c}=Ll(r),{buildMatrix:d}=va(),f=se(null),h=se(null);Wt(()=>{r.arrowNavigation&&d([nr(f),nr(h)],"actionRow")});const p=ee(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),m=ee(()=>!g.value||!y.value||!p.value),g=ee(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),y=ee(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(E=>!C(E)).length:C(r.internalModelValue):!0),v=()=>{const E=s.value;return r.timePicker||r.monthPicker,E(lr(r.internalModelValue))},_=()=>{const E=r.internalModelValue;return o.value.count>0?`${b(E[0])} - ${b(E[1])}`:[b(E[0]),b(E[1])]},b=E=>zL(E,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),w=ee(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?_():r.multiDates?r.internalModelValue.map(E=>`${b(E)}`):r.modelAuto?`${b(r.internalModelValue[0])}`:`${b(r.internalModelValue[0])} -`:b(r.internalModelValue):v()),T=()=>r.multiDates?"; ":" - ",x=ee(()=>Array.isArray(w.value)?w.value.join(T()):w.value),C=E=>{if(!r.monthPicker)return!0;let M=!0;const F=_e(ts(E));if(r.minDate&&r.maxDate){const N=_e(ts(r.minDate)),k=_e(ts(r.maxDate));return Lr(F,N)&&Er(F,k)||Gt(F,N)||Gt(F,k)}if(r.minDate){const N=_e(ts(r.minDate));M=Lr(F,N)||Gt(F,N)}if(r.maxDate){const N=_e(ts(r.maxDate));M=Er(F,N)||Gt(F,N)}return M},I=()=>{g.value&&y.value&&p.value?n("select-date"):n("invalid-select")};return(E,M)=>(S(),U("div",{class:"dp__action_row",style:rr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[E.$slots["action-row"]?fe(E.$slots,"action-row",xn(ie({key:0},{internalModelValue:E.internalModelValue,disabled:m.value,selectDate:()=>E.$emit("select-date"),closePicker:()=>E.$emit("close-picker")}))):(S(),U(Te,{key:1},[P(i).showPreview?(S(),U("div",{key:0,class:"dp__selection_preview",title:x.value},[E.$slots["action-preview"]?fe(E.$slots,"action-preview",{key:0,value:E.internalModelValue}):G("",!0),E.$slots["action-preview"]?G("",!0):(S(),U(Te,{key:1},[Qe(Me(x.value),1)],64))],8,oce)):G("",!0),K("div",ace,[E.$slots["action-buttons"]?fe(E.$slots,"action-buttons",{key:0,value:E.internalModelValue}):G("",!0),E.$slots["action-buttons"]?G("",!0):(S(),U(Te,{key:1},[!P(l).enabled&&P(i).showCancel?(S(),U("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[0]||(M[0]=F=>E.$emit("close-picker")),onKeydown:[M[1]||(M[1]=ct(F=>E.$emit("close-picker"),["enter"])),M[2]||(M[2]=ct(F=>E.$emit("close-picker"),["space"]))]},Me(E.cancelText),545)):G("",!0),P(i).showNow?(S(),U("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[3]||(M[3]=F=>E.$emit("select-now")),onKeydown:[M[4]||(M[4]=ct(F=>E.$emit("select-now"),["enter"])),M[5]||(M[5]=ct(F=>E.$emit("select-now"),["space"]))]},Me(E.nowButtonLabel),545)):G("",!0),P(i).showSelect?(S(),U("button",{key:2,ref_key:"selectButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_select",disabled:m.value,onKeydown:[ct(I,["enter"]),ct(I,["space"])],onClick:I},Me(E.selectText),41,lce)):G("",!0)],64))])],64))],4))}}),cce=["onKeydown"],dce={class:"dp__selection_grid_header"},fce=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],hce=["aria-label"],Dh=Pe({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=va(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Kn(a),{hideNavigationButtons:d}=jv(),f=se(!1),h=se(null),p=se(null),m=se([]),g=se(),y=se(null),v=se(0),_=se(null);m1(()=>{h.value=null}),Wt(()=>{Wn().then(()=>M()),a.noOverlayFocus||w(),b(!0)}),mo(()=>b(!1));const b=L=>{var O;a.arrowNavigation&&((O=a.headerRefs)!=null&&O.length?s(L):r(L))},w=()=>{var L;const O=nr(p);O&&(u.value.enabled||(h.value?(L=h.value)==null||L.focus({preventScroll:!0}):O.focus({preventScroll:!0})),f.value=O.clientHeight<O.scrollHeight)},T=ee(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),x=ee(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),C=ee(()=>({dp__overlay_col:!0})),I=ee(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),E=ee(()=>{var L,O;return{dp__overlay_container:!0,dp__container_flex:((L=a.items)==null?void 0:L.length)<=6,dp__container_block:((O=a.items)==null?void 0:O.length)>6}});It(()=>a.items,()=>M(),{deep:!0});const M=()=>{Wn().then(()=>{const L=nr(h),O=nr(p),J=nr(y),te=nr(_),ge=J?J.getBoundingClientRect().height:0;O&&(O.getBoundingClientRect().height?v.value=O.getBoundingClientRect().height-ge:v.value=c.value.modeHeight-ge),L&&te&&(te.scrollTop=L.offsetTop-te.offsetTop-(v.value/2-L.getBoundingClientRect().height)-ge)})},F=L=>{L.disabled||o("selected",L.value)},N=()=>{o("toggle"),o("reset-flow")},k=()=>{a.escClose&&N()},R=(L,O,J,te)=>{L&&((O.active||O.value===a.focusValue)&&(h.value=L),a.arrowNavigation&&(Array.isArray(m.value[J])?m.value[J][te]=L:m.value[J]=[L],D()))},D=()=>{var L,O;const J=(L=a.headerRefs)!=null&&L.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[y.value]]);i(lr(J),(O=a.headerRefs)!=null&&O.length?"monthPicker":"selectionGrid")},B=L=>{a.arrowNavigation||Zo(L,c.value,!0)},Y=L=>{g.value=L,o("hover-value",L)};return e({focusGrid:w}),(L,O)=>{var J;return S(),U("div",{ref_key:"gridWrapRef",ref:p,class:Ae(T.value),style:rr(x.value),role:"dialog",tabindex:"0",onKeydown:[ct(St(k,["prevent"]),["esc"]),O[0]||(O[0]=ct(St(te=>B(te),["prevent"]),["left"])),O[1]||(O[1]=ct(St(te=>B(te),["prevent"]),["up"])),O[2]||(O[2]=ct(St(te=>B(te),["prevent"]),["down"])),O[3]||(O[3]=ct(St(te=>B(te),["prevent"]),["right"]))]},[K("div",{ref_key:"containerRef",ref:_,class:Ae(E.value),role:"grid",style:rr({height:`${v.value}px`})},[K("div",dce,[fe(L.$slots,"header")]),L.$slots.overlay?fe(L.$slots,"overlay",{key:0}):(S(!0),U(Te,{key:1},st(L.items,(te,ge)=>(S(),U("div",{key:ge,class:Ae(["dp__overlay_row",{dp__flex_row:L.items.length>=3}]),role:"row"},[(S(!0),U(Te,null,st(te,(ve,ne)=>(S(),U("div",{key:ve.value,ref_for:!0,ref:j=>R(j,ve,ge,ne),role:"gridcell",class:Ae(C.value),"aria-selected":ve.active,"aria-disabled":ve.disabled||void 0,tabindex:"0",onClick:j=>F(ve),onKeydown:[ct(St(j=>F(ve),["prevent"]),["enter"]),ct(St(j=>F(ve),["prevent"]),["space"])],onMouseover:j=>Y(ve.value)},[K("div",{class:Ae(ve.className)},[L.$slots.item?fe(L.$slots,"item",{key:0,item:ve}):G("",!0),L.$slots.item?G("",!0):(S(),U(Te,{key:1},[Qe(Me(ve.text),1)],64))],2)],42,fce))),128))],2))),128))],6),L.$slots["button-icon"]?Ci((S(),U("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(J=P(l))==null?void 0:J.toggleOverlay,class:Ae(I.value),tabindex:"0",onClick:N,onKeydown:[ct(N,["enter"]),ct(N,["tab"])]},[fe(L.$slots,"button-icon")],42,hce)),[[Zs,!P(d)(L.hideNavigation,L.type)]]):G("",!0)],46,cce)}}}),Wv=Pe({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ee(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ee(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(S(),U("div",{class:Ae({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(S(!0),U(Te,null,st(n.value,(o,a)=>(S(),U("div",{key:o,class:Ae(r.value)},[fe(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),pce=["aria-label","aria-disabled"],Vd=Pe({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=se(null);return Wt(()=>n("set-ref",r)),(i,s)=>(S(),U("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=ct(St(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=ct(St(o=>i.$emit("activate"),["prevent"]),["space"]))]},[K("span",{class:Ae(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[fe(i.$slots,"default")],2)],40,pce))}}),mce={class:"dp--year-mode-picker"},gce=["aria-label"],qL=Pe({__name:"YearModePicker",props:{...ps,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=jv(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Kn(r),{showTransition:c,transitionName:d}=kh(u),f=(m=!1,g)=>{n("toggle-year-picker",{flow:m,show:g})},h=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,g)=>{var y,v,_;return S(),U("div",mce,[P(s)(P(a),t.instance)?(S(),re(Vd,{key:0,ref:"mpPrevIconRef","aria-label":(y=P(l))==null?void 0:y.prevYear,disabled:t.isDisabled(!1),onActivate:g[0]||(g[0]=b=>p(!1))},{default:ce(()=>[m.$slots["arrow-left"]?fe(m.$slots,"arrow-left",{key:0}):G("",!0),m.$slots["arrow-left"]?G("",!0):(S(),re(P(eS),{key:1}))]),_:3},8,["aria-label","disabled"])):G("",!0),K("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(v=P(l))==null?void 0:v.openYearsOverlay,onClick:g[1]||(g[1]=()=>f(!1)),onKeydown:g[2]||(g[2]=ct(()=>f(!1),["enter"]))},[m.$slots.year?fe(m.$slots,"year",{key:0,year:t.year}):G("",!0),m.$slots.year?G("",!0):(S(),U(Te,{key:1},[Qe(Me(t.year),1)],64))],40,gce),P(i)(P(a),t.instance)?(S(),re(Vd,{key:1,ref:"mpNextIconRef","aria-label":(_=P(l))==null?void 0:_.nextYear,disabled:t.isDisabled(!0),onActivate:g[3]||(g[3]=b=>p(!0))},{default:ce(()=>[m.$slots["arrow-right"]?fe(m.$slots,"arrow-right",{key:0}):G("",!0),m.$slots["arrow-right"]?G("",!0):(S(),re(P(tS),{key:1}))]),_:3},8,["aria-label","disabled"])):G("",!0),Z(Ki,{name:P(d)(t.showYearPicker),css:P(c)},{default:ce(()=>[t.showYearPicker?(S(),re(Dh,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!P(o).keepActionRow,"hide-navigation":m.hideNavigation,type:"year",onToggle:f,onSelected:g[4]||(g[4]=b=>h(b))},Jn({"button-icon":ce(()=>[m.$slots["calendar-icon"]?fe(m.$slots,"calendar-icon",{key:0}):G("",!0),m.$slots["calendar-icon"]?G("",!0):(S(),re(P(Oc),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ce(({item:b})=>[fe(m.$slots,"year-overlay-value",{text:b.text,value:b.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):G("",!0)]),_:3},8,["name","css"])])}}}),cS=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Gt(t,r))){const r=e.value.filter(i=>!Gt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},dS=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Er(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Kv=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},XL=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>ls(_e(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=ls(_e(t.value),t.timezone))},QL=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ee(()=>lS(i.yearRange,i.reverseYears)),u=se([!1]),c=ee(()=>(b,w)=>{const T=yn(ts(new Date),{month:o.value(b),year:s.value(b)});return KL(T,i.maxDate,i.minDate,i.preventMinMaxNavigation,w)}),d=()=>{for(let b=0;b<t.value.count;b++)if(b===0)n.value[b]=n.value[0];else{const w=yn(_e(),n.value[b-1]);n.value[b]={month:$t(w),year:bt(zT(w,1))}}},f=b=>{if(!b)return d();const w=yn(_e(),n.value[b]);return n.value[0].year=bt(RL(w,t.value.count-1)),d()},h=b=>i.focusStartDate?b[0]:b[1]?b[1]:b[0],p=()=>{if(r.value){const b=Array.isArray(r.value)?h(r.value):r.value;n.value[0]={month:$t(b),year:bt(b)}}};Wt(()=>{p(),t.value.count&&d()});const m=(b,w)=>{n.value[w].year=b,t.value.count&&!t.value.solo&&f(w)},g=ee(()=>b=>dc(l.value,w=>{const T=s.value(b)===w.value,x=Lf(w.value,fc(i.minDate),fc(i.maxDate)),C=uS(e.value,w.value);return{active:T,disabled:x,highlighted:C}})),y=(b,w)=>{m(b,w),_(w)},v=(b,w=!1)=>{if(!c.value(b,w)){const T=w?s.value(b)+1:s.value(b)-1;m(T,b)}},_=(b,w=!1,T)=>{w||a("reset-flow"),T!==void 0?u.value[b]=T:u.value[b]=!u.value[b],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:g,showYearPicker:u,selectYear:m,toggleYearPicker:_,handleYearSelect:y,handleYear:v}},vce=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Kn(t),{modelValue:a,year:l,month:u,calendars:c}=xh(t,e),d=ee(()=>FL(t.formatLocale,t.locale,t.monthNameFormat)),f=se(null),{selectYear:h,groupedYears:p,showYearPicker:m,toggleYearPicker:g,handleYearSelect:y,handleYear:v,isDisabled:_}=QL({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});Wt(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&h(bt(_e(t.startDate)),0)});const b=B=>B?{month:$t(B),year:bt(B)}:{month:null,year:null},w=()=>a.value?Array.isArray(a.value)?a.value.map(B=>b(B)):b(a.value):b(),T=(B,Y)=>{const L=c.value[B],O=w();return Array.isArray(O)?O.some(J=>J.year===(L==null?void 0:L.year)&&J.month===Y):(L==null?void 0:L.year)===O.year&&Y===O.month},x=(B,Y,L)=>{var O,J;const te=w();return Array.isArray(te)?l.value(Y)===((O=te[L])==null?void 0:O.year)&&B===((J=te[L])==null?void 0:J.month):!1},C=(B,Y)=>{if(t.range){const L=w();if(Array.isArray(a.value)&&Array.isArray(L)){const O=x(B,Y,0)||x(B,Y,1),J=Xs(ts(_e()),B,l.value(Y));return Bv(a.value,f.value,J)&&!O}return!1}return!1},I=ee(()=>B=>dc(d.value,Y=>{const L=T(B,Y.value),O=Lf(Y.value,VL(l.value(B),t.minDate),BL(l.value(B),t.maxDate))||Lue(t.disabledDates,l.value(B)).includes(Y.value),J=C(Y.value,B),te=GL(o.value,Y.value,l.value(B));return{active:L,disabled:O,isBetween:J,highlighted:te}})),E=(B,Y)=>Xs(ts(_e()),B,l.value(Y)),M=(B,Y)=>{const L=a.value?a.value:ts(new Date);a.value=Xs(L,B,l.value(Y)),e("auto-apply")},F=(B,Y)=>{const L=dS(a,E(B,Y),e);Kv(L,e,t.autoApply,t.modelAuto)},N=(B,Y)=>{cS(E(B,Y),a,t.multiDatesLimit),e("auto-apply",!0)},k=(B,Y)=>(c.value[Y].month=B,D(Y,c.value[Y].year,B),t.multiDates?N(B,Y):t.range?F(B,Y):M(B,Y)),R=(B,Y)=>{h(B,Y),D(Y,B,null)},D=(B,Y,L)=>{let O=L;if(!O&&O!==0){const J=w();O=Array.isArray(J)?J[B].month:J.month}e("update-month-year",{instance:B,year:Y,month:O})};return{groupedMonths:I,groupedYears:p,year:l,isDisabled:_,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:m,modelValue:a,presetDate:(B,Y)=>{XL({value:B,modelValue:a,range:t.range,timezone:Y?void 0:t.timezone}),e("auto-apply")},setHoverDate:(B,Y)=>{f.value=E(B,Y)},selectMonth:k,selectYear:R,toggleYearPicker:g,handleYearSelect:y,handleYear:v,getModelMonthYear:w}},yce=Pe({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ps},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=ua(),s=Ei(i,"yearMode"),o=t;Wt(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:h,modelValue:p,presetDate:m,setHoverDate:g,selectMonth:y,selectYear:v,toggleYearPicker:_,handleYearSelect:b,handleYear:w,getModelMonthYear:T}=vce(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:T,selectMonth:y,selectYear:v,handleYear:w}),presetDate:m,toggleYearPicker:x=>_(0,x)}),(x,C)=>(S(),re(Wv,{"multi-calendars":P(d).count,stretch:""},{default:ce(({instance:I})=>[x.$slots["month-year"]?fe(x.$slots,"month-year",xn(ie({key:0},{year:P(u),months:P(a)(I),years:P(l)(I),selectMonth:P(y),selectYear:P(v),instance:I}))):(S(),re(Dh,{key:1,items:P(a)(I),"arrow-navigation":x.arrowNavigation,"is-last":x.autoApply&&!P(f).keepActionRow,"esc-close":x.escClose,height:P(f).modeHeight,config:x.config,"no-overlay-focus":!!(x.noOverlayFocus||x.textInput),"use-relative":"",type:"month",onSelected:E=>P(y)(E,I),onHoverValue:E=>P(g)(E,I)},{header:ce(()=>[Z(qL,ie(x.$props,{items:P(l)(I),instance:I,"show-year-picker":P(h)[I],year:P(u)(I),"is-disabled":E=>P(c)(I,E),onHandleYear:E=>P(w)(I,E),onYearSelect:E=>P(b)(E,I),onToggleYearPicker:E=>P(_)(I,E==null?void 0:E.flow,E==null?void 0:E.show)}),Jn({_:2},[st(P(s),(E,M)=>({name:E,fn:ce(F=>[fe(x.$slots,E,xn(ir(F)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),bce=(t,e)=>{const{modelValue:n}=xh(t,e),r=se(null),{defaultedHighlight:i,defaultedFilters:s}=Kn(t),o=se();Wt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=bt(_e(t.startDate)))});const a=d=>Array.isArray(n.value)?n.value.some(f=>bt(f)===d):n.value?bt(n.value)===d:!1,l=d=>t.range&&Array.isArray(n.value)?Bv(n.value,r.value,c(d)):!1,u=ee(()=>dc(lS(t.yearRange,t.reverseYears),d=>{const f=a(d.value),h=Lf(d.value,fc(t.minDate),fc(t.maxDate))||s.value.years.includes(d.value),p=l(d.value)&&!f,m=uS(i.value,d.value);return{active:f,disabled:h,isBetween:p,highlighted:m}})),c=d=>Os(ts(new Date),d);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:d=>{r.value=Os(ts(new Date),d)},selectYear:d=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(h=>bt(h))).includes(d)?n.value=n.value.filter(h=>bt(h)!==d):n.value.push(Os(jr(_e()),d))):n.value=[Os(jr(_e()),d)],e("auto-apply",!0);if(t.range){const h=dS(n,c(d),e);return Kv(h,e,t.autoApply,t.modelAuto)}n.value=c(d),e("auto-apply")}}},wce=Pe({compatConfig:{MODE:3},__name:"YearPicker",props:{...ps},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=bce(i,r),{defaultedConfig:c}=Kn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,f)=>(S(),U("div",null,[d.$slots["month-year"]?fe(d.$slots,"month-year",xn(ie({key:0},{years:P(s),selectYear:P(l)}))):(S(),re(Dh,{key:1,items:P(s),"is-last":d.autoApply&&!P(c).keepActionRow,height:P(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":P(a),type:"year","use-relative":"",onSelected:P(l),onHoverValue:P(u)},Jn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:ce(({item:h})=>[fe(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),_ce={key:0,class:"dp__time_input"},Tce=["aria-label","onKeydown","onClick"],Sce=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ece=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ice=["aria-label","disabled","onKeydown","onClick"],Cce=["aria-label","onKeydown","onClick"],Oce=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ace=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Pce={key:0},kce=["aria-label","onKeydown"],xce=Pe({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ps},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=va(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Kn(i),{transitionName:d,showTransition:f}=kh(l),h=Dn({hours:!1,minutes:!1,seconds:!1}),p=se("AM"),m=se(null),g=se([]);Wt(()=>{r("mounted")});const y=j=>yn(new Date,{hours:j.hours,minutes:j.minutes,seconds:i.enableSeconds?j.seconds:0,milliseconds:0}),v=ee(()=>j=>k(j,i[j])||b(j,i[j])),_=ee(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),b=(j,z)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(j,z):!1,w=(j,z)=>{if(i.range&&!i.disableTimeRangeValidation){const ae=z?+i[`${j}Increment`]:-+i[`${j}Increment`],X=i[j]+ae;return!i.validateTime(j,X)}return!1},T=ee(()=>j=>!D(+i[j]+ +i[`${j}Increment`],j)||w(j,!0)),x=ee(()=>j=>!D(+i[j]-+i[`${j}Increment`],j)||w(j,!1)),C=(j,z)=>fL(yn(_e(),j),z),I=(j,z)=>Yle(yn(_e(),j),z),E=ee(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),M=ee(()=>{const j=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?j.concat([{type:"",separator:!0},{type:"seconds"}]):j}),F=ee(()=>M.value.filter(j=>!j.separator)),N=ee(()=>j=>{if(j==="hours"){const z=J(+i.hours);return{text:z<10?`0${z}`:`${z}`,value:z}}return{text:i[j]<10?`0${i[j]}`:`${i[j]}`,value:i[j]}}),k=(j,z)=>{var ae;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,j==="hours"?z:void 0);return X[j]?!!((ae=X[j])!=null&&ae.includes(z)):!0},R=j=>{const z=i.is24?24:12,ae=j==="hours"?z:60,X=+i[`${j}GridIncrement`],he=j==="hours"&&!i.is24?X:0,be=[];for(let oe=he;oe<ae;oe+=X)be.push({value:oe,text:oe<10?`0${oe}`:`${oe}`});return j==="hours"&&!i.is24&&be.push({value:0,text:"12"}),dc(be,oe=>({active:!1,disabled:u.value.times[j].includes(oe.value)||!D(oe.value,j)||k(j,oe.value)||b(j,oe.value)}))},D=(j,z)=>{const ae=i.minTime?y(_b(i.minTime)):null,X=i.maxTime?y(_b(i.maxTime)):null,he=y(_b(_.value,z,j));return ae&&X?($f(he,X)||gu(he,X))&&(Mf(he,ae)||gu(he,ae)):ae?Mf(he,ae)||gu(he,ae):X?$f(he,X)||gu(he,X):!0},B=j=>i[`no${j[0].toUpperCase()+j.slice(1)}Overlay`],Y=j=>{B(j)||(h[j]=!h[j],h[j]||r("overlay-closed"))},L=j=>j==="hours"?as:j==="minutes"?Rs:uc,O=(j,z=!0)=>{const ae=z?C:I,X=z?+i[`${j}Increment`]:-+i[`${j}Increment`];D(+i[j]+X,j)&&r(`update:${j}`,L(j)(ae({[j]:+i[j]},{[j]:+i[`${j}Increment`]})))},J=j=>i.is24?j:(j>=12?p.value="PM":p.value="AM",Sue(j)),te=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},ge=j=>{h[j]=!0},ve=(j,z,ae)=>{if(j&&i.arrowNavigation){Array.isArray(g.value[z])?g.value[z][ae]=j:g.value[z]=[j];const X=g.value.reduce((he,be)=>be.map((oe,A)=>[...he[A]||[],be[A]]),[]);o(i.closeTimePickerBtn),m.value&&(X[1]=X[1].concat(m.value)),s(X,i.order)}},ne=(j,z)=>(Y(j),j==="hours"&&!i.is24?r(`update:${j}`,p.value==="PM"?z+12:z):r(`update:${j}`,z));return e({openChildCmp:ge}),(j,z)=>{var ae;return j.disabled?G("",!0):(S(),U("div",_ce,[(S(!0),U(Te,null,st(M.value,(X,he)=>{var be,oe,A;return S(),U("div",{key:he,class:Ae(E.value)},[X.separator?(S(),U(Te,{key:0},[Qe(" : ")],64)):(S(),U(Te,{key:1},[K("button",{ref_for:!0,ref:$=>ve($,he,0),type:"button",class:Ae({dp__btn:!0,dp__inc_dec_button:!j.timePickerInline,dp__inc_dec_button_inline:j.timePickerInline,dp__tp_inline_btn_top:j.timePickerInline,dp__inc_dec_button_disabled:T.value(X.type)}),"aria-label":(be=P(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[ct(St($=>O(X.type),["prevent"]),["enter"]),ct(St($=>O(X.type),["prevent"]),["space"])],onClick:$=>O(X.type)},[i.timePickerInline?(S(),U(Te,{key:1},[Sce,Ece],64)):(S(),U(Te,{key:0},[j.$slots["arrow-up"]?fe(j.$slots,"arrow-up",{key:0}):G("",!0),j.$slots["arrow-up"]?G("",!0):(S(),re(P(rS),{key:1}))],64))],42,Tce),K("button",{ref_for:!0,ref:$=>ve($,he,1),type:"button","aria-label":(oe=P(a))==null?void 0:oe.openTpOverlay(X.type),class:Ae({dp__time_display:!0,dp__time_display_block:!j.timePickerInline,dp__time_display_inline:j.timePickerInline,"dp--time-invalid":v.value(X.type),"dp--time-overlay-btn":!v.value(X.type)}),disabled:B(X.type),tabindex:"0",onKeydown:[ct(St($=>Y(X.type),["prevent"]),["enter"]),ct(St($=>Y(X.type),["prevent"]),["space"])],onClick:$=>Y(X.type)},[j.$slots[X.type]?fe(j.$slots,X.type,{key:0,text:N.value(X.type).text,value:N.value(X.type).value}):G("",!0),j.$slots[X.type]?G("",!0):(S(),U(Te,{key:1},[Qe(Me(N.value(X.type).text),1)],64))],42,Ice),K("button",{ref_for:!0,ref:$=>ve($,he,2),type:"button",class:Ae({dp__btn:!0,dp__inc_dec_button:!j.timePickerInline,dp__inc_dec_button_inline:j.timePickerInline,dp__tp_inline_btn_bottom:j.timePickerInline,dp__inc_dec_button_disabled:x.value(X.type)}),"aria-label":(A=P(a))==null?void 0:A.decrementValue(X.type),tabindex:"0",onKeydown:[ct(St($=>O(X.type,!1),["prevent"]),["enter"]),ct(St($=>O(X.type,!1),["prevent"]),["space"])],onClick:$=>O(X.type,!1)},[i.timePickerInline?(S(),U(Te,{key:1},[Oce,Ace],64)):(S(),U(Te,{key:0},[j.$slots["arrow-down"]?fe(j.$slots,"arrow-down",{key:0}):G("",!0),j.$slots["arrow-down"]?G("",!0):(S(),re(P(iS),{key:1}))],64))],42,Cce)],64))],2)}),128)),j.is24?G("",!0):(S(),U("div",Pce,[j.$slots["am-pm-button"]?fe(j.$slots,"am-pm-button",{key:0,toggle:te,value:p.value}):G("",!0),j.$slots["am-pm-button"]?G("",!0):(S(),U("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ae=P(a))==null?void 0:ae.amPmButton,tabindex:"0",onClick:te,onKeydown:[ct(St(te,["prevent"]),["enter"]),ct(St(te,["prevent"]),["space"])]},Me(p.value),41,kce))])),(S(!0),U(Te,null,st(F.value,(X,he)=>(S(),re(Ki,{key:he,name:P(d)(h[X.type]),css:P(f)},{default:ce(()=>[h[X.type]?(S(),re(Dh,{key:0,items:R(X.type),"is-last":j.autoApply&&!P(c).keepActionRow,"esc-close":j.escClose,type:X.type,"text-input":j.textInput,config:j.config,"arrow-navigation":j.arrowNavigation,onSelected:be=>ne(X.type,be),onToggle:be=>Y(X.type),onResetFlow:z[0]||(z[0]=be=>j.$emit("reset-flow"))},Jn({"button-icon":ce(()=>[j.$slots["clock-icon"]?fe(j.$slots,"clock-icon",{key:0}):G("",!0),j.$slots["clock-icon"]?G("",!0):(S(),re(un(j.timePickerInline?P(Oc):P(nS)),{key:1}))]),_:2},[j.$slots[`${X.type}-overlay-value`]?{name:"item",fn:ce(({item:be})=>[fe(j.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):G("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Dce={class:"dp--tp-wrap"},Rce=["aria-label","tabindex"],Nce=["tabindex"],Mce=["aria-label"],JL=Pe({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ps},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=va(),a=ua(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=Kn(i),{transitionName:f,showTransition:h}=kh(l),{hideNavigationButtons:p}=jv(),m=se(null),g=se(null),y=se([]),v=se(null);Wt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([nr(m.value)],"time"):o(!0,i.timePicker)});const _=ee(()=>i.range&&i.modelAuto?UL(i.internalModelValue):!0),b=se(!1),w=R=>({hours:Array.isArray(i.hours)?i.hours[R]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[R]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[R]:i.seconds}),T=ee(()=>{const R=[];if(i.range)for(let D=0;D<2;D++)R.push(w(D));else R.push(w(0));return R}),x=(R,D=!1,B="")=>{D||r("reset-flow"),b.value=R,r(R?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(R),Wn(()=>{B!==""&&y.value[0]&&y.value[0].openChildCmp(B)})},C=ee(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),I=Ei(a,"timePicker"),E=(R,D,B)=>i.range?D===0?[R,T.value[1][B]]:[T.value[0][B],R]:R,M=R=>{r("update:hours",R)},F=R=>{r("update:minutes",R)},N=R=>{r("update:seconds",R)},k=()=>{if(v.value&&!c.value.enabled&&!i.noOverlayFocus){const R=Iue(v.value);R&&R.focus({preventScroll:!0})}};return e({toggleTimePicker:x}),(R,D)=>{var B;return S(),U("div",Dce,[!R.timePicker&&!R.timePickerInline?Ci((S(),U("button",{key:0,ref_key:"openTimePickerBtn",ref:m,type:"button",class:Ae(C.value),"aria-label":(B=P(u))==null?void 0:B.openTimePicker,tabindex:R.noOverlayFocus?void 0:0,onKeydown:[D[0]||(D[0]=ct(Y=>x(!0),["enter"])),D[1]||(D[1]=ct(Y=>x(!0),["space"]))],onClick:D[2]||(D[2]=Y=>x(!0))},[R.$slots["clock-icon"]?fe(R.$slots,"clock-icon",{key:0}):G("",!0),R.$slots["clock-icon"]?G("",!0):(S(),re(P(nS),{key:1}))],42,Rce)),[[Zs,!P(p)(R.hideNavigation,"time")]]):G("",!0),Z(Ki,{name:P(f)(b.value),css:P(h)&&!R.timePickerInline},{default:ce(()=>{var Y;return[b.value||R.timePicker||R.timePickerInline?(S(),U("div",{key:0,ref_key:"overlayRef",ref:v,class:Ae({dp__overlay:!R.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!R.timePickerInline,"dp--overlay-relative":i.timePicker}),style:rr(R.timePicker?{height:`${P(d).modeHeight}px`}:void 0),tabindex:R.timePickerInline?void 0:0},[K("div",{class:Ae(R.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[R.$slots["time-picker-overlay"]?fe(R.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:M,setMinutes:F,setSeconds:N}):G("",!0),R.$slots["time-picker-overlay"]?G("",!0):(S(),U("div",{key:1,class:Ae(R.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(S(!0),U(Te,null,st(T.value,(L,O)=>Ci((S(),re(xce,ie({key:O},{...R.$props,order:O,hours:L.hours,minutes:L.minutes,seconds:L.seconds,closeTimePickerBtn:g.value,disabledTimesConfig:t.disabledTimesConfig,disabled:O===0?R.fixedStart:R.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(J,te)=>t.validateTime(J,E(te,O,J)),"onUpdate:hours":J=>M(E(J,O,"hours")),"onUpdate:minutes":J=>F(E(J,O,"minutes")),"onUpdate:seconds":J=>N(E(J,O,"seconds")),onMounted:k,onOverlayClosed:k,onAmPmChange:D[3]||(D[3]=J=>R.$emit("am-pm-change",J))}),Jn({_:2},[st(P(I),(J,te)=>({name:J,fn:ce(ge=>[fe(R.$slots,J,xn(ir(ge)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Zs,O===0?!0:_.value]])),128))],2)),!R.timePicker&&!R.timePickerInline?Ci((S(),U("button",{key:2,ref_key:"closeTimePickerBtn",ref:g,type:"button",class:Ae(C.value),"aria-label":(Y=P(u))==null?void 0:Y.closeTimePicker,tabindex:"0",onKeydown:[D[4]||(D[4]=ct(L=>x(!1),["enter"])),D[5]||(D[5]=ct(L=>x(!1),["space"]))],onClick:D[6]||(D[6]=L=>x(!1))},[R.$slots["calendar-icon"]?fe(R.$slots,"calendar-icon",{key:0}):G("",!0),R.$slots["calendar-icon"]?G("",!0):(S(),re(P(Oc),{key:1}))],42,Mce)),[[Zs,!P(p)(R.hideNavigation,"time")]]):G("",!0)],2)],14,Nce)):G("",!0)]}),_:3},8,["name","css"])])}}}),ZL=(t,e,n,r)=>{const i=(y,v)=>Array.isArray(e[y])?e[y][v]:e[y],s=y=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[y]:e.seconds:0,o=(y,v)=>y?v!==void 0?ea(y,i("hours",v),i("minutes",v),s(v)):ea(y,e.hours,e.minutes,s()):ZT(_e(),s(v)),a=(y,v)=>{e[y]=v},l=(y,v)=>{const _=Object.fromEntries(Object.keys(e).map(b=>b===y?[b,v]:[b,e[b]].slice()));if(t.range&&!t.disableTimeRangeValidation){const b=T=>n.value?ea(n.value[T],_.hours[T],_.minutes[T],_.seconds[T]):null,w=T=>JT(n.value[T],0);return!(Gt(b(0),b(1))&&(Mf(b(0),w(1))||$f(b(1),w(0))))}return!0},u=(y,v)=>{l(y,v)&&(a(y,v),r&&r())},c=y=>{u("hours",y)},d=y=>{u("minutes",y)},f=y=>{u("seconds",y)},h=(y,v,_,b)=>{v&&c(y),!v&&!_&&d(y),_&&f(y),n.value&&b(n.value)},p=y=>{if(y){const v=Array.isArray(y),_=v?[+y[0].hours,+y[1].hours]:+y.hours,b=v?[+y[0].minutes,+y[1].minutes]:+y.minutes,w=v?[+y[0].seconds,+y[1].seconds]:+y.seconds;a("hours",_),a("minutes",b),t.enableSeconds&&a("seconds",w)}},m=(y,v)=>{const _={hours:Array.isArray(e.hours)?e.hours[y]:e.hours,disabledArr:[]};return(v||v===0)&&(_.hours=v),Array.isArray(t.disabledTimes)&&(_.disabledArr=t.range&&Array.isArray(t.disabledTimes[y])?t.disabledTimes[y]:t.disabledTimes),_},g=ee(()=>(y,v)=>{var _;if(Array.isArray(t.disabledTimes)){const{disabledArr:b,hours:w}=m(y,v),T=b.filter(x=>+x.hours===w);return((_=T[0])==null?void 0:_.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(T==null?void 0:T.map(x=>+x.minutes))??[],seconds:(T==null?void 0:T.map(x=>x.seconds?+x.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:f,getSetDateTime:o,updateTimeValues:h,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:g}},$ce=(t,e)=>{const{modelValue:n,time:r}=xh(t,e),{defaultedStartTime:i}=Kn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=ZL(t,r,n),d=v=>{const{hours:_,minutes:b,seconds:w}=v;return{hours:+_,minutes:+b,seconds:w?+w:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const _=d(t.startTime[0]),b=d(t.startTime[1]);return[yn(_e(),_),yn(_e(),b)]}const v=d(t.startTime);return yn(_e(),v)}return t.range?[null,null]:null},h=()=>{if(t.range){const[v,_]=f();n.value=[o(v,0),o(_,1)]}else n.value=o(f())},p=v=>Array.isArray(v)?[Qa(_e(v[0])),Qa(_e(v[1]))]:[Qa(v??_e())],m=(v,_,b)=>{a("hours",v),a("minutes",_),a("seconds",t.enableSeconds?b:0)},g=()=>{const[v,_]=p(n.value);return t.range?m([v.hours,_.hours],[v.minutes,_.minutes],[v.seconds,_.minutes]):m(v.hours,v.minutes,v.seconds)};Wt(()=>{if(!t.shadow)return l(i.value),n.value?g():h()});const y=()=>{Array.isArray(n.value)?n.value=n.value.map((v,_)=>v&&o(v,_)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(v,_=!0,b=!1)=>{s(v,_,b,y)},validateTime:c}},Lce=Pe({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ps},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ua(),o=Ei(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=$ce(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,h)=>(S(),re(Wv,{"multi-calendars":0,stretch:""},{default:ce(()=>[Z(JL,ie(f.$props,{hours:P(a).hours,minutes:P(a).minutes,seconds:P(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":P(u),"validate-time":P(d),"onUpdate:hours":h[0]||(h[0]=p=>P(c)(p)),"onUpdate:minutes":h[1]||(h[1]=p=>P(c)(p,!1)),"onUpdate:seconds":h[2]||(h[2]=p=>P(c)(p,!1,!0)),onAmPmChange:h[3]||(h[3]=p=>f.$emit("am-pm-change",p))}),Jn({_:2},[st(P(o),(p,m)=>({name:p,fn:ce(g=>[fe(f.$slots,p,xn(ir(g)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Fce={class:"dp__month_year_row"},Uce=["aria-label","onClick","onKeydown"],Vce=Pe({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ps},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Kn(i),{transitionName:d,showTransition:f}=kh(s),{buildMatrix:h}=va(),{handleMonthYearChange:p,isDisabled:m,updateMonthYear:g}=Xue(i,r),{showLeftIcon:y,showRightIcon:v}=jv(),_=se(!1),b=se(!1),w=se([null,null,null,null]);Wt(()=>{r("mount")});const T=O=>({get:()=>i[O],set:J=>{const te=O===qi.month?qi.year:qi.month;r("update-month-year",{[O]:J,[te]:i[te]}),O===qi.month?k(!0):R(!0)}}),x=ee(T(qi.month)),C=ee(T(qi.year)),I=ee(()=>O=>({month:i.month,year:i.year,items:O===qi.month?i.months:i.years,instance:i.instance,updateMonthYear:g,toggle:O===qi.month?k:R})),E=ee(()=>i.months.find(J=>J.value===i.month)||{text:"",value:0}),M=ee(()=>dc(i.months,O=>{const J=i.month===O.value,te=Lf(O.value,VL(i.year,i.minDate),BL(i.year,i.maxDate))||l.value.months.includes(O.value),ge=GL(c.value,O.value,i.year);return{active:J,disabled:te,highlighted:ge}})),F=ee(()=>dc(i.years,O=>{const J=i.year===O.value,te=Lf(O.value,fc(i.minDate),fc(i.maxDate))||l.value.years.includes(O.value),ge=uS(c.value,O.value);return{active:J,disabled:te,highlighted:ge}})),N=(O,J)=>{J!==void 0?O.value=J:O.value=!O.value,O.value||r("overlay-closed")},k=(O=!1,J)=>{D(O),N(_,J)},R=(O=!1,J)=>{D(O),N(b,J)},D=O=>{O||r("reset-flow")},B=(O,J)=>{i.arrowNavigation&&(w.value[J]=nr(O),h(w.value,"monthYear"))},Y=ee(()=>{var O,J;return[{type:qi.month,index:1,toggle:k,modelValue:x.value,updateModelValue:te=>x.value=te,text:E.value.text,showSelectionGrid:_.value,items:M.value,ariaLabel:(O=o.value)==null?void 0:O.openMonthsOverlay},{type:qi.year,index:2,toggle:R,modelValue:C.value,updateModelValue:te=>C.value=te,text:i.year,showSelectionGrid:b.value,items:F.value,ariaLabel:(J=o.value)==null?void 0:J.openYearsOverlay}]}),L=ee(()=>i.disableYearSelect?[Y.value[0]]:i.yearFirst?[...Y.value].reverse():Y.value);return e({toggleMonthPicker:k,toggleYearPicker:R,handleMonthYearChange:p}),(O,J)=>{var te,ge,ve;return S(),U("div",Fce,[O.$slots["month-year"]?fe(O.$slots,"month-year",xn(ie({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:P(g),handleMonthYearChange:P(p),instance:t.instance}))):(S(),U(Te,{key:1},[P(y)(P(a),t.instance)&&!O.vertical?(S(),re(Vd,{key:0,"aria-label":(te=P(o))==null?void 0:te.prevMonth,disabled:P(m)(!1),onActivate:J[0]||(J[0]=ne=>P(p)(!1,!0)),onSetRef:J[1]||(J[1]=ne=>B(ne,0))},{default:ce(()=>[O.$slots["arrow-left"]?fe(O.$slots,"arrow-left",{key:0}):G("",!0),O.$slots["arrow-left"]?G("",!0):(S(),re(P(eS),{key:1}))]),_:3},8,["aria-label","disabled"])):G("",!0),K("div",{class:Ae(["dp__month_year_wrap",{dp__year_disable_select:O.disableYearSelect}])},[(S(!0),U(Te,null,st(L.value,(ne,j)=>(S(),U(Te,{key:ne.type},[K("button",{ref_for:!0,ref:z=>B(z,j+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":ne.ariaLabel,onClick:ne.toggle,onKeydown:[ct(St(ne.toggle,["prevent"]),["enter"]),ct(St(ne.toggle,["prevent"]),["space"])]},[O.$slots[ne.type]?fe(O.$slots,ne.type,{key:0,text:ne.text,value:i[ne.type]}):G("",!0),O.$slots[ne.type]?G("",!0):(S(),U(Te,{key:1},[Qe(Me(ne.text),1)],64))],40,Uce),Z(Ki,{name:P(d)(ne.showSelectionGrid),css:P(f)},{default:ce(()=>[ne.showSelectionGrid?(S(),re(Dh,{key:0,items:ne.items,"arrow-navigation":O.arrowNavigation,"hide-navigation":O.hideNavigation,"is-last":O.autoApply&&!P(u).keepActionRow,"skip-button-ref":!1,config:O.config,type:ne.type,"header-refs":[],"esc-close":O.escClose,"text-input":O.textInput,onSelected:ne.updateModelValue,onToggle:ne.toggle},Jn({"button-icon":ce(()=>[O.$slots["calendar-icon"]?fe(O.$slots,"calendar-icon",{key:0}):G("",!0),O.$slots["calendar-icon"]?G("",!0):(S(),re(P(Oc),{key:1}))]),_:2},[O.$slots[`${ne.type}-overlay-value`]?{name:"item",fn:ce(({item:z})=>[fe(O.$slots,`${ne.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0,O.$slots[`${ne.type}-overlay`]?{name:"overlay",fn:ce(()=>[fe(O.$slots,`${ne.type}-overlay`,xn(ir(I.value(ne.type))))]),key:"1"}:void 0,O.$slots[`${ne.type}-overlay-header`]?{name:"header",fn:ce(()=>[fe(O.$slots,`${ne.type}-overlay-header`,{toggle:ne.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):G("",!0)]),_:2},1032,["name","css"])],64))),128))],2),P(y)(P(a),t.instance)&&O.vertical?(S(),re(Vd,{key:1,"aria-label":(ge=P(o))==null?void 0:ge.prevMonth,disabled:P(m)(!1),onActivate:J[2]||(J[2]=ne=>P(p)(!1,!0))},{default:ce(()=>[O.$slots["arrow-up"]?fe(O.$slots,"arrow-up",{key:0}):G("",!0),O.$slots["arrow-up"]?G("",!0):(S(),re(P(rS),{key:1}))]),_:3},8,["aria-label","disabled"])):G("",!0),P(v)(P(a),t.instance)?(S(),re(Vd,{key:2,ref:"rightIcon",disabled:P(m)(!0),"aria-label":(ve=P(o))==null?void 0:ve.nextMonth,onActivate:J[3]||(J[3]=ne=>P(p)(!0,!0)),onSetRef:J[4]||(J[4]=ne=>B(ne,O.disableYearSelect?2:3))},{default:ce(()=>[O.$slots[O.vertical?"arrow-down":"arrow-right"]?fe(O.$slots,O.vertical?"arrow-down":"arrow-right",{key:0}):G("",!0),O.$slots[O.vertical?"arrow-down":"arrow-right"]?G("",!0):(S(),re(un(O.vertical?P(iS):P(tS)),{key:1}))]),_:3},8,["disabled","aria-label"])):G("",!0)],64))])}}}),Bce=["aria-label"],jce={class:"dp__calendar_header",role:"row"},Hce={key:0,class:"dp__calendar_header_item",role:"gridcell"},Wce=K("div",{class:"dp__calendar_header_separator"},null,-1),Kce=["aria-label"],zce={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Gce={class:"dp__cell_inner"},Yce=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],qce=Pe({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ps},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=va(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=Kn(i),d=se(null),f=se({bottom:"",left:"",transform:""}),h=se([]),p=se(null),m=se(!0),g=se(""),y=se({startX:0,endX:0,startY:0,endY:0}),v=se([]),_=se({left:"50%"}),b=ee(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),w=ee(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):Tue(i.formatLocale,i.locale,+i.weekStart));Wt(()=>{r("mount",{cmp:"calendar",refs:h}),a.value.noSwipe||p.value&&(p.value.addEventListener("touchstart",R,{passive:!1}),p.value.addEventListener("touchend",D,{passive:!1}),p.value.addEventListener("touchmove",B,{passive:!1})),i.monthChangeOnScroll&&p.value&&p.value.addEventListener("wheel",O,{passive:!1})});const T=ne=>ne?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",x=(ne,j)=>{if(i.transitions){const z=jr(Xs(_e(),i.month,i.year));g.value=Lr(jr(Xs(_e(),ne,j)),z)?o.value[T(!0)]:o.value[T(!1)],m.value=!1,Wn(()=>{m.value=!0})}},C=ee(()=>({[i.calendarClassName]:!!i.calendarClassName})),I=ee(()=>ne=>{const j=Eue(ne);return{dp__marker_dot:j.type==="dot",dp__marker_line:j.type==="line"}}),E=ee(()=>ne=>Gt(ne,d.value)),M=ee(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),F=ee(()=>ne=>i.hideOffsetDates?ne.current:!0),N=async(ne,j,z)=>{var ae,X;if(r("set-hover-date",ne),(X=(ae=ne.marker)==null?void 0:ae.tooltip)!=null&&X.length){const he=nr(h.value[j][z]);if(he){const{width:be,height:oe}=he.getBoundingClientRect();d.value=ne.value;let A={left:`${be/2}px`},$=-50;if(await Wn(),v.value[0]){const{left:H,width:le}=v.value[0].getBoundingClientRect();H<0&&(A={left:"0"},$=0,_.value.left=`${be/2}px`),window.innerWidth<H+le&&(A={right:"0"},$=0,_.value.left=`${le-be/2}px`)}f.value={bottom:`${oe}px`,...A,transform:`translateX(${$}%)`},r("tooltip-open",ne.marker)}}},k=ne=>{d.value&&(d.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ne.marker))},R=ne=>{y.value.startX=ne.changedTouches[0].screenX,y.value.startY=ne.changedTouches[0].screenY},D=ne=>{y.value.endX=ne.changedTouches[0].screenX,y.value.endY=ne.changedTouches[0].screenY,Y()},B=ne=>{i.vertical&&!i.inline&&ne.preventDefault()},Y=()=>{const ne=i.vertical?"Y":"X";Math.abs(y.value[`start${ne}`]-y.value[`end${ne}`])>10&&r("handle-swipe",y.value[`start${ne}`]>y.value[`end${ne}`]?"right":"left")},L=(ne,j,z)=>{ne&&(Array.isArray(h.value[j])?h.value[j][z]=ne:h.value[j]=[ne]),i.arrowNavigation&&s(h.value,"calendar")},O=ne=>{i.monthChangeOnScroll&&(ne.preventDefault(),r("handle-scroll",ne))},J=ne=>c.value.type==="local"?Nae(ne.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?kae(ne.value):typeof c.value.type=="function"?c.value.type(ne.value):"",te=ne=>{const j=ne[0];return c.value.hideOnOffsetDates?ne.some(z=>z.current)?J(j):"":J(j)},ge=(ne,j)=>{Zo(ne,a.value),r("select-date",j)},ve=ne=>{Zo(ne,a.value)};return e({triggerTransition:x}),(ne,j)=>{var z;return S(),U("div",{class:Ae(M.value)},[K("div",{ref_key:"calendarWrapRef",ref:p,role:"grid",class:Ae(C.value),"aria-label":(z=P(l))==null?void 0:z.calendarWrap},[(S(),U(Te,{key:0},[K("div",jce,[ne.weekNumbers?(S(),U("div",Hce,Me(ne.weekNumName),1)):G("",!0),(S(!0),U(Te,null,st(w.value,(ae,X)=>(S(),U("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[ne.$slots["calendar-header"]?fe(ne.$slots,"calendar-header",{key:0,day:ae,index:X}):G("",!0),ne.$slots["calendar-header"]?G("",!0):(S(),U(Te,{key:1},[Qe(Me(ae),1)],64))]))),128))]),Wce,Z(Ki,{name:g.value,css:!!ne.transitions},{default:ce(()=>{var ae;return[m.value?(S(),U("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ae=P(l))==null?void 0:ae.calendarDays)||void 0},[(S(!0),U(Te,null,st(b.value,(X,he)=>(S(),U("div",{key:he,class:"dp__calendar_row",role:"row"},[ne.weekNumbers?(S(),U("div",zce,[K("div",Gce,Me(te(X.days)),1)])):G("",!0),(S(!0),U(Te,null,st(X.days,(be,oe)=>{var A,$,H;return S(),U("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:le=>L(le,he,oe),key:oe+he,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":($=(A=P(l))==null?void 0:A.day)==null?void 0:$.call(A,be),tabindex:"0",onClick:St(le=>ge(le,be),["prevent"]),onKeydown:[ct(le=>ne.$emit("select-date",be),["enter"]),ct(le=>ne.$emit("handle-space",be),["space"])],onMouseenter:le=>N(be,he,oe),onMouseleave:le=>k(be)},[K("div",{class:Ae(["dp__cell_inner",be.classData])},[ne.$slots.day&&F.value(be)?fe(ne.$slots,"day",{key:0,day:+be.text,date:be.value}):G("",!0),ne.$slots.day?G("",!0):(S(),U(Te,{key:1},[Qe(Me(be.text),1)],64)),be.marker&&F.value(be)?(S(),U(Te,{key:2},[ne.$slots.marker?fe(ne.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(S(),U("div",{key:1,class:Ae(I.value(be.marker)),style:rr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):G("",!0),E.value(be.value)?(S(),U("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:v,class:"dp__marker_tooltip",style:rr(f.value)},[(H=be.marker)!=null&&H.tooltip?(S(),U("div",{key:0,class:"dp__tooltip_content",onClick:ve},[(S(!0),U(Te,null,st(be.marker.tooltip,(le,ue)=>(S(),U("div",{key:ue,class:"dp__tooltip_text"},[ne.$slots["marker-tooltip"]?fe(ne.$slots,"marker-tooltip",{key:0,tooltip:le,day:be.value}):G("",!0),ne.$slots["marker-tooltip"]?G("",!0):(S(),U(Te,{key:1},[K("div",{class:"dp__tooltip_mark",style:rr(le.color?{backgroundColor:le.color}:{})},null,4),K("div",null,Me(le.text),1)],64))]))),128)),K("div",{class:"dp__arrow_bottom_tp",style:rr(_.value)},null,4)])):G("",!0)],4)):G("",!0)],2)],40,Yce)}),128))]))),128))],8,Kce)):G("",!0)]}),_:3},8,["name","css"])],64))],10,Bce)],2)}}}),zA=t=>Array.isArray(t),Xce=(t,e,n,r)=>{const i=se([]),{modelValue:s,calendars:o,time:a}=xh(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Kn(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:f,checkMinMaxRange:h}=Ll(t),{updateTimeValues:p,getSetDateTime:m,setTime:g,assignStartTime:y,validateTime:v,disabledTimesConfig:_}=ZL(t,a,s,r),b=ee(()=>q=>o.value[q]?o.value[q].month:0),w=ee(()=>q=>o.value[q]?o.value[q].year:0),T=(q,V,W)=>{var Q,de;o.value[q]||(o.value[q]={month:0,year:0}),o.value[q].month=BA(V)?(Q=o.value[q])==null?void 0:Q.month:V,o.value[q].year=BA(W)?(de=o.value[q])==null?void 0:de.year:W},x=()=>{t.autoApply&&e("select-date")};It(s,(q,V)=>{JSON.stringify(q)!==JSON.stringify(V)&&E()}),Wt(()=>{t.shadow||(s.value||(O(),u.value&&y(u.value)),E(!0),t.focusStartDate&&t.startDate&&O())});const C=ee(()=>{var q;return(q=t.flow)!=null&&q.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),I=()=>{t.autoApply&&C.value&&e("auto-apply",t.partialFlow)},E=(q=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,D(q)):F(s.value,q);if(l.value.count&&q&&!t.startDate)return M(_e(),q)},M=(q,V=!1)=>{if((!l.value.count||!l.value.static||V)&&T(0,$t(q),bt(q)),l.value.count&&(!l.value.solo||!s.value))for(let W=1;W<l.value.count;W++){const Q=yn(_e(),{month:b.value(W-1),year:w.value(W-1)}),de=fL(Q,{months:1});o.value[W]={month:$t(de),year:bt(de)}}},F=(q,V)=>{M(q),g("hours",as(q)),g("minutes",Rs(q)),g("seconds",uc(q)),l.value.count&&V&&L()},N=q=>{if(l.value.count){if(l.value.solo)return 0;const V=$t(q[0]),W=$t(q[1]);return Math.abs(W-V)<l.value.count?0:1}return 1},k=(q,V)=>{q[1]&&t.showLastInRange?M(q[N(q)],V):M(q[0],V);const W=(Q,de)=>[Q(q[0]),q[1]?Q(q[1]):a[de][1]];g("hours",W(as,"hours")),g("minutes",W(Rs,"minutes")),g("seconds",W(uc,"seconds"))},R=(q,V)=>{if((t.range||t.weekPicker)&&!t.multiDates)return k(q,V);if(t.multiDates&&V){const W=q[q.length-1];return F(W,V)}},D=q=>{const V=s.value;R(V,q),l.value.count&&l.value.solo&&L()},B=(q,V)=>{const W=yn(_e(),{month:b.value(V),year:w.value(V)}),Q=q<0?os(W,1):cc(W,1);c($t(Q),bt(Q),q<0,t.preventMinMaxNavigation)&&(T(V,$t(Q),bt(Q)),e("update-month-year",{instance:V,month:$t(Q),year:bt(Q)}),l.value.count&&!l.value.solo&&Y(V),n())},Y=q=>{for(let V=q-1;V>=0;V--){const W=cc(yn(_e(),{month:b.value(V+1),year:w.value(V+1)}),1);T(V,$t(W),bt(W))}for(let V=q+1;V<=l.value.count-1;V++){const W=os(yn(_e(),{month:b.value(V-1),year:w.value(V-1)}),1);T(V,$t(W),bt(W))}},L=()=>{if(Array.isArray(s.value)&&s.value.length===2){const q=_e(_e(s.value[1]?s.value[1]:os(s.value[0],1))),[V,W]=[$t(s.value[0]),bt(s.value[0])],[Q,de]=[$t(s.value[1]),bt(s.value[1])];(V!==Q||V===Q&&W!==de)&&l.value.solo&&T(1,$t(q),bt(q))}else s.value&&!Array.isArray(s.value)&&(T(0,$t(s.value),bt(s.value)),M(_e()))},O=()=>{t.startDate&&(T(0,$t(_e(t.startDate)),bt(_e(t.startDate))),l.value.count&&Y(0))},J=Pue((q,V)=>{t.monthChangeOnScroll&&B(t.monthChangeOnScroll!=="inverse"?-q.deltaY:q.deltaY,V)},50),te=(q,V,W=!1)=>{t.monthChangeOnArrows&&t.vertical===W&&ge(q,V)},ge=(q,V)=>{B(q==="right"?-1:1,V)},ve=q=>t.markers.find(V=>Gt(Due(q.value),ls(_e(V.date),t.timezone))),ne=(q,V)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[q==0,!0];case"fair":return[q==0||V>q,!0];case"append":return[!1,!1];default:return[!1,!1]}},j=(q,V,W,Q)=>{if(t.sixWeeks&&q.length<6){const de=6-q.length,Le=(V.getDay()+7-Q)%7,Ge=6-(W.getDay()+7-Q)%7,[me,Ce]=ne(Le,Ge);for(let xe=1;xe<=de;xe++)if(Ce?!!(xe%2)==me:me){const Ye=q[0].days[0],je=z(Ks(Ye.value,-7),$t(V));q.unshift({days:je})}else{const Ye=q[q.length-1],je=Ye.days[Ye.days.length-1],tt=z(Ks(je.value,1),$t(V));q.push({days:tt})}}return q},z=(q,V)=>{const W=_e(q),Q=[];for(let de=0;de<7;de++){const Le=Ks(W,de),Ge=$t(Le)!==V;Q.push({text:t.hideOffsetDates&&Ge?"":Le.getDate(),value:Le,current:!Ge,classData:{}})}return Q},ae=(q,V)=>{const W=[],Q=new Date(V,q),de=new Date(V,q+1,0),Le=t.weekStart,Ge=_l(Q,{weekStartsOn:Le}),me=Ce=>{const xe=z(Ce,q);if(W.push({days:xe}),!W[W.length-1].days.some(Ye=>Gt(jr(Ye.value),jr(de)))){const Ye=Ks(Ce,7);me(Ye)}};return me(Ge),j(W,Q,de,Le)},X=q=>(s.value=Qp(_e(q.value),t.timezone,t.weekStart),e("date-update",q.value),I()),he=q=>{const V=ea(_e(q.value),a.hours,a.minutes,Se());e("date-update",V),t.multiDates?cS(V,s,t.multiDatesLimit):s.value=V,r(),Wn().then(()=>{I()})},be=q=>t.noDisabledRange?HL(i.value[0],q).some(V=>d(V)):!1,oe=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},A=(q,V)=>{const W=[_e(q.value),Ks(_e(q.value),+t.autoRange)];f(W)?(V&&$(q.value),i.value=W):e("invalid-date",q.value)},$=q=>{const V=$t(_e(q)),W=bt(_e(q));if(T(0,V,W),l.value.count>0)for(let Q=1;Q<l.value.count;Q++){const de=Rue(yn(_e(q),{year:b.value(Q-1),month:w.value(Q-1)}));T(Q,de.month,de.year)}},H=q=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(Lr(q,s.value[0])||Gt(q,s.value[0]))?[s.value[0],q]:t.fixedEnd&&(Er(q,s.value[1])||Gt(q,s.value[1]))?[q,s.value[1]]:(e("invalid-fixed-range",q),s.value):[],le=q=>{if(be(q.value)||!h(q.value,s.value,t.fixedStart?0:1))return e("invalid-date",q.value);i.value=H(_e(q.value))},ue=(q,V)=>{if(oe(),t.autoRange)return A(q,V);if(t.fixedStart||t.fixedEnd)return le(q);i.value[0]?h(_e(q.value),s.value)&&!be(q.value)?Er(_e(q.value),_e(i.value[0]))?(i.value.unshift(_e(q.value)),e("range-end",i.value[0])):(i.value[1]=_e(q.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",q.value),e("invalid-date",q.value)):(i.value[0]=_e(q.value),e("range-start",i.value[0]))},Se=(q=!0)=>t.enableSeconds?Array.isArray(a.seconds)?q?a.seconds[0]:a.seconds[1]:a.seconds:0,ke=q=>{i.value[q]=ea(i.value[q],a.hours[q],a.minutes[q],Se(q!==1))},we=()=>{var q,V;i.value[0]&&i.value[1]&&+((q=i.value)==null?void 0:q[0])>+((V=i.value)==null?void 0:V[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Ie=()=>{i.value.length&&(i.value[0]&&!i.value[1]?ke(0):(ke(0),ke(1),r()),we(),s.value=i.value.slice(),Kv(i.value,e,t.autoApply,t.modelAuto))},ye=(q,V=!1)=>{if(d(q.value)||!q.current&&t.hideOffsetDates)return e("invalid-date",q.value);if(t.weekPicker)return X(q);if(!t.range)return he(q);zA(a.hours)&&zA(a.minutes)&&!t.multiDates&&(ue(q,V),Ie())},Re=(q,V)=>{var W;T(q,V.month,V.year),l.value.count&&!l.value.solo&&Y(q),e("update-month-year",{instance:q,month:V.month,year:V.year}),n(l.value.solo?q:void 0);const Q=(W=t.flow)!=null&&W.length?t.flow[t.flowStep]:void 0;!V.fromNav&&(Q===vs.month||Q===vs.year)&&r()},Be=(q,V)=>{XL({value:q,modelValue:s,range:t.range,timezone:V?void 0:t.timezone}),x(),t.multiCalendars&&Wn().then(()=>E(!0))},Ke=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Er(_e(),s.value[0])?[_e(),s.value[0]]:[s.value[0],_e()]:s.value=[_e()]:s.value=_e(),x()},et=()=>{if(Array.isArray(s.value))if(t.multiDates){const q=lt();s.value[s.value.length-1]=m(q)}else s.value=s.value.map((q,V)=>q&&m(q,V));else s.value=m(s.value);e("time-update")},lt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:b,year:w,time:a,disabledTimesConfig:_,validateTime:v,getCalendarDays:ae,getMarker:ve,handleScroll:J,handleSwipe:ge,handleArrow:te,selectDate:ye,updateMonthYear:Re,presetDate:Be,selectCurrentDate:Ke,updateTime:(q,V=!0,W=!1)=>{p(q,V,W,et)}}},Qce={key:0},Jce=Pe({__name:"DatePicker",props:{...ps},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:f,getMarker:h,handleArrow:p,handleScroll:m,handleSwipe:g,selectDate:y,updateMonthYear:v,presetDate:_,selectCurrentDate:b,updateTime:w}=Xce(i,r,L,O),T=ua(),{setHoverDate:x,getDayClassData:C,clearHoverDate:I}=ece(l,i),{defaultedMultiCalendars:E}=Kn(i),M=se([]),F=se([]),N=se(null),k=Ei(T,"calendar"),R=Ei(T,"monthYear"),D=Ei(T,"timePicker"),B=te=>{i.shadow||r("mount",te)};It(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const Y=ee(()=>te=>f(o.value(te),a.value(te)).map(ge=>({...ge,days:ge.days.map(ve=>(ve.marker=h(ve),ve.classData=C(ve),ve))})));function L(te){var ge;te||te===0?(ge=F.value[te])==null||ge.triggerTransition(o.value(te),a.value(te)):F.value.forEach((ve,ne)=>ve.triggerTransition(o.value(ne),a.value(ne)))}function O(){r("update-flow-step")}const J=(te,ge=!1)=>{y(te,ge),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:I,presetDate:_,selectCurrentDate:b,toggleMonthPicker:(te,ge,ve=0)=>{var ne;(ne=M.value[ve])==null||ne.toggleMonthPicker(te,ge)},toggleYearPicker:(te,ge,ve=0)=>{var ne;(ne=M.value[ve])==null||ne.toggleYearPicker(te,ge)},toggleTimePicker:(te,ge,ve)=>{var ne;(ne=N.value)==null||ne.toggleTimePicker(te,ge,ve)},handleArrow:p,updateMonthYear:v,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:w,updateMonthYear:v,selectDate:y,presetDate:_})}),(te,ge)=>(S(),U(Te,null,[Z(Wv,{"multi-calendars":P(E).count},{default:ce(({instance:ve,index:ne})=>[te.disableMonthYearSelect?G("",!0):(S(),re(Vce,ie({key:0,ref:j=>{j&&(M.value[ne]=j)},months:P(FL)(te.formatLocale,te.locale,te.monthNameFormat),years:P(lS)(te.yearRange,te.reverseYears),month:P(o)(ve),year:P(a)(ve),instance:ve},te.$props,{onMount:ge[0]||(ge[0]=j=>B(P(Ja).header)),onResetFlow:ge[1]||(ge[1]=j=>te.$emit("reset-flow")),onUpdateMonthYear:j=>P(v)(ve,j),onOverlayClosed:ge[2]||(ge[2]=j=>te.$emit("focus-menu"))}),Jn({_:2},[st(P(R),(j,z)=>({name:j,fn:ce(ae=>[fe(te.$slots,j,xn(ir(ae)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Z(qce,ie({ref:j=>{j&&(F.value[ne]=j)},"mapped-dates":Y.value(ve),month:P(o)(ve),year:P(a)(ve),instance:ve},te.$props,{onSelectDate:j=>P(y)(j,ve!==1),onHandleSpace:j=>J(j,ve!==1),onSetHoverDate:ge[3]||(ge[3]=j=>P(x)(j)),onHandleScroll:j=>P(m)(j,ve),onHandleSwipe:j=>P(g)(j,ve),onMount:ge[4]||(ge[4]=j=>B(P(Ja).calendar)),onResetFlow:ge[5]||(ge[5]=j=>te.$emit("reset-flow")),onTooltipOpen:ge[6]||(ge[6]=j=>te.$emit("tooltip-open",j)),onTooltipClose:ge[7]||(ge[7]=j=>te.$emit("tooltip-close",j))}),Jn({_:2},[st(P(k),(j,z)=>({name:j,fn:ce(ae=>[fe(te.$slots,j,xn(ir({...ae})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),te.enableTimePicker?(S(),U("div",Qce,[te.$slots["time-picker"]?fe(te.$slots,"time-picker",xn(ie({key:0},{time:P(u),updateTime:P(w)}))):(S(),re(JL,ie({key:1,ref_key:"timePickerRef",ref:N},te.$props,{hours:P(u).hours,minutes:P(u).minutes,seconds:P(u).seconds,"internal-model-value":te.internalModelValue,"disabled-times-config":P(c),"validate-time":P(d),onMount:ge[8]||(ge[8]=ve=>B(P(Ja).timePicker)),"onUpdate:hours":ge[9]||(ge[9]=ve=>P(w)(ve)),"onUpdate:minutes":ge[10]||(ge[10]=ve=>P(w)(ve,!1)),"onUpdate:seconds":ge[11]||(ge[11]=ve=>P(w)(ve,!1,!0)),onResetFlow:ge[12]||(ge[12]=ve=>te.$emit("reset-flow")),onOverlayClosed:ge[13]||(ge[13]=ve=>te.$emit("time-picker-close")),onOverlayOpened:ge[14]||(ge[14]=ve=>te.$emit("time-picker-open",ve)),onAmPmChange:ge[15]||(ge[15]=ve=>te.$emit("am-pm-change",ve))}),Jn({_:2},[st(P(D),(ve,ne)=>({name:ve,fn:ce(j=>[fe(te.$slots,ve,xn(ir(j)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):G("",!0)],64))}}),Zce=(t,e)=>{const n=se(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Kn(t),{modelValue:o,year:a,month:l,calendars:u}=xh(t,e),{isDisabled:c}=Ll(t),{selectYear:d,groupedYears:f,showYearPicker:h,isDisabled:p,toggleYearPicker:m,handleYearSelect:g,handleYear:y}=QL({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),v=(I,E)=>[I,E].map(M=>Jo(M,"MMMM",{locale:t.formatLocale})).join("-"),_=ee(()=>I=>o.value?Array.isArray(o.value)?o.value.some(E=>kA(I,E)):kA(o.value,I):!1),b=I=>{if(t.range){if(Array.isArray(o.value)){const E=Gt(I,o.value[0])||Gt(I,o.value[1]);return Bv(o.value,n.value,I)&&!E}return!1}return!1},w=ee(()=>I=>{const E=yn(new Date,{year:a.value(I)});return _oe({start:Soe(E),end:Toe(E)}).map(M=>{const F=Nf(M),N=SA(M),k=c(M),R=b(F),D=typeof s.value=="function"?s.value({quarter:TA(F),year:bt(F)}):!!s.value.quarters.find(B=>B.quarter===TA(F)&&B.year===bt(F));return{text:v(F,N),value:F,active:_.value(F),highlighted:D,disabled:k,isBetween:R}})}),T=I=>{cS(I,o,t.multiDatesLimit),e("auto-apply",!0)},x=I=>{const E=dS(o,I,e);Kv(E,e,t.autoApply,t.modelAuto)},C=I=>{o.value=I,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:p,quarters:w,showYearPicker:h,modelValue:o,setHoverDate:I=>{n.value=I},selectYear:d,selectQuarter:(I,E,M)=>{if(!M)return u.value[E].month=$t(SA(I)),t.multiDates?T(I):t.range?x(I):C(I)},toggleYearPicker:m,handleYearSelect:g,handleYear:y}},ede={class:"dp--quarter-items"},tde=["disabled","onClick","onMouseover"],nde=Pe({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ps},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ua(),o=Ei(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:f,modelValue:h,showYearPicker:p,setHoverDate:m,selectQuarter:g,toggleYearPicker:y,handleYearSelect:v,handleYear:_}=Zce(i,r);return e({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:g,handleYearSelect:v,handleYear:_})}),(b,w)=>(S(),re(Wv,{"multi-calendars":P(a).count,stretch:""},{default:ce(({instance:T})=>[K("div",{class:"dp-quarter-picker-wrap",style:rr({minHeight:`${P(l).modeHeight}px`})},[K("div",null,[Z(qL,ie(b.$props,{items:P(u)(T),instance:T,"show-year-picker":P(p)[T],year:P(c)(T),"is-disabled":x=>P(d)(T,x),onHandleYear:x=>P(_)(T,x),onYearSelect:x=>P(v)(x,T),onToggleYearPicker:x=>P(y)(T,x==null?void 0:x.flow,x==null?void 0:x.show)}),Jn({_:2},[st(P(o),(x,C)=>({name:x,fn:ce(I=>[fe(b.$slots,x,xn(ir(I)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),K("div",ede,[(S(!0),U(Te,null,st(P(f)(T),(x,C)=>(S(),U("div",{key:C},[K("button",{type:"button",class:Ae(["dp--qr-btn",{"dp--qr-btn-active":x.active,"dp--qr-btn-between":x.isBetween,"dp--qr-btn-disabled":x.disabled,"dp--highlighted":x.highlighted}]),disabled:x.disabled,onClick:I=>P(g)(x.value,T,x.disabled),onMouseover:I=>P(m)(x.value)},[b.$slots.quarter?fe(b.$slots,"quarter",{key:0,value:x.value,text:x.text}):(S(),U(Te,{key:1},[Qe(Me(x.text),1)],64))],42,tde)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),rde=["id"],ide={key:0,class:"dp__sidebar_left"},sde={key:1,class:"dp--preset-dates"},ode=["onClick","onKeydown"],ade={key:2,class:"dp__sidebar_right"},lde={key:3,class:"dp__action_extra"},GA=Pe({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Hv,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ee(()=>{const{openOnTop:oe,...A}=i;return{...A,flowStep:C.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=YL(),u=ua(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:f}=Kn(i),h=se(null),p=se(0),m=se(null),g=se(null),y=se(!1),v=se(null);Wt(()=>{if(!i.shadow){y.value=!0,_(),window.addEventListener("resize",_);const oe=nr(m);if(oe&&!c.value.enabled&&!d.value.enabled&&(o(!0),N()),oe){const A=$=>{f.value.allowPreventDefault&&$.preventDefault(),Zo($,f.value,!0)};oe.addEventListener("pointerdown",A),oe.addEventListener("mousedown",A)}}}),mo(()=>{window.removeEventListener("resize",_)});const _=()=>{const oe=nr(g);oe&&(p.value=oe.getBoundingClientRect().width)},{arrowRight:b,arrowLeft:w,arrowDown:T,arrowUp:x}=va(),{flowStep:C,updateFlowStep:I,childMount:E,resetFlow:M}=tce(i,r,v),F=ee(()=>i.monthPicker?yce:i.yearPicker?wce:i.timePicker?Lce:i.quarterPicker?nde:Jce),N=()=>{const oe=nr(m);oe&&oe.focus({preventScroll:!0})},k=ee(()=>{var oe;return((oe=v.value)==null?void 0:oe.getSidebarProps())||{}}),R=()=>{i.openOnTop&&r("recalculate-position")},D=Ei(u,"action"),B=ee(()=>i.monthPicker||i.yearPicker?Ei(u,"monthYear"):i.timePicker?Ei(u,"timePicker"):Ei(u,"shared")),Y=ee(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),L=ee(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),O=ee(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),J=oe=>{Zo(oe,f.value,!0)},te=()=>{i.escClose&&r("close-picker")},ge=oe=>{if(i.arrowNavigation){if(oe==="up")return x();if(oe==="down")return T();if(oe==="left")return w();if(oe==="right")return b()}else oe==="left"||oe==="up"?ae("handleArrow","left",0,oe==="up"):ae("handleArrow","right",0,oe==="down")},ve=oe=>{a(oe.shiftKey),!i.disableMonthYearSelect&&oe.code==="Tab"&&oe.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(oe.preventDefault(),Zo(oe,f.value,!0),r("close-picker"))},ne=()=>{N(),r("time-picker-close")},j=oe=>{var A,$,H;(A=v.value)==null||A.toggleTimePicker(!1,!1),($=v.value)==null||$.toggleMonthPicker(!1,!1,oe),(H=v.value)==null||H.toggleYearPicker(!1,!1,oe)},z=(oe,A=0)=>{var $,H,le;return oe==="month"?($=v.value)==null?void 0:$.toggleMonthPicker(!1,!0,A):oe==="year"?(H=v.value)==null?void 0:H.toggleYearPicker(!1,!0,A):oe==="time"?(le=v.value)==null?void 0:le.toggleTimePicker(!0,!1):j(A)},ae=(oe,...A)=>{var $,H;($=v.value)!=null&&$[oe]&&((H=v.value)==null||H[oe](...A))},X=()=>{ae("selectCurrentDate")},he=(oe,A)=>{ae("presetDate",oe,A)},be=()=>{ae("clearHoverDate")};return e({updateMonthYear:(oe,A)=>{ae("updateMonthYear",oe,A)},switchView:z}),(oe,A)=>{var $;return S(),U("div",{id:oe.uid?`dp-menu-${oe.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog",class:Ae(O.value),onMouseleave:be,onClick:J,onKeydown:[ct(te,["esc"]),A[18]||(A[18]=ct(St(H=>ge("left"),["prevent"]),["left"])),A[19]||(A[19]=ct(St(H=>ge("up"),["prevent"]),["up"])),A[20]||(A[20]=ct(St(H=>ge("down"),["prevent"]),["down"])),A[21]||(A[21]=ct(St(H=>ge("right"),["prevent"]),["right"])),ve]},[(oe.disabled||oe.readonly)&&P(d).enabled?(S(),U("div",{key:0,class:Ae(L.value)},null,2)):G("",!0),!P(d).enabled&&!oe.teleportCenter?(S(),U("div",{key:1,class:Ae(Y.value)},null,2)):G("",!0),K("div",{ref_key:"innerMenuRef",ref:g,class:Ae({dp__menu_content_wrapper:(($=oe.presetDates)==null?void 0:$.length)||!!oe.$slots["left-sidebar"]||!!oe.$slots["right-sidebar"]}),style:rr({"--dp-menu-width":`${p.value}px`})},[oe.$slots["left-sidebar"]?(S(),U("div",ide,[fe(oe.$slots,"left-sidebar",xn(ir(k.value)))])):G("",!0),oe.presetDates.length?(S(),U("div",sde,[(S(!0),U(Te,null,st(oe.presetDates,(H,le)=>(S(),U(Te,{key:le},[H.slot?fe(oe.$slots,H.slot,{key:0,presetDate:he,label:H.label,value:H.value}):(S(),U("button",{key:1,type:"button",style:rr(H.style||{}),class:"dp__btn dp--preset-range",onClick:St(ue=>he(H.value,H.noTz),["prevent"]),onKeydown:[ct(St(ue=>he(H.value,H.noTz),["prevent"]),["enter"]),ct(St(ue=>he(H.value,H.noTz),["prevent"]),["space"])]},Me(H.label),45,ode))],64))),128))])):G("",!0),K("div",{ref_key:"calendarWrapperRef",ref:h,class:"dp__instance_calendar",role:"document"},[(S(),re(un(F.value),ie({ref_key:"dynCmpRef",ref:v},s.value,{"flow-step":P(C),onMount:P(E),onUpdateFlowStep:P(I),onResetFlow:P(M),onFocusMenu:N,onSelectDate:A[0]||(A[0]=H=>oe.$emit("select-date")),onDateUpdate:A[1]||(A[1]=H=>oe.$emit("date-update",H)),onTooltipOpen:A[2]||(A[2]=H=>oe.$emit("tooltip-open",H)),onTooltipClose:A[3]||(A[3]=H=>oe.$emit("tooltip-close",H)),onAutoApply:A[4]||(A[4]=H=>oe.$emit("auto-apply",H)),onRangeStart:A[5]||(A[5]=H=>oe.$emit("range-start",H)),onRangeEnd:A[6]||(A[6]=H=>oe.$emit("range-end",H)),onInvalidFixedRange:A[7]||(A[7]=H=>oe.$emit("invalid-fixed-range",H)),onTimeUpdate:A[8]||(A[8]=H=>oe.$emit("time-update")),onAmPmChange:A[9]||(A[9]=H=>oe.$emit("am-pm-change",H)),onTimePickerOpen:A[10]||(A[10]=H=>oe.$emit("time-picker-open",H)),onTimePickerClose:ne,onRecalculatePosition:R,onUpdateMonthYear:A[11]||(A[11]=H=>oe.$emit("update-month-year",H)),onAutoApplyInvalid:A[12]||(A[12]=H=>oe.$emit("auto-apply-invalid",H)),onInvalidDate:A[13]||(A[13]=H=>oe.$emit("invalid-date",H)),"onUpdate:internalModelValue":A[14]||(A[14]=H=>oe.$emit("update:internal-model-value",H))}),Jn({_:2},[st(B.value,(H,le)=>({name:H,fn:ce(ue=>[fe(oe.$slots,H,xn(ir({...ue})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),oe.$slots["right-sidebar"]?(S(),U("div",ade,[fe(oe.$slots,"right-sidebar",xn(ir(k.value)))])):G("",!0),oe.$slots["action-extra"]?(S(),U("div",lde,[oe.$slots["action-extra"]?fe(oe.$slots,"action-extra",{key:0,selectCurrentDate:X}):G("",!0)])):G("",!0)],6),!oe.autoApply||P(f).keepActionRow?(S(),re(uce,ie({key:2,"menu-mount":y.value},s.value,{"calendar-width":p.value,onClosePicker:A[15]||(A[15]=H=>oe.$emit("close-picker")),onSelectDate:A[16]||(A[16]=H=>oe.$emit("select-date")),onInvalidSelect:A[17]||(A[17]=H=>oe.$emit("invalid-select")),onSelectNow:X}),Jn({_:2},[st(P(D),(H,le)=>({name:H,fn:ce(ue=>[fe(oe.$slots,H,xn(ir({...ue})))])}))]),1040,["menu-mount","calendar-width"])):G("",!0)],42,rde)}}}),ude=typeof window<"u"?window:void 0,Pb=()=>{},cde=t=>yg()?(Zw(t),!0):!1,dde=(t,e,n,r)=>{if(!t)return Pb;let i=Pb;const s=It(()=>P(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Pb})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return cde(o),o},fde=(t,e,n,r={})=>{const{window:i=ude,event:s="pointerdown"}=r;return i?dde(i,s,o=>{const a=nr(t),l=nr(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},hde=Pe({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Hv},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ua(),o=se(!1),a=Fu(i,"modelValue"),l=Fu(i,"timezone"),u=se(null),c=se(null),d=se(null),f=se(!1),h=se(null),p=se(!1),m=se(!1),{setMenuFocused:g,setShiftKey:y}=YL(),{clearArrowNav:v}=va(),{mapDatesArrToMap:_,validateDate:b,isValidTime:w}=Ll(i),{defaultedTransitions:T,defaultedTextInput:x,defaultedInline:C,defaultedConfig:I}=Kn(i),{menuTransition:E,showTransition:M}=kh(T);Wt(()=>{ge(i.modelValue),Wn().then(()=>{if(!C.value.enabled){const me=L(h.value);me==null||me.addEventListener("scroll",oe),window==null||window.addEventListener("resize",A)}}),C.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",$),window==null||window.addEventListener("keydown",H)});const F=ee(()=>_());mo(()=>{if(!C.value.enabled){const me=L(h.value);me==null||me.removeEventListener("scroll",oe),window==null||window.removeEventListener("resize",A)}window==null||window.removeEventListener("keyup",$),window==null||window.removeEventListener("keydown",H)});const N=Ei(s,"all",i.presetDates),k=Ei(s,"input");It([a,l],()=>{ge(a.value)},{deep:!0});const{openOnTop:R,menuStyle:D,xCorrect:B,setMenuPosition:Y,getScrollableParent:L,shadowRender:O}=Que({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:h,inline:C,emit:r,props:i,slots:s}),{inputValue:J,internalModelValue:te,parseExternalModelValue:ge,emitModelValue:ve,formatInputValue:ne,checkBeforeEmit:j}=que(r,i,f),z=ee(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:C.value.enabled,dp__flex_display_with_input:C.value.input})),ae=ee(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=ee(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||C.value.enabled})),he=ee(()=>({class:"dp__outer_menu_wrap"})),be=ee(()=>C.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),oe=()=>{o.value&&(I.value.closeOnScroll?Be():Y())},A=()=>{o.value&&Y()},$=me=>{me.key==="Tab"&&!C.value.enabled&&!i.teleport&&I.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Be()),m.value=me.shiftKey},H=me=>{m.value=me.shiftKey},le=()=>{!i.disabled&&!i.readonly&&(O(GA,i),Y(!1),o.value=!0,o.value&&r("open"),o.value||Re(),ge(i.modelValue))},ue=()=>{var me;J.value="",Re(),(me=d.value)==null||me.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),I.value.closeOnClearValue&&Be()},Se=()=>{const me=te.value;return!me||!Array.isArray(me)&&b(me)?!0:Array.isArray(me)?i.multiDates||me.length===2&&b(me[0])&&b(me[1])?!0:i.partialRange&&!i.timePicker?b(me[0]):!1:!1},ke=()=>{j()&&Se()?(ve(),Be()):r("invalid-select",te.value)},we=me=>{Ie(),ve(),I.value.closeOnAutoApply&&!me&&Be()},Ie=()=>{d.value&&x.value.enabled&&d.value.setParsedDate(te.value)},ye=(me=!1)=>{i.autoApply&&w(te.value)&&Se()&&(i.range&&Array.isArray(te.value)?(i.partialRange||te.value.length===2)&&we(me):we(me))},Re=()=>{x.value.enabled||(te.value=null)},Be=()=>{C.value.enabled||(o.value&&(o.value=!1,B.value=!1,g(!1),y(!1),v(),r("closed"),J.value&&ge(a.value)),Re(),r("blur"))},Ke=(me,Ce,xe=!1)=>{if(!me){te.value=null;return}const Ye=Array.isArray(me)?!me.some(tt=>!b(tt)):b(me),je=w(me);Ye&&je&&(te.value=me,Ce&&(p.value=xe,ke(),r("text-submit")))},et=()=>{i.autoApply&&w(te.value)&&ve(),Ie()},lt=()=>o.value?Be():le(),q=me=>{te.value=me},V=()=>{x.value.enabled&&(f.value=!0,ne()),r("focus")},W=()=>{if(x.value.enabled&&(f.value=!1,ge(i.modelValue),p.value)){const me=Aue(h.value,m.value);me==null||me.focus()}r("blur")},Q=me=>{c.value&&c.value.updateMonthYear(0,{month:VA(me.month),year:VA(me.year)})},de=me=>{ge(me??i.modelValue)},Le=(me,Ce)=>{var xe;(xe=c.value)==null||xe.switchView(me,Ce)},Ge=me=>I.value.onClickOutside?I.value.onClickOutside(me):Be();return fde(u,d,()=>Ge(Se)),e({closeMenu:Be,selectDate:ke,clearValue:ue,openMenu:le,onScroll:oe,formatInputValue:ne,updateInternalModelValue:q,setMonthYear:Q,parseModel:de,switchView:Le,toggleMenu:lt}),(me,Ce)=>(S(),U("div",{ref_key:"pickerWrapperRef",ref:h,class:Ae(z.value),"data-datepicker-instance":""},[Z(sce,ie({ref_key:"inputRef",ref:d,"input-value":P(J),"onUpdate:inputValue":Ce[0]||(Ce[0]=xe=>dn(J)?J.value=xe:null),"is-menu-open":o.value},me.$props,{onClear:ue,onOpen:le,onSetInputDate:Ke,onSetEmptyDate:P(ve),onSelectDate:ke,onToggle:lt,onClose:Be,onFocus:V,onBlur:W,onRealBlur:Ce[1]||(Ce[1]=xe=>f.value=!1)}),Jn({_:2},[st(P(k),(xe,Ye)=>({name:xe,fn:ce(je=>[fe(me.$slots,xe,xn(ir(je)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),Z(b1,xn(ir(X.value)),{default:ce(()=>[Z(Ki,{name:P(E)(P(R)),css:P(M)&&!P(C).enabled},{default:ce(()=>[o.value?(S(),U("div",ie({key:0,ref_key:"dpWrapMenuRef",ref:u},he.value,{class:{"dp--menu-wrapper":!P(C).enabled},style:P(C).enabled?void 0:P(D)}),[Z(GA,ie({ref_key:"dpMenuRef",ref:c},me.$props,{"internal-model-value":P(te),"onUpdate:internalModelValue":Ce[2]||(Ce[2]=xe=>dn(te)?te.value=xe:null),class:{[ae.value]:!0,"dp--menu-wrapper":me.teleport},"open-on-top":P(R),"arr-map-values":F.value,"no-overlay-focus":be.value,onClosePicker:Be,onSelectDate:ke,onAutoApply:ye,onTimeUpdate:et,onFlowStep:Ce[3]||(Ce[3]=xe=>me.$emit("flow-step",xe)),onUpdateMonthYear:Ce[4]||(Ce[4]=xe=>me.$emit("update-month-year",xe)),onInvalidSelect:Ce[5]||(Ce[5]=xe=>me.$emit("invalid-select",P(te))),onAutoApplyInvalid:Ce[6]||(Ce[6]=xe=>me.$emit("invalid-select",xe)),onInvalidFixedRange:Ce[7]||(Ce[7]=xe=>me.$emit("invalid-fixed-range",xe)),onRecalculatePosition:P(Y),onTooltipOpen:Ce[8]||(Ce[8]=xe=>me.$emit("tooltip-open",xe)),onTooltipClose:Ce[9]||(Ce[9]=xe=>me.$emit("tooltip-close",xe)),onTimePickerOpen:Ce[10]||(Ce[10]=xe=>me.$emit("time-picker-open",xe)),onTimePickerClose:Ce[11]||(Ce[11]=xe=>me.$emit("time-picker-close",xe)),onAmPmChange:Ce[12]||(Ce[12]=xe=>me.$emit("am-pm-change",xe)),onRangeStart:Ce[13]||(Ce[13]=xe=>me.$emit("range-start",xe)),onRangeEnd:Ce[14]||(Ce[14]=xe=>me.$emit("range-end",xe)),onDateUpdate:Ce[15]||(Ce[15]=xe=>me.$emit("date-update",xe)),onInvalidDate:Ce[16]||(Ce[16]=xe=>me.$emit("invalid-date",xe))}),Jn({_:2},[st(P(N),(xe,Ye)=>({name:xe,fn:ce(je=>[fe(me.$slots,xe,xn(ir({...je})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):G("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),fS=(()=>{const t=hde;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),pde=Object.freeze(Object.defineProperty({__proto__:null,default:fS},Symbol.toStringTag,{value:"Module"}));Object.entries(pde).forEach(([t,e])=>{t!=="default"&&(fS[t]=e)});var Pr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function YA(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=mde(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function mde(t,e){if(t){if(typeof t=="string")return qA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(t,e)}}function qA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var e3={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=YA(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=YA(n),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,h=Ee.resolveFieldData(u,f);if(this.filters[i](h,r,s)){o.push(u);break}}}catch(p){c.e(p)}finally{c.f()}}}}catch(p){a.e(p)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Ee.removeAccents(e.toString()).toLocaleLowerCase(r)==Ee.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Ee.removeAccents(e.toString()).toLocaleLowerCase(r)!=Ee.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Ee.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return e=vde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vde(t){var e=yde(t,"string");return Ff(e)=="symbol"?e:String(e)}function yde(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QA={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[Pr.STARTS_WITH,Pr.CONTAINS,Pr.NOT_CONTAINS,Pr.ENDS_WITH,Pr.EQUALS,Pr.NOT_EQUALS],numeric:[Pr.EQUALS,Pr.NOT_EQUALS,Pr.LESS_THAN,Pr.LESS_THAN_OR_EQUAL_TO,Pr.GREATER_THAN,Pr.GREATER_THAN_OR_EQUAL_TO],date:[Pr.DATE_IS,Pr.DATE_IS_NOT,Pr.DATE_BEFORE,Pr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},bde=Symbol();function wde(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var _de={install:function(e,n){var r=n?kb(kb({},QA),n):kb({},QA),i={config:Dn(r),changeTheme:wde};e.config.globalProperties.$primevue=i,e.provide(bde,i)}},t3={name:"BlankIcon",extends:ma},Tde=K("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),Sde=[Tde];function Ede(t,e,n,r,i,s){return S(),U("svg",ie({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Sde,16)}t3.render=Ede;var zv={name:"CheckIcon",extends:ma},Ide=K("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),Cde=[Ide];function Ode(t,e,n,r,i,s){return S(),U("svg",ie({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Cde,16)}zv.render=Ode;var hS={name:"SearchIcon",extends:ma},Ade=K("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),Pde=[Ade];function kde(t,e,n,r,i,s){return S(),U("svg",ie({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Pde,16)}hS.render=kde;var n3=iQ(),pS={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=Oe.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function xde(t,e,n,r,i,s){return s.inline?fe(t.$slots,"default",{key:0}):i.mounted?(S(),re(b1,{key:1,to:n.appendTo},[fe(t.$slots,"default")],8,["to"])):G("",!0)}pS.render=xde;var Dde=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,JA=er.extend({name:"virtualscroller",css:Dde}),Rde={name:"BaseVirtualScroller",extends:Wr,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:JA,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;JA.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){r3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r3(t,e,n){return e=Nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nde(t){var e=Mde(t,"string");return Uf(e)=="symbol"?e:String(e)}function Mde(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mS={name:"VirtualScroller",extends:Rde,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){Oe.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=Oe.getWidth(this.element),this.defaultHeight=Oe.getHeight(this.element),this.defaultContentWidth=Oe.getWidth(this.content),this.defaultContentHeight=Oe.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(x){return x>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,f=d===void 0?0:d,h=this.calculateNumItems(),p=h.numToleratedItems,m=this.getContentPosition(),g=this.itemSize,y=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1?arguments[1]:void 0;return C<=I?0:C},v=function(C,I,E){return C*I+E},_=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:C,top:I,behavior:r})},b=i?{rows:0,cols:0}:0,w=!1,T=!1;i?(b={rows:y(e[0],p[0]),cols:y(e[1],p[1])},_(v(b.cols,g[1],m.left),v(b.rows,g[0],m.top)),T=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,w=b.rows!==a.rows||b.cols!==a.cols):(b=y(e,p),s?_(v(b,g,m.left),c):_(f,v(b,g,m.top)),T=this.lastScrollPos!==(s?f:c),w=b!==a),this.isRangeChanged=w,T&&(this.first=b)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(g){return g>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:y,top:v,behavior:i})},f=n==="to-start",h=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var p=(c.first-1)*this.itemSize;o?d(p,0):d(0,p)}}else if(h){if(s)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var m=(c.first+1)*this.itemSize;o?d(m,0):d(0,m)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(d,f){return Math.floor(d/(f||d))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,h){return Math.ceil(f/(h||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,d,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<f?2:3)*f,h)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[Oe.getWidth(e.element),Oe.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Gc(Gc({},e.spacerStyle),r3({},"".concat(l),(u||[]).length*c+d+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,d){return c*d},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Gc(Gc({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(M,F){return M?M>F?M-F:M:0},l=function(M,F){return Math.floor(M/(F||M))},u=function(M,F,N,k,R,D){return M<=R?R:D?N-k-R:F+R-1},c=function(M,F,N,k,R,D,B){return M<=D?0:Math.max(0,B?M<F?N:M-D:M>F?N:M-2*D)},d=function(M,F,N,k,R,D){var B=F+k+2*R;return M>=R&&(B+=R+1),n.getLast(B,D)},f=a(r.scrollTop,o.top),h=a(r.scrollLeft,o.left),p=i?{rows:0,cols:0}:0,m=this.last,g=!1,y=this.lastScrollPos;if(i){var v=this.lastScrollPos.top<=f,_=this.lastScrollPos.left<=h;if(!this.appendOnly||this.appendOnly&&(v||_)){var b={rows:l(f,this.itemSize[0]),cols:l(h,this.itemSize[1])},w={rows:u(b.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],v),cols:u(b.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)};p={rows:c(b.rows,w.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],v),cols:c(b.cols,w.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)},m={rows:d(b.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(b.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},g=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,y={top:f,left:h}}}else{var T=s?h:f,x=this.lastScrollPos<=T;if(!this.appendOnly||this.appendOnly&&x){var C=l(T,this.itemSize),I=u(C,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,x);p=c(C,I,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,x),m=d(C,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),g=p!==this.first||m!==this.last||this.isRangeChanged,y=T}}return{first:p,last:m,isRangeChanged:g,scrollPos:y}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(Oe.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[Oe.getWidth(e.element),Oe.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=Oe.getWidth(e.content),e.defaultContentHeight=Oe.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Gc({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||Oe.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Ph}},$de=["tabindex"];function Lde(t,e,n,r,i,s){var o=En("SpinnerIcon");return t.disabled?(S(),U(Te,{key:1},[fe(t.$slots,"default"),fe(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(S(),U("div",ie({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[fe(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[K("div",ie({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(S(!0),U(Te,null,st(s.loadedItems,function(a,l){return fe(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(S(),U("div",ie({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):G("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(S(),U("div",ie({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(S(!0),U(Te,{key:0},st(i.loaderArr,function(a,l){return fe(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):G("",!0),fe(t.$slots,"loadingicon",{},function(){return[Z(o,ie({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):G("",!0)],16,$de))}mS.render=Lde;var Fde={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n=e.instance,r=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!r.editable&&n.label===r.placeholder,"p-dropdown-label-empty":!r.editable&&!n.$slots.value&&(n.label==="p-emptylabel"||n.label.length===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},Ude=er.extend({name:"dropdown",classes:Fde}),Vde={name:"BaseDropdown",extends:Wr,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Ude,provide:function(){return{$parentInstance:this}}};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Bde(t){return Kde(t)||Wde(t)||Hde(t)||jde()}function jde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){if(t){if(typeof t=="string")return Ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ww(t,e)}}function Wde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kde(t){if(Array.isArray(t))return Ww(t)}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){i3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i3(t,e,n){return e=zde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Gde(t,"string");return Vf(e)=="symbol"?e:String(e)}function Gde(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s3={name:"Dropdown",extends:Vde,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||rc()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||rc(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Nu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ee.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ee.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Ee.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ee.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ee.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ee.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Oe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Oe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||Oe.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Ee.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Ee.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Oe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Oe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Oe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Oe.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){n3.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onDeleteKey:function(e){this.showClear&&(this.updateModel(e,null),e.preventDefault())},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget,i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Oe.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Nu.set("overlay",e,this.$primevue.config.zIndex.overlay),Oe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Oe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Nu.clear(e)},alignOverlay:function(){this.appendTo==="self"?Oe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Oe.getOuterWidth(this.$el)+"px",Oe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new b$(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Oe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&Oe.isVisible(n)&&(this.labelClickListener=function(){Oe.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&Oe.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return Oe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ee.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Ee.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return Ee.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Oe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=e3.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(tP(tP({},o),{},i3({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",Bde(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return Ee.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Ee.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Dv},components:{VirtualScroller:mS,Portal:pS,TimesIcon:Uv,ChevronDownIcon:xv,SpinnerIcon:Ph,SearchIcon:hS,CheckIcon:zv,BlankIcon:t3}};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){Yde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yde(t,e,n){return e=qde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=Xde(t,"string");return Bf(e)=="symbol"?e:String(e)}function Xde(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qde=["id"],Jde=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Zde=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],efe=["value","placeholder","aria-owns","aria-activedescendant"],tfe=["id"],nfe=["id"],rfe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function ife(t,e,n,r,i,s){var o=En("SpinnerIcon"),a=En("CheckIcon"),l=En("BlankIcon"),u=En("VirtualScroller"),c=En("Portal"),d=Gf("ripple");return S(),U("div",ie({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(S(),U("input",ie({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},ms(ms({},t.inputProps),t.ptm("input"))),null,16,Jde)):(S(),U("span",ie({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},ms(ms({},t.inputProps),t.ptm("input"))),[fe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[Qe(Me(s.label==="p-emptylabel"?"":s.label||"empty"),1)]})],16,Zde)),t.showClear&&t.modelValue!=null?fe(t.$slots,"clearicon",{key:2,class:Ae(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(S(),re(un(t.clearIcon?"i":"TimesIcon"),ie({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},ms(ms({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):G("",!0),K("div",ie({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?fe(t.$slots,"loadingicon",{key:0,class:Ae(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(S(),U("span",ie({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(S(),re(o,ie({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"dropdownicon",{key:1,class:Ae(t.cx("dropdownIcon"))},function(){return[(S(),re(un(t.dropdownIcon?"span":"ChevronDownIcon"),ie({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Z(c,{appendTo:t.appendTo},{default:ce(function(){return[Z(Ki,ie({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:ce(function(){return[i.overlayVisible?(S(),U("div",ie({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},ms(ms({},t.panelProps),t.ptm("panel"))),[K("span",ie({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),fe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(S(),U("div",ie({key:0,class:t.cx("header")},t.ptm("header")),[K("div",ie({class:t.cx("filterContainer")},t.ptm("filterContainer")),[K("input",ie({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},ms(ms({},t.filterInputProps),t.ptm("filterInput"))),null,16,efe),fe(t.$slots,"filtericon",{class:Ae(t.cx("filterIcon"))},function(){return[(S(),re(un(t.filterIcon?"span":"SearchIcon"),ie({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),K("span",ie({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Me(s.filterResultMessageText),17)],16)):G("",!0),K("div",ie({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Z(u,ie({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Jn({content:ce(function(f){var h=f.styleClass,p=f.contentRef,m=f.items,g=f.getItemOptions,y=f.contentStyle,v=f.itemSize;return[K("ul",ie({ref:function(b){return s.listRef(b,p)},id:i.id+"_list",class:[t.cx("list"),h],style:y,role:"listbox"},t.ptm("list")),[(S(!0),U(Te,null,st(m,function(_,b){return S(),U(Te,{key:s.getOptionRenderKey(_,s.getOptionIndex(b,g))},[s.isOptionGroup(_)?(S(),U("li",ie({key:0,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:v?v+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[fe(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(b,g)},function(){return[K("span",ie({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),Me(s.getOptionGroupLabel(_.optionGroup)),17)]})],16,nfe)):Ci((S(),U("li",ie({key:1,id:i.id+"_"+s.getOptionIndex(b,g),class:t.cx("item",{option:_,focusedOption:s.getOptionIndex(b,g)}),style:{height:v?v+"px":void 0},role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(b,g)),onClick:function(T){return s.onOptionSelect(T,_)},onMousemove:function(T){return s.onOptionMouseMove(T,s.getOptionIndex(b,g))},"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(b,g),"data-p-disabled":s.isOptionDisabled(_)},s.getPTItemOptions(_,g,b,"item")),[t.checkmark?(S(),U(Te,{key:0},[s.isSelected(_)?(S(),re(a,ie({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(S(),re(l,ie({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):G("",!0),fe(t.$slots,"option",{option:_,index:s.getOptionIndex(b,g)},function(){return[K("span",ie({class:t.cx("itemLabel")},t.ptm("itemLabel")),Me(s.getOptionLabel(_)),17)]})],16,rfe)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(S(),U("li",ie({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[fe(t.$slots,"emptyfilter",{},function(){return[Qe(Me(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(S(),U("li",ie({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[fe(t.$slots,"empty",{},function(){return[Qe(Me(s.emptyMessageText),1)]})],16)):G("",!0)],16,tfe)]}),_:2},[t.$slots.loader?{name:"loader",fn:ce(function(f){var h=f.options;return[fe(t.$slots,"loader",{options:h})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),fe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(S(),U("span",ie({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Me(s.emptyMessageText),17)):G("",!0),K("span",ie({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Me(s.selectedMessageText),17),K("span",ie({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):G("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,Qde)}s3.render=ife;var sfe={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},ofe=er.extend({name:"inputtext",classes:sfe}),afe={name:"BaseInputText",extends:Wr,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:ofe,provide:function(){return{$parentInstance:this}}},o3={name:"InputText",extends:afe,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},lfe=["value","aria-invalid"];function ufe(t,e,n,r,i,s){return S(),U("input",ie({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,lfe)}o3.render=ufe;var cfe={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},dfe=er.extend({name:"checkbox",classes:cfe}),ffe={name:"BaseCheckbox",extends:Wr,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:dfe,provide:function(){return{$parentInstance:this}}};function hfe(t){return vfe(t)||gfe(t)||mfe(t)||pfe()}function pfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(t,e){if(t){if(typeof t=="string")return Kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kw(t,e)}}function gfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vfe(t){if(Array.isArray(t))return Kw(t)}function Kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a3={name:"Checkbox",extends:ffe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Ee.equals(i,n.value)}):r=this.modelValue?[].concat(hfe(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Ee.contains(this.value,this.modelValue)}},components:{CheckIcon:zv}},yfe=["data-p-highlight","data-p-disabled"],bfe=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function wfe(t,e,n,r,i,s){var o=En("CheckIcon");return S(),U("div",ie({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[K("input",ie({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,bfe),K("div",ie({class:t.cx("box")},s.getPTOptions("box")),[fe(t.$slots,"icon",{checked:s.checked,class:Ae(t.cx("icon"))},function(){return[s.checked?(S(),re(o,ie({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):G("",!0)]})],16)],16,yfe)}a3.render=wfe;var _fe={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},Tfe={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},Sfe=er.extend({name:"multiselect",classes:Tfe,inlineStyles:_fe}),Efe={name:"BaseMultiSelect",extends:Wr,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Sfe,provide:function(){return{$parentInstance:this}}};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){l3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l3(t,e,n){return e=Ife(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Cfe(t,"string");return jf(e)=="symbol"?e:String(e)}function Cfe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sP(t){return kfe(t)||Pfe(t)||Afe(t)||Ofe()}function Ofe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Afe(t,e){if(t){if(typeof t=="string")return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}}function Pfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kfe(t){if(Array.isArray(t))return zw(t)}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u3={name:"MultiSelect",extends:Efe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||rc()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||rc(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Nu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ee.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ee.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?Ee.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Ee.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ee.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ee.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&Oe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Oe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&Ee.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Oe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Oe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Oe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Oe.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!Ee.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(sP(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&Oe.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){n3.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(0,e.shiftKey?i:0),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,o,this.startRangeIndex),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(e.shiftKey?0:i,i),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Oe.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Nu.set("overlay",e,this.$primevue.config.zIndex.overlay),Oe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Oe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Nu.clear(e)},alignOverlay:function(){this.appendTo==="self"?Oe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Oe.getOuterWidth(this.$el)+"px",Oe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new b$(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Oe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&Ee.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!Ee.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return Oe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ee.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Ee.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Ee.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Oe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=e3.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(iP(iP({},o),{},l3({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",sP(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Ee.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Ee.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Ee.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Ee.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Ee.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Dv},components:{Checkbox:a3,VirtualScroller:mS,Portal:pS,TimesIcon:Uv,SearchIcon:hS,TimesCircleIcon:AT,ChevronDownIcon:xv,SpinnerIcon:Ph,CheckIcon:zv}};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){Gw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gw(t,e,n){return e=xfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xfe(t){var e=Dfe(t,"string");return Hf(e)=="symbol"?e:String(e)}function Dfe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rfe=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Nfe=["onClick"],Mfe=["value","placeholder","aria-owns","aria-activedescendant"],$fe=["aria-label"],Lfe=["id"],Ffe=["id"],Ufe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Vfe(t,e,n,r,i,s){var o=En("TimesCircleIcon"),a=En("SpinnerIcon"),l=En("Checkbox"),u=En("VirtualScroller"),c=En("Portal"),d=Gf("ripple");return S(),U("div",ie({ref:"container",class:t.cx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[K("div",ie({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[K("input",ie({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Co(Co({},t.inputProps),t.ptm("hiddenInput"))),null,16,Rfe)],16),K("div",ie({class:t.cx("labelContainer")},t.ptm("labelContainer")),[K("div",ie({class:t.cx("label")},t.ptm("label")),[fe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(S(),U(Te,{key:0},[Qe(Me(s.label||"empty"),1)],64)):t.display==="chip"?(S(),U(Te,{key:1},[(S(!0),U(Te,null,st(s.chipSelectedItems,function(f){return S(),U("div",ie({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[fe(t.$slots,"chip",{value:f},function(){return[K("span",ie({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),Me(s.getLabelByValue(f)),17)]}),t.disabled?G("",!0):fe(t.$slots,"removetokenicon",{key:0,class:Ae(t.cx("removeTokenIcon")),item:f,onClick:function(p){return s.removeOption(p,f)},removeCallback:function(p){return s.removeOption(p,f)}},function(){return[t.removeTokenIcon?(S(),U("span",ie({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:St(function(h){return s.removeOption(h,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,Nfe)):(S(),re(o,ie({key:1,class:t.cx("removeTokenIcon"),onClick:St(function(h){return s.removeOption(h,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(S(),U(Te,{key:0},[Qe(Me(t.placeholder||"empty"),1)],64)):G("",!0)],64)):G("",!0)]})],16)],16),K("div",ie({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?fe(t.$slots,"loadingicon",{key:0,class:Ae(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(S(),U("span",ie({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(S(),re(a,ie({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"dropdownicon",{key:1,class:Ae(t.cx("dropdownIcon"))},function(){return[(S(),re(un(t.dropdownIcon?"span":"ChevronDownIcon"),ie({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Z(c,{appendTo:t.appendTo},{default:ce(function(){return[Z(Ki,ie({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:ce(function(){return[i.overlayVisible?(S(),U("div",ie({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Co(Co({},t.panelProps),t.ptm("panel"))),[K("span",ie({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),fe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(S(),U("div",ie({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(S(),re(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:ce(function(f){return[t.$slots.headercheckboxicon?(S(),re(un(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:Ae(f.class)},null,8,["checked","class"])):f.checked?(S(),re(un(t.checkboxIcon?"span":"CheckIcon"),ie({key:1,class:[f.class,Gw({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):G("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):G("",!0),t.filter?(S(),U("div",ie({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[K("input",ie({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Co(Co({},t.filterInputProps),t.ptm("filterInput"))),null,16,Mfe),fe(t.$slots,"filtericon",{class:Ae(t.cx("filterIcon"))},function(){return[(S(),re(un(t.filterIcon?"span":"SearchIcon"),ie({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):G("",!0),t.filter?(S(),U("span",ie({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Me(s.filterResultMessageText),17)):G("",!0),Ci((S(),U("button",ie({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Co(Co({},t.closeButtonProps),t.ptm("closeButton"))),[fe(t.$slots,"closeicon",{class:Ae(t.cx("closeIcon"))},function(){return[(S(),re(un(t.closeIcon?"span":"TimesIcon"),ie({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,$fe)),[[d]])],16)):G("",!0),K("div",ie({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Z(u,ie({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Jn({content:ce(function(f){var h=f.styleClass,p=f.contentRef,m=f.items,g=f.getItemOptions,y=f.contentStyle,v=f.itemSize;return[K("ul",ie({ref:function(b){return s.listRef(b,p)},id:i.id+"_list",class:[t.cx("list"),h],style:y,role:"listbox","aria-multiselectable":"true"},t.ptm("list")),[(S(!0),U(Te,null,st(m,function(_,b){return S(),U(Te,{key:s.getOptionRenderKey(_,s.getOptionIndex(b,g))},[s.isOptionGroup(_)?(S(),U("li",ie({key:0,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:v?v+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[fe(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(b,g)},function(){return[Qe(Me(s.getOptionGroupLabel(_.optionGroup)),1)]})],16,Ffe)):Ci((S(),U("li",ie({key:1,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:v?v+"px":void 0},class:t.cx("item",{option:_,index:b,getItemOptions:g}),role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(b,g)),onClick:function(T){return s.onOptionSelect(T,_,s.getOptionIndex(b,g),!0)},onMousemove:function(T){return s.onOptionMouseMove(T,s.getOptionIndex(b,g))}},s.getCheckboxPTOptions(_,g,b,"item"),{"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(b,g),"data-p-disabled":s.isOptionDisabled(_)}),[Z(l,{modelValue:s.isSelected(_),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(_,g,b,"itemCheckbox")},{icon:ce(function(w){return[t.$slots.itemcheckboxicon?(S(),re(un(t.$slots.itemcheckboxicon),{key:0,checked:w.checked,class:Ae(w.class)},null,8,["checked","class"])):w.checked?(S(),re(un(t.checkboxIcon?"span":"CheckIcon"),ie({key:1,class:[w.class,Gw({},t.checkboxIcon,w.checked)]},s.getCheckboxPTOptions(_,g,b,"itemCheckbox.icon")),null,16,["class"])):G("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),fe(t.$slots,"option",{option:_,index:s.getOptionIndex(b,g)},function(){return[K("span",xn(ir(t.ptm("option"))),Me(s.getOptionLabel(_)),17)]})],16,Ufe)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(S(),U("li",ie({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[fe(t.$slots,"emptyfilter",{},function(){return[Qe(Me(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(S(),U("li",ie({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[fe(t.$slots,"empty",{},function(){return[Qe(Me(s.emptyMessageText),1)]})],16)):G("",!0)],16,Lfe)]}),_:2},[t.$slots.loader?{name:"loader",fn:ce(function(f){var h=f.options;return[fe(t.$slots,"loader",{options:h})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),fe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(S(),U("span",ie({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Me(s.emptyMessageText),17)):G("",!0),K("span",ie({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Me(s.selectedMessageText),17),K("span",ie({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):G("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}u3.render=Vfe;var Bfe={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},jfe=er.extend({name:"textarea",classes:Bfe}),Hfe={name:"BaseTextarea",extends:Wr,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:jfe,provide:function(){return{$parentInstance:this}}},c3={name:"Textarea",extends:Hfe,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},Wfe=["value","aria-invalid"];function Kfe(t,e,n,r,i,s){return S(),U("textarea",ie({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,Wfe)}c3.render=Kfe;const zi=qk($5);zi.use(KT);zi.use(yX,{firebaseApp:pD,modules:[pX()]});zi.use(wD);zi.use(I6);zi.use(bne);zi.use(_de);zi.component("VueDatePicker",fS);zi.component("PrimeInputText",o3);zi.component("PrimeTextArea",c3);zi.component("PrimeDropdown",s3);zi.component("PrimeMultiSelect",u3);zi.mount("#app");
