var ZO=Object.defineProperty;var eN=(t,e,n)=>e in t?ZO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jo=(t,e,n)=>(eN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Cp(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Kt={},kl=[],Pi=()=>{},tN=()=>!1,nN=/^on[^a-z]/,_d=t=>nN.test(t),m0=t=>t.startsWith("onUpdate:"),cn=Object.assign,g0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},rN=Object.prototype.hasOwnProperty,At=(t,e)=>rN.call(t,e),Fe=Array.isArray,Al=t=>mu(t)==="[object Map]",Fa=t=>mu(t)==="[object Set]",b_=t=>mu(t)==="[object Date]",iN=t=>mu(t)==="[object RegExp]",nt=t=>typeof t=="function",dn=t=>typeof t=="string",jl=t=>typeof t=="symbol",qt=t=>t!==null&&typeof t=="object",v0=t=>(qt(t)||nt(t))&&nt(t.then)&&nt(t.catch),qS=Object.prototype.toString,mu=t=>qS.call(t),sN=t=>mu(t).slice(8,-1),QS=t=>mu(t)==="[object Object]",y0=t=>dn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fc=Cp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ip=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},oN=/-(\w)/g,Wr=Ip(t=>t.replace(oN,(e,n)=>n?n.toUpperCase():"")),aN=/\B([A-Z])/g,di=Ip(t=>t.replace(aN,"-$1").toLowerCase()),Td=Ip(t=>t.charAt(0).toUpperCase()+t.slice(1)),pc=Ip(t=>t?`on${Td(t)}`:""),To=(t,e)=>!Object.is(t,e),xl=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},vf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},yf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},wf=t=>{const e=dn(t)?Number(t):NaN;return isNaN(e)?t:e};let __;const yv=()=>__||(__=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),lN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",uN=Cp(lN);function Nn(t){if(Fe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=dn(r)?fN(r):Nn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(dn(t)||qt(t))return t}const cN=/;(?![^(]*\))/g,dN=/:([^]+)/,hN=/\/\*[^]*?\*\//g;function fN(t){const e={};return t.replace(hN,"").split(cN).forEach(n=>{if(n){const r=n.split(dN);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function De(t){let e="";if(dn(t))e=t;else if(Fe(t))for(let n=0;n<t.length;n++){const r=De(t[n]);r&&(e+=r+" ")}else if(qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function En(t){if(!t)return null;let{class:e,style:n}=t;return e&&!dn(e)&&(t.class=De(e)),n&&(t.style=Nn(n)),t}const pN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mN=Cp(pN);function XS(t){return!!t||t===""}function gN(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Eo(t[r],e[r]);return n}function Eo(t,e){if(t===e)return!0;let n=b_(t),r=b_(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=jl(t),r=jl(e),n||r)return t===e;if(n=Fe(t),r=Fe(e),n||r)return n&&r?gN(t,e):!1;if(n=qt(t),r=qt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Eo(t[o],e[o]))return!1}}return String(t)===String(e)}function kp(t,e){return t.findIndex(n=>Eo(n,e))}const ze=t=>dn(t)?t:t==null?"":Fe(t)||qt(t)&&(t.toString===qS||!nt(t.toString))?JSON.stringify(t,JS,2):String(t),JS=(t,e)=>e&&e.__v_isRef?JS(t,e.value):Al(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Fa(e)?{[`Set(${e.size})`]:[...e.values()]}:qt(e)&&!Fe(e)&&!QS(e)?String(e):e;let Xr;class w0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xr,!e&&Xr&&(this.index=(Xr.scopes||(Xr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Xr;try{return Xr=this,e()}finally{Xr=n}}}on(){Xr=this}off(){Xr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Ap(t){return new w0(t)}function ZS(t,e=Xr){e&&e.active&&e.effects.push(t)}function xp(){return Xr}function b0(t){Xr&&Xr.cleanups.push(t)}const _0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},eC=t=>(t.w&So)>0,tC=t=>(t.n&So)>0,vN=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=So},yN=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];eC(i)&&!tC(i)?i.delete(t):e[n++]=i,i.w&=~So,i.n&=~So}e.length=n}},bf=new WeakMap;let Xu=0,So=1;const wv=30;let Ci;const ua=Symbol(""),bv=Symbol("");class Hl{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ZS(this,r)}run(){if(!this.active)return this.fn();let e=Ci,n=co;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ci,Ci=this,co=!0,So=1<<++Xu,Xu<=wv?vN(this):T_(this),this.fn()}finally{Xu<=wv&&yN(this),So=1<<--Xu,Ci=this.parent,co=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ci===this?this.deferStop=!0:this.active&&(T_(this),this.onStop&&this.onStop(),this.active=!1)}}function T_(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function wN(t,e){t.effect instanceof Hl&&(t=t.effect.fn);const n=new Hl(t);e&&(cn(n,e),e.scope&&ZS(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function bN(t){t.effect.stop()}let co=!0;const nC=[];function gu(){nC.push(co),co=!1}function vu(){const t=nC.pop();co=t===void 0?!0:t}function Kr(t,e,n){if(co&&Ci){let r=bf.get(t);r||bf.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=_0()),rC(i)}}function rC(t,e){let n=!1;Xu<=wv?tC(t)||(t.n|=So,n=!eC(t)):n=!t.has(Ci),n&&(t.add(Ci),Ci.deps.push(t))}function Es(t,e,n,r,i,s){const o=bf.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Fe(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!jl(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Fe(t)?y0(n)&&a.push(o.get("length")):(a.push(o.get(ua)),Al(t)&&a.push(o.get(bv)));break;case"delete":Fe(t)||(a.push(o.get(ua)),Al(t)&&a.push(o.get(bv)));break;case"set":Al(t)&&a.push(o.get(ua));break}if(a.length===1)a[0]&&_v(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);_v(_0(l))}}function _v(t,e){const n=Fe(t)?t:[...t];for(const r of n)r.computed&&E_(r);for(const r of n)r.computed||E_(r)}function E_(t,e){(t!==Ci||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function _N(t,e){var n;return(n=bf.get(t))==null?void 0:n.get(e)}const TN=Cp("__proto__,__v_isRef,__isVue"),iC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(jl)),S_=EN();function EN(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=pt(this);for(let s=0,o=this.length;s<o;s++)Kr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(pt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){gu();const r=pt(this)[e].apply(this,n);return vu(),r}}),t}function SN(t){const e=pt(this);return Kr(e,"has",t),e.hasOwnProperty(t)}class sC{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&r===(i?s?dC:cC:s?uC:lC).get(e))return e;const o=Fe(e);if(!i){if(o&&At(S_,n))return Reflect.get(S_,n,r);if(n==="hasOwnProperty")return SN}const a=Reflect.get(e,n,r);return(jl(n)?iC.has(n):TN(n))||(i||Kr(e,"get",n),s)?a:Gt(a)?o&&y0(n)?a:a.value:qt(a)?i?E0(a):$n(a):a}}class oC extends sC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(wa(s)&&Gt(s)&&!Gt(r))return!1;if(!this._shallow&&(!Fc(r)&&!wa(r)&&(s=pt(s),r=pt(r)),!Fe(e)&&Gt(s)&&!Gt(r)))return s.value=r,!0;const o=Fe(e)&&y0(n)?Number(n)<e.length:At(e,n),a=Reflect.set(e,n,r,i);return e===pt(i)&&(o?To(r,s)&&Es(e,"set",n,r):Es(e,"add",n,r)),a}deleteProperty(e,n){const r=At(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Es(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!jl(n)||!iC.has(n))&&Kr(e,"has",n),r}ownKeys(e){return Kr(e,"iterate",Fe(e)?"length":ua),Reflect.ownKeys(e)}}class aC extends sC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const CN=new oC,IN=new aC,kN=new oC(!0),AN=new aC(!0),T0=t=>t,Pp=t=>Reflect.getPrototypeOf(t);function lh(t,e,n=!1,r=!1){t=t.__v_raw;const i=pt(t),s=pt(e);n||(To(e,s)&&Kr(i,"get",e),Kr(i,"get",s));const{has:o}=Pp(i),a=r?T0:n?C0:Vc;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function uh(t,e=!1){const n=this.__v_raw,r=pt(n),i=pt(t);return e||(To(t,i)&&Kr(r,"has",t),Kr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ch(t,e=!1){return t=t.__v_raw,!e&&Kr(pt(t),"iterate",ua),Reflect.get(t,"size",t)}function C_(t){t=pt(t);const e=pt(this);return Pp(e).has.call(e,t)||(e.add(t),Es(e,"add",t,t)),this}function I_(t,e){e=pt(e);const n=pt(this),{has:r,get:i}=Pp(n);let s=r.call(n,t);s||(t=pt(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?To(e,o)&&Es(n,"set",t,e):Es(n,"add",t,e),this}function k_(t){const e=pt(this),{has:n,get:r}=Pp(e);let i=n.call(e,t);i||(t=pt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Es(e,"delete",t,void 0),s}function A_(){const t=pt(this),e=t.size!==0,n=t.clear();return e&&Es(t,"clear",void 0,void 0),n}function dh(t,e){return function(r,i){const s=this,o=s.__v_raw,a=pt(o),l=e?T0:t?C0:Vc;return!t&&Kr(a,"iterate",ua),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function hh(t,e,n){return function(...r){const i=this.__v_raw,s=pt(i),o=Al(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?T0:e?C0:Vc;return!e&&Kr(s,"iterate",l?bv:ua),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Bs(t){return function(...e){return t==="delete"?!1:this}}function xN(){const t={get(s){return lh(this,s)},get size(){return ch(this)},has:uh,add:C_,set:I_,delete:k_,clear:A_,forEach:dh(!1,!1)},e={get(s){return lh(this,s,!1,!0)},get size(){return ch(this)},has:uh,add:C_,set:I_,delete:k_,clear:A_,forEach:dh(!1,!0)},n={get(s){return lh(this,s,!0)},get size(){return ch(this,!0)},has(s){return uh.call(this,s,!0)},add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear"),forEach:dh(!0,!1)},r={get(s){return lh(this,s,!0,!0)},get size(){return ch(this,!0)},has(s){return uh.call(this,s,!0)},add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear"),forEach:dh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=hh(s,!1,!1),n[s]=hh(s,!0,!1),e[s]=hh(s,!1,!0),r[s]=hh(s,!0,!0)}),[t,n,e,r]}const[PN,DN,RN,ON]=xN();function Dp(t,e){const n=e?t?ON:RN:t?DN:PN;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(At(n,i)&&i in r?n:r,i,s)}const NN={get:Dp(!1,!1)},MN={get:Dp(!1,!0)},LN={get:Dp(!0,!1)},$N={get:Dp(!0,!0)},lC=new WeakMap,uC=new WeakMap,cC=new WeakMap,dC=new WeakMap;function UN(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FN(t){return t.__v_skip||!Object.isExtensible(t)?0:UN(sN(t))}function $n(t){return wa(t)?t:Rp(t,!1,CN,NN,lC)}function hC(t){return Rp(t,!1,kN,MN,uC)}function E0(t){return Rp(t,!0,IN,LN,cC)}function VN(t){return Rp(t,!0,AN,$N,dC)}function Rp(t,e,n,r,i){if(!qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=FN(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Xi(t){return wa(t)?Xi(t.__v_raw):!!(t&&t.__v_isReactive)}function wa(t){return!!(t&&t.__v_isReadonly)}function Fc(t){return!!(t&&t.__v_isShallow)}function S0(t){return Xi(t)||wa(t)}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function Ed(t){return vf(t,"__v_skip",!0),t}const Vc=t=>qt(t)?$n(t):t,C0=t=>qt(t)?E0(t):t;function I0(t){co&&Ci&&(t=pt(t),rC(t.dep||(t.dep=_0())))}function Op(t,e){t=pt(t);const n=t.dep;n&&_v(n)}function Gt(t){return!!(t&&t.__v_isRef===!0)}function ue(t){return pC(t,!1)}function fC(t){return pC(t,!0)}function pC(t,e){return Gt(t)?t:new BN(t,e)}class BN{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:pt(e),this._value=n?e:Vc(e)}get value(){return I0(this),this._value}set value(e){const n=this.__v_isShallow||Fc(e)||wa(e);e=n?e:pt(e),To(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Vc(e),Op(this))}}function jN(t){Op(t)}function k(t){return Gt(t)?t.value:t}function HN(t){return nt(t)?t():k(t)}const WN={get:(t,e,n)=>k(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Gt(i)&&!Gt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function k0(t){return Xi(t)?t:new Proxy(t,WN)}class YN{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>I0(this),()=>Op(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function KN(t){return new YN(t)}function mC(t){const e=Fe(t)?new Array(t.length):{};for(const n in t)e[n]=gC(t,n);return e}class zN{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return _N(pt(this._object),this._key)}}class GN{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Wl(t,e,n){return Gt(t)?t:nt(t)?new GN(t):qt(t)&&arguments.length>1?gC(t,e,n):ue(t)}function gC(t,e,n){const r=t[e];return Gt(r)?r:new zN(t,e,n)}class qN{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Hl(e,()=>{this._dirty||(this._dirty=!0,Op(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=pt(this);return I0(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function QN(t,e,n=!1){let r,i;const s=nt(t);return s?(r=t,i=Pi):(r=t.get,i=t.set),new qN(r,i,s||!i,n)}function XN(t,...e){}function JN(t,e){}function Ss(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Va(s,e,n)}return i}function ni(t,e,n,r){if(nt(t)){const s=Ss(t,e,n,r);return s&&v0(s)&&s.catch(o=>{Va(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(ni(t[s],e,n,r));return i}function Va(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Ss(l,null,10,[t,o,a]);return}}ZN(t,n,i,r)}function ZN(t,e,n,r=!0){console.error(t)}let Bc=!1,Tv=!1;const fr=[];let ji=0;const Pl=[];let ps=null,Zo=0;const vC=Promise.resolve();let A0=null;function Rr(t){const e=A0||vC;return t?e.then(this?t.bind(this):t):e}function eM(t){let e=ji+1,n=fr.length;for(;e<n;){const r=e+n>>>1,i=fr[r],s=jc(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Np(t){(!fr.length||!fr.includes(t,Bc&&t.allowRecurse?ji+1:ji))&&(t.id==null?fr.push(t):fr.splice(eM(t.id),0,t),yC())}function yC(){!Bc&&!Tv&&(Tv=!0,A0=vC.then(wC))}function tM(t){const e=fr.indexOf(t);e>ji&&fr.splice(e,1)}function _f(t){Fe(t)?Pl.push(...t):(!ps||!ps.includes(t,t.allowRecurse?Zo+1:Zo))&&Pl.push(t),yC()}function x_(t,e=Bc?ji+1:0){for(;e<fr.length;e++){const n=fr[e];n&&n.pre&&(fr.splice(e,1),e--,n())}}function Tf(t){if(Pl.length){const e=[...new Set(Pl)];if(Pl.length=0,ps){ps.push(...e);return}for(ps=e,ps.sort((n,r)=>jc(n)-jc(r)),Zo=0;Zo<ps.length;Zo++)ps[Zo]();ps=null,Zo=0}}const jc=t=>t.id==null?1/0:t.id,nM=(t,e)=>{const n=jc(t)-jc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function wC(t){Tv=!1,Bc=!0,fr.sort(nM);const e=Pi;try{for(ji=0;ji<fr.length;ji++){const n=fr[ji];n&&n.active!==!1&&Ss(n,null,14)}}finally{ji=0,fr.length=0,Tf(),Bc=!1,A0=null,(fr.length||Pl.length)&&wC()}}let cl,fh=[];function bC(t,e){var n,r;cl=t,cl?(cl.enabled=!0,fh.forEach(({event:i,args:s})=>cl.emit(i,...s)),fh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{bC(s,e)}),setTimeout(()=>{cl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,fh=[])},3e3)):fh=[]}function rM(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Kt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=r[c]||Kt;h&&(i=n.map(f=>dn(f)?f.trim():f)),d&&(i=n.map(yf))}let a,l=r[a=pc(e)]||r[a=pc(Wr(e))];!l&&s&&(l=r[a=pc(di(e))]),l&&ni(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ni(u,t,6,i)}}function _C(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!nt(t)){const l=u=>{const c=_C(u,e,!0);c&&(a=!0,cn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(qt(t)&&r.set(t,null),null):(Fe(s)?s.forEach(l=>o[l]=null):cn(o,s),qt(t)&&r.set(t,o),o)}function Mp(t,e){return!t||!_d(e)?!1:(e=e.slice(2).replace(/Once$/,""),At(t,e[0].toLowerCase()+e.slice(1))||At(t,di(e))||At(t,e))}let Yn=null,Lp=null;function Hc(t){const e=Yn;return Yn=t,Lp=t&&t.type.__scopeId||null,e}function TC(t){Lp=t}function EC(){Lp=null}const iM=t=>ve;function ve(t,e=Yn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&xv(-1);const s=Hc(e);let o;try{o=t(...i)}finally{Hc(s),r._d&&xv(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Jh(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=t;let y,_;const v=Hc(t);try{if(n.shapeFlag&4){const m=i||r;y=Jr(c.call(m,m,d,s,f,h,p)),_=l}else{const m=e;y=Jr(m.length>1?m(s,{attrs:l,slots:a,emit:u}):m(s,null)),_=e.props?l:oM(l)}}catch(m){vc.length=0,Va(m,t,1),y=le(vr)}let b=y;if(_&&g!==!1){const m=Object.keys(_),{shapeFlag:w}=b;m.length&&w&7&&(o&&m.some(m0)&&(_=aM(_,o)),b=is(b,_))}return n.dirs&&(b=is(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),y=b,Hc(v),y}function sM(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Co(r)){if(r.type!==vr||r.children==="v-if"){if(e)return;e=r}}else return}return e}const oM=t=>{let e;for(const n in t)(n==="class"||n==="style"||_d(n))&&((e||(e={}))[n]=t[n]);return e},aM=(t,e)=>{const n={};for(const r in t)(!m0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function lM(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?P_(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!Mp(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?P_(r,o,u):!0:!!o;return!1}function P_(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Mp(n,s))return!0}return!1}function x0({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const P0="components",uM="directives";function Ls(t,e){return D0(P0,t,!0,e)||t}const SC=Symbol.for("v-ndc");function Sd(t){return dn(t)?D0(P0,t,!1)||t:t||SC}function cM(t){return D0(uM,t)}function D0(t,e,n=!0,r=!1){const i=Yn||Pn;if(i){const s=i.type;if(t===P0){const a=Rv(s,!1);if(a&&(a===e||a===Wr(e)||a===Td(Wr(e))))return s}const o=D_(i[t]||s[t],e)||D_(i.appContext[t],e);return!o&&r?s:o}}function D_(t,e){return t&&(t[e]||t[Wr(e)]||t[Td(Wr(e))])}const CC=t=>t.__isSuspense,dM={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){t==null?fM(e,n,r,i,s,o,a,l,u):pM(t,e,n,r,i,o,a,l,u)},hydrate:mM,create:R0,normalize:gM},hM=dM;function Wc(t,e){const n=t.props&&t.props[e];nt(n)&&n()}function fM(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=R0(t,i,r,e,d,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,s,o),h.deps>0?(Wc(t,"onPending"),Wc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Dl(h,t.ssFallback)):h.resolve(!1,!0)}function pM(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:y,isHydrating:_}=d;if(g)d.pendingBranch=h,Ii(h,g)?(l(g,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():y&&(l(p,f,n,r,i,null,s,o,a),Dl(d,f))):(d.pendingId++,_?(d.isHydrating=!1,d.activeBranch=g):u(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),y?(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,f,n,r,i,null,s,o,a),Dl(d,f))):p&&Ii(h,p)?(l(p,h,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&Ii(h,p))l(p,h,n,r,i,d,s,o,a),Dl(d,h);else if(Wc(e,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:v,pendingId:b}=d;v>0?setTimeout(()=>{d.pendingId===b&&d.fallback(f)},v):v===0&&d.fallback(f)}}function R0(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:g,remove:y}}=u;let _;const v=vM(t);v&&e!=null&&e.pendingBranch&&(_=e.pendingId,e.deps++);const b=t.props?wf(t.props.timeout):void 0,m={vnode:t,parent:e,parentComponent:n,isSVG:o,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(w=!1,T=!1){const{vnode:M,activeBranch:x,pendingBranch:A,pendingId:S,effects:N,parentComponent:F,container:C}=m;let H=!1;if(m.isHydrating)m.isHydrating=!1;else if(!w){H=x&&A.transition&&A.transition.mode==="out-in",H&&(x.transition.afterLeave=()=>{S===m.pendingId&&(h(A,C,W,0),_f(N))});let{anchor:W}=m;x&&(W=p(x),f(x,F,m,!0)),H||h(A,C,W,0)}Dl(m,A),m.pendingBranch=null,m.isInFallback=!1;let O=m.parent,R=!1;for(;O;){if(O.pendingBranch){O.effects.push(...N),R=!0;break}O=O.parent}!R&&!H&&_f(N),m.effects=[],v&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),Wc(M,"onResolve")},fallback(w){if(!m.pendingBranch)return;const{vnode:T,activeBranch:M,parentComponent:x,container:A,isSVG:S}=m;Wc(T,"onFallback");const N=p(M),F=()=>{m.isInFallback&&(d(null,w,A,N,x,null,S,a,l),Dl(m,w))},C=w.transition&&w.transition.mode==="out-in";C&&(M.transition.afterLeave=F),m.isInFallback=!0,f(M,x,null,!0),C||F()},move(w,T,M){m.activeBranch&&h(m.activeBranch,w,T,M),m.container=w},next(){return m.activeBranch&&p(m.activeBranch)},registerDep(w,T){const M=!!m.pendingBranch;M&&m.deps++;const x=w.vnode.el;w.asyncDep.catch(A=>{Va(A,w,0)}).then(A=>{if(w.isUnmounted||m.isUnmounted||m.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:S}=w;Pv(w,A,!1),x&&(S.el=x);const N=!x&&w.subTree.el;T(w,S,g(x||w.subTree.el),x?null:p(w.subTree),m,o,l),N&&y(N),x0(w,S.el),M&&--m.deps===0&&m.resolve()})},unmount(w,T){m.isUnmounted=!0,m.activeBranch&&f(m.activeBranch,n,w,T),m.pendingBranch&&f(m.pendingBranch,n,w,T)}};return m}function mM(t,e,n,r,i,s,o,a,l){const u=e.suspense=R0(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function gM(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=R_(r?n.default:n),t.ssFallback=r?R_(n.fallback):le(vr)}function R_(t){let e;if(nt(t)){const n=Ta&&t._c;n&&(t._d=!1,D()),t=t(),n&&(t._d=!0,e=Br,nI())}return Fe(t)&&(t=sM(t)),t=Jr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function IC(t,e){e&&e.pendingBranch?Fe(t)?e.effects.push(...t):e.effects.push(t):_f(t)}function Dl(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,x0(r,i))}function vM(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function kC(t,e){return Cd(t,null,e)}function AC(t,e){return Cd(t,null,{flush:"post"})}function yM(t,e){return Cd(t,null,{flush:"sync"})}const ph={};function pn(t,e,n){return Cd(t,e,n)}function Cd(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Kt){var a;const l=xp()===((a=Pn)==null?void 0:a.scope)?Pn:null;let u,c=!1,d=!1;if(Gt(t)?(u=()=>t.value,c=Fc(t)):Xi(t)?(u=()=>t,r=!0):Fe(t)?(d=!0,c=t.some(m=>Xi(m)||Fc(m)),u=()=>t.map(m=>{if(Gt(m))return m.value;if(Xi(m))return ra(m);if(nt(m))return Ss(m,l,2)})):nt(t)?e?u=()=>Ss(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),ni(t,l,3,[f])}:u=Pi,e&&r){const m=u;u=()=>ra(m())}let h,f=m=>{h=v.onStop=()=>{Ss(m,l,4)}},p;if(Kl)if(f=Pi,e?n&&ni(e,l,3,[u(),d?[]:void 0,f]):u(),i==="sync"){const m=dI();p=m.__watcherHandles||(m.__watcherHandles=[])}else return Pi;let g=d?new Array(t.length).fill(ph):ph;const y=()=>{if(v.active)if(e){const m=v.run();(r||c||(d?m.some((w,T)=>To(w,g[T])):To(m,g)))&&(h&&h(),ni(e,l,3,[m,g===ph?void 0:d&&g[0]===ph?[]:g,f]),g=m)}else v.run()};y.allowRecurse=!!e;let _;i==="sync"?_=y:i==="post"?_=()=>Xn(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),_=()=>Np(y));const v=new Hl(u,_);e?n?y():g=v.run():i==="post"?Xn(v.run.bind(v),l&&l.suspense):v.run();const b=()=>{v.stop(),l&&l.scope&&g0(l.scope.effects,v)};return p&&p.push(b),b}function wM(t,e,n){const r=this.proxy,i=dn(t)?t.includes(".")?xC(r,t):()=>r[t]:t.bind(r,r);let s;nt(e)?s=e:(s=e.handler,n=e);const o=Pn;Io(this);const a=Cd(i,s.bind(r),n);return o?Io(o):ho(),a}function xC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function ra(t,e){if(!qt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Gt(t))ra(t.value,e);else if(Fe(t))for(let n=0;n<t.length;n++)ra(t[n],e);else if(Fa(t)||Al(t))t.forEach(n=>{ra(n,e)});else if(QS(t))for(const n in t)ra(t[n],e);return t}function Ji(t,e){const n=Yn;if(n===null)return t;const r=Bp(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=Kt]=e[s];o&&(nt(o)&&(o={mounted:o,updated:o}),o.deep&&ra(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function Vi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(gu(),ni(l,n,8,[t.el,a,t,e]),vu())}}const Qs=Symbol("_leaveCb"),mh=Symbol("_enterCb");function O0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return an(()=>{t.isMounted=!0}),kd(()=>{t.isUnmounting=!0}),t}const li=[Function,Array],N0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:li,onEnter:li,onAfterEnter:li,onEnterCancelled:li,onBeforeLeave:li,onLeave:li,onAfterLeave:li,onLeaveCancelled:li,onBeforeAppear:li,onAppear:li,onAfterAppear:li,onAppearCancelled:li},bM={name:"BaseTransition",props:N0,setup(t,{slots:e}){const n=ls(),r=O0();let i;return()=>{const s=e.default&&$p(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const g of s)if(g.type!==vr){o=g;break}}const a=pt(t),{mode:l}=a;if(r.isLeaving)return Gm(o);const u=O_(o);if(!u)return Gm(o);const c=Yl(u,a,r,n);ba(u,c);const d=n.subTree,h=d&&O_(d);let f=!1;const{getTransitionKey:p}=u.type;if(p){const g=p();i===void 0?i=g:g!==i&&(i=g,f=!0)}if(h&&h.type!==vr&&(!Ii(u,h)||f)){const g=Yl(h,a,r,n);if(ba(h,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Gm(o);l==="in-out"&&u.type!==vr&&(g.delayLeave=(y,_,v)=>{const b=DC(r,h);b[String(h.key)]=h,y[Qs]=()=>{_(),y[Qs]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return o}}},PC=bM;function DC(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Yl(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:_,onAppearCancelled:v}=e,b=String(t.key),m=DC(n,t),w=(x,A)=>{x&&ni(x,r,9,A)},T=(x,A)=>{const S=A[1];w(x,A),Fe(x)?x.every(N=>N.length<=1)&&S():x.length<=1&&S()},M={mode:s,persisted:o,beforeEnter(x){let A=a;if(!n.isMounted)if(i)A=g||a;else return;x[Qs]&&x[Qs](!0);const S=m[b];S&&Ii(t,S)&&S.el[Qs]&&S.el[Qs](),w(A,[x])},enter(x){let A=l,S=u,N=c;if(!n.isMounted)if(i)A=y||l,S=_||u,N=v||c;else return;let F=!1;const C=x[mh]=H=>{F||(F=!0,H?w(N,[x]):w(S,[x]),M.delayedLeave&&M.delayedLeave(),x[mh]=void 0)};A?T(A,[x,C]):C()},leave(x,A){const S=String(t.key);if(x[mh]&&x[mh](!0),n.isUnmounting)return A();w(d,[x]);let N=!1;const F=x[Qs]=C=>{N||(N=!0,A(),C?w(p,[x]):w(f,[x]),x[Qs]=void 0,m[S]===t&&delete m[S])};m[S]=t,h?T(h,[x,F]):F()},clone(x){return Yl(x,e,n,r)}};return M}function Gm(t){if(Id(t))return t=is(t),t.children=null,t}function O_(t){return Id(t)?t.children?t.children[0]:void 0:t}function ba(t,e){t.shapeFlag&6&&t.component?ba(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function $p(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Se?(o.patchFlag&128&&i++,r=r.concat($p(o.children,e,a))):(e||o.type!==vr)&&r.push(a!=null?is(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ce(t,e){return nt(t)?(()=>cn({name:t.name},e,{setup:t}))():t}const ca=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function _M(t){nt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let f;return l||(f=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((g,y)=>{a(p,()=>g(d()),()=>y(p),c+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Ce({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const f=Pn;if(u)return()=>qm(u,f);const p=v=>{l=null,Va(v,f,13,!r)};if(o&&f.suspense||Kl)return h().then(v=>()=>qm(v,f)).catch(v=>(p(v),()=>r?le(r,{error:v}):null));const g=ue(!1),y=ue(),_=ue(!!i);return i&&setTimeout(()=>{_.value=!1},i),s!=null&&setTimeout(()=>{if(!g.value&&!y.value){const v=new Error(`Async component timed out after ${s}ms.`);p(v),y.value=v}},s),h().then(()=>{g.value=!0,f.parent&&Id(f.parent.vnode)&&Np(f.parent.update)}).catch(v=>{p(v),y.value=v}),()=>{if(g.value&&u)return qm(u,f);if(y.value&&r)return le(r,{error:y.value});if(n&&!_.value)return le(n)}}})}function qm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=le(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Id=t=>t.type.__isKeepAlive,TM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ls(),r=n.ctx;if(!r.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(v,b,m,w,T)=>{const M=v.component;u(v,b,m,0,a),l(M.vnode,v,b,m,M,a,w,v.slotScopeIds,T),Xn(()=>{M.isDeactivated=!1,M.a&&xl(M.a);const x=v.props&&v.props.onVnodeMounted;x&&Ur(x,M.parent,v)},a)},r.deactivate=v=>{const b=v.component;u(v,h,null,1,a),Xn(()=>{b.da&&xl(b.da);const m=v.props&&v.props.onVnodeUnmounted;m&&Ur(m,b.parent,v),b.isDeactivated=!0},a)};function f(v){Qm(v),c(v,n,a,!0)}function p(v){i.forEach((b,m)=>{const w=Rv(b.type);w&&(!v||!v(w))&&g(m)})}function g(v){const b=i.get(v);!o||!Ii(b,o)?f(b):o&&Qm(o),i.delete(v),s.delete(v)}pn(()=>[t.include,t.exclude],([v,b])=>{v&&p(m=>Ju(v,m)),b&&p(m=>!Ju(b,m))},{flush:"post",deep:!0});let y=null;const _=()=>{y!=null&&i.set(y,Xm(n.subTree))};return an(_),Fp(_),kd(()=>{i.forEach(v=>{const{subTree:b,suspense:m}=n,w=Xm(b);if(v.type===w.type&&v.key===w.key){Qm(w);const T=w.component.da;T&&Xn(T,m);return}f(v)})}),()=>{if(y=null,!e.default)return null;const v=e.default(),b=v[0];if(v.length>1)return o=null,v;if(!Co(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return o=null,b;let m=Xm(b);const w=m.type,T=Rv(ca(m)?m.type.__asyncResolved||{}:w),{include:M,exclude:x,max:A}=t;if(M&&(!T||!Ju(M,T))||x&&T&&Ju(x,T))return o=m,b;const S=m.key==null?w:m.key,N=i.get(S);return m.el&&(m=is(m),b.shapeFlag&128&&(b.ssContent=m)),y=S,N?(m.el=N.el,m.component=N.component,m.transition&&ba(m,m.transition),m.shapeFlag|=512,s.delete(S),s.add(S)):(s.add(S),A&&s.size>parseInt(A,10)&&g(s.values().next().value)),m.shapeFlag|=256,o=m,CC(b.type)?b:m}}},EM=TM;function Ju(t,e){return Fe(t)?t.some(n=>Ju(n,e)):dn(t)?t.split(",").includes(e):iN(t)?t.test(e):!1}function RC(t,e){NC(t,"a",e)}function OC(t,e){NC(t,"da",e)}function NC(t,e,n=Pn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Up(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Id(i.parent.vnode)&&SM(r,e,n,i),i=i.parent}}function SM(t,e,n,r){const i=Up(e,t,r,!0);Ba(()=>{g0(r[e],i)},n)}function Qm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Xm(t){return t.shapeFlag&128?t.ssContent:t}function Up(t,e,n=Pn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;gu(),Io(n);const a=ni(e,n,t,o);return ho(),vu(),a});return r?i.unshift(s):i.push(s),s}}const $s=t=>(e,n=Pn)=>(!Kl||t==="sp")&&Up(t,(...r)=>e(...r),n),MC=$s("bm"),an=$s("m"),M0=$s("bu"),Fp=$s("u"),kd=$s("bum"),Ba=$s("um"),LC=$s("sp"),$C=$s("rtg"),UC=$s("rtc");function FC(t,e=Pn){Up("ec",t,e)}function ut(t,e,n,r){let i;const s=n&&n[r];if(Fe(t)||dn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(qt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function nr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Fe(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Ae(t,e,n={},r,i){if(Yn.isCE||Yn.parent&&ca(Yn.parent)&&Yn.parent.isCE)return e!=="default"&&(n.name=e),le("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),D();const o=s&&VC(s(n)),a=ge(Se,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function VC(t){return t.some(e=>Co(e)?!(e.type===vr||e.type===Se&&!VC(e.children)):!0)?t:null}function CM(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:pc(r)]=t[r];return n}const Ev=t=>t?oI(t)?Bp(t)||t.proxy:Ev(t.parent):null,mc=cn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ev(t.parent),$root:t=>Ev(t.root),$emit:t=>t.emit,$options:t=>L0(t),$forceUpdate:t=>t.f||(t.f=()=>Np(t.update)),$nextTick:t=>t.n||(t.n=Rr.bind(t.proxy)),$watch:t=>wM.bind(t)}),Jm=(t,e)=>t!==Kt&&!t.__isScriptSetup&&At(t,e),Sv={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Jm(r,e))return o[e]=1,r[e];if(i!==Kt&&At(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&At(u,e))return o[e]=3,s[e];if(n!==Kt&&At(n,e))return o[e]=4,n[e];Cv&&(o[e]=0)}}const c=mc[e];let d,h;if(c)return e==="$attrs"&&Kr(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Kt&&At(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,At(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Jm(i,e)?(i[e]=n,!0):r!==Kt&&At(r,e)?(r[e]=n,!0):At(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Kt&&At(t,o)||Jm(e,o)||(a=s[0])&&At(a,o)||At(r,o)||At(mc,o)||At(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:At(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},IM=cn({},Sv,{get(t,e){if(e!==Symbol.unscopables)return Sv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!uN(e)}});function kM(){return null}function AM(){return null}function xM(t){}function PM(t){}function DM(){return null}function RM(){}function OM(t,e){return null}function Oo(){return BC().slots}function NM(){return BC().attrs}function MM(t,e,n){const r=ls();if(n&&n.local){const i=ue(t[e]);return pn(()=>t[e],s=>i.value=s),pn(i,s=>{s!==t[e]&&r.emit(`update:${e}`,s)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){r.emit(`update:${e}`,i)}}}function BC(){const t=ls();return t.setupContext||(t.setupContext=uI(t))}function Yc(t){return Fe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function LM(t,e){const n=Yc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Fe(i)||nt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function $M(t,e){return!t||!e?t||e:Fe(t)&&Fe(e)?t.concat(e):cn({},Yc(t),Yc(e))}function UM(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function FM(t){const e=ls();let n=t();return ho(),v0(n)&&(n=n.catch(r=>{throw Io(e),r})),[n,()=>Io(e)]}let Cv=!0;function VM(t){const e=L0(t),n=t.proxy,r=t.ctx;Cv=!1,e.beforeCreate&&N_(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:y,beforeDestroy:_,beforeUnmount:v,destroyed:b,unmounted:m,render:w,renderTracked:T,renderTriggered:M,errorCaptured:x,serverPrefetch:A,expose:S,inheritAttrs:N,components:F,directives:C,filters:H}=e;if(u&&BM(u,r,null),o)for(const W in o){const X=o[W];nt(X)&&(r[W]=X.bind(n))}if(i){const W=i.call(n,n);qt(W)&&(t.data=$n(W))}if(Cv=!0,s)for(const W in s){const X=s[W],U=nt(X)?X.bind(n,n):nt(X.get)?X.get.bind(n,n):Pi,I=!nt(X)&&nt(X.set)?X.set.bind(n):Pi,te=ie({get:U,set:I});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>te.value,set:L=>te.value=L})}if(a)for(const W in a)jC(a[W],r,n,W);if(l){const W=nt(l)?l.call(n):l;Reflect.ownKeys(W).forEach(X=>{Rl(X,W[X])})}c&&N_(c,t,"c");function R(W,X){Fe(X)?X.forEach(U=>W(U.bind(n))):X&&W(X.bind(n))}if(R(MC,d),R(an,h),R(M0,f),R(Fp,p),R(RC,g),R(OC,y),R(FC,x),R(UC,T),R($C,M),R(kd,v),R(Ba,m),R(LC,A),Fe(S))if(S.length){const W=t.exposed||(t.exposed={});S.forEach(X=>{Object.defineProperty(W,X,{get:()=>n[X],set:U=>n[X]=U})})}else t.exposed||(t.exposed={});w&&t.render===Pi&&(t.render=w),N!=null&&(t.inheritAttrs=N),F&&(t.components=F),C&&(t.directives=C)}function BM(t,e,n=Pi){Fe(t)&&(t=Iv(t));for(const r in t){const i=t[r];let s;qt(i)?"default"in i?s=xr(i.from||r,i.default,!0):s=xr(i.from||r):s=xr(i),Gt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function N_(t,e,n){ni(Fe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function jC(t,e,n,r){const i=r.includes(".")?xC(n,r):()=>n[r];if(dn(t)){const s=e[t];nt(s)&&pn(i,s)}else if(nt(t))pn(i,t.bind(n));else if(qt(t))if(Fe(t))t.forEach(s=>jC(s,e,n,r));else{const s=nt(t.handler)?t.handler.bind(n):e[t.handler];nt(s)&&pn(i,s,t)}}function L0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Ef(l,u,o,!0)),Ef(l,e,o)),qt(e)&&s.set(e,l),l}function Ef(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ef(t,s,n,!0),i&&i.forEach(o=>Ef(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=jM[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const jM={data:M_,props:L_,emits:L_,methods:Zu,computed:Zu,beforeCreate:Sr,created:Sr,beforeMount:Sr,mounted:Sr,beforeUpdate:Sr,updated:Sr,beforeDestroy:Sr,beforeUnmount:Sr,destroyed:Sr,unmounted:Sr,activated:Sr,deactivated:Sr,errorCaptured:Sr,serverPrefetch:Sr,components:Zu,directives:Zu,watch:WM,provide:M_,inject:HM};function M_(t,e){return e?t?function(){return cn(nt(t)?t.call(this,this):t,nt(e)?e.call(this,this):e)}:e:t}function HM(t,e){return Zu(Iv(t),Iv(e))}function Iv(t){if(Fe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Sr(t,e){return t?[...new Set([].concat(t,e))]:e}function Zu(t,e){return t?cn(Object.create(null),t,e):e}function L_(t,e){return t?Fe(t)&&Fe(e)?[...new Set([...t,...e])]:cn(Object.create(null),Yc(t),Yc(e??{})):e}function WM(t,e){if(!t)return e;if(!e)return t;const n=cn(Object.create(null),t);for(const r in e)n[r]=Sr(t[r],e[r]);return n}function HC(){return{app:null,config:{isNativeTag:tN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let YM=0;function KM(t,e){return function(r,i=null){nt(r)||(r=cn({},r)),i!=null&&!qt(i)&&(i=null);const s=HC(),o=new WeakSet;let a=!1;const l=s.app={_uid:YM++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:fI,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&nt(u.install)?(o.add(u),u.install(l,...c)):nt(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=le(r,i);return h.appContext=s,c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,Bp(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){Kc=l;try{return u()}finally{Kc=null}}};return l}}let Kc=null;function Rl(t,e){if(Pn){let n=Pn.provides;const r=Pn.parent&&Pn.parent.provides;r===n&&(n=Pn.provides=Object.create(r)),n[t]=e}}function xr(t,e,n=!1){const r=Pn||Yn;if(r||Kc){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Kc._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&nt(e)?e.call(r&&r.proxy):e}}function WC(){return!!(Pn||Yn||Kc)}function zM(t,e,n,r=!1){const i={},s={};vf(s,Vp,1),t.propsDefaults=Object.create(null),YC(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:hC(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function GM(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Mp(t.emitsOptions,h))continue;const f=e[h];if(l)if(At(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const p=Wr(h);i[p]=kv(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{YC(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!At(e,d)&&((c=di(d))===d||!At(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=kv(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!At(e,d))&&(delete s[d],u=!0)}u&&Es(t,"set","$attrs")}function YC(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(fc(l))continue;const u=e[l];let c;i&&At(i,c=Wr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Mp(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=pt(n),u=a||Kt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=kv(i,l,d,u[d],t,!At(u,d))}}return o}function kv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=At(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&nt(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Io(i),r=u[n]=l.call(null,e),ho())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===di(n))&&(r=!0))}return r}function KC(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!nt(t)){const c=d=>{l=!0;const[h,f]=KC(d,e,!0);cn(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return qt(t)&&r.set(t,kl),kl;if(Fe(s))for(let c=0;c<s.length;c++){const d=Wr(s[c]);$_(d)&&(o[d]=Kt)}else if(s)for(const c in s){const d=Wr(c);if($_(d)){const h=s[c],f=o[d]=Fe(h)||nt(h)?{type:h}:cn({},h);if(f){const p=V_(Boolean,f.type),g=V_(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||At(f,"default"))&&a.push(d)}}}const u=[o,a];return qt(t)&&r.set(t,u),u}function $_(t){return t[0]!=="$"}function U_(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function F_(t,e){return U_(t)===U_(e)}function V_(t,e){return Fe(e)?e.findIndex(n=>F_(n,t)):nt(e)&&F_(e,t)?0:-1}const zC=t=>t[0]==="_"||t==="$stable",$0=t=>Fe(t)?t.map(Jr):[Jr(t)],qM=(t,e,n)=>{if(e._n)return e;const r=ve((...i)=>$0(e(...i)),n);return r._c=!1,r},GC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(zC(i))continue;const s=t[i];if(nt(s))e[i]=qM(i,s,r);else if(s!=null){const o=$0(s);e[i]=()=>o}}},qC=(t,e)=>{const n=$0(e);t.slots.default=()=>n},QM=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=pt(e),vf(e,"_",n)):GC(e,t.slots={})}else t.slots={},e&&qC(t,e);vf(t.slots,Vp,1)},XM=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Kt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(cn(i,e),!n&&a===1&&delete i._):(s=!e.$stable,GC(e,i)),o=e}else e&&(qC(t,e),o={default:1});if(s)for(const a in i)!zC(a)&&o[a]==null&&delete i[a]};function Sf(t,e,n,r,i=!1){if(Fe(t)){t.forEach((h,f)=>Sf(h,e&&(Fe(e)?e[f]:e),n,r,i));return}if(ca(r)&&!i)return;const s=r.shapeFlag&4?Bp(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Kt?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(dn(u)?(c[u]=null,At(d,u)&&(d[u]=null)):Gt(u)&&(u.value=null)),nt(l))Ss(l,a,12,[o,c]);else{const h=dn(l),f=Gt(l);if(h||f){const p=()=>{if(t.f){const g=h?At(d,l)?d[l]:c[l]:l.value;i?Fe(g)&&g0(g,s):Fe(g)?g.includes(s)||g.push(s):h?(c[l]=[s],At(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,At(d,l)&&(d[l]=o)):f&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Xn(p,n)):p()}}}let js=!1;const gh=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",vh=t=>t.nodeType===8;function JM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(b,m)=>{if(!m.hasChildNodes()){n(null,b,m),Tf(),m._vnode=b;return}js=!1,d(m.firstChild,b,null,null,null),Tf(),m._vnode=b,js&&console.error("Hydration completed but contains mismatches.")},d=(b,m,w,T,M,x=!1)=>{const A=vh(b)&&b.data==="[",S=()=>g(b,m,w,T,M,A),{type:N,ref:F,shapeFlag:C,patchFlag:H}=m;let O=b.nodeType;m.el=b,H===-2&&(x=!1,m.dynamicChildren=null);let R=null;switch(N){case _a:O!==3?m.children===""?(l(m.el=i(""),o(b),b),R=b):R=S():(b.data!==m.children&&(js=!0,b.data=m.children),R=s(b));break;case vr:v(b)?(R=s(b),_(m.el=b.content.firstChild,b,w)):O!==8||A?R=S():R=s(b);break;case da:if(A&&(b=s(b),O=b.nodeType),O===1||O===3){R=b;const W=!m.children.length;for(let X=0;X<m.staticCount;X++)W&&(m.children+=R.nodeType===1?R.outerHTML:R.data),X===m.staticCount-1&&(m.anchor=R),R=s(R);return A?s(R):R}else S();break;case Se:A?R=p(b,m,w,T,M,x):R=S();break;default:if(C&1)(O!==1||m.type.toLowerCase()!==b.tagName.toLowerCase())&&!v(b)?R=S():R=h(b,m,w,T,M,x);else if(C&6){m.slotScopeIds=M;const W=o(b);if(A?R=y(b):vh(b)&&b.data==="teleport start"?R=y(b,b.data,"teleport end"):R=s(b),e(m,W,null,w,T,gh(W),x),ca(m)){let X;A?(X=le(Se),X.anchor=R?R.previousSibling:W.lastChild):X=b.nodeType===3?Xe(""):le("div"),X.el=b,m.component.subTree=X}}else C&64?O!==8?R=S():R=m.type.hydrate(b,m,w,T,M,x,t,f):C&128&&(R=m.type.hydrate(b,m,w,T,gh(o(b)),M,x,t,d))}return F!=null&&Sf(F,null,T,m),R},h=(b,m,w,T,M,x)=>{x=x||!!m.dynamicChildren;const{type:A,props:S,patchFlag:N,shapeFlag:F,dirs:C,transition:H}=m,O=A==="input"&&C||A==="option";if(O||N!==-1){if(C&&Vi(m,null,w,"created"),S)if(O||!x||N&48)for(const X in S)(O&&X.endsWith("value")||_d(X)&&!fc(X))&&r(b,X,null,S[X],!1,void 0,w);else S.onClick&&r(b,"onClick",null,S.onClick,!1,void 0,w);let R;(R=S&&S.onVnodeBeforeMount)&&Ur(R,w,m);let W=!1;if(v(b)){W=ZC(T,H)&&w&&w.vnode.props&&w.vnode.props.appear;const X=b.content.firstChild;W&&H.beforeEnter(X),_(X,b,w),m.el=b=X}if(C&&Vi(m,null,w,"beforeMount"),((R=S&&S.onVnodeMounted)||C||W)&&IC(()=>{R&&Ur(R,w,m),W&&H.enter(b),C&&Vi(m,null,w,"mounted")},T),F&16&&!(S&&(S.innerHTML||S.textContent))){let X=f(b.firstChild,m,b,w,T,M,x);for(;X;){js=!0;const U=X;X=X.nextSibling,a(U)}}else F&8&&b.textContent!==m.children&&(js=!0,b.textContent=m.children)}return b.nextSibling},f=(b,m,w,T,M,x,A)=>{A=A||!!m.dynamicChildren;const S=m.children,N=S.length;for(let F=0;F<N;F++){const C=A?S[F]:S[F]=Jr(S[F]);if(b)b=d(b,C,T,M,x,A);else{if(C.type===_a&&!C.children)continue;js=!0,n(null,C,w,null,T,M,gh(w),x)}}return b},p=(b,m,w,T,M,x)=>{const{slotScopeIds:A}=m;A&&(M=M?M.concat(A):A);const S=o(b),N=f(s(b),m,S,w,T,M,x);return N&&vh(N)&&N.data==="]"?s(m.anchor=N):(js=!0,l(m.anchor=u("]"),S,N),N)},g=(b,m,w,T,M,x)=>{if(js=!0,m.el=null,x){const N=y(b);for(;;){const F=s(b);if(F&&F!==N)a(F);else break}}const A=s(b),S=o(b);return a(b),n(null,m,S,A,w,T,gh(S),M),A},y=(b,m="[",w="]")=>{let T=0;for(;b;)if(b=s(b),b&&vh(b)&&(b.data===m&&T++,b.data===w)){if(T===0)return s(b);T--}return b},_=(b,m,w)=>{const T=m.parentNode;T&&T.replaceChild(b,m);let M=w;for(;M;)M.vnode.el===m&&(M.vnode.el=M.subTree.el=b),M=M.parent},v=b=>b.nodeType===1&&b.tagName.toLowerCase()==="template";return[c,d]}const Xn=IC;function QC(t){return JC(t)}function XC(t){return JC(t,JM)}function JC(t,e){const n=yv();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=Pi,insertStaticContent:p}=t,g=(E,P,V,z=null,ne=null,q=null,J=!1,he=null,ce=!!P.dynamicChildren)=>{if(E===P)return;E&&!Ii(E,P)&&(z=G(E),L(E,ne,q,!0),E=null),P.patchFlag===-2&&(ce=!1,P.dynamicChildren=null);const{type:me,ref:Oe,shapeFlag:ke}=P;switch(me){case _a:y(E,P,V,z);break;case vr:_(E,P,V,z);break;case da:E==null&&v(P,V,z,J);break;case Se:F(E,P,V,z,ne,q,J,he,ce);break;default:ke&1?w(E,P,V,z,ne,q,J,he,ce):ke&6?C(E,P,V,z,ne,q,J,he,ce):(ke&64||ke&128)&&me.process(E,P,V,z,ne,q,J,he,ce,K)}Oe!=null&&ne&&Sf(Oe,E&&E.ref,q,P||E,!P)},y=(E,P,V,z)=>{if(E==null)r(P.el=a(P.children),V,z);else{const ne=P.el=E.el;P.children!==E.children&&u(ne,P.children)}},_=(E,P,V,z)=>{E==null?r(P.el=l(P.children||""),V,z):P.el=E.el},v=(E,P,V,z)=>{[E.el,E.anchor]=p(E.children,P,V,z,E.el,E.anchor)},b=({el:E,anchor:P},V,z)=>{let ne;for(;E&&E!==P;)ne=h(E),r(E,V,z),E=ne;r(P,V,z)},m=({el:E,anchor:P})=>{let V;for(;E&&E!==P;)V=h(E),i(E),E=V;i(P)},w=(E,P,V,z,ne,q,J,he,ce)=>{J=J||P.type==="svg",E==null?T(P,V,z,ne,q,J,he,ce):A(E,P,ne,q,J,he,ce)},T=(E,P,V,z,ne,q,J,he)=>{let ce,me;const{type:Oe,props:ke,shapeFlag:_e,transition:Ke,dirs:Me}=E;if(ce=E.el=o(E.type,q,ke&&ke.is,ke),_e&8?c(ce,E.children):_e&16&&x(E.children,ce,null,z,ne,q&&Oe!=="foreignObject",J,he),Me&&Vi(E,null,z,"created"),M(ce,E,E.scopeId,J,z),ke){for(const Q in ke)Q!=="value"&&!fc(Q)&&s(ce,Q,null,ke[Q],q,E.children,z,ne,B);"value"in ke&&s(ce,"value",null,ke.value),(me=ke.onVnodeBeforeMount)&&Ur(me,z,E)}Me&&Vi(E,null,z,"beforeMount");const dt=ZC(ne,Ke);dt&&Ke.beforeEnter(ce),r(ce,P,V),((me=ke&&ke.onVnodeMounted)||dt||Me)&&Xn(()=>{me&&Ur(me,z,E),dt&&Ke.enter(ce),Me&&Vi(E,null,z,"mounted")},ne)},M=(E,P,V,z,ne)=>{if(V&&f(E,V),z)for(let q=0;q<z.length;q++)f(E,z[q]);if(ne){let q=ne.subTree;if(P===q){const J=ne.vnode;M(E,J,J.scopeId,J.slotScopeIds,ne.parent)}}},x=(E,P,V,z,ne,q,J,he,ce=0)=>{for(let me=ce;me<E.length;me++){const Oe=E[me]=he?Xs(E[me]):Jr(E[me]);g(null,Oe,P,V,z,ne,q,J,he)}},A=(E,P,V,z,ne,q,J)=>{const he=P.el=E.el;let{patchFlag:ce,dynamicChildren:me,dirs:Oe}=P;ce|=E.patchFlag&16;const ke=E.props||Kt,_e=P.props||Kt;let Ke;V&&Ho(V,!1),(Ke=_e.onVnodeBeforeUpdate)&&Ur(Ke,V,P,E),Oe&&Vi(P,E,V,"beforeUpdate"),V&&Ho(V,!0);const Me=ne&&P.type!=="foreignObject";if(me?S(E.dynamicChildren,me,he,V,z,Me,q):J||X(E,P,he,null,V,z,Me,q,!1),ce>0){if(ce&16)N(he,P,ke,_e,V,z,ne);else if(ce&2&&ke.class!==_e.class&&s(he,"class",null,_e.class,ne),ce&4&&s(he,"style",ke.style,_e.style,ne),ce&8){const dt=P.dynamicProps;for(let Q=0;Q<dt.length;Q++){const $=dt[Q],Y=ke[$],j=_e[$];(j!==Y||$==="value")&&s(he,$,Y,j,ne,E.children,V,z,B)}}ce&1&&E.children!==P.children&&c(he,P.children)}else!J&&me==null&&N(he,P,ke,_e,V,z,ne);((Ke=_e.onVnodeUpdated)||Oe)&&Xn(()=>{Ke&&Ur(Ke,V,P,E),Oe&&Vi(P,E,V,"updated")},z)},S=(E,P,V,z,ne,q,J)=>{for(let he=0;he<P.length;he++){const ce=E[he],me=P[he],Oe=ce.el&&(ce.type===Se||!Ii(ce,me)||ce.shapeFlag&70)?d(ce.el):V;g(ce,me,Oe,null,z,ne,q,J,!0)}},N=(E,P,V,z,ne,q,J)=>{if(V!==z){if(V!==Kt)for(const he in V)!fc(he)&&!(he in z)&&s(E,he,V[he],null,J,P.children,ne,q,B);for(const he in z){if(fc(he))continue;const ce=z[he],me=V[he];ce!==me&&he!=="value"&&s(E,he,me,ce,J,P.children,ne,q,B)}"value"in z&&s(E,"value",V.value,z.value)}},F=(E,P,V,z,ne,q,J,he,ce)=>{const me=P.el=E?E.el:a(""),Oe=P.anchor=E?E.anchor:a("");let{patchFlag:ke,dynamicChildren:_e,slotScopeIds:Ke}=P;Ke&&(he=he?he.concat(Ke):Ke),E==null?(r(me,V,z),r(Oe,V,z),x(P.children,V,Oe,ne,q,J,he,ce)):ke>0&&ke&64&&_e&&E.dynamicChildren?(S(E.dynamicChildren,_e,V,ne,q,J,he),(P.key!=null||ne&&P===ne.subTree)&&U0(E,P,!0)):X(E,P,V,Oe,ne,q,J,he,ce)},C=(E,P,V,z,ne,q,J,he,ce)=>{P.slotScopeIds=he,E==null?P.shapeFlag&512?ne.ctx.activate(P,V,z,J,ce):H(P,V,z,ne,q,J,ce):O(E,P,ce)},H=(E,P,V,z,ne,q,J)=>{const he=E.component=sI(E,z,ne);if(Id(E)&&(he.ctx.renderer=K),aI(he),he.asyncDep){if(ne&&ne.registerDep(he,R),!E.el){const ce=he.subTree=le(vr);_(null,ce,P,V)}return}R(he,E,P,V,ne,q,J)},O=(E,P,V)=>{const z=P.component=E.component;if(lM(E,P,V))if(z.asyncDep&&!z.asyncResolved){W(z,P,V);return}else z.next=P,tM(z.update),z.update();else P.el=E.el,z.vnode=P},R=(E,P,V,z,ne,q,J)=>{const he=()=>{if(E.isMounted){let{next:Oe,bu:ke,u:_e,parent:Ke,vnode:Me}=E,dt=Oe,Q;Ho(E,!1),Oe?(Oe.el=Me.el,W(E,Oe,J)):Oe=Me,ke&&xl(ke),(Q=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&Ur(Q,Ke,Oe,Me),Ho(E,!0);const $=Jh(E),Y=E.subTree;E.subTree=$,g(Y,$,d(Y.el),G(Y),E,ne,q),Oe.el=$.el,dt===null&&x0(E,$.el),_e&&Xn(_e,ne),(Q=Oe.props&&Oe.props.onVnodeUpdated)&&Xn(()=>Ur(Q,Ke,Oe,Me),ne)}else{let Oe;const{el:ke,props:_e}=P,{bm:Ke,m:Me,parent:dt}=E,Q=ca(P);if(Ho(E,!1),Ke&&xl(Ke),!Q&&(Oe=_e&&_e.onVnodeBeforeMount)&&Ur(Oe,dt,P),Ho(E,!0),ke&&Ee){const $=()=>{E.subTree=Jh(E),Ee(ke,E.subTree,E,ne,null)};Q?P.type.__asyncLoader().then(()=>!E.isUnmounted&&$()):$()}else{const $=E.subTree=Jh(E);g(null,$,V,z,E,ne,q),P.el=$.el}if(Me&&Xn(Me,ne),!Q&&(Oe=_e&&_e.onVnodeMounted)){const $=P;Xn(()=>Ur(Oe,dt,$),ne)}(P.shapeFlag&256||dt&&ca(dt.vnode)&&dt.vnode.shapeFlag&256)&&E.a&&Xn(E.a,ne),E.isMounted=!0,P=V=z=null}},ce=E.effect=new Hl(he,()=>Np(me),E.scope),me=E.update=()=>ce.run();me.id=E.uid,Ho(E,!0),me()},W=(E,P,V)=>{P.component=E;const z=E.vnode.props;E.vnode=P,E.next=null,GM(E,P.props,z,V),XM(E,P.children,V),gu(),x_(),vu()},X=(E,P,V,z,ne,q,J,he,ce=!1)=>{const me=E&&E.children,Oe=E?E.shapeFlag:0,ke=P.children,{patchFlag:_e,shapeFlag:Ke}=P;if(_e>0){if(_e&128){I(me,ke,V,z,ne,q,J,he,ce);return}else if(_e&256){U(me,ke,V,z,ne,q,J,he,ce);return}}Ke&8?(Oe&16&&B(me,ne,q),ke!==me&&c(V,ke)):Oe&16?Ke&16?I(me,ke,V,z,ne,q,J,he,ce):B(me,ne,q,!0):(Oe&8&&c(V,""),Ke&16&&x(ke,V,z,ne,q,J,he,ce))},U=(E,P,V,z,ne,q,J,he,ce)=>{E=E||kl,P=P||kl;const me=E.length,Oe=P.length,ke=Math.min(me,Oe);let _e;for(_e=0;_e<ke;_e++){const Ke=P[_e]=ce?Xs(P[_e]):Jr(P[_e]);g(E[_e],Ke,V,null,ne,q,J,he,ce)}me>Oe?B(E,ne,q,!0,!1,ke):x(P,V,z,ne,q,J,he,ce,ke)},I=(E,P,V,z,ne,q,J,he,ce)=>{let me=0;const Oe=P.length;let ke=E.length-1,_e=Oe-1;for(;me<=ke&&me<=_e;){const Ke=E[me],Me=P[me]=ce?Xs(P[me]):Jr(P[me]);if(Ii(Ke,Me))g(Ke,Me,V,null,ne,q,J,he,ce);else break;me++}for(;me<=ke&&me<=_e;){const Ke=E[ke],Me=P[_e]=ce?Xs(P[_e]):Jr(P[_e]);if(Ii(Ke,Me))g(Ke,Me,V,null,ne,q,J,he,ce);else break;ke--,_e--}if(me>ke){if(me<=_e){const Ke=_e+1,Me=Ke<Oe?P[Ke].el:z;for(;me<=_e;)g(null,P[me]=ce?Xs(P[me]):Jr(P[me]),V,Me,ne,q,J,he,ce),me++}}else if(me>_e)for(;me<=ke;)L(E[me],ne,q,!0),me++;else{const Ke=me,Me=me,dt=new Map;for(me=Me;me<=_e;me++){const Le=P[me]=ce?Xs(P[me]):Jr(P[me]);Le.key!=null&&dt.set(Le.key,me)}let Q,$=0;const Y=_e-Me+1;let j=!1,se=0;const fe=new Array(Y);for(me=0;me<Y;me++)fe[me]=0;for(me=Ke;me<=ke;me++){const Le=E[me];if($>=Y){L(Le,ne,q,!0);continue}let et;if(Le.key!=null)et=dt.get(Le.key);else for(Q=Me;Q<=_e;Q++)if(fe[Q-Me]===0&&Ii(Le,P[Q])){et=Q;break}et===void 0?L(Le,ne,q,!0):(fe[et-Me]=me+1,et>=se?se=et:j=!0,g(Le,P[et],V,null,ne,q,J,he,ce),$++)}const Be=j?ZM(fe):kl;for(Q=Be.length-1,me=Y-1;me>=0;me--){const Le=Me+me,et=P[Le],$t=Le+1<Oe?P[Le+1].el:z;fe[me]===0?g(null,et,V,$t,ne,q,J,he,ce):j&&(Q<0||me!==Be[Q]?te(et,V,$t,2):Q--)}}},te=(E,P,V,z,ne=null)=>{const{el:q,type:J,transition:he,children:ce,shapeFlag:me}=E;if(me&6){te(E.component.subTree,P,V,z);return}if(me&128){E.suspense.move(P,V,z);return}if(me&64){J.move(E,P,V,K);return}if(J===Se){r(q,P,V);for(let ke=0;ke<ce.length;ke++)te(ce[ke],P,V,z);r(E.anchor,P,V);return}if(J===da){b(E,P,V);return}if(z!==2&&me&1&&he)if(z===0)he.beforeEnter(q),r(q,P,V),Xn(()=>he.enter(q),ne);else{const{leave:ke,delayLeave:_e,afterLeave:Ke}=he,Me=()=>r(q,P,V),dt=()=>{ke(q,()=>{Me(),Ke&&Ke()})};_e?_e(q,Me,dt):dt()}else r(q,P,V)},L=(E,P,V,z=!1,ne=!1)=>{const{type:q,props:J,ref:he,children:ce,dynamicChildren:me,shapeFlag:Oe,patchFlag:ke,dirs:_e}=E;if(he!=null&&Sf(he,null,V,E,!0),Oe&256){P.ctx.deactivate(E);return}const Ke=Oe&1&&_e,Me=!ca(E);let dt;if(Me&&(dt=J&&J.onVnodeBeforeUnmount)&&Ur(dt,P,E),Oe&6)we(E.component,V,z);else{if(Oe&128){E.suspense.unmount(V,z);return}Ke&&Vi(E,null,P,"beforeUnmount"),Oe&64?E.type.remove(E,P,V,ne,K,z):me&&(q!==Se||ke>0&&ke&64)?B(me,P,V,!1,!0):(q===Se&&ke&384||!ne&&Oe&16)&&B(ce,P,V),z&&ee(E)}(Me&&(dt=J&&J.onVnodeUnmounted)||Ke)&&Xn(()=>{dt&&Ur(dt,P,E),Ke&&Vi(E,null,P,"unmounted")},V)},ee=E=>{const{type:P,el:V,anchor:z,transition:ne}=E;if(P===Se){de(V,z);return}if(P===da){m(E);return}const q=()=>{i(V),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(E.shapeFlag&1&&ne&&!ne.persisted){const{leave:J,delayLeave:he}=ne,ce=()=>J(V,q);he?he(E.el,q,ce):ce()}else q()},de=(E,P)=>{let V;for(;E!==P;)V=h(E),i(E),E=V;i(P)},we=(E,P,V)=>{const{bum:z,scope:ne,update:q,subTree:J,um:he}=E;z&&xl(z),ne.stop(),q&&(q.active=!1,L(J,E,P,V)),he&&Xn(he,P),Xn(()=>{E.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},B=(E,P,V,z=!1,ne=!1,q=0)=>{for(let J=q;J<E.length;J++)L(E[J],P,V,z,ne)},G=E=>E.shapeFlag&6?G(E.component.subTree):E.shapeFlag&128?E.suspense.next():h(E.anchor||E.el),ae=(E,P,V)=>{E==null?P._vnode&&L(P._vnode,null,null,!0):g(P._vnode||null,E,P,null,null,null,V),x_(),Tf(),P._vnode=E},K={p:g,um:L,m:te,r:ee,mt:H,mc:x,pc:X,pbc:S,n:G,o:t};let pe,Ee;return e&&([pe,Ee]=e(K)),{render:ae,hydrate:pe,createApp:KM(ae,pe)}}function Ho({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ZC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function U0(t,e,n=!1){const r=t.children,i=e.children;if(Fe(r)&&Fe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Xs(i[s]),a.el=o.el),n||U0(o,a)),a.type===_a&&(a.el=o.el)}}function ZM(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const e2=t=>t.__isTeleport,gc=t=>t&&(t.disabled||t.disabled===""),B_=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Av=(t,e)=>{const n=t&&t.to;return dn(n)?e?e(n):null:n},t2={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:y}}=u,_=gc(e.props);let{shapeFlag:v,children:b,dynamicChildren:m}=e;if(t==null){const w=e.el=g(""),T=e.anchor=g("");f(w,n,r),f(T,n,r);const M=e.target=Av(e.props,p),x=e.targetAnchor=g("");M&&(f(x,M),o=o||B_(M));const A=(S,N)=>{v&16&&c(b,S,N,i,s,o,a,l)};_?A(n,T):M&&A(M,x)}else{e.el=t.el;const w=e.anchor=t.anchor,T=e.target=t.target,M=e.targetAnchor=t.targetAnchor,x=gc(t.props),A=x?n:T,S=x?w:M;if(o=o||B_(T),m?(h(t.dynamicChildren,m,A,i,s,o,a),U0(t,e,!0)):l||d(t,e,A,S,i,s,o,a,!1),_)x?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):yh(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=Av(e.props,p);N&&yh(e,N,null,u,0)}else x&&yh(e,T,M,u,1)}tI(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=t;if(d&&s(c),o&&s(u),a&16){const f=o||!gc(h);for(let p=0;p<l.length;p++){const g=l[p];i(g,e,n,f,!!g.dynamicChildren)}}},move:yh,hydrate:n2};function yh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||gc(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function n2(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=Av(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(gc(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}tI(e)}return e.anchor&&o(e.anchor)}const eI=t2;function tI(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Se=Symbol.for("v-fgt"),_a=Symbol.for("v-txt"),vr=Symbol.for("v-cmt"),da=Symbol.for("v-stc"),vc=[];let Br=null;function D(t=!1){vc.push(Br=t?null:[])}function nI(){vc.pop(),Br=vc[vc.length-1]||null}let Ta=1;function xv(t){Ta+=t}function rI(t){return t.dynamicChildren=Ta>0?Br||kl:null,nI(),Ta>0&&Br&&Br.push(t),t}function Z(t,e,n,r,i,s){return rI(re(t,e,n,r,i,s,!0))}function ge(t,e,n,r,i){return rI(le(t,e,n,r,i,!0))}function Co(t){return t?t.__v_isVNode===!0:!1}function Ii(t,e){return t.type===e.type&&t.key===e.key}function r2(t){}const Vp="__vInternal",iI=({key:t})=>t??null,Zh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?dn(t)||Gt(t)||nt(t)?{i:Yn,r:t,k:e,f:!!n}:t:null);function re(t,e=null,n=null,r=0,i=null,s=t===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&iI(e),ref:e&&Zh(e),scopeId:Lp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Yn};return a?(F0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=dn(n)?8:16),Ta>0&&!o&&Br&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Br.push(l),l}const le=i2;function i2(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===SC)&&(t=vr),Co(t)){const a=is(t,e,!0);return n&&F0(a,n),Ta>0&&!s&&Br&&(a.shapeFlag&6?Br[Br.indexOf(t)]=a:Br.push(a)),a.patchFlag|=-2,a}if(h2(t)&&(t=t.__vccOpts),e){e=tr(e);let{class:a,style:l}=e;a&&!dn(a)&&(e.class=De(a)),qt(l)&&(S0(l)&&!Fe(l)&&(l=cn({},l)),e.style=Nn(l))}const o=dn(t)?1:CC(t)?128:e2(t)?64:qt(t)?4:nt(t)?2:0;return re(t,e,n,r,i,o,s,!0)}function tr(t){return t?S0(t)||Vp in t?cn({},t):t:null}function is(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?Ht(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&iI(a),ref:e&&e.ref?n&&i?Fe(i)?i.concat(Zh(e)):[i,Zh(e)]:Zh(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&is(t.ssContent),ssFallback:t.ssFallback&&is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Xe(t=" ",e=0){return le(_a,null,t,e)}function s2(t,e){const n=le(da,null,t);return n.staticCount=e,n}function oe(t="",e=!1){return e?(D(),ge(vr,null,t)):le(vr,null,t)}function Jr(t){return t==null||typeof t=="boolean"?le(vr):Fe(t)?le(Se,null,t.slice()):typeof t=="object"?Xs(t):le(_a,null,String(t))}function Xs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:is(t)}function F0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Fe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),F0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Vp in e)?e._ctx=Yn:i===3&&Yn&&(Yn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else nt(e)?(e={default:e,_ctx:Yn},n=32):(e=String(e),r&64?(n=16,e=[Xe(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ht(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=De([e.class,r.class]));else if(i==="style")e.style=Nn([e.style,r.style]);else if(_d(i)){const s=e[i],o=r[i];o&&s!==o&&!(Fe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ur(t,e,n,r=null){ni(t,e,7,[n,r])}const o2=HC();let a2=0;function sI(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||o2,s={uid:a2++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new w0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:KC(r,i),emitsOptions:_C(r,i),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:r.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=rM.bind(null,s),t.ce&&t.ce(s),s}let Pn=null;const ls=()=>Pn||Yn;let V0,Ja,j_="__VUE_INSTANCE_SETTERS__";(Ja=yv()[j_])||(Ja=yv()[j_]=[]),Ja.push(t=>Pn=t),V0=t=>{Ja.length>1?Ja.forEach(e=>e(t)):Ja[0](t)};const Io=t=>{V0(t),t.scope.on()},ho=()=>{Pn&&Pn.scope.off(),V0(null)};function oI(t){return t.vnode.shapeFlag&4}let Kl=!1;function aI(t,e=!1){Kl=e;const{props:n,children:r}=t.vnode,i=oI(t);zM(t,n,i,e),QM(t,r);const s=i?l2(t,e):void 0;return Kl=!1,s}function l2(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ed(new Proxy(t.ctx,Sv));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?uI(t):null;Io(t),gu();const s=Ss(r,t,0,[t.props,i]);if(vu(),ho(),v0(s)){if(s.then(ho,ho),e)return s.then(o=>{Pv(t,o,e)}).catch(o=>{Va(o,t,0)});t.asyncDep=s}else Pv(t,s,e)}else lI(t,e)}function Pv(t,e,n){nt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qt(e)&&(t.setupState=k0(e)),lI(t,n)}let Cf,Dv;function u2(t){Cf=t,Dv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,IM))}}const c2=()=>!Cf;function lI(t,e,n){const r=t.type;if(!t.render){if(!e&&Cf&&!r.render){const i=r.template||L0(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=cn(cn({isCustomElement:s,delimiters:a},o),l);r.render=Cf(i,u)}}t.render=r.render||Pi,Dv&&Dv(t)}{Io(t),gu();try{VM(t)}finally{vu(),ho()}}}function d2(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Kr(t,"get","$attrs"),e[n]}}))}function uI(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return d2(t)},slots:t.slots,emit:t.emit,expose:e}}function Bp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(k0(Ed(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in mc)return mc[n](t)},has(e,n){return n in e||n in mc}}))}function Rv(t,e=!0){return nt(t)?t.displayName||t.name:t.name||e&&t.__name}function h2(t){return nt(t)&&"__vccOpts"in t}const ie=(t,e)=>QN(t,e,Kl);function Ad(t,e,n){const r=arguments.length;return r===2?qt(e)&&!Fe(e)?Co(e)?le(t,null,[e]):le(t,e):le(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Co(n)&&(n=[n]),le(t,e,n))}const cI=Symbol.for("v-scx"),dI=()=>xr(cI);function f2(){}function p2(t,e,n,r){const i=n[r];if(i&&hI(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function hI(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(To(n[r],e[r]))return!1;return Ta>0&&Br&&Br.push(t),!0}const fI="3.3.8",m2={createComponentInstance:sI,setupComponent:aI,renderComponentRoot:Jh,setCurrentRenderingInstance:Hc,isVNode:Co,normalizeVNode:Jr},g2=m2,v2=null,y2=null,w2="http://www.w3.org/2000/svg",ea=typeof document<"u"?document:null,H_=ea&&ea.createElement("template"),b2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?ea.createElementNS(w2,t):ea.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ea.createTextNode(t),createComment:t=>ea.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ea.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{H_.innerHTML=r?`<svg>${t}</svg>`:t;const a=H_.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Hs="transition",Nu="animation",zl=Symbol("_vtc"),Us=(t,{slots:e})=>Ad(PC,mI(t),e);Us.displayName="Transition";const pI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_2=Us.props=cn({},N0,pI),Wo=(t,e=[])=>{Fe(t)?t.forEach(n=>n(...e)):t&&t(...e)},W_=t=>t?Fe(t)?t.some(e=>e.length>1):t.length>1:!1;function mI(t){const e={};for(const F in t)F in pI||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=T2(i),g=p&&p[0],y=p&&p[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:b,onLeave:m,onLeaveCancelled:w,onBeforeAppear:T=_,onAppear:M=v,onAppearCancelled:x=b}=e,A=(F,C,H)=>{Gs(F,C?c:a),Gs(F,C?u:o),H&&H()},S=(F,C)=>{F._isLeaving=!1,Gs(F,d),Gs(F,f),Gs(F,h),C&&C()},N=F=>(C,H)=>{const O=F?M:v,R=()=>A(C,F,H);Wo(O,[C,R]),Y_(()=>{Gs(C,F?l:s),hs(C,F?c:a),W_(O)||K_(C,r,g,R)})};return cn(e,{onBeforeEnter(F){Wo(_,[F]),hs(F,s),hs(F,o)},onBeforeAppear(F){Wo(T,[F]),hs(F,l),hs(F,u)},onEnter:N(!1),onAppear:N(!0),onLeave(F,C){F._isLeaving=!0;const H=()=>S(F,C);hs(F,d),vI(),hs(F,h),Y_(()=>{F._isLeaving&&(Gs(F,d),hs(F,f),W_(m)||K_(F,r,y,H))}),Wo(m,[F,H])},onEnterCancelled(F){A(F,!1),Wo(b,[F])},onAppearCancelled(F){A(F,!0),Wo(x,[F])},onLeaveCancelled(F){S(F),Wo(w,[F])}})}function T2(t){if(t==null)return null;if(qt(t))return[Zm(t.enter),Zm(t.leave)];{const e=Zm(t);return[e,e]}}function Zm(t){return wf(t)}function hs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[zl]||(t[zl]=new Set)).add(e)}function Gs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[zl];n&&(n.delete(e),n.size||(t[zl]=void 0))}function Y_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let E2=0;function K_(t,e,n,r){const i=t._endId=++E2,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=gI(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function gI(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Hs}Delay`),s=r(`${Hs}Duration`),o=z_(i,s),a=r(`${Nu}Delay`),l=r(`${Nu}Duration`),u=z_(a,l);let c=null,d=0,h=0;e===Hs?o>0&&(c=Hs,d=o,h=s.length):e===Nu?u>0&&(c=Nu,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Hs:Nu:null,h=c?c===Hs?s.length:l.length:0);const f=c===Hs&&/\b(transform|all)(,|$)/.test(r(`${Hs}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function z_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>G_(n)+G_(t[r])))}function G_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function vI(){return document.body.offsetHeight}function S2(t,e,n){const r=t[zl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const B0=Symbol("_vod"),Cs={beforeMount(t,{value:e},{transition:n}){t[B0]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Mu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Mu(t,!0),r.enter(t)):r.leave(t,()=>{Mu(t,!1)}):Mu(t,e))},beforeUnmount(t,{value:e}){Mu(t,e)}};function Mu(t,e){t.style.display=e?t[B0]:"none"}function C2(){Cs.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function I2(t,e,n){const r=t.style,i=dn(n);if(n&&!i){if(e&&!dn(e))for(const s in e)n[s]==null&&Ov(r,s,"");for(const s in n)Ov(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),B0 in t&&(r.display=s)}}const q_=/\s*!important$/;function Ov(t,e,n){if(Fe(n))n.forEach(r=>Ov(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=k2(t,e);q_.test(n)?t.setProperty(di(r),n.replace(q_,""),"important"):t[r]=n}}const Q_=["Webkit","Moz","ms"],eg={};function k2(t,e){const n=eg[e];if(n)return n;let r=Wr(e);if(r!=="filter"&&r in t)return eg[e]=r;r=Td(r);for(let i=0;i<Q_.length;i++){const s=Q_[i]+r;if(s in t)return eg[e]=s}return e}const X_="http://www.w3.org/1999/xlink";function A2(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(X_,e.slice(6,e.length)):t.setAttributeNS(X_,e,n);else{const s=mN(e);n==null||s&&!XS(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function x2(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,c=n??"";u!==c&&(t.value=c),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=XS(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function gs(t,e,n,r){t.addEventListener(e,n,r)}function P2(t,e,n,r){t.removeEventListener(e,n,r)}const J_=Symbol("_vei");function D2(t,e,n,r,i=null){const s=t[J_]||(t[J_]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=R2(e);if(r){const u=s[e]=M2(r,i);gs(t,a,u,l)}else o&&(P2(t,a,o,l),s[e]=void 0)}}const Z_=/(?:Once|Passive|Capture)$/;function R2(t){let e;if(Z_.test(t)){e={};let r;for(;r=t.match(Z_);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):di(t.slice(2)),e]}let tg=0;const O2=Promise.resolve(),N2=()=>tg||(O2.then(()=>tg=0),tg=Date.now());function M2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ni(L2(r,n.value),e,5,[r])};return n.value=t,n.attached=N2(),n}function L2(t,e){if(Fe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const e1=/^on[a-z]/,$2=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?S2(t,r,i):e==="style"?I2(t,n,r):_d(e)?m0(e)||D2(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U2(t,e,r,i))?x2(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),A2(t,e,r,i))};function U2(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&e1.test(e)&&nt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||e1.test(e)&&dn(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function yI(t,e){const n=Ce(t);class r extends jp{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const F2=t=>yI(t,xI),V2=typeof HTMLElement<"u"?HTMLElement:class{};class jp extends V2{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Rr(()=>{this._connected||(zc(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!Fe(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=wf(this._props[l])),(a||(a=Object.create(null)))[Wr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=Fe(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Wr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Wr(e);this._numberProps&&this._numberProps[r]&&(n=wf(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(di(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(di(e),n+""):n||this.removeAttribute(di(e))))}_update(){zc(this._createVNode(),this.shadowRoot)}_createVNode(){const e=le(this._def,cn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),di(s)!==s&&r(di(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof jp){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function B2(t="$style"){{const e=ls();if(!e)return Kt;const n=e.type.__cssModules;if(!n)return Kt;const r=n[t];return r||Kt}}function j2(t){const e=ls();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Mv(s,i))},r=()=>{const i=t(e.proxy);Nv(e.subTree,i),n(i)};AC(r),an(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Ba(()=>i.disconnect())})}function Nv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Nv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Mv(t.el,e);else if(t.type===Se)t.children.forEach(n=>Nv(n,e));else if(t.type===da){let{el:n,anchor:r}=t;for(;n&&(Mv(n,e),n!==r);)n=n.nextSibling}}function Mv(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const wI=new WeakMap,bI=new WeakMap,If=Symbol("_moveCb"),t1=Symbol("_enterCb"),_I={name:"TransitionGroup",props:cn({},_2,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ls(),r=O0();let i,s;return Fp(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!z2(i[0].el,n.vnode.el,o))return;i.forEach(W2),i.forEach(Y2);const a=i.filter(K2);vI(),a.forEach(l=>{const u=l.el,c=u.style;hs(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[If]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[If]=null,Gs(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=pt(t),a=mI(o);let l=o.tag||Se;i=s,s=e.default?$p(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&ba(c,Yl(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];ba(c,Yl(c,a,r,n)),wI.set(c,c.el.getBoundingClientRect())}return le(l,null,s)}}},H2=t=>delete t.mode;_I.props;const TI=_I;function W2(t){const e=t.el;e[If]&&e[If](),e[t1]&&e[t1]()}function Y2(t){bI.set(t,t.el.getBoundingClientRect())}function K2(t){const e=wI.get(t),n=bI.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function z2(t,e,n){const r=t.cloneNode(),i=t[zl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=gI(r);return s.removeChild(r),o}const ko=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Fe(e)?n=>xl(e,n):e};function G2(t){t.target.composing=!0}function n1(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const mi=Symbol("_assign"),kf={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[mi]=ko(i);const s=r||i.props&&i.props.type==="number";gs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=yf(a)),t[mi](a)}),n&&gs(t,"change",()=>{t.value=t.value.trim()}),e||(gs(t,"compositionstart",G2),gs(t,"compositionend",n1),gs(t,"change",n1))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[mi]=ko(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&yf(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},Hp={deep:!0,created(t,e,n){t[mi]=ko(n),gs(t,"change",()=>{const r=t._modelValue,i=Gl(t),s=t.checked,o=t[mi];if(Fe(r)){const a=kp(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Fa(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(EI(t,s))})},mounted:r1,beforeUpdate(t,e,n){t[mi]=ko(n),r1(t,e,n)}};function r1(t,{value:e,oldValue:n},r){t._modelValue=e,Fe(e)?t.checked=kp(e,r.props.value)>-1:Fa(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Eo(e,EI(t,!0)))}const j0={created(t,{value:e},n){t.checked=Eo(e,n.props.value),t[mi]=ko(n),gs(t,"change",()=>{t[mi](Gl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[mi]=ko(r),e!==n&&(t.checked=Eo(e,r.props.value))}},H0={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Fa(e);gs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?yf(Gl(o)):Gl(o));t[mi](t.multiple?i?new Set(s):s:s[0])}),t[mi]=ko(r)},mounted(t,{value:e}){i1(t,e)},beforeUpdate(t,e,n){t[mi]=ko(n)},updated(t,{value:e}){i1(t,e)}};function i1(t,e){const n=t.multiple;if(!(n&&!Fe(e)&&!Fa(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=Gl(s);if(n)Fe(e)?s.selected=kp(e,o)>-1:s.selected=e.has(o);else if(Eo(Gl(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Gl(t){return"_value"in t?t._value:t.value}function EI(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const SI={created(t,e,n){wh(t,e,n,null,"created")},mounted(t,e,n){wh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){wh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){wh(t,e,n,r,"updated")}};function CI(t,e){switch(t){case"SELECT":return H0;case"TEXTAREA":return kf;default:switch(e){case"checkbox":return Hp;case"radio":return j0;default:return kf}}}function wh(t,e,n,r,i){const o=CI(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function q2(){kf.getSSRProps=({value:t})=>({value:t}),j0.getSSRProps=({value:t},e)=>{if(e.props&&Eo(e.props.value,t))return{checked:!0}},Hp.getSSRProps=({value:t},e)=>{if(Fe(t)){if(e.props&&kp(t,e.props.value)>-1)return{checked:!0}}else if(Fa(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},SI.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=CI(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const Q2=["ctrl","shift","alt","meta"],X2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Q2.some(n=>t[`${n}Key`]&&!e.includes(n))},Pt=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=X2[e[i]];if(s&&s(n,e))return}return t(n,...r)},J2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>n=>{if(!("key"in n))return;const r=di(n.key);if(e.some(i=>i===r||J2[i]===r))return t(n)},II=cn({patchProp:$2},b2);let yc,s1=!1;function kI(){return yc||(yc=QC(II))}function AI(){return yc=s1?yc:XC(II),s1=!0,yc}const zc=(...t)=>{kI().render(...t)},xI=(...t)=>{AI().hydrate(...t)},PI=(...t)=>{const e=kI().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=DI(r);if(!i)return;const s=e._component;!nt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},Z2=(...t)=>{const e=AI().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=DI(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function DI(t){return dn(t)?document.querySelector(t):t}let o1=!1;const eL=()=>{o1||(o1=!0,q2(),C2())},tL=()=>{},nL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:PC,BaseTransitionPropsValidators:N0,Comment:vr,EffectScope:w0,Fragment:Se,KeepAlive:EM,ReactiveEffect:Hl,Static:da,Suspense:hM,Teleport:eI,Text:_a,Transition:Us,TransitionGroup:TI,VueElement:jp,assertNumber:JN,callWithAsyncErrorHandling:ni,callWithErrorHandling:Ss,camelize:Wr,capitalize:Td,cloneVNode:is,compatUtils:y2,compile:tL,computed:ie,createApp:PI,createBlock:ge,createCommentVNode:oe,createElementBlock:Z,createElementVNode:re,createHydrationRenderer:XC,createPropsRestProxy:UM,createRenderer:QC,createSSRApp:Z2,createSlots:nr,createStaticVNode:s2,createTextVNode:Xe,createVNode:le,customRef:KN,defineAsyncComponent:_M,defineComponent:Ce,defineCustomElement:yI,defineEmits:AM,defineExpose:xM,defineModel:RM,defineOptions:PM,defineProps:kM,defineSSRCustomElement:F2,defineSlots:DM,get devtools(){return cl},effect:wN,effectScope:Ap,getCurrentInstance:ls,getCurrentScope:xp,getTransitionRawChildren:$p,guardReactiveProps:tr,h:Ad,handleError:Va,hasInjectionContext:WC,hydrate:xI,initCustomFormatter:f2,initDirectivesForSSR:eL,inject:xr,isMemoSame:hI,isProxy:S0,isReactive:Xi,isReadonly:wa,isRef:Gt,isRuntimeOnly:c2,isShallow:Fc,isVNode:Co,markRaw:Ed,mergeDefaults:LM,mergeModels:$M,mergeProps:Ht,nextTick:Rr,normalizeClass:De,normalizeProps:En,normalizeStyle:Nn,onActivated:RC,onBeforeMount:MC,onBeforeUnmount:kd,onBeforeUpdate:M0,onDeactivated:OC,onErrorCaptured:FC,onMounted:an,onRenderTracked:UC,onRenderTriggered:$C,onScopeDispose:b0,onServerPrefetch:LC,onUnmounted:Ba,onUpdated:Fp,openBlock:D,popScopeId:EC,provide:Rl,proxyRefs:k0,pushScopeId:TC,queuePostFlushCb:_f,reactive:$n,readonly:E0,ref:ue,registerRuntimeCompiler:u2,render:zc,renderList:ut,renderSlot:Ae,resolveComponent:Ls,resolveDirective:cM,resolveDynamicComponent:Sd,resolveFilter:v2,resolveTransitionHooks:Yl,setBlockTracking:xv,setDevtoolsHook:bC,setTransitionHooks:ba,shallowReactive:hC,shallowReadonly:VN,shallowRef:fC,ssrContextKey:cI,ssrUtils:g2,stop:bN,toDisplayString:ze,toHandlerKey:pc,toHandlers:CM,toRaw:pt,toRef:Wl,toRefs:mC,toValue:HN,transformVNodeArgs:r2,triggerRef:jN,unref:k,useAttrs:NM,useCssModule:B2,useCssVars:j2,useModel:MM,useSSRContext:dI,useSlots:Oo,useTransitionState:O0,vModelCheckbox:Hp,vModelDynamic:SI,vModelRadio:j0,vModelSelect:H0,vModelText:kf,vShow:Cs,version:fI,warn:XN,watch:pn,watchEffect:kC,watchPostEffect:AC,watchSyncEffect:yM,withAsyncContext:FM,withCtx:ve,withDefaults:OM,withDirectives:Ji,withKeys:at,withMemo:p2,withModifiers:Pt,withScopeId:iM},Symbol.toStringTag,{value:"Module"}));function rL(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Af=rL();let a1=0;const iL=()=>{const t=a1;return a1+=1,t},RI=()=>(t,e)=>{const n={...t,id:iL(),group:t.group||""};return Af.emit("notify",{notification:n,timeout:e}),()=>Af.emit("close",n.id)},OI="context",Lv=Ce({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=xr(OI),i=$n({notifications:[],timeouts:{}}),s=ie(()=>i.notifications.filter(c=>c.group===r.group)),o=ie(()=>r.position==="bottom"?[...s.value].slice(0,n.maxNotifications):[...s.value].reverse().slice(0,n.maxNotifications)),a=c=>{i.notifications.splice(i.notifications.findIndex(d=>d.id===c),1),clearTimeout(i.timeouts[c])},l=({notification:c,timeout:d})=>{i.notifications.push(c),i.timeouts[c.id]=window.setTimeout(()=>{d!==-1&&a(c.id)},Math.max(d||3e3,0))},u=c=>{e("close"),a(c)};return an(()=>{Af.on("notify",l),Af.on("close",a)}),(c,d)=>(D(),ge(TI,{"enter-active-class":k(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:ve(()=>[Ae(c.$slots,"default",{notifications:k(o),close:u})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),l1=Ce({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Rl(OI,{group:e.group,position:e.position}),(n,r)=>Ae(n.$slots,"default",{group:t.group})}});function sL(t){t.config.globalProperties.$notify=RI(),t.component("Notification",Lv),t.component("NotificationGroup",l1),t.component("notification",Lv),t.component("notificationGroup",l1)}const oL={install:sL},aL=RI(),lL={class:"px-4 py-2 -mx-3"},uL={class:"mx-3"},cL={class:"font-semibold text-white"},dL={class:"text-sm text-gray-100"},ng=Ce({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(D(),ge(k(Lv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:ve(({notifications:r})=>[(D(!0),Z(Se,null,ut(r,i=>(D(),Z("div",{key:i.id},[i.type===e.type?(D(),Z("div",{key:0,class:De("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-lg shadow-md "+e.color)},[re("div",lL,[re("div",uL,[re("span",cL,ze(i.title),1),re("p",dL,ze(i.text),1)])])],2)):oe("",!0)]))),128))]),_:1}))}}),hL={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},fL={class:"w-full max-w-sm"},pL=Ce({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Ls("NotificationGroup",!0);return D(),ge(r,null,{default:ve(()=>[re("div",hL,[re("div",fL,[le(ng,{type:"error",color:"bg-red-800"}),le(ng,{type:"warning",color:"bg-yellow-800"}),le(ng,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const dl=typeof window<"u";function mL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const jt=Object.assign;function rg(t,e){const n={};for(const r in e){const i=e[r];n[r]=Mi(i)?i.map(t):t(i)}return n}const wc=()=>{},Mi=Array.isArray,gL=/\/$/,vL=t=>t.replace(gL,"");function ig(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=_L(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function yL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function u1(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function wL(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ql(e.matched[r],n.matched[i])&&NI(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ql(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function NI(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!bL(t[n],e[n]))return!1;return!0}function bL(t,e){return Mi(t)?c1(t,e):Mi(e)?c1(e,t):t===e}function c1(t,e){return Mi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function _L(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Gc;(function(t){t.pop="pop",t.push="push"})(Gc||(Gc={}));var bc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(bc||(bc={}));function TL(t){if(!t)if(dl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vL(t)}const EL=/^[^#]+#/;function SL(t,e){return t.replace(EL,"#")+e}function CL(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Wp=()=>({left:window.pageXOffset,top:window.pageYOffset});function IL(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=CL(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function d1(t,e){return(history.state?history.state.position-e:-1)+t}const $v=new Map;function kL(t,e){$v.set(t,e)}function AL(t){const e=$v.get(t);return $v.delete(t),e}let xL=()=>location.protocol+"//"+location.host;function MI(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),u1(l,"")}return u1(n,t)+r+i}function PL(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=MI(t,location),p=n.value,g=e.value;let y=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}y=g?h.position-g.position:0}else r(f);i.forEach(_=>{_(n.value,p,{delta:y,type:Gc.pop,direction:y?y>0?bc.forward:bc.back:bc.unknown})})};function l(){o=n.value}function u(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(jt({},h.state,{scroll:Wp()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function h1(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Wp():null}}function DL(t){const{history:e,location:n}=window,r={value:MI(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:xL()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function o(l,u){const c=jt({},e.state,h1(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=jt({},i.value,e.state,{forward:l,scroll:Wp()});s(c.current,c,!0);const d=jt({},h1(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function RL(t){t=TL(t);const e=DL(t),n=PL(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=jt({location:"",base:t,go:r,createHref:SL.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function OL(t){return typeof t=="string"||t&&typeof t=="object"}function LI(t){return typeof t=="string"||typeof t=="symbol"}const Ws={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$I=Symbol("");var f1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(f1||(f1={}));function Ql(t,e){return jt(new Error,{type:t,[$I]:!0},e)}function ds(t,e){return t instanceof Error&&$I in t&&(e==null||!!(t.type&e))}const p1="[^/]+?",NL={sensitive:!1,strict:!1,start:!0,end:!0},ML=/[.+*?^${}()[\]/\\]/g;function LL(t,e){const n=jt({},NL,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(ML,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:g,optional:y,regexp:_}=h;s.push({name:p,repeatable:g,optional:y});const v=_||p1;if(v!==p1){f+=10;try{new RegExp(`(${v})`)}catch(m){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+m.message)}}let b=g?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(b=y&&u.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),i+=b,f+=20,y&&(f+=-8),g&&(f+=-20),v===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:y}=f,_=p in u?u[p]:"";if(Mi(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Mi(_)?_.join("/"):_;if(!v)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=v}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function $L(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function UL(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=$L(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(m1(r))return 1;if(m1(i))return-1}return i.length-r.length}function m1(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const FL={type:0,value:""},VL=/[a-zA-Z0-9_]/;function BL(t){if(!t)return[[]];if(t==="/")return[[FL]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:VL.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function jL(t,e,n){const r=LL(BL(t.path),n),i=jt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function HL(t,e){const n=[],r=new Map;e=y1({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,h){const f=!h,p=WL(c);p.aliasOf=h&&h.record;const g=y1(e,c),y=[p];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const m of b)y.push(jt({},p,{components:h?h.record.components:p.components,path:m,aliasOf:h?h.record:p}))}let _,v;for(const b of y){const{path:m}=b;if(d&&m[0]!=="/"){const w=d.record.path,T=w[w.length-1]==="/"?"":"/";b.path=d.record.path+(m&&T+m)}if(_=jL(b,d,g),h?h.alias.push(_):(v=v||_,v!==_&&v.alias.push(_),f&&c.name&&!v1(_)&&o(c.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)s(w[T],_,h&&h.children[T])}h=h||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return v?()=>{o(v)}:wc}function o(c){if(LI(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&UL(c,n[d])>=0&&(c.record.path!==n[d].record.path||!UI(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!v1(c)&&r.set(c.record.name,c)}function u(c,d){let h,f={},p,g;if("name"in c&&c.name){if(h=r.get(c.name),!h)throw Ql(1,{location:c});g=h.record.name,f=jt(g1(d.params,h.keys.filter(v=>!v.optional).map(v=>v.name)),c.params&&g1(c.params,h.keys.map(v=>v.name))),p=h.stringify(f)}else if("path"in c)p=c.path,h=n.find(v=>v.re.test(p)),h&&(f=h.parse(p),g=h.record.name);else{if(h=d.name?r.get(d.name):n.find(v=>v.re.test(d.path)),!h)throw Ql(1,{location:c,currentLocation:d});g=h.record.name,f=jt({},d.params,c.params),p=h.stringify(f)}const y=[];let _=h;for(;_;)y.unshift(_.record),_=_.parent;return{name:g,path:p,params:f,matched:y,meta:KL(y)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function g1(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function WL(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:YL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function YL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function v1(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function KL(t){return t.reduce((e,n)=>jt(e,n.meta),{})}function y1(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function UI(t,e){return e.children.some(n=>n===t||UI(t,n))}const FI=/#/g,zL=/&/g,GL=/\//g,qL=/=/g,QL=/\?/g,VI=/\+/g,XL=/%5B/g,JL=/%5D/g,BI=/%5E/g,ZL=/%60/g,jI=/%7B/g,e$=/%7C/g,HI=/%7D/g,t$=/%20/g;function W0(t){return encodeURI(""+t).replace(e$,"|").replace(XL,"[").replace(JL,"]")}function n$(t){return W0(t).replace(jI,"{").replace(HI,"}").replace(BI,"^")}function Uv(t){return W0(t).replace(VI,"%2B").replace(t$,"+").replace(FI,"%23").replace(zL,"%26").replace(ZL,"`").replace(jI,"{").replace(HI,"}").replace(BI,"^")}function r$(t){return Uv(t).replace(qL,"%3D")}function i$(t){return W0(t).replace(FI,"%23").replace(QL,"%3F")}function s$(t){return t==null?"":i$(t).replace(GL,"%2F")}function xf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function o$(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(VI," "),o=s.indexOf("="),a=xf(o<0?s:s.slice(0,o)),l=o<0?null:xf(s.slice(o+1));if(a in e){let u=e[a];Mi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function w1(t){let e="";for(let n in t){const r=t[n];if(n=r$(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Mi(r)?r.map(s=>s&&Uv(s)):[r&&Uv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function a$(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Mi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const l$=Symbol(""),b1=Symbol(""),Yp=Symbol(""),Y0=Symbol(""),Fv=Symbol("");function Lu(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Js(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Ql(4,{from:n,to:e})):d instanceof Error?a(d):OL(d)?a(Ql(2,{from:e,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},u=t.call(r&&r.instances[i],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function sg(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(u$(a)){const u=(a.__vccOpts||a)[e];u&&i.push(Js(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=mL(u)?u.default:u;s.components[o]=c;const h=(c.__vccOpts||c)[e];return h&&Js(h,n,r,s,o)()}))}}return i}function u$(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function _1(t){const e=xr(Yp),n=xr(Y0),r=ie(()=>e.resolve(k(t.to))),i=ie(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(ql.bind(null,c));if(h>-1)return h;const f=T1(l[u-2]);return u>1&&T1(c)===f&&d[d.length-1].path!==f?d.findIndex(ql.bind(null,l[u-2])):h}),s=ie(()=>i.value>-1&&f$(n.params,r.value.params)),o=ie(()=>i.value>-1&&i.value===n.matched.length-1&&NI(n.params,r.value.params));function a(l={}){return h$(l)?e[k(t.replace)?"replace":"push"](k(t.to)).catch(wc):Promise.resolve()}return{route:r,href:ie(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const c$=Ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_1,setup(t,{slots:e}){const n=$n(_1(t)),{options:r}=xr(Yp),i=ie(()=>({[E1(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[E1(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Ad("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),d$=c$;function h$(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function f$(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Mi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function T1(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const E1=(t,e,n)=>t??e??n,p$=Ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=xr(Fv),i=ie(()=>t.route||r.value),s=xr(b1,0),o=ie(()=>{let u=k(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ie(()=>i.value.matched[o.value]);Rl(b1,ie(()=>o.value+1)),Rl(l$,a),Rl(Fv,i);const l=ue();return pn(()=>[l.value,a.value,t.name],([u,c,d],[h,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!ql(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return S1(n.default,{Component:h,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,y=Ad(h,jt({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return S1(n.default,{Component:y,route:u})||y}}});function S1(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const WI=p$;function m$(t){const e=HL(t.routes,t),n=t.parseQuery||o$,r=t.stringifyQuery||w1,i=t.history,s=Lu(),o=Lu(),a=Lu(),l=fC(Ws);let u=Ws;dl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=rg.bind(null,G=>""+G),d=rg.bind(null,s$),h=rg.bind(null,xf);function f(G,ae){let K,pe;return LI(G)?(K=e.getRecordMatcher(G),pe=ae):pe=G,e.addRoute(pe,K)}function p(G){const ae=e.getRecordMatcher(G);ae&&e.removeRoute(ae)}function g(){return e.getRoutes().map(G=>G.record)}function y(G){return!!e.getRecordMatcher(G)}function _(G,ae){if(ae=jt({},ae||l.value),typeof G=="string"){const V=ig(n,G,ae.path),z=e.resolve({path:V.path},ae),ne=i.createHref(V.fullPath);return jt(V,z,{params:h(z.params),hash:xf(V.hash),redirectedFrom:void 0,href:ne})}let K;if("path"in G)K=jt({},G,{path:ig(n,G.path,ae.path).path});else{const V=jt({},G.params);for(const z in V)V[z]==null&&delete V[z];K=jt({},G,{params:d(V)}),ae.params=d(ae.params)}const pe=e.resolve(K,ae),Ee=G.hash||"";pe.params=c(h(pe.params));const E=yL(r,jt({},G,{hash:n$(Ee),path:pe.path})),P=i.createHref(E);return jt({fullPath:E,hash:Ee,query:r===w1?a$(G.query):G.query||{}},pe,{redirectedFrom:void 0,href:P})}function v(G){return typeof G=="string"?ig(n,G,l.value.path):jt({},G)}function b(G,ae){if(u!==G)return Ql(8,{from:ae,to:G})}function m(G){return M(G)}function w(G){return m(jt(v(G),{replace:!0}))}function T(G){const ae=G.matched[G.matched.length-1];if(ae&&ae.redirect){const{redirect:K}=ae;let pe=typeof K=="function"?K(G):K;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=v(pe):{path:pe},pe.params={}),jt({query:G.query,hash:G.hash,params:"path"in pe?{}:G.params},pe)}}function M(G,ae){const K=u=_(G),pe=l.value,Ee=G.state,E=G.force,P=G.replace===!0,V=T(K);if(V)return M(jt(v(V),{state:typeof V=="object"?jt({},Ee,V.state):Ee,force:E,replace:P}),ae||K);const z=K;z.redirectedFrom=ae;let ne;return!E&&wL(r,pe,K)&&(ne=Ql(16,{to:z,from:pe}),te(pe,pe,!0,!1)),(ne?Promise.resolve(ne):S(z,pe)).catch(q=>ds(q)?ds(q,2)?q:I(q):X(q,z,pe)).then(q=>{if(q){if(ds(q,2))return M(jt({replace:P},v(q.to),{state:typeof q.to=="object"?jt({},Ee,q.to.state):Ee,force:E}),ae||z)}else q=F(z,pe,!0,P,Ee);return N(z,pe,q),q})}function x(G,ae){const K=b(G,ae);return K?Promise.reject(K):Promise.resolve()}function A(G){const ae=de.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(G):G()}function S(G,ae){let K;const[pe,Ee,E]=g$(G,ae);K=sg(pe.reverse(),"beforeRouteLeave",G,ae);for(const V of pe)V.leaveGuards.forEach(z=>{K.push(Js(z,G,ae))});const P=x.bind(null,G,ae);return K.push(P),B(K).then(()=>{K=[];for(const V of s.list())K.push(Js(V,G,ae));return K.push(P),B(K)}).then(()=>{K=sg(Ee,"beforeRouteUpdate",G,ae);for(const V of Ee)V.updateGuards.forEach(z=>{K.push(Js(z,G,ae))});return K.push(P),B(K)}).then(()=>{K=[];for(const V of G.matched)if(V.beforeEnter&&!ae.matched.includes(V))if(Mi(V.beforeEnter))for(const z of V.beforeEnter)K.push(Js(z,G,ae));else K.push(Js(V.beforeEnter,G,ae));return K.push(P),B(K)}).then(()=>(G.matched.forEach(V=>V.enterCallbacks={}),K=sg(E,"beforeRouteEnter",G,ae),K.push(P),B(K))).then(()=>{K=[];for(const V of o.list())K.push(Js(V,G,ae));return K.push(P),B(K)}).catch(V=>ds(V,8)?V:Promise.reject(V))}function N(G,ae,K){for(const pe of a.list())A(()=>pe(G,ae,K))}function F(G,ae,K,pe,Ee){const E=b(G,ae);if(E)return E;const P=ae===Ws,V=dl?history.state:{};K&&(pe||P?i.replace(G.fullPath,jt({scroll:P&&V&&V.scroll},Ee)):i.push(G.fullPath,Ee)),l.value=G,te(G,ae,K,P),I()}let C;function H(){C||(C=i.listen((G,ae,K)=>{if(!we.listening)return;const pe=_(G),Ee=T(pe);if(Ee){M(jt(Ee,{replace:!0}),pe).catch(wc);return}u=pe;const E=l.value;dl&&kL(d1(E.fullPath,K.delta),Wp()),S(pe,E).catch(P=>ds(P,12)?P:ds(P,2)?(M(P.to,pe).then(V=>{ds(V,20)&&!K.delta&&K.type===Gc.pop&&i.go(-1,!1)}).catch(wc),Promise.reject()):(K.delta&&i.go(-K.delta,!1),X(P,pe,E))).then(P=>{P=P||F(pe,E,!1),P&&(K.delta&&!ds(P,8)?i.go(-K.delta,!1):K.type===Gc.pop&&ds(P,20)&&i.go(-1,!1)),N(pe,E,P)}).catch(wc)}))}let O=Lu(),R=Lu(),W;function X(G,ae,K){I(G);const pe=R.list();return pe.length?pe.forEach(Ee=>Ee(G,ae,K)):console.error(G),Promise.reject(G)}function U(){return W&&l.value!==Ws?Promise.resolve():new Promise((G,ae)=>{O.add([G,ae])})}function I(G){return W||(W=!G,H(),O.list().forEach(([ae,K])=>G?K(G):ae()),O.reset()),G}function te(G,ae,K,pe){const{scrollBehavior:Ee}=t;if(!dl||!Ee)return Promise.resolve();const E=!K&&AL(d1(G.fullPath,0))||(pe||!K)&&history.state&&history.state.scroll||null;return Rr().then(()=>Ee(G,ae,E)).then(P=>P&&IL(P)).catch(P=>X(P,G,ae))}const L=G=>i.go(G);let ee;const de=new Set,we={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:y,getRoutes:g,resolve:_,options:t,push:m,replace:w,go:L,back:()=>L(-1),forward:()=>L(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:R.add,isReady:U,install(G){const ae=this;G.component("RouterLink",d$),G.component("RouterView",WI),G.config.globalProperties.$router=ae,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>k(l)}),dl&&!ee&&l.value===Ws&&(ee=!0,m(i.location).catch(Ee=>{}));const K={};for(const Ee in Ws)K[Ee]=ie(()=>l.value[Ee]);G.provide(Yp,ae),G.provide(Y0,$n(K)),G.provide(Fv,l);const pe=G.unmount;de.add(G),G.unmount=function(){de.delete(G),de.size<1&&(u=Ws,C&&C(),C=null,l.value=Ws,ee=!1,W=!1),pe()}}};function B(G){return G.reduce((ae,K)=>ae.then(()=>A(K)),Promise.resolve())}return we}function g$(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>ql(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ql(u,l))||i.push(l))}return[n,r,i]}function YI(){return xr(Yp)}function K0(){return xr(Y0)}const v$=Ce({__name:"App",setup(t){return(e,n)=>(D(),Z(Se,null,[le(k(WI)),le(pL)],64))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe=function(t,e){if(!t)throw yu(e)},yu=function(t){return new Error("Firebase Database ("+KI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},y$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Kp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):y$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new w$;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class w$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GI=function(t){const e=zI(t);return Kp.encodeByteArray(e,!0)},Pf=function(t){return GI(t).replace(/\./g,"")},Df=function(t){try{return Kp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){return qI(void 0,t)}function qI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_$(n)||(t[n]=qI(t[n],e[n]));return t}function _$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=()=>QI().__FIREBASE_DEFAULTS__,E$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},S$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Df(t[1]);return e&&JSON.parse(e)},zp=()=>{try{return T$()||E$()||S$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XI=t=>{var e,n;return(n=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JI=t=>{const e=XI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZI=()=>{var t;return(t=zp())===null||t===void 0?void 0:t.config},ek=t=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Pf(JSON.stringify(n)),Pf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function C$(){var t;const e=(t=zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I$(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ik(){return KI.NODE_ADMIN===!0}function Gp(){try{return typeof indexedDB=="object"}catch{return!1}}function sk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function k$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A$,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?x$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ai(i,a,r)}}function x$(t,e){return t.replace(P$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){return JSON.parse(t)}function Zn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=qc(Df(s[0])||""),n=qc(Df(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},D$=function(t){const e=ok(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},R$=function(t){const e=ok(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Qc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(C1(s)&&C1(o)){if(!Qc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function N$(t,e){const n=new M$(t,e);return n.subscribe.bind(n)}class M${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=og),i.error===void 0&&(i.error=og),i.complete===void 0&&(i.complete=og);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}function $$(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,xe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=1e3,B$=2,j$=4*60*60*1e3,H$=.5;function Bv(t,e=V$,n=B$){const r=e*Math.pow(n,t),i=Math.round(H$*r*(Math.random()-.5)*2);return Math.min(j$,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ea;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K$(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y$(t){return t===Go?void 0:t}function K$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const G$={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},q$=xt.INFO,Q$={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},X$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Q$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bu{constructor(e){this.name=e,this._logLevel=q$,this._logHandler=X$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const J$=(t,e)=>e.some(n=>t instanceof n);let I1,k1;function Z$(){return I1||(I1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eU(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ak=new WeakMap,jv=new WeakMap,lk=new WeakMap,ag=new WeakMap,G0=new WeakMap;function tU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ak.set(n,t)}).catch(()=>{}),G0.set(e,t),e}function nU(t){if(jv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jv.set(t,e)}let Hv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rU(t){Hv=t(Hv)}function iU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lg(this),e,...n);return lk.set(r,e.sort?e.sort():[e]),fo(r)}:eU().includes(t)?function(...e){return t.apply(lg(this),e),fo(ak.get(this))}:function(...e){return fo(t.apply(lg(this),e))}}function sU(t){return typeof t=="function"?iU(t):(t instanceof IDBTransaction&&nU(t),J$(t,Z$())?new Proxy(t,Hv):t)}function fo(t){if(t instanceof IDBRequest)return tU(t);if(ag.has(t))return ag.get(t);const e=sU(t);return e!==t&&(ag.set(t,e),G0.set(e,t)),e}const lg=t=>G0.get(t);function oU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fo(o.result),l.oldVersion,l.newVersion,fo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const aU=["get","getKey","getAll","getAllKeys","count"],lU=["put","add","delete","clear"],ug=new Map;function A1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ug.set(e,s),s}rU(t=>({...t,get:(e,n,r)=>A1(e,n)||t.get(e,n,r),has:(e,n)=>!!A1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",x1="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new bu("@firebase/app"),dU="@firebase/app-compat",hU="@firebase/analytics-compat",fU="@firebase/analytics",pU="@firebase/app-check-compat",mU="@firebase/app-check",gU="@firebase/auth",vU="@firebase/auth-compat",yU="@firebase/database",wU="@firebase/database-compat",bU="@firebase/functions",_U="@firebase/functions-compat",TU="@firebase/installations",EU="@firebase/installations-compat",SU="@firebase/messaging",CU="@firebase/messaging-compat",IU="@firebase/performance",kU="@firebase/performance-compat",AU="@firebase/remote-config",xU="@firebase/remote-config-compat",PU="@firebase/storage",DU="@firebase/storage-compat",RU="@firebase/firestore",OU="@firebase/firestore-compat",NU="firebase",MU="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="[DEFAULT]",LU={[Wv]:"fire-core",[dU]:"fire-core-compat",[fU]:"fire-analytics",[hU]:"fire-analytics-compat",[mU]:"fire-app-check",[pU]:"fire-app-check-compat",[gU]:"fire-auth",[vU]:"fire-auth-compat",[yU]:"fire-rtdb",[wU]:"fire-rtdb-compat",[bU]:"fire-fn",[_U]:"fire-fn-compat",[TU]:"fire-iid",[EU]:"fire-iid-compat",[SU]:"fire-fcm",[CU]:"fire-fcm-compat",[IU]:"fire-perf",[kU]:"fire-perf-compat",[AU]:"fire-rc",[xU]:"fire-rc-compat",[PU]:"fire-gcs",[DU]:"fire-gcs-compat",[RU]:"fire-fst",[OU]:"fire-fst-compat","fire-js":"fire-js",[NU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,Kv=new Map;function $U(t,e){try{t.container.addComponent(e)}catch(n){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zr(t){const e=t.name;if(Kv.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;Kv.set(e,t);for(const n of Of.values())$U(n,t);return!0}function us(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},po=new No("app","Firebase",UU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=MU;function uk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=ZI()),!n)throw po.create("no-options");const s=Of.get(i);if(s){if(Qc(n,s.options)&&Qc(r,s.config))return s;throw po.create("duplicate-app",{appName:i})}const o=new z$(i);for(const l of Kv.values())o.addComponent(l);const a=new FU(n,r,o);return Of.set(i,a),a}function _u(t=Yv){const e=Of.get(t);if(!e&&t===Yv&&ZI())return uk();if(!e)throw po.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let i=(r=LU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(a.join(" "));return}zr(new Or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="firebase-heartbeat-database",BU=1,Xc="firebase-heartbeat-store";let cg=null;function ck(){return cg||(cg=oU(VU,BU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xc)}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),cg}async function jU(t){try{return await(await ck()).transaction(Xc).objectStore(Xc).get(dk(t))}catch(e){if(e instanceof ai)Sa.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sa.warn(n.message)}}}async function P1(t,e){try{const r=(await ck()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,dk(t)),await r.done}catch(n){if(n instanceof ai)Sa.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sa.warn(r.message)}}}function dk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=1024,WU=30*24*60*60*1e3;class YU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=D1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=WU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D1(),{heartbeatsToSend:n,unsentEntries:r}=KU(this._heartbeatsCache.heartbeats),i=Pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function D1(){return new Date().toISOString().substring(0,10)}function KU(t,e=HU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),R1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gp()?sk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function R1(t){return Pf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){zr(new Or("platform-logger",e=>new uU(e),"PRIVATE")),zr(new Or("heartbeat",e=>new YU(e),"PRIVATE")),rr(Wv,x1,t),rr(Wv,x1,"esm2017"),rr("fire-js","")}GU("");const qU=(t,e)=>e.some(n=>t instanceof n);let O1,N1;function QU(){return O1||(O1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XU(){return N1||(N1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hk=new WeakMap,zv=new WeakMap,fk=new WeakMap,dg=new WeakMap,q0=new WeakMap;function JU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hk.set(n,t)}).catch(()=>{}),q0.set(e,t),e}function ZU(t){if(zv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zv.set(t,e)}let Gv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eF(t){Gv=t(Gv)}function tF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hg(this),e,...n);return fk.set(r,e.sort?e.sort():[e]),mo(r)}:XU().includes(t)?function(...e){return t.apply(hg(this),e),mo(hk.get(this))}:function(...e){return mo(t.apply(hg(this),e))}}function nF(t){return typeof t=="function"?tF(t):(t instanceof IDBTransaction&&ZU(t),qU(t,QU())?new Proxy(t,Gv):t)}function mo(t){if(t instanceof IDBRequest)return JU(t);if(dg.has(t))return dg.get(t);const e=nF(t);return e!==t&&(dg.set(t,e),q0.set(e,t)),e}const hg=t=>q0.get(t);function rF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mo(o.result),l.oldVersion,l.newVersion,mo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const iF=["get","getKey","getAll","getAllKeys","count"],sF=["put","add","delete","clear"],fg=new Map;function M1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return fg.set(e,s),s}eF(t=>({...t,get:(e,n,r)=>M1(e,n)||t.get(e,n,r),has:(e,n)=>!!M1(e,n)||t.has(e,n)}));const pk="@firebase/installations",Q0="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=1e4,gk=`w:${Q0}`,vk="FIS_v2",oF="https://firebaseinstallations.googleapis.com/v1",aF=60*60*1e3,lF="installations",uF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ca=new No(lF,uF,cF);function yk(t){return t instanceof ai&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk({projectId:t}){return`${oF}/projects/${t}/installations`}function bk(t){return{token:t.token,requestStatus:2,expiresIn:hF(t.expiresIn),creationTime:Date.now()}}async function _k(t,e){const r=(await e.json()).error;return Ca.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Tk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dF(t,{refreshToken:e}){const n=Tk(t);return n.append("Authorization",fF(e)),n}async function Ek(t){const e=await t();return e.status>=500&&e.status<600?t():e}function hF(t){return Number(t.replace("s","000"))}function fF(t){return`${vk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wk(t),i=Tk(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:vk,appId:t.appId,sdkVersion:gk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ek(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:bk(u.authToken)}}else throw await _k("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=/^[cdef][\w-]{21}$/,qv="";function vF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=yF(t);return gF.test(n)?n:qv}catch{return qv}}function yF(t){return mF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new Map;function Ik(t,e){const n=Qp(t);kk(n,e),wF(n,e)}function kk(t,e){const n=Ck.get(t);if(n)for(const r of n)r(e)}function wF(t,e){const n=bF();n&&n.postMessage({key:t,fid:e}),_F()}let ia=null;function bF(){return!ia&&"BroadcastChannel"in self&&(ia=new BroadcastChannel("[Firebase] FID Change"),ia.onmessage=t=>{kk(t.data.key,t.data.fid)}),ia}function _F(){Ck.size===0&&ia&&(ia.close(),ia=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="firebase-installations-database",EF=1,Ia="firebase-installations-store";let pg=null;function X0(){return pg||(pg=rF(TF,EF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ia)}}})),pg}async function Nf(t,e){const n=Qp(t),i=(await X0()).transaction(Ia,"readwrite"),s=i.objectStore(Ia),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Ik(t,e.fid),e}async function Ak(t){const e=Qp(t),r=(await X0()).transaction(Ia,"readwrite");await r.objectStore(Ia).delete(e),await r.done}async function Xp(t,e){const n=Qp(t),i=(await X0()).transaction(Ia,"readwrite"),s=i.objectStore(Ia),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Ik(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J0(t){let e;const n=await Xp(t.appConfig,r=>{const i=SF(r),s=CF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===qv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function SF(t){const e=t||{fid:vF(),registrationStatus:0};return xk(e)}function CF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ca.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=IF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kF(t)}:{installationEntry:e}}async function IF(t,e){try{const n=await pF(t,e);return Nf(t.appConfig,n)}catch(n){throw yk(n)&&n.customData.serverCode===409?await Ak(t.appConfig):await Nf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kF(t){let e=await L1(t.appConfig);for(;e.registrationStatus===1;)await Sk(100),e=await L1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await J0(t);return r||n}return e}function L1(t){return Xp(t,e=>{if(!e)throw Ca.create("installation-not-found");return xk(e)})}function xk(t){return AF(t)?{fid:t.fid,registrationStatus:0}:t}function AF(t){return t.registrationStatus===1&&t.registrationTime+mk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF({appConfig:t,heartbeatServiceProvider:e},n){const r=PF(t,n),i=dF(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:gk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ek(()=>fetch(r,a));if(l.ok){const u=await l.json();return bk(u)}else throw await _k("Generate Auth Token",l)}function PF(t,{fid:e}){return`${wk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(t,e=!1){let n;const r=await Xp(t.appConfig,s=>{if(!Pk(s))throw Ca.create("not-registered");const o=s.authToken;if(!e&&OF(o))return s;if(o.requestStatus===1)return n=DF(t,e),s;{if(!navigator.onLine)throw Ca.create("app-offline");const a=MF(s);return n=RF(t,a),a}});return n?await n:r.authToken}async function DF(t,e){let n=await $1(t.appConfig);for(;n.authToken.requestStatus===1;)await Sk(100),n=await $1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Z0(t,e):r}function $1(t){return Xp(t,e=>{if(!Pk(e))throw Ca.create("not-registered");const n=e.authToken;return LF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function RF(t,e){try{const n=await xF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Nf(t.appConfig,r),n}catch(n){if(yk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ak(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nf(t.appConfig,r)}throw n}}function Pk(t){return t!==void 0&&t.registrationStatus===2}function OF(t){return t.requestStatus===2&&!NF(t)}function NF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+aF}function MF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function LF(t){return t.requestStatus===1&&t.requestTime+mk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t){const e=t,{installationEntry:n,registrationPromise:r}=await J0(e);return r?r.catch(console.error):Z0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(t,e=!1){const n=t;return await FF(n),(await Z0(n,e)).token}async function FF(t){const{registrationPromise:e}=await J0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){if(!t||!t.options)throw mg("App Configuration");if(!t.name)throw mg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw mg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function mg(t){return Ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="installations",BF="installations-internal",jF=t=>{const e=t.getProvider("app").getImmediate(),n=VF(e),r=us(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},HF=t=>{const e=t.getProvider("app").getImmediate(),n=us(e,Dk).getImmediate();return{getId:()=>$F(n),getToken:i=>UF(n,i)}};function WF(){zr(new Or(Dk,jF,"PUBLIC")),zr(new Or(BF,HF,"PRIVATE"))}WF();rr(pk,Q0);rr(pk,Q0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="analytics",YF="firebase_id",KF="origin",zF=60*1e3,GF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ew="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new bu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ri=new No("analytics","Analytics",qF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){if(!t.startsWith(ew)){const e=ri.create("invalid-gtag-resource",{gtagURL:t});return Yr.warn(e.message),""}return t}function Rk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function XF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function JF(t,e){const n=XF("firebase-js-sdk-policy",{createScriptURL:QF}),r=document.createElement("script"),i=`${ew}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ZF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function e3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Rk(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Yr.error(a)}t("config",i,s)}async function t3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Rk(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Yr.error(s)}}function n3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await t3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await e3(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Yr.error(a)}}return i}function r3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=n3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function i3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ew)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=30,o3=1e3;class a3{constructor(e={},n=o3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ok=new a3;function l3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function u3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:l3(r)},s=GF.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function c3(t,e=Ok,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ri.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ri.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new f3;return setTimeout(async()=>{a.abort()},n!==void 0?n:zF),Nk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Nk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Ok){var s;const{appId:o,measurementId:a}=t;try{await d3(r,e)}catch(l){if(a)return Yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await u3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!h3(u)){if(i.deleteThrottleMetadata(o),a)return Yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Bv(n,i.intervalMillis,s3):Bv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Yr.debug(`Calling attemptFetch again in ${c} millis`),Nk(t,d,r,i)}}function d3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function h3(t){if(!(t instanceof ai)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class f3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function p3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(){if(Gp())try{await sk()}catch(t){return Yr.warn(ri.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yr.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function g3(t,e,n,r,i,s,o){var a;const l=c3(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Yr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Yr.error(f)),e.push(l);const u=m3().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);i3(s)||JF(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[KF]="firebase",h.update=!0,d!=null&&(h[YF]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.app=e}_delete(){return delete _c[this.app.options.appId],Promise.resolve()}}let _c={},U1=[];const F1={};let gg="dataLayer",y3="gtag",V1,Mk,B1=!1;function w3(){const t=[];if(nk()&&t.push("This is a browser extension environment."),k$()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ri.create("invalid-analytics-context",{errorInfo:e});Yr.warn(n.message)}}function b3(t,e,n){w3();const r=t.options.appId;if(!r)throw ri.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ri.create("no-api-key");if(_c[r]!=null)throw ri.create("already-exists",{id:r});if(!B1){ZF(gg);const{wrappedGtag:s,gtagCore:o}=r3(_c,U1,F1,gg,y3);Mk=s,V1=o,B1=!0}return _c[r]=g3(t,U1,F1,e,V1,gg,n),new v3(t)}function _3(t=_u()){t=Vt(t);const e=us(t,Mf);return e.isInitialized()?e.getImmediate():T3(t)}function T3(t,e={}){const n=us(t,Mf);if(n.isInitialized()){const i=n.getImmediate();if(Qc(e,n.getOptions()))return i;throw ri.create("already-initialized")}return n.initialize({options:e})}function E3(t,e,n,r){t=Vt(t),p3(Mk,_c[t.app.options.appId],e,n,r).catch(i=>Yr.error(i))}const j1="@firebase/analytics",H1="0.10.0";function S3(){zr(new Or(Mf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return b3(r,i,n)},"PUBLIC")),zr(new Or("analytics-internal",t,"PRIVATE")),rr(j1,H1),rr(j1,H1,"esm2017");function t(e){try{const n=e.getProvider(Mf).getImmediate();return{logEvent:(r,i,s)=>E3(n,r,i,s)}}catch(n){throw ri.create("interop-component-reg-failed",{reason:n})}}}S3();var C3="firebase",I3="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(C3,I3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map,Lk={activated:!1,tokenObservers:[]},k3={initialized:!1,enabled:!1};function Mn(t){return Qv.get(t)||Object.assign({},Lk)}function A3(t,e){return Qv.set(t,e),Qv.get(t)}function Jp(){return k3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="https://content-firebaseappcheck.googleapis.com/v1",x3="exchangeRecaptchaV3Token",P3="exchangeDebugToken",W1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},D3=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Ea,await O3(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Ea,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function O3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},jr=new No("appCheck","AppCheck",N3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function tw(t){if(!Mn(t).activated)throw jr.create("use-before-activation",{appName:t.name})}function Uk(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=bh(n)+"d:"),r&&(o+=bh(r)+"h:"),o+=bh(i)+"m:"+bh(s)+"s",o}function bh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw jr.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw jr.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw jr.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function M3(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$k}/projects/${n}/apps/${r}:${x3}?key=${i}`,body:{recaptcha_v3_token:e}}}function Fk(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$k}/projects/${n}/apps/${r}:${P3}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="firebase-app-check-database",$3=1,Jc="firebase-app-check-store",Vk="debug-token";let _h=null;function Bk(){return _h||(_h=new Promise((t,e)=>{try{const n=indexedDB.open(L3,$3);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(jr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Jc,{keyPath:"compositeKey"})}}}catch(n){e(jr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),_h)}function U3(t){return Hk(Wk(t))}function F3(t,e){return jk(Wk(t),e)}function V3(t){return jk(Vk,t)}function B3(){return Hk(Vk)}async function jk(t,e){const r=(await Bk()).transaction(Jc,"readwrite"),s=r.objectStore(Jc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(jr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function Hk(t){const n=(await Bk()).transaction(Jc,"readonly"),i=n.objectStore(Jc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(jr.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function Wk(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new bu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t){if(Gp()){let e;try{e=await U3(t)}catch(n){Zc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function vg(t,e){return Gp()?F3(t,e).catch(n=>{Zc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function H3(){let t;try{t=await B3()}catch{}if(t)return t;{const e=F$();return V3(e).catch(n=>Zc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(){return Jp().enabled}async function iw(){const t=Jp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function W3(){const t=QI(),e=Jp();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new Ea;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(H3())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={error:"UNKNOWN_ERROR"};function K3(t){return Kp.encodeString(JSON.stringify(t),!1)}async function Xv(t,e=!1){const n=t.app;tw(n);const r=Mn(n);let i=r.token,s;if(i&&!wl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(wl(l)?i=l:await vg(n,void 0))}if(!e&&i&&wl(i))return{token:i.token};let o=!1;if(rw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nw(Fk(n,await iw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await vg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Mn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Zc.warn(l.message):Zc.error(l),s=l}let a;return i?s?wl(i)?a={token:i.token,internalError:s}:a=z1(s):(a={token:i.token},r.token=i,await vg(n,i)):a=z1(s),o&&zk(n,a),a}async function z3(t){const e=t.app;tw(e);const{provider:n}=Mn(e);if(rw()){const r=await iw(),{token:i}=await nw(Fk(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Yk(t,e,n,r){const{app:i}=t,s=Mn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&wl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),K1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>K1(t))}function Kk(t,e){const n=Mn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function K1(t){const{app:e}=t,n=Mn(e);let r=n.tokenRefresher;r||(r=G3(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function G3(t){const{app:e}=t;return new R3(async()=>{const n=Mn(e);let r;if(n.token?r=await Xv(t,!0):r=await Xv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Mn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},W1.RETRIAL_MIN_WAIT,W1.RETRIAL_MAX_WAIT)}function zk(t,e){const n=Mn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function wl(t){return t.expireTimeMillis-Date.now()>0}function z1(t){return{token:K3(Y3),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mn(this.app);for(const n of e)Kk(this.app,n.next);return Promise.resolve()}}function Q3(t,e){return new q3(t,e)}function X3(t){return{getToken:e=>Xv(t,e),getLimitedUseToken:()=>z3(t),addTokenListener:e=>Yk(t,"INTERNAL",e),removeTokenListener:e=>Kk(t.app,e)}}const J3="@firebase/app-check",Z3="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="https://www.google.com/recaptcha/api.js";function t4(t,e){const n=new Ea,r=Mn(t);r.reCAPTCHAState={initialized:n};const i=n4(t),s=Y1(!1);return s?G1(t,e,s,i,n):s4(()=>{const o=Y1(!1);if(!o)throw new Error("no recaptcha");G1(t,e,o,i,n)}),n.promise}function G1(t,e,n,r,i){n.ready(()=>{i4(t,e,n,r),i.resolve(n)})}function n4(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function r4(t){tw(t);const n=await Mn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Mn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function i4(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Mn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Mn(t).reCAPTCHAState.succeeded=!1}}),s=Mn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function s4(t){const e=document.createElement("script");e.src=e4,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;a4(this._throttleData);const i=await r4(this._app).catch(o=>{throw jr.create("recaptcha-error")});if(!(!((e=Mn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw jr.create("recaptcha-error");let s;try{s=await nw(M3(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=o4(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),jr.create("throttled",{time:Uk(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=us(e,"heartbeat"),t4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof sw?this._siteKey===e._siteKey:!1}}function o4(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+D3,httpStatus:t};{const n=e?e.backoffCount:0,r=Bv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function a4(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw jr.create("throttled",{time:Uk(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t=_u(),e){t=Vt(t);const n=us(t,"app-check");if(Jp().initialized||W3(),rw()&&iw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw jr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return u4(t,e.provider,e.isTokenAutoRefreshEnabled),Mn(t).isTokenAutoRefreshEnabled&&Yk(r,"INTERNAL",()=>{}),r}function u4(t,e,n){const r=A3(t,Object.assign({},Lk));r.activated=!0,r.provider=e,r.cachedTokenPromise=j3(t).then(i=>(i&&wl(i)&&(r.token=i,zk(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const c4="app-check",q1="app-check-internal";function d4(){zr(new Or(c4,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Q3(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(q1).initialize()})),zr(new Or(q1,t=>{const e=t.getProvider("app-check").getImmediate();return X3(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),rr(J3,Z3)}d4();const h4={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},f4=t=>{l4(t,{provider:new sw("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},p4=()=>{const t=uk(h4);return f4(t),_3(t),t},Gk=p4();var m4=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let qk;const Zp=t=>qk=t,Qk=Symbol();function Jv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Tc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Tc||(Tc={}));function g4(){const t=Ap(!0),e=t.run(()=>ue({}));let n=[],r=[];const i=Ed({install(s){Zp(i),i._a=s,s.provide(Qk,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!m4?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Xk=()=>{};function Q1(t,e,n,r=Xk){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&xp()&&b0(i),i}function Za(t,...e){t.slice().forEach(n=>{n(...e)})}const v4=t=>t();function Zv(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Jv(i)&&Jv(r)&&t.hasOwnProperty(n)&&!Gt(r)&&!Xi(r)?t[n]=Zv(i,r):t[n]=r}return t}const y4=Symbol();function w4(t){return!Jv(t)||!t.hasOwnProperty(y4)}const{assign:qs}=Object;function b4(t){return!!(Gt(t)&&t.effect)}function _4(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=mC(n.state.value[t]);return qs(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Ed(ie(()=>{Zp(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=Jk(t,u,e,n,r,!0),l}function Jk(t,e,n={},r,i,s){let o;const a=qs({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),ue({});let g;function y(x){let A;u=c=!1,typeof x=="function"?(x(r.state.value[t]),A={type:Tc.patchFunction,storeId:t,events:f}):(Zv(r.state.value[t],x),A={type:Tc.patchObject,payload:x,storeId:t,events:f});const S=g=Symbol();Rr().then(()=>{g===S&&(u=!0)}),c=!0,Za(d,A,r.state.value[t])}const _=s?function(){const{state:A}=n,S=A?A():{};this.$patch(N=>{qs(N,S)})}:Xk;function v(){o.stop(),d=[],h=[],r._s.delete(t)}function b(x,A){return function(){Zp(r);const S=Array.from(arguments),N=[],F=[];function C(R){N.push(R)}function H(R){F.push(R)}Za(h,{args:S,name:x,store:w,after:C,onError:H});let O;try{O=A.apply(this&&this.$id===t?this:w,S)}catch(R){throw Za(F,R),R}return O instanceof Promise?O.then(R=>(Za(N,R),R)).catch(R=>(Za(F,R),Promise.reject(R))):(Za(N,O),O)}}const m={_p:r,$id:t,$onAction:Q1.bind(null,h),$patch:y,$reset:_,$subscribe(x,A={}){const S=Q1(d,x,A.detached,()=>N()),N=o.run(()=>pn(()=>r.state.value[t],F=>{(A.flush==="sync"?c:u)&&x({storeId:t,type:Tc.direct,events:f},F)},qs({},l,A)));return S},$dispose:v},w=$n(m);r._s.set(t,w);const T=r._a&&r._a.runWithContext||v4,M=r._e.run(()=>(o=Ap(),T(()=>o.run(e))));for(const x in M){const A=M[x];if(Gt(A)&&!b4(A)||Xi(A))s||(p&&w4(A)&&(Gt(A)?A.value=p[x]:Zv(A,p[x])),r.state.value[t][x]=A);else if(typeof A=="function"){const S=b(x,A);M[x]=S,a.actions[x]=A}}return qs(w,M),qs(pt(w),M),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:x=>{y(A=>{qs(A,x)})}}),r._p.forEach(x=>{qs(w,o.run(()=>x({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),u=!0,c=!0,w}function Zk(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=WC();return a=a||(u?xr(Qk,null):null),a&&Zp(a),a=qk,a._s.has(r)||(s?Jk(r,e,i,a):_4(r,i,a)),a._s.get(r)}return o.$id=r,o}function Qt(t){{t=pt(t);const e={};for(const n in t){const r=t[n];(Gt(r)||Xi(r))&&(e[n]=Wl(t,n))}return e}}const X1=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var T4=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),X1(l,e))}),e.$subscribe(()=>{a.forEach(l=>{X1(l,e)})})}};const eA=g4();eA.use(T4);const Ir=class Ir{constructor(e,n,r={}){Ir.log(r.debug,n),r.route&&Jb.push({name:r.route}),aL({title:e,type:e.toLowerCase(),text:n},5e3)}};jo(Ir,"success",(e,n={})=>new Ir("Success",e,n)),jo(Ir,"warning",(e,n={})=>new Ir("Warning",e,n)),jo(Ir,"error",(e,n={})=>new Ir("Error",e,n)),jo(Ir,"generalError",(e,n)=>new Ir("Error",(n==null?void 0:n.message)||tA,{debug:e})),jo(Ir,"firebaseError",(e,n)=>(Ir.log(e,n),n instanceof ai?n.message=yg[n.code]:n instanceof Error&&Object.keys(yg).includes(n.name)?n.message=yg[n.name]:n=void 0,Ir.generalError(e,n))),jo(Ir,"log",(e,n)=>{e&&console.log(n)});let je=Ir;const tA="Something went wrong",yg={"":tA,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var E4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe,ow=ow||{},it=E4||self;function em(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function S4(t){return Object.prototype.hasOwnProperty.call(t,wg)&&t[wg]||(t[wg]=++C4)}var wg="closure_uid_"+(1e9*Math.random()>>>0),C4=0;function I4(t,e,n){return t.call.apply(t.bind,arguments)}function k4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function yr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yr=I4:yr=k4,yr.apply(null,arguments)}function Th(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function zn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Lo(){this.s=this.s,this.o=this.o}var A4=0;Lo.prototype.s=!1;Lo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),A4!=0)&&S4(this)};Lo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function aw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function J1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(em(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function wr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}wr.prototype.h=function(){this.defaultPrevented=!0};var x4=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{it.addEventListener("test",()=>{},e),it.removeEventListener("test",()=>{},e)}catch{}return t}();function ed(t){return/^[\s\xa0]*$/.test(t)}function tm(){var t=it.navigator;return t&&(t=t.userAgent)?t:""}function Hi(t){return tm().indexOf(t)!=-1}function lw(t){return lw[" "](t),t}lw[" "]=function(){};function P4(t,e){var n=T5;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var D4=Hi("Opera"),Jl=Hi("Trident")||Hi("MSIE"),rA=Hi("Edge"),ey=rA||Jl,iA=Hi("Gecko")&&!(tm().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),R4=tm().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge");function sA(){var t=it.document;return t?t.documentMode:void 0}var ty;e:{var bg="",_g=function(){var t=tm();if(iA)return/rv:([^\);]+)(\)|;)/.exec(t);if(rA)return/Edge\/([\d\.]+)/.exec(t);if(Jl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(R4)return/WebKit\/(\S+)/.exec(t);if(D4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(_g&&(bg=_g?_g[1]:""),Jl){var Tg=sA();if(Tg!=null&&Tg>parseFloat(bg)){ty=String(Tg);break e}}ty=bg}var ny;if(it.document&&Jl){var Z1=sA();ny=Z1||parseInt(ty,10)||void 0}else ny=void 0;var O4=ny;function td(t,e){if(wr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iA){e:{try{lw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:N4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&td.$.h.call(this)}}zn(td,wr);var N4={2:"touch",3:"pen",4:"mouse"};td.prototype.h=function(){td.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pd="closure_listenable_"+(1e6*Math.random()|0),M4=0;function L4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++M4,this.fa=this.ia=!1}function nm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function uw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function oA(t){const e={};for(const n in t)e[n]=t[n];return e}const eT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<eT.length;s++)n=eT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rm(t){this.src=t,this.g={},this.h=0}rm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=iy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new L4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ry(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=nA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(nm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function iy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var cw="closure_lm_"+(1e6*Math.random()|0),Eg={};function lA(t,e,n,r,i){if(r&&r.once)return cA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lA(t,e[s],n,r,i);return null}return n=fw(n),t&&t[Pd]?t.O(e,n,xd(r)?!!r.capture:!!r,i):uA(t,e,n,!1,r,i)}function uA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xd(i)?!!i.capture:!!i,a=hw(t);if(a||(t[cw]=a=new rm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=U4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)x4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function U4(){function t(n){return e.call(t.src,t.listener,n)}const e=F4;return t}function cA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cA(t,e[s],n,r,i);return null}return n=fw(n),t&&t[Pd]?t.P(e,n,xd(r)?!!r.capture:!!r,i):uA(t,e,n,!0,r,i)}function dA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dA(t,e[s],n,r,i);else r=xd(r)?!!r.capture:!!r,n=fw(n),t&&t[Pd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=iy(s,n,r,i),-1<n&&(nm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=hw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=iy(e,n,r,i)),(n=-1<t?e[t]:null)&&dw(n))}function dw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pd])ry(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hw(e))?(ry(n,t),n.h==0&&(n.src=null,e[cw]=null)):nm(t)}}}function hA(t){return t in Eg?Eg[t]:Eg[t]="on"+t}function F4(t,e){if(t.fa)t=!0;else{e=new td(e,this);var n=t.listener,r=t.la||t.src;t.ia&&dw(t),t=n.call(r,e)}return t}function hw(t){return t=t[cw],t instanceof rm?t:null}var Sg="__closure_events_fn_"+(1e9*Math.random()>>>0);function fw(t){return typeof t=="function"?t:(t[Sg]||(t[Sg]=function(e){return t.handleEvent(e)}),t[Sg])}function Kn(){Lo.call(this),this.i=new rm(this),this.S=this,this.J=null}zn(Kn,Lo);Kn.prototype[Pd]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){dA(this,t,e,n,r)};function ir(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new wr(e,t);else if(e instanceof wr)e.target=e.target||t;else{var i=e;e=new wr(r,t),aA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Eh(o,r,!0,e)&&i}if(o=e.g=t,i=Eh(o,r,!0,e)&&i,i=Eh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Eh(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nm(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Eh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ry(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var pw=it.JSON.stringify;class V4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function B4(){var t=mw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class j4{constructor(){this.h=this.g=null}add(e,n){const r=fA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var fA=new V4(()=>new H4,t=>t.reset());class H4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function W4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Y4(t){it.setTimeout(()=>{throw t},0)}let nd,rd=!1,mw=new j4,pA=()=>{const t=it.Promise.resolve(void 0);nd=()=>{t.then(K4)}};var K4=()=>{for(var t;t=B4();){try{t.h.call(t.g)}catch(n){Y4(n)}var e=fA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}rd=!1};function im(t,e){Kn.call(this),this.h=t||1,this.g=e||it,this.j=yr(this.qb,this),this.l=Date.now()}zn(im,Kn);Pe=im.prototype;Pe.ga=!1;Pe.T=null;Pe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ir(this,"tick"),this.ga&&(gw(this),this.start()))}};Pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Pe.N=function(){im.$.N.call(this),gw(this),delete this.g};function vw(t,e,n){if(typeof t=="function")n&&(t=yr(t,n));else if(t&&typeof t.handleEvent=="function")t=yr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:it.setTimeout(t,e||0)}function mA(t){t.g=vw(()=>{t.g=null,t.i&&(t.i=!1,mA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class z4 extends Lo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mA(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function id(t){Lo.call(this),this.h=t,this.g={}}zn(id,Lo);var tT=[];function gA(t,e,n,r){Array.isArray(n)||(n&&(tT[0]=n.toString()),n=tT);for(var i=0;i<n.length;i++){var s=lA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function vA(t){uw(t.g,function(e,n){this.g.hasOwnProperty(n)&&dw(e)},t),t.g={}}id.prototype.N=function(){id.$.N.call(this),vA(this)};id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sm(){this.g=!0}sm.prototype.Ea=function(){this.g=!1};function G4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function q4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function bl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+X4(t,n)+(r?" "+r:"")})}function Q4(t,e){t.info(function(){return"TIMEOUT: "+e})}sm.prototype.info=function(){};function X4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return pw(n)}catch{return e}}var ja={},nT=null;function om(){return nT=nT||new Kn}ja.Ta="serverreachability";function yA(t){wr.call(this,ja.Ta,t)}zn(yA,wr);function sd(t){const e=om();ir(e,new yA(e))}ja.STAT_EVENT="statevent";function wA(t,e){wr.call(this,ja.STAT_EVENT,t),this.stat=e}zn(wA,wr);function Ar(t){const e=om();ir(e,new wA(e,t))}ja.Ua="timingevent";function bA(t,e){wr.call(this,ja.Ua,t),this.size=e}zn(bA,wr);function Dd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){t()},e)}var am={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_A={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yw(){}yw.prototype.h=null;function rT(t){return t.h||(t.h=t.i())}function TA(){}var Rd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ww(){wr.call(this,"d")}zn(ww,wr);function bw(){wr.call(this,"c")}zn(bw,wr);var sy;function lm(){}zn(lm,yw);lm.prototype.g=function(){return new XMLHttpRequest};lm.prototype.i=function(){return{}};sy=new lm;function Od(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new id(this),this.P=J4,t=ey?125:void 0,this.V=new im(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EA}function EA(){this.i=null,this.g="",this.h=!1}var J4=45e3,oy={},Lf={};Pe=Od.prototype;Pe.setTimeout=function(t){this.P=t};function ay(t,e,n){t.L=1,t.v=cm(Ps(e)),t.s=n,t.S=!0,SA(t,null)}function SA(t,e){t.G=Date.now(),Nd(t),t.A=Ps(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),RA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new EA,t.g=ZA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new z4(yr(t.Pa,t,t.g),t.O)),gA(t.U,t.g,"readystatechange",t.nb),e=t.I?oA(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),sd(),G4(t.j,t.u,t.A,t.m,t.W,t.s)}Pe.nb=function(t){t=t.target;const e=this.M;e&&Ki(t)==3?e.l():this.Pa(t)};Pe.Pa=function(t){try{if(t==this.g)e:{const c=Ki(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||ey||this.g&&(this.h.h||this.g.ja()||aT(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?sd(3):sd(2)),um(this);var n=this.g.da();this.ca=n;t:if(CA(this)){var r=aT(this.g);t="";var i=r.length,s=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),Ec(this);var o="";break t}this.h.i=new it.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,q4(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ed(a)){var u=a;break t}}u=null}if(n=u)bl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ly(this,n);else{this.i=!1,this.o=3,Ar(12),sa(this),Ec(this);break e}}this.S?(IA(this,c,o),ey&&this.i&&c==3&&(gA(this.U,this.V,"tick",this.mb),this.V.start())):(bl(this.j,this.m,o,null),ly(this,o)),c==4&&sa(this),this.i&&!this.J&&(c==4?qA(this.l,this):(this.i=!1,Nd(this)))}else w5(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),sa(this),Ec(this)}}}catch{}finally{}};function CA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function IA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Z4(t,n),i==Lf){e==4&&(t.o=4,Ar(14),r=!1),bl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==oy){t.o=4,Ar(15),bl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else bl(t.j,t.m,i,null),ly(t,i);CA(t)&&i!=Lf&&i!=oy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ar(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iw(e),e.M=!0,Ar(11))):(bl(t.j,t.m,n,"[Invalid Chunked Response]"),sa(t),Ec(t))}Pe.mb=function(){if(this.g){var t=Ki(this.g),e=this.g.ja();this.C<e.length&&(um(this),IA(this,t,e),this.i&&t!=4&&Nd(this))}};function Z4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Lf:(n=Number(e.substring(n,r)),isNaN(n)?oy:(r+=1,r+n>e.length?Lf:(e=e.slice(r,r+n),t.C=r+n,e)))}Pe.cancel=function(){this.J=!0,sa(this)};function Nd(t){t.Y=Date.now()+t.P,kA(t,t.P)}function kA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Dd(yr(t.lb,t),e)}function um(t){t.B&&(it.clearTimeout(t.B),t.B=null)}Pe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Q4(this.j,this.A),this.L!=2&&(sd(),Ar(17)),sa(this),this.o=2,Ec(this)):kA(this,this.Y-t)};function Ec(t){t.l.H==0||t.J||qA(t.l,t)}function sa(t){um(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gw(t.V),vA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ly(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||uy(n.i,t))){if(!t.K&&uy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ff(n),fm(n);else break e;Cw(n),Ar(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Dd(yr(n.ib,n),6e3));if(1>=MA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oa(n,11)}else if((t.K||n.g==t)&&Ff(n),!ed(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(_w(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,tn(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=JA(r,r.J?r.pa:null,r.Y),o.K){LA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(um(a),Nd(a)),r.g=o}else zA(r);0<n.j.length&&pm(n)}else u[0]!="stop"&&u[0]!="close"||oa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?oa(n,7):Sw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}sd(4)}catch{}}function e5(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(em(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function t5(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(em(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function AA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(em(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=t5(t),r=e5(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var xA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function n5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ha(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ha){this.h=t.h,$f(this,t.j),this.s=t.s,this.g=t.g,Uf(this,t.m),this.l=t.l;var e=t.i,n=new od;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iT(this,n),this.o=t.o}else t&&(e=String(t).match(xA))?(this.h=!1,$f(this,e[1]||"",!0),this.s=nc(e[2]||""),this.g=nc(e[3]||"",!0),Uf(this,e[4]),this.l=nc(e[5]||"",!0),iT(this,e[6]||"",!0),this.o=nc(e[7]||"")):(this.h=!1,this.i=new od(null,this.h))}ha.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rc(e,sT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(rc(e,sT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(rc(n,n.charAt(0)=="/"?s5:i5,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rc(n,a5)),t.join("")};function Ps(t){return new ha(t)}function $f(t,e,n){t.j=n?nc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Uf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iT(t,e,n){e instanceof od?(t.i=e,l5(t.i,t.h)):(n||(e=rc(e,o5)),t.i=new od(e,t.h))}function tn(t,e,n){t.i.set(e,n)}function cm(t){return tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,r5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function r5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sT=/[#\/\?@]/g,i5=/[#\?:]/g,s5=/[#\?]/g,o5=/[#\?@]/g,a5=/#/g;function od(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $o(t){t.g||(t.g=new Map,t.h=0,t.i&&n5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Pe=od.prototype;Pe.add=function(t,e){$o(this),this.i=null,t=Tu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function PA(t,e){$o(t),e=Tu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function DA(t,e){return $o(t),e=Tu(t,e),t.g.has(e)}Pe.forEach=function(t,e){$o(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Pe.ta=function(){$o(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Pe.Z=function(t){$o(this);let e=[];if(typeof t=="string")DA(this,t)&&(e=e.concat(this.g.get(Tu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Pe.set=function(t,e){return $o(this),this.i=null,t=Tu(this,t),DA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Pe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function RA(t,e,n){PA(t,e),0<n.length&&(t.i=null,t.g.set(Tu(t,e),aw(n)),t.h+=n.length)}Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Tu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function l5(t,e){e&&!t.j&&($o(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(PA(this,r),RA(this,i,n))},t)),t.j=e}var u5=class{constructor(t,e){this.g=t,this.map=e}};function OA(t){this.l=t||c5,it.PerformanceNavigationTiming?(t=it.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var c5=10;function NA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function MA(t){return t.h?1:t.g?t.g.size:0}function uy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function _w(t,e){t.g?t.g.add(e):t.h=e}function LA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}OA.prototype.cancel=function(){if(this.i=$A(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function $A(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return aw(t.i)}var d5=class{stringify(t){return it.JSON.stringify(t,void 0)}parse(t){return it.JSON.parse(t,void 0)}};function h5(){this.g=new d5}function f5(t,e,n){const r=n||"";try{AA(t,function(i,s){let o=i;xd(i)&&(o=pw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function p5(t,e){const n=new sm;if(it.Image){const r=new Image;r.onload=Th(Sh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Th(Sh,n,r,"TestLoadImage: error",!1,e),r.onabort=Th(Sh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Th(Sh,n,r,"TestLoadImage: timeout",!1,e),it.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Sh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Md(t){this.l=t.fc||null,this.j=t.ob||!1}zn(Md,yw);Md.prototype.g=function(){return new dm(this.l,this.j)};Md.prototype.i=function(t){return function(){return t}}({});function dm(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Tw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zn(dm,Kn);var Tw=0;Pe=dm.prototype;Pe.open=function(t,e){if(this.readyState!=Tw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ad(this)};Pe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||it).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ld(this)),this.readyState=Tw};Pe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ad(this)),this.g&&(this.readyState=3,ad(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof it.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function UA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Pe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ld(this):ad(this),this.readyState==3&&UA(this)}};Pe.Za=function(t){this.g&&(this.response=this.responseText=t,Ld(this))};Pe.Ya=function(t){this.g&&(this.response=t,Ld(this))};Pe.ka=function(){this.g&&Ld(this)};function Ld(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ad(t)}Pe.setRequestHeader=function(t,e){this.v.append(t,e)};Pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ad(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(dm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var m5=it.JSON.parse;function wn(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FA,this.L=this.M=!1}zn(wn,Kn);var FA="",g5=/^https?$/i,v5=["POST","PUT"];Pe=wn.prototype;Pe.Oa=function(t){this.M=t};Pe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sy.g(),this.C=this.u?rT(this.u):rT(sy),this.g.onreadystatechange=yr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){oT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=it.FormData&&t instanceof it.FormData,!(0<=nA(v5,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jA(this),0<this.B&&((this.L=y5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.ua,this)):this.A=vw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){oT(this,s)}};function y5(t){return Jl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Pe.ua=function(){typeof ow<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))};function oT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,VA(t),hm(t)}function VA(t){t.F||(t.F=!0,ir(t,"complete"),ir(t,"error"))}Pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ir(this,"complete"),ir(this,"abort"),hm(this))};Pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hm(this,!0)),wn.$.N.call(this)};Pe.La=function(){this.s||(this.G||this.v||this.l?BA(this):this.kb())};Pe.kb=function(){BA(this)};function BA(t){if(t.h&&typeof ow<"u"&&(!t.C[1]||Ki(t)!=4||t.da()!=2)){if(t.v&&Ki(t)==4)vw(t.La,0,t);else if(ir(t,"readystatechange"),Ki(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(xA)[1]||null;!i&&it.self&&it.self.location&&(i=it.self.location.protocol.slice(0,-1)),r=!g5.test(i?i.toLowerCase():"")}n=r}if(n)ir(t,"complete"),ir(t,"success");else{t.m=6;try{var s=2<Ki(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",VA(t)}}finally{hm(t)}}}}function hm(t,e){if(t.g){jA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ir(t,"ready");try{n.onreadystatechange=r}catch{}}}function jA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(it.clearTimeout(t.A),t.A=null)}Pe.isActive=function(){return!!this.g};function Ki(t){return t.g?t.g.readyState:0}Pe.da=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}};Pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Pe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),m5(e)}};function aT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case FA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function w5(t){const e={};t=(t.g&&2<=Ki(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ed(t[r]))continue;var n=W4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}$4(e,function(r){return r.join(", ")})}Pe.Ia=function(){return this.m};Pe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function HA(t){let e="";return uw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ew(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tn(t,e,n))}function $u(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function WA(t){this.Ga=0,this.j=[],this.l=new sm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$u("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$u("baseRetryDelayMs",5e3,t),this.hb=$u("retryDelaySeedMs",1e4,t),this.eb=$u("forwardChannelMaxRetries",2,t),this.xa=$u("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OA(t&&t.concurrentRequestLimit),this.Ja=new h5,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Pe=WA.prototype;Pe.ra=8;Pe.H=1;function Sw(t){if(YA(t),t.H==3){var e=t.W++,n=Ps(t.I);if(tn(n,"SID",t.K),tn(n,"RID",e),tn(n,"TYPE","terminate"),$d(t,n),e=new Od(t,t.l,e),e.L=2,e.v=cm(Ps(n)),n=!1,it.navigator&&it.navigator.sendBeacon)try{n=it.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&it.Image&&(new Image().src=e.v,n=!0),n||(e.g=ZA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Nd(e)}XA(t)}function fm(t){t.g&&(Iw(t),t.g.cancel(),t.g=null)}function YA(t){fm(t),t.u&&(it.clearTimeout(t.u),t.u=null),Ff(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&it.clearTimeout(t.m),t.m=null)}function pm(t){if(!NA(t.i)&&!t.m){t.m=!0;var e=t.Na;nd||pA(),rd||(nd(),rd=!0),mw.add(e,t),t.C=0}}function b5(t,e){return MA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Dd(yr(t.Na,t,e),QA(t,t.C)),t.C++,!0)}Pe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Od(this,this.l,t);let s=this.s;if(this.U&&(s?(s=oA(s),aA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KA(this,i,e),n=Ps(this.I),tn(n,"RID",t),tn(n,"CVER",22),this.F&&tn(n,"X-HTTP-Session-Id",this.F),$d(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(HA(s)))+"&"+e:this.o&&Ew(n,this.o,s)),_w(this.i,i),this.bb&&tn(n,"TYPE","init"),this.P?(tn(n,"$req",e),tn(n,"SID","null"),i.aa=!0,ay(i,n,null)):ay(i,n,e),this.H=2}}else this.H==3&&(t?lT(this,t):this.j.length==0||NA(this.i)||lT(this))};function lT(t,e){var n;e?n=e.m:n=t.W++;const r=Ps(t.I);tn(r,"SID",t.K),tn(r,"RID",n),tn(r,"AID",t.V),$d(t,r),t.o&&t.s&&Ew(r,t.o,t.s),n=new Od(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_w(t.i,n),ay(n,r,e)}function $d(t,e){t.na&&uw(t.na,function(n,r){tn(e,r,n)}),t.h&&AA({},function(n,r){tn(e,r,n)})}function KA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?yr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{f5(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function zA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;nd||pA(),rd||(nd(),rd=!0),mw.add(e,t),t.A=0}}function Cw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Dd(yr(t.Ma,t),QA(t,t.A)),t.A++,!0)}Pe.Ma=function(){if(this.u=null,GA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Dd(yr(this.jb,this),t)}};Pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ar(10),fm(this),GA(this))};function Iw(t){t.B!=null&&(it.clearTimeout(t.B),t.B=null)}function GA(t){t.g=new Od(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ps(t.wa);tn(e,"RID","rpc"),tn(e,"SID",t.K),tn(e,"AID",t.V),tn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tn(e,"TO",t.qa),tn(e,"TYPE","xmlhttp"),$d(t,e),t.o&&t.s&&Ew(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=cm(Ps(e)),n.s=null,n.S=!0,SA(n,t)}Pe.ib=function(){this.v!=null&&(this.v=null,fm(this),Cw(this),Ar(19))};function Ff(t){t.v!=null&&(it.clearTimeout(t.v),t.v=null)}function qA(t,e){var n=null;if(t.g==e){Ff(t),Iw(t),t.g=null;var r=2}else if(uy(t.i,e))n=e.F,LA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=om(),ir(r,new bA(r,n)),pm(t)}else zA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&b5(t,e)||r==2&&Cw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:oa(t,5);break;case 4:oa(t,10);break;case 3:oa(t,6);break;default:oa(t,2)}}}function QA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=yr(t.pb,t);n||(n=new ha("//www.google.com/images/cleardot.gif"),it.location&&it.location.protocol=="http"||$f(n,"https"),cm(n)),p5(n.toString(),r)}else Ar(2);t.H=0,t.h&&t.h.za(e),XA(t),YA(t)}Pe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ar(2)):(this.l.info("Failed to ping google.com"),Ar(1))};function XA(t){if(t.H=0,t.ma=[],t.h){const e=$A(t.i);(e.length!=0||t.j.length!=0)&&(J1(t.ma,e),J1(t.ma,t.j),t.i.i.length=0,aw(t.j),t.j.length=0),t.h.ya()}}function JA(t,e,n){var r=n instanceof ha?Ps(n):new ha(n);if(r.g!="")e&&(r.g=e+"."+r.g),Uf(r,r.m);else{var i=it.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ha(null);r&&$f(s,r),e&&(s.g=e),i&&Uf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&tn(r,n,e),tn(r,"VER",t.ra),$d(t,r),r}function ZA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new wn(new Md({ob:!0})):new wn(t.va),e.Oa(t.J),e}Pe.isActive=function(){return!!this.h&&this.h.isActive(this)};function ex(){}Pe=ex.prototype;Pe.Ba=function(){};Pe.Aa=function(){};Pe.za=function(){};Pe.ya=function(){};Pe.isActive=function(){return!0};Pe.Va=function(){};function Vf(){if(Jl&&!(10<=Number(O4)))throw Error("Environmental error: no available transport.")}Vf.prototype.g=function(t,e){return new si(t,e)};function si(t,e){Kn.call(this),this.g=new WA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ed(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ed(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Eu(this)}zn(si,Kn);si.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ar(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=JA(t,null,t.Y),pm(t)};si.prototype.close=function(){Sw(this.g)};si.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=pw(t),t=n);e.j.push(new u5(e.fb++,t)),e.H==3&&pm(e)};si.prototype.N=function(){this.g.h=null,delete this.j,Sw(this.g),delete this.g,si.$.N.call(this)};function tx(t){ww.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}zn(tx,ww);function nx(){bw.call(this),this.status=1}zn(nx,bw);function Eu(t){this.g=t}zn(Eu,ex);Eu.prototype.Ba=function(){ir(this.g,"a")};Eu.prototype.Aa=function(t){ir(this.g,new tx(t))};Eu.prototype.za=function(t){ir(this.g,new nx)};Eu.prototype.ya=function(){ir(this.g,"b")};function _5(){this.blockSize=-1}function Li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}zn(Li,_5);Li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Cg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Li.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Cg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Cg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Cg(this,r),i=0;break}}this.h=i,this.i+=e};Li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Wt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var T5={};function kw(t){return-128<=t&&128>t?P4(t,function(e){return new Wt([e|0],0>e?-1:0)}):new Wt([t|0],0>t?-1:0)}function zi(t){if(isNaN(t)||!isFinite(t))return Ol;if(0>t)return Jn(zi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cy;return new Wt(e,0)}function rx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Jn(rx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zi(Math.pow(e,8)),r=Ol,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=zi(Math.pow(e,s)),r=r.R(s).add(zi(o))):(r=r.R(n),r=r.add(zi(o)))}return r}var cy=4294967296,Ol=kw(0),dy=kw(1),uT=kw(16777216);Pe=Wt.prototype;Pe.ea=function(){if(hi(this))return-Jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cy+r)*e,e*=cy}return t};Pe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ys(this))return"0";if(hi(this))return"-"+Jn(this).toString(t);for(var e=zi(Math.pow(t,6)),n=this,r="";;){var i=jf(n,e).g;n=Bf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ys(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Pe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ys(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hi(t){return t.h==-1}Pe.X=function(t){return t=Bf(this,t),hi(t)?-1:ys(t)?0:1};function Jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Wt(n,~t.h).add(dy)}Pe.abs=function(){return hi(this)?Jn(this):this};Pe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Wt(n,n[n.length-1]&-2147483648?-1:0)};function Bf(t,e){return t.add(Jn(e))}Pe.R=function(t){if(ys(this)||ys(t))return Ol;if(hi(this))return hi(t)?Jn(this).R(Jn(t)):Jn(Jn(this).R(t));if(hi(t))return Jn(this.R(Jn(t)));if(0>this.X(uT)&&0>t.X(uT))return zi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Ch(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ch(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ch(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ch(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Wt(n,0)};function Ch(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Uu(t,e){this.g=t,this.h=e}function jf(t,e){if(ys(e))throw Error("division by zero");if(ys(t))return new Uu(Ol,Ol);if(hi(t))return e=jf(Jn(t),e),new Uu(Jn(e.g),Jn(e.h));if(hi(e))return e=jf(t,Jn(e)),new Uu(Jn(e.g),e.h);if(30<t.g.length){if(hi(t)||hi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=dy,r=e;0>=r.X(t);)n=cT(n),r=cT(r);var i=el(n,1),s=el(r,1);for(r=el(r,2),n=el(n,2);!ys(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=el(r,1),n=el(n,1)}return e=Bf(t,i.R(e)),new Uu(i,e)}for(i=Ol;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=zi(n),o=s.R(e);hi(o)||0<o.X(t);)n-=r,s=zi(n),o=s.R(e);ys(s)&&(s=dy),i=i.add(s),t=Bf(t,o)}return new Uu(i,t)}Pe.gb=function(t){return jf(this,t).h};Pe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Wt(n,this.h&t.h)};Pe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Wt(n,this.h|t.h)};Pe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Wt(n,this.h^t.h)};function cT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Wt(n,t.h)}function el(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Wt(i,t.h)}Vf.prototype.createWebChannel=Vf.prototype.g;si.prototype.send=si.prototype.u;si.prototype.open=si.prototype.m;si.prototype.close=si.prototype.close;am.NO_ERROR=0;am.TIMEOUT=8;am.HTTP_ERROR=6;_A.COMPLETE="complete";TA.EventType=Rd;Rd.OPEN="a";Rd.CLOSE="b";Rd.ERROR="c";Rd.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;wn.prototype.listenOnce=wn.prototype.P;wn.prototype.getLastError=wn.prototype.Sa;wn.prototype.getLastErrorCode=wn.prototype.Ia;wn.prototype.getStatus=wn.prototype.da;wn.prototype.getResponseJson=wn.prototype.Wa;wn.prototype.getResponseText=wn.prototype.ja;wn.prototype.send=wn.prototype.ha;wn.prototype.setWithCredentials=wn.prototype.Oa;Li.prototype.digest=Li.prototype.l;Li.prototype.reset=Li.prototype.reset;Li.prototype.update=Li.prototype.j;Wt.prototype.add=Wt.prototype.add;Wt.prototype.multiply=Wt.prototype.R;Wt.prototype.modulo=Wt.prototype.gb;Wt.prototype.compare=Wt.prototype.X;Wt.prototype.toNumber=Wt.prototype.ea;Wt.prototype.toString=Wt.prototype.toString;Wt.prototype.getBits=Wt.prototype.D;Wt.fromNumber=zi;Wt.fromString=rx;var E5=function(){return new Vf},S5=function(){return om()},Ig=am,C5=_A,I5=ja,dT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},k5=Md,Ih=TA,A5=wn,x5=Li,Nl=Wt;const hT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new bu("@firebase/firestore");function fT(){return ka.logLevel}function We(t,...e){if(ka.logLevel<=xt.DEBUG){const n=e.map(Aw);ka.debug(`Firestore (${Su}): ${t}`,...n)}}function Ds(t,...e){if(ka.logLevel<=xt.ERROR){const n=e.map(Aw);ka.error(`Firestore (${Su}): ${t}`,...n)}}function Zl(t,...e){if(ka.logLevel<=xt.WARN){const n=e.map(Aw);ka.warn(`Firestore (${Su}): ${t}`,...n)}}function Aw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+t;throw Ds(e),new Error(e)}function rn(t,e){t||rt()}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lr.UNAUTHENTICATED))}shutdown(){}}class D5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R5{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Is,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rn(typeof r.accessToken=="string"),new ix(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rn(e===null||typeof e=="string"),new lr(e)}}class O5{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class N5{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new O5(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rn(typeof n.token=="string"),this.T=n.token,new M5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function eu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class ef{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ef.fromMillis(Date.now())}static fromDate(e){return ef.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ef(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Dn(0,0))}static max(){return new ot(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ox=class hy{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hy.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Tn=class tf extends ox{construct(e,n,r){return new tf(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tf(n)}static emptyPath(){return new tf([])}};const U5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let ss=class hl extends ox{construct(e,n,r){return new hl(e,n,r)}static isValidIdentifier(e){return U5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hl(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ne(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ne(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hl(n)}static emptyPath(){return new hl([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Tn.fromString(e))}static fromName(e){return new qe(Tn.fromString(e).popFirst(5))}static empty(){return new qe(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Tn(e.slice()))}}function F5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(r===1e9?new Dn(n+1,0):new Dn(n,r));return new Ao(i,qe.empty(),e)}function V5(t){return new Ao(t.readTime,t.key,-1)}class Ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ao(ot.min(),qe.empty(),-1)}static max(){return new Ao(ot.max(),qe.empty(),-1)}}function B5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let H5=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==j5)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ie=class $r{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $r((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $r?n:$r.resolve(n)}catch(n){return $r.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$r.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$r.reject(n)}static resolve(e){return new $r((n,r)=>{n(e)})}static reject(e){return new $r((n,r)=>{r(e)})}static waitFor(e){return new $r((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$r.resolve(!1);for(const r of e)n=n.next(i=>i?$r.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $r((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $r((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xw=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};xw.ct=-1;function mm(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function W5(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ax(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class fy{constructor(e,n){this.comparator=e,this.root=n||go.EMPTY}insert(e,n){return new fy(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,go.BLACK,null,null))}remove(e){return new fy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,go.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}},kh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},go=class fs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fs.RED,this.left=i??fs.EMPTY,this.right=s??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new fs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};go.EMPTY=null,go.RED=!0,go.BLACK=!1;go.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new go(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(e){return new mT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new br(this.comparator);return n.data=e,n}}let mT=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(ss.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new br(ss.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi=class py{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lx("Invalid base64 string: "+i):i}}(e);return new py(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new py(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};oi.EMPTY_BYTE_STRING=new oi("");const Y5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(t){if(rn(!!t),typeof t=="string"){let e=0;const n=Y5.exec(t);if(rn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Aa(t){return typeof t=="string"?oi.fromBase64String(t):oi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dw(t){const e=t.mapValue.fields.__previous_value__;return Pw(e)?Dw(e):e}function ld(t){const e=xo(t.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ud{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ud("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ud&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pw(t)?4:z5(t)?9007199254740991:10:rt()}function os(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xo(r.timestampValue),o=xo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Aa(r.bytesValue).isEqual(Aa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return xn(r.geoPointValue.latitude)===xn(i.geoPointValue.latitude)&&xn(r.geoPointValue.longitude)===xn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xn(r.integerValue)===xn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=xn(r.doubleValue),o=xn(i.doubleValue);return s===o?Hf(s)===Hf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return eu(t.arrayValue.values||[],e.arrayValue.values||[],os);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pT(s)!==pT(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!os(s[a],o[a])))return!1;return!0}(t,e);default:return rt()}}function cd(t,e){return(t.values||[]).find(n=>os(n,e))!==void 0}function tu(t,e){if(t===e)return 0;const n=xa(t),r=xa(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=xn(i.integerValue||i.doubleValue),a=xn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return gT(t.timestampValue,e.timestampValue);case 4:return gT(ld(t),ld(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Aa(i),a=Aa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Mt(o[l],a[l]);if(u!==0)return u}return Mt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Mt(xn(i.latitude),xn(s.latitude));return o!==0?o:Mt(xn(i.longitude),xn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=tu(o[l],a[l]);if(u)return u}return Mt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ah.mapValue&&s===Ah.mapValue)return 0;if(i===Ah.mapValue)return 1;if(s===Ah.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Mt(a[c],u[c]);if(d!==0)return d;const h=tu(o[a[c]],l[u[c]]);if(h!==0)return h}return Mt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw rt()}}function gT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=xo(t),r=xo(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function nu(t){return my(t)}function my(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=xo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Aa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,qe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=my(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${my(r.fields[a])}`;return s+"}"}(t.mapValue):rt();var e,n}function vT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gy(t){return!!t&&"integerValue"in t}function Rw(t){return!!t&&"arrayValue"in t}function yT(t){return!!t&&"nullValue"in t}function wT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=ss.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ha(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vr(Sc(this.value))}}function ux(t){const e=[];return Ha(t.fields,(n,r)=>{const i=new ss([n]);if(nf(r)){const s=ux(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ur(e,0,ot.min(),ot.min(),ot.min(),Vr.empty(),0)}static newFoundDocument(e,n,r,i){return new ur(e,1,n,ot.min(),r,i,0)}static newNoDocument(e,n){return new ur(e,2,n,ot.min(),ot.min(),Vr.empty(),0)}static newUnknownDocument(e,n){return new ur(e,3,n,ot.min(),ot.min(),Vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf=class{constructor(e,n){this.position=e,this.inclusive=n}};function bT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=qe.comparator(qe.fromName(o.referenceValue),n.key):r=tu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n="asc"){this.field=e,this.dir=n}}function G5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cx=class{},Hn=class dx extends cx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q5(e,n,r):n==="array-contains"?new Z5(e,r):n==="in"?new e6(e,r):n==="not-in"?new t6(e,r):n==="array-contains-any"?new n6(e,r):new dx(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X5(e,r):new J5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tu(n,this.value)):n!==null&&xa(this.value)===xa(n)&&this.matchesComparison(tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},Rs=class hx extends cx{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new hx(e,n)}matches(e){return fx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function fx(t){return t.op==="and"}function px(t){return q5(t)&&fx(t)}function q5(t){for(const e of t.filters)if(e instanceof Rs)return!1;return!0}function vy(t){if(t instanceof Hn)return t.field.canonicalString()+t.op.toString()+nu(t.value);if(px(t))return t.filters.map(e=>vy(e)).join(",");{const e=t.filters.map(n=>vy(n)).join(",");return`${t.op}(${e})`}}function mx(t,e){return t instanceof Hn?function(n,r){return r instanceof Hn&&n.op===r.op&&n.field.isEqual(r.field)&&os(n.value,r.value)}(t,e):t instanceof Rs?function(n,r){return r instanceof Rs&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&mx(s,r.filters[o]),!0):!1}(t,e):void rt()}function gx(t){return t instanceof Hn?function(e){return`${e.field.canonicalString()} ${e.op} ${nu(e.value)}`}(t):t instanceof Rs?function(e){return e.op.toString()+" {"+e.getFilters().map(gx).join(" ,")+"}"}(t):"Filter"}let Q5=class extends Hn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}},X5=class extends Hn{constructor(e,n){super(e,"in",n),this.keys=vx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},J5=class extends Hn{constructor(e,n){super(e,"not-in",n),this.keys=vx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function vx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}let Z5=class extends Hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rw(n)&&cd(n.arrayValue,this.value)}},e6=class extends Hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cd(this.value.arrayValue,n)}};class t6 extends Hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cd(this.value.arrayValue,n)}}class n6 extends Hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r6=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function TT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new r6(t,e,n,r,i,s,o)}function Ow(t){const e=ct(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),e.dt=n}return e.dt}function Nw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_T(t.startAt,e.startAt)&&_T(t.endAt,e.endAt)}function yy(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function i6(t,e,n,r,i,s,o,a){return new Cu(t,e,n,r,i,s,o,a)}function Mw(t){return new Cu(t)}function ET(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function yx(t){return t.collectionGroup!==null}function Ll(t){const e=ct(t);if(e.wt===null){e.wt=[];const n=gm(e),r=Lw(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ml(n)),e.wt.push(new Ml(ss.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ml(ss.keyField(),s))}}}return e.wt}function Os(t){const e=ct(t);if(!e._t)if(e.limitType==="F")e._t=TT(e.path,e.collectionGroup,Ll(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ll(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ml(s.field,o))}const r=e.endAt?new Wf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Wf(e.startAt.position,e.startAt.inclusive):null;e._t=TT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function wy(t,e){e.getFirstInequalityField(),gm(t);const n=t.filters.concat([e]);return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yf(t,e,n){return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vm(t,e){return Nw(Os(t),Os(e))&&t.limitType===e.limitType}function wx(t){return`${Ow(Os(t))}|lt:${t.limitType}`}function by(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>gx(r)).join(", ")}]`),mm(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),`Target(${n})`}(Os(t))}; limitType=${t.limitType})`}function ym(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):qe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ll(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=bT(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ll(n),r)||n.endAt&&!function(i,s,o){const a=bT(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ll(n),r))}(t,e)}function s6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bx(t){return(e,n)=>{let r=!1;for(const i of Ll(t)){const s=o6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o6(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?tu(a,l):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ax(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new Rn(qe.comparator);function Ns(){return a6}const _x=new Rn(qe.comparator);function ic(...t){let e=_x;for(const n of t)e=e.insert(n.key,n);return e}function Tx(t){let e=_x;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function aa(){return Cc()}function Ex(){return Cc()}function Cc(){return new Iu(t=>t.toString(),(t,e)=>t.isEqual(e))}const l6=new Rn(qe.comparator),u6=new br(qe.comparator);function gt(...t){let e=u6;for(const n of t)e=e.add(n);return e}const c6=new br(Mt);function d6(){return c6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function Cx(t){return{integerValue:""+t}}function h6(t,e){return W5(e)?Cx(e):Sx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this._=void 0}}function f6(t,e,n){return t instanceof Kf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Pw(i)&&(i=Dw(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof dd?kx(t,e):t instanceof hd?Ax(t,e):function(r,i){const s=Ix(r,i),o=ST(s)+ST(r.gt);return gy(s)&&gy(r.gt)?Cx(o):Sx(r.serializer,o)}(t,e)}function p6(t,e,n){return t instanceof dd?kx(t,e):t instanceof hd?Ax(t,e):n}function Ix(t,e){return t instanceof zf?gy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Kf extends wm{}class dd extends wm{constructor(e){super(),this.elements=e}}function kx(t,e){const n=xx(e);for(const r of t.elements)n.some(i=>os(i,r))||n.push(r);return{arrayValue:{values:n}}}class hd extends wm{constructor(e){super(),this.elements=e}}function Ax(t,e){let n=xx(e);for(const r of t.elements)n=n.filter(i=>!os(i,r));return{arrayValue:{values:n}}}class zf extends wm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ST(t){return xn(t.integerValue||t.doubleValue)}function xx(t){return Rw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function m6(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof dd&&r instanceof dd||n instanceof hd&&r instanceof hd?eu(n.elements,r.elements,os):n instanceof zf&&r instanceof zf?os(n.gt,r.gt):n instanceof Kf&&r instanceof Kf}(t.transform,e.transform)}class g6{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bm{}function Px(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $w(t.key,gi.none()):new Vd(t.key,t.data,gi.none());{const n=t.data,r=Vr.empty();let i=new br(ss.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Uo(t.key,r,new Zr(i.toArray()),gi.none())}}function v6(t,e,n){t instanceof Vd?function(r,i,s){const o=r.value.clone(),a=IT(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Uo?function(r,i,s){if(!rf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=IT(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Dx(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof Vd?function(i,s,o,a){if(!rf(i.precondition,s))return o;const l=i.value.clone(),u=kT(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Uo?function(i,s,o,a){if(!rf(i.precondition,s))return o;const l=kT(i.fieldTransforms,a,s),u=s.data;return u.setAll(Dx(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return rf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function y6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Ix(r.transform,i||null);s!=null&&(n===null&&(n=Vr.empty()),n.set(r.field,s))}return n||null}function CT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&eu(n,r,(i,s)=>m6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vd extends bm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends bm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Dx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function IT(t,e,n){const r=new Map;rn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p6(o,a,n[i]))}return r}function kT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,f6(s,o,e))}return r}class $w extends bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w6 extends bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&v6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ex();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Px(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gt())}isEqual(e){return this.batchId===e.batchId&&eu(this.mutations,e.mutations,(n,r)=>CT(n,r))&&eu(this.baseMutations,e.baseMutations,(n,r)=>CT(n,r))}}class Uw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rn(e.mutations.length===r.length);let i=l6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Uw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,Tt;function E6(t){switch(t){default:return rt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function Rx(t){if(t===void 0)return Ds("GRPC error has no .code"),ye.UNKNOWN;switch(t){case kn.OK:return ye.OK;case kn.CANCELLED:return ye.CANCELLED;case kn.UNKNOWN:return ye.UNKNOWN;case kn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case kn.INTERNAL:return ye.INTERNAL;case kn.UNAVAILABLE:return ye.UNAVAILABLE;case kn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case kn.NOT_FOUND:return ye.NOT_FOUND;case kn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case kn.ABORTED:return ye.ABORTED;case kn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case kn.DATA_LOSS:return ye.DATA_LOSS;default:return rt()}}(Tt=kn||(kn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xh}static getOrCreateInstance(){return xh===null&&(xh=new Fw),xh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new Nl([4294967295,4294967295],0);function AT(t){const e=S6().encode(t),n=new x5;return n.update(e),new Uint8Array(n.digest())}function xT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nl([n,r],0),new Nl([i,s],0)]}class Vw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sc(`Invalid padding: ${n}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Nl.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Nl.fromNumber(r)));return i.compare(C6)===1&&(i=new Nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=AT(e),[r,i]=xT(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Vw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=AT(e),[r,i]=xT(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _m(ot.min(),i,new Rn(Mt),Ns(),gt())}}class Bd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bd(r,n,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class Ox{constructor(e,n){this.targetId=e,this.Vt=n}}class Nx{constructor(e,n,r=oi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PT{constructor(){this.St=0,this.Dt=RT(),this.Ct=oi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=gt(),n=gt(),r=gt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Bd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=RT()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class I6{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ns(),this.zt=DT(),this.Wt=new Rn(Mt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(yy(o))if(i===0){const a=new qe(o.path);this.Yt(r,a,ur.newNoDocument(a,ot.min()))}else rn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Fw.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,p,g,y,_;const v={localCacheCount:c,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(v.bloomFilter={applied:u===0,hashCount:(h=b==null?void 0:b.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(g=(p=(f=b==null?void 0:b.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0,padding:(_=(y=b==null?void 0:b.bits)===null||y===void 0?void 0:y.padding)!==null&&_!==void 0?_:0}),v}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Aa(s).toUint8Array()}catch(c){if(c instanceof lx)return Zl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Vw(l,o,a)}catch(c){return Zl(c instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&yy(a.target)){const l=new qe(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,ur.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=gt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new _m(e,n,this.Wt,this.jt,r);return this.jt=Ns(),this.zt=DT(),this.Wt=new Rn(Mt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new PT,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new br(Mt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new PT),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function DT(){return new Rn(qe.comparator)}function RT(){return new Rn(qe.comparator)}const k6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),A6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),x6=(()=>({and:"AND",or:"OR"}))();class P6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _y(t,e){return t.useProto3Json||mm(e)?e:{value:e}}function Gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D6(t,e){return Gf(t,e.toTimestamp())}function Zi(t){return rn(!!t),ot.fromTimestamp(function(e){const n=xo(e);return new Dn(n.seconds,n.nanos)}(t))}function Bw(t,e){return function(n){return new Tn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Lx(t){const e=Tn.fromString(t);return rn(Vx(e)),e}function Ty(t,e){return Bw(t.databaseId,e.path)}function kg(t,e){const n=Lx(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe($x(n))}function Ey(t,e){return Bw(t.databaseId,e)}function R6(t){const e=Lx(t);return e.length===4?Tn.emptyPath():$x(e)}function Sy(t){return new Tn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $x(t){return rn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OT(t,e,n){return{name:Ty(t,e),fields:n.value.mapValue.fields}}function O6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(rn(u===void 0||typeof u=="string"),oi.fromBase64String(u||"")):(rn(u===void 0||u instanceof Uint8Array),oi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?ye.UNKNOWN:Rx(l.code);return new Ne(u,l.message||"")}(o);n=new Nx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kg(t,r.document.name),s=Zi(r.document.updateTime),o=r.document.createTime?Zi(r.document.createTime):ot.min(),a=new Vr({mapValue:{fields:r.document.fields}}),l=ur.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new sf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kg(t,r.document),s=r.readTime?Zi(r.readTime):ot.min(),o=ur.newNoDocument(i,s),a=r.removedTargetIds||[];n=new sf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kg(t,r.document),s=r.removedTargetIds||[];n=new sf([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new T6(i,s),a=r.targetId;n=new Ox(a,o)}}return n}function N6(t,e){let n;if(e instanceof Vd)n={update:OT(t,e.key,e.value)};else if(e instanceof $w)n={delete:Ty(t,e.key)};else if(e instanceof Uo)n={update:OT(t,e.key,e.data),updateMask:H6(e.fieldMask)};else{if(!(e instanceof w6))return rt();n={verify:Ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Kf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof dd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof hd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof zf)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:D6(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:rt()}(t,e.precondition)),n}function M6(t,e){return t&&t.length>0?(rn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Zi(r.updateTime):Zi(i);return s.isEqual(ot.min())&&(s=Zi(i)),new g6(s,r.transformResults||[])}(n,e))):[]}function L6(t,e){return{documents:[Ey(t,e.path)]}}function $6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ey(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ey(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Fx(Rs.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:fl(c.field),direction:V6(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=_y(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function U6(t){let e=R6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=Ux(c);return d instanceof Rs&&px(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Ml(pl(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,mm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Wf(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Wf(h,d)}(n.endAt)),i6(e,i,o,s,a,"F",l,u)}function F6(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ux(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=pl(e.unaryFilter.field);return Hn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=pl(e.unaryFilter.field);return Hn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=pl(e.unaryFilter.field);return Hn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pl(e.unaryFilter.field);return Hn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(e){return Hn.create(pl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Rs.create(e.compositeFilter.filters.map(n=>Ux(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(t):rt()}function V6(t){return k6[t]}function B6(t){return A6[t]}function j6(t){return x6[t]}function fl(t){return{fieldPath:t.canonicalString()}}function pl(t){return ss.fromServerFormat(t.fieldPath)}function Fx(t){return t instanceof Hn?function(e){if(e.op==="=="){if(wT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NAN"}};if(yT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(wT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NOT_NAN"}};if(yT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(e.field),op:B6(e.op),value:e.value}}}(t):t instanceof Rs?function(e){const n=e.getFilters().map(r=>Fx(r));return n.length===1?n[0]:{compositeFilter:{op:j6(e.op),filters:n}}}(t):rt()}function H6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Vx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jw=class oc{constructor(e,n,r,i,s=ot.min(),o=ot.min(),a=oi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.fe=e}}function Y6(t){const e=U6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K6=class{constructor(){this.rn=new z6}addToCollectionParentIndex(e,n){return this.rn.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(Ao.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}},z6=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new br(Tn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new br(Tn.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy=class Iy{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Iy(0)}static Mn(){return new Iy(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G6=class{constructor(){this.changes=new Iu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q6=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ic(r.mutation,i,Zr.empty(),Dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,gt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=gt()){const i=aa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ic();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,gt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ns();const o=Cc(),a=Cc();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Uo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ic(c.mutation,u,c.mutation.getFieldMask(),Dn.now())):o.set(u.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new q6(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let i=new Rn((o,a)=>o-a),s=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||gt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Ex();c.forEach(h=>{if(!s.has(h)){const f=Px(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return qe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ie.resolve(aa());let a=-1,l=s;return o.next(u=>Ie.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Ie.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,gt())).next(c=>({batchId:a,changes:Tx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ic();return this.indexManager.getCollectionParents(e,i).next(o=>Ie.forEach(o,a=>{const l=function(u,c){return new Cu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,ur.newInvalidDocument(u)))});let o=ic();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ic(u.mutation,l,Zr.empty(),Dn.now()),ym(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X6=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ie.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Zi(r.createTime)}),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:Y6(r.bundledQuery),readTime:Zi(r.readTime)}}(n)),Ie.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J6=class{constructor(){this.overlays=new Rn(qe.comparator),this.ls=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return Ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const i=aa(),s=n.length+1,o=new qe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=aa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=aa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ie.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _6(n,r));let s=this.ls.get(n);s===void 0&&(s=gt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.fs=new br(Bn.ds),this.ws=new br(Bn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Bn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new qe(new Tn([])),r=new Bn(n,e),i=new Bn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new qe(new Tn([])),r=new Bn(n,e),i=new Bn(n,e+1);let s=gt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return qe.comparator(e.key,n.key)||Mt(e.As,n.As)}static _s(e,n){return Mt(e.As,n.As)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new br(Bn.ds)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Bn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(e,n){return Ie.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new br(Mt);return n.forEach(i=>{const s=new Bn(i,0),o=new Bn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Ie.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const o=new Bn(new qe(s),0);let a=new br(Mt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Ie.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Ie.forEach(n.mutations,i=>{const s=new Bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Bn(n,0),i=this.Rs.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.Ds=e,this.docs=new Rn(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(n))}getEntries(e,n){let r=Ns();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ur.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ns();const o=n.path,a=new qe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||B5(V5(c),r)<=0||(i.has(c.key)||ym(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Cs(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tV(this)}getSize(e){return Ie.resolve(this.size)}}class tV extends G6{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.persistence=e,this.xs=new Iu(n=>Ow(n),Nw),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Hw,this.targetCount=0,this.Ms=Cy.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Ie.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Cy(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.Fn(n),Ie.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ie.waitFor(s).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.$s={},this.overlays={},this.Os=new xw(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nV(this),this.indexManager=new K6,this.remoteDocumentCache=function(r){return new eV(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new W6(n),this.qs=new X6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Z6(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new iV(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Ie.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class iV extends H5{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.Qs=new Hw,this.js=null}static zs(e){return new Ww(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Ws,r=>{const i=qe.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ot.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ie.or([()=>Ie.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=gt(),i=gt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(ET(n))return Ie.resolve(null);let r=Os(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yf(n,null,"F"),r=Os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=gt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Yf(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return ET(n)||i.isEqual(ot.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(fT()<=xt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),by(n)),this.Wi(e,o,n,F5(i,-1)))})}ji(e,n){let r=new br(bx(e));return n.forEach((i,s)=>{ym(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return fT()<=xt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",by(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ao.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Rn(Mt),this.Yi=new Iu(s=>Ow(s),Nw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q6(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function aV(t,e,n,r){return new oV(t,e,n,r)}async function Bx(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=gt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function lV(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=Ie.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);rn(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=gt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jx(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function uV(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(oi.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,g,y){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=Ns(),u=gt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(cV(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ot.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ie.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function cV(t,e,n){let r=gt(),i=gt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ns();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ot.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):We("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function dV(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hV(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Ie.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new jw(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function ky(t,e,n){const r=ct(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fd(o))throw o;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function NT(t,e,n){const r=ct(t);let i=ot.min(),s=gt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ct(a),d=c.Yi.get(u);return d!==void 0?Ie.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,Os(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ot.min(),n?s:gt())).next(a=>(fV(r,s6(e),a),{documents:a,ir:s})))}function fV(t,e,n){let r=t.Xi.get(e)||ot.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class MT{constructor(){this.activeTargetIds=d6()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pV{constructor(){this.Hr=new MT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new MT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function Ag(){return Ph===null?Ph=268435456+Math.round(2147483648*Math.random()):Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class yV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Ag(),a=this.To(e,n);We("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(We("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Zl("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=gV[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Ag();return new Promise((o,a)=>{const l=new A5;l.setWithCredentials(!0),l.listenOnce(C5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ig.NO_ERROR:const c=l.getResponseJson();We(sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ig.TIMEOUT:We(sr,`RPC '${e}' ${s} timed out`),a(new Ne(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Ig.HTTP_ERROR:const d=l.getStatus();if(We(sr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(y)>=0?y:ye.UNKNOWN}(f.status);a(new Ne(p,f.message))}else a(new Ne(ye.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ne(ye.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{We(sr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);We(sr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Ag(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=E5(),a=S5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new k5({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");We(sr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new vV({ro:y=>{f?We(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(We(sr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),We(sr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,_,v)=>{y.listen(_,b=>{try{v(b)}catch(m){setTimeout(()=>{throw m},0)}})};return g(d,Ih.EventType.OPEN,()=>{f||We(sr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Ih.EventType.CLOSE,()=>{f||(f=!0,We(sr,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Ih.EventType.ERROR,y=>{f||(f=!0,Zl(sr,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new Ne(ye.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ih.EventType.MESSAGE,y=>{var _;if(!f){const v=y.data[0];rn(!!v);const b=v,m=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(m){We(sr,`RPC '${e}' stream ${i} received error:`,m);const w=m.status;let T=function(x){const A=kn[x];if(A!==void 0)return Rx(A)}(w),M=m.message;T===void 0&&(T=ye.INTERNAL,M="Unknown error status: "+w+" with message "+m.message),f=!0,p.wo(new Ne(T,M)),d.close()}else We(sr,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),g(a,I5.STAT_EVENT,y=>{y.stat===dT.PROXY?We(sr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===dT.NOPROXY&&We(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){return new P6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Hx(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Ne(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wV extends Wx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=O6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ot.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ot.min():s.readTime?Zi(s.readTime):ot.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Sy(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=yy(a)?{documents:L6(i,a)}:{query:$6(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Mx(i,s.resumeToken);const l=_y(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ot.min())>0){o.readTime=Gf(i,s.snapshotVersion.toTimestamp());const l=_y(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=F6(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Sy(this.serializer),n.removeTarget=e,this.Wo(n)}}class bV extends Wx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=M6(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.cu(r,n)}return rn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Sy(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>N6(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ye.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ye.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class TV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ds(n),this.mu=!1):We("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Wa(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ct(a);l.vu.add(4),await jd(l),l.bu.set("Unknown"),l.vu.delete(4),await Em(l)}(this))})}),this.bu=new TV(r,i)}}async function Em(t){if(Wa(t))for(const e of t.Ru)await e(!0)}async function jd(t){for(const e of t.Ru)await e(!1)}function Yx(t,e){const n=ct(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Gw(n)?zw(n):ku(n).Ko()&&Kw(n,e))}function Kx(t,e){const n=ct(t),r=ku(n);n.Au.delete(e),r.Ko()&&zx(n,e),n.Au.size===0&&(r.Ko()?r.jo():Wa(n)&&n.bu.set("Unknown"))}function Kw(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ku(t).su(e)}function zx(t,e){t.Vu.qt(e),ku(t).iu(e)}function zw(t){t.Vu=new I6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ku(t).start(),t.bu.gu()}function Gw(t){return Wa(t)&&!ku(t).Uo()&&t.Au.size>0}function Wa(t){return ct(t).vu.size===0}function Gx(t){t.Vu=void 0}async function SV(t){t.Au.forEach((e,n)=>{Kw(t,e)})}async function CV(t,e){Gx(t),Gw(t)?(t.bu.Iu(e),zw(t)):t.bu.set("Unknown")}async function IV(t,e,n){if(t.bu.set("Online"),e instanceof Nx&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qf(t,r)}else if(e instanceof sf?t.Vu.Ht(e):e instanceof Ox?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ot.min()))try{const r=await jx(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(oi.EMPTY_BYTE_STRING,u.snapshotVersion)),zx(i,a);const c=new jw(u.target,a,l,u.sequenceNumber);Kw(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){We("RemoteStore","Failed to raise snapshot:",r),await qf(t,r)}}async function qf(t,e,n){if(!Fd(e))throw e;t.vu.add(1),await jd(t),t.bu.set("Offline"),n||(n=()=>jx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Em(t)})}function qx(t,e){return e().catch(n=>qf(t,n,e))}async function Sm(t){const e=ct(t),n=Po(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;kV(e);)try{const i=await dV(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,AV(e,i)}catch(i){await qf(e,i)}Qx(e)&&Xx(e)}function kV(t){return Wa(t)&&t.Eu.length<10}function AV(t,e){t.Eu.push(e);const n=Po(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Qx(t){return Wa(t)&&!Po(t).Uo()&&t.Eu.length>0}function Xx(t){Po(t).start()}async function xV(t){Po(t).hu()}async function PV(t){const e=Po(t);for(const n of t.Eu)e.uu(n.mutations)}async function DV(t,e,n){const r=t.Eu.shift(),i=Uw.from(r,e,n);await qx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sm(t)}async function RV(t,e){e&&Po(t).ou&&await async function(n,r){if(i=r.code,E6(i)&&i!==ye.ABORTED){const s=n.Eu.shift();Po(n).Qo(),await qx(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Sm(n)}var i}(t,e),Qx(t)&&Xx(t)}async function $T(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=Wa(n);n.vu.add(3),await jd(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Em(n)}async function OV(t,e){const n=ct(t);e?(n.vu.delete(2),await Em(n)):e||(n.vu.add(2),await jd(n),n.bu.set("Unknown"))}function ku(t){return t.Su||(t.Su=function(e,n,r){const i=ct(e);return i.fu(),new wV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:SV.bind(null,t),ao:CV.bind(null,t),nu:IV.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Gw(t)?zw(t):t.bu.set("Unknown")):(await t.Su.stop(),Gx(t))})),t.Su}function Po(t){return t.Du||(t.Du=function(e,n,r){const i=ct(e);return i.fu(),new bV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:xV.bind(null,t),ao:RV.bind(null,t),au:PV.bind(null,t),cu:DV.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Sm(t)):(await t.Du.stop(),t.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qw(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),Fd(t))return new Ne(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new Rn(this.comparator)}static emptySet(e){return new $l(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.Cu=new Rn(qe.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ru{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ru(e,n,$l.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.Nu=void 0,this.listeners=[]}}class MV{constructor(){this.queries=new Iu(e=>wx(e),vm),this.onlineState="Unknown",this.ku=new Set}}async function Jx(t,e){const n=ct(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new NV),i)try{s.Nu=await n.onListen(r)}catch(o){const a=Qw(o,`Initialization of query '${by(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Xw(n)}async function Zx(t,e){const n=ct(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function LV(t,e){const n=ct(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&Xw(n)}function $V(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Xw(t){t.ku.forEach(e=>{e.next()})}class eP{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.key=e}}class nP{constructor(e){this.key=e}}class UV{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=gt(),this.mutatedKeys=gt(),this.tc=bx(e),this.ec=new $l(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new UT,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=ym(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new ru(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new UT,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new nP(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new tP(r))}),n}hc(e){this.Yu=e.ir,this.Zu=gt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ru.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class FV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VV{constructor(e){this.key=e,this.fc=!1}}class BV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Iu(a=>wx(a),vm),this._c=new Map,this.mc=new Set,this.gc=new Rn(qe.comparator),this.yc=new Map,this.Ic=new Hw,this.Tc={},this.Ec=new Map,this.Ac=Cy.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function jV(t,e){const n=JV(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await hV(n.localStore,Os(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await HV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Yx(n.remoteStore,o)}return i}async function HV(t,e,n,r,i){t.Rc=(d,h,f)=>async function(p,g,y,_){let v=g.view.sc(y);v.zi&&(v=await NT(p.localStore,g.query,!1).then(({documents:w})=>g.view.sc(w,v)));const b=_&&_.targetChanges.get(g.targetId),m=g.view.applyChanges(v,p.isPrimaryClient,b);return VT(p,g.targetId,m.cc),m.snapshot}(t,d,h,f);const s=await NT(t.localStore,e,!0),o=new UV(e,s.ir),a=o.sc(s.documents),l=Bd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);VT(t,n,u.cc);const c=new FV(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function WV(t,e){const n=ct(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!vm(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ky(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Kx(n.remoteStore,r.targetId),Ay(n,r.targetId)}).catch(Ud)):(Ay(n,r.targetId),await ky(n.localStore,r.targetId,!0))}async function YV(t,e,n){const r=ZV(t);try{const i=await function(s,o){const a=ct(s),l=Dn.now(),u=o.reduce((h,f)=>h.add(f.key),gt());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ns(),p=gt();return a.Zi.getEntries(h,u).next(g=>{f=g,f.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const y=[];for(const _ of o){const v=y6(_,c.get(_.key).overlayedDocument);v!=null&&y.push(new Uo(_.key,v,ux(v.value.mapValue),gi.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:Tx(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Rn(Mt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Hd(r,i.changes),await Sm(r.remoteStore)}catch(i){const s=Qw(i,"Failed to persist write");n.reject(s)}}async function rP(t,e){const n=ct(t);try{const r=await uV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?rn(o.fc):i.removedDocuments.size>0&&(rn(o.fc),o.fc=!1))}),await Hd(n,r,e)}catch(r){await Ud(r)}}function FT(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ct(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&Xw(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KV(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Rn(qe.comparator);o=o.insert(s,ur.newNoDocument(s,ot.min()));const a=gt().add(s),l=new _m(ot.min(),new Map,new Rn(Mt),o,a);await rP(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Jw(r)}else await ky(r.localStore,e,!1).then(()=>Ay(r,e,n)).catch(Ud)}async function zV(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await lV(n.localStore,e);sP(n,r,null),iP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hd(n,i)}catch(i){await Ud(i)}}async function GV(t,e,n){const r=ct(t);try{const i=await function(s,o){const a=ct(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(rn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);sP(r,e,n),iP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hd(r,i)}catch(i){await Ud(i)}}function iP(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function sP(t,e,n){const r=ct(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||oP(t,r)})}function oP(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Kx(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Jw(t))}function VT(t,e,n){for(const r of n)r instanceof tP?(t.Ic.addReference(r.key,e),qV(t,r)):r instanceof nP?(We("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||oP(t,r.key)):rt()}function qV(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(We("SyncEngine","New document in limbo: "+n),t.mc.add(r),Jw(t))}function Jw(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new qe(Tn.fromString(e)),r=t.Ac.next();t.yc.set(r,new VV(n)),t.gc=t.gc.insert(n,r),Yx(t.remoteStore,new jw(Os(Mw(n.path)),r,"TargetPurposeLimboResolution",xw.ct))}}async function Hd(t,e,n){const r=ct(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Yw.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=ct(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Ie.forEach(l,d=>Ie.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>Ie.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Fd(c))throw c;We("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function QV(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=await Bx(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Ne(ye.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hd(n,r.er)}}function XV(t,e){const n=ct(t),r=n.yc.get(e);if(r&&r.fc)return gt().add(r.key);{let i=gt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function JV(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KV.bind(null,e),e.dc.nu=LV.bind(null,e.eventManager),e.dc.Pc=$V.bind(null,e.eventManager),e}function ZV(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GV.bind(null,e),e}let BT=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Tm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aV(this.persistence,new sV,e.initialUser,this.serializer)}createPersistence(e){return new rV(Ww.zs,this.serializer)}createSharedClientState(e){return new pV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},eB=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QV.bind(null,this.syncEngine),await OV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new MV}createDatastore(e){const n=Tm(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new yV(i));var i;return function(s,o,a,l){return new _V(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>FT(this.syncEngine,a,0),o=LT.D()?new LT:new mV,new EV(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new BV(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ct(e);We("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await jd(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aP=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lr.UNAUTHENTICATED,this.clientId=sx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{We("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(We("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Bx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rB(t);We("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>$T(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$T(e.remoteStore,s)),t._onlineComponents=e}function nB(t){return t.name==="FirebaseError"?t.code===ye.FAILED_PRECONDITION||t.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function rB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!nB(n))throw n;Zl("Error using user provided cache. Falling back to memory cache: "+n),await Pg(t,new BT)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await Pg(t,new BT);return t._offlineComponents}async function lP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await jT(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await jT(t,new eB))),t._onlineComponents}function iB(t){return lP(t).then(e=>e.syncEngine)}async function uP(t){const e=await lP(t),n=e.eventManager;return n.onListen=jV.bind(null,e.syncEngine),n.onUnlisten=WV.bind(null,e.syncEngine),n}function sB(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new aP({next:d=>{s.enqueueAndForget(()=>Zx(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Ne(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Ne(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new eP(Mw(o.path),u,{includeMetadataChanges:!0,Ku:!0});return Jx(i,c)}(await uP(t),t.asyncQueue,e,n,r)),r.promise}function oB(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new aP({next:d=>{s.enqueueAndForget(()=>Zx(i,c)),d.fromCache&&a.source==="server"?l.reject(new Ne(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new eP(o,u,{includeMetadataChanges:!0,Ku:!0});return Jx(i,c)}(await uP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e,n){if(!n)throw new Ne(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aB(t,e,n,r){if(e===!0&&r===!0)throw new Ne(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WT(t){if(!qe.isDocumentKey(t))throw new Ne(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YT(t){if(qe.isDocumentKey(t))throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new Ne(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lB(t,e){if(e<=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ne(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Im{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new P5;switch(n.type){case"firstParty":return new N5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ne(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=HT.get(e);n&&(We("ComponentProvider","Removing Datastore"),HT.delete(e),n.terminate())}(this),Promise.resolve()}}function uB(t,e,n,r={}){var i;const s=(t=$i(t,Im))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=lr.MOCK_USER;else{a=tk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ne(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new lr(u)}t._authCredentials=new D5(new ix(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pr(this.firestore,e,this._key)}}class Fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class vo extends Fo{constructor(e,n,r){super(e,n,Mw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pr(this.firestore,null,new qe(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function Ei(t,e,...n){if(t=Vt(t),dP("collection","path",e),t instanceof Im){const r=Tn.fromString(e,...n);return YT(r),new vo(t,null,r)}{if(!(t instanceof Pr||t instanceof vo))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tn.fromString(e,...n));return YT(r),new vo(t.firestore,null,r)}}function Ot(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=sx.A()),dP("doc","path",e),t instanceof Im){const r=Tn.fromString(e,...n);return WT(r),new Pr(t,null,new qe(r))}{if(!(t instanceof Pr||t instanceof vo))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tn.fromString(e,...n));return WT(r),new Pr(t.firestore,t instanceof vo?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Hx(this,"async_queue_retry"),this.Xc=()=>{const n=xg();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=xg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Is;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Fd(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Ds("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=qw.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ya extends Im{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hP(this),this._firestoreClient.terminate()}}function dB(t,e){const n=typeof t=="object"?t:_u(),r=typeof t=="string"?t:e||"(default)",i=us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JI("firestore");s&&uB(i,...s)}return i}function Zw(t){return t._firestoreClient||hP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hP(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new K5(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cP(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new tB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(oi.fromBase64String(e))}catch(n){throw new Ne(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new iu(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=/^__.*__$/;class fB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vd(e,this.data,n,this.fieldTransforms)}}class fP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class nb{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new nb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Qf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(pP(this.ca)&&hB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class pB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tm(e)}ya(e,n,r,i=!1){return new nb({ca:e,methodName:n,ga:r,path:ss.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(t){const e=t._freezeSettings(),n=Tm(t._databaseId);return new pB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mP(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);rb("Data must be an object, but it was:",o,r);const a=yP(r,o);let l,u;if(s.merge)l=new Zr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=xy(e,d,n);if(!o.contains(h))throw new Ne(ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);bP(c,h)||c.push(h)}l=new Zr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new fB(new Vr(a),l,u)}let gP=class vP extends eb{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vP}};function mB(t,e,n,r){const i=t.ya(1,e,n);rb("Data must be an object, but it was:",i,r);const s=[],o=Vr.empty();Ha(r,(l,u)=>{const c=ib(e,l,n);u=Vt(u);const d=i.da(c);if(u instanceof gP)s.push(c);else{const h=Wd(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Zr(s);return new fP(o,a,i.fieldTransforms)}function gB(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[xy(e,r,n)],l=[i];if(s.length%2!=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(xy(e,s[h])),l.push(s[h+1]);const u=[],c=Vr.empty();for(let h=a.length-1;h>=0;--h)if(!bP(u,a[h])){const f=a[h];let p=l[h];p=Vt(p);const g=o.da(f);if(p instanceof gP)u.push(f);else{const y=Wd(p,g);y!=null&&(u.push(f),c.set(f,y))}}const d=new Zr(u);return new fP(c,d,o.fieldTransforms)}function vB(t,e,n,r=!1){return Wd(n,t.ya(r?4:3,e))}function Wd(t,e){if(wP(t=Vt(t)))return rb("Unsupported field value:",e,t),yP(t,e);if(t instanceof eb)return function(n,r){if(!pP(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Wd(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return h6(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Dn.fromDate(n);return{timestampValue:Gf(r.serializer,i)}}if(n instanceof Dn){const i=new Dn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gf(r.serializer,i)}}if(n instanceof tb)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof iu)return{bytesValue:Mx(r.serializer,n._byteString)};if(n instanceof Pr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Bw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Cm(n)}`)}(t,e)}function yP(t,e){const n={};return ax(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,(r,i)=>{const s=Wd(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dn||t instanceof tb||t instanceof iu||t instanceof Pr||t instanceof eb)}function rb(t,e,n){if(!wP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Cm(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function xy(t,e,n){if((e=Vt(e))instanceof km)return e._internalPath;if(typeof e=="string")return ib(t,e);throw Qf("Field path arguments must be of type string or ",t,!1,void 0,n)}const yB=new RegExp("[~\\*/\\[\\]]");function ib(t,e,n){if(e.search(yB)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ne(ye.INVALID_ARGUMENT,a+t+l)}function bP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _P=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},wB=class extends _P{data(){return super.data()}};function xm(t,e){return typeof e=="string"?ib(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let sb=class{},ob=class extends sb{};function _B(t,e,...n){let r=[];e instanceof sb&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof TB).length,o=i.filter(a=>a instanceof TP).length;if(s>1||s>0&&o>0)throw new Ne(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let TP=class EP extends ob{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new EP(e,n,r)}_apply(e){const n=this._parse(e);return kP(e._query,n),new Fo(e.firestore,e.converter,wy(e._query,n))}_parse(e){const n=Am(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){XT(c,u);const h=[];for(const f of c)h.push(QT(a,i,f));d={arrayValue:{values:h}}}else d=QT(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||XT(c,u),d=vB(o,s,c,u==="in"||u==="not-in");return Hn.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function zT(t,e,n){const r=e,i=xm("where",t);return TP._create(i,r,n)}let TB=class SP extends sb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new SP(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)kP(s,a),s=wy(s,a)}(e._query,n),new Fo(e.firestore,e.converter,wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},EB=class CP extends ob{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new CP(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ml(i,s);return function(a,l){if(Lw(a)===null){const u=gm(a);u!==null&&AP(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Fo(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Cu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function GT(t,e="asc"){const n=e,r=xm("orderBy",t);return EB._create(r,n)}let SB=class IP extends ob{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new IP(e,n,r)}_apply(e){return new Fo(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}};function qT(t){return lB("limit",t),SB._create("limit",t,"F")}function QT(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yx(e)&&n.indexOf("/")!==-1)throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tn.fromString(n));if(!qe.isDocumentKey(r))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vT(t,new qe(r))}if(n instanceof Pr)return vT(t,n._key);throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function XT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kP(t,e){if(e.isInequality()){const r=gm(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Lw(t);s!==null&&AP(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function AP(t,e,n){if(!n.isEqual(e))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let CB=class{convertValue(e,n="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ha(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new tb(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){const n=xo(e);return new Dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tn.fromString(e);rn(Vx(r));const i=new ud(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(n)||Ds(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PP extends _P{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class of extends PP{data(e={}){return super.data(e)}}class IB{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ac(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new of(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new of(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ac(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new of(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ac(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:kB(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t){t=$i(t,Pr);const e=$i(t.firestore,Ya);return sB(Zw(e),t._key).then(n=>NB(e,t,n))}class DP extends CB{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,n)}}function xB(t){t=$i(t,Fo);const e=$i(t.firestore,Ya),n=Zw(e),r=new DP(e);return bB(t._query),oB(n,t._query).then(i=>new IB(e,r,t,i))}function PB(t,e,n){t=$i(t,Pr);const r=$i(t.firestore,Ya),i=xP(t.converter,e,n);return Pm(r,[mP(Am(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gi.none())])}function DB(t,e,n,...r){t=$i(t,Pr);const i=$i(t.firestore,Ya),s=Am(i);let o;return o=typeof(e=Vt(e))=="string"||e instanceof km?gB(s,"updateDoc",t._key,e,n,r):mB(s,"updateDoc",t._key,e),Pm(i,[o.toMutation(t._key,gi.exists(!0))])}function RB(t){return Pm($i(t.firestore,Ya),[new $w(t._key,gi.none())])}function OB(t,e){const n=$i(t.firestore,Ya),r=Ot(t),i=xP(t.converter,e);return Pm(n,[mP(Am(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then(()=>r)}function Pm(t,e){return function(n,r){const i=new Is;return n.asyncQueue.enqueueAndForget(async()=>YV(await iB(n),r,i)),i.promise}(Zw(t),e)}function NB(t,e,n){const r=n.docs.get(e._key),i=new DP(t);return new PP(t,i,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Su=n})(Mo),zr(new Or("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ya(new R5(n.getProvider("auth-internal")),new L5(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ne(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ud(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),rr(hT,"3.12.2",t),rr(hT,"3.12.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firebasestorage.googleapis.com",OP="storageBucket",MB=2*60*1e3,LB=10*60*1e3,$B=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends ai{constructor(e,n,r=0){super(Dg(e),`Firebase Storage: ${n} (${Dg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var sn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(sn||(sn={}));function Dg(t){return"storage/"+t}function ab(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(sn.UNKNOWN,t)}function UB(t){return new mn(sn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function FB(t){return new mn(sn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(sn.UNAUTHENTICATED,t)}function BB(){return new mn(sn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jB(t){return new mn(sn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NP(){return new mn(sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MP(){return new mn(sn.CANCELED,"User canceled the upload/download.")}function HB(t){return new mn(sn.INVALID_URL,"Invalid URL '"+t+"'.")}function WB(t){return new mn(sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YB(){return new mn(sn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OP+"' property when initializing the app?")}function LP(){return new mn(sn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KB(){return new mn(sn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function zB(){return new mn(sn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function GB(t){return new mn(sn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Py(t){return new mn(sn.INVALID_ARGUMENT,t)}function $P(){return new mn(sn.APP_DELETED,"The Firebase app was deleted.")}function qB(t){return new mn(sn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kc(t,e){return new mn(sn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fu(t){throw new mn(sn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(r.path==="")return r;throw WB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(m){m.path.charAt(m.path.length-1)==="/"&&(m.path_=m.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(m){m.path_=decodeURIComponent(m.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},g=n===RP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${g}/${i}/${y}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let m=0;m<b.length;m++){const w=b[m],T=w.regex.exec(e);if(T){const M=T[w.indices.bucket];let x=T[w.indices.path];x||(x=""),r=new ei(M,x),w.postModify(r);break}}if(r==null)throw HB(e);return r}}class QB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,l())},y)}function h(){s&&clearTimeout(s)}function f(y,..._){if(u){h();return}if(y){h(),c.call(null,y,..._);return}if(l()||o){h(),c.call(null,y,..._);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let p=!1;function g(y){p||(p=!0,h(),!u&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function JB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){return t!==void 0}function ej(t){return typeof t=="function"}function tj(t){return typeof t=="object"&&!Array.isArray(t)}function Dm(t){return typeof t=="string"||t instanceof String}function JT(t){return lb()&&t instanceof Blob}function lb(){return typeof Blob<"u"&&!C$()}function ZT(t,e,n,r){if(r<e)throw Py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Py(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function UP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fa||(fa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Dh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===fa.NO_ERROR,l=s.getStatus();if(!a||FP(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===fa.ABORT;r(!1,new Dh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Dh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());ZB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=ab();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?$P():MP();o(l)}else{const l=NP();o(l)}};this.canceled_?n(!1,new Dh(!1,null,!0)):this.backoffId_=XB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ij(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aj(t,e,n,r,i,s,o=!0){const a=UP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return sj(u,e),rj(u,n),ij(u,s),oj(u,r),new nj(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uj(...t){const e=lj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(lb())return new Blob(t);throw new mn(sn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){if(typeof atob>"u")throw GB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rg{constructor(e,n){this.data=e,this.contentType=n||null}}function hj(t,e){switch(t){case Gi.RAW:return new Rg(VP(e));case Gi.BASE64:case Gi.BASE64URL:return new Rg(BP(t,e));case Gi.DATA_URL:return new Rg(pj(e),mj(e))}throw ab()}function VP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fj(t){let e;try{e=decodeURIComponent(t)}catch{throw kc(Gi.DATA_URL,"Malformed data URL.")}return VP(e)}function BP(t,e){switch(t){case Gi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw kc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw kc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dj(e)}catch(i){throw i.message.includes("polyfill")?i:kc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class jP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw kc(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=gj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function pj(t){const e=new jP(t);return e.base64?BP(Gi.BASE64,e.rest):fj(e.rest)}function mj(t){return new jP(t).contentType}function gj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){let r=0,i="";JT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(JT(this.data_)){const r=this.data_,i=cj(r,e,n);return i===null?null:new no(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new no(r,!0)}}static getBlob(...e){if(lb()){const n=e.map(r=>r instanceof no?r.data_:r);return new no(uj.apply(null,n))}else{const n=e.map(o=>Dm(o)?hj(Gi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new no(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){let e;try{e=JSON.parse(t)}catch{return null}return tj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||wj}}let Rh=null;function bj(t){return!Dm(t)||t.length<2?t:WP(t)}function YP(){if(Rh)return Rh;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,o){return bj(o)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),Rh=t,Rh}function _j(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ei(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Tj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return _j(r,t),r}function KP(t,e,n){const r=HP(e);return r===null?null:Tj(t,r,n)}function Ej(t,e,n,r){const i=HP(e);if(i===null||!Dm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=Au(h,n,r),p=UP({alt:"media",token:u});return f+p})[0]}function zP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ka{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){if(!t)throw ab()}function ub(t,e){function n(r,i){const s=KP(t,i,e);return ks(s!==null),s}return n}function Sj(t,e){function n(r,i){const s=KP(t,i,e);return ks(s!==null),Ej(s,i,t.host,t._protocol)}return n}function Yd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=BB():i=VB():n.getStatus()===402?i=FB(t.bucket):n.getStatus()===403?i=jB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function cb(t){const e=Yd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=UB(t.path)),s.serverResponse=i.serverResponse,s}return n}function Cj(t,e,n){const r=e.fullServerUrl(),i=Au(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ka(i,s,ub(t,n),o);return a.errorHandler=cb(e),a}function Ij(t,e,n){const r=e.fullServerUrl(),i=Au(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ka(i,s,Sj(t,n),o);return a.errorHandler=cb(e),a}function kj(t,e){const n=e.fullServerUrl(),r=Au(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Ka(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=cb(e),a}function Aj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function GP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Aj(null,e)),r}function xj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let m=0;m<2;m++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=GP(e,r,i),c=zP(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=no.getBlob(d,r,h);if(f===null)throw LP();const p={name:u.fullPath},g=Au(s,t.host,t._protocol),y="POST",_=t.maxUploadRetryTime,v=new Ka(g,y,ub(t,n),_);return v.urlParams=p,v.headers=o,v.body=f.uploadData(),v.errorHandler=Yd(e),v}class Xf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function db(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ks(!1)}return ks(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Pj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=GP(e,r,i),a={name:o.fullPath},l=Au(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=zP(o,n),h=t.maxUploadRetryTime;function f(g){db(g);let y;try{y=g.getResponseHeader("X-Goog-Upload-URL")}catch{ks(!1)}return ks(Dm(y)),y}const p=new Ka(l,u,f,h);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=Yd(e),p}function Dj(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=db(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ks(!1)}d||ks(!1);const h=Number(d);return ks(!isNaN(h)),new Xf(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ka(n,o,s,a);return l.headers=i,l.errorHandler=Yd(e),l}const eE=256*1024;function Rj(t,e,n,r,i,s,o,a){const l=new Xf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw KB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(g===null)throw LP();function y(m,w){const T=db(m,["active","final"]),M=l.current+c,x=r.size();let A;return T==="final"?A=ub(e,s)(m,w):A=null,new Xf(M,x,T==="final",A)}const _="POST",v=e.maxUploadRetryTime,b=new Ka(n,_,y,v);return b.headers=p,b.body=g.uploadData(),b.progressCallback=a||null,b.errorHandler=Yd(t),b}const Fr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Og(t){switch(t){case"running":case"pausing":case"canceling":return Fr.RUNNING;case"paused":return Fr.PAUSED;case"success":return Fr.SUCCESS;case"canceled":return Fr.CANCELED;case"error":return Fr.ERROR;default:return Fr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,r){if(ej(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Nj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Fu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Mj extends Nj{initXhr(){this.xhr_.responseType="text"}}function ta(){return new Mj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=YP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(sn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(FP(i.status,[]))if(s)i=NP();else{this.sleepTime=Math.max(this.sleepTime*2,$B),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(sn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Pj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Dj(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ta,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=eE*this._chunkMultiplier,n=new Xf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Rj(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ta,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){eE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Cj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=xj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=MP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Og(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Oj(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Og(this._state)){case Fr.SUCCESS:tl(this._resolve.bind(null,this.snapshot))();break;case Fr.CANCELED:case Fr.ERROR:const n=this._reject;tl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Og(this._state)){case Fr.RUNNING:case Fr.PAUSED:e.next&&tl(e.next.bind(e,this.snapshot))();break;case Fr.SUCCESS:e.complete&&tl(e.complete.bind(e))();break;case Fr.CANCELED:case Fr.ERROR:e.error&&tl(e.error.bind(e,this._error))();break;default:e.error&&tl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pa(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WP(this._location.path)}get storage(){return this._service}get parent(){const e=vj(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new Pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qB(e)}}function $j(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Lj(t,new no(e),n)}function Uj(t){t._throwIfRoot("getDownloadURL");const e=Ij(t.storage,t._location,YP());return t.storage.makeRequestWithTokens(e,ta).then(n=>{if(n===null)throw zB();return n})}function Fj(t){t._throwIfRoot("deleteObject");const e=kj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ta)}function Vj(t,e){const n=yj(t._location.path,e),r=new ei(t._location.bucket,n);return new Pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){return/^[A-Za-z]+:\/\//.test(t)}function jj(t,e){return new Pa(t,e)}function qP(t,e){if(t instanceof hb){const n=t;if(n._bucket==null)throw YB();const r=new Pa(n,n._bucket);return e!=null?qP(r,e):r}else return e!==void 0?Vj(t,e):t}function Hj(t,e){if(e&&Bj(e)){if(t instanceof hb)return jj(t,e);throw Py("To use ref(service, url), the first argument must be a Storage instance.")}else return qP(t,e)}function tE(t,e){const n=e==null?void 0:e[OP];return n==null?null:ei.makeFromBucketSpec(n,t)}function Wj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:tk(i,t.app.options.projectId))}class hb{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=RP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MB,this._maxUploadRetryTime=LB,this._requests=new Set,i!=null?this._bucket=ei.makeFromBucketSpec(i,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new QB($P());{const o=aj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const nE="@firebase/storage",rE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="storage";function Yj(t,e,n){return t=Vt(t),$j(t,e,n)}function Kj(t){return t=Vt(t),Uj(t)}function zj(t){return t=Vt(t),Fj(t)}function Gj(t,e){return t=Vt(t),Hj(t,e)}function qj(t=_u(),e){t=Vt(t);const r=us(t,QP).getImmediate({identifier:e}),i=JI("storage");return i&&Qj(r,...i),r}function Qj(t,e,n,r={}){Wj(t,e,n,r)}function Xj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new hb(n,r,i,e,Mo)}function Jj(){zr(new Or(QP,Xj,"PUBLIC").setMultipleInstances(!0)),rr(nE,rE,""),rr(nE,rE,"esm2017")}Jj();const XP=async t=>{const e=await AB(t),n=e.data();return n?{id:e.id,...n}:null},nl=async(t,e)=>{const n=await xB(e?_B(t,...e):t);return Promise.all(n.docs.map(r=>XP(r.ref)))},ci=XP,Zj=OB,Jf=PB,Zs=DB,lc=RB,Dy=t=>Gj(qj(),t),iE=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),eH=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},Di=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!Di(a,o[l])||o.some((u,c)=>!Di(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!Di(r,i))return!1}else if(r!==i)return!1}return!0},Ry=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const n=new Date,i=n.getFullYear()===t.getFullYear()?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},s=t.toLocaleDateString(void 0,i);if(n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){const o={weekday:"long"};return t.toLocaleDateString(void 0,o)}else return s}}},Oy=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},tH=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},eo=t=>{var e;return!!((e=t.allowedUserIds)!=null&&e.length)},ml=t=>Array.isArray(t)?t:[t],nH=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Ny=t=>t.join(", ").replace(/,([^,]*)$/," and$1");function fb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rH=JP,ZP=new No("auth","Firebase",JP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new bu("@firebase/auth");function iH(t,...e){Zf.logLevel<=xt.WARN&&Zf.warn(`Auth (${Mo}): ${t}`,...e)}function af(t,...e){Zf.logLevel<=xt.ERROR&&Zf.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,...e){throw pb(t,...e)}function es(t,...e){return pb(t,...e)}function sH(t,e,n){const r=Object.assign(Object.assign({},rH()),{[e]:n});return new No("auth","Firebase",r).create(e,{appName:t.name})}function pb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZP.create(t,...e)}function Ze(t,e,...n){if(!t)throw pb(e,...n)}function ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function Ms(t,e){t||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oH(){return sE()==="http:"||sE()==="https:"}function sE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oH()||nk()||"connection"in navigator)?navigator.onLine:!0}function lH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=z0()||rk()}get(){return aH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=new Kd(3e4,6e4);function za(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ga(t,e,n,r,i={}){return tD(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),eD.fetch()(nD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function tD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uH),e);try{const i=new dH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Oh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Oh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Oh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sH(t,c,u);Ui(t,c)}}catch(i){if(i instanceof ai)throw i;Ui(t,"network-request-failed",{message:String(i)})}}async function zd(t,e,n,r,i={}){const s=await Ga(t,e,n,r,i);return"mfaPendingCredential"in s&&Ui(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?mb(t.config,i):`${t.config.apiScheme}://${i}`}class dH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(es(this.auth,"network-request-failed")),cH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=es(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hH(t,e){return Ga(t,"POST","/v1/accounts:delete",e)}async function fH(t,e){return Ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pH(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=gb(r);Ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ac(Ng(i.auth_time)),issuedAtTime:Ac(Ng(i.iat)),expirationTime:Ac(Ng(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function gb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{const i=Df(n);return i?JSON.parse(i):(af("Failed to decode base64 JWT payload"),null)}catch(i){return af("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mH(t){const e=gb(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&gH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(t){var e;const n=t.auth,r=await t.getIdToken(),i=await su(t,fH(n,{idToken:r}));Ze(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bH(s.providerUserInfo):[],a=wH(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rD(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function yH(t){const e=Vt(t);await ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bH(t){return t.map(e=>{var{providerId:n}=e,r=fb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _H(t,e){const n=await tD(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nD(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ze(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _H(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fd;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ze(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fd,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=fb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rD(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pH(this,e)}reload(){return yH(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await su(this,hH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:m,isAnonymous:w,providerData:T,stsTokenManager:M}=n;Ze(b&&M,e,"internal-error");const x=fd.fromJSON(this.name,M);Ze(typeof b=="string",e,"internal-error"),Ys(d,e.name),Ys(h,e.name),Ze(typeof m=="boolean",e,"internal-error"),Ze(typeof w=="boolean",e,"internal-error"),Ys(f,e.name),Ys(p,e.name),Ys(g,e.name),Ys(y,e.name),Ys(_,e.name),Ys(v,e.name);const A=new pa({uid:b,auth:e,email:h,emailVerified:m,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:x,createdAt:_,lastLoginAt:v});return T&&Array.isArray(T)&&(A.providerData=T.map(S=>Object.assign({},S))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new fd;i.updateFromServerResponse(n);const s=new pa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ep(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function bs(t){Ms(t instanceof Function,"Expected a class definition");let e=oE.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iD.type="NONE";const aE=iD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ul{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lf(this.userKey,i.apiKey,s),this.fullPersistenceKey=lf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ul(bs(aE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||bs(aE);const o=lf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=pa._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ul(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ul(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uD(e))return"Blackberry";if(cD(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||oD(e))&&!e.includes("edge/"))return"Chrome";if(lD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sD(t=_r()){return/firefox\//i.test(t)}function vb(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oD(t=_r()){return/crios\//i.test(t)}function aD(t=_r()){return/iemobile/i.test(t)}function lD(t=_r()){return/android/i.test(t)}function uD(t=_r()){return/blackberry/i.test(t)}function cD(t=_r()){return/webos/i.test(t)}function Rm(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TH(t=_r()){var e;return Rm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EH(){return I$()&&document.documentMode===10}function dD(t=_r()){return Rm(t)||lD(t)||cD(t)||uD(t)||/windows phone/i.test(t)||aD(t)}function SH(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e=[]){let n;switch(t){case"Browser":n=lE(_r());break;case"Worker":n=`${lE(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}async function fD(t,e){return Ga(t,"GET","/v2/recaptchaConfig",za(t,e))}function uE(t){return t!==void 0&&t.enterprise!==void 0}class pD{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function mD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=es("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",CH().appendChild(r)})}function IH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kH="https://www.google.com/recaptcha/enterprise.js?render=",AH="recaptcha-enterprise",xH="NO_RECAPTCHA";class gD{constructor(e){this.type=AH,this.auth=qa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{fD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new pD(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;uE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(xH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&uE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}mD(kH+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ou(t,e,n,r=!1){const i=new gD(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new PH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ul.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ep(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Vt(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}async initializeRecaptchaConfig(){const e=await fD(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new pD(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new gD(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new No("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bs(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qa(t){return Vt(t)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=N$(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(t,e){const n=us(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qc(s,e??{}))return i;Ui(i,"already-initialized")}return n.initialize({options:e})}function OH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NH(t,e,n){const r=qa(t);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vD(e),{host:o,port:a}=MH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||LH()}function vD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MH(t){const e=vD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:dE(o)}}}function dE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,n){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function yD(t,e){return Ga(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t,e){return zd(t,"POST","/v1/accounts:signInWithPassword",za(t,e))}async function $H(t,e){return Ga(t,"POST","/v1/accounts:sendOobCode",za(t,e))}async function Lg(t,e){return $H(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UH(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",za(t,e))}async function FH(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends yb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ou(e,r,"signInWithPassword");return Mg(e,i)}else return Mg(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ou(e,r,"signInWithPassword");return Mg(e,s)}else return Promise.reject(i)});case"emailLink":return UH(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return yD(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return FH(e,{idToken:n,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e){return zd(t,"POST","/v1/accounts:signInWithIdp",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="http://localhost";class Da extends yb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=fb(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Da(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fl(e,n)}buildRequest(){const e={requestUri:VH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jH(t){const e=ec(tc(t)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(t)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||t}class wb{constructor(e){var n,r,i,s,o,a;const l=ec(tc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=BH((i=l.mode)!==null&&i!==void 0?i:null);Ze(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jH(e);try{return new wb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return pd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wb.parseLink(n);return Ze(r,"argument-error"),pd._fromEmailAndCode(e,r.code,r.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends wD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Gd{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Gd{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Gd{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(t,e){return zd(t,"POST","/v1/accounts:signUp",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await pa._fromIdTokenResponse(e,r,i),o=hE(r);return new Ra({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hE(r);return new Ra({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tp(e,n,r,i)}}function bD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(t,s,e,r):s})}async function HH(t,e,n=!1){const r=await su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await su(t,bD(r,i,e,t),n);Ze(s.idToken,r,"internal-error");const o=gb(s.idToken);Ze(o,r,"internal-error");const{sub:a}=o;return Ze(t.uid===a,r,"user-mismatch"),Ra._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ui(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e,n=!1){const r="signIn",i=await bD(t,r,e),s=await Ra._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function WH(t,e){return TD(qa(t),e)}async function fE(t,e){return _D(Vt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t,e,n){var r;Ze(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ze(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ze(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ze(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YH(t,e,n){var r;const i=qa(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await ou(i,s,"getOobCode",!0);n&&Ug(i,o,n),await Lg(i,o)}else n&&Ug(i,s,n),await Lg(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ou(i,s,"getOobCode",!0);n&&Ug(i,a,n),await Lg(i,a)}else return Promise.reject(o)})}async function KH(t,e,n){var r;const i=qa(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ou(i,s,"signUpPassword");o=$g(i,u)}else o=$g(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ou(i,s,"signUpPassword");return $g(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Ra._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function zH(t,e,n){return WH(Vt(t),Do.credential(e,n))}function GH(t,e){return ED(Vt(t),e,null)}function qH(t,e){return ED(Vt(t),null,e)}async function ED(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await su(t,yD(r,s));await t._updateTokensIfNecessary(o,!0)}function SD(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function QH(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function XH(t){return Vt(t).signOut()}async function JH(t){return Vt(t).delete()}const np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(){const t=_r();return vb(t)||Rm(t)}const e9=1e3,t9=10;class ID extends CD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ZH()&&SH(),this.fallbackToPolling=dD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);EH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,t9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ID.type="LOCAL";const n9=ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD extends CD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kD.type="SESSION";const AD=kD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await r9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=bb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function s9(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function o9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function l9(){return xD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firebaseLocalStorageDb",u9=1,rp="firebaseLocalStorage",DD="fbase_key";class qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(t,e){return t.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function c9(){const t=indexedDB.deleteDatabase(PD);return new qd(t).toPromise()}function Ly(){const t=indexedDB.open(PD,u9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rp,{keyPath:DD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rp)?e(r):(r.close(),await c9(),e(await Ly()))})})}async function pE(t,e,n){const r=Nm(t,!0).put({[DD]:e,value:n});return new qd(r).toPromise()}async function d9(t,e){const n=Nm(t,!1).get(e),r=await new qd(n).toPromise();return r===void 0?null:r.value}function mE(t,e){const n=Nm(t,!0).delete(e);return new qd(n).toPromise()}const h9=800,f9=3;class RD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>f9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(l9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await o9(),!this.activeServiceWorker)return;this.sender=new i9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ly();return await pE(e,np,"1"),await mE(e,np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Nm(i,!1).getAll();return new qd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RD.type="LOCAL";const p9=RD;new Kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t,e){return e?bs(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends yb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g9(t){return TD(t.auth,new _b(t),t.bypassAuthState)}function v9(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),_D(n,new _b(t),t.bypassAuthState)}async function y9(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),HH(n,new _b(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g9;case"linkViaPopup":case"linkViaRedirect":return y9;case"reauthViaPopup":case"reauthViaRedirect":return v9;default:Ui(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new Kd(2e3,1e4);class _l extends OD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_l.currentPopupAction&&_l.currentPopupAction.cancel(),_l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=bb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_l.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w9.get())};e()}}_l.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="pendingRedirect",uf=new Map;class _9 extends OD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uf.get(this.auth._key());if(!e){try{const r=await T9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uf.set(this.auth._key(),e)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T9(t,e){const n=C9(e),r=S9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function E9(t,e){uf.set(t._key(),e)}function S9(t){return bs(t._redirectPersistence)}function C9(t){return lf(b9,t.config.apiKey,t.name)}async function I9(t,e,n=!1){const r=qa(t),i=m9(r,e),o=await new _9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=10*60*1e3;class A9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ND(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k9&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ND({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ND(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(t,e={}){return Ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R9=/^https?/;async function O9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P9(t);for(const n of e)try{if(N9(n))return}catch{}Ui(t,"unauthorized-domain")}function N9(t){const e=My(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!R9.test(n))return!1;if(D9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new Kd(3e4,6e4);function vE(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L9(t){return new Promise((e,n)=>{var r,i,s;function o(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),n(es(t,"network-request-failed"))},timeout:M9.get()})}if(!((i=(r=ts().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ts().gapi)===null||s===void 0)&&s.load)o();else{const a=IH("iframefcb");return ts()[a]=()=>{gapi.load?o():n(es(t,"network-request-failed"))},mD(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cf=null,e})}let cf=null;function $9(t){return cf=cf||L9(t),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new Kd(5e3,15e3),F9="__/auth/iframe",V9="emulator/auth/iframe",B9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H9(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mb(e,V9):`https://${t.config.authDomain}/${F9}`,r={apiKey:e.apiKey,appName:t.name,v:Mo},i=j9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wu(r).slice(1)}`}async function W9(t){const e=await $9(t),n=ts().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:H9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=es(t,"network-request-failed"),a=ts().setTimeout(()=>{s(o)},U9.get());function l(){ts().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K9=500,z9=600,G9="_blank",q9="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q9(t,e,n,r=K9,i=z9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Y9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=_r().toLowerCase();n&&(a=oD(u)?G9:n),sD(u)&&(e=e||q9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(TH(u)&&a!=="_self")return X9(e||"",a),new yE(null);const d=window.open(e||"",a,c);Ze(d,t,"popup-blocked");try{d.focus()}catch{}return new yE(d)}function X9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="__/auth/handler",Z9="emulator/auth/handler",e8=encodeURIComponent("fac");async function wE(t,e,n,r,i,s){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:i};if(e instanceof wD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Gd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${e8}=${encodeURIComponent(l)}`:"";return`${t8(t)}?${wu(a).slice(1)}${u}`}function t8({config:t}){return t.emulator?mb(t,Z9):`https://${t.authDomain}/${J9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="webStorageSupport";class n8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AD,this._completeRedirectFn=I9,this._overrideRedirectResult=E9}async _openPopup(e,n,r,i){var s;Ms((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await wE(e,n,r,My(),i);return Q9(e,o,bb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await wE(e,n,r,My(),i);return s9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ms(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await W9(e),r=new A9(e);return n.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fg,{type:Fg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Fg];o!==void 0&&n(!!o),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dD()||vb()||Rm()}}const r8=n8;var bE="@firebase/auth",_E="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function o8(t){zr(new Or("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ze(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hD(t)},u=new DH(r,i,s,l);return OH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zr(new Or("auth-internal",e=>{const n=qa(e.getProvider("auth").getImmediate());return(r=>new i8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(bE,_E,s8(t)),rr(bE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=5*60,l8=ek("authIdTokenMaxAge")||a8;let TE=null;const u8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l8)return;const i=n==null?void 0:n.token;TE!==i&&(TE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MD(t=_u()){const e=us(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RH(t,{popupRedirectResolver:r8,persistence:[p9,n9,AD]}),r=ek("authTokenSyncURL");if(r){const s=u8(r);QH(n,s,()=>s(n.currentUser)),SD(n,o=>s(o))}const i=XI("auth");return i&&NH(n,`http://${i}`),n}o8("Browser");const LD=Symbol("firebaseApp");function $D(t){return ls()&&xr(LD,null)||_u(t)}const Nh=new WeakMap;function c8(t,e){if(!Nh.has(t)){const n=Ap(!0);Nh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Nh.delete(t)}}return Nh.get(t)}const d8=new WeakMap,Mh=new WeakMap;function h8(t){const e=$D(t);if(!Mh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Mh.set(e,s),n(s.value)}];Mh.set(e,i)}return Mh.get(e)}function f8(t,e){const n=MD(e);SD(n,r=>{const i=h8();t.value=r,Array.isArray(i)&&i[1](t)})}const EE="@firebase/database",SE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UD="";function p8(t){UD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Fs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new m8(e)}}catch{}return new g8},la=FD("localStorage"),$y=FD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new bu("@firebase/database"),v8=function(){let t=1;return function(){return t++}}(),VD=function(t){const e=U$(t),n=new O$;n.update(e);const r=n.digest();return Kp.encodeByteArray(r)},Qd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Qd.apply(null,r):typeof r=="object"?e+=Zn(r):e+=r,e+=" "}return e};let ma=null,CE=!0;const y8=function(t,e){xe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Vl.logLevel=xt.VERBOSE,ma=Vl.log.bind(Vl),e&&$y.set("logging_enabled",!0)):typeof t=="function"?ma=t:(ma=null,$y.remove("logging_enabled"))},cr=function(...t){if(CE===!0&&(CE=!1,ma===null&&$y.get("logging_enabled")===!0&&y8(!0)),ma){const e=Qd.apply(null,t);ma(e)}},Xd=function(t){return function(...e){cr(t,...e)}},Uy=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qd(...t);Vl.error(e)},Oa=function(...t){const e=`FIREBASE FATAL ERROR: ${Qd(...t)}`;throw Vl.error(e),new Error(e)},ii=function(...t){const e="FIREBASE WARNING: "+Qd(...t);Vl.warn(e)},w8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},BD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},b8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},au="[MIN_NAME]",Na="[MAX_NAME]",xu=function(t,e){if(t===e)return 0;if(t===au||e===Na)return-1;if(e===au||t===Na)return 1;{const n=IE(t),r=IE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_8=function(t,e){return t===e?0:t<e?-1:1},Vu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zn(e))},Tb=function(t){if(typeof t!="object"||t===null)return Zn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zn(e[r]),n+=":",n+=Tb(t[e[r]]);return n+="}",n},jD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const HD=function(t){xe(!BD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},T8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},E8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},S8=new RegExp("^-?(0*)\\d{1,10}$"),C8=-2147483648,I8=2147483647,IE=function(t){if(S8.test(t)){const e=Number(t);if(e>=C8&&e<=I8)return e}return null},Jd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ii("Exception was thrown by user callback.",n),e},Math.floor(0))}},k8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(cr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ii(e)}}class Fy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="5",WD="v",YD="s",KD="r",zD="f",GD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qD="ls",QD="p",Vy="ac",XD="websocket",JD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=la.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&la.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function D8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ZD(t,e,n){xe(typeof e=="string","typeof type must == string"),xe(typeof n=="object","typeof params must == object");let r;if(e===XD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===JD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);D8(t)&&(n.ns=t.namespace);const i=[];return vi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.counters_={}}incrementCounter(e,n=1){Fs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return b$(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg={},Bg={};function Sb(t){const e=t.toString();return Vg[e]||(Vg[e]=new R8),Vg[e]}function O8(t,e){const n=t.toString();return Bg[n]||(Bg[n]=e()),Bg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="start",M8="close",L8="pLPCommand",$8="pRTLPCB",eR="id",tR="pw",nR="ser",U8="cb",F8="seg",V8="ts",B8="d",j8="dframe",rR=1870,iR=30,H8=rR-iR,W8=25e3,Y8=3e4;class Tl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xd(e),this.stats_=Sb(n),this.urlFn=l=>(this.appCheckToken&&(l[Vy]=this.appCheckToken),ZD(n,JD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new N8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Y8)),b8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cb((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===kE)this.id=a,this.password=l;else if(o===M8)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[kE]="t",r[nR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[U8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[WD]=Eb,this.transportSessionId&&(r[YD]=this.transportSessionId),this.lastSessionId&&(r[qD]=this.lastSessionId),this.applicationId&&(r[QD]=this.applicationId),this.appCheckToken&&(r[Vy]=this.appCheckToken),typeof location<"u"&&location.hostname&&GD.test(location.hostname)&&(r[KD]=zD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tl.forceAllow_=!0}static forceDisallow(){Tl.forceDisallow_=!0}static isAvailable(){return Tl.forceAllow_?!0:!Tl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!T8()&&!E8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=GI(n),i=jD(r,H8);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[j8]="t",r[eR]=e,r[tR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cb{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=v8(),window[L8+this.uniqueCallbackIdentifier]=e,window[$8+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cb.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){cr("frame writing exception"),a.stack&&cr(a.stack),cr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||cr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[eR]=this.myID,e[tR]=this.myPW,e[nR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+iR+r.length<=rR;){const o=this.pendingSegs.shift();r=r+"&"+F8+i+"="+o.seg+"&"+V8+i+"="+o.ts+"&"+B8+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(W8)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{cr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=16384,z8=45e3;let ip=null;typeof MozWebSocket<"u"?ip=MozWebSocket:typeof WebSocket<"u"&&(ip=WebSocket);class ki{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xd(this.connId),this.stats_=Sb(n),this.connURL=ki.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[WD]=Eb,typeof location<"u"&&location.hostname&&GD.test(location.hostname)&&(o[KD]=zD),n&&(o[YD]=n),r&&(o[qD]=r),i&&(o[Vy]=i),s&&(o[QD]=s),ZD(e,XD,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,la.set("previous_websocket_failure",!0);try{let r;ik(),this.mySock=new ip(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ki.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ip!==null&&!ki.forceDisallow_}static previouslyFailed(){return la.isInMemoryStorage||la.get("previous_websocket_failure")===!0}markConnectionHealthy(){la.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=qc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(xe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=jD(n,K8);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(z8))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ki.responsesRequiredToBeHealthy=2;ki.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Tl,ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ki&&ki.isAvailable();let r=n&&!ki.previouslyFailed();if(e.webSocketOnly&&(n||ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ki];else{const i=this.transports_=[];for(const s of md.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);md.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}md.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=6e4,q8=5e3,Q8=10*1024,X8=100*1024,jg="t",AE="d",J8="s",xE="r",Z8="e",PE="o",DE="a",RE="n",OE="p",eW="h";class tW{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xd("c:"+this.id+":"),this.transportManager_=new md(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=xc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>X8?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Q8?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jg in e){const n=e[jg];n===DE?this.upgradeIfSecondaryHealthy_():n===xE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===PE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vu("t",e),r=Vu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:OE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:RE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vu("t",e),r=Vu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vu(jg,e);if(AE in e){const r=e[AE];if(n===eW){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===RE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===J8?this.onConnectionShutdown_(r):n===xE?this.onReset_(r):n===Z8?Uy("Server Error: "+r):n===PE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Uy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Eb!==r&&ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),xc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(G8))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(q8))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:OE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(la.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.allowedEvents_=e,this.listeners_={},xe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){xe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends oR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!z0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new sp}getInitialEvent(e){return xe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=32,ME=768;class on{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function zt(){return new on("")}function St(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ro(t){return t.pieces_.length-t.pieceNum_}function en(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new on(t.pieces_,e)}function aR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function lR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function uR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new on(e,0)}function Wn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof on)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new on(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function fi(t,e){const n=St(t),r=St(e);if(n===null)return e;if(n===r)return fi(en(t),en(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function cR(t,e){if(Ro(t)!==Ro(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function xi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ro(t)>Ro(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class rW{constructor(e,n){this.errorPrefix_=n,this.parts_=lR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qp(this.parts_[r]);dR(this)}}function iW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qp(e),dR(t)}function sW(t){const e=t.parts_.pop();t.byteLength_-=qp(e),t.parts_.length>0&&(t.byteLength_-=1)}function dR(t){if(t.byteLength_>ME)throw new Error(t.errorPrefix_+"has a key path longer than "+ME+" bytes ("+t.byteLength_+").");if(t.parts_.length>NE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+NE+") or object contains a cycle "+qo(t))}function qo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends oR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ib}getInitialEvent(e){return xe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=1e3,oW=60*5*1e3,LE=30*1e3,aW=1.3,lW=3e4,uW="server_kill",$E=3;class As extends sR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=As.nextPersistentConnectionId_++,this.log_=Xd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bu,this.maxReconnectDelay_=oW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ik())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ib.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Zn(s)),xe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ea,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),xe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),xe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;As.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Fs(e,"w")){const r=Xl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||R$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=LE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=D$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),xe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Uy("Unrecognized action received from server: "+Zn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){xe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lW&&(this.reconnectDelay_=Bu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+As.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){xe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?cr("getToken() completed but was canceled"):(cr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new tW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{ii(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(uW)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ii(d),l())}}}interrupt(e){cr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){cr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vv(this.interruptReasons_)&&(this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Tb(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new on(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){cr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$E&&(this.reconnectDelay_=LE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){cr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$E&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+UD.replace(/\./g,"-")]=1,z0()?e["framework.cordova"]=1:rk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sp.getInstance().currentlyOnline();return Vv(this.interruptReasons_)&&e}}As.nextPersistentConnectionId_=0;As.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ct(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ct(au,e),i=new Ct(au,n);return this.compare(r,i)!==0}minPost(){return Ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh;class hR extends Mm{static get __EMPTY_NODE(){return Lh}static set __EMPTY_NODE(e){Lh=e}compare(e,n){return xu(e.name,n.name)}isDefinedOn(e){throw yu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ct.MIN}maxPost(){return new Ct(Na,Lh)}makePost(e,n){return xe(typeof e=="string","KeyIndex indexValue must always be a string."),new Ct(e,Lh)}toString(){return".key"}}const Bl=new hR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??Hr.EMPTY_NODE,this.right=s??Hr.EMPTY_NODE}copy(e,n,r,i,s){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Hr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jn.RED=!0;jn.BLACK=!1;class cW{copy(e,n,r,i,s){return this}insert(e,n,r){return new jn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Hr{constructor(e,n=Hr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Hr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jn.BLACK,null,null))}remove(e){return new Hr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $h(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $h(this.root_,null,this.comparator_,!0,e)}}Hr.EMPTY_NODE=new cW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t,e){return xu(t.name,e.name)}function kb(t,e){return xu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let By;function hW(t){By=t}const fR=function(t){return typeof t=="number"?"number:"+HD(t):"string:"+t},pR=function(t){if(t.isLeafNode()){const e=t.val();xe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Fs(e,".sv"),"Priority must be a string or number.")}else xe(t===By||t.isEmpty(),"priority of unexpected type.");xe(t===By||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE;class Vn{constructor(e,n=Vn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,xe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pR(this.priorityNode_)}static set __childrenNodeConstructor(e){UE=e}static get __childrenNodeConstructor(){return UE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Vn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Vn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wt(e)?this:St(e)===".priority"?this.priorityNode_:Vn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Vn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=St(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(xe(r!==".priority"||Ro(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Vn.__childrenNodeConstructor.EMPTY_NODE.updateChild(en(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=HD(this.value_):e+=this.value_,this.lazyHash_=VD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Vn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Vn.__childrenNodeConstructor?-1:(xe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Vn.VALUE_TYPE_ORDER.indexOf(n),s=Vn.VALUE_TYPE_ORDER.indexOf(r);return xe(i>=0,"Unknown leaf type: "+n),xe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Vn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mR,gR;function fW(t){mR=t}function pW(t){gR=t}class mW extends Mm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?xu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ct.MIN}maxPost(){return new Ct(Na,new Vn("[PRIORITY-POST]",gR))}makePost(e,n){const r=mR(e);return new Ct(n,new Vn("[PRIORITY-POST]",r))}toString(){return".priority"}}const mr=new mW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=Math.log(2);class vW{constructor(e){const n=s=>parseInt(Math.log(s)/gW,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const op=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new jn(h,d.node,jn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new jn(h,d.node,jn.BLACK,p,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const y=d-p,_=d;d-=p;const v=i(y+1,_),b=t[y],m=n?n(b):b;f(new jn(m,b.node,g,null,v))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?h(y,jn.BLACK):(h(y,jn.BLACK),h(y,jn.RED))}return c},o=new vW(t.length),a=s(o);return new Hr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg;const rl={};class _s{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return xe(rl&&mr,"ChildrenNode.ts has not been loaded"),Hg=Hg||new _s({".priority":rl},{".priority":mr}),Hg}get(e){const n=Xl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Hr?n:null}hasIndex(e){return Fs(this.indexSet_,e.toString())}addIndex(e,n){xe(e!==Bl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ct.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=op(r,e.getCompare()):a=rl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new _s(c,u)}addToIndexes(e,n){const r=Rf(this.indexes_,(i,s)=>{const o=Xl(this.indexSet_,s);if(xe(o,"Missing index implementation for "+s),i===rl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ct.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),op(a,o.getCompare())}else return rl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ct(e.name,a))),l.insert(e,e.node)}});return new _s(r,this.indexSet_)}removeFromIndexes(e,n){const r=Rf(this.indexes_,i=>{if(i===rl)return i;{const s=n.get(e.name);return s?i.remove(new Ct(e.name,s)):i}});return new _s(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;class Ft{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pR(this.priorityNode_),this.children_.isEmpty()&&xe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ju||(ju=new Ft(new Hr(kb),null,_s.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ju}updatePriority(e){return this.children_.isEmpty()?this:new Ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ju:n}}getChild(e){const n=St(e);return n===null?this:this.getImmediateChild(n).getChild(en(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(xe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ct(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ju:this.priorityNode_;return new Ft(i,o,s)}}updateChild(e,n){const r=St(e);if(r===null)return n;{xe(St(e)!==".priority"||Ro(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(en(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(mr,(o,a)=>{n[o]=a.val(e),r++,s&&Ft.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+fR(this.getPriority().val())+":"),this.forEachChild(mr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":VD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ct(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ct(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ct(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ct.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ct.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zd?-1:0}withIndex(e){if(e===Bl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ft(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Bl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(mr),i=n.getIterator(mr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Bl?null:this.indexMap_.get(e.toString())}}Ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yW extends Ft{constructor(){super(new Hr(kb),Ft.EMPTY_NODE,_s.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ft.EMPTY_NODE}isEmpty(){return!1}}const Zd=new yW;Object.defineProperties(Ct,{MIN:{value:new Ct(au,Ft.EMPTY_NODE)},MAX:{value:new Ct(Na,Zd)}});hR.__EMPTY_NODE=Ft.EMPTY_NODE;Vn.__childrenNodeConstructor=Ft;hW(Zd);pW(Zd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=!0;function dr(t,e=null){if(t===null)return Ft.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),xe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Vn(n,dr(e))}if(!(t instanceof Array)&&wW){const n=[];let r=!1;if(vi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=dr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ct(o,l)))}}),n.length===0)return Ft.EMPTY_NODE;const s=op(n,dW,o=>o.name,kb);if(r){const o=op(n,mr.getCompare());return new Ft(s,dr(e),new _s({".priority":o},{".priority":mr}))}else return new Ft(s,dr(e),_s.Default)}else{let n=Ft.EMPTY_NODE;return vi(t,(r,i)=>{if(Fs(t,r)&&r.substring(0,1)!=="."){const s=dr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(dr(e))}}fW(dr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW extends Mm{constructor(e){super(),this.indexPath_=e,xe(!wt(e)&&St(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?xu(e.name,n.name):s}makePost(e,n){const r=dr(e),i=Ft.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ct(n,i)}maxPost(){const e=Ft.EMPTY_NODE.updateChild(this.indexPath_,Zd);return new Ct(Na,e)}toString(){return lR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W extends Mm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?xu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ct.MIN}maxPost(){return Ct.MAX}makePost(e,n){const r=dr(e);return new Ct(n,r)}toString(){return".value"}}const TW=new _W;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(t){return{type:"value",snapshotNode:t}}function SW(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function CW(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function FE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function IW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return xe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return xe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:au}hasEnd(){return this.endSet_}getIndexEndValue(){return xe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return xe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Na}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return xe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new Ab;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mr?n="$priority":t.index_===TW?n="$value":t.index_===Bl?n="$key":(xe(t.index_ instanceof bW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function BE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends sR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Xd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(xe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ap.getListenId_(e,r),a={};this.listens_[o]=a;const l=VE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Xl(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=ap.getListenId_(e,n);delete this.listens_[r]}get(e){const n=VE(e._queryParams),r=e._path.toString(),i=new Ea;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=qc(a.responseText)}catch{ii("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ii("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){return{value:null,children:new Map}}function vR(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=St(e);t.children.has(r)||t.children.set(r,lp());const i=t.children.get(r);e=en(e),vR(i,e,n)}}function jy(t,e,n){t.value!==null?n(e,t.value):AW(t,(r,i)=>{const s=new on(e.toString()+"/"+r);jy(i,s,n)})}function AW(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=10*1e3,PW=30*1e3,DW=5*60*1e3;class RW{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xW(e);const r=jE+(PW-jE)*Math.random();xc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vi(e,(i,s)=>{s>0&&Fs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),xc(this.reportStats_.bind(this),Math.floor(Math.random()*2*DW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function yR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bR(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source=yR()}operationForChild(e){if(wt(this.path)){if(this.affectedTree.value!=null)return xe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new on(e));return new up(zt(),n,this.revert)}}else return xe(St(this.path)===e,"operationForChild called for unrelated child."),new up(en(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qi.OVERWRITE}operationForChild(e){return wt(this.path)?new Ma(this.source,zt(),this.snap.getImmediateChild(e)):new Ma(this.source,en(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qi.MERGE}operationForChild(e){if(wt(this.path)){const n=this.children.subtree(new on(e));return n.isEmpty()?null:n.value?new Ma(this.source,zt(),n.value):new gd(this.source,zt(),n)}else return xe(St(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gd(this.source,en(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wt(e))return this.isFullyInitialized()&&!this.filtered_;const n=St(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function OW(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(IW(o.childName,o.snapshotNode))}),Hu(t,i,"child_removed",e,r,n),Hu(t,i,"child_added",e,r,n),Hu(t,i,"child_moved",s,r,n),Hu(t,i,"child_changed",e,r,n),Hu(t,i,"value",e,r,n),i}function Hu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>MW(t,a,l)),o.forEach(a=>{const l=NW(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function NW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function MW(t,e,n){if(e.childName==null||n.childName==null)throw yu("Should only compare child_ events.");const r=new Ct(e.childName,e.snapshotNode),i=new Ct(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e){return{eventCache:t,serverCache:e}}function Pc(t,e,n,r){return _R(new xb(e,n,r),t.serverCache)}function TR(t,e,n,r){return _R(t.eventCache,new xb(e,n,r))}function Hy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function La(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg;const LW=()=>(Wg||(Wg=new Hr(_8)),Wg);class Zt{constructor(e,n=LW()){this.value=e,this.children=n}static fromObject(e){let n=new Zt(null);return vi(e,(r,i)=>{n=n.set(new on(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:zt(),value:this.value};if(wt(e))return null;{const r=St(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(en(e),n);return s!=null?{path:Wn(new on(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(wt(e))return this;{const n=St(e),r=this.children.get(n);return r!==null?r.subtree(en(e)):new Zt(null)}}set(e,n){if(wt(e))return new Zt(n,this.children);{const r=St(e),s=(this.children.get(r)||new Zt(null)).set(en(e),n),o=this.children.insert(r,s);return new Zt(this.value,o)}}remove(e){if(wt(e))return this.children.isEmpty()?new Zt(null):new Zt(null,this.children);{const n=St(e),r=this.children.get(n);if(r){const i=r.remove(en(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Zt(null):new Zt(this.value,s)}else return this}}get(e){if(wt(e))return this.value;{const n=St(e),r=this.children.get(n);return r?r.get(en(e)):null}}setTree(e,n){if(wt(e))return n;{const r=St(e),s=(this.children.get(r)||new Zt(null)).setTree(en(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Zt(this.value,o)}}fold(e){return this.fold_(zt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Wn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,zt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(wt(e))return null;{const s=St(e),o=this.children.get(s);return o?o.findOnPath_(en(e),Wn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,zt(),n)}foreachOnPath_(e,n,r){if(wt(e))return this;{this.value&&r(n,this.value);const i=St(e),s=this.children.get(i);return s?s.foreachOnPath_(en(e),Wn(n,i),r):new Zt(null)}}foreach(e){this.foreach_(zt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Wn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.writeTree_=e}static empty(){return new Ri(new Zt(null))}}function Dc(t,e,n){if(wt(e))return new Ri(new Zt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=fi(i,e);return s=s.updateChild(o,n),new Ri(t.writeTree_.set(i,s))}else{const i=new Zt(n),s=t.writeTree_.setTree(e,i);return new Ri(s)}}}function HE(t,e,n){let r=t;return vi(n,(i,s)=>{r=Dc(r,Wn(e,i),s)}),r}function WE(t,e){if(wt(e))return Ri.empty();{const n=t.writeTree_.setTree(e,new Zt(null));return new Ri(n)}}function Wy(t,e){return Qa(t,e)!=null}function Qa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fi(n.path,e)):null}function YE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mr,(r,i)=>{e.push(new Ct(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ct(r,i.value))}),e}function yo(t,e){if(wt(e))return t;{const n=Qa(t,e);return n!=null?new Ri(new Zt(n)):new Ri(t.writeTree_.subtree(e))}}function Yy(t){return t.writeTree_.isEmpty()}function lu(t,e){return ER(zt(),t.writeTree_,e)}function ER(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(xe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ER(Wn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Wn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){return xR(e,t)}function $W(t,e,n,r,i){xe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Dc(t.visibleWrites,e,n)),t.lastWriteId=r}function UW(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function FW(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);xe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&VW(a,r.path)?i=!1:xi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return BW(t),!0;if(r.snap)t.visibleWrites=WE(t.visibleWrites,r.path);else{const a=r.children;vi(a,l=>{t.visibleWrites=WE(t.visibleWrites,Wn(r.path,l))})}return!0}else return!1}function VW(t,e){if(t.snap)return xi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&xi(Wn(t.path,n),e))return!0;return!1}function BW(t){t.visibleWrites=CR(t.allWrites,jW,zt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jW(t){return t.visible}function CR(t,e,n){let r=Ri.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)xi(n,o)?(a=fi(n,o),r=Dc(r,a,s.snap)):xi(o,n)&&(a=fi(o,n),r=Dc(r,zt(),s.snap.getChild(a)));else if(s.children){if(xi(n,o))a=fi(n,o),r=HE(r,a,s.children);else if(xi(o,n))if(a=fi(o,n),wt(a))r=HE(r,zt(),s.children);else{const l=Xl(s.children,St(a));if(l){const u=l.getChild(en(a));r=Dc(r,zt(),u)}}}else throw yu("WriteRecord should have .snap or .children")}}return r}function IR(t,e,n,r,i){if(!r&&!i){const s=Qa(t.visibleWrites,e);if(s!=null)return s;{const o=yo(t.visibleWrites,e);if(Yy(o))return n;if(n==null&&!Wy(o,zt()))return null;{const a=n||Ft.EMPTY_NODE;return lu(o,a)}}}else{const s=yo(t.visibleWrites,e);if(!i&&Yy(s))return n;if(!i&&n==null&&!Wy(s,zt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(xi(u.path,e)||xi(e,u.path))},a=CR(t.allWrites,o,e),l=n||Ft.EMPTY_NODE;return lu(a,l)}}}function HW(t,e,n){let r=Ft.EMPTY_NODE;const i=Qa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(mr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=yo(t.visibleWrites,e);return n.forEachChild(mr,(o,a)=>{const l=lu(yo(s,new on(o)),a);r=r.updateImmediateChild(o,l)}),YE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=yo(t.visibleWrites,e);return YE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function WW(t,e,n,r,i){xe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Wn(e,n);if(Wy(t.visibleWrites,s))return null;{const o=yo(t.visibleWrites,s);return Yy(o)?i.getChild(n):lu(o,i.getChild(n))}}function YW(t,e,n,r){const i=Wn(e,n),s=Qa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=yo(t.visibleWrites,i);return lu(o,r.getNode().getImmediateChild(n))}else return null}function KW(t,e){return Qa(t.visibleWrites,e)}function zW(t,e,n,r,i,s,o){let a;const l=yo(t.visibleWrites,e),u=Qa(l,zt());if(u!=null)a=u;else if(n!=null)a=lu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function GW(){return{visibleWrites:Ri.empty(),allWrites:[],lastWriteId:-1}}function Ky(t,e,n,r){return IR(t.writeTree,t.treePath,e,n,r)}function kR(t,e){return HW(t.writeTree,t.treePath,e)}function KE(t,e,n,r){return WW(t.writeTree,t.treePath,e,n,r)}function cp(t,e){return KW(t.writeTree,Wn(t.treePath,e))}function qW(t,e,n,r,i,s){return zW(t.writeTree,t.treePath,e,n,r,i,s)}function Pb(t,e,n){return YW(t.writeTree,t.treePath,e,n)}function AR(t,e){return xR(Wn(t.treePath,e),t.writeTree)}function xR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;xe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),xe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,FE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,CW(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,SW(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,FE(r,e.snapshotNode,i.oldSnap));else throw yu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const PR=new XW;class Db{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new xb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:La(this.viewCache_),s=qW(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function JW(t,e){xe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),xe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ZW(t,e,n,r,i){const s=new QW;let o,a;if(n.type===qi.OVERWRITE){const u=n;u.source.fromUser?o=zy(t,e,u.path,u.snap,r,i,s):(xe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!wt(u.path),o=dp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===qi.MERGE){const u=n;u.source.fromUser?o=t7(t,e,u.path,u.children,r,i,s):(xe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Gy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===qi.ACK_USER_WRITE){const u=n;u.revert?o=i7(t,e,u.path,r,i,s):o=n7(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===qi.LISTEN_COMPLETE)o=r7(t,e,n.path,r,s);else throw yu("Unknown operation type: "+n.type);const l=s.getChanges();return e7(e,o,l),{viewCache:o,changes:l}}function e7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Hy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(EW(Hy(e)))}}function DR(t,e,n,r,i,s){const o=e.eventCache;if(cp(r,n)!=null)return e;{let a,l;if(wt(n))if(xe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=La(e),c=u instanceof Ft?u:Ft.EMPTY_NODE,d=kR(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Ky(r,La(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=St(n);if(u===".priority"){xe(Ro(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=KE(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=en(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=KE(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Pb(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Pc(e,a,o.isFullyInitialized()||wt(n),t.filter.filtersNodes())}}function dp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(wt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=St(n);if(!l.isCompleteForPath(n)&&Ro(n)>1)return e;const p=en(n),y=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),f,y,p,PR,null)}const d=TR(e,u,l.isFullyInitialized()||wt(n),c.filtersNodes()),h=new Db(i,d,s);return DR(t,d,n,i,h,a)}function zy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Db(i,e,s);if(wt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Pc(e,u,!0,t.filter.filtersNodes());else{const d=St(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Pc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=en(n),f=a.getNode().getImmediateChild(d);let p;if(wt(h))p=r;else{const g=c.getCompleteChild(d);g!=null?aR(h)===".priority"&&g.getChild(uR(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=Ft.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Pc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function zE(t,e){return t.eventCache.isCompleteForChild(e)}function t7(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Wn(n,l);zE(e,St(c))&&(a=zy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Wn(n,l);zE(e,St(c))||(a=zy(t,a,c,u,i,s,o))}),a}function GE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Gy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;wt(n)?u=r:u=new Zt(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=GE(t,f,h);l=dp(t,l,new on(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=GE(t,p,h);l=dp(t,l,new on(d),g,i,s,o,a)}}),l}function n7(t,e,n,r,i,s,o){if(cp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(wt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return dp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(wt(n)){let u=new Zt(null);return l.getNode().forEachChild(Bl,(c,d)=>{u=u.set(new on(c),d)}),Gy(t,e,n,u,i,s,a,o)}else return e}else{let u=new Zt(null);return r.foreach((c,d)=>{const h=Wn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Gy(t,e,n,u,i,s,a,o)}}function r7(t,e,n,r,i){const s=e.serverCache,o=TR(e,s.getNode(),s.isFullyInitialized()||wt(n),s.isFiltered());return DR(t,o,n,r,PR,i)}function i7(t,e,n,r,i,s){let o;if(cp(r,n)!=null)return e;{const a=new Db(r,e,i),l=e.eventCache.getNode();let u;if(wt(n)||St(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Ky(r,La(e));else{const d=e.serverCache.getNode();xe(d instanceof Ft,"serverChildren would be complete if leaf node"),c=kR(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=St(n);let d=Pb(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,en(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ft.EMPTY_NODE,en(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ky(r,La(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||cp(r,zt())!=null,Pc(e,u,o,t.filter.filtersNodes())}}function s7(t,e){const n=La(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(St(e)).isEmpty())?n.getChild(e):null}function qE(t,e,n,r){e.type===qi.MERGE&&e.source.queryId!==null&&(xe(La(t.viewCache_),"We should always have a full cache before handling merges"),xe(Hy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ZW(t.processor_,i,e,n,r);return JW(t.processor_,s.viewCache),xe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,o7(t,s.changes,s.viewCache.eventCache.getNode(),null)}function o7(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return OW(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QE;function a7(t){xe(!QE,"__referenceConstructor has already been defined"),QE=t}function Rb(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return xe(s!=null,"SyncTree gave us an op for an invalid query."),qE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(qE(o,e,n,r));return s}}function Ob(t,e){let n=null;for(const r of t.views.values())n=n||s7(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE;function l7(t){xe(!XE,"__referenceConstructor has already been defined"),XE=t}class JE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Zt(null),this.pendingWriteTree_=GW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function u7(t,e,n,r,i){return $W(t.pendingWriteTree_,e,n,r,i),i?$m(t,new Ma(yR(),e,n)):[]}function El(t,e,n=!1){const r=UW(t.pendingWriteTree_,e);if(FW(t.pendingWriteTree_,e)){let s=new Zt(null);return r.snap!=null?s=s.set(zt(),!0):vi(r.children,o=>{s=s.set(new on(o),!0)}),$m(t,new up(r.path,s,n))}else return[]}function Lm(t,e,n){return $m(t,new Ma(wR(),e,n))}function c7(t,e,n){const r=Zt.fromObject(n);return $m(t,new gd(wR(),e,r))}function d7(t,e,n,r){const i=MR(t,r);if(i!=null){const s=LR(i),o=s.path,a=s.queryId,l=fi(o,e),u=new Ma(bR(a),l,n);return $R(t,o,u)}else return[]}function h7(t,e,n,r){const i=MR(t,r);if(i){const s=LR(i),o=s.path,a=s.queryId,l=fi(o,e),u=Zt.fromObject(n),c=new gd(bR(a),l,u);return $R(t,o,c)}else return[]}function RR(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=fi(o,e),u=Ob(a,l);if(u)return u});return IR(i,e,s,n,!0)}function $m(t,e){return OR(e,t.syncPointTree_,null,SR(t.pendingWriteTree_,zt()))}function OR(t,e,n,r){if(wt(t.path))return NR(t,e,n,r);{const i=e.get(zt());n==null&&i!=null&&(n=Ob(i,zt()));let s=[];const o=St(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=AR(r,o);s=s.concat(OR(a,l,u,c))}return i&&(s=s.concat(Rb(i,t,r,n))),s}}function NR(t,e,n,r){const i=e.get(zt());n==null&&i!=null&&(n=Ob(i,zt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=AR(r,o),c=t.operationForChild(o);c&&(s=s.concat(NR(c,a,l,u)))}),i&&(s=s.concat(Rb(i,t,r,n))),s}function MR(t,e){return t.tagToQueryMap.get(e)}function LR(t){const e=t.indexOf("$");return xe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new on(t.substr(0,e))}}function $R(t,e,n){const r=t.syncPointTree_.get(e);xe(r,"Missing sync point for query tag that we're tracking");const i=SR(t.pendingWriteTree_,e);return Rb(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Nb(n)}node(){return this.node_}}class Mb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Wn(this.path_,e);return new Mb(this.syncTree_,n)}node(){return RR(this.syncTree_,this.path_)}}const f7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ZE=function(t,e,n){if(!t||typeof t!="object")return t;if(xe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return p7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return m7(t[".sv"],e);xe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},p7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:xe(!1,"Unexpected server value: "+t)}},m7=function(t,e,n){t.hasOwnProperty("increment")||xe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&xe(!1,"Unexpected increment value: "+r);const i=e.node();if(xe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},g7=function(t,e,n,r){return Lb(e,new Mb(n,t),r)},v7=function(t,e,n){return Lb(t,new Nb(e),n)};function Lb(t,e,n){const r=t.getPriority().val(),i=ZE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=ZE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Vn(a,dr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Vn(i))),o.forEachChild(mr,(a,l)=>{const u=Lb(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ub(t,e){let n=e instanceof on?e:new on(e),r=t,i=St(n);for(;i!==null;){const s=Xl(r.node.children,i)||{children:{},childCount:0};r=new $b(i,r,s),n=en(n),i=St(n)}return r}function Pu(t){return t.node.value}function UR(t,e){t.node.value=e,qy(t)}function FR(t){return t.node.childCount>0}function y7(t){return Pu(t)===void 0&&!FR(t)}function Um(t,e){vi(t.node.children,(n,r)=>{e(new $b(n,t,r))})}function VR(t,e,n,r){n&&!r&&e(t),Um(t,i=>{VR(i,e,!0,r)}),n&&r&&e(t)}function w7(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function eh(t){return new on(t.parent===null?t.name:eh(t.parent)+"/"+t.name)}function qy(t){t.parent!==null&&b7(t.parent,t.name,t)}function b7(t,e,n){const r=y7(n),i=Fs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qy(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=/[\[\].#$\/\u0000-\u001F\u007F]/,T7=/[\[\].#$\u0000-\u001F\u007F]/,Yg=10*1024*1024,BR=function(t){return typeof t=="string"&&t.length!==0&&!_7.test(t)},E7=function(t){return typeof t=="string"&&t.length!==0&&!T7.test(t)},S7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),E7(t)},jR=function(t,e,n){const r=n instanceof on?new rW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qo(r));if(typeof e=="function")throw new Error(t+"contains a function "+qo(r)+" with contents = "+e.toString());if(BD(e))throw new Error(t+"contains "+e.toString()+" "+qo(r));if(typeof e=="string"&&e.length>Yg/3&&qp(e)>Yg)throw new Error(t+"contains a string greater than "+Yg+" utf8 bytes "+qo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(vi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!BR(o)))throw new Error(t+" contains an invalid key ("+o+") "+qo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iW(r,o),jR(t,a,r),sW(r)}),i&&s)throw new Error(t+' contains ".value" child '+qo(r)+" in addition to actual children.")}},C7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!BR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!S7(n))throw new Error($$(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function k7(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!cR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Xa(t,e,n){k7(t,n),A7(t,r=>xi(r,e)||xi(e,r))}function A7(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(x7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function x7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ma&&cr("event: "+n.toString()),Jd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="repo_interrupt",D7=25;class R7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new I7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lp(),this.transactionQueueTree_=new $b,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function O7(t,e,n){if(t.stats_=Sb(t.repoInfo_),t.forceRestClient_||k8())t.server_=new ap(t.repoInfo_,(r,i,s,o)=>{eS(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new As(t.repoInfo_,e,(r,i,s,o)=>{eS(t,r,i,s,o)},r=>{tS(t,r)},r=>{M7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=O8(t.repoInfo_,()=>new RW(t.stats_,t.server_)),t.infoData_=new kW,t.infoSyncTree_=new JE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Lm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Fb(t,"connected",!1),t.serverSyncTree_=new JE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Xa(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function N7(t){const n=t.infoData_.getNode(new on(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function HR(t){return f7({timestamp:N7(t)})}function eS(t,e,n,r,i){t.dataUpdateCount++;const s=new on(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Rf(n,u=>dr(u));o=h7(t.serverSyncTree_,s,l,i)}else{const l=dr(n);o=d7(t.serverSyncTree_,s,l,i)}else if(r){const l=Rf(n,u=>dr(u));o=c7(t.serverSyncTree_,s,l)}else{const l=dr(n);o=Lm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Bb(t,s)),Xa(t.eventQueue_,a,o)}function tS(t,e){Fb(t,"connected",e),e===!1&&$7(t)}function M7(t,e){vi(e,(n,r)=>{Fb(t,n,r)})}function Fb(t,e,n){const r=new on("/.info/"+e),i=dr(n);t.infoData_.updateSnapshot(r,i);const s=Lm(t.infoSyncTree_,r,i);Xa(t.eventQueue_,r,s)}function L7(t){return t.nextWriteId_++}function $7(t){WR(t,"onDisconnectEvents");const e=HR(t),n=lp();jy(t.onDisconnect_,zt(),(i,s)=>{const o=g7(i,s,t.serverSyncTree_,e);vR(n,i,o)});let r=[];jy(n,zt(),(i,s)=>{r=r.concat(Lm(t.serverSyncTree_,i,s));const o=B7(t,i);Bb(t,o)}),t.onDisconnect_=lp(),Xa(t.eventQueue_,zt(),r)}function U7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(P7)}function WR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),cr(n,...e)}function YR(t,e,n){return RR(t.serverSyncTree_,e,n)||Ft.EMPTY_NODE}function Vb(t,e=t.transactionQueueTree_){if(e||Fm(t,e),Pu(e)){const n=zR(t,e);xe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&F7(t,eh(e),n)}else FR(e)&&Um(e,n=>{Vb(t,n)})}function F7(t,e,n){const r=n.map(u=>u.currentWriteId),i=YR(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];xe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=fi(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{WR(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(El(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Fm(t,Ub(t.transactionQueueTree_,e)),Vb(t,t.transactionQueueTree_),Xa(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Jd(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ii("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Bb(t,e)}},o)}function Bb(t,e){const n=KR(t,e),r=eh(n),i=zR(t,n);return V7(t,i,r),r}function V7(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=fi(n,l.path);let c=!1,d;if(xe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(El(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=D7)c=!0,d="maxretry",i=i.concat(El(t.serverSyncTree_,l.currentWriteId,!0));else{const h=YR(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){jR("transaction failed: Data returned ",f,l.path);let p=dr(f);typeof f=="object"&&f!=null&&Fs(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,_=HR(t),v=v7(p,h,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=L7(t),o.splice(o.indexOf(y),1),i=i.concat(u7(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(El(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(El(t.serverSyncTree_,l.currentWriteId,!0))}Xa(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Fm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Jd(r[a]);Vb(t,t.transactionQueueTree_)}function KR(t,e){let n,r=t.transactionQueueTree_;for(n=St(e);n!==null&&Pu(r)===void 0;)r=Ub(r,n),e=en(e),n=St(e);return r}function zR(t,e){const n=[];return GR(t,e,n),n.sort((r,i)=>r.order-i.order),n}function GR(t,e,n){const r=Pu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Um(e,i=>{GR(t,i,n)})}function Fm(t,e){const n=Pu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,UR(e,n.length>0?n:void 0)}Um(e,r=>{Fm(t,r)})}function B7(t,e){const n=eh(KR(t,e)),r=Ub(t.transactionQueueTree_,e);return w7(r,i=>{Kg(t,i)}),Kg(t,r),VR(r,i=>{Kg(t,i)}),n}function Kg(t,e){const n=Pu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(xe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(xe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(El(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?UR(e,void 0):n.length=s+1,Xa(t.eventQueue_,eh(e),i);for(let o=0;o<r.length;o++)Jd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function H7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ii(`Invalid query segment '${n}' in query '${t}'`)}return e}const nS=function(t,e){const n=W7(t),r=n.namespace;n.domain==="firebase.com"&&Oa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Oa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||w8();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new P8(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new on(n.pathString)}},W7=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=j7(t.substring(c,d)));const h=H7(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return wt(this._path)?null:aR(this._path)}get ref(){return new Du(this._repo,this._path)}get _queryIdentifier(){const e=BE(this._queryParams),n=Tb(e);return n==="{}"?"default":n}get _queryObject(){return BE(this._queryParams)}isEqual(e){if(e=Vt(e),!(e instanceof jb))return!1;const n=this._repo===e._repo,r=cR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+nW(this._path)}}class Du extends jb{constructor(e,n){super(e,n,new Ab,!1)}get parent(){const e=uR(this._path);return e===null?null:new Du(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}a7(Du);l7(Du);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7="FIREBASE_DATABASE_EMULATOR_HOST",Qy={};let K7=!1;function z7(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Oa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=nS(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[Y7]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=nS(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Fy(Fy.OWNER):new x8(t.name,t.options,e);C7("Invalid Firebase Database URL",o),wt(o.path)||Oa("Database URL must point to the root of a Firebase Database (not including a child path).");const d=q7(a,t,c,new A8(t.name,n));return new Q7(d,t)}function G7(t,e){const n=Qy[e];(!n||n[t.key]!==t)&&Oa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),U7(t),delete n[t.key]}function q7(t,e,n,r){let i=Qy[e.name];i||(i={},Qy[e.name]=i);let s=i[t.toURLString()];return s&&Oa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new R7(t,K7,n,r),i[t.toURLString()]=s,s}class Q7{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(O7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Du(this._repo,zt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(G7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Oa("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){p8(Mo),zr(new Or("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return z7(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),rr(EE,SE,t),rr(EE,SE,"esm2017")}As.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};As.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};X7();function qR(t){return dB($D(t))}function J7(t){return(e,n)=>{const r=c8(e,n).run(()=>ue(t));d8.set(e,r),f8(r,e)}}function Z7(t,{firebaseApp:e,modules:n=[]}){t.provide(LD,e);for(const r of n)t.use(r.bind(null,e))}const eY=""+new URL("bundle.css",import.meta.url).href,QR={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},tY={avatarUrl:eY,headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},nY=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],rY=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],rS=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var _n;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,reactions:await Promise.all((await Promise.all(((r=e.reactions)==null?void 0:r.map(async a=>await ci(a)))??[])).map(async a=>hp.mapIncoming(a,e.id)).filter(a=>!!a)),sections:((i=e.sections)==null?void 0:i.map(a=>{var l,u;return{...a,alignment:a.alignment??"center",countdown:((l=a.countdown)==null?void 0:l.toDate())??null,timer:((u=a.timer)==null?void 0:u.toDate())??null,coverImageUrl:a.coverImageUrl??""}}))??[],countdown:((s=e.countdown)==null?void 0:s.toDate())??null,timer:((o=e.timer)==null?void 0:o.toDate())??null,archived:e.archived??!1}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived}),e.instanceOf=n=>["locked","archived"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(_n||(_n={}));var hp;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await ci(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(hp||(hp={}));var Xy;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(Xy||(Xy={}));const na=[{value:"bg-gray-900",label:"Default",background:"bg-gray-900",text:"text-gray-900"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-red-700"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-500"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-900"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-500"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-500"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-500"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-600"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-600"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-600"}],iS=t=>na.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-gray-900",text:(t==null?void 0:t.text)||"text-gray-900"}:e),iY=na.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-gray-700"}:t),il=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],Ut=qR(),Yt={content:Ei(Ut,"content"),projects:Ei(Ut,"projects"),menuItems:t=>Ei(Ut,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:Ei(Ut,"menuItemsPrivate"),blogPosts:t=>Ei(Ut,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:Ei(Ut,"blogPostsPrivate"),blogReactions:t=>Ei(Ut,t?"blogReactionsPrivate":"blogReactions"),usersPublic:Ei(Ut,"usersPublic"),files:Ei(Ut,"files")},Un=Zk("main",{state:()=>({profile:QR,content:tY,menuItems:rY,projects:nY,blogPosts:{single:{public:null,private:null},data:{public:[],private:[]},page:1,isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1},publicUsers:[],online:!0,debug:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility]},actions:{async fetchAll(t,e){try{console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredProjects.length||!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[]},this.blogPosts.page=1,this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()]))}catch(n){je.firebaseError(this.debug,n)}},async fetchContent(){try{const t=await ci(Ot(Ut,Yt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){je.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await nl(Yt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await ci(n)))})));this.projects=t.length?iE(t):this.projects}catch(t){je.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await nl(Yt.menuItems());if(t)try{e=e.concat(await nl(Yt.menuItemsPrivate,[zT("allowedUserIds","array-contains",Ot(Ut,Yt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?iE(e):this.menuItems,this.menuItems}catch(e){je.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{this.blogPosts.fetchLoading=!0;const r=e.visibility??this.blogPosts.visibility;this.visibleBlogPosts.length||(this.blogPosts.page=1,this.blogPosts.isLastPage=!1);var n=[];r==="private"&&t?n=await nl(Yt.blogPostsPrivate,[zT("allowedUserIds","array-contains",Ot(Ut,Yt.usersPublic.id,t).id),GT("date","desc"),qT(3*this.blogPosts.page)]):r==="public"&&(n=await nl(Yt.blogPosts(!1),[GT("date","desc"),qT(3*this.blogPosts.page)]));const i=await Promise.all(n.map(async s=>await _n.mapIncoming(s)));this.blogPosts.data[r]=i,this.visibleBlogPosts.length<3*this.blogPosts.page&&(this.blogPosts.isLastPage=!0)}catch(r){je.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchBlogPost(t){try{console.log("attempt to fetch single"),this.blogPosts.fetchLoading=!0;var e=null;e=await ci(Ot(Yt.blogPosts(!1),t)),e?(this.blogPosts.single.public=await _n.mapIncoming(e),this.blogPosts.single.private=null):e||(e=await ci(Ot(Yt.blogPostsPrivate,t)),e&&(this.blogPosts.single.private=await _n.mapIncoming(e),this.blogPosts.single.public=null))}catch(n){je.firebaseError(this.debug,n)}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await nl(Yt.usersPublic)}catch(t){return je.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await ci(Ot(Ut,Yt.usersPublic.id,t))}catch(e){return je.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{return this.blogPosts.mutationLoading=!0,await Jf(Ot(Ut,Yt.blogPosts(eo(e)).id,t),{...e,date:r!=null&&r.includeTime?e.date:Dn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Dn.fromDate(e.countdown):null,timer:e.timer?Dn.fromDate(e.timer):null}),r!=null&&r.fetch&&this.fetchBlogPosts(n),je.success("Successfully created Post"),!0}catch(i){return je.firebaseError(this.debug,i),!1}finally{this.blogPosts.mutationLoading=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.mutationLoading=!0;const i=Yt.blogPosts(n).id;let s="";return _n.Content.instanceOf(e)&&(await Zs(Ot(Ut,i,t),{..._n.Content.convert(e),dateUpdated:Dn.now()}),s="content"),_n.Styling.instanceOf(e)&&(await Zs(Ot(Ut,i,t),{..._n.Styling.convert(e)}),s="styling"),_n.Settings.instanceOf(e)&&(await Zs(Ot(Ut,i,t),{..._n.Settings.convert(e)}),s="settings"),this.fetchBlogPosts(r),s}catch(i){je.firebaseError(this.debug,i)}finally{this.blogPosts.mutationLoading=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do await this.fetchBlogPosts(i,{visibility:"public"}),await this.fetchBlogPosts(i,{visibility:"private"}),o=this.allBlogPosts.find(a=>a.id===t),o||(this.blogPosts.page+=1);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,r==="private",s,i,{mutatePost:!1,fetch:!1})||je.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,hp.convert(a),i,{includeTime:!0,fetch:!1})||je.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=Dy(a);await this.updateFileInfo(l.name,o)||je.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i),!0}else return je.error("Failed to re-create Post",{debug:this.debug}),!1}else return je.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){je.firebaseError(this.debug,s)}finally{return this.blogPosts.mutationLoading=!1,!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{const n=this.allBlogPosts.find(r=>r.id===t);if(n){const r=eo(n);return e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n),await lc(Ot(Ut,Yt.blogPosts(r).id,t)),r?this.blogPosts.data.private=this.blogPosts.data.private.filter(i=>i.id!==t):this.blogPosts.data.public=this.blogPosts.data.public.filter(i=>i.id!==t),je.success("Successfully deleted Post"),!0}return!1}catch(n){return je.firebaseError(this.debug,n),!1}},async createBlogReaction(t,e,n,r={includeTime:!1,fetch:!0}){try{const i=eo(t),s=await ci(Ot(Ut,Yt.blogPosts(i).id,t.id));if(s){const o=await Zj(Yt.blogReactions(i),{user:Ot(Ut,Yt.usersPublic.id,e.userId),message:e.message,date:r!=null&&r.includeTime?e.date:Dn.now()});return await Zs(Ot(Ut,Yt.blogPosts(i).id,s.id),{reactions:[...s.reactions??[],o]}),r!=null&&r.fetch&&this.fetchBlogPosts(n),je.success("Successfully created Reaction"),!0}return!1}catch(i){return je.firebaseError(this.debug,i),!1}},async deleteBlogReaction(t,e,n,r,i={mutatePost:!0,fetch:!0}){var s;try{if(i.mutatePost){const o=Ot(Ut,Yt.blogPosts(e).id,n.id),a=await ci(o);a&&await Zs(o,{reactions:((s=a.reactions)==null?void 0:s.filter(l=>l.id!==t))??[]})}return await lc(Ot(Ut,Yt.blogReactions(e).id,t)),i!=null&&i.fetch&&this.fetchBlogPosts(r),je.success("Successfully deleted Reaction"),!0}catch(o){return je.firebaseError(this.debug,o),!1}},async deleteBlogReactionsOfBlogPost(t){try{const e=eo(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await lc(Ot(Ut,Yt.blogReactions(e).id,r.id));return n.length&&je.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return je.firebaseError(this.debug,e),!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await ci(Ot(Ut,Yt.files.path,t))}catch(e){return je.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=Yj(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,je.success("Successfully uploaded File"),!0}catch(r){return je.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=eo(i);s=Ot(Ut,Yt.blogPosts(o).id,i.id)}return await Jf(Ot(Ut,Yt.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return je.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=eo(e);n=Ot(Ut,Yt.blogPosts(r).id,e.id)}return await Zs(Ot(Ut,Yt.files.path,t),{post:n??null}),!0}catch(n){return je.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await lc(Ot(Ut,Yt.files.path,t.name)),await zj(t),e||je.success("Successfully deleted File"),!0}catch(n){return je.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(Dy(r),!0);return n.length&&je.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return je.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),gl=MD(Gk);gl.onAuthStateChanged(t=>{Ln().fetchUser(t);const e=Un();e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const ms=qR(),Yo={users:Ei(ms,"users"),usersPublic:Ei(ms,"usersPublic")},Ln=Zk("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:gl.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await ci(Ot(ms,Yo.usersPublic.id,t.uid));const e=await ci(Ot(ms,Yo.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await zH(gl,t,e);await this.fetchUser(n),je.success("Successfully logged in",{route:"dashboard"})}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await KH(gl,t,e);await Jf(Ot(ms,Yo.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),je.success("Successfully created your account",{route:"dashboard"})}catch(r){je.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Do.credential(this.firebaseUser.email,e);await fE(this.firebaseUser,n),await GH(this.firebaseUser,t),je.success("Successfully changed your e-mail")}}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Do.credential(this.firebaseUser.email,e);await fE(this.firebaseUser,n),await qH(this.firebaseUser,t),je.success("Successfully changed your password")}}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await YH(gl,t),je.success("Successfully requested password reset")}catch(e){je.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(Di(this.currentUser,t)?je.warning("Nothing changed in your details"):(await Zs(Ot(ms,Yo.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your profile")))}catch(e){je.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?Di(this.publicUser,t)?je.warning("Nothing changed in your public profile"):(await Zs(Ot(ms,Yo.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your public profile")):this.firebaseUser?(await Jf(Ot(ms,Yo.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your public profile")):je.firebaseError(!1)}catch(e){je.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await XH(gl),this.currentUser=null,this.publicUser=null,je.success("Successfully logged out",{route:"home"})}catch(t){je.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await lc(Ot(ms,Yo.users.id,this.firebaseUser.uid)),await JH(this.firebaseUser),this.currentUser=null,this.publicUser=null,je.success("Successfully deleted your account",{route:"home"}))}catch(t){je.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}});function sY(t,e){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[re("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z","clip-rule":"evenodd"})])}function oY(t,e){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[re("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 018.75 1h2.5A2.75 2.75 0 0114 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 016 4.193V3.75zm6.5 0v.325a41.622 41.622 0 00-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25zM10 10a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1V11a1 1 0 00-1-1H10z","clip-rule":"evenodd"}),re("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 01-9.274 0C3.985 17.585 3 16.402 3 15.055z"})])}function aY(t,e){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[re("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}function lY(t,e){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[re("path",{"fill-rule":"evenodd",d:"M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 002.273 1.765 11.842 11.842 0 00.976.544l.062.029.018.008.006.003zM10 11.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z","clip-rule":"evenodd"})])}function uY(t,e){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[re("path",{d:"M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z"})])}function cY(t,e){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[re("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})])}const dY=["href"],hY=Ce({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{}},setup(t){return(e,n)=>{const r=Ls("RouterLink");return e.url?(D(),Z(Se,{key:0},[e.url.startsWith("http")?(D(),Z("a",{key:1,class:De(e.class),href:e.url},[Ae(e.$slots,"default")],10,dY)):(D(),ge(r,{key:0,class:De(e.class),"active-class":e.activeClass,to:{path:e.url}},{default:ve(()=>[Ae(e.$slots,"default")]),_:3},8,["class","active-class","to"]))],64)):Ae(e.$slots,"default",{key:1,class:De(e.class)})}}}),fY=["type","disabled"],pY={class:De("w-full flex flex-column justify-center")},vt=Ce({__name:"CustomButton",props:{class:{},url:{},type:{},activeClass:{},style:{},outlined:{type:Boolean},list:{type:Boolean},action:{},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=ie(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"action-positive":return e.outlined?"button-outlined-action-positive":"button-action-positive";case"orange":return e.outlined?"button-outlined-orange":"button-orange";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(D(),ge(hY,{class:De([n.value,"md:mt-0 py-2 px-4 rounded-full",r.list?"flex flex-column justify-center":"",...k(ml)(e.class)]),activeClass:r.activeClass,url:r.url},{default:ve(({class:s})=>[re("button",{class:De(s),style:Nn(r.style),type:r.action??"button",disabled:r.loading,onClick:i[0]||(i[0]=o=>r.$emit("click"))},[re("span",pY,[r.loading?(D(),ge(k(sY),{key:0,class:"my-1 mr-2.5 h-5 w-5 animate-spin"})):oe("",!0),Ae(r.$slots,"default")])],14,fY)]),_:3},8,["class","activeClass","url"]))}}),sS=1e3,mY=Ce({__name:"CountdownWrapper",props:{time:{},direction:{}},setup(t){const e=t,n=b=>(e.direction==="up"?b=Math.abs(b):b=Math.max(0,b),Math.floor(b)),r=sS*60,i=r*60,s=i*24,o=s*365,a=ue(0),l=ie(()=>n(a.value/o)),u=ie(()=>a.value%o),c=ie(()=>n(u.value/s)),d=ie(()=>u.value%s),h=ie(()=>n(d.value/i)),f=ie(()=>d.value%i),p=ie(()=>n(f.value/r)),g=ie(()=>f.value%r),y=ie(()=>n(g.value/sS)),_=ie(()=>l.value===0&&c.value===0&&h.value===0&&p.value===0&&y.value===0),v=()=>{a.value=e.time-new Date().getTime(),setTimeout(v,1e3)};return an(()=>{v()}),(b,m)=>Ae(b.$slots,"default",{years:l.value,days:c.value,hours:h.value,minutes:p.value,seconds:y.value,isTimeUp:_.value,daysIsLast:b.direction==="down"?c.value===364:c.value===0,hoursIsLast:b.direction==="down"?h.value===23:c.value===0,minutesIsLast:b.direction==="down"?p.value===59:p.value===0,secondsIsLast:b.direction==="down"?y.value===59:y.value===0})}}),gY={class:"grid grid-flow-col text-center"},vY={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},yY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},wY={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},bY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},_Y={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},TY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},EY={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},SY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},CY={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},IY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Uh=Ce({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t;return(n,r)=>(D(),Z("div",{class:De({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[le(mY,{time:e.time,direction:n.direction},{default:ve(({years:i,days:s,hours:o,minutes:a,seconds:l,isTimeUp:u,daysIsLast:c,hoursIsLast:d,minutesIsLast:h,secondsIsLast:f})=>[re("div",gY,[i>0?(D(),Z("div",vY,[re("span",yY,[re("span",{class:De({"animation ease-in animate-timer":i>=0&&c&&d&&h&&f})},ze(i),3)]),Xe(" years ")])):oe("",!0),i>0||s>0||u?(D(),Z("div",wY,[re("span",bY,[re("span",{class:De({"animation ease-in animate-timer":s>=0&&d&&h&&f})},ze(s),3)]),Xe(" days ")])):oe("",!0),i>0||s>0||o>0||u?(D(),Z("div",_Y,[re("span",TY,[re("span",{class:De({"animation ease-in animate-timer":o>=0&&h&&f})},ze(o),3)]),Xe(" hrs ")])):oe("",!0),i>0||s>0||o>0||a>0||u?(D(),Z("div",EY,[re("span",SY,[re("span",{class:De({"animation ease-in animate-timer":a>=0&&f})},ze(a),3)]),Xe(" mins ")])):oe("",!0),i>0||s>0||o>0||a>0||l>0||u?(D(),Z("div",CY,[re("span",IY,[re("span",{class:De({"animation ease-in animate-timer":f})},ze(l),3)]),Xe(" secs ")])):oe("",!0)])]),_:1},8,["time","direction"])],2))}});const kY={class:"flex justify-between"},AY={class:"flex flex-col"},xY={class:"flex justify-between"},PY={class:"xl:flex"},DY={key:0,class:"flex gap-2"},RY=["src"],OY=["href"],NY={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},MY={key:1,class:"flex gap-2"},LY=["src"],$Y={key:0,class:"xl:mt-2"},Dr=Ce({__name:"Bubble",props:{title:{},subTitle:{},url:{},description:{},avatar:{},loading:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},setup(t){return(e,n)=>(D(),Z("div",{class:De(["group/bubble color-primary rounded-3xl p-5 md:p-10",e.url?"hover:bg-opacity-30":null,e.loading?"animate-pulse":null])},[re("div",kY,[re("div",AY,[re("div",xY,[re("div",PY,[e.url?(D(),Z("div",DY,[e.avatar?(D(),Z("img",{key:0,class:"rounded-full h-10 w-10",src:e.avatar},null,8,RY)):oe("",!0),re("a",{href:e.url},[re("h2",NY,ze(e.title),1)],8,OY)])):e.title?(D(),Z("div",MY,[e.avatar?(D(),Z("img",{key:0,class:"rounded-full border border-gray-400 h-10 w-10",src:e.avatar},null,8,LY)):oe("",!0),re("h2",Ht({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},e.titleProps),ze(e.title),17)])):oe("",!0),e.subTitle?(D(),Z("p",Ht({key:2,class:"text-sm text-gray-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},e.subTitleProps),ze(e.subTitle),17)):oe("",!0)])]),e.description?(D(),Z("div",$Y,[(D(!0),Z(Se,null,ut(Array.isArray(e.description)?e.description:[e.description],r=>(D(),Z("p",Ht({class:"text-gray-400 mb-2"},e.descriptionProps),ze(r),17))),256))])):oe("",!0)]),Ae(e.$slots,"right")]),Ae(e.$slots,"default")],2))}}),UY={key:0,class:"text-red-600"},Hb=Ce({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(D(),Z("p",UY,ze(e.error),1)):oe("",!0)}});var Wb=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(Wb||{});const Et={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},FY={class:"m-4"},VY=["for"],hr=Ce({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=ie(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===Wb.Required)?" *":""):void 0),o=ie(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Et.Min),typeof r.maxValue=="number"&&h.push(Et.Max),typeof r.minLength=="number"&&h.push(Et.MinLength),typeof r.maxLength=="number"&&h.push(Et.MaxLength),r.compare&&h.push(Et.EqualTo);const f={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=h.filter(g=>!g.test(f)).map(g=>{var y;return((y=g.compareError)==null?void 0:y.call(g,f))||g.error(f)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,f;return D(),Z("div",FY,[c.label?(D(),Z("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),ze(s.value),17,VY)):oe("",!0),(D(),ge(Sd(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"textarea":"input"),Ht({id:o.value,ref:"input",value:i.value,class:"input-field",type:((f=c.inputProps)==null?void 0:f.type)||"text",placeholder:c.placeholder,onInput:a},c.inputProps),null,16,["id","value","type","placeholder"])),c.error?(D(),ge(Hb,{key:1,name:c.name,error:c.error},null,8,["name","error"])):oe("",!0)])}}}),BY={class:"flex flex-col"},jY=Ce({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r,firebaseUser:i}=Qt(Ln()),{deleteBlogReaction:s}=Un();return(o,a)=>(D(),ge(Dr,{class:De(["p-5 mb-5 w-full md:w-3/4",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50"]),titleProps:{class:"!text-base mt-1"},title:e.reaction.user.displayName||"Unknown user",subTitle:k(Ry)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message},nr({_:2},[k(n)&&e.reaction.user.id===k(n).id||k(r)?{name:"right",fn:ve(()=>[re("div",BY,[e.post.locked?oe("",!0):(D(),ge(vt,{key:0,type:"danger",outlined:"",class:"h-fit",onClick:a[0]||(a[0]=l=>{var u;return k(s)(e.reaction.id,k(eo)(e.post),e.post,(u=k(i))==null?void 0:u.uid)})},{default:ve(()=>[Xe(" Delete ")]),_:1}))])]),key:"0"}:void 0]),1032,["class","title","subTitle","avatar","description"]))}}),HY=["onSubmit"],WY={class:"grid justify-items-center p-5"},YY=Ce({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n,firebaseUser:r}=Qt(Ln()),i=Un(),{content:s}=Qt(i),{createBlogReaction:o}=i,a=ue(),l=$n({reaction:{value:"",error:""}}),u=async()=>{var c;await a.value.test(),!l.reaction.error&&n.value&&await o(e.post,{userId:n.value.id,postId:e.post.id,message:l.reaction.value},(c=r.value)==null?void 0:c.uid)&&(l.reaction.value=""),nH()};return(c,d)=>(D(),Z("form",{action:"",onSubmit:Pt(u,["prevent"])},[re("div",WY,[(D(!0),Z(Se,null,ut(c.post.reactions,h=>(D(),ge(jY,{post:c.post,reaction:h},null,8,["post","reaction"]))),256)),!k(n)||c.post.reactions.filter(h=>h.user.id===k(n).id).length<3?(D(),ge(Dr,{key:0,class:De(["p-5 flex justify-center w-full md:w-3/4",c.post.colorTertiary||"bg-gray-700",c.post.opacityTertiary||"bg-opacity-50"])},{default:ve(()=>[le(hr,{class:"w-5/6",id:c.post.id,inputProps:{class:["rounded-xl border-none !placeholder-gray-300",c.post.colorSecondary||c.post.colorPrimary||"bg-gray-600",c.post.opacitySecondary||"!bg-opacity-20",!c.post.locked&&k(n)?"hover:!bg-gray-700 focus:!bg-gray-600 focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50"],disabled:!k(n)||c.post.locked},ref_key:"reaction",ref:a,name:"reaction",placeholder:c.post.locked?"Locked for comments":k(n)?"Reply":k(s).blogLoginGuest,modelValue:l.reaction.value,"onUpdate:modelValue":d[0]||(d[0]=h=>l.reaction.value=h),error:l.reaction.error,"onUpdate:error":d[1]||(d[1]=h=>l.reaction.error=h),rules:[k(Et).Required],onClick:d[2]||(d[2]=()=>!k(n)&&!c.post.locked?k(Jb).push({name:"login"}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):oe("",!0)])],40,HY))}}),KY=["href"],zY={class:"break-all"},GY={key:1},qY={key:2},Fh=Ce({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(D(!0),Z(Se,null,ut(e.description.split(`
`).map(s=>s.trim()),s=>(D(),Z("div",{class:De(["text-lg",e.class])},[re("div",{class:De({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(D(),Z("a",{key:0,href:s,class:"underline hover:no-underline"},[re("span",zY,ze(s),1)],8,KY)):s?(D(),Z("p",GY,ze(s),1)):(D(),Z("br",qY))],2)],2))),256))}}),QY=["src"],oS=Ce({__name:"BlogPostImage",props:{post:{},coverImageUrl:{},maxHeight:{},alignment:{}},setup(t){return(e,n)=>(D(),Z("div",{class:De({flex:!0,"justify-start":e.alignment==="left","justify-center":e.alignment===void 0||e.alignment==="center","justify-end":e.alignment==="right"})},[le(Dr,{class:De(["!p-5 my-5 w-fit",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50"])},{default:ve(()=>[re("img",{class:"min-w-25",src:e.coverImageUrl,style:Nn(`max-height: ${e.maxHeight??"50vh"}`)},null,12,QY)]),_:1},8,["class"])],2))}}),XY={class:"flex justify-between h-fit mt-2 gap-2"},JY={class:"flex flex-wrap gap-3"},ZY={class:"w-full"},eK={key:0,class:"w-fit flex flex-col justify-start ms-5 gap-2"},tK={class:"flex gap-3"},nK=re("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6"},[re("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})],-1),Jy=Ce({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=Qt(Un()),{firebaseUser:r,isOwner:i}=Qt(Ln()),s=ie(()=>{var a;return(a=e.post.allowedUserIds)!=null&&a.length?n.value.filter(l=>{var u;return(u=e.post.allowedUserIds)==null?void 0:u.includes(l.id)}):[]}),o=()=>{const a=document.createElement("textarea"),{protocol:l,hostname:u,port:c,pathname:d}=window.location,h=`${l}//${u}`+(u==="localhost"?`:${c}`:"")+d;a.value=`${h}/${e.post.id}`,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),je.success("Copied link!")};return(a,l)=>(D(),ge(Dr,{id:a.post.id,class:De(["min-h-[90vh] border-4 border-transparent",a.post.colorPrimary||"bg-gray-900",a.post.opacityPrimary||"bg-opacity-30"]),title:a.post.title,subTitle:k(Ry)(new Date(a.post.date))+(a.post.dateUpdated?" - updated "+k(Ry)(new Date(a.post.dateUpdated)):"")+(a.post.locked?" - [LOCKED]":""),loading:a.post.loading},{right:ve(()=>[re("div",tK,[le(vt,{class:"border-none bg-gray-500 text-purple-100 bg-opacity-10 h-fit",type:"secondary",outlined:"",onClick:o},{default:ve(()=>[nK]),_:1})])]),default:ve(()=>{var u;return[re("div",XY,[re("div",JY,[(D(!0),Z(Se,null,ut(s.value,c=>{var d;return D(),ge(Dr,{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50","sub-title":c.id===((d=k(r))==null?void 0:d.uid)?"You":c.displayName,"sub-title-props":{class:"xl:!ms-0"}},null,8,["sub-title"])}),256))]),k(i)?(D(),Z("div",{key:0,class:De(["flex justify-end lg:hidden h-fit ms-5 gap-3",(u=a.post.allowedUserIds)!=null&&u.length?"flex-col md:flex-row":"flex-row"])},[le(vt,{class:"min-w-80",onClick:l[0]||(l[0]=c=>a.$emit("editClicked"))},{default:ve(()=>[Xe(" Edit ")]),_:1}),le(vt,{class:"min-w-80",type:"danger",outlined:"",onClick:l[1]||(l[1]=c=>a.$emit("deleteClicked"))},{default:ve(()=>[Xe(" Delete ")]),_:1})],2)):oe("",!0)]),le(Dr,{class:De(["min-h-[125px] md:min-h-[160px] p-5 mt-5",a.post.colorSecondary||a.post.colorPrimary,a.post.opacitySecondary||"bg-opacity-25"])},{default:ve(()=>[re("div",{class:De(["flex relative",a.post.countdown||a.post.alignment==="center"?"flex justify-between":""])},[re("div",ZY,[a.post.countdown?(D(),ge(Uh,{key:0,time:new Date(a.post.countdown).getTime(),direction:"down",alignment:a.post.alignment},null,8,["time","alignment"])):oe("",!0),a.post.timer?(D(),ge(Uh,{key:1,time:new Date(a.post.timer).getTime(),direction:"up",alignment:a.post.alignment},null,8,["time","alignment"])):oe("",!0),a.post.description?(D(),ge(Fh,{key:2,description:a.post.description,alignment:a.post.alignment},null,8,["description","alignment"])):oe("",!0)]),re("div",{class:De(["hidden lg:flex w-full justify-end",a.post.countdown||a.post.alignment==="center"?"absolute":""])},[k(i)?(D(),Z("div",eK,[le(vt,{class:"col-span-full md:col-span-2 md:col-start-3",onClick:l[2]||(l[2]=c=>a.$emit("editClicked"))},{default:ve(()=>[Xe(" Edit ")]),_:1}),le(vt,{class:"col-span-full md:col-span-2 md:col-start-3",type:"danger",outlined:"",onClick:l[3]||(l[3]=c=>a.$emit("deleteClicked"))},{default:ve(()=>[Xe(" Delete ")]),_:1})])):oe("",!0)],2)],2),a.post.coverImageUrl?(D(),ge(oS,{key:0,post:a.post,"cover-image-url":a.post.coverImageUrl},null,8,["post","cover-image-url"])):oe("",!0),a.post.descriptionFooter?(D(),ge(Fh,{key:1,description:a.post.descriptionFooter,alignment:a.post.alignment},null,8,["description","alignment"])):oe("",!0),(D(!0),Z(Se,null,ut(a.post.sections,c=>(D(),Z("div",null,[c.title?(D(),ge(Fh,{key:0,class:"!text-3xl",description:c.title,alignment:c.alignment},null,8,["description","alignment"])):oe("",!0),c.description?(D(),ge(Fh,{key:1,description:c.description,alignment:c.alignment},null,8,["description","alignment"])):oe("",!0),c.coverImageUrl?(D(),ge(oS,{key:2,post:a.post,"cover-image-url":c.coverImageUrl,alignment:c.alignment,"max-height":"30vh"},null,8,["post","cover-image-url","alignment"])):oe("",!0),c.countdown?(D(),ge(Uh,{key:3,time:new Date(c.countdown).getTime(),direction:"down",alignment:c.alignment},null,8,["time","alignment"])):oe("",!0),c.timer?(D(),ge(Uh,{key:4,time:new Date(c.timer).getTime(),direction:"up",alignment:c.alignment},null,8,["time","alignment"])):oe("",!0)]))),256))]),_:1},8,["class"]),le(YY,{post:a.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","loading"]))}}),rK={key:0,class:"flex justify-center mt-5"},iK={class:"grid grid-cols-6 mb-5 gap-5"},sK=Ce({__name:"BlogDetails",setup(t){const e=K0(),n=ie(()=>e.params.postId),r=Un(),{fetchBlogPost:i}=r,{blogPosts:s}=Qt(r);return an(()=>{var o,a;n.value&&((o=s.value.single.public)==null?void 0:o.id)!==n.value&&((a=s.value.single.private)==null?void 0:a.id)!==n.value&&i(n.value)}),(o,a)=>k(s).fetchLoading?(D(),Z("div",rK,[le(vt,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:k(s).fetchLoading},{default:ve(()=>[Xe(" Loading... ")]),_:1},8,["loading"])])):(D(),Z(Se,{key:1},[re("div",iK,[le(vt,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"orange",url:"/blog"},{default:ve(()=>[Xe(" All Posts ")]),_:1})]),k(s).single.public?(D(),ge(Jy,{key:0,post:k(s).single.public},null,8,["post"])):k(s).single.private?(D(),ge(Jy,{key:1,post:k(s).single.private},null,8,["post"])):oe("",!0)],64))}}),oK={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},aK={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},lK={class:"bg-gray-800 border border-gray-500 rounded-2xl p-5"},uK={class:"p-8"},cK={class:"title-secondary"},dK={class:"mt-4 text-gray-300"},hK={class:"my-2"},fK={class:"grid grid-cols-4 mt-10 gap-3"},Yb=Ce({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return kd(()=>{document.body.style.overflow=""}),pn(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${tH()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(D(),Z("div",oK,[re("div",{class:"fixed inset-0 bg-gray-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),re("div",aK,[re("div",lK,[re("div",uK,[re("h3",cK,ze(n.title),1),re("div",dK,[(D(!0),Z(Se,null,ut(Array.isArray(n.description)?[...n.description]:[n.description],i=>(D(),Z("p",hK,ze(i),1))),256))]),Ae(n.$slots,"default")]),re("div",fK,[le(vt,{class:De(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},{default:ve(()=>[Xe(" Cancel ")]),_:1},8,["class"]),n.confirmText?(D(),ge(vt,Ht({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),{default:ve(()=>[Xe(ze(n.confirmText),1)]),_:1},16,["loading"])):oe("",!0)])])])])):oe("",!0)}}),XR=Ce({__name:"ArrowIcon",props:{rotate:{type:Boolean}},setup(t){return(e,n)=>(D(),ge(k(aY),{class:De(["sm:block mt-0.5 mr-2.5 h-5 w-5 animation",e.rotate?"rotate-180":""])},null,8,["class"]))}}),pK={class:"flex m-4 justify-center"},Vh=Ce({__name:"Spoiler",props:{text:{}},setup(t){const e=ue(!1);return(n,r)=>(D(),Z(Se,null,[re("div",pK,[le(vt,{class:"w-3/4 md:w-2/3 flex justify-center",outlined:"",onClick:r[0]||(r[0]=i=>e.value=!e.value)},{default:ve(()=>[le(XR,{rotate:e.value},null,8,["rotate"]),Xe(" "+ze(n.text),1)]),_:1})]),Ji(re("div",null,[Ae(n.$slots,"default")],512),[[Cs,e.value]])],64))}}),mK={class:"m-4"},gK=["for"],vK=["id"],fp=Ce({__name:"CheckBoxField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},inputProps:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie({get:()=>r.modelValue,set:u=>{l("update:modelValue",u)}}),s=ie(()=>r.name+(r.id?"."+r.id:"")),o=async u=>{},a=u=>{u.stopPropagation(),l("update:modelValue",!r.modelValue)},l=n;return e({test:o}),(u,c)=>(D(),Z("div",mK,[u.label?(D(),Z("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:s.value},u.labelProps),ze(u.label),17,gK)):oe("",!0),re("div",{class:"checkbox-field",onClick:a},[Ji(re("input",Ht({id:s.value,ref:"input","onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d),type:"checkbox"},u.inputProps),null,16,vK),[[Hp,i.value]])])]))}}),yK={class:"m-4"},wK=["for"],Bh=Ce({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ie(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>{const c=Ls("VueDatePicker");return D(),Z("div",yK,[l.label?(D(),Z("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),ze(l.label),17,wK)):oe("",!0),le(c,{uid:s.value,class:"input-field px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d)},null,8,["uid","modelValue"])])}}});let jh;const bK=new Uint8Array(16);function _K(){if(!jh&&(jh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jh(bK)}const qn=[];for(let t=0;t<256;++t)qn.push((t+256).toString(16).slice(1));function TK(t,e=0){return qn[t[e+0]]+qn[t[e+1]]+qn[t[e+2]]+qn[t[e+3]]+"-"+qn[t[e+4]]+qn[t[e+5]]+"-"+qn[t[e+6]]+qn[t[e+7]]+"-"+qn[t[e+8]]+qn[t[e+9]]+"-"+qn[t[e+10]]+qn[t[e+11]]+qn[t[e+12]]+qn[t[e+13]]+qn[t[e+14]]+qn[t[e+15]]}const EK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),aS={randomUUID:EK};function JR(t,e,n){if(aS.randomUUID&&!e&&!t)return aS.randomUUID();t=t||{};const r=t.random||(t.rng||_K)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return TK(r)}const SK=Ce({__name:"TrashIcon",setup(t){return(e,n)=>(D(),ge(k(cY),{class:"h-7 w-7"}))}}),CK=Ce({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(D(),ge(vt,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",onClick:r[0]||(r[0]=i=>n.$emit("click"))},{default:ve(()=>[le(SK)]),_:1}))}}),IK={class:"m-4"},kK=["for"],AK={class:"flex justify-between gap-1"},xK=["id","disabled"],PK={key:2},DK={class:"flex justify-center"},RK=["src"],Zy=Ce({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Qt(Ln()),{fetchFileInfo:i,uploadFile:s,deleteFile:o}=Un(),a=ue(),l=ue(null),u=ue(0),c=ie(()=>Dy(n.modelValue||"uploads/"+JR())),d=ie(()=>c.value.name),h=ue(),f=ue(""),p=v=>{const b=v.target;b.files&&b.files.length>0&&(l.value=b.files[0],f.value=l.value.name,g())},g=async()=>{var v,b;l.value&&((v=r.value)!=null&&v.uid)&&await s(c.value,l.value,m=>u.value=m,f.value,(b=r.value)==null?void 0:b.uid,n.isPublic,n.blogPost)&&(_("update:modelValue",await Kj(c.value)),l.value=null,u.value=0)},y=async()=>{await o(c.value)?(window.URL.revokeObjectURL(n.modelValue),a.value.value=null,_("update:modelValue","")):_("update:error","Failed to delete File reference")};pn(()=>n.modelValue,async()=>{var v;h.value=n.modelValue?await i(d.value):void 0,f.value=((v=h.value)==null?void 0:v.name)??""},{immediate:!0});const _=e;return(v,b)=>(D(),Z("div",IK,[v.label?(D(),Z("label",{key:0,class:"block text-sm font-bold mb-2",for:`${v.id}`},ze(v.label),9,kK)):oe("",!0),re("div",AK,[re("input",{id:`${v.id}`,ref_key:"fileUpload",ref:a,type:"file",accept:"image/*",onChange:p,class:"input-field",disabled:!!h.value},null,40,xK),h.value?(D(),ge(CK,{key:0,onClick:y})):oe("",!0)]),v.error?(D(),ge(Hb,{key:1,name:v.name,error:v.error},null,8,["name","error"])):oe("",!0),u.value>0?(D(),Z("div",PK,"Uploading: "+ze(u.value.toFixed(2))+"%",1)):oe("",!0),re("div",DK,[re("div",En(tr(v.imageContainerProps)),[h.value?(D(),Z("img",Ht({key:0,class:"mt-4 simple-field w-full min-w-25 md:max-w-fit",src:v.modelValue},v.imageProps),null,16,RK)):oe("",!0)],16)])]))}}),OK={class:"m-4"},NK=["for"],MK=["id","name","multiple"],LK=["value"],ar=Ce({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=ie(()=>(r.rules??[]).some(h=>h.type===Wb.Required)),o=ie({get:()=>{if(r.multiple){const h=Array.isArray(r.modelValue)?r.modelValue:[];return h.length?h:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const h=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return h||(s.value&&r.options.length?r.options[0].value:"")}},set:h=>{var f;d("update:modelValue",ml(h)[0]),d("update:arrayValue",ml(h)),r.multiple||(f=i.value)==null||f.blur()}}),a=ie(()=>r.options.find(({value:h})=>h===o.value)),l=ie(()=>r.label+(s.value?" *":"")),u=ie(()=>r.name+(r.id?"."+r.id:"")),c=async()=>{const h=r.rules||[];let f="";for(const p of ml(o.value)){const g={value:p.toString()},y=h.filter(_=>!_.test(g)).map(_=>_.error(g))||[];if(y[0]){f=y[0];break}}d("update:error",f)};an(()=>{s.value&&(d("update:modelValue",ml(o.value)[0]),d("update:arrayValue",ml(o.value)))});const d=n;return e({test:c}),(h,f)=>{var p,g;return D(),Z("div",OK,[re("label",{class:"block text-sm font-bold mb-2",for:u.value},ze(l.value),9,NK),Ji(re("select",{ref_key:"select",ref:i,id:u.value,name:h.name,"onUpdate:modelValue":f[0]||(f[0]=y=>o.value=y),class:De(["w-full px-4 py-2 select-field block",(p=a.value)==null?void 0:p.background,(g=a.value)!=null&&g.background?"text-white focus:text-black bg-opacity-50":"",h.multiple?"bg-white":""]),multiple:h.multiple},[(D(!0),Z(Se,null,ut(h.options,({value:y,label:_,background:v,text:b},m)=>(D(),Z("option",{value:y??m,class:De(["h-20 select-field",v,v?"bg-opacity-50":"bg-opacity-40",b])},ze(_),11,LK))),256))],10,MK),[[H0,o.value]]),h.error?(D(),ge(Hb,{key:0,name:h.name,error:h.error},null,8,["name","error"])):oe("",!0)])}}}),$K={class:"flex justify-evenly font-bold"},UK={class:"px-5"},FK={class:"flex justify-evenly font-bold"},VK={class:"flex justify-center"},BK=Ce({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Qt(Ln()),i=Un(),{createBlogPost:s,updateBlogPost:o,allowedPublicUsers:a,deleteFilesOfBlogPost:l,toggleBlogPostVisibility:u}=i,{blogPosts:c,publicUsers:d}=Qt(i),h=ue(),f=ue(),p=ue(),g=ue(),y=ue(),_=ue([]),v=ue([]),b=ue([]),m=ue([]),w=ue([]),T=ue(),M=ue(),x=ue(),A=ue(),S=ue(),N=ue(),F=ue(),C=ue(),H=ue(),O=ue(),R=ue(),W=ue(),X=ie(()=>d.value.map(({id:ne,displayName:q})=>({value:ne,label:q}))),U=ue([]),I=ie(()=>U.value.map(ne=>ne.displayName).join(", ")),te=()=>({id:{value:JR(),error:""},title:{value:"",error:""},description:{value:"",error:""},descriptionFooter:{value:"",error:""},alignment:{value:"center",error:""},sections:{value:[],error:""},locked:{value:!1,error:""},colorPrimary:{value:"",error:""},colorSecondary:{value:"",error:""},colorTertiary:{value:"",error:""},opacityPrimary:{value:"",error:""},opacitySecondary:{value:"",error:""},opacityTertiary:{value:"",error:""},coverImageUrl:{value:"",error:""},allowedUserIds:{value:[],error:""},countdown:{value:null,error:""},timer:{value:null,error:""},archived:{value:!1,error:""}}),L=$n(te()),ee=ie(()=>{var ne,q;return{id:L.id.value,title:L.title.value,description:L.description.value,descriptionFooter:L.descriptionFooter.value,alignment:L.alignment.value,sections:L.sections.value.map(J=>({title:J.title.value,description:J.description.value,alignment:J.alignment.value,coverImageUrl:J.coverImageUrl.value,countdown:J.countdown.value,timer:J.timer.value})),date:((ne=n.selected)==null?void 0:ne.date)||new Date,dateUpdated:((q=n.selected)==null?void 0:q.dateUpdated)||new Date,locked:!!L.locked.value,colorPrimary:L.colorPrimary.value,colorSecondary:L.colorSecondary.value,colorTertiary:L.colorTertiary.value,opacityPrimary:L.opacityPrimary.value,opacitySecondary:L.opacitySecondary.value,opacityTertiary:L.opacityTertiary.value,coverImageUrl:L.coverImageUrl.value,reactions:[],allowedUserIds:L.allowedUserIds.value,countdown:L.countdown.value,timer:L.timer.value,archived:L.archived.value}}),de=ie(()=>_n.Content.convert(ee.value)),we=ie(()=>!!n.selected&&!Di(_n.Content.convert(_n.convert(n.selected)),de.value)),B=ie(()=>_n.Styling.convert(ee.value)),G=ie(()=>!!n.selected&&!Di(_n.Styling.convert(_n.convert(n.selected)),B.value)),ae=ie(()=>_n.Settings.convert(ee.value)),K=ie(()=>!!n.selected&&!Di(_n.Settings.convert(_n.convert(n.selected)),ae.value)),pe=ie(()=>{var ne,q,J,he,ce,me;return!!((q=(ne=n.selected)==null?void 0:ne.allowedUserIds)!=null&&q.length)&&!((J=ae.value.allowedUserIds)!=null&&J.length)||!((ce=(he=n.selected)==null?void 0:he.allowedUserIds)!=null&&ce.length)&&!!((me=ae.value.allowedUserIds)!=null&&me.length)}),Ee=ie(()=>{const ne=[];return we.value&&ne.push("Content"),G.value&&ne.push("Styling"),K.value&&ne.push("Settings"),ne.length?"Update "+Ny(ne):void 0}),E=ie(()=>!!n.selected&&eo(n.selected)),P=async()=>{var ne,q,J,he,ce,me,Oe,ke,_e,Ke;if(await Promise.all([f.value.test(),p.value.test(),g.value.test(),y.value.test(),...(ne=_.value)==null?void 0:ne.map(Me=>Me.test()),...(q=v.value)==null?void 0:q.map(Me=>Me.test()),...(J=b.value)==null?void 0:J.map(Me=>Me.test()),...(he=m.value)==null?void 0:he.map(Me=>Me.test()),...(ce=w.value)==null?void 0:ce.map(Me=>Me.test()),M.value.test(),x.value.test(),A.value.test(),S.value.test(),N.value.test(),H.value.test(),O.value.test(),R.value.test(),W.value.test()]),L.allowedUserIds.value.length&&!U.value.length&&(L.allowedUserIds.error="Invalid user ID's"),Object.keys(L).map(Me=>L[Me].error).every(Me=>!Me))if(!n.selected)await s(L.id.value,ee.value,(me=r.value)==null?void 0:me.uid)&&z("close");else if(pe.value)z("close"),await u(n.selected.id,_n.convert(ee.value),n.selected.reactions,ee.value.allowedUserIds.length?"private":"public",(Oe=r.value)==null?void 0:Oe.uid)&&je.success("Successfully updated Post Visibility");else{let Me=[];we.value&&Me.push(await o(n.selected.id,de.value,E.value,(ke=r.value)==null?void 0:ke.uid)),G.value&&Me.push(await o(n.selected.id,B.value,E.value,(_e=r.value)==null?void 0:_e.uid)),K.value&&Me.push(await o(n.selected.id,ae.value,E.value,(Ke=r.value)==null?void 0:Ke.uid)),Me=Me.filter(dt=>typeof dt=="string"),Me.length&&(je.success(`Successfully updated Post ${Ny(Me)}`),z("close"))}},V=async()=>{l(ee.value,n.selected??void 0),Object.assign(L,te()),z("close")};pn(()=>n.selected,ne=>{var q,J,he,ce,me,Oe,ke;ne?(L.title.value=ne.title,L.description.value=ne.description,L.descriptionFooter.value=ne.descriptionFooter||"",L.alignment.value=ne.alignment,(q=ne.sections)!=null&&q.length&&(L.sections.value=ne.sections.map(_e=>({title:{value:_e.title,error:""},description:{value:_e.description,error:""},alignment:{value:_e.alignment,error:""},coverImageUrl:{value:_e.coverImageUrl??"",error:""},countdown:{value:_e.countdown,error:""},timer:{value:_e.timer,error:""}}))),L.locked.value=!!ne.locked,L.colorPrimary.value=((J=na.find(_e=>_e.value===ne.colorPrimary))==null?void 0:J.value.toString())||"bg-gray-900",L.colorSecondary.value=((he=iS(na.find(_e=>_e.value===L.colorPrimary.value)).find(_e=>_e.value===(ne.colorSecondary||"")))==null?void 0:he.value.toString())||"",L.colorTertiary.value=((ce=na.find(_e=>_e.value===(ne.colorTertiary||"")))==null?void 0:ce.value.toString())||"",L.opacityPrimary.value=((me=il.find(_e=>_e.value===(ne.opacityPrimary||"")))==null?void 0:me.value.toString())||"",L.opacitySecondary.value=((Oe=il.find(_e=>_e.value===(ne.opacitySecondary||"")))==null?void 0:Oe.value.toString())||"",L.opacityTertiary.value=((ke=il.find(_e=>_e.value===(ne.opacityTertiary||"")))==null?void 0:ke.value.toString())||"",L.coverImageUrl.value=ne.coverImageUrl||"",L.allowedUserIds.value=ne.allowedUserIds||[],L.countdown.value=ne.countdown,L.timer.value=ne.timer,L.archived.value=ne.archived):Object.assign(L,te())}),pn(()=>L.allowedUserIds.value,async ne=>{U.value=await a(ne)});const z=e;return(ne,q)=>(D(),ge(Yb,{isOpen:ne.isOpen,title:ne.selected?"Update Post":"Create Post",description:ne.selected?"Update this post":"Create a new post","confirm-text":ne.selected?Ee.value:"Create","confirm-loading":k(c).mutationLoading,onConfirm:P,onCancel:V},{default:ve(()=>[re("form",{ref_key:"dialog",ref:h,class:"pt-6 mb-4 xl:px-36"},[le(hr,{ref_key:"title",ref:f,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:L.title.value,"onUpdate:modelValue":q[0]||(q[0]=J=>L.title.value=J),error:L.title.error,"onUpdate:error":q[1]||(q[1]=J=>L.title.error=J),rules:[k(Et).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),le(hr,{ref_key:"description",ref:p,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:L.description.value,"onUpdate:modelValue":q[2]||(q[2]=J=>L.description.value=J),error:L.description.error,"onUpdate:error":q[3]||(q[3]=J=>L.description.error=J),"max-length":500,"input-props":{type:"textarea",rows:L.description.value.split(`
`).length<=5?L.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),le(ar,{ref_key:"alignment",ref:y,name:"alignment",label:"Alignment",modelValue:L.alignment.value,"onUpdate:modelValue":q[4]||(q[4]=J=>L.alignment.value=J),error:L.alignment.error,"onUpdate:error":q[5]||(q[5]=J=>L.alignment.error=J),options:k(rS),rules:[k(Et).Required]},null,8,["modelValue","error","options","rules"]),le(Zy,{ref_key:"coverImageUrl",ref:C,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:L.coverImageUrl.value,"onUpdate:modelValue":q[6]||(q[6]=J=>L.coverImageUrl.value=J),error:L.coverImageUrl.error,"onUpdate:error":q[7]||(q[7]=J=>L.coverImageUrl.error=J),"blog-post":ee.value},null,8,["modelValue","error","blog-post"]),ne.isOpen?(D(),ge(Vh,{key:0,text:"Other content"},{default:ve(()=>[le(hr,{ref_key:"descriptionFooter",ref:g,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:L.descriptionFooter.value,"onUpdate:modelValue":q[8]||(q[8]=J=>L.descriptionFooter.value=J),error:L.descriptionFooter.error,"onUpdate:error":q[9]||(q[9]=J=>L.descriptionFooter.error=J),"max-length":300,"input-props":{type:"textarea",rows:L.descriptionFooter.value.split(`
`).length<=5?L.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),le(Bh,{ref_key:"countdown",ref:O,name:"countdown",label:"Countdown",modelValue:L.countdown.value,"onUpdate:modelValue":q[10]||(q[10]=J=>L.countdown.value=J),error:L.countdown.error,"onUpdate:error":q[11]||(q[11]=J=>L.countdown.error=J)},null,8,["modelValue","error"]),le(Bh,{ref_key:"timer",ref:R,name:"timer",label:"Timer",modelValue:L.timer.value,"onUpdate:modelValue":q[12]||(q[12]=J=>L.timer.value=J),error:L.timer.error,"onUpdate:error":q[13]||(q[13]=J=>L.timer.error=J)},null,8,["modelValue","error"])]),_:1})):oe("",!0),ne.isOpen?(D(),ge(Vh,{key:1,text:"Sections"},{default:ve(()=>[(D(!0),Z(Se,null,ut(L.sections.value,(J,he)=>(D(),Z("div",{key:he,class:"border border-gray-400 rounded-lg py-5 mb-5"},[re("div",$K,[re("p",null,"Section "+ze(he+1),1)]),re("div",UK,[le(hr,{ref_for:!0,ref_key:"sectionTitle",ref:_,id:he,name:"sectionTitle",label:"Section Title",modelValue:J.title.value,"onUpdate:modelValue":ce=>J.title.value=ce,error:J.title.error,"onUpdate:error":ce=>J.title.error=ce,max:50},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),le(hr,{ref_for:!0,ref_key:"sectionDescription",ref:v,id:he,name:"sectionDescription",label:"Section Description",modelValue:J.description.value,"onUpdate:modelValue":ce=>J.description.value=ce,error:J.description.error,"onUpdate:error":ce=>J.description.error=ce,max:300},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),le(ar,{ref_for:!0,ref_key:"sectionAlignment",ref:b,id:he,name:"sectionAlignment",label:"Alignment",modelValue:J.alignment.value,"onUpdate:modelValue":ce=>J.alignment.value=ce,error:J.alignment.error,"onUpdate:error":ce=>J.alignment.error=ce,options:k(rS),rules:[k(Et).Required]},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error","options","rules"]),le(Zy,{ref_for:!0,ref:"sectionCoverImageUrl",id:he,name:"coverImageUrl",label:"Cover image",modelValue:J.coverImageUrl.value,"onUpdate:modelValue":ce=>J.coverImageUrl.value=ce,error:J.coverImageUrl.error,"onUpdate:error":ce=>J.coverImageUrl.error=ce},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),le(Bh,{ref_for:!0,ref_key:"sectionCountdown",ref:m,id:he,name:"countdown",label:"Countdown",modelValue:J.countdown.value,"onUpdate:modelValue":ce=>J.countdown.value=ce,error:J.countdown.error,"onUpdate:error":ce=>J.countdown.error=ce},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),le(Bh,{ref_for:!0,ref_key:"sectionTimer",ref:w,id:he,name:"timer",label:"Timer",modelValue:J.timer.value,"onUpdate:modelValue":ce=>J.timer.value=ce,error:J.timer.error,"onUpdate:error":ce=>J.timer.error=ce},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),re("div",FK,[le(vt,{class:"w-1/2",type:"danger",outlined:"",onClick:q[14]||(q[14]=ce=>L.sections.value.pop())},{default:ve(()=>[Xe(" Delete ")]),_:1})])])]))),128)),re("div",VK,[le(vt,{class:"w-1/2",type:"action-positive",onClick:q[15]||(q[15]=J=>L.sections.value.push({title:{value:"",error:""},description:{value:"",error:""},alignment:{value:"left",error:""},coverImageUrl:{value:"",error:""},countdown:{value:null,error:""},timer:{value:null,error:""}}))},{default:ve(()=>[Xe(" Add Section ")]),_:1})])]),_:1})):oe("",!0),ne.isOpen?(D(),ge(Vh,{key:2,text:"Styling"},{default:ve(()=>[le(ar,{ref_key:"colorPrimary",ref:M,name:"colorPrimary",label:"Primary Style",modelValue:L.colorPrimary.value,"onUpdate:modelValue":q[16]||(q[16]=J=>L.colorPrimary.value=J),error:L.colorPrimary.error,"onUpdate:error":q[17]||(q[17]=J=>L.colorPrimary.error=J),options:k(na),rules:[k(Et).Required]},null,8,["modelValue","error","options","rules"]),le(ar,{ref_key:"opacityPrimary",ref:S,name:"opacityPrimary",label:"Primary Opacity",modelValue:L.opacityPrimary.value,"onUpdate:modelValue":q[18]||(q[18]=J=>L.opacityPrimary.value=J),error:L.opacityPrimary.error,"onUpdate:error":q[19]||(q[19]=J=>L.opacityPrimary.error=J),options:k(il)},null,8,["modelValue","error","options"]),le(ar,{ref_key:"colorSecondary",ref:x,name:"colorSecondary",label:"Secondary Style",modelValue:L.colorSecondary.value,"onUpdate:modelValue":q[20]||(q[20]=J=>L.colorSecondary.value=J),error:L.colorSecondary.error,"onUpdate:error":q[21]||(q[21]=J=>L.colorSecondary.error=J),options:k(iS)(k(na).find(J=>J.value===L.colorPrimary.value))},null,8,["modelValue","error","options"]),le(ar,{ref_key:"opacitySecondary",ref:N,name:"opacitySecondary",label:"Secondary Opacity",modelValue:L.opacitySecondary.value,"onUpdate:modelValue":q[22]||(q[22]=J=>L.opacitySecondary.value=J),error:L.opacitySecondary.error,"onUpdate:error":q[23]||(q[23]=J=>L.opacitySecondary.error=J),options:k(il)},null,8,["modelValue","error","options"]),le(ar,{ref_key:"colorTertiary",ref:A,name:"colorTertiary",label:"Tertiary Style",modelValue:L.colorTertiary.value,"onUpdate:modelValue":q[24]||(q[24]=J=>L.colorTertiary.value=J),error:L.colorTertiary.error,"onUpdate:error":q[25]||(q[25]=J=>L.colorTertiary.error=J),options:k(iY)},null,8,["modelValue","error","options"]),le(ar,{ref_key:"opacityTertiary",ref:F,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:L.opacityTertiary.value,"onUpdate:modelValue":q[26]||(q[26]=J=>L.opacityTertiary.value=J),error:L.opacityTertiary.error,"onUpdate:error":q[27]||(q[27]=J=>L.opacityTertiary.error=J),options:k(il)},null,8,["modelValue","error","options"])]),_:1})):oe("",!0),ne.isOpen?(D(),ge(Vh,{key:3,text:"Advanced"},{default:ve(()=>[le(hr,{name:"allowedUserNames",label:"Allowed users","model-value":I.value,"input-props":{disabled:!0}},null,8,["model-value"]),le(ar,{ref_key:"allowedUsers",ref:H,name:"allowedUserIds",label:"Allowed users",options:X.value.filter(({value:J})=>{var he;return J!==((he=k(r))==null?void 0:he.uid)}),multiple:"","model-value":L.allowedUserIds.value,error:L.allowedUserIds.error,"onUpdate:error":q[28]||(q[28]=J=>L.allowedUserIds.error=J),"onUpdate:arrayValue":q[29]||(q[29]=J=>L.allowedUserIds.value=[...J.length?X.value.filter(({value:he})=>{var ce;return he===((ce=k(r))==null?void 0:ce.uid)}).map(he=>he.value):[],...J])},null,8,["options","model-value","error"]),le(fp,{ref_key:"locked",ref:T,name:"locked",label:"Locked for commenting",modelValue:L.locked.value,"onUpdate:modelValue":q[30]||(q[30]=J=>L.locked.value=J)},null,8,["modelValue"]),le(fp,{ref_key:"archived",ref:W,name:"archived",label:"Archived",modelValue:L.archived.value,"onUpdate:modelValue":q[31]||(q[31]=J=>L.archived.value=J)},null,8,["modelValue"])]),_:1})):oe("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),jK={key:0,class:"grid grid-cols-6 mb-5 gap-5"},HK={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},WK={class:"grid gap-4 md:gap-10 xl:gap-20"},YK={key:2,class:"flex justify-center mt-5"},KK=Ce({__name:"BlogPosts",setup(t){const e=Un(),{deleteBlogPost:n,fetchBlogPosts:r}=e,{blogPosts:i,visibleBlogPosts:s}=Qt(e),{isOwner:o,firebaseUser:a}=Qt(Ln()),l=ue(),u=ue(),c=ue(!1),d=ue(!1),h=ue(null),f=()=>{h.value=null,c.value=!0},p=m=>{h.value=m,c.value=!0},g=m=>{h.value=m,d.value=!0},y=async m=>{await n(m)&&(d.value=!1,h.value=null)},_=()=>{c.value=!1,h.value=null},v=async m=>{var w;i.value.visibility!==m&&(i.value.visibility=m,s.value.length||await r((w=a.value)==null?void 0:w.uid),Oy(l.value))},b=async()=>{var w;i.value.page=i.value.page+1;const m=s.value.length;await r((w=a.value)==null?void 0:w.uid),s.value[m]&&Oy(u.value[m])};return(m,w)=>(D(),Z(Se,null,[re("div",{ref_key:"container",ref:l},[k(a)?(D(),Z("div",jK,[le(vt,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"orange",outlined:k(i).visibility!=="public",loading:k(i).fetchLoading,onClick:w[0]||(w[0]=T=>v("public"))},{default:ve(()=>[Xe(" Public Posts ")]),_:1},8,["outlined","loading"]),k(o)?(D(),ge(vt,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",onClick:f},{default:ve(()=>[Xe(" New Post ")]),_:1})):oe("",!0),le(vt,{type:"orange",class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",outlined:k(i).visibility!=="private",loading:k(i).fetchLoading,onClick:w[1]||(w[1]=T=>v("private"))},{default:ve(()=>[Xe(" Private Posts ")]),_:1},8,["outlined","loading"])])):oe("",!0),k(a)?(D(),Z("div",HK,[le(vt,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"orange",outlined:k(i).visibility!=="public",loading:k(i).fetchLoading,onClick:w[2]||(w[2]=T=>v("public"))},{default:ve(()=>[Xe(" Public Posts ")]),_:1},8,["outlined","loading"]),le(vt,{type:"orange",class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",outlined:k(i).visibility!=="private",loading:k(i).fetchLoading,onClick:w[3]||(w[3]=T=>v("private"))},{default:ve(()=>[Xe(" Private Posts ")]),_:1},8,["outlined","loading"])])):oe("",!0),re("div",WK,[(D(!0),Z(Se,null,ut(k(s),T=>(D(),Z("div",{key:T.id,ref_for:!0,ref_key:"posts",ref:u},[le(Jy,{post:T,onEditClicked:M=>p(T),onDeleteClicked:M=>g(T)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128))]),k(i).isLastPage?oe("",!0):(D(),Z("div",YK,[le(vt,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:k(i).fetchLoading,onClick:b},{default:ve(()=>[Xe(" Load more posts ")]),_:1},8,["loading"])]))],512),le(BK,{isOpen:c.value,selected:h.value,onClose:_},null,8,["isOpen","selected"]),h.value?(D(),ge(Yb,{key:0,title:"Delete Post",isOpen:d.value,description:[` Are you sure you want to delete this post called ' ${h.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:w[4]||(w[4]=T=>y(h.value.id)),onCancel:w[5]||(w[5]=T=>d.value=!1)},null,8,["isOpen","description"])):oe("",!0)],64))}}),zK={class:"bg-black text-white shadow-md py-4"},GK={class:"container mx-auto text-center"},qK=Ce({__name:"Footer",setup(t){const{content:e}=Qt(Un());return(n,r)=>(D(),Z("footer",zK,[re("div",GK,[re("p",null,"© "+ze(new Date().getFullYear()+" "+k(e).footerCopyright),1)])]))}}),QK={class:"flex justify-between"},XK={class:"hidden sm:block w-full sm:min-w-fit"},JK=["src","alt"],ZK={class:"w-fit sm:max-w-1/2"},ez={class:"title-primary"},tz={class:"title-secondary"},nz={class:"title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},rz={class:"mt-2 flex items-center whitespace-nowrap me-6"},iz={class:"mt-2 flex items-center whitespace-nowrap"},sz={class:"sm:hidden min-w-fit mt-3"},oz=["src","alt"],lS=Ce({__name:"HeaderTop",setup(t){const{profile:e,content:n}=Qt(Un());return(r,i)=>{const s=Ls("RouterLink");return D(),Z("div",QK,[re("div",XK,[le(s,{to:{name:"home"}},{default:ve(()=>[re("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:k(n).avatarUrl,alt:k(e).name},null,8,JK)]),_:1})]),re("div",ZK,[re("h1",ez,ze(k(e).name),1),re("h2",tz,ze(k(e).service),1),re("div",nz,[re("div",rz,[le(k(oY),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Xe(" "+ze(k(e).role),1)]),re("div",iz,[le(k(lY),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Xe(" "+ze(k(e).location.city)+", "+ze(k(e).location.country),1)])])]),re("div",sz,[le(s,{to:{name:"home"}},{default:ve(()=>[re("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:k(n).avatarUrl,alt:k(e).name},null,8,oz)]),_:1})])])}}}),az=Ce({__name:"DropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=Ln(),{currentUser:n}=Qt(e),{visibleMenuItems:r}=Qt(Un());return(i,s)=>(D(),Z(Se,null,[Ji(re("div",{class:"md:hidden w-screen h-screen z-10 bg-gray-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Cs,i.isOpen]]),Ji(re("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-gray-900 border border-indigo-600 rounded-xl",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(D(!0),Z(Se,null,ut(k(r),o=>(D(),ge(vt,{class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:o.url,loading:o.loading},{default:ve(()=>[Xe(ze(o.name),1)]),_:2},1032,["url","loading"]))),256)),k(n)?(D(),ge(vt,{key:0,class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:"dashboard"},{default:ve(()=>[Xe(" Dashboard ")]),_:1})):oe("",!0),k(n)?(D(),ge(vt,{key:1,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"danger",onClick:k(e).logout},{default:ve(()=>[Xe(" Logout ")]),_:1},8,["onClick"])):(D(),ge(vt,{key:2,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"secondary",url:"login"},{default:ve(()=>[Xe(" Login ")]),_:1}))],512),[[Cs,i.isOpen]])],64))}}),lz={key:0,class:De(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},uz={class:"group fixed w-full px-10 sm:px-0 sm:relative md:hidden"},cz={class:"flex justify-between sm:justify-center"},dz=re("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),hz=[dz],fz=Ce({__name:"Menu",setup(t){const e=Ln(),{currentUser:n,logoutLoading:r}=Qt(e),{visibleMenuItems:i}=Qt(Un()),s=ue(),o=ue(!1),a=()=>{o.value=!o.value,o.value&&Rr(()=>{var l;(l=s.value)==null||l.scrollIntoView({behavior:"smooth",block:"center"})})};return(l,u)=>k(i).length?(D(),Z("div",lz,[(D(!0),Z(Se,null,ut(k(i),c=>(D(),ge(vt,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",outlined:"",url:c.url,loading:c.loading},{default:ve(()=>[Xe(ze(c.name),1)]),_:2},1032,["url","loading"]))),256)),k(n)?oe("",!0):(D(),ge(vt,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"secondary",outlined:"",url:"login"},{default:ve(()=>[Xe(" Login ")]),_:1})),k(n)?(D(),ge(vt,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:k(r),onClick:k(e).logout},{default:ve(()=>[Xe(" Logout ")]),_:1},8,["loading","onClick"])):oe("",!0),re("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[re("div",uz,[re("div",{class:De(["flex animation",o.value?"justify-center":"justify-end"])},[le(vt,{class:De(["sm:w-full bg-black bg-opacity-50 sm:bg-transparent",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",onClick:a},{default:ve(()=>[re("div",cz,[le(XR,{rotate:o.value,class:De(["group-hover:block",o.value?"block":"hidden"])},null,8,["rotate","class"]),re("p",{class:De(["sm:block group-hover:block",o.value?"block":"hidden"])},"Menu",2),(D(),Z("svg",{class:De(["h-6 sm:hidden group-hover:hidden",o.value?"hidden":null]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},hz,2))])]),_:1},8,["class"])],2)]),le(az,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):oe("",!0)}}),pz={class:De(["w-fit md:w-1/3","mb-8 py-8 bg-transparent text-indigo-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-black sm:bg-opacity-50 sm:rounded-3xl sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-3xl lg:rounded-t-none"])},mz={key:0,class:"hidden sm:flex justify-center mb-4"},gz={class:"hidden md:block w-4/5 space-y-2"},vz={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},yz={class:"flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},wz={key:1},bz={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},_z={class:"font-semibold text-base first:font-bold first:text-lg"},Tz=Ce({__name:"PersonCard",setup(t){const{currentUser:e}=Qt(Ln()),{content:n}=Qt(Un());return(r,i)=>{const s=Ls("RouterLink");return D(),Z("div",pz,[k(e)?(D(),Z("div",mz,[re("div",gz,[(D(!0),Z(Se,null,ut(k(n).headerDescriptionUser,o=>(D(),Z("p",vz,ze(o.replace("%USER%",k(e).firstName+(k(e).lastName?" "+k(e).lastName:""))),1))),256))]),re("div",yz,[le(s,{to:{name:"dashboard"}},{default:ve(()=>[le(k(uY),{class:"w-16 h-16 rounded-full border-2 text-indigo-600 border-indigo-600 animation-scale"})]),_:1})])])):(D(),Z("div",wz,[re("div",bz,[(D(!0),Z(Se,null,ut(k(n).headerDescriptionGuest,o=>(D(),Z("p",_z,ze(o),1))),256))])])),le(fz)])}}}),Ez={class:"sm:flex sm:items-start sm:justify-between mb-20"},Sz={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},Cz=Ce({__name:"Header",setup(t){return(e,n)=>(D(),Z("div",Ez,[le(lS,{class:"hidden sm:block"}),re("div",Sz,[le(Tz,{class:De(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto"])})]),le(lS,{class:"sm:hidden"})]))}}),Iz={class:"min-h-screen bg-gradient-to-t from-black to-blue-900 via-gray-800"},kz={class:"mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-3xl text-white bg-blue-gray-900 bg-opacity-50 bg-gradient-to-b from-transparent to-black via-purple-900 border-opacity-100"},Vo=Ce({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{firebaseUser:n}=Ln(),{fetchAll:r}=Un(),i=K0(),s=ue(),o=()=>{r(n==null?void 0:n.uid),e.scrollToContent&&Oy(s.value)};return pn(()=>i.fullPath,()=>{o()}),an(()=>{o()}),(a,l)=>(D(),Z(Se,null,[re("div",Iz,[re("div",kz,[re("header",null,[a.$slots.header?Ae(a.$slots,"header",{key:0}):(D(),ge(Cz,{key:1}))]),re("main",null,[re("div",{ref_key:"content",ref:s},[Ae(a.$slots,"content")],512)])])]),re("footer",null,[a.$slots.footer?Ae(a.$slots,"footer",{key:0}):(D(),ge(qK,{key:1}))])],64))}}),Az={class:"grid mt-10 md:mt-15"},xz={class:"grid justify-center"},Pz={class:"text-lg md:text-xl text-white"},Dz=["innerHTML"],Rz={class:"grid my-5 xl:mx-20"},Oz=Ce({__name:"Blog",setup(t){const{publicUser:e}=Qt(Ln()),{menuItems:n,content:r}=Qt(Un()),i=K0();return(s,o)=>(D(),ge(Vo,null,{content:ve(()=>{var a;return[re("div",Az,[re("div",xz,[(D(!0),Z(Se,null,ut(k(e)?[...k(r).blogDescriptionUser.map(l=>l.replace("%USER%",k(e).displayName||"Unknown user")),...((a=k(n).find(l=>l.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:a.description)||[]]:k(r).blogDescriptionGuest,l=>(D(),Z("h1",Pz,[re("span",{innerHTML:l},null,8,Dz)]))),256))]),re("div",Rz,[k(i).params.postId?(D(),ge(sK,{key:0})):(D(),ge(KK,{key:1}))])])]}),_:1}))}}),Nz=Ce({__name:"Blog",setup(t){return(e,n)=>(D(),ge(Oz))}}),Mz={class:"flex flex-col items-center content-center"},Lz=Ce({__name:"CatCalc",setup(t){const e=$n({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"Nederlandse Voedsel- en Warenautoriteit"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=ie(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(w,T)=>{const x=o[w].sort((C,H)=>C.weight-H.weight);let A=x[x.length-2].weight,S=x[x.length-2].calories,N=x[x.length-1].weight,F=x[x.length-1].calories;for(let C=0;C<x.length-1;C++)if(T>=x[C].weight&&T<=x[C+1].weight){A=x[C].weight,S=x[C].calories,N=x[C+1].weight,F=x[C+1].calories;break}return{x1:A,y1:S,x2:N,y2:F}},l=(w,T)=>{const{x1:M,y1:x,x2:A,y2:S}=a(w,T);return x+(T-M)*(S-x)/(A-M)},u=()=>{const w=new Map;for(const x of Object.values(o).filter(A=>A!==o.average))for(const{weight:A,calories:S}of x)w.has(A)||w.set(A,{sum:0,count:0}),w.get(A).sum+=S,w.get(A).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(x=>w.has(x)).map(x=>({weight:x,calories:w.get(x).sum/w.get(x).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40}],f=ie(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=ie(()=>{var w;return f.value*(((w=r.find(T=>T.value===e.catAge.value))==null?void 0:w.rerIndex)??1)}),g=ie(()=>{var w;return p.value*(((w=s.value.find(T=>T.value===e.catSize.value))==null?void 0:w.factor)??1)}),y=ie(()=>{const w=h.find(T=>T.value===e.catFoodSnax.value);return w!=null&&w.calories?g.value*(Number(e.catFoodSnaxPercentage.value)/100)/w.calories:void 0}),_=ie(()=>g.value*(1-Number(y.value?e.catFoodSnaxPercentage.value:0)/100)),v=ie(()=>{const w=d.find(T=>T.value===e.catFoodWet.value);return w!=null&&w.calories?_.value/4/w.calories*100:void 0}),b=ie(()=>_.value/4*(v.value?3:4)),m=ie(()=>{var w;return b.value/(((w=c.find(T=>T.value===e.catFoodDry.value))==null?void 0:w.calories)??c[0].calories)*100});return(w,T)=>(D(),ge(Vo,null,{content:ve(()=>[le(Dr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:ve(()=>{var M;return[re("div",Mz,[le(ar,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":T[0]||(T[0]=x=>e.calculator.value=x),error:e.calculator.error,"onUpdate:error":T[1]||(T[1]=x=>e.calculator.error=x),options:n,rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),le(hr,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":T[2]||(T[2]=x=>e.catWeigth.value=x),error:e.catWeigth.error,"onUpdate:error":T[3]||(T[3]=x=>e.catWeigth.error=x),rules:[k(Et).Required,k(Et).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),le(ar,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":T[4]||(T[4]=x=>e.catAge.value=x),error:e.catAge.error,"onUpdate:error":T[5]||(T[5]=x=>e.catAge.error=x),options:r,rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),le(ar,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":T[6]||(T[6]=x=>e.catGender.value=x),error:e.catGender.error,"onUpdate:error":T[7]||(T[7]=x=>e.catGender.error=x),options:i,rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),le(ar,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":T[8]||(T[8]=x=>e.catSize.value=x),error:e.catSize.error,"onUpdate:error":T[9]||(T[9]=x=>e.catSize.error=x),options:s.value,rules:[k(Et).Required]},null,8,["modelValue","error","options","rules"]),le(Dr,{class:"w-full md:w-1/2 border border-gray-400",description:"Required energy per day: "+g.value.toFixed(1)+" kcal"},null,8,["description"]),le(ar,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":T[10]||(T[10]=x=>e.catFoodDry.value=x),error:e.catFoodDry.error,"onUpdate:error":T[11]||(T[11]=x=>e.catFoodDry.error=x),options:c,rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),le(ar,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":T[12]||(T[12]=x=>e.catFoodWet.value=x),error:e.catFoodWet.error,"onUpdate:error":T[13]||(T[13]=x=>e.catFoodWet.error=x),options:d,rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),le(ar,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":T[14]||(T[14]=x=>e.catFoodSnax.value=x),error:e.catFoodSnax.error,"onUpdate:error":T[15]||(T[15]=x=>e.catFoodSnax.error=x),options:h,rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(D(),ge(hr,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":T[16]||(T[16]=x=>e.catFoodSnaxPercentage.value=x),error:e.catFoodSnaxPercentage.error,"onUpdate:error":T[17]||(T[17]=x=>e.catFoodSnaxPercentage.error=x),rules:[k(Et).Required,k(Et).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):oe("",!0),le(Dr,{class:"w-full md:w-1/2 border border-gray-400",title:"Result","sub-title":"Based on constants from "+((M=n.find(x=>x.value===e.calculator.value))==null?void 0:M.label),description:["Required dry food per day: "+m.value.toFixed(1)+" g","","","Required dry food per meal: "+(m.value/(v.value?2:3)).toFixed(1)+" g",...v.value?["Required wet food per day: "+v.value.toFixed(1)+" g"]:[],...y.value?["Allowed snacks per day: "+y.value.toFixed(y.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),$z=Ce({__name:"CatCalc",setup(t){return(e,n)=>(D(),ge(Lz))}}),Uz={class:"min-w-0 flex-1"},Fz=re("img",{class:"w-48 h-48 rounded-full animation-scale mb-4 cursor-pointer",src:"https://www.spigotmc.org/data/resource_icons/28/28103.jpg?1472586104",alt:"customvoting"},null,-1),Vz=Ce({__name:"CustomVoting",setup(t){return(e,n)=>{const r=Ls("RouterLink");return D(),ge(Vo,null,{header:ve(()=>[re("div",Uz,[le(r,{to:{name:"home"}},{default:ve(()=>[Fz]),_:1})])]),content:ve(()=>[le(Dr,{class:"!bg-yellow-700 !bg-opacity-50 my-5",title:"CustomVoting",description:"In Progress"})]),_:1})}}}),Bz=Ce({__name:"CustomVoting",setup(t){return(e,n)=>(D(),ge(Vz))}}),jz={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-primary"},Hz={class:"m-1 lg:w-4/5"},Kb=Ce({__name:"Privacy",setup(t){const{content:e}=Qt(Un());return(n,r)=>(D(),Z("div",jz,[(D(!0),Z(Se,null,ut(k(e).privacyStatement,i=>(D(),Z("p",Hz,ze(i),1))),256))]))}}),zb=Ce({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=ie({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ie({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(D(),ge(hr,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,k(Et).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),Sl=Ce({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=ie({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ie({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(D(),ge(hr,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),Wz={class:"flex flex-wrap pt-6 pb-8 mb-4"},Yz={class:"basis-full lg:basis-1/2"},Kz={class:"flex gap-3 mt-10 flex-wrap"},zz={class:"basis-full lg:basis-1/2"},Gz={class:"flex flex-col items-center content-center"},qz=Ce({__name:"Dashboard",setup(t){const e=Ln(),{currentUser:n,firebaseUser:r,publicUser:i,isOwner:s,mutationLoading:o}=Qt(e),a=Un(),{fetchAll:l}=a,{content:u,online:c,debug:d}=Qt(a),h=ue(!1),f=ue(),p=ue(),g=ue(),y=ue(),_=ue(),v=ue(),b=ue(),m=ue(),w=$n({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),T=ie(()=>({firstName:w.firstName.value,lastName:w.lastName.value})),M=ie(()=>({displayName:w.displayName.value,avatar:w.avatar.value})),x=ie(()=>!!i.value&&!Di(Xy.convert(i.value),M.value)),A=ie(()=>{var F;return w.email.value!==((F=r.value)==null?void 0:F.email)}),S=ie(()=>{const F=[];return Di(n.value,T.value)||F.push("Details"),x.value&&F.push("Public Profile"),A.value&&F.push("E-mail"),w.newPassword.value&&F.push("Password"),F.length?"Save "+Ny(F):void 0}),N=async()=>{var F;Object.keys(w).forEach(C=>w[C].error=""),w.newPassword.value&&(await Promise.all([_.value.test(),v.value.test(),b.value.test()]),!w.newPassword.error&&!w.currentPassword.error&&!w.repeatPassword.error&&(await e.updatePassword(w.newPassword.value,w.currentPassword.value),w.newPassword.value="",w.currentPassword.value="")),x.value&&(await g.value.test(),!w.displayName.error&&!w.avatar.error&&e.updatePublicUser({displayName:w.displayName.value,avatar:w.avatar.value})),A.value&&(await Promise.all([y.value.test(),v.value.test()]),!w.email.error&&!w.currentPassword.error&&(await e.updateMail(w.email.value,w.currentPassword.value),w.currentPassword.value="")),Di(n.value,T.value)||(await Promise.all([f.value.test(),p.value.test()]),!w.firstName.error&&!w.lastName.error&&e.updateUser({firstName:w.firstName.value,lastName:w.lastName.value})),await l((F=r.value)==null?void 0:F.uid,!0)};return kC(()=>{var F,C,H,O,R;w.firstName.value=((F=n.value)==null?void 0:F.firstName)||"",w.lastName.value=((C=n.value)==null?void 0:C.lastName)||"",w.displayName.value=((H=i.value)==null?void 0:H.displayName)||"",w.email.value=((O=r.value)==null?void 0:O.email)||"",w.avatar.value=((R=i.value)==null?void 0:R.avatar)||""}),(F,C)=>(D(),ge(Vo,null,{content:ve(()=>[k(n)&&k(r)?(D(),ge(Dr,{key:0,class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Welcome "+k(n).firstName+(k(n).lastName?" "+k(n).lastName:""),description:k(u).dashboardDescription},{default:ve(()=>[re("div",Wz,[re("div",Yz,[re("form",{onSubmit:C[19]||(C[19]=Pt(H=>N(),["prevent"]))},[le(hr,{name:"accountType",label:"Account Type","model-value":k(s)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),le(hr,{ref_key:"firstName",ref:f,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:w.firstName.value,"onUpdate:modelValue":C[0]||(C[0]=H=>w.firstName.value=H),error:w.firstName.error,"onUpdate:error":C[1]||(C[1]=H=>w.firstName.error=H),rules:[k(Et).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),le(hr,{ref_key:"lastName",ref:p,name:"lastName",label:"Last Name",modelValue:w.lastName.value,"onUpdate:modelValue":C[2]||(C[2]=H=>w.lastName.value=H),error:w.lastName.error,"onUpdate:error":C[3]||(C[3]=H=>w.lastName.error=H),"min-length":3,"max-length":50},null,8,["modelValue","error"]),le(hr,{ref_key:"displayName",ref:g,name:"displayName",label:"Public Username",modelValue:w.displayName.value,"onUpdate:modelValue":C[4]||(C[4]=H=>w.displayName.value=H),error:w.displayName.error,"onUpdate:error":C[5]||(C[5]=H=>w.displayName.error=H),rules:[k(Et).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),le(zb,{ref_key:"email",ref:y,name:"email",label:"E-mail",modelValue:w.email.value,"onUpdate:modelValue":C[6]||(C[6]=H=>w.email.value=H),error:w.email.error,"onUpdate:error":C[7]||(C[7]=H=>w.email.error=H),rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),A.value?(D(),ge(Sl,{key:0,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":C[8]||(C[8]=H=>w.currentPassword.value=H),error:w.currentPassword.error,"onUpdate:error":C[9]||(C[9]=H=>w.currentPassword.error=H),rules:[k(Et).Required]},null,8,["modelValue","error","rules"])):oe("",!0),le(Sl,{ref_key:"newPassword",ref:_,name:"newPassword",label:"New Password",modelValue:w.newPassword.value,"onUpdate:modelValue":C[10]||(C[10]=H=>w.newPassword.value=H),error:w.newPassword.error,"onUpdate:error":C[11]||(C[11]=H=>w.newPassword.error=H),min:6,max:50},null,8,["modelValue","error"]),w.newPassword.value?(D(),ge(Sl,{key:1,ref_key:"repeatPassword",ref:b,name:"repeatPassword",label:"Repeat New Password",modelValue:w.repeatPassword.value,"onUpdate:modelValue":C[12]||(C[12]=H=>w.repeatPassword.value=H),error:w.repeatPassword.error,"onUpdate:error":C[13]||(C[13]=H=>w.repeatPassword.error=H),rules:[k(Et).Required],compare:{value:w.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):oe("",!0),w.newPassword.value&&!A.value?(D(),ge(Sl,{key:2,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":C[14]||(C[14]=H=>w.currentPassword.value=H),error:w.currentPassword.error,"onUpdate:error":C[15]||(C[15]=H=>w.currentPassword.error=H),rules:[k(Et).Required]},null,8,["modelValue","error","rules"])):oe("",!0),re("div",Kz,[S.value?(D(),ge(vt,{key:0,class:"w-full",action:"submit",loading:k(o)},{default:ve(()=>[Xe(ze(S.value),1)]),_:1},8,["loading"])):oe("",!0),k(s)?oe("",!0):(D(),ge(vt,{key:1,class:"w-full",type:"danger",outlined:"",onClick:C[16]||(C[16]=H=>h.value=!0)},{default:ve(()=>[Xe(" Delete account ")]),_:1}))]),k(s)?(D(),ge(fp,{key:3,name:"online",label:"Online",modelValue:k(c),"onUpdate:modelValue":C[17]||(C[17]=H=>Gt(c)?c.value=H:null)},null,8,["modelValue"])):oe("",!0),k(s)?(D(),ge(fp,{key:4,name:"debug",label:"Debug",modelValue:k(d),"onUpdate:modelValue":C[18]||(C[18]=H=>Gt(d)?d.value=H:null)},null,8,["modelValue"])):oe("",!0)],32)]),re("div",zz,[le(Zy,{ref_key:"avatar",ref:m,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:w.avatar.value,"onUpdate:modelValue":C[20]||(C[20]=H=>w.avatar.value=H),error:w.avatar.error,"onUpdate:error":C[21]||(C[21]=H=>w.avatar.error=H),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])])]),re("div",Gz,[le(Kb)])]),_:1},8,["title","description"])):oe("",!0),le(Yb,{title:"Delete Account",isOpen:h.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:C[22]||(C[22]=H=>k(e).deleteAccount()),onCancel:C[23]||(C[23]=H=>h.value=!1)},null,8,["isOpen","description"])]),_:1}))}}),Qz=Ce({__name:"Dashboard",setup(t){return(e,n)=>(D(),ge(qz))}});var Xz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var eO={exports:{}};const Zz=ZR(nL);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function as(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){eG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function df(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?df=function(e){return typeof e}:df=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function eG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yi(){return yi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi.apply(this,arguments)}function tG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nG(t,e){if(t==null)return{};var n=tG(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rG(t){return iG(t)||sG(t)||oG(t)||aG()}function iG(t){if(Array.isArray(t))return e0(t)}function sG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oG(t,e){if(t){if(typeof t=="string")return e0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e0(t,e)}}function e0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var lG="1.14.0";function xs(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Vs=xs(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),th=xs(/Edge/i),cS=xs(/firefox/i),Rc=xs(/safari/i)&&!xs(/chrome/i)&&!xs(/android/i),tO=xs(/iP(ad|od|hone)/i),uG=xs(/chrome/i)&&xs(/android/i),nO={capture:!1,passive:!1};function mt(t,e,n){t.addEventListener(e,n,!Vs&&nO)}function ht(t,e,n){t.removeEventListener(e,n,!Vs&&nO)}function pp(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function cG(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Si(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&pp(t,e):pp(t,e))||r&&t===n)return t;if(t===n)break}while(t=cG(t))}return null}var dS=/\s+/g;function hn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(dS," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(dS," ")}}function He(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function ga(t,e){var n="";if(typeof t=="string")n=t;else do{var r=He(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function rO(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function ns(){var t=document.scrollingElement;return t||document.documentElement}function un(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==ns()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Vs))do if(i&&i.getBoundingClientRect&&(He(i,"transform")!=="none"||n&&He(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(He(i,"border-top-width")),a-=h.left+parseInt(He(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var f=ga(i||t),p=f&&f.a,g=f&&f.d;f&&(o/=g,a/=p,d/=p,c/=g,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function hS(t,e,n){for(var r=lo(t,!0),i=un(t)[e];r;){var s=un(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===ns())break;r=lo(r,!1)}return!1}function uu(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==tt.ghost&&(r||o[s]!==tt.dragged)&&Si(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function Gb(t,e){for(var n=t.lastElementChild;n&&(n===tt.ghost||He(n,"display")==="none"||e&&!pp(n,e));)n=n.previousElementSibling;return n||null}function yn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==tt.clone&&(!e||pp(t,e))&&n++;return n}function fS(t){var e=0,n=0,r=ns();if(t)do{var i=ga(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function dG(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function lo(t,e){if(!t||!t.getBoundingClientRect)return ns();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=He(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ns();if(r||e)return n;r=!0}}while(n=n.parentNode);return ns()}function hG(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function zg(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Oc;function iO(t,e){return function(){if(!Oc){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Oc=setTimeout(function(){Oc=void 0},e)}}}function fG(){clearTimeout(Oc),Oc=void 0}function sO(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function qb(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function pS(t,e){He(t,"position","absolute"),He(t,"top",e.top),He(t,"left",e.left),He(t,"width",e.width),He(t,"height",e.height)}function Gg(t){He(t,"position",""),He(t,"top",""),He(t,"left",""),He(t,"width",""),He(t,"height","")}var pr="Sortable"+new Date().getTime();function pG(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(He(i,"display")==="none"||i===tt.ghost)){t.push({target:i,rect:un(i)});var s=as({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=ga(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(dG(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=un(u),h=u.prevFromRect,f=u.prevToRect,p=a.rect,g=ga(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&zg(h,d)&&!zg(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=gG(p,h,f,i.options)),zg(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){He(r,"transition",""),He(r,"transform","");var a=ga(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,He(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=mG(r),He(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),He(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){He(r,"transition",""),He(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function mG(t){return t.offsetWidth}function gG(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var sl=[],qg={initializeByDefault:!0},nh={mount:function(e){for(var n in qg)qg.hasOwnProperty(n)&&!(n in e)&&(e[n]=qg[n]);sl.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),sl.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";sl.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](as({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](as({sortable:n},r)))})},initializePlugins:function(e,n,r,i){sl.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,yi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return sl.forEach(function(i){typeof i.eventProperties=="function"&&yi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return sl.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function uc(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[pr],!!e){var g,y=e.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Vs&&!th?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=o||n,g.from=a||n,g.item=i||n,g.clone=s,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var v=as(as({},p),nh.getEventProperties(r,e));for(var b in v)g[b]=v[b];n&&n.dispatchEvent(g),y[_]&&y[_].call(e,g)}}var vG=["evt"],Mr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=nG(r,vG);nh.pluginEvent.bind(tt)(e,n,as({dragEl:Te,parentEl:gn,ghostEl:lt,rootEl:ln,nextEl:Qo,lastDownEl:hf,cloneEl:vn,cloneHidden:ao,dragStarted:cc,putSortable:Qn,activeSortable:tt.active,originalEvent:i,oldIndex:Cl,oldDraggableIndex:Nc,newIndex:Qr,newDraggableIndex:to,hideGhostForTarget:uO,unhideGhostForTarget:cO,cloneNowHidden:function(){ao=!0},cloneNowShown:function(){ao=!1},dispatchSortableEvent:function(a){Cr({sortable:n,name:a,originalEvent:i})}},s))};function Cr(t){uc(as({putSortable:Qn,cloneEl:vn,targetEl:Te,rootEl:ln,oldIndex:Cl,oldDraggableIndex:Nc,newIndex:Qr,newDraggableIndex:to},t))}var Te,gn,lt,ln,Qo,hf,vn,ao,Cl,Qr,Nc,to,Hh,Qn,vl=!1,mp=!1,gp=[],Ko,bi,Qg,Xg,mS,gS,cc,ol,Mc,Lc=!1,Wh=!1,ff,or,Jg=[],t0=!1,vp=[],Vm=typeof document<"u",Yh=tO,vS=th||Vs?"cssFloat":"float",yG=Vm&&!uG&&!tO&&"draggable"in document.createElement("div"),oO=function(){if(Vm){if(Vs)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),aO=function(e,n){var r=He(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=uu(e,0,n),o=uu(e,1,n),a=s&&He(s),l=o&&He(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+un(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+un(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[vS]==="none"||o&&r[vS]==="none"&&u+c>i)?"vertical":"horizontal"},wG=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},bG=function(e,n){var r;return gp.some(function(i){var s=i[pr].options.emptyInsertThreshold;if(!(!s||Gb(i))){var o=un(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},lO=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||df(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},uO=function(){!oO&&lt&&He(lt,"display","none")},cO=function(){!oO&&lt&&He(lt,"display","")};Vm&&document.addEventListener("click",function(t){if(mp)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),mp=!1,!1},!0);var zo=function(e){if(Te){e=e.touches?e.touches[0]:e;var n=bG(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[pr]._onDragOver(r)}}},_G=function(e){Te&&Te.parentNode[pr]._isOutsideThisEl(e.target)};function tt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=yi({},e),t[pr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return aO(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:tt.supportPointer!==!1&&"PointerEvent"in window&&!Rc,emptyInsertThreshold:5};nh.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);lO(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:yG,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?mt(t,"pointerdown",this._onTapStart):(mt(t,"mousedown",this._onTapStart),mt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(mt(t,"dragover",this),mt(t,"dragenter",this)),gp.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),yi(this,pG())}tt.prototype={constructor:tt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ol=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Te):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(xG(r),!Te&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Rc&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Si(l,i.draggable,r,!1),!(l&&l.animated)&&hf!==l)){if(Cl=yn(l),Nc=yn(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Cr({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),Mr("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Si(u,d.trim(),r,!1),d)return Cr({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),Mr("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Si(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!Te&&r.parentNode===s){var u=un(r);if(ln=s,Te=r,gn=Te.parentNode,Qo=Te.nextSibling,hf=r,Hh=o.group,tt.dragged=Te,Ko={target:Te,clientX:(n||e).clientX,clientY:(n||e).clientY},mS=Ko.clientX-u.left,gS=Ko.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Te.style["will-change"]="all",l=function(){if(Mr("delayEnded",i,{evt:e}),tt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!cS&&i.nativeDraggable&&(Te.draggable=!0),i._triggerDragStart(e,n),Cr({sortable:i,name:"choose",originalEvent:e}),hn(Te,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){rO(Te,c.trim(),Zg)}),mt(a,"dragover",zo),mt(a,"mousemove",zo),mt(a,"touchmove",zo),mt(a,"mouseup",i._onDrop),mt(a,"touchend",i._onDrop),mt(a,"touchcancel",i._onDrop),cS&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Te.draggable=!0),Mr("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(th||Vs))){if(tt.eventCanceled){this._onDrop();return}mt(a,"mouseup",i._disableDelayedDrag),mt(a,"touchend",i._disableDelayedDrag),mt(a,"touchcancel",i._disableDelayedDrag),mt(a,"mousemove",i._delayedDragTouchMoveHandler),mt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&mt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Te&&Zg(Te),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ht(e,"mouseup",this._disableDelayedDrag),ht(e,"touchend",this._disableDelayedDrag),ht(e,"touchcancel",this._disableDelayedDrag),ht(e,"mousemove",this._delayedDragTouchMoveHandler),ht(e,"touchmove",this._delayedDragTouchMoveHandler),ht(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?mt(document,"pointermove",this._onTouchMove):n?mt(document,"touchmove",this._onTouchMove):mt(document,"mousemove",this._onTouchMove):(mt(Te,"dragend",this),mt(ln,"dragstart",this._onDragStart));try{document.selection?pf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(vl=!1,ln&&Te){Mr("dragStarted",this,{evt:n}),this.nativeDraggable&&mt(document,"dragover",_G);var r=this.options;!e&&hn(Te,r.dragClass,!1),hn(Te,r.ghostClass,!0),tt.active=this,e&&this._appendGhost(),Cr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(bi){this._lastX=bi.clientX,this._lastY=bi.clientY,uO();for(var e=document.elementFromPoint(bi.clientX,bi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(bi.clientX,bi.clientY),e!==n);)n=e;if(Te.parentNode[pr]._isOutsideThisEl(e),n)do{if(n[pr]){var r=void 0;if(r=n[pr]._onDragOver({clientX:bi.clientX,clientY:bi.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);cO()}},_onTouchMove:function(e){if(Ko){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=lt&&ga(lt,!0),a=lt&&o&&o.a,l=lt&&o&&o.d,u=Yh&&or&&fS(or),c=(s.clientX-Ko.clientX+i.x)/(a||1)+(u?u[0]-Jg[0]:0)/(a||1),d=(s.clientY-Ko.clientY+i.y)/(l||1)+(u?u[1]-Jg[1]:0)/(l||1);if(!tt.active&&!vl){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(lt){o?(o.e+=c-(Qg||0),o.f+=d-(Xg||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");He(lt,"webkitTransform",h),He(lt,"mozTransform",h),He(lt,"msTransform",h),He(lt,"transform",h),Qg=c,Xg=d,bi=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!lt){var e=this.options.fallbackOnBody?document.body:ln,n=un(Te,!0,Yh,!0,e),r=this.options;if(Yh){for(or=e;He(or,"position")==="static"&&He(or,"transform")==="none"&&or!==document;)or=or.parentNode;or!==document.body&&or!==document.documentElement?(or===document&&(or=ns()),n.top+=or.scrollTop,n.left+=or.scrollLeft):or=ns(),Jg=fS(or)}lt=Te.cloneNode(!0),hn(lt,r.ghostClass,!1),hn(lt,r.fallbackClass,!0),hn(lt,r.dragClass,!0),He(lt,"transition",""),He(lt,"transform",""),He(lt,"box-sizing","border-box"),He(lt,"margin",0),He(lt,"top",n.top),He(lt,"left",n.left),He(lt,"width",n.width),He(lt,"height",n.height),He(lt,"opacity","0.8"),He(lt,"position",Yh?"absolute":"fixed"),He(lt,"zIndex","100000"),He(lt,"pointerEvents","none"),tt.ghost=lt,e.appendChild(lt),He(lt,"transform-origin",mS/parseInt(lt.style.width)*100+"% "+gS/parseInt(lt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(Mr("dragStart",this,{evt:e}),tt.eventCanceled){this._onDrop();return}Mr("setupClone",this),tt.eventCanceled||(vn=qb(Te),vn.draggable=!1,vn.style["will-change"]="",this._hideClone(),hn(vn,this.options.chosenClass,!1),tt.clone=vn),r.cloneId=pf(function(){Mr("clone",r),!tt.eventCanceled&&(r.options.removeCloneOnHide||ln.insertBefore(vn,Te),r._hideClone(),Cr({sortable:r,name:"clone"}))}),!n&&hn(Te,s.dragClass,!0),n?(mp=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ht(document,"mouseup",r._onDrop),ht(document,"touchend",r._onDrop),ht(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,Te)),mt(document,"drop",r),He(Te,"transform","translateZ(0)")),vl=!0,r._dragStartId=pf(r._dragStarted.bind(r,n,e)),mt(document,"selectstart",r),cc=!0,Rc&&He(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=tt.active,c=Hh===l,d=a.sort,h=Qn||u,f,p=this,g=!1;if(t0)return;function y(X,U){Mr(X,p,as({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:r,completed:v,onMove:function(te,L){return Kh(ln,n,Te,i,te,un(te),e,L)},changed:b},U))}function _(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function v(X){return y("dragOverCompleted",{insertion:X}),X&&(c?u._hideClone():u._showClone(p),p!==h&&(hn(Te,Qn?Qn.options.ghostClass:u.options.ghostClass,!1),hn(Te,a.ghostClass,!0)),Qn!==p&&p!==tt.active?Qn=p:p===tt.active&&Qn&&(Qn=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Te&&!Te.animated||r===n&&!r.animated)&&(ol=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Te.parentNode[pr]._isOutsideThisEl(e.target),!X&&zo(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function b(){Qr=yn(Te),to=yn(Te,a.draggable),Cr({sortable:p,name:"change",toEl:n,newIndex:Qr,newDraggableIndex:to,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Si(r,a.draggable,n,!0),y("dragOver"),tt.eventCanceled)return g;if(Te.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return v(!1);if(mp=!1,u&&!a.disabled&&(c?d||(o=gn!==ln):Qn===this||(this.lastPutMode=Hh.checkPull(this,u,Te,e))&&l.checkPut(this,u,Te,e))){if(f=this._getDirection(e,r)==="vertical",i=un(Te),y("dragOverValid"),tt.eventCanceled)return g;if(o)return gn=ln,_(),this._hideClone(),y("revert"),tt.eventCanceled||(Qo?ln.insertBefore(Te,Qo):ln.appendChild(Te)),v(!0);var m=Gb(n,a.draggable);if(!m||CG(e,f,this)&&!m.animated){if(m===Te)return v(!1);if(m&&n===e.target&&(r=m),r&&(s=un(r)),Kh(ln,n,Te,i,r,s,e,!!r)!==!1)return _(),n.appendChild(Te),gn=n,b(),v(!0)}else if(m&&SG(e,f,this)){var w=uu(n,0,a,!0);if(w===Te)return v(!1);if(r=w,s=un(r),Kh(ln,n,Te,i,r,s,e,!1)!==!1)return _(),n.insertBefore(Te,w),gn=n,b(),v(!0)}else if(r.parentNode===n){s=un(r);var T=0,M,x=Te.parentNode!==n,A=!wG(Te.animated&&Te.toRect||i,r.animated&&r.toRect||s,f),S=f?"top":"left",N=hS(r,"top","top")||hS(Te,"top","top"),F=N?N.scrollTop:void 0;ol!==r&&(M=s[S],Lc=!1,Wh=!A&&a.invertSwap||x),T=IG(e,r,s,f,A?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Wh,ol===r);var C;if(T!==0){var H=yn(Te);do H-=T,C=gn.children[H];while(C&&(He(C,"display")==="none"||C===lt))}if(T===0||C===r)return v(!1);ol=r,Mc=T;var O=r.nextElementSibling,R=!1;R=T===1;var W=Kh(ln,n,Te,i,r,s,e,R);if(W!==!1)return(W===1||W===-1)&&(R=W===1),t0=!0,setTimeout(EG,30),_(),R&&!O?n.appendChild(Te):r.parentNode.insertBefore(Te,R?O:r),N&&sO(N,0,F-N.scrollTop),gn=Te.parentNode,M!==void 0&&!Wh&&(ff=Math.abs(M-un(r)[S])),b(),v(!0)}if(n.contains(Te))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ht(document,"mousemove",this._onTouchMove),ht(document,"touchmove",this._onTouchMove),ht(document,"pointermove",this._onTouchMove),ht(document,"dragover",zo),ht(document,"mousemove",zo),ht(document,"touchmove",zo)},_offUpEvents:function(){var e=this.el.ownerDocument;ht(e,"mouseup",this._onDrop),ht(e,"touchend",this._onDrop),ht(e,"pointerup",this._onDrop),ht(e,"touchcancel",this._onDrop),ht(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Qr=yn(Te),to=yn(Te,r.draggable),Mr("drop",this,{evt:e}),gn=Te&&Te.parentNode,Qr=yn(Te),to=yn(Te,r.draggable),tt.eventCanceled){this._nulling();return}vl=!1,Wh=!1,Lc=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),n0(this.cloneId),n0(this._dragStartId),this.nativeDraggable&&(ht(document,"drop",this),ht(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Rc&&He(document.body,"user-select",""),He(Te,"transform",""),e&&(cc&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),lt&&lt.parentNode&&lt.parentNode.removeChild(lt),(ln===gn||Qn&&Qn.lastPutMode!=="clone")&&vn&&vn.parentNode&&vn.parentNode.removeChild(vn),Te&&(this.nativeDraggable&&ht(Te,"dragend",this),Zg(Te),Te.style["will-change"]="",cc&&!vl&&hn(Te,Qn?Qn.options.ghostClass:this.options.ghostClass,!1),hn(Te,this.options.chosenClass,!1),Cr({sortable:this,name:"unchoose",toEl:gn,newIndex:null,newDraggableIndex:null,originalEvent:e}),ln!==gn?(Qr>=0&&(Cr({rootEl:gn,name:"add",toEl:gn,fromEl:ln,originalEvent:e}),Cr({sortable:this,name:"remove",toEl:gn,originalEvent:e}),Cr({rootEl:gn,name:"sort",toEl:gn,fromEl:ln,originalEvent:e}),Cr({sortable:this,name:"sort",toEl:gn,originalEvent:e})),Qn&&Qn.save()):Qr!==Cl&&Qr>=0&&(Cr({sortable:this,name:"update",toEl:gn,originalEvent:e}),Cr({sortable:this,name:"sort",toEl:gn,originalEvent:e})),tt.active&&((Qr==null||Qr===-1)&&(Qr=Cl,to=Nc),Cr({sortable:this,name:"end",toEl:gn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Mr("nulling",this),ln=Te=gn=lt=Qo=vn=hf=ao=Ko=bi=cc=Qr=to=Cl=Nc=ol=Mc=Qn=Hh=tt.dragged=tt.ghost=tt.clone=tt.active=null,vp.forEach(function(e){e.checked=!0}),vp.length=Qg=Xg=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Te&&(this._onDragOver(e),TG(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Si(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||AG(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Si(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Si(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=nh.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&lO(r)},destroy:function(){Mr("destroy",this);var e=this.el;e[pr]=null,ht(e,"mousedown",this._onTapStart),ht(e,"touchstart",this._onTapStart),ht(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ht(e,"dragover",this),ht(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),gp.splice(gp.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ao){if(Mr("hideClone",this),tt.eventCanceled)return;He(vn,"display","none"),this.options.removeCloneOnHide&&vn.parentNode&&vn.parentNode.removeChild(vn),ao=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ao){if(Mr("showClone",this),tt.eventCanceled)return;Te.parentNode==ln&&!this.options.group.revertClone?ln.insertBefore(vn,Te):Qo?ln.insertBefore(vn,Qo):ln.appendChild(vn),this.options.group.revertClone&&this.animate(Te,vn),He(vn,"display",""),ao=!1}}};function TG(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Kh(t,e,n,r,i,s,o,a){var l,u=t[pr],c=u.options.onMove,d;return window.CustomEvent&&!Vs&&!th?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||un(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function Zg(t){t.draggable=!1}function EG(){t0=!1}function SG(t,e,n){var r=un(uu(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function CG(t,e,n){var r=un(Gb(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function IG(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o){if(a&&ff<u*i){if(!Lc&&(Mc===1?l>c+u*s/2:l<d-u*s/2)&&(Lc=!0),Lc)h=!0;else if(Mc===1?l<c+ff:l>d-ff)return-Mc}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return kG(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function kG(t){return yn(Te)<yn(t)?1:-1}function AG(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function xG(t){vp.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&vp.push(r)}}function pf(t){return setTimeout(t,0)}function n0(t){return clearTimeout(t)}Vm&&mt(document,"touchmove",function(t){(tt.active||vl)&&t.cancelable&&t.preventDefault()});tt.utils={on:mt,off:ht,css:He,find:rO,is:function(e,n){return!!Si(e,n,e,!1)},extend:hG,throttle:iO,closest:Si,toggleClass:hn,clone:qb,index:yn,nextTick:pf,cancelNextTick:n0,detectDirection:aO,getChild:uu};tt.get=function(t){return t[pr]};tt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(tt.utils=as(as({},tt.utils),r.utils)),nh.mount(r)})};tt.create=function(t,e){return new tt(t,e)};tt.version=lG;var An=[],dc,r0,i0=!1,ev,tv,yp,hc;function PG(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?mt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?mt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?mt(document,"touchmove",this._handleFallbackAutoScroll):mt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ht(document,"dragover",this._handleAutoScroll):(ht(document,"pointermove",this._handleFallbackAutoScroll),ht(document,"touchmove",this._handleFallbackAutoScroll),ht(document,"mousemove",this._handleFallbackAutoScroll)),yS(),mf(),fG()},nulling:function(){yp=r0=dc=i0=hc=ev=tv=null,An.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(yp=n,r||this.options.forceAutoScrollFallback||th||Vs||Rc){nv(n,this.options,a,r);var l=lo(a,!0);i0&&(!hc||s!==ev||o!==tv)&&(hc&&yS(),hc=setInterval(function(){var u=lo(document.elementFromPoint(s,o),!0);u!==l&&(l=u,mf()),nv(n,i.options,u,r)},10),ev=s,tv=o)}else{if(!this.options.bubbleScroll||lo(a,!0)===ns()){mf();return}nv(n,this.options,lo(a,!1),!1)}}},yi(t,{pluginName:"scroll",initializeByDefault:!0})}function mf(){An.forEach(function(t){clearInterval(t.pid)}),An=[]}function yS(){clearInterval(hc)}var nv=iO(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=ns(),u=!1,c;r0!==n&&(r0=n,mf(),dc=e.scroll,c=e.scrollFn,dc===!0&&(dc=lo(n,!0)));var d=0,h=dc;do{var f=h,p=un(f),g=p.top,y=p.bottom,_=p.left,v=p.right,b=p.width,m=p.height,w=void 0,T=void 0,M=f.scrollWidth,x=f.scrollHeight,A=He(f),S=f.scrollLeft,N=f.scrollTop;f===l?(w=b<M&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),T=m<x&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(w=b<M&&(A.overflowX==="auto"||A.overflowX==="scroll"),T=m<x&&(A.overflowY==="auto"||A.overflowY==="scroll"));var F=w&&(Math.abs(v-i)<=o&&S+b<M)-(Math.abs(_-i)<=o&&!!S),C=T&&(Math.abs(y-s)<=o&&N+m<x)-(Math.abs(g-s)<=o&&!!N);if(!An[d])for(var H=0;H<=d;H++)An[H]||(An[H]={});(An[d].vx!=F||An[d].vy!=C||An[d].el!==f)&&(An[d].el=f,An[d].vx=F,An[d].vy=C,clearInterval(An[d].pid),(F!=0||C!=0)&&(u=!0,An[d].pid=setInterval((function(){r&&this.layer===0&&tt.active._onTouchMove(yp);var O=An[this.layer].vy?An[this.layer].vy*a:0,R=An[this.layer].vx?An[this.layer].vx*a:0;typeof c=="function"&&c.call(tt.dragged.parentNode[pr],R,O,t,yp,An[this.layer].el)!=="continue"||sO(An[this.layer].el,R,O)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=lo(h,!1)));i0=u}},30),dO=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Qb(){}Qb.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=uu(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:dO};yi(Qb,{pluginName:"revertOnSpill"});function Xb(){}Xb.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:dO};yi(Xb,{pluginName:"removeOnSpill"});var ui;function DG(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;ui=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=ui;s(i)!==!1?(hn(i,c.swapClass,!0),ui=i):ui=null,d&&d!==ui&&hn(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;ui&&hn(ui,a.swapClass,!1),ui&&(a.swap||i&&i.options.swap)&&s!==ui&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),RG(s,ui),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){ui=null}},yi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:ui}}})}function RG(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=yn(t),s=yn(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var st=[],qr=[],Wu,_i,Yu=!1,Lr=!1,al=!1,Xt,Ku,zh;function OG(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?mt(document,"pointerup",this._deselectMultiDrag):(mt(document,"mouseup",this._deselectMultiDrag),mt(document,"touchend",this._deselectMultiDrag)),mt(document,"keydown",this._checkKeyDown),mt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";st.length&&_i===e?st.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;Xt=r},delayEnded:function(){this.isMultiDrag=~st.indexOf(Xt)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<st.length;s++)qr.push(qb(st[s])),qr[s].sortableIndex=st[s].sortableIndex,qr[s].draggable=!1,qr[s].style["will-change"]="",hn(qr[s],this.options.selectedClass,!1),st[s]===Xt&&hn(qr[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||st.length&&_i===r&&(wS(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(wS(!1,i),qr.forEach(function(o){He(o,"display","")}),r(),zh=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(qr.forEach(function(o){He(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),zh=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&_i&&_i.multiDrag._deselectMultiDrag(),st.forEach(function(r){r.sortableIndex=yn(r)}),st=st.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),al=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){st.forEach(function(o){o!==Xt&&He(o,"position","absolute")});var s=un(Xt,!1,!0,!0);st.forEach(function(o){o!==Xt&&pS(o,s)}),Lr=!0,Yu=!0}i.animateAll(function(){Lr=!1,Yu=!1,r.options.animation&&st.forEach(function(o){Gg(o)}),r.options.sort&&Gh()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;Lr&&~st.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;st.length>1&&(st.forEach(function(a){s.addAnimationState({target:a,rect:Lr?un(a):o}),Gg(a),a.fromRect=o,r.removeAnimationState(a)}),Lr=!1,NG(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),Yu=!1,u.animation&&st.length>1&&(Lr||!i&&!o.options.sort&&!l)){var c=un(Xt,!1,!0,!0);st.forEach(function(h){h!==Xt&&(pS(h,c),a.appendChild(h))}),Lr=!0}if(!i)if(Lr||Gh(),st.length>1){var d=zh;o._showClone(r),o.options.animation&&!zh&&d&&qr.forEach(function(h){o.addAnimationState({target:h,rect:Ku}),h.fromRect=Ku,h.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(st.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){Ku=yi({},r);var o=ga(Xt,!0);Ku.top-=o.f,Ku.left-=o.e}},dragOverAnimationComplete:function(){Lr&&(Lr=!1,Gh())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=s.children;if(!al)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),hn(Xt,d.selectedClass,!~st.indexOf(Xt)),~st.indexOf(Xt))st.splice(st.indexOf(Xt),1),Wu=null,uc({sortable:o,rootEl:i,name:"deselect",targetEl:Xt,originalEvt:r});else{if(st.push(Xt),uc({sortable:o,rootEl:i,name:"select",targetEl:Xt,originalEvt:r}),r.shiftKey&&Wu&&o.el.contains(Wu)){var f=yn(Wu),p=yn(Xt);if(~f&&~p&&f!==p){var g,y;for(p>f?(y=f,g=p):(y=p,g=f+1);y<g;y++)~st.indexOf(h[y])||(hn(h[y],d.selectedClass,!0),st.push(h[y]),uc({sortable:o,rootEl:i,name:"select",targetEl:h[y],originalEvt:r}))}}else Wu=Xt;_i=c}if(al&&this.isMultiDrag){if(Lr=!1,(s[pr].options.sort||s!==i)&&st.length>1){var _=un(Xt),v=yn(Xt,":not(."+this.options.selectedClass+")");if(!Yu&&d.animation&&(Xt.thisAnimationDuration=null),c.captureAnimationState(),!Yu&&(d.animation&&(Xt.fromRect=_,st.forEach(function(m){if(m.thisAnimationDuration=null,m!==Xt){var w=Lr?un(m):_;m.fromRect=w,c.addAnimationState({target:m,rect:w})}})),Gh(),st.forEach(function(m){h[v]?s.insertBefore(m,h[v]):s.appendChild(m),v++}),l===yn(Xt))){var b=!1;st.forEach(function(m){if(m.sortableIndex!==yn(m)){b=!0;return}}),b&&a("update")}st.forEach(function(m){Gg(m)}),c.animateAll()}_i=c}(i===s||u&&u.lastPutMode!=="clone")&&qr.forEach(function(m){m.parentNode&&m.parentNode.removeChild(m)})}},nullingGlobal:function(){this.isMultiDrag=al=!1,qr.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ht(document,"pointerup",this._deselectMultiDrag),ht(document,"mouseup",this._deselectMultiDrag),ht(document,"touchend",this._deselectMultiDrag),ht(document,"keydown",this._checkKeyDown),ht(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof al<"u"&&al)&&_i===this.sortable&&!(n&&Si(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;st.length;){var r=st[0];hn(r,this.options.selectedClass,!1),st.shift(),uc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},yi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[pr];!r||!r.options.multiDrag||~st.indexOf(n)||(_i&&_i!==r&&(_i.multiDrag._deselectMultiDrag(),_i=r),hn(n,r.options.selectedClass,!0),st.push(n))},deselect:function(n){var r=n.parentNode[pr],i=st.indexOf(n);!r||!r.options.multiDrag||!~i||(hn(n,r.options.selectedClass,!1),st.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return st.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;Lr&&s!==Xt?o=-1:Lr?o=yn(s,":not(."+n.options.selectedClass+")"):o=yn(s),i.push({multiDragElement:s,index:o})}),{items:rG(st),clones:[].concat(qr),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function NG(t,e){st.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function wS(t,e){qr.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Gh(){st.forEach(function(t){t!==Xt&&t.parentNode&&t.parentNode.removeChild(t)})}tt.mount(new PG);tt.mount(Xb,Qb);const MG=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:OG,Sortable:tt,Swap:DG,default:tt},Symbol.toStringTag,{value:"Module"})),LG=ZR(MG);(function(t,e){(function(r,i){t.exports=i(Zz,LG)})(typeof self<"u"?self:Xz,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,f){return l.call(u,d,h,f)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(f){return c&&u.call(f)=="[object Window]"?d(f):l(a(f))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),f=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(y,_){if(y=c(y),_=d(_,!0),f)try{return p(y,_)}catch{}if(h(y,_))return u(!l.f.call(y,_),y[_])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var h=a[d],f=h&&h.prototype;if(f&&f.forEach!==u)try{c(f,"forEach",u)}catch{f.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,f){if(!f&&!u)return!1;var p=!1;try{var g={};g[l]=function(){return{next:function(){return{done:p=!0}}}},h(g)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],f=h.constructor={};return f[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),f=o("94ca");i.exports=function(p,g){var y=p.target,_=p.global,v=p.stat,b,m,w,T,M,x;if(_?m=a:v?m=a[y]||d(y,{}):m=(a[y]||{}).prototype,m)for(w in g){if(M=g[w],p.noTargetGet?(x=l(m,w),T=x&&x.value):T=m[w],b=f(_?w:y+(v?".":"#")+w,p.forced),!b&&T!==void 0){if(typeof M==typeof T)continue;h(M,T)}(p.sham||T&&T.sham)&&u(M,"sham",!0),c(m,w,M,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,f=h[d],p=u(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),g=f.name!=d;(p||g)&&a(RegExp.prototype,d,function(){var _=l(this),v=String(_.source),b=_.flags,m=String(b===void 0&&_ instanceof RegExp&&!("flags"in h)?c.call(_):b);return"/"+v+"/"+m},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),f=o("c430"),p="".startsWith,g=Math.min,y=h("startsWith"),_=!f&&!y&&!!function(){var v=l(String.prototype,"startsWith");return v&&!v.writable}();a({target:"String",proto:!0,forced:!_&&!y},{startsWith:function(b){var m=String(d(this));c(b);var w=u(g(arguments.length>1?arguments[1]:void 0,m.length)),T=String(b);return p?p.call(m,T,w):m.slice(w,w+T.length)===T}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,f;d?(h=d.split("."),f=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(f=h[1]))),i.exports=f&&+f},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(h,f){u(h);for(var p=c(f),g=p.length,y=0,_;g>y;)l.f(h,_=p[y++],f[_]);return h}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(f){d(this,{type:c,string:String(f),index:0})},function(){var p=h(this),g=p.string,y=p.index,_;return y>=g.length?{value:void 0,done:!0}:(_=a(g,y),p.index+=_.length,{value:_,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(h,f,p){var g=a(h),y=l(g.length),_=u(p,y),v;if(d&&f!=f){for(;y>_;)if(v=g[_++],v!=v)return!0}else for(;y>_;_++)if((d||_ in g)&&g[_]===f)return d||_||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),f=o("35a1");i.exports=function(g){var y=l(g),_=typeof this=="function"?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,m=b!==void 0,w=f(y),T=0,M,x,A,S,N,F;if(m&&(b=a(b,v>2?arguments[2]:void 0,2)),w!=null&&!(_==Array&&c(w)))for(S=w.call(y),N=S.next,x=new _;!(A=N.call(S)).done;T++)F=m?u(S,b,[A.value,T],!0):A.value,h(x,T,F);else for(M=d(y.length),x=new _(M);M>T;T++)F=m?b(y[T],T):y[T],h(x,T,F);return x.length=T,x}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),f=o("8aa5"),p=o("14c3"),g=Math.max,y=Math.min,_=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,m=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,T,M,x){var A=x.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=x.REPLACE_KEEPS_$0,N=A?"$":"$0";return[function(H,O){var R=h(this),W=H==null?void 0:H[w];return W!==void 0?W.call(H,R,O):T.call(String(R),H,O)},function(C,H){if(!A&&S||typeof H=="string"&&H.indexOf(N)===-1){var O=M(T,C,this,H);if(O.done)return O.value}var R=l(C),W=String(this),X=typeof H=="function";X||(H=String(H));var U=R.global;if(U){var I=R.unicode;R.lastIndex=0}for(var te=[];;){var L=p(R,W);if(L===null||(te.push(L),!U))break;var ee=String(L[0]);ee===""&&(R.lastIndex=f(W,c(R.lastIndex),I))}for(var de="",we=0,B=0;B<te.length;B++){L=te[B];for(var G=String(L[0]),ae=g(y(d(L.index),W.length),0),K=[],pe=1;pe<L.length;pe++)K.push(m(L[pe]));var Ee=L.groups;if(X){var E=[G].concat(K,ae,W);Ee!==void 0&&E.push(Ee);var P=String(H.apply(void 0,E))}else P=F(G,W,ae,K,Ee,H);ae>=we&&(de+=W.slice(we,ae)+P,we=ae+G.length)}return de+W.slice(we)}];function F(C,H,O,R,W,X){var U=O+C.length,I=R.length,te=b;return W!==void 0&&(W=u(W),te=v),T.call(X,te,function(L,ee){var de;switch(ee.charAt(0)){case"$":return"$";case"&":return C;case"`":return H.slice(0,O);case"'":return H.slice(U);case"<":de=W[ee.slice(1,-1)];break;default:var we=+ee;if(we===0)return L;if(we>I){var B=_(we/10);return B===0?L:B<=I?R[B-1]===void 0?ee.charAt(1):R[B-1]+ee.charAt(1):L}de=R[we-1]}return de===void 0?"":de})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var f=l.f(c(h)),p=u.f;return p?f.concat(p(h)):f}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var g=u(this),y=c(g.length),_;return d(p),_=h(g,0),_.length=l(_,g,g,y,0,1,p,arguments.length>1?arguments[1]:void 0),_}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,h){var f=String(l(d)),p=a(h),g=f.length,y,_;return p<0||p>=g?c?"":void 0:(y=f.charCodeAt(p),y<55296||y>56319||p+1===g||(_=f.charCodeAt(p+1))<56320||_>57343?c?f.charAt(p):y:c?f.slice(p,p+2):(y-55296<<10)+(_-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,h){var f;return l(d)&&(f=d.constructor,typeof f=="function"&&(f===Array||l(f.prototype))?f=void 0:a(f)&&(f=f[c],f===null&&(f=void 0))),new(f===void 0?Array:f)(h===0?0:h)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),f=o("d012"),p=l.WeakMap,g,y,_,v=function(A){return _(A)?y(A):g(A,{})},b=function(A){return function(S){var N;if(!u(S)||(N=y(S)).type!==A)throw TypeError("Incompatible receiver, "+A+" required");return N}};if(a){var m=new p,w=m.get,T=m.has,M=m.set;g=function(A,S){return M.call(m,A,S),S},y=function(A){return w.call(m,A)||{}},_=function(A){return T.call(m,A)}}else{var x=h("state");f[x]=!0,g=function(A,S){return c(A,x,S),S},y=function(A){return d(A,x)?A[x]:{}},_=function(A){return d(A,x)}}i.exports={set:g,get:y,has:_,enforce:v,getterFor:b}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),f=h.get,p=h.enforce,g=String(String).split("String");(i.exports=function(y,_,v,b){var m=b?!!b.unsafe:!1,w=b?!!b.enumerable:!1,T=b?!!b.noTargetGet:!1;if(typeof v=="function"&&(typeof _=="string"&&!u(v,"name")&&l(v,"name",_),p(v).source=g.join(typeof _=="string"?_:"")),y===a){w?y[_]=v:c(_,v);return}else m?!T&&y[_]&&(w=!0):delete y[_];w?y[_]=v:l(y,_,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(h){return function(f){for(var p=u(f),g=l(p),y=g.length,_=0,v=[],b;y>_;)b=g[_++],(!a||c.call(p,b))&&v.push(h?[b,p[b]]:p[b]);return v}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),f=o("f772"),p=">",g="<",y="prototype",_="script",v=f("IE_PROTO"),b=function(){},m=function(A){return g+_+p+A+g+"/"+_+p},w=function(A){A.write(m("")),A.close();var S=A.parentWindow.Object;return A=null,S},T=function(){var A=h("iframe"),S="java"+_+":",N;return A.style.display="none",d.appendChild(A),A.src=String(S),N=A.contentWindow.document,N.open(),N.write(m("document.F=Object")),N.close(),N.F},M,x=function(){try{M=document.domain&&new ActiveXObject("htmlfile")}catch{}x=M?w(M):T();for(var A=u.length;A--;)delete x[y][u[A]];return x()};c[v]=!0,i.exports=Object.create||function(S,N){var F;return S!==null?(b[y]=a(S),F=new b,b[y]=null,F[v]=S):F=x(),N===void 0?F:l(F,N)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),f=o("6eeb"),p=o("b622"),g=o("c430"),y=o("3f8c"),_=o("ae93"),v=_.IteratorPrototype,b=_.BUGGY_SAFARI_ITERATORS,m=p("iterator"),w="keys",T="values",M="entries",x=function(){return this};i.exports=function(A,S,N,F,C,H,O){l(N,S,F);var R=function(B){if(B===C&&te)return te;if(!b&&B in U)return U[B];switch(B){case w:return function(){return new N(this,B)};case T:return function(){return new N(this,B)};case M:return function(){return new N(this,B)}}return function(){return new N(this)}},W=S+" Iterator",X=!1,U=A.prototype,I=U[m]||U["@@iterator"]||C&&U[C],te=!b&&I||R(C),L=S=="Array"&&U.entries||I,ee,de,we;if(L&&(ee=u(L.call(new A)),v!==Object.prototype&&ee.next&&(!g&&u(ee)!==v&&(c?c(ee,v):typeof ee[m]!="function"&&h(ee,m,x)),d(ee,W,!0,!0),g&&(y[W]=x))),C==T&&I&&I.name!==T&&(X=!0,te=function(){return I.call(this)}),(!g||O)&&U[m]!==te&&h(U,m,te),y[S]=te,C)if(de={values:R(T),keys:H?te:R(w),entries:R(M)},O)for(we in de)(b||X||!(we in U))&&f(U,we,de[we]);else a({target:S,proto:!0,forced:b||X},de);return de}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,h){var f=a(d);f in c?l.f(c,f,u(0,h)):c[f]=h}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(M){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,p=h.exec(M.stack)||f.exec(M.stack),g=p&&p[1]||!1,y=p&&p[2]||!1,_=document.location.href.replace(document.location.hash,""),v,b,m,w=document.getElementsByTagName("script");g===_&&(v=document.documentElement.outerHTML,b=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),m=v.replace(b,"$1").trim());for(var T=0;T<w.length;T++)if(w[T].readyState==="interactive"||w[T].src===g||g===_&&w[T].innerHTML&&w[T].innerHTML.trim()===m)return w[T];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var y=/a/,_=/b*/g;return u.call(y,"a"),u.call(_,"a"),y.lastIndex!==0||_.lastIndex!==0}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,g=h||p||f;g&&(d=function(_){var v=this,b,m,w,T,M=f&&v.sticky,x=a.call(v),A=v.source,S=0,N=_;return M&&(x=x.replace("y",""),x.indexOf("g")===-1&&(x+="g"),N=String(_).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&_[v.lastIndex-1]!==`
`)&&(A="(?: "+A+")",N=" "+N,S++),m=new RegExp("^(?:"+A+")",x)),p&&(m=new RegExp("^"+A+"$(?!\\s)",x)),h&&(b=v.lastIndex),w=u.call(M?m:v,N),M?w?(w.input=w.input.slice(S),w[0]=w[0].slice(S),w.index=v.lastIndex,v.lastIndex+=w[0].length):v.lastIndex=0:h&&w&&(v.lastIndex=v.global?w.index+w[0].length:b),p&&w&&w.length>1&&c.call(w[0],m,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(w[T]=void 0)}),w}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,g){var y=d[c(p)];return y==f?!0:y==h?!1:typeof g=="function"?a(g):!!g},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",f=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),f=o("8418"),p=o("65f0"),g=o("1dde"),y=o("b622"),_=o("2d00"),v=y("isConcatSpreadable"),b=9007199254740991,m="Maximum allowed index exceeded",w=_>=51||!l(function(){var A=[];return A[v]=!1,A.concat()[0]!==A}),T=g("concat"),M=function(A){if(!c(A))return!1;var S=A[v];return S!==void 0?!!S:u(A)},x=!w||!T;a({target:"Array",proto:!0,forced:x},{concat:function(S){var N=d(this),F=p(N,0),C=0,H,O,R,W,X;for(H=-1,R=arguments.length;H<R;H++)if(X=H===-1?N:arguments[H],M(X)){if(W=h(X.length),C+W>b)throw TypeError(m);for(O=0;O<W;O++,C++)O in X&&f(F,C,X[O])}else{if(C>=b)throw TypeError(m);f(F,C++,X)}return F.length=C,F}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(f){var h=l.return;throw h!==void 0&&a(h.call(l)),f}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(f,p,g){if(u(f),p=c(p,!0),u(g),l)try{return d(f,p,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(f[p]=g.value),f}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};i.exports=function(f,p,g){var y=p+" Iterator";return f.prototype=l(a,{next:u(1,g)}),c(f,y,!1,!0),d[y]=h,f}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,h,f,p,g,y,_,v){for(var b=g,m=0,w=_?u(_,v,3):!1,T;m<p;){if(m in f){if(T=w?w(f[m],m,h):f[m],y>0&&a(T))b=c(d,h,T,l(T.length),b,y-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[b]=T}b++}m++}return b};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),f=o("8418"),p=o("1dde"),g=o("ae40"),y=p("splice"),_=g("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,b=Math.min,m=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!_},{splice:function(M,x){var A=d(this),S=c(A.length),N=l(M,S),F=arguments.length,C,H,O,R,W,X;if(F===0?C=H=0:F===1?(C=0,H=S-N):(C=F-2,H=b(v(u(x),0),S-N)),S+C-H>m)throw TypeError(w);for(O=h(A,H),R=0;R<H;R++)W=N+R,W in A&&f(O,R,A[W]);if(O.length=H,C<H){for(R=N;R<S-H;R++)W=R+H,X=R+C,W in A?A[X]=A[W]:delete A[X];for(R=S;R>S-H+C;R--)delete A[R-1]}else if(C>H)for(R=S-H;R>N;R--)W=R+H-1,X=R+C-1,W in A?A[X]=A[W]:delete A[X];for(R=0;R<C;R++)A[R+N]=arguments[R+2];return A.length=S-H+C,O}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),f=o("fdbf"),p=o("d039"),g=o("5135"),y=o("e8b5"),_=o("861d"),v=o("825a"),b=o("7b0b"),m=o("fc6a"),w=o("c04e"),T=o("5c6c"),M=o("7c73"),x=o("df75"),A=o("241c"),S=o("057f"),N=o("7418"),F=o("06cf"),C=o("9bf2"),H=o("d1e7"),O=o("9112"),R=o("6eeb"),W=o("5692"),X=o("f772"),U=o("d012"),I=o("90e3"),te=o("b622"),L=o("e538"),ee=o("746f"),de=o("d44e"),we=o("69f3"),B=o("b727").forEach,G=X("hidden"),ae="Symbol",K="prototype",pe=te("toPrimitive"),Ee=we.set,E=we.getterFor(ae),P=Object[K],V=l.Symbol,z=u("JSON","stringify"),ne=F.f,q=C.f,J=S.f,he=H.f,ce=W("symbols"),me=W("op-symbols"),Oe=W("string-to-symbol-registry"),ke=W("symbol-to-string-registry"),_e=W("wks"),Ke=l.QObject,Me=!Ke||!Ke[K]||!Ke[K].findChild,dt=d&&p(function(){return M(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a!=7})?function(Ge,Ve,Qe){var yt=ne(P,Ve);yt&&delete P[Ve],q(Ge,Ve,Qe),yt&&Ge!==P&&q(P,Ve,yt)}:q,Q=function(Ge,Ve){var Qe=ce[Ge]=M(V[K]);return Ee(Qe,{type:ae,tag:Ge,description:Ve}),d||(Qe.description=Ve),Qe},$=f?function(Ge){return typeof Ge=="symbol"}:function(Ge){return Object(Ge)instanceof V},Y=function(Ve,Qe,yt){Ve===P&&Y(me,Qe,yt),v(Ve);var It=w(Qe,!0);return v(yt),g(ce,It)?(yt.enumerable?(g(Ve,G)&&Ve[G][It]&&(Ve[G][It]=!1),yt=M(yt,{enumerable:T(0,!1)})):(g(Ve,G)||q(Ve,G,T(1,{})),Ve[G][It]=!0),dt(Ve,It,yt)):q(Ve,It,yt)},j=function(Ve,Qe){v(Ve);var yt=m(Qe),It=x(yt).concat(et(yt));return B(It,function(Nr){(!d||fe.call(yt,Nr))&&Y(Ve,Nr,yt[Nr])}),Ve},se=function(Ve,Qe){return Qe===void 0?M(Ve):j(M(Ve),Qe)},fe=function(Ve){var Qe=w(Ve,!0),yt=he.call(this,Qe);return this===P&&g(ce,Qe)&&!g(me,Qe)?!1:yt||!g(this,Qe)||!g(ce,Qe)||g(this,G)&&this[G][Qe]?yt:!0},Be=function(Ve,Qe){var yt=m(Ve),It=w(Qe,!0);if(!(yt===P&&g(ce,It)&&!g(me,It))){var Nr=ne(yt,It);return Nr&&g(ce,It)&&!(g(yt,G)&&yt[G][It])&&(Nr.enumerable=!0),Nr}},Le=function(Ve){var Qe=J(m(Ve)),yt=[];return B(Qe,function(It){!g(ce,It)&&!g(U,It)&&yt.push(It)}),yt},et=function(Ve){var Qe=Ve===P,yt=J(Qe?me:m(Ve)),It=[];return B(yt,function(Nr){g(ce,Nr)&&(!Qe||g(P,Nr))&&It.push(ce[Nr])}),It};if(h||(V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var Ve=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Qe=I(Ve),yt=function(It){this===P&&yt.call(me,It),g(this,G)&&g(this[G],Qe)&&(this[G][Qe]=!1),dt(this,Qe,T(1,It))};return d&&Me&&dt(P,Qe,{configurable:!0,set:yt}),Q(Qe,Ve)},R(V[K],"toString",function(){return E(this).tag}),R(V,"withoutSetter",function(Ge){return Q(I(Ge),Ge)}),H.f=fe,C.f=Y,F.f=Be,A.f=S.f=Le,N.f=et,L.f=function(Ge){return Q(te(Ge),Ge)},d&&(q(V[K],"description",{configurable:!0,get:function(){return E(this).description}}),c||R(P,"propertyIsEnumerable",fe,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:V}),B(x(_e),function(Ge){ee(Ge)}),a({target:ae,stat:!0,forced:!h},{for:function(Ge){var Ve=String(Ge);if(g(Oe,Ve))return Oe[Ve];var Qe=V(Ve);return Oe[Ve]=Qe,ke[Qe]=Ve,Qe},keyFor:function(Ve){if(!$(Ve))throw TypeError(Ve+" is not a symbol");if(g(ke,Ve))return ke[Ve]},useSetter:function(){Me=!0},useSimple:function(){Me=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:se,defineProperty:Y,defineProperties:j,getOwnPropertyDescriptor:Be}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Le,getOwnPropertySymbols:et}),a({target:"Object",stat:!0,forced:p(function(){N.f(1)})},{getOwnPropertySymbols:function(Ve){return N.f(b(Ve))}}),z){var $t=!h||p(function(){var Ge=V();return z([Ge])!="[null]"||z({a:Ge})!="{}"||z(Object(Ge))!="{}"});a({target:"JSON",stat:!0,forced:$t},{stringify:function(Ve,Qe,yt){for(var It=[Ve],Nr=1,zm;arguments.length>Nr;)It.push(arguments[Nr++]);if(zm=Qe,!(!_(Qe)&&Ve===void 0||$(Ve)))return y(Qe)||(Qe=function(JO,ah){if(typeof zm=="function"&&(ah=zm.call(this,JO,ah)),!$(ah))return ah}),It[1]=Qe,z.apply(null,It)}})}V[K][pe]||O(V[K],pe,V[K].valueOf),de(V,ae),U[G]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},h=function(f){throw f};i.exports=function(f,p){if(u(d,f))return d[f];p||(p={});var g=[][f],y=u(p,"ACCESSORS")?p.ACCESSORS:!1,_=u(p,0)?p[0]:h,v=u(p,1)?p[1]:void 0;return d[f]=!!g&&!l(function(){if(y&&!a)return!0;var b={length:-1};y?c(b,1,{enumerable:!0,get:h}):b[1]=1,g.call(b,_,v)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),f=!1,p=function(){return this},g,y,_;[].keys&&(_=[].keys(),"next"in _?(y=a(a(_)),y!==Object.prototype&&(g=y)):f=!0),g==null&&(g={}),!d&&!u(g,h)&&l(g,h,p),i.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:f}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),f=l("wks"),p=a.Symbol,g=h?p:p&&p.withoutSetter||c;i.exports=function(y){return u(f,y)||(d&&u(p,y)?f[y]=p[y]:f[y]=g("Symbol."+y)),f[y]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(f){return u(l(f))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,f=function(p){var g=p==1,y=p==2,_=p==3,v=p==4,b=p==6,m=p==5||b;return function(w,T,M,x){for(var A=u(w),S=l(A),N=a(T,M,3),F=c(S.length),C=0,H=x||d,O=g?H(w,F):y?H(w,0):void 0,R,W;F>C;C++)if((m||C in S)&&(R=S[C],W=N(R,C,A),p)){if(g)O[C]=W;else if(W)switch(p){case 3:return!0;case 5:return R;case 6:return C;case 2:h.call(O,R)}else if(v)return!1}return b?-1:_||v?v:O}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",h=!0,f=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!f},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,f=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!f||!p},{indexOf:function(y){return h?d.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,h){var f=l(d),p=0,g=[],y;for(y in f)!a(c,y)&&a(f,y)&&g.push(y);for(;h.length>p;)a(f,y=h[p++])&&(~u(g,y)||g.push(y));return g}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(f,p){return a(f),l(p),u?d.call(f,p):f.__proto__=p,f}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,h,f){d&&!l(d=f?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(h){return function(f,p,g,y){a(p);var _=l(f),v=u(_),b=c(_.length),m=h?b-1:0,w=h?-1:1;if(g<2)for(;;){if(m in v){y=v[m],m+=w;break}if(m+=w,h?m<0:b<=m)throw TypeError("Reduce of empty array with no initial value")}for(;h?m>=0:b>m;m+=w)m in v&&(y=p(y,v[m],m,_));return y}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),h=u("species"),f=!l(function(){var v=/./;return v.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(v,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),g=u("replace"),y=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),_=!l(function(){var v=/(?:)/,b=v.exec;v.exec=function(){return b.apply(this,arguments)};var m="ab".split(v);return m.length!==2||m[0]!=="a"||m[1]!=="b"});i.exports=function(v,b,m,w){var T=u(v),M=!l(function(){var C={};return C[T]=function(){return 7},""[v](C)!=7}),x=M&&!l(function(){var C=!1,H=/a/;return v==="split"&&(H={},H.constructor={},H.constructor[h]=function(){return H},H.flags="",H[T]=/./[T]),H.exec=function(){return C=!0,null},H[T](""),!C});if(!M||!x||v==="replace"&&!(f&&p&&!y)||v==="split"&&!_){var A=/./[T],S=m(T,""[v],function(C,H,O,R,W){return H.exec===c?M&&!W?{done:!0,value:A.call(H,O,R)}:{done:!0,value:C.call(O,H,R)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),N=S[0],F=S[1];a(String.prototype,v,N),a(RegExp.prototype,T,b==2?function(C,H){return F.call(C,this,H)}:function(C){return F.call(C,this)})}w&&d(RegExp.prototype[T],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var g=c(p),y=d.f,_=u(g),v={},b=0,m,w;_.length>b;)w=y(g,m=_[b++]),w!==void 0&&h(v,m,w);return v}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),f=d("toStringTag"),p=u.values;for(var g in l){var y=a[g],_=y&&y.prototype;if(_){if(_[h]!==p)try{c(_,h,p)}catch{_[h]=p}if(_[f]||c(_,f,g),l[g]){for(var v in u)if(_[v]!==u[v])try{c(_,v,u[v])}catch{_[v]=u[v]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,f=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var g={},y=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),M=this instanceof y?new p(T):T===void 0?p():p(T);return T===""&&(g[M]=!0),M};f(y,p);var _=y.prototype=p.prototype;_.constructor=y;var v=_.toString,b=String(p("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/;h(_,"description",{configurable:!0,get:function(){var T=d(this)?this.valueOf():this,M=v.call(T);if(c(g,T))return"";var x=b?M.slice(7,-1):M.replace(m,"$1");return x===""?void 0:x}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(f){return f=l(f),a(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",f=c.set,p=c.getterFor(h);i.exports=d(Array,"Array",function(g,y){f(this,{type:h,target:a(g),index:0,kind:y})},function(){var g=p(this),y=g.target,_=g.kind,v=g.index++;return!y||v>=y.length?(g.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:v,done:!1}:_=="values"?{value:y[v],done:!1}:{value:[v,y[v]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=l(function(){c(1)}),f=!d||h;a({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(g,y){return c(u(g),y)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,h){for(var f=l(h),p=c.f,g=u.f,y=0;y<f.length;y++){var _=f[y];a(d,_)||p(d,_,g(h,_))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(f,p){try{return f[p]}catch{}};i.exports=a?l:function(f){var p,g,y;return f===void 0?"Undefined":f===null?"Null":typeof(g=h(p=Object(f),c))=="string"?g:d?l(p):(y=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":y}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c($,Y,j){return Y in $?Object.defineProperty($,Y,{value:j,enumerable:!0,configurable:!0,writable:!0}):$[Y]=j,$}function d($,Y){var j=Object.keys($);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols($);Y&&(se=se.filter(function(fe){return Object.getOwnPropertyDescriptor($,fe).enumerable})),j.push.apply(j,se)}return j}function h($){for(var Y=1;Y<arguments.length;Y++){var j=arguments[Y]!=null?arguments[Y]:{};Y%2?d(Object(j),!0).forEach(function(se){c($,se,j[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(j)):d(Object(j)).forEach(function(se){Object.defineProperty($,se,Object.getOwnPropertyDescriptor(j,se))})}return $}function f($){if(Array.isArray($))return $}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p($,Y){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object($)))){var j=[],se=!0,fe=!1,Be=void 0;try{for(var Le=$[Symbol.iterator](),et;!(se=(et=Le.next()).done)&&(j.push(et.value),!(Y&&j.length===Y));se=!0);}catch($t){fe=!0,Be=$t}finally{try{!se&&Le.return!=null&&Le.return()}finally{if(fe)throw Be}}return j}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function g($,Y){(Y==null||Y>$.length)&&(Y=$.length);for(var j=0,se=new Array(Y);j<Y;j++)se[j]=$[j];return se}function y($,Y){if($){if(typeof $=="string")return g($,Y);var j=Object.prototype.toString.call($).slice(8,-1);if(j==="Object"&&$.constructor&&(j=$.constructor.name),j==="Map"||j==="Set")return Array.from($);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return g($,Y)}}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v($,Y){return f($)||p($,Y)||y($,Y)||_()}function b($){if(Array.isArray($))return g($)}function m($){if(typeof Symbol<"u"&&Symbol.iterator in Object($))return Array.from($)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T($){return b($)||m($)||y($)||w()}var M=o("a352"),x=o.n(M);function A($){$.parentElement!==null&&$.parentElement.removeChild($)}function S($,Y,j){var se=j===0?$.children[0]:$.children[j-1].nextSibling;$.insertBefore(Y,se)}var N=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function F($){var Y=Object.create(null);return function(se){var fe=Y[se];return fe||(Y[se]=$(se))}}var C=/-(\w)/g,H=F(function($){return $.replace(C,function(Y,j){return j.toUpperCase()})});o("5db7"),o("73d9");var O=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],W=["Move"],X=[W,O,R].flatMap(function($){return $}).map(function($){return"on".concat($)}),U={manage:W,manageAndEmit:O,emit:R};function I($){return X.indexOf($)!==-1}o("caad"),o("2ca0");var te=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function L($){return te.includes($)}function ee($){return["transition-group","TransitionGroup"].includes($)}function de($){return["id","class","role","style"].includes($)||$.startsWith("data-")||$.startsWith("aria-")||$.startsWith("on")}function we($){return $.reduce(function(Y,j){var se=v(j,2),fe=se[0],Be=se[1];return Y[fe]=Be,Y},{})}function B($){var Y=$.$attrs,j=$.componentData,se=j===void 0?{}:j,fe=we(Object.entries(Y).filter(function(Be){var Le=v(Be,2),et=Le[0];return Le[1],de(et)}));return h(h({},fe),se)}function G($){var Y=$.$attrs,j=$.callBackBuilder,se=we(ae(Y));Object.entries(j).forEach(function(Be){var Le=v(Be,2),et=Le[0],$t=Le[1];U[et].forEach(function(Ge){se["on".concat(Ge)]=$t(Ge)})});var fe="[data-draggable]".concat(se.draggable||"");return h(h({},se),{},{draggable:fe})}function ae($){return Object.entries($).filter(function(Y){var j=v(Y,2),se=j[0];return j[1],!de(se)}).map(function(Y){var j=v(Y,2),se=j[0],fe=j[1];return[H(se),fe]}).filter(function(Y){var j=v(Y,2),se=j[0];return j[1],!I(se)})}o("c740");function K($,Y){if(!($ instanceof Y))throw new TypeError("Cannot call a class as a function")}function pe($,Y){for(var j=0;j<Y.length;j++){var se=Y[j];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty($,se.key,se)}}function Ee($,Y,j){return Y&&pe($.prototype,Y),j&&pe($,j),$}var E=function(Y){var j=Y.el;return j},P=function(Y,j){return Y.__draggable_context=j},V=function(Y){return Y.__draggable_context},z=function(){function $(Y){var j=Y.nodes,se=j.header,fe=j.default,Be=j.footer,Le=Y.root,et=Y.realList;K(this,$),this.defaultNodes=fe,this.children=[].concat(T(se),T(fe),T(Be)),this.externalComponent=Le.externalComponent,this.rootTransition=Le.transition,this.tag=Le.tag,this.realList=et}return Ee($,[{key:"render",value:function(j,se){var fe=this.tag,Be=this.children,Le=this._isRootComponent,et=Le?{default:function(){return Be}}:Be;return j(fe,se,et)}},{key:"updated",value:function(){var j=this.defaultNodes,se=this.realList;j.forEach(function(fe,Be){P(E(fe),{element:se[Be],index:Be})})}},{key:"getUnderlyingVm",value:function(j){return V(j)}},{key:"getVmIndexFromDomIndex",value:function(j,se){var fe=this.defaultNodes,Be=fe.length,Le=se.children,et=Le.item(j);if(et===null)return Be;var $t=V(et);if($t)return $t.index;if(Be===0)return 0;var Ge=E(fe[0]),Ve=T(Le).findIndex(function(Qe){return Qe===Ge});return j<Ve?0:Be}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),$}(),ne=o("8bbf");function q($,Y){var j=$[Y];return j?j():[]}function J($){var Y=$.$slots,j=$.realList,se=$.getKey,fe=j||[],Be=["header","footer"].map(function(Qe){return q(Y,Qe)}),Le=v(Be,2),et=Le[0],$t=Le[1],Ge=Y.item;if(!Ge)throw new Error("draggable element must have an item slot");var Ve=fe.flatMap(function(Qe,yt){return Ge({element:Qe,index:yt}).map(function(It){return It.key=se(Qe),It.props=h(h({},It.props||{}),{},{"data-draggable":!0}),It})});if(Ve.length!==fe.length)throw new Error("Item slot must have only one child");return{header:et,footer:$t,default:Ve}}function he($){var Y=ee($),j=!L($)&&!Y;return{transition:Y,externalComponent:j,tag:j?Object(ne.resolveComponent)($):Y?ne.TransitionGroup:$}}function ce($){var Y=$.$slots,j=$.tag,se=$.realList,fe=$.getKey,Be=J({$slots:Y,realList:se,getKey:fe}),Le=he(j);return new z({nodes:Be,root:Le,realList:se})}function me($,Y){var j=this;Object(ne.nextTick)(function(){return j.$emit($.toLowerCase(),Y)})}function Oe($){var Y=this;return function(j,se){if(Y.realList!==null)return Y["onDrag".concat($)](j,se)}}function ke($){var Y=this,j=Oe.call(this,$);return function(se,fe){j.call(Y,se,fe),me.call(Y,$,se)}}var _e=null,Ke={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Y){return Y}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Me=["update:modelValue","change"].concat(T([].concat(T(U.manageAndEmit),T(U.emit)).map(function($){return $.toLowerCase()}))),dt=Object(ne.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ke,emits:Me,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Y=this.$slots,j=this.$attrs,se=this.tag,fe=this.componentData,Be=this.realList,Le=this.getKey,et=ce({$slots:Y,tag:se,realList:Be,getKey:Le});this.componentStructure=et;var $t=B({$attrs:j,componentData:fe});return et.render(ne.h,$t)}catch(Ge){return this.error=!0,Object(ne.h)("pre",{style:{color:"red"}},Ge.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&N.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Y=this;if(!this.error){var j=this.$attrs,se=this.$el,fe=this.componentStructure;fe.updated();var Be=G({$attrs:j,callBackBuilder:{manageAndEmit:function($t){return ke.call(Y,$t)},emit:function($t){return me.bind(Y,$t)},manage:function($t){return Oe.call(Y,$t)}}}),Le=se.nodeType===1?se:se.parentElement;this._sortable=new x.a(Le,Be),this.targetDomElement=Le,Le.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Y=this.list;return Y||this.modelValue},getKey:function(){var Y=this.itemKey;return typeof Y=="function"?Y:function(j){return j[Y]}}},watch:{$attrs:{handler:function(Y){var j=this._sortable;j&&ae(Y).forEach(function(se){var fe=v(se,2),Be=fe[0],Le=fe[1];j.option(Be,Le)})},deep:!0}},methods:{getUnderlyingVm:function(Y){return this.componentStructure.getUnderlyingVm(Y)||null},getUnderlyingPotencialDraggableComponent:function(Y){return Y.__draggable_component__},emitChanges:function(Y){var j=this;Object(ne.nextTick)(function(){return j.$emit("change",Y)})},alterList:function(Y){if(this.list){Y(this.list);return}var j=T(this.modelValue);Y(j),this.$emit("update:modelValue",j)},spliceList:function(){var Y=arguments,j=function(fe){return fe.splice.apply(fe,T(Y))};this.alterList(j)},updatePosition:function(Y,j){var se=function(Be){return Be.splice(j,0,Be.splice(Y,1)[0])};this.alterList(se)},getRelatedContextFromMoveEvent:function(Y){var j=Y.to,se=Y.related,fe=this.getUnderlyingPotencialDraggableComponent(j);if(!fe)return{component:fe};var Be=fe.realList,Le={list:Be,component:fe};if(j!==se&&Be){var et=fe.getUnderlyingVm(se)||{};return h(h({},et),Le)}return Le},getVmIndexFromDomIndex:function(Y){return this.componentStructure.getVmIndexFromDomIndex(Y,this.targetDomElement)},onDragStart:function(Y){this.context=this.getUnderlyingVm(Y.item),Y.item._underlying_vm_=this.clone(this.context.element),_e=Y.item},onDragAdd:function(Y){var j=Y.item._underlying_vm_;if(j!==void 0){A(Y.item);var se=this.getVmIndexFromDomIndex(Y.newIndex);this.spliceList(se,0,j);var fe={element:j,newIndex:se};this.emitChanges({added:fe})}},onDragRemove:function(Y){if(S(this.$el,Y.item,Y.oldIndex),Y.pullMode==="clone"){A(Y.clone);return}var j=this.context,se=j.index,fe=j.element;this.spliceList(se,1);var Be={element:fe,oldIndex:se};this.emitChanges({removed:Be})},onDragUpdate:function(Y){A(Y.item),S(Y.from,Y.item,Y.oldIndex);var j=this.context.index,se=this.getVmIndexFromDomIndex(Y.newIndex);this.updatePosition(j,se);var fe={element:this.context.element,oldIndex:j,newIndex:se};this.emitChanges({moved:fe})},computeFutureIndex:function(Y,j){if(!Y.element)return 0;var se=T(j.to.children).filter(function(et){return et.style.display!=="none"}),fe=se.indexOf(j.related),Be=Y.component.getVmIndexFromDomIndex(fe),Le=se.indexOf(_e)!==-1;return Le||!j.willInsertAfter?Be:Be+1},onDragMove:function(Y,j){var se=this.move,fe=this.realList;if(!se||!fe)return!0;var Be=this.getRelatedContextFromMoveEvent(Y),Le=this.computeFutureIndex(Be,Y),et=h(h({},this.context),{},{futureIndex:Le}),$t=h(h({},Y),{},{relatedContext:Be,draggedContext:et});return se($t,j)},onDragEnd:function(){_e=null}}}),Q=dt;s.default=Q},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),f=o("8418"),p=o("b622"),g=o("1dde"),y=o("ae40"),_=g("slice"),v=y("slice",{ACCESSORS:!0,0:0,1:2}),b=p("species"),m=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!_||!v},{slice:function(M,x){var A=h(this),S=d(A.length),N=c(M,S),F=c(x===void 0?S:x,S),C,H,O;if(u(A)&&(C=A.constructor,typeof C=="function"&&(C===Array||u(C.prototype))?C=void 0:l(C)&&(C=C[b],C===null&&(C=void 0)),C===Array||C===void 0))return m.call(A,N,F);for(H=new(C===void 0?Array:C)(w(F-N,0)),O=0;N<F;N++,O++)N in A&&f(H,O,A[N]);return H.length=O,H}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(eO);var $G=eO.exports;const UG=Jz($G),FG=t=>(TC("data-v-d69062a4"),t=t(),EC(),t),VG=FG(()=>re("h3",{class:"title-secondary"},"My Work",-1)),BG=Ce({__name:"Projects",setup(t){const e=Un(),{moveProject:n}=e,{projects:r}=Qt(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{Rr(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),eH(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return pn(()=>r.value,(o,a)=>{o>a&&s()}),an(()=>{s()}),(o,a)=>(D(),Z(Se,null,[VG,le(k(UG),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":k(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:ve(({element:l})=>[le(Dr,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,description:l.description,loading:l.loading},{default:ve(()=>[(D(!0),Z(Se,null,ut(l.technologies,u=>(D(),ge(vt,{class:"m-1 md:mt-2 font-bold",style:Nn({backgroundColor:u.color})},{default:ve(()=>[Xe(ze(u.name),1)]),_:2},1032,["style"]))),256))]),_:2},1032,["title","url","description","loading"])]),_:1},8,["model-value"])],64))}});const jG=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},HG=jG(BG,[["__scopeId","data-v-d69062a4"]]),WG={class:"grid mt-20"},YG=Ce({__name:"Home",setup(t){return(e,n)=>(D(),ge(Vo,{"scroll-to-content":!1},{content:ve(()=>[re("div",WG,[le(HG)])]),_:1}))}}),KG=Ce({__name:"Home",setup(t){return(e,n)=>(D(),ge(YG))}}),zG={class:"flex flex-col items-center content-center"},GG={class:"grid grid-cols-4 mt-10 gap-3"},qG=Ce({__name:"Login",setup(t){const e=Ln(),{loginLoading:n}=Qt(e),r=YI(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ue(),a=ue(),l=$n({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return an(()=>{r.replace({query:void 0})}),(d,h)=>{const f=Ls("RouterLink");return D(),ge(Vo,null,{content:ve(()=>[le(Dr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:ve(()=>[re("div",zG,[re("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[4]||(h[4]=Pt(p=>u(),["prevent"]))},[le(zb,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":h[0]||(h[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":h[1]||(h[1]=p=>l.email.error=p),rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),le(Sl,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":h[2]||(h[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":h[3]||(h[3]=p=>l.password.error=p),rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),re("div",GG,[le(vt,{class:"col-span-full md:col-span-2",action:"submit",loading:k(n)},{default:ve(()=>[Xe(" Login ")]),_:1},8,["loading"]),le(f,{class:"col-span-full md:col-span-2",to:{name:"register",query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:ve(()=>[le(vt,{class:"w-full",outlined:""},{default:ve(()=>[Xe(" Register ")]),_:1})]),_:1},8,["to"]),le(vt,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",onClick:c},{default:ve(()=>[Xe(" Forgot Password ")]),_:1})])],32),le(Kb)])]),_:1})]),_:1})}}}),QG=Ce({__name:"Login",setup(t){return(e,n)=>(D(),ge(qG))}}),XG=Ce({__name:"NotFound",setup(t){return(e,n)=>(D(),ge(Vo,null,{content:ve(()=>[le(Dr,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),JG=Ce({__name:"NotFound",setup(t){return(e,n)=>(D(),ge(XG))}}),ZG={class:"flex flex-col items-center content-center"},eq={class:"grid grid-cols-2 mt-10 gap-3"},tq=Ce({__name:"Register",setup(t){const e=Ln(),{loginLoading:n}=Qt(e),r=YI(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ue(),a=ue(),l=ue(),u=$n({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return an(()=>{r.replace({query:void 0})}),(d,h)=>{const f=Ls("RouterLink");return D(),ge(Vo,null,{content:ve(()=>[le(Dr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:ve(()=>[re("div",ZG,[re("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=Pt(p=>c(),["prevent"]))},[le(hr,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=p=>u.firstName.error=p),rules:[k(Et).Required,k(Et).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),le(zb,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":h[3]||(h[3]=p=>u.email.error=p),rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),le(Sl,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":h[5]||(h[5]=p=>u.password.error=p),rules:[k(Et).Required]},null,8,["modelValue","error","rules"]),re("div",eq,[le(vt,{class:"col-span-full md:col-span-1",action:"submit",loading:k(n)},{default:ve(()=>[Xe(" Register ")]),_:1},8,["loading"]),le(f,{to:{name:"login",query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:ve(()=>[le(vt,{class:"w-full",outlined:""},{default:ve(()=>[Xe(" Login ")]),_:1})]),_:1},8,["to"])])],32),le(Kb)])]),_:1})]),_:1})}}}),nq=Ce({__name:"Register",setup(t){return(e,n)=>(D(),ge(tq))}}),Bm=m$({history:RL(""),routes:[{path:"/",name:"home",meta:{title:"Home"},component:KG,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");r?Bm.getRoutes().find(s=>s.path===r)?n({path:r}):n({name:"notfound"}):n()}},{path:"/login",name:"login",meta:{title:"Login"},component:QG,beforeEnter:(t,e,n)=>{Ln().currentUser?n({name:"dashboard"}):n()}},{path:"/register",name:"register",meta:{title:"Register"},component:nq,beforeEnter:(t,e,n)=>{Ln().currentUser?n({name:"dashboard"}):n()}},{path:"/dashboard",name:"dashboard",meta:{title:"Dashboard"},component:Qz,beforeEnter:(t,e,n)=>{Ln().currentUser?n():n({name:"login"})}},{path:"/blog/:postId?",name:"blog",meta:{title:"Blog"},component:Nz},{path:"/customvoting",name:"customvoting",meta:{title:"CustomVoting"},component:Bz},{path:"/cat-calc",name:"cat-calc",meta:{title:"CatCalc"},component:$z},{path:"/:pathMatch(.*)*",name:"notfound",meta:{title:"404"},component:JG}],scrollBehavior(t,e,n){return t.hash?new Promise((r,i)=>{let s=10;const o=()=>{setTimeout(()=>{try{document.querySelector(t.hash)?r({el:t.hash,behavior:"smooth",top:15}):(s--,s>0?o():i())}catch(a){i(a)}},1e3)};o()}):n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),bS=QR.name;Bm.beforeEach(async(t,e,n)=>{var r,i;if(t!==e){const s=Un();t.name&&(["home","login","register","dashboard","notfound"].includes(t.name.toString())||(i=await s.fetchMenuItems((r=Ln().firebaseUser)==null?void 0:r.uid))!=null&&i.some(o=>o.url===t.path||t.path.startsWith(o.url)))?n():n({name:"notfound"})}else n()});Bm.beforeResolve(t=>{document.title=bS+" | "+t.meta.title||bS});const Jb=Bm;function wi(t){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ue(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ye(t){Ue(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||wi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function vs(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Oi(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function hO(t,e){if(Ue(2,arguments),!e||wi(e)!=="object")return new Date(NaN);var n=e.years?Je(e.years):0,r=e.months?Je(e.months):0,i=e.weeks?Je(e.weeks):0,s=e.days?Je(e.days):0,o=e.hours?Je(e.hours):0,a=e.minutes?Je(e.minutes):0,l=e.seconds?Je(e.seconds):0,u=Ye(t),c=r||n?Oi(u,r+n*12):u,d=s||i?vs(c,s+i*7):c,h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(d.getTime()+p);return g}function rq(t,e){Ue(2,arguments);var n=Ye(t).getTime(),r=Je(e);return new Date(n+r)}var iq={};function cs(){return iq}function $a(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=cs(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function wp(t){return Ue(1,arguments),$a(t,{weekStartsOn:1})}function sq(t){Ue(1,arguments);var e=Ye(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=wp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=wp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function oq(t){Ue(1,arguments);var e=sq(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=wp(n);return r}function bp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function _S(t){Ue(1,arguments);var e=Ye(t);return e.setHours(0,0,0,0),e}var aq=864e5;function lq(t,e){Ue(2,arguments);var n=_S(t),r=_S(e),i=n.getTime()-bp(n),s=r.getTime()-bp(r);return Math.round((i-s)/aq)}function uq(t,e){Ue(2,arguments);var n=Je(e),r=n*3;return Oi(t,r)}function Zb(t,e){Ue(2,arguments);var n=Je(e);return Oi(t,n*12)}var e_=6e4,t_=36e5,cq=1e3;function fO(t){return Ue(1,arguments),t instanceof Date||wi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $c(t){if(Ue(1,arguments),!fO(t)&&typeof t!="number")return!1;var e=Ye(t);return!isNaN(Number(e))}function TS(t){Ue(1,arguments);var e=Ye(t),n=Math.floor(e.getMonth()/3)+1;return n}function pO(t,e){var n;Ue(1,arguments);var r=t||{},i=Ye(r.start),s=Ye(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Ye(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function vd(t){Ue(1,arguments);var e=Ye(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function dq(t){Ue(1,arguments);var e=t||{},n=Ye(e.start),r=Ye(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=vd(n),o=vd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(Ye(l)),l=uq(l,1);return a}function hq(t){Ue(1,arguments);var e=Ye(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function fq(t){Ue(1,arguments);var e=Ye(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function pq(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=cs(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getDay(),p=(f<d?-7:0)+6-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function ES(t){Ue(1,arguments);var e=Ye(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function mO(t,e){Ue(2,arguments);var n=Je(e);return rq(t,-n)}var mq=864e5;function gq(t){Ue(1,arguments);var e=Ye(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/mq)+1}function cu(t){Ue(1,arguments);var e=1,n=Ye(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function gO(t){Ue(1,arguments);var e=Ye(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=cu(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=cu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function vq(t){Ue(1,arguments);var e=gO(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=cu(n);return r}var yq=6048e5;function vO(t){Ue(1,arguments);var e=Ye(t),n=cu(e).getTime()-vq(e).getTime();return Math.round(n/yq)+1}function Ua(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=cs(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function n_(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=Ye(t),d=c.getUTCFullYear(),h=cs(),f=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var g=Ua(p,e),y=new Date(0);y.setUTCFullYear(d,0,f),y.setUTCHours(0,0,0,0);var _=Ua(y,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=_.getTime()?d:d-1}function wq(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=cs(),d=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=n_(t,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var p=Ua(f,e);return p}var bq=6048e5;function yO(t,e){Ue(1,arguments);var n=Ye(t),r=Ua(n,e).getTime()-wq(n,e).getTime();return Math.round(r/bq)+1}function Bt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var _q={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Bt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Bt(r+1,2)},d:function(e,n){return Bt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Bt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Bt(e.getUTCHours(),n.length)},m:function(e,n){return Bt(e.getUTCMinutes(),n.length)},s:function(e,n){return Bt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Bt(s,n.length)}};const Ks=_q;var ll={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Ks.y(e,n)},Y:function(e,n,r,i){var s=n_(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Bt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Bt(o,n.length)},R:function(e,n){var r=gO(e);return Bt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Bt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Bt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Bt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Ks.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Bt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=yO(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Bt(s,n.length)},I:function(e,n,r){var i=vO(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Bt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ks.d(e,n)},D:function(e,n,r){var i=gq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Bt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Bt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Bt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Bt(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=ll.noon:i===0?s=ll.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=ll.evening:i>=12?s=ll.afternoon:i>=4?s=ll.morning:s=ll.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ks.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ks.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Bt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Bt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ks.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ks.s(e,n)},S:function(e,n){return Ks.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return CS(o);case"XXXX":case"XX":return Xo(o);case"XXXXX":case"XXX":default:return Xo(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return CS(o);case"xxxx":case"xx":return Xo(o);case"xxxxx":case"xxx":default:return Xo(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+SS(o,":");case"OOOO":default:return"GMT"+Xo(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+SS(o,":");case"zzzz":default:return"GMT"+Xo(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Bt(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Bt(o,n.length)}};function SS(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Bt(s,2)}function CS(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Bt(Math.abs(t)/60,2)}return Xo(t,e)}function Xo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Bt(Math.floor(i/60),2),o=Bt(i%60,2);return r+s+n+o}const Eq=Tq;var IS=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},wO=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Sq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return IS(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",IS(i,n)).replace("{{time}}",wO(s,n))},Cq={p:wO,P:Sq};const s0=Cq;var Iq=["D","DD"],kq=["YY","YYYY"];function bO(t){return Iq.indexOf(t)!==-1}function _O(t){return kq.indexOf(t)!==-1}function _p(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Aq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xq=function(e,n,r){var i,s=Aq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Pq=xq;function rv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Dq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Oq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nq={date:rv({formats:Dq,defaultWidth:"full"}),time:rv({formats:Rq,defaultWidth:"full"}),dateTime:rv({formats:Oq,defaultWidth:"full"})};const Mq=Nq;var Lq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$q=function(e,n,r,i){return Lq[e]};const Uq=$q;function zu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Fq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kq={ordinalNumber:Yq,era:zu({values:Fq,defaultWidth:"wide"}),quarter:zu({values:Vq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:zu({values:Bq,defaultWidth:"wide"}),day:zu({values:jq,defaultWidth:"wide"}),dayPeriod:zu({values:Hq,defaultWidth:"wide",formattingValues:Wq,defaultFormattingWidth:"wide"})};const zq=Kq;function Gu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?qq(a,function(d){return d.test(o)}):Gq(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Gq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function qq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Qq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Xq=/^(\d+)(th|st|nd|rd)?/i,Jq=/\d+/i,Zq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eQ={any:[/^b/i,/^(a|c)/i]},tQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nQ={any:[/1/i,/2/i,/3/i,/4/i]},rQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uQ={ordinalNumber:Qq({matchPattern:Xq,parsePattern:Jq,valueCallback:function(e){return parseInt(e,10)}}),era:Gu({matchPatterns:Zq,defaultMatchWidth:"wide",parsePatterns:eQ,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:tQ,defaultMatchWidth:"wide",parsePatterns:nQ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Gu({matchPatterns:rQ,defaultMatchWidth:"wide",parsePatterns:iQ,defaultParseWidth:"any"}),day:Gu({matchPatterns:sQ,defaultMatchWidth:"wide",parsePatterns:oQ,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:aQ,defaultMatchWidth:"any",parsePatterns:lQ,defaultParseWidth:"any"})};const cQ=uQ;var dQ={code:"en-US",formatDistance:Pq,formatLong:Mq,formatRelative:Uq,localize:zq,match:cQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const TO=dQ;var hQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pQ=/^'([^]*?)'?$/,mQ=/''/g,gQ=/[a-zA-Z]/;function wo(t,e,n){var r,i,s,o,a,l,u,c,d,h,f,p,g,y,_,v,b,m;Ue(2,arguments);var w=String(e),T=cs(),M=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:TO,x=Je((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(d=T.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Je((f=(p=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(_=n.locale)===null||_===void 0||(v=_.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&g!==void 0?g:T.weekStartsOn)!==null&&p!==void 0?p:(b=T.locale)===null||b===void 0||(m=b.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&f!==void 0?f:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");var S=Ye(t);if(!$c(S))throw new RangeError("Invalid time value");var N=bp(S),F=mO(S,N),C={firstWeekContainsDate:x,weekStartsOn:A,locale:M,_originalDate:S},H=w.match(fQ).map(function(O){var R=O[0];if(R==="p"||R==="P"){var W=s0[R];return W(O,M.formatLong)}return O}).join("").match(hQ).map(function(O){if(O==="''")return"'";var R=O[0];if(R==="'")return vQ(O);var W=Eq[R];if(W)return!(n!=null&&n.useAdditionalWeekYearTokens)&&_O(O)&&_p(O,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&bO(O)&&_p(O,e,String(t)),W(F,O,M.localize,C);if(R.match(gQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return O}).join("");return H}function vQ(t){var e=t.match(pQ);return e?e[1].replace(mQ,"'"):t}function yQ(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function wQ(t){Ue(1,arguments);var e=Ye(t),n=e.getDay();return n}function bQ(t){Ue(1,arguments);var e=Ye(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Ni(t){Ue(1,arguments);var e=Ye(t),n=e.getHours();return n}var _Q=6048e5;function TQ(t){Ue(1,arguments);var e=Ye(t),n=wp(e).getTime()-oq(e).getTime();return Math.round(n/_Q)+1}function rs(t){Ue(1,arguments);var e=Ye(t),n=e.getMinutes();return n}function kt(t){Ue(1,arguments);var e=Ye(t),n=e.getMonth();return n}function du(t){Ue(1,arguments);var e=Ye(t),n=e.getSeconds();return n}function EQ(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=Ye(t),d=c.getFullYear(),h=cs(),f=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var g=$a(p,e),y=new Date(0);y.setFullYear(d,0,f),y.setHours(0,0,0,0);var _=$a(y,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=_.getTime()?d:d-1}function SQ(t,e){var n,r,i,s,o,a,l,u;Ue(1,arguments);var c=cs(),d=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=EQ(t,e),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=$a(f,e);return p}var CQ=6048e5;function IQ(t,e){Ue(1,arguments);var n=Ye(t),r=$a(n,e).getTime()-SQ(n,e).getTime();return Math.round(r/CQ)+1}function ft(t){return Ue(1,arguments),Ye(t).getFullYear()}function yd(t,e){Ue(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()>r.getTime()}function wd(t,e){Ue(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()<r.getTime()}function Il(t,e){Ue(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()===r.getTime()}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kQ(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function AS(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=kQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o0(t,e){return o0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o0(t,e)}function Dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o0(t,e)}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function AQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xQ(t,e){if(e&&(wi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}function Rt(t){var e=AQ();return function(){var r=Tp(t),i;if(e){var s=Tp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return xQ(this,i)}}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PQ(t,e){if(wi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EO(t){var e=PQ(t,"string");return wi(e)==="symbol"?e:String(e)}function xS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EO(r.key),r)}}function _t(t,e,n){return e&&xS(t.prototype,e),n&&xS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Re(t,e,n){return e=EO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DQ=10,SO=function(){function t(){bt(this,t),Re(this,"priority",void 0),Re(this,"subPriority",0)}return _t(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),RQ=function(t){Dt(n,t);var e=Rt(n);function n(r,i,s,o,a){var l;return bt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return _t(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(SO),OQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",DQ),Re($e(r),"subPriority",-1),r}return _t(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(SO),Lt=function(){function t(){bt(this,t),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return _t(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new RQ(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),NQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",140),Re($e(r),"incompatibleTokens",["R","u","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),Sn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Cn(t,e){return t&&{value:e(t.value),rest:t.rest}}function fn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Yi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*t_+s*e_+o*cq),rest:e.slice(n[0].length)}}function CO(t){return fn(Sn.anyDigitsSigned,t)}function bn(t,e){switch(t){case 1:return fn(Sn.singleDigit,e);case 2:return fn(Sn.twoDigits,e);case 3:return fn(Sn.threeDigits,e);case 4:return fn(Sn.fourDigits,e);default:return fn(new RegExp("^\\d{1,"+t+"}"),e)}}function Ep(t,e){switch(t){case 1:return fn(Sn.singleDigitSigned,e);case 2:return fn(Sn.twoDigitsSigned,e);case 3:return fn(Sn.threeDigitsSigned,e);case 4:return fn(Sn.fourDigitsSigned,e);default:return fn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function r_(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function IO(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function kO(t){return t%400===0||t%4===0&&t%100!==0}var MQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",130),Re($e(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Cn(bn(4,i),a);case"yo":return Cn(o.ordinalNumber(i,{unit:"year"}),a);default:return Cn(bn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=IO(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),LQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",130),Re($e(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Cn(bn(4,i),a);case"Yo":return Cn(o.ordinalNumber(i,{unit:"year"}),a);default:return Cn(bn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=n_(i,a);if(o.isTwoDigitYear){var u=IO(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ua(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ua(i,a)}}]),n}(Lt),$Q=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",130),Re($e(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return Ep(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),cu(a)}}]),n}(Lt),UQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",130),Re($e(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return Ep(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),FQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",120),Re($e(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return bn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),VQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",120),Re($e(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return bn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),BQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re($e(r),"priority",110),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Cn(fn(Sn.month,i),a);case"MM":return Cn(bn(2,i),a);case"Mo":return Cn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),jQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",110),Re($e(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Cn(fn(Sn.month,i),a);case"LL":return Cn(bn(2,i),a);case"Lo":return Cn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Lt);function HQ(t,e,n){Ue(2,arguments);var r=Ye(t),i=Je(e),s=yO(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var WQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",100),Re($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return fn(Sn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Ua(HQ(i,o,a),a)}}]),n}(Lt);function YQ(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e),i=vO(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var KQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",100),Re($e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return fn(Sn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return cu(YQ(i,o))}}]),n}(Lt),zQ=[31,28,31,30,31,30,31,31,30,31,30,31],GQ=[31,29,31,30,31,30,31,31,30,31,30,31],qQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",90),Re($e(r),"subPriority",1),Re($e(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return fn(Sn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=kO(o),l=i.getUTCMonth();return a?s>=1&&s<=GQ[l]:s>=1&&s<=zQ[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),QQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",90),Re($e(r),"subpriority",1),Re($e(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return fn(Sn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=kO(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Lt);function i_(t,e,n){var r,i,s,o,a,l,u,c;Ue(2,arguments);var d=cs(),h=Je((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ye(t),p=Je(e),g=f.getUTCDay(),y=p%7,_=(y+7)%7,v=(_<h?7:0)+p-g;return f.setUTCDate(f.getUTCDate()+v),f}var XQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",90),Re($e(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=i_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),JQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",90),Re($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Cn(bn(s.length,i),l);case"eo":return Cn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=i_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),ZQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",90),Re($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Cn(bn(s.length,i),l);case"co":return Cn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=i_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Lt);function eX(t,e){Ue(2,arguments);var n=Je(e);n%7===0&&(n=n-7);var r=1,i=Ye(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var tX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",90),Re($e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return bn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Cn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Cn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Cn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Cn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=eX(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Lt),nX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",80),Re($e(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(r_(o),0,0,0),i}}]),n}(Lt),rX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",80),Re($e(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(r_(o),0,0,0),i}}]),n}(Lt),iX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",80),Re($e(r),"incompatibleTokens",["a","b","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(r_(o),0,0,0),i}}]),n}(Lt),sX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",70),Re($e(r),"incompatibleTokens",["H","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return fn(Sn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Lt),oX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",70),Re($e(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return fn(Sn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Lt),aX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",70),Re($e(r),"incompatibleTokens",["h","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return fn(Sn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Lt),lX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",70),Re($e(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return fn(Sn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Lt),uX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",60),Re($e(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return fn(Sn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Lt),cX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",50),Re($e(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return fn(Sn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Lt),dX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",30),Re($e(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Cn(bn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Lt),hX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",10),Re($e(r),"incompatibleTokens",["t","T","x"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Yi(Wi.basicOptionalMinutes,i);case"XX":return Yi(Wi.basic,i);case"XXXX":return Yi(Wi.basicOptionalSeconds,i);case"XXXXX":return Yi(Wi.extendedOptionalSeconds,i);case"XXX":default:return Yi(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Lt),fX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",10),Re($e(r),"incompatibleTokens",["t","T","X"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Yi(Wi.basicOptionalMinutes,i);case"xx":return Yi(Wi.basic,i);case"xxxx":return Yi(Wi.basicOptionalSeconds,i);case"xxxxx":return Yi(Wi.extendedOptionalSeconds,i);case"xxx":default:return Yi(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Lt),pX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",40),Re($e(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return CO(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Lt),mX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;bt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re($e(r),"priority",20),Re($e(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return CO(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Lt),gX={G:new NQ,y:new MQ,Y:new LQ,R:new $Q,u:new UQ,Q:new FQ,q:new VQ,M:new BQ,L:new jQ,w:new WQ,I:new KQ,d:new qQ,D:new QQ,E:new XQ,e:new JQ,c:new ZQ,i:new tX,a:new nX,b:new rX,B:new iX,h:new sX,H:new oX,K:new aX,k:new lX,m:new uX,s:new cX,S:new dX,X:new hX,x:new fX,t:new pX,T:new mX},vX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wX=/^'([^]*?)'?$/,bX=/''/g,_X=/\S/,TX=/[a-zA-Z]/;function a0(t,e,n,r){var i,s,o,a,l,u,c,d,h,f,p,g,y,_,v,b,m,w;Ue(3,arguments);var T=String(t),M=String(e),x=cs(),A=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:x.locale)!==null&&i!==void 0?i:TO;if(!A.match)throw new RangeError("locale must contain match property");var S=Je((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:x.firstWeekContainsDate)!==null&&a!==void 0?a:(h=x.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Je((p=(g=(y=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(v=r.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&y!==void 0?y:x.weekStartsOn)!==null&&g!==void 0?g:(m=x.locale)===null||m===void 0||(w=m.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(M==="")return T===""?Ye(n):new Date(NaN);var F={firstWeekContainsDate:S,weekStartsOn:N,locale:A},C=[new OQ],H=M.match(yX).map(function(ae){var K=ae[0];if(K in s0){var pe=s0[K];return pe(ae,A.formatLong)}return ae}).join("").match(vX),O=[],R=AS(H),W;try{var X=function(){var K=W.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&_O(K)&&_p(K,M,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&bO(K)&&_p(K,M,t);var pe=K[0],Ee=gX[pe];if(Ee){var E=Ee.incompatibleTokens;if(Array.isArray(E)){var P=O.find(function(z){return E.includes(z.token)||z.token===pe});if(P)throw new RangeError("The format string mustn't contain `".concat(P.fullToken,"` and `").concat(K,"` at the same time"))}else if(Ee.incompatibleTokens==="*"&&O.length>0)throw new RangeError("The format string mustn't contain `".concat(K,"` and any other token at the same time"));O.push({token:pe,fullToken:K});var V=Ee.run(T,K,A.match,F);if(!V)return{v:new Date(NaN)};C.push(V.setter),T=V.rest}else{if(pe.match(TX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");if(K==="''"?K="'":pe==="'"&&(K=EX(K)),T.indexOf(K)===0)T=T.slice(K.length);else return{v:new Date(NaN)}}};for(R.s();!(W=R.n()).done;){var U=X();if(wi(U)==="object")return U.v}}catch(ae){R.e(ae)}finally{R.f()}if(T.length>0&&_X.test(T))return new Date(NaN);var I=C.map(function(ae){return ae.priority}).sort(function(ae,K){return K-ae}).filter(function(ae,K,pe){return pe.indexOf(ae)===K}).map(function(ae){return C.filter(function(K){return K.priority===ae}).sort(function(K,pe){return pe.subPriority-K.subPriority})}).map(function(ae){return ae[0]}),te=Ye(n);if(isNaN(te.getTime()))return new Date(NaN);var L=mO(te,bp(te)),ee={},de=AS(I),we;try{for(de.s();!(we=de.n()).done;){var B=we.value;if(!B.validate(L,F))return new Date(NaN);var G=B.set(L,ee,F);Array.isArray(G)?(L=G[0],yQ(ee,G[1])):L=G}}catch(ae){de.e(ae)}finally{de.f()}return L}function EX(t){return t.match(wX)[1].replace(bX,"'")}function PS(t,e){Ue(2,arguments);var n=vd(t),r=vd(e);return n.getTime()===r.getTime()}function SX(t,e){Ue(2,arguments);var n=Je(e);return vs(t,-n)}function CX(t,e){var n;Ue(1,arguments);var r=Je((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=xX(t),s;if(i.date){var o=PX(i.date,r);s=DX(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=RX(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=OX(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var qh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},IX=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kX=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,AX=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xX(t){var e={},n=t.split(qh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],qh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(qh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=qh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function PX(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function DX(t,e){if(e===null)return new Date(NaN);var n=t.match(IX);if(!n)return new Date(NaN);var r=!!n[4],i=qu(n[1]),s=qu(n[2])-1,o=qu(n[3]),a=qu(n[4]),l=qu(n[5])-1;if(r)return UX(e,a,l)?NX(e,a,l):new Date(NaN);var u=new Date(0);return!LX(e,s,o)||!$X(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function qu(t){return t?parseInt(t):1}function RX(t){var e=t.match(kX);if(!e)return NaN;var n=iv(e[1]),r=iv(e[2]),i=iv(e[3]);return FX(n,r,i)?n*t_+r*e_+i*1e3:NaN}function iv(t){return t&&parseFloat(t.replace(",","."))||0}function OX(t){if(t==="Z")return 0;var e=t.match(AX);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return VX(r,i)?n*(r*t_+i*e_):NaN}function NX(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var MX=[31,null,31,30,31,30,31,31,30,31,30,31];function AO(t){return t%400===0||t%4===0&&t%100!==0}function LX(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(MX[e]||(AO(t)?29:28))}function $X(t,e){return e>=1&&e<=(AO(t)?366:365)}function UX(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function FX(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function VX(t,e){return e>=0&&e<=59}function xO(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=bQ(o);return n.setMonth(r,Math.min(s,a)),n}function nn(t,e){if(Ue(2,arguments),wi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=Ye(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=xO(n,e.month)),e.date!=null&&n.setDate(Je(e.date)),e.hours!=null&&n.setHours(Je(e.hours)),e.minutes!=null&&n.setMinutes(Je(e.minutes)),e.seconds!=null&&n.setSeconds(Je(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Je(e.milliseconds)),n)}function PO(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return n.setHours(r),n}function s_(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return n.setMilliseconds(r),n}function DO(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return n.setMinutes(r),n}function o_(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return n.setSeconds(r),n}function Qi(t,e){Ue(2,arguments);var n=Ye(t),r=Je(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function hu(t,e){Ue(2,arguments);var n=Je(e);return Oi(t,-n)}function BX(t,e){if(Ue(2,arguments),!e||wi(e)!=="object")return new Date(NaN);var n=e.years?Je(e.years):0,r=e.months?Je(e.months):0,i=e.weeks?Je(e.weeks):0,s=e.days?Je(e.days):0,o=e.hours?Je(e.hours):0,a=e.minutes?Je(e.minutes):0,l=e.seconds?Je(e.seconds):0,u=hu(t,r+n*12),c=SX(u,s+i*7),d=a+o*60,h=l+d*60,f=h*1e3,p=new Date(c.getTime()-f);return p}function RO(t,e){Ue(2,arguments);var n=Je(e);return Zb(t,-n)}function rh(){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[re("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),re("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),re("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),re("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}rh.compatConfig={MODE:3};function OO(){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[re("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),re("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}OO.compatConfig={MODE:3};function a_(){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[re("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}a_.compatConfig={MODE:3};function l_(){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[re("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}l_.compatConfig={MODE:3};function u_(){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[re("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),re("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}u_.compatConfig={MODE:3};function c_(){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[re("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}c_.compatConfig={MODE:3};function d_(){return D(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[re("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}d_.compatConfig={MODE:3};function h_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NO={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(NO);var jX=NO.exports,l0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(l0,l0.exports);var HX=l0.exports;const WX=h_(HX);var u0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(u0,u0.exports);var YX=u0.exports;const DS=h_(YX);function KX(t,e){var n=QX(e);return n.formatToParts?GX(n,t):qX(n,t)}var zX={year:0,month:1,day:2,hour:3,minute:4,second:5};function GX(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=zX[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function qX(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var sv={};function QX(t){if(!sv[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";sv[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return sv[t]}function f_(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var RS=36e5,XX=6e4,ov={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function p_(t,e,n){var r,i;if(t===""||(r=ov.timezoneZ.exec(t),r))return 0;var s;if(r=ov.timezoneHH.exec(t),r)return s=parseInt(r[1],10),OS(s)?-(s*RS):NaN;if(r=ov.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return OS(s,o)?(i=Math.abs(s)*RS+o*XX,s>0?-i:i):NaN}if(eJ(t)){e=new Date(e||Date.now());var a=n?e:JX(e),l=c0(a,t),u=n?l:ZX(e,l,t);return-u}return NaN}function JX(t){return f_(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function c0(t,e){var n=KX(t,e),r=f_(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function ZX(t,e,n){var r=t.getTime(),i=r-e,s=c0(new Date(i),n);if(e===s)return e;i-=s-e;var o=c0(new Date(i),n);return s===o?s:Math.max(s,o)}function OS(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var NS={};function eJ(t){if(NS[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),NS[t]=!0,!0}catch{return!1}}var MO=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,av=36e5,MS=6e4,tJ=2,kr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:MO};function d0(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?tJ:WX(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=nJ(t),s=rJ(i.date,r),o=s.year,a=s.restDateString,l=iJ(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=sJ(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=p_(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=DS(new Date(u+c)),d=DS(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function nJ(t){var e={},n=kr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=kr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=kr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function rJ(t,e){var n=kr.YYY[e],r=kr.YYYYY[e],i;if(i=kr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=kr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function iJ(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=kr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,$S(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=kr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return lJ(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=kr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return $S(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=kr.Www.exec(t),n)return s=parseInt(n[1],10)-1,US(e,s)?LS(e,s):new Date(NaN);if(n=kr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return US(e,s,l)?LS(e,s,l):new Date(NaN)}return null}function sJ(t){var e,n,r;if(e=kr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),lv(n)?n%24*av:NaN;if(e=kr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),lv(n,r)?n%24*av+r*MS:NaN;if(e=kr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return lv(n,r,i)?n%24*av+r*MS+i*1e3:NaN}return null}function LS(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var oJ=[31,28,31,30,31,30,31,31,30,31,30,31],aJ=[31,29,31,30,31,30,31,31,30,31,30,31];function LO(t){return t%400===0||t%4===0&&t%100!==0}function $S(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=LO(t);if(r&&n>aJ[e]||!r&&n>oJ[e])return!1}return!0}function lJ(t,e){if(e<1)return!1;var n=LO(t);return!(n&&e>366||!n&&e>365)}function US(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function lv(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var h0={exports:{}},f0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(f0,f0.exports);var uJ=f0.exports;(function(t,e){var n=jX.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(uJ);function i(s){return(0,r.default)({},s)}t.exports=e.default})(h0,h0.exports);var cJ=h0.exports;const dJ=h_(cJ);function hJ(t,e,n){var r=d0(t,n),i=p_(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function fJ(t,e,n){if(typeof t=="string"&&!t.match(MO)){var r=dJ(n);return r.timeZone=e,d0(t,r)}var i=d0(t,n),s=f_(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=p_(e,new Date(s));return new Date(s+o)}function FS(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function pJ(t){return e=>wo(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const mJ=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(pJ(t))}catch{i=r.map(FS(e))}else i=r.map(FS(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},m_=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},$O=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=wo(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},gJ=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],On=t=>{const e=k(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},vJ=t=>Object.assign({type:"dot"},t),UO=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Sp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Fn=t=>t,VS=t=>t===0?t:!t||isNaN(+t)?null:+t,BS=t=>t===null,yJ=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},wJ=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},bd=(t,e,n)=>{const r=n??n===0,i=e??e===0;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},fu=(t,e)=>wJ(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),bo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},bJ=t=>{if(t.nextElementSibling)return t.nextElementSibling;for(;t.parentElement&&!t.parentElement.nextElementSibling;)t=t.parentElement;return t.parentElement?t.parentElement.nextElementSibling:null},_J=t=>{if(!t)return!1;const e=["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])"],n=t.matches(e.join(", ")),r=t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0;return n&&r},TJ=t=>{if(!t)return null;let e=t;for(;e;)if(e=bJ(e),_J(e))return e;return null},jS=(t,e,n,r,i)=>{const s=a0(t,e.slice(0,t.length),new Date);return $c(s)&&fO(s)?r||i?s:nn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},EJ=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return jS(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=jS(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},be=t=>t?new Date(t):new Date,SJ=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Gr=t=>{let e=be(JSON.parse(JSON.stringify(t)));return e=PO(e,0),e=DO(e,0),e=o_(e,0),e=s_(e,0),e},_o=(t,e,n,r)=>{let i=t?be(t):be();return(e||e===0)&&(i=PO(i,+e)),(n||n===0)&&(i=DO(i,+n)),(r||r===0)&&(i=o_(i,+r)),s_(i,0)},er=(t,e)=>!t||!e?!1:wd(Gr(t),Gr(e)),Nt=(t,e)=>!t||!e?!1:Il(Gr(t),Gr(e)),gr=(t,e)=>!t||!e?!1:yd(Gr(t),Gr(e)),jm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?gr(n,t[0])&&er(n,t[1]):t!=null&&t[0]&&e?gr(n,t[0])&&er(n,e)||er(n,t[0])&&gr(n,e):!1,Ai=t=>{const e=nn(new Date(t),{date:1});return Gr(e)},uv=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},va=t=>({hours:Ni(t),minutes:rs(t),seconds:du(t)}),FO=(t,e)=>{if(e){const n=ft(be(e));if(n>t)return 12;if(n===t)return kt(be(e))}},VO=(t,e)=>{if(e){const n=ft(be(e));return n<t?-1:n===t?kt(be(e)):void 0}},pu=t=>{if(t)return ft(be(t))},pi=(t,e)=>e?hJ(t,e):t,BO=(t,e)=>e?fJ(t,e):t,HS=t=>t instanceof Date?t:CX(t),jO=(t,e)=>{const n=gr(t,e)?e:t,r=gr(e,t)?e:t;return pO({start:n,end:r})},CJ=t=>{const e=Oi(t,1);return{month:kt(e),year:ft(e)}},gf=(t,e,n)=>{const r=$a(pi(t,e),{weekStartsOn:+n}),i=pq(pi(t,e),{weekStartsOn:+n});return[r,i]},HO=(t,e)=>{const n={hours:Ni(be()),minutes:rs(be()),seconds:e?du(be()):0};return Object.assign(n,t)},uo=(t,e,n)=>[nn(be(t),{date:1}),nn(be(),{month:e,year:n,date:1})],Ts=(t,e,n)=>{let r=t?be(t):be();return(e||e===0)&&(r=xO(r,e)),n&&(r=Qi(r,n)),r},WO=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Oi(t,1):hu(t,1),o=[kt(s),ft(s)];return i?!kJ(...o,e):!IJ(...o,n)},IJ=(t,e,n)=>er(...uo(n,t,e))||Nt(...uo(n,t,e)),kJ=(t,e,n)=>gr(...uo(n,t,e))||Nt(...uo(n,t,e)),YO=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${wo(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?wo(t[1],s,a):""}`:wo(t,s,a)},ul=t=>{if(t)return null;throw new Error(Sp.prop("partial-range"))},Qh=(t,e)=>{if(e)return t();throw new Error(Sp.prop("range"))},p0=t=>Array.isArray(t)?$c(t[0])&&(t[1]?$c(t[1]):!0):t?$c(t):!1,AJ=(t,e)=>nn(e??be(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),cv=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?wd(t,e):yd(t,e),s={seconds:0,milliseconds:0};return i||Il(nn(t,s),nn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},dv=(t,e,n)=>t?AJ(t,e):be(n??e),WS=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=dv(t,r[0],e),a=dv(t,r[1],e);return cv(r[0],o,n,!!e)&&cv(r[1],a,n,!!e)&&i}const s=dv(t,r,e);return cv(r,s,n,!!e)&&i},hv=t=>nn(be(),va(t)),xJ=(t,e)=>Array.isArray(t)?t.map(n=>be(n)).filter(n=>ft(be(n))===e).map(n=>kt(n)):[],KO=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),g_=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Qu=$n({menuFocused:!1,shiftKeyInMenu:!1}),zO=()=>{const t=n=>{Qu.menuFocused=n},e=n=>{Qu.shiftKeyInMenu!==n&&(Qu.shiftKeyInMenu=n)};return{control:ie(()=>({shiftKeyInMenu:Qu.shiftKeyInMenu,menuFocused:Qu.menuFocused})),setMenuFocused:t,setShiftKey:e}},Jt=$n({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),fv=ue(null),Xh=ue(!1),pv=ue(!1),mv=ue(!1),gv=ue(!1),Er=ue(0),Gn=ue(0),Bo=()=>{const t=ie(()=>Xh.value?[...Jt.selectionGrid,Jt.actionRow].filter(d=>d.length):pv.value?[...Jt.timePicker[0],...Jt.timePicker[1],gv.value?[]:[fv.value],Jt.actionRow].filter(d=>d.length):mv.value?[...Jt.monthPicker,Jt.actionRow]:[Jt.monthYear,...Jt.calendar,Jt.time,Jt.actionRow].filter(d=>d.length)),e=d=>{Er.value=d?Er.value+1:Er.value-1;let h=null;t.value[Gn.value]&&(h=t.value[Gn.value][Er.value]),h||(Er.value=d?Er.value-1:Er.value+1)},n=d=>{Gn.value===0&&!d||Gn.value===t.value.length&&d||(Gn.value=d?Gn.value+1:Gn.value-1,t.value[Gn.value]?t.value[Gn.value]&&!t.value[Gn.value][Er.value]&&Er.value!==0&&(Er.value=t.value[Gn.value].length-1):Gn.value=d?Gn.value-1:Gn.value+1)},r=d=>{let h=null;t.value[Gn.value]&&(h=t.value[Gn.value][Er.value]),h?h.focus({preventScroll:!Xh.value}):Er.value=d?Er.value-1:Er.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{Jt[h]=d},u=(d,h)=>{Jt[h]=d},c=()=>{Er.value=0,Gn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{fv.value=d},setSelectionGrid:d=>{Xh.value=d,c(),d||(Jt.selectionGrid=[])},setTimePicker:(d,h=!1)=>{pv.value=d,gv.value=h,c(),d||(Jt.timePicker[0]=[],Jt.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{Jt.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{Jt.monthYear=[],Jt.calendar=[],Jt.time=[],Jt.actionRow=[],Jt.selectionGrid=[],Jt.timePicker[0]=[],Jt.timePicker[1]=[],Xh.value=!1,pv.value=!1,gv.value=!1,mv.value=!1,c(),fv.value=null},setMonthPicker:d=>{mv.value=d,c()},refSets:Jt}},YS=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),PJ=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),KS=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,DJ=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:KS(!1)};const r=e?t:{},i=e?r.count??!0:t,s=KS(i);return Object.assign(n,r,{count:s})},RJ=(t,e,n)=>t||(typeof n=="string"?n:e),OJ=t=>typeof t=="boolean"?t?YS({}):!1:YS(t),NJ=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},MJ=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),LJ=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),$J=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},UJ=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,...t??{}}),FJ=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>be(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},In=t=>{const e=()=>{const y=t.enableSeconds?":ss":"";return t.is24?`HH:mm${y}`:`hh:mm${y} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=y=>HO(y,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ie(()=>DJ(t.multiCalendars)),o=ie(()=>i()),a=ie(()=>PJ(t.ariaLabels)),l=ie(()=>MJ(t.filters)),u=ie(()=>OJ(t.transitions)),c=ie(()=>LJ(t.actionRow)),d=ie(()=>RJ(t.previewFormat,t.format,n())),h=ie(()=>NJ(t.textInput)),f=ie(()=>$J(t.inline)),p=ie(()=>UJ(t.config)),g=ie(()=>FJ(t.highlight,t.highlightWeekDays,t.highlightDisabledDays));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:f,defaultedConfig:p,defaultedHighlight:g,getDefaultPattern:n,getDefaultStartTime:i}},VJ=(t,e,n)=>{const r=ue(),{defaultedTextInput:i,getDefaultPattern:s}=In(e),o=ue(""),a=Wl(e,"format");pn(r,()=>{t("internal-model-change",r.value)}),pn(a,()=>{H()});const l=I=>BO(I,e.timezone),u=I=>pi(I,e.timezone),c=(I,te,L=!1)=>YO(I,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,te??s(),L),d=I=>I?e.modelType?R(I):{hours:Ni(I),minutes:rs(I),seconds:e.enableSeconds?du(I):0}:null,h=I=>e.modelType?R(I):{month:kt(I),year:ft(I)},f=I=>Array.isArray(I)?e.multiDates?I.map(te=>p(te,Qi(be(),te))):Qh(()=>[Qi(be(),I[0]),I[1]?Qi(be(),I[1]):ul(e.partialRange)],e.range):Qi(be(),+I),p=(I,te)=>(typeof I=="string"||typeof I=="number")&&e.modelType?O(I):te,g=I=>Array.isArray(I)?[p(I[0],_o(null,+I[0].hours,+I[0].minutes,I[0].seconds)),p(I[1],_o(null,+I[1].hours,+I[1].minutes,I[1].seconds))]:p(I,_o(null,I.hours,I.minutes,I.seconds)),y=I=>Array.isArray(I)?e.multiDates?I.map(te=>p(te,Ts(null,+te.month,+te.year))):Qh(()=>[p(I[0],Ts(null,+I[0].month,+I[0].year)),p(I[1],I[1]?Ts(null,+I[1].month,+I[1].year):ul(e.partialRange))],e.range):p(I,Ts(null,+I.month,+I.year)),_=I=>{if(Array.isArray(I))return I.map(te=>O(te));throw new Error(Sp.dateArr("multi-dates"))},v=I=>{if(Array.isArray(I))return[be(I[0]),be(I[1])];throw new Error(Sp.dateArr("week-picker"))},b=I=>e.modelAuto?Array.isArray(I)?[O(I[0]),O(I[1])]:e.autoApply?[O(I)]:[O(I),null]:Array.isArray(I)?Qh(()=>[O(I[0]),I[1]?O(I[1]):ul(e.partialRange)],e.range):O(I),m=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(ul(e.partialRange))},w=()=>{const I=r.value;return[R(I[0]),I[1]?R(I[1]):ul(e.partialRange)]},T=()=>r.value[1]?w():R(Fn(r.value[0])),M=()=>(r.value||[]).map(I=>R(I)),x=()=>(m(),e.modelAuto?T():e.multiDates?M():Array.isArray(r.value)?Qh(()=>w(),e.range):R(Fn(r.value))),A=I=>!I||Array.isArray(I)&&!I.length?null:e.timePicker?g(Fn(I)):e.monthPicker?y(Fn(I)):e.yearPicker?f(Fn(I)):e.multiDates?_(Fn(I)):e.weekPicker?v(Fn(I)):b(Fn(I)),S=I=>{const te=A(I);p0(Fn(te))?(r.value=Fn(te),H()):(r.value=null,o.value="")},N=()=>{const I=te=>wo(te,i.value.format);return`${I(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?I(r.value[1]):""}`},F=()=>n.value&&r.value?Array.isArray(r.value)?N():wo(r.value,i.value.format):c(r.value),C=()=>r.value?e.multiDates?r.value.map(I=>c(I)).join("; "):i.value.enabled&&typeof i.value.format=="string"?F():c(r.value):"",H=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=C():o.value=e.format(r.value)},O=I=>{if(e.utc){const te=new Date(I);return e.utc==="preserve"?new Date(te.getTime()+te.getTimezoneOffset()*6e4):te}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(I)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?a0(I,s(),new Date):u(a0(I,e.modelType,new Date)):u(new Date(I))},R=I=>I?e.utc?SJ(I,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(I):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(I)):c(l(I),e.modelType,!0):l(I):"",W=(I,te=!1)=>{if(t("update:model-value",I),e.emitTimezone&&te){const L=Array.isArray(I)?I.map(ee=>pi(Fn(ee)),e.emitTimezone):pi(Fn(I),e.emitTimezone);t("update:model-timezone-value",L)}},X=I=>Array.isArray(r.value)?e.multiDates?r.value.map(te=>I(te)):[I(r.value[0]),r.value[1]?I(r.value[1]):ul(e.partialRange)]:I(Fn(r.value)),U=I=>W(Fn(X(I)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:S,formatInputValue:H,emitModelValue:()=>(H(),e.monthPicker?U(h):e.timePicker?U(d):e.yearPicker?U(ft):e.weekPicker?W(r.value.map(I=>R(I)),!0):W(x(),!0))}},BJ=(t,e)=>{const{defaultedFilters:n}=In(t),{validateMonthYearInRange:r}=Ru(t),i=(u,c)=>{let d=u;return n.value.months.includes(kt(d))?(d=c?Oi(u,1):hu(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(ft(d))?(d=c?Zb(u,1):RO(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=nn(new Date,{month:t.month,year:t.year});let h=u?Oi(d,1):hu(d,1);t.disableYearSelect&&(h=Qi(h,t.year));let f=kt(h),p=ft(h);n.value.months.includes(f)&&(h=i(h,u),f=kt(h),p=ft(h)),n.value.years.includes(p)&&(h=s(h,u),p=ft(h)),r(f,p,u,t.preventMinMaxNavigation)&&a(f,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=ie(()=>u=>WO(nn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var yl=(t=>(t.center="center",t.left="left",t.right="right",t))(yl||{}),Ti=(t=>(t.month="month",t.year="year",t))(Ti||{}),Jo=(t=>(t.top="top",t.bottom="bottom",t))(Jo||{}),ya=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ya||{}),Bi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Bi||{});const jJ=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=ue({}),u=ue(!1),c=ue({top:"0",left:"0"}),d=ue(!1),h=Wl(o,"teleportCenter");pn(h,()=>{c.value=JSON.parse(JSON.stringify({})),m()});const f=O=>{if(o.teleport){const R=O.getBoundingClientRect();return{left:R.left+window.scrollX,top:R.top+window.scrollY}}return{top:0,left:0}},p=(O,R)=>{c.value.left=`${O+R-l.value.width}px`},g=O=>{c.value.left=`${O}px`},y=(O,R)=>{o.position===yl.left&&g(O),o.position===yl.right&&p(O,R),o.position===yl.center&&(c.value.left=`${O+R/2-l.value.width/2}px`)},_=O=>{const{width:R,height:W}=O.getBoundingClientRect(),{top:X,left:U}=o.altPosition?o.altPosition(O):f(O);return{top:+X,left:+U,width:R,height:W}},v=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},b=()=>{const O=On(n),{top:R,left:W,transform:X}=o.altPosition(O);c.value={top:`${R}px`,left:`${W}px`,transform:X??""}},m=(O=!0)=>{var R;if(!i.value.enabled){if(h.value)return v();if(o.altPosition!==null)return b();if(O){const W=o.teleport?(R=e.value)==null?void 0:R.$el:t.value;W&&(l.value=W.getBoundingClientRect()),s("recalculate-position")}return N()}},w=({inputEl:O,left:R,width:W})=>{window.screen.width>768&&!u.value&&y(R,W),x(O)},T=O=>{const{top:R,left:W,height:X,width:U}=_(O);c.value.top=`${X+R+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${W+U/2-l.value.width/2}px`),w({inputEl:O,left:W,width:U})},M=O=>{const{top:R,left:W,width:X}=_(O);c.value.top=`${R-+o.offset-l.value.height}px`,d.value=!0,w({inputEl:O,left:W,width:X})},x=O=>{if(o.autoPosition){const{left:R,width:W}=_(O),{left:X,right:U}=l.value;if(!u.value){if(Math.abs(X)!==Math.abs(U)){if(X<=0)return u.value=!0,g(R);if(U>=document.documentElement.clientWidth)return u.value=!0,p(R,W)}return y(R,W)}}},A=()=>{const O=On(n);if(O){const{height:R}=l.value,{top:W,height:X}=O.getBoundingClientRect(),U=window.innerHeight-W-X,I=W;return R<=U?Jo.bottom:R>U&&R<=I?Jo.top:U>=I?Jo.bottom:Jo.top}return Jo.bottom},S=O=>A()===Jo.bottom?T(O):M(O),N=()=>{const O=On(n);if(O)return o.autoPosition?S(O):T(O)},F=function(O){if(O){const R=O.scrollHeight>O.clientHeight,W=window.getComputedStyle(O).overflowY.indexOf("hidden")!==-1;return R&&!W}return!0},C=function(O){return!O||O===document.body||O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:F(O)?O:C(O.parentNode)},H=O=>{if(O)switch(o.position){case yl.left:return{left:0,transform:"translateX(0)"};case yl.right:return{left:`${O.width}px`,transform:"translateX(-100%)"};default:return{left:`${O.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:m,getScrollableParent:C,shadowRender:(O,R)=>{var W,X,U;const I=document.createElement("div"),te=(W=On(n))==null?void 0:W.getBoundingClientRect();I.setAttribute("id","dp--temp-container");const L=(X=r.value)!=null&&X.clientWidth?r.value:document.body;L.append(I);const ee=document.getElementById("dp--temp-container"),de=H(te),we=Ad(O,{...R,shadow:!0,style:{opacity:0,position:"absolute",...de}},Object.fromEntries(Object.keys(a).filter(B=>["right-sidebar","left-sidebar"].includes(B)).map(B=>[B,a[B]])));zc(we,ee),l.value=(U=we.el)==null?void 0:U.getBoundingClientRect(),zc(null,ee),L.removeChild(ee)}}},zs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],HJ=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],WJ={all:()=>zs,monthYear:()=>zs.filter(t=>t.use.includes("month-year")),input:()=>HJ,timePicker:()=>zs.filter(t=>t.use.includes("time")),action:()=>zs.filter(t=>t.use.includes("action")),calendar:()=>zs.filter(t=>t.use.includes("calendar")),menu:()=>zs.filter(t=>t.use.includes("menu")),shared:()=>zs.filter(t=>t.use.includes("shared")),yearMode:()=>zs.filter(t=>t.use.includes("year-mode"))},ti=(t,e,n)=>{const r=[];return WJ[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},ih=t=>{const e=ie(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ie(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},sh=(t,e)=>{const n=be(pi(new Date,t.timezone)),r=ue([{month:kt(n),year:ft(n)}]),i=$n({hours:t.range?[Ni(n),Ni(n)]:Ni(n),minutes:t.range?[rs(n),rs(n)]:rs(n),seconds:t.range?[0,0]:0}),s=ie({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ie(()=>l=>r.value[l]?r.value[l].month:0),a=ie(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},YJ=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=In(e),{isDisabled:i,matchDate:s}=Ru(e),o=ue(null),a=ue(be(pi(new Date,e.timezone))),l=U=>{!U.current&&e.hideOffsetDates||(o.value=U.value)},u=()=>{o.value=null},c=U=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?U?gr(o.value,t.value[0]):er(o.value,t.value[0]):!0,d=(U,I)=>{const te=()=>t.value?I?t.value[0]||null:t.value[1]:null,L=t.value&&Array.isArray(t.value)?te():null;return Nt(be(U.value),L)},h=U=>{const I=Array.isArray(t.value)?t.value[0]:null;return U?!er(o.value??null,I):!0},f=(U,I=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!U.current?!1:Nt(be(U.value),t.value[I?0:1]):e.range?d(U,I)&&h(I)||Nt(U.value,Array.isArray(t.value)?t.value[0]:null)&&c(I):!1,p=(U,I,te)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?U?!1:te?gr(t.value[0],I.value):er(t.value[0],I.value):!1,g=U=>!t.value||e.hideOffsetDates&&!U.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Nt(U.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(I=>Nt(I,U.value)):Nt(U.value,t.value?t.value:a.value),y=U=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!U.current)return!1;const I=vs(o.value,+e.autoRange),te=gf(be(o.value),e.timezone,e.weekStart);return e.weekPicker?Nt(te[1],be(U.value)):Nt(I,be(U.value))}return!1}return!1},_=U=>{if(e.autoRange||e.weekPicker){if(o.value){const I=vs(o.value,+e.autoRange);if(e.hideOffsetDates&&!U.current)return!1;const te=gf(be(o.value),e.timezone,e.weekStart);return e.weekPicker?gr(U.value,te[0])&&er(U.value,te[1]):gr(U.value,o.value)&&er(U.value,I)}return!1}return!1},v=U=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!U.current)return!1;const I=gf(be(o.value),e.timezone,e.weekStart);return e.weekPicker?Nt(I[0],U.value):Nt(o.value,U.value)}return!1}return!1},b=U=>jm(t.value,o.value,U.value),m=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,w=()=>e.modelAuto?UO(e.internalModelValue):!0,T=U=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const I=e.range?!f(U)&&!f(U,!1):!0;return!i(U.value)&&!g(U)&&!(!U.current&&e.hideOffsetDates)&&I},M=U=>e.range?e.modelAuto?m()&&g(U):!1:g(U),x=U=>{var I;return r.value?typeof r.value=="function"?r.value(U.value):s(U.value,(I=e.arrMapValues)!=null&&I.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},A=U=>{const I=i(U.value);return I&&(typeof r.value=="function"?!r.value(U.value,I):!r.value.options.highlightDisabled)},S=U=>{var I;return typeof r.value=="function"?r.value(U.value):(I=r.value.weekdays)==null?void 0:I.includes(U.value.getDay())},N=U=>(e.range||e.weekPicker)&&(!(n.value.count>0)||U.current)&&w()&&!(!U.current&&e.hideOffsetDates)&&!g(U)?b(U):!1,F=U=>{const{isRangeStart:I,isRangeEnd:te}=O(U),L=e.range?I||te:!1;return{dp__cell_offset:!U.current,dp__pointer:!e.disabled&&!(!U.current&&e.hideOffsetDates)&&!i(U.value),dp__cell_disabled:i(U.value),dp__cell_highlight:!A(U)&&(x(U)||S(U))&&!M(U)&&!L&&!v(U)&&!(N(U)&&e.weekPicker)&&!te,dp__cell_highlight_active:!A(U)&&(x(U)||S(U))&&M(U),dp__today:!e.noToday&&Nt(U.value,a.value)&&U.current}},C=U=>({dp__active_date:M(U),dp__date_hover:T(U)}),H=U=>({...R(U),...W(U),dp__range_between_week:N(U)&&e.weekPicker}),O=U=>{const I=n.value.count>0?U.current&&f(U)&&w():f(U)&&w(),te=n.value.count>0?U.current&&f(U,!1)&&w():f(U,!1)&&w();return{isRangeStart:I,isRangeEnd:te}},R=U=>{const{isRangeStart:I,isRangeEnd:te}=O(U);return{dp__range_start:I,dp__range_end:te,dp__range_between:N(U)&&!e.weekPicker,dp__date_hover_start:p(T(U),U,!0),dp__date_hover_end:p(T(U),U,!1)}},W=U=>({...R(U),dp__cell_auto_range:_(U),dp__cell_auto_range_start:v(U),dp__cell_auto_range_end:y(U)}),X=U=>e.range?e.autoRange?W(U):e.modelAuto?{...C(U),...R(U)}:R(U):e.weekPicker?H(U):C(U);return{setHoverDate:l,clearHoverDate:u,getDayClassData:U=>e.hideOffsetDates&&!U.current?{}:{...F(U),...X(U),[e.dayClass?e.dayClass(U.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ru=t=>{const{defaultedFilters:e,defaultedHighlight:n}=In(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=S=>{const N=Gr(s(be(S))).toISOString(),[F]=N.split("T");return F},s=S=>t.utc==="preserve"?BO(S,r()):pi(S,r()),o=S=>{var N;const F=t.maxDate?gr(s(S),s(be(t.maxDate))):!1,C=t.minDate?er(s(S),s(be(t.minDate))):!1,H=c(s(S),(N=t.arrMapValues)!=null&&N.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),O=e.value.months.map(I=>+I).includes(kt(S)),R=t.disabledWeekDays.length?t.disabledWeekDays.some(I=>+I===wQ(S)):!1,W=h(S),X=ft(S),U=X<+t.yearRange[0]||X>+t.yearRange[1];return!(F||C||H||O||U||R||W)},a=(S,N)=>er(...uo(t.minDate,S,N))||Nt(...uo(t.minDate,S,N)),l=(S,N)=>gr(...uo(t.maxDate,S,N))||Nt(...uo(t.maxDate,S,N)),u=(S,N,F)=>{let C=!1;return t.maxDate&&F&&l(S,N)&&(C=!0),t.minDate&&!F&&a(S,N)&&(C=!0),C},c=(S,N)=>S?N instanceof Map?!!N.get(i(S)):Array.isArray(N)?N.some(F=>Nt(s(be(F)),s(S))):N?N(be(JSON.parse(JSON.stringify(S)))):!1:!0,d=(S,N,F,C)=>{let H=!1;return C?t.minDate&&t.maxDate?H=u(S,N,F):(t.minDate&&a(S,N)||t.maxDate&&l(S,N))&&(H=!0):H=!0,H},h=S=>{var N,F,C,H,O;return Array.isArray(t.allowedDates)&&!((N=t.allowedDates)!=null&&N.length)?!0:(F=t.arrMapValues)!=null&&F.allowedDates?!c(S,(C=t.arrMapValues)==null?void 0:C.allowedDates):(H=t.allowedDates)!=null&&H.length?!((O=t.allowedDates)!=null&&O.some(R=>Nt(s(be(R)),s(S)))):!1},f=S=>!o(S),p=S=>t.noDisabledRange?!pO({start:S[0],end:S[1]}).some(N=>f(N)):!0,g=(S,N,F=0)=>{if(Array.isArray(N)&&N[F]){const C=lq(S,N[F]),H=jO(N[F],S),O=H.length===1?0:H.filter(W=>f(W)).length,R=Math.abs(C)-O;if(t.minRange&&t.maxRange)return R>=+t.minRange&&R<=+t.maxRange;if(t.minRange)return R>=+t.minRange;if(t.maxRange)return R<=+t.maxRange}return!0},y=S=>new Map(S.map(N=>[i(N),!0])),_=S=>Array.isArray(S)&&S.length>0,v=()=>{const S={disabledDates:null,allowedDates:null,highlightedDates:null};return _(t.allowedDates)&&(S.allowedDates=y(t.allowedDates)),typeof n.value!="function"&&_(n.value.dates)&&(S.highlightedDates=y(n.value.dates)),_(t.disabledDates)&&(S.disabledDates=y(t.disabledDates)),S},b=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,m=S=>Array.isArray(S)?[S[0]?hv(S[0]):null,S[1]?hv(S[1]):null]:hv(S),w=(S,N,F)=>S.find(C=>+C.hours===Ni(N)&&C.minutes==="*"?!0:+C.minutes===rs(N)&&+C.hours===Ni(N))&&F,T=(S,N,F)=>{const[C,H]=S,[O,R]=N;return!w(C,O,F)&&!w(H,R,F)&&F},M=(S,N)=>{const F=Array.isArray(N)?N:[N];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?T(t.disabledTimes,F,S):!F.some(C=>w(t.disabledTimes,C,S)):S},x=(S,N)=>{const F=Array.isArray(N)?[va(N[0]),N[1]?va(N[1]):void 0]:va(N),C=!t.disabledTimes(F);return S&&C},A=(S,N)=>t.disabledTimes?Array.isArray(t.disabledTimes)?M(N,S):x(N,S):N;return{isDisabled:f,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:g,matchDate:c,mapDatesArrToMap:v,isValidTime:S=>{let N=!0;if(!S||b())return!0;const F=!t.minDate&&!t.maxDate?m(S):S;return(t.maxTime||t.maxDate)&&(N=WS(t.maxTime,t.maxDate,"max",Fn(F),N)),(t.minTime||t.minDate)&&(N=WS(t.minTime,t.minDate,"min",Fn(F),N)),A(S,N)}}},Hm=()=>{const t=ie(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ie(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ie(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},KJ=(t,e,n)=>{const r=ue(0),i=$n({[ya.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ya.calendar]:!1,[ya.header]:!1}),s=(...c)=>{var d;(d=t.flow)!=null&&d.length&&(i[c]=!0,Object.keys(i).filter(h=>!i[h]).length||u())},o=()=>{var c;(c=t.flow)!=null&&c.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u())},a=()=>{r.value=-1},l=(c,d,...h)=>{t.flow[r.value]===c&&n.value&&n.value[d](...h)},u=()=>{l(Bi.month,"toggleMonthPicker",!0),l(Bi.year,"toggleYearPicker",!0),l(Bi.calendar,"toggleTimePicker",!1,!0),l(Bi.time,"toggleTimePicker",!0,!0);const c=t.flow[r.value];(c===Bi.hours||c===Bi.minutes||c===Bi.seconds)&&l(c,"toggleTimePicker",!0,!0,c)};return{childMount:s,updateFlowStep:o,resetFlow:a,flowStep:r}},Wm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Fi={...Wm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},zJ={key:1,class:"dp__input_wrap"},GJ=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],qJ={key:2,class:"dp__clear_icon"},QJ=Ce({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Wm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=In(i),d=ue(),h=ue(null),f=ue(!1),p=ue(!1),g=ie(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:f.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),y=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),d.value=null)},_=C=>{const H=c();return EJ(C,s.value.format??u(),H??HO({},i.enableSeconds),i.inputValue,p.value)},v=C=>{const{rangeSeparator:H}=s.value,[O,R]=C.split(`${H}`);if(O){const W=_(O.trim()),X=R?_(R.trim()):null,U=W&&X?[W,X]:[W];d.value=W?U:null}},b=()=>{p.value=!0},m=C=>{if(i.range)v(C);else if(i.multiDates){const H=C.split(";");d.value=H.map(O=>_(O.trim())).filter(O=>O)}else d.value=_(C)},w=C=>{var H;const O=typeof C=="string"?C:(H=C.target)==null?void 0:H.value;O!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),m(O),r("set-input-date",d.value)):y(),p.value=!1,r("update:input-value",O)},T=C=>{s.value.enabled?(m(C.target.value),s.value.enterSubmit&&p0(d.value)&&i.inputValue!==""?(r("set-input-date",d.value,!0),d.value=null):s.value.enterSubmit&&i.inputValue===""&&(d.value=null,r("clear"))):A(C)},M=C=>{s.value.enabled&&s.value.tabSubmit&&m(C.target.value),s.value.tabSubmit&&p0(d.value)&&i.inputValue!==""?(r("set-input-date",d.value,!0,!0),d.value=null):s.value.tabSubmit&&i.inputValue===""&&(d.value=null,r("clear",!0))},x=()=>{var C;f.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((C=h.value)==null||C.select())},A=C=>{C.preventDefault(),bo(C,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},S=()=>{r("real-blur"),f.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&d.value&&!i.isMenuOpen&&(r("set-input-date",d.value),r("select-date"),d.value=null)},N=C=>{bo(C,l.value,!0),r("clear")},F=C=>{if(!s.value.enabled){if(C.code==="Tab")return;C.preventDefault()}};return e({focusInput:()=>{var C;(C=h.value)==null||C.focus({preventScroll:!0})},setParsedDate:C=>{d.value=C}}),(C,H)=>{var O;return D(),Z("div",{onClick:A},[C.$slots.trigger&&!C.$slots["dp-input"]&&!k(a).enabled?Ae(C.$slots,"trigger",{key:0}):oe("",!0),!C.$slots.trigger&&(!k(a).enabled||k(a).input)?(D(),Z("div",zJ,[C.$slots["dp-input"]&&!C.$slots.trigger&&!k(a).enabled?Ae(C.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:w,onEnter:T,onTab:M,onClear:N,onBlur:S,onKeypress:F,onPaste:b}):oe("",!0),C.$slots["dp-input"]?oe("",!0):(D(),Z("input",{key:1,id:C.uid?`dp-input-${C.uid}`:void 0,ref_key:"inputRef",ref:h,name:C.name,class:De(g.value),inputmode:k(s).enabled?"text":"none",placeholder:C.placeholder,disabled:C.disabled,readonly:C.readonly,required:C.required,value:t.inputValue,autocomplete:C.autocomplete,"aria-label":(O=k(o))==null?void 0:O.input,"aria-disabled":C.disabled||void 0,"aria-invalid":C.state===!1?!0:void 0,onInput:w,onKeydown:[at(T,["enter"]),at(M,["tab"]),F],onBlur:S,onFocus:x,onKeypress:F,onPaste:b},null,42,GJ)),re("div",{onClick:H[2]||(H[2]=R=>r("toggle"))},[C.$slots["input-icon"]&&!C.hideInputIcon?(D(),Z("span",{key:0,class:"dp__input_icon",onClick:H[0]||(H[0]=R=>r("toggle"))},[Ae(C.$slots,"input-icon")])):oe("",!0),!C.$slots["input-icon"]&&!C.hideInputIcon&&!C.$slots["dp-input"]?(D(),ge(k(rh),{key:1,class:"dp__input_icon dp__input_icons",onClick:H[1]||(H[1]=R=>r("toggle"))})):oe("",!0)]),C.$slots["clear-icon"]&&t.inputValue&&C.clearable&&!C.disabled&&!C.readonly?(D(),Z("span",qJ,[Ae(C.$slots,"clear-icon",{clear:N})])):oe("",!0),C.clearable&&!C.$slots["clear-icon"]&&t.inputValue&&!C.disabled&&!C.readonly?(D(),ge(k(OO),{key:3,class:"dp__clear_icon dp__input_icons",onClick:H[3]||(H[3]=Pt(R=>N(R),["prevent"]))})):oe("",!0)])):oe("",!0)])}}}),XJ=["title"],JJ={class:"dp__action_buttons"},ZJ=["disabled","onKeydown"],eZ=Ce({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Fi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=In(r),{isValidTime:c}=Ru(r),{buildMatrix:d}=Bo(),h=ue(null),f=ue(null);an(()=>{r.arrowNavigation&&d([On(h),On(f)],"actionRow")});const p=ie(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),g=ie(()=>!y.value||!_.value||!p.value),y=ie(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),_=ie(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(S=>!x(S)).length:x(r.internalModelValue):!0),v=()=>{const S=s.value;return r.timePicker||r.monthPicker,S(Fn(r.internalModelValue))},b=()=>{const S=r.internalModelValue;return o.value.count>0?`${m(S[0])} - ${m(S[1])}`:[m(S[0]),m(S[1])]},m=S=>YO(S,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),w=ie(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?b():r.multiDates?r.internalModelValue.map(S=>`${m(S)}`):r.modelAuto?`${m(r.internalModelValue[0])}`:`${m(r.internalModelValue[0])} -`:m(r.internalModelValue):v()),T=()=>r.multiDates?"; ":" - ",M=ie(()=>Array.isArray(w.value)?w.value.join(T()):w.value),x=S=>{if(!r.monthPicker)return!0;let N=!0;const F=be(Ai(S));if(r.minDate&&r.maxDate){const C=be(Ai(r.minDate)),H=be(Ai(r.maxDate));return gr(F,C)&&er(F,H)||Nt(F,C)||Nt(F,H)}if(r.minDate){const C=be(Ai(r.minDate));N=gr(F,C)||Nt(F,C)}if(r.maxDate){const C=be(Ai(r.maxDate));N=er(F,C)||Nt(F,C)}return N},A=()=>{y.value&&_.value&&p.value?n("select-date"):n("invalid-select")};return(S,N)=>(D(),Z("div",{class:"dp__action_row",style:Nn(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[S.$slots["action-row"]?Ae(S.$slots,"action-row",En(Ht({key:0},{internalModelValue:S.internalModelValue,disabled:g.value,selectDate:()=>S.$emit("select-date"),closePicker:()=>S.$emit("close-picker")}))):(D(),Z(Se,{key:1},[k(i).showPreview?(D(),Z("div",{key:0,class:"dp__selection_preview",title:M.value},[S.$slots["action-preview"]?Ae(S.$slots,"action-preview",{key:0,value:S.internalModelValue}):oe("",!0),S.$slots["action-preview"]?oe("",!0):(D(),Z(Se,{key:1},[Xe(ze(M.value),1)],64))],8,XJ)):oe("",!0),re("div",JJ,[S.$slots["action-buttons"]?Ae(S.$slots,"action-buttons",{key:0,value:S.internalModelValue}):oe("",!0),S.$slots["action-buttons"]?oe("",!0):(D(),Z(Se,{key:1},[!k(l).enabled&&k(i).showCancel?(D(),Z("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:N[0]||(N[0]=F=>S.$emit("close-picker")),onKeydown:[N[1]||(N[1]=at(F=>S.$emit("close-picker"),["enter"])),N[2]||(N[2]=at(F=>S.$emit("close-picker"),["space"]))]},ze(S.cancelText),545)):oe("",!0),k(i).showNow?(D(),Z("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:N[3]||(N[3]=F=>S.$emit("select-now")),onKeydown:[N[4]||(N[4]=at(F=>S.$emit("select-now"),["enter"])),N[5]||(N[5]=at(F=>S.$emit("select-now"),["space"]))]},ze(S.nowButtonLabel),545)):oe("",!0),k(i).showSelect?(D(),Z("button",{key:2,ref_key:"selectButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_select",disabled:g.value,onKeydown:[at(A,["enter"]),at(A,["space"])],onClick:A},ze(S.selectText),41,ZJ)):oe("",!0)],64))])],64))],4))}}),tZ=["onKeydown"],nZ={class:"dp__selection_grid_header"},rZ=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],iZ=["aria-label","onKeydown"],oh=Ce({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Bo(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=In(a),{hideNavigationButtons:d}=Hm(),h=ue(!1),f=ue(null),p=ue(null),g=ue([]),y=ue(),_=ue(null),v=ue(0),b=ue(null);M0(()=>{f.value=null}),an(()=>{Rr().then(()=>N()),a.noOverlayFocus||w(),m(!0)}),Ba(()=>m(!1));const m=U=>{var I;a.arrowNavigation&&((I=a.headerRefs)!=null&&I.length?s(U):r(U))},w=()=>{var U;const I=On(p);I&&(u.value.enabled||(f.value?(U=f.value)==null||U.focus({preventScroll:!0}):I.focus({preventScroll:!0})),h.value=I.clientHeight<I.scrollHeight)},T=ie(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),M=ie(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),x=ie(()=>({dp__overlay_col:!0})),A=ie(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),S=ie(()=>{var U,I;return{dp__overlay_container:!0,dp__container_flex:((U=a.items)==null?void 0:U.length)<=6,dp__container_block:((I=a.items)==null?void 0:I.length)>6}});pn(()=>a.items,()=>N(),{deep:!0});const N=()=>{Rr().then(()=>{const U=On(f),I=On(p),te=On(_),L=On(b),ee=te?te.getBoundingClientRect().height:0;I&&(I.getBoundingClientRect().height?v.value=I.getBoundingClientRect().height-ee:v.value=c.value.modeHeight-ee),U&&L&&(L.scrollTop=U.offsetTop-L.offsetTop-(v.value/2-U.getBoundingClientRect().height)-ee)})},F=U=>{U.disabled||o("selected",U.value)},C=()=>{o("toggle"),o("reset-flow")},H=()=>{a.escClose&&C()},O=(U,I,te,L)=>{U&&(I.active&&(f.value=U),a.arrowNavigation&&(Array.isArray(g.value[te])?g.value[te][L]=U:g.value[te]=[U],R()))},R=()=>{var U,I;const te=(U=a.headerRefs)!=null&&U.length?[a.headerRefs].concat(g.value):g.value.concat([a.skipButtonRef?[]:[_.value]]);i(Fn(te),(I=a.headerRefs)!=null&&I.length?"monthPicker":"selectionGrid")},W=U=>{a.arrowNavigation||bo(U,c.value,!0)},X=U=>{y.value=U,o("hover-value",U)};return e({focusGrid:w}),(U,I)=>{var te;return D(),Z("div",{ref_key:"gridWrapRef",ref:p,class:De(T.value),style:Nn(M.value),role:"dialog",tabindex:"0",onKeydown:[at(Pt(H,["prevent"]),["esc"]),I[0]||(I[0]=at(Pt(L=>W(L),["prevent"]),["left"])),I[1]||(I[1]=at(Pt(L=>W(L),["prevent"]),["up"])),I[2]||(I[2]=at(Pt(L=>W(L),["prevent"]),["down"])),I[3]||(I[3]=at(Pt(L=>W(L),["prevent"]),["right"]))]},[re("div",{ref_key:"containerRef",ref:b,class:De(S.value),role:"grid",style:Nn({height:`${v.value}px`})},[re("div",nZ,[Ae(U.$slots,"header")]),U.$slots.overlay?Ae(U.$slots,"overlay",{key:0}):(D(!0),Z(Se,{key:1},ut(U.items,(L,ee)=>(D(),Z("div",{key:ee,class:De(["dp__overlay_row",{dp__flex_row:U.items.length>=3}]),role:"row"},[(D(!0),Z(Se,null,ut(L,(de,we)=>(D(),Z("div",{key:de.value,ref_for:!0,ref:B=>O(B,de,ee,we),role:"gridcell",class:De(x.value),"aria-selected":de.active,"aria-disabled":de.disabled||void 0,tabindex:"0",onClick:B=>F(de),onKeydown:[at(Pt(B=>F(de),["prevent"]),["enter"]),at(Pt(B=>F(de),["prevent"]),["space"])],onMouseover:B=>X(de.value)},[re("div",{class:De(de.className)},[U.$slots.item?Ae(U.$slots,"item",{key:0,item:de}):oe("",!0),U.$slots.item?oe("",!0):(D(),Z(Se,{key:1},[Xe(ze(de.text),1)],64))],2)],42,rZ))),128))],2))),128))],6),U.$slots["button-icon"]?Ji((D(),Z("button",{key:0,ref_key:"toggleButton",ref:_,type:"button","aria-label":(te=k(l))==null?void 0:te.toggleOverlay,class:De(A.value),tabindex:"0",onClick:C,onKeydown:[at(C,["enter"]),at(C,["tab"])]},[Ae(U.$slots,"button-icon")],42,iZ)),[[Cs,!k(d)(U.hideNavigation,U.type)]]):oe("",!0)],46,tZ)}}}),Ym=Ce({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ie(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ie(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(D(),Z("div",{class:De({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(D(!0),Z(Se,null,ut(n.value,(o,a)=>(D(),Z("div",{key:o,class:De(r.value)},[Ae(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),sZ=["aria-label","aria-disabled"],Uc=Ce({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=ue(null);return an(()=>n("set-ref",r)),(i,s)=>(D(),Z("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Pt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Pt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[re("span",{class:De(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Ae(i.$slots,"default")],2)],40,sZ))}}),oZ={class:"dp--year-mode-picker"},aZ=["aria-label"],GO=Ce({__name:"YearModePicker",props:{...Fi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Hm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=In(r),{showTransition:c,transitionName:d}=ih(u),h=(g=!1,y)=>{n("toggle-year-picker",{flow:g,show:y})},f=g=>{n("year-select",g)},p=(g=!1)=>{n("handle-year",g)};return(g,y)=>{var _,v,b;return D(),Z("div",oZ,[k(s)(k(a),t.instance)?(D(),ge(Uc,{key:0,ref:"mpPrevIconRef","aria-label":(_=k(l))==null?void 0:_.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=m=>p(!1))},{default:ve(()=>[g.$slots["arrow-left"]?Ae(g.$slots,"arrow-left",{key:0}):oe("",!0),g.$slots["arrow-left"]?oe("",!0):(D(),ge(k(a_),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),re("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(v=k(l))==null?void 0:v.openYearsOverlay,onClick:y[1]||(y[1]=()=>h(!1)),onKeydown:y[2]||(y[2]=at(()=>h(!1),["enter"]))},[g.$slots.year?Ae(g.$slots,"year",{key:0,year:t.year}):oe("",!0),g.$slots.year?oe("",!0):(D(),Z(Se,{key:1},[Xe(ze(t.year),1)],64))],40,aZ),k(i)(k(a),t.instance)?(D(),ge(Uc,{key:1,ref:"mpNextIconRef","aria-label":(b=k(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=m=>p(!0))},{default:ve(()=>[g.$slots["arrow-right"]?Ae(g.$slots,"arrow-right",{key:0}):oe("",!0),g.$slots["arrow-right"]?oe("",!0):(D(),ge(k(l_),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),le(Us,{name:k(d)(t.showYearPicker),css:k(c)},{default:ve(()=>[t.showYearPicker?(D(),ge(oh,{key:0,items:t.items,"text-input":g.textInput,"esc-close":g.escClose,config:g.config,"is-last":g.autoApply&&!k(o).keepActionRow,type:"year",onToggle:h,onSelected:y[4]||(y[4]=m=>f(m))},nr({"button-icon":ve(()=>[g.$slots["calendar-icon"]?Ae(g.$slots,"calendar-icon",{key:0}):oe("",!0),g.$slots["calendar-icon"]?oe("",!0):(D(),ge(k(rh),{key:1}))]),_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:ve(({item:m})=>[Ae(g.$slots,"year-overlay-value",{text:m.text,value:m.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last"])):oe("",!0)]),_:3},8,["name","css"])])}}}),v_=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Nt(t,r))){const r=e.value.filter(i=>!Nt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},y_=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?er(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Km=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},qO=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ie(()=>m_(i.yearRange,i.reverseYears)),u=ue([!1]),c=ie(()=>(m,w)=>{const T=nn(Ai(new Date),{month:o.value(m),year:s.value(m)});return WO(T,i.maxDate,i.minDate,i.preventMinMaxNavigation,w)}),d=()=>{for(let m=0;m<t.value.count;m++)if(m===0)n.value[m]=n.value[0];else{const w=nn(be(),n.value[m-1]);n.value[m]={month:kt(w),year:ft(Zb(w,1))}}},h=m=>{if(!m)return d();const w=nn(be(),n.value[m]);return n.value[0].year=ft(RO(w,t.value.count-1)),d()},f=m=>i.focusStartDate?m[0]:m[1]?m[1]:m[0],p=()=>{if(r.value){const m=Array.isArray(r.value)?f(r.value):r.value;n.value[0]={month:kt(m),year:ft(m)}}};an(()=>{p(),t.value.count&&d()});const g=(m,w)=>{n.value[w].year=m,t.value.count&&!t.value.solo&&h(w)},y=ie(()=>m=>fu(l.value,w=>{const T=s.value(m)===w.value,M=bd(w.value,pu(i.minDate),pu(i.maxDate)),x=g_(e.value,w.value);return{active:T,disabled:M,highlighted:x}})),_=(m,w)=>{g(m,w),b(w)},v=(m,w=!1)=>{if(!c.value(m,w)){const T=w?s.value(m)+1:s.value(m)-1;g(T,m)}},b=(m,w=!1,T)=>{w||a("reset-flow"),T!==void 0?u.value[m]=T:u.value[m]=!u.value[m],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:y,showYearPicker:u,selectYear:g,toggleYearPicker:b,handleYearSelect:_,handleYear:v}},lZ=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=In(t),{modelValue:a,year:l,month:u,calendars:c}=sh(t,e),d=ie(()=>$O(t.formatLocale,t.locale,t.monthNameFormat)),h=ue(null),{selectYear:f,groupedYears:p,showYearPicker:g,toggleYearPicker:y,handleYearSelect:_,handleYear:v,isDisabled:b}=qO({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e}),m=W=>W?{month:kt(W),year:ft(W)}:{month:null,year:null},w=()=>a.value?Array.isArray(a.value)?a.value.map(W=>m(W)):m(a.value):m(),T=(W,X)=>{const U=c.value[W],I=w();return Array.isArray(I)?I.some(te=>te.year===(U==null?void 0:U.year)&&te.month===X):(U==null?void 0:U.year)===I.year&&X===I.month},M=(W,X,U)=>{var I,te;const L=w();return Array.isArray(L)?l.value(X)===((I=L[U])==null?void 0:I.year)&&W===((te=L[U])==null?void 0:te.month):!1},x=(W,X)=>{if(t.range){const U=w();if(Array.isArray(a.value)&&Array.isArray(U)){const I=M(W,X,0)||M(W,X,1),te=Ts(Ai(be()),W,l.value(X));return jm(a.value,h.value,te)&&!I}return!1}return!1},A=ie(()=>W=>fu(d.value,X=>{const U=T(W,X.value),I=bd(X.value,FO(l.value(W),t.minDate),VO(l.value(W),t.maxDate))||xJ(t.disabledDates,l.value(W)).includes(X.value),te=x(X.value,W),L=KO(o.value,X.value,l.value(W));return{active:U,disabled:I,isBetween:te,highlighted:L}})),S=(W,X)=>Ts(Ai(be()),W,l.value(X)),N=(W,X)=>{const U=a.value?a.value:Ai(new Date);a.value=Ts(U,W,l.value(X)),e("auto-apply")},F=(W,X)=>{const U=y_(a,S(W,X),e);Km(U,e,t.autoApply,t.modelAuto)},C=(W,X)=>{v_(S(W,X),a,t.multiDatesLimit),e("auto-apply",!0)},H=(W,X)=>(c.value[X].month=W,R(X,c.value[X].year,W),t.multiDates?C(W,X):t.range?F(W,X):N(W,X)),O=(W,X)=>{f(W,X),R(X,W,null)},R=(W,X,U)=>{let I=U;if(!I){const te=w();I=Array.isArray(te)?te[W].month:te.month}e("update-month-year",{instance:W,year:X,month:I})};return{groupedMonths:A,groupedYears:p,year:l,isDisabled:b,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:g,modelValue:a,setHoverDate:(W,X)=>{h.value=S(W,X)},selectMonth:H,selectYear:O,toggleYearPicker:y,handleYearSelect:_,handleYear:v,getModelMonthYear:w}},uZ=Ce({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Fi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=Oo(),s=ti(i,"yearMode"),o=t,{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:f,modelValue:p,setHoverDate:g,selectMonth:y,selectYear:_,toggleYearPicker:v,handleYearSelect:b,handleYear:m,getModelMonthYear:w}=lZ(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:w,selectMonth:y,selectYear:_,handleYear:m})}),(T,M)=>(D(),ge(Ym,{"multi-calendars":k(d).count,stretch:""},{default:ve(({instance:x})=>[T.$slots["month-year"]?Ae(T.$slots,"month-year",En(Ht({key:0},{year:k(u),months:k(a)(x),years:k(l)(x),selectMonth:k(y),selectYear:k(_),instance:x}))):(D(),ge(oh,{key:1,items:k(a)(x),"arrow-navigation":T.arrowNavigation,"is-last":T.autoApply&&!k(h).keepActionRow,"esc-close":T.escClose,height:k(h).modeHeight,config:T.config,"no-overlay-focus":T.noOverlayFocus,"use-relative":"",type:"month",onSelected:A=>k(y)(A,x),onHoverValue:A=>k(g)(A,x)},{header:ve(()=>[le(GO,Ht(T.$props,{items:k(l)(x),instance:x,"show-year-picker":k(f)[x],year:k(u)(x),"is-disabled":A=>k(c)(x,A),onHandleYear:A=>k(m)(x,A),onYearSelect:A=>k(b)(A,x),onToggleYearPicker:A=>k(v)(x,A==null?void 0:A.flow,A==null?void 0:A.show)}),nr({_:2},[ut(k(s),(A,S)=>({name:A,fn:ve(N=>[Ae(T.$slots,A,En(tr(N)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),cZ=(t,e)=>{const{modelValue:n}=sh(t,e),r=ue(null),{defaultedHighlight:i}=In(t),s=u=>Array.isArray(n.value)?n.value.some(c=>ft(c)===u):n.value?ft(n.value)===u:!1,o=u=>t.range&&Array.isArray(n.value)?jm(n.value,r.value,l(u)):!1,a=ie(()=>fu(m_(t.yearRange,t.reverseYears),u=>{const c=s(u.value),d=bd(u.value,pu(t.minDate),pu(t.maxDate)),h=o(u.value),f=g_(i.value,u.value);return{active:c,disabled:d,isBetween:h,highlighted:f}})),l=u=>Qi(Ai(new Date),u);return{groupedYears:a,modelValue:n,setHoverValue:u=>{r.value=Qi(Ai(new Date),u)},selectYear:u=>{var c;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((c=n.value)==null?void 0:c.map(d=>ft(d))).includes(u)?n.value=n.value.filter(d=>ft(d)!==u):n.value.push(Qi(Gr(be()),u))):n.value=[Qi(Gr(be()),u)],e("auto-apply",!0);if(t.range){const d=y_(n,l(u),e);return Km(d,e,t.autoApply,t.modelAuto)}n.value=l(u),e("auto-apply")}}},dZ=Ce({compatConfig:{MODE:3},__name:"YearPicker",props:{...Fi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,selectYear:a,setHoverValue:l}=cZ(i,r),{defaultedConfig:u}=In(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:a})}),(c,d)=>(D(),Z("div",null,[c.$slots["month-year"]?Ae(c.$slots,"month-year",En(Ht({key:0},{years:k(s),selectYear:k(a)}))):(D(),ge(oh,{key:1,items:k(s),"is-last":c.autoApply&&!k(u).keepActionRow,height:k(u).modeHeight,config:c.config,"no-overlay-focus":c.noOverlayFocus,type:"year","use-relative":"",onSelected:k(a),onHoverValue:k(l)},nr({_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:ve(({item:h})=>[Ae(c.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","onSelected","onHoverValue"]))]))}}),hZ={key:0,class:"dp__time_input"},fZ=["aria-label","onKeydown","onClick"],pZ=re("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),mZ=re("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),gZ=["aria-label","disabled","onKeydown","onClick"],vZ=["aria-label","onKeydown","onClick"],yZ=re("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),wZ=re("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),bZ={key:0},_Z=["aria-label","onKeydown"],TZ=Ce({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Fi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Bo(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=In(i),{transitionName:d,showTransition:h}=ih(l),f=$n({hours:!1,minutes:!1,seconds:!1}),p=ue("AM"),g=ue(null),y=ue([]);an(()=>{r("mounted")});const _=B=>nn(new Date,{hours:B.hours,minutes:B.minutes,seconds:i.enableSeconds?B.seconds:0,milliseconds:0}),v=ie(()=>B=>H(B,i[B])||m(B,i[B])),b=ie(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),m=(B,G)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(B,G):!1,w=(B,G)=>{if(i.range&&!i.disableTimeRangeValidation){const ae=G?+i[`${B}Increment`]:-+i[`${B}Increment`],K=i[B]+ae;return!i.validateTime(B,K)}return!1},T=ie(()=>B=>!R(+i[B]+ +i[`${B}Increment`],B)||w(B,!0)),M=ie(()=>B=>!R(+i[B]-+i[`${B}Increment`],B)||w(B,!1)),x=(B,G)=>hO(nn(be(),B),G),A=(B,G)=>BX(nn(be(),B),G),S=ie(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),N=ie(()=>{const B=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?B.concat([{type:"",separator:!0},{type:"seconds"}]):B}),F=ie(()=>N.value.filter(B=>!B.separator)),C=ie(()=>B=>{if(B==="hours"){const G=te(+i.hours);return{text:G<10?`0${G}`:`${G}`,value:G}}return{text:i[B]<10?`0${i[B]}`:`${i[B]}`,value:i[B]}}),H=(B,G)=>{var ae;if(!i.disabledTimesConfig)return!1;const K=i.disabledTimesConfig(i.order,B==="hours"?G:void 0);return K[B]?!!((ae=K[B])!=null&&ae.includes(G)):!0},O=B=>{const G=i.is24?24:12,ae=B==="hours"?G:60,K=+i[`${B}GridIncrement`],pe=B==="hours"&&!i.is24?K:0,Ee=[];for(let E=pe;E<ae;E+=K)Ee.push({value:E,text:E<10?`0${E}`:`${E}`});return B==="hours"&&!i.is24&&Ee.push({value:0,text:"12"}),fu(Ee,E=>({active:!1,disabled:u.value.times[B].includes(E.value)||!R(E.value,B)||H(B,E.value)||m(B,E.value)}))},R=(B,G)=>{const ae=i.minTime?_(uv(i.minTime)):null,K=i.maxTime?_(uv(i.maxTime)):null,pe=_(uv(b.value,G,B));return ae&&K?(wd(pe,K)||Il(pe,K))&&(yd(pe,ae)||Il(pe,ae)):ae?yd(pe,ae)||Il(pe,ae):K?wd(pe,K)||Il(pe,K):!0},W=B=>i[`no${B[0].toUpperCase()+B.slice(1)}Overlay`],X=B=>{W(B)||(f[B]=!f[B],f[B]||r("overlay-closed"))},U=B=>B==="hours"?Ni:B==="minutes"?rs:du,I=(B,G=!0)=>{const ae=G?x:A,K=G?+i[`${B}Increment`]:-+i[`${B}Increment`];R(+i[B]+K,B)&&r(`update:${B}`,U(B)(ae({[B]:+i[B]},{[B]:+i[`${B}Increment`]})))},te=B=>i.is24?B:(B>=12?p.value="PM":p.value="AM",gJ(B)),L=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},ee=B=>{f[B]=!0},de=(B,G,ae)=>{if(B&&i.arrowNavigation){Array.isArray(y.value[G])?y.value[G][ae]=B:y.value[G]=[B];const K=y.value.reduce((pe,Ee)=>Ee.map((E,P)=>[...pe[P]||[],Ee[P]]),[]);o(i.closeTimePickerBtn),g.value&&(K[1]=K[1].concat(g.value)),s(K,i.order)}},we=(B,G)=>(X(B),B==="hours"&&!i.is24?r(`update:${B}`,p.value==="PM"?G+12:G):r(`update:${B}`,G));return e({openChildCmp:ee}),(B,G)=>{var ae;return B.disabled?oe("",!0):(D(),Z("div",hZ,[(D(!0),Z(Se,null,ut(N.value,(K,pe)=>{var Ee,E,P;return D(),Z("div",{key:pe,class:De(S.value)},[K.separator?(D(),Z(Se,{key:0},[Xe(" : ")],64)):(D(),Z(Se,{key:1},[re("button",{ref_for:!0,ref:V=>de(V,pe,0),type:"button",class:De({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_top:B.timePickerInline,dp__inc_dec_button_disabled:T.value(K.type)}),"aria-label":(Ee=k(a))==null?void 0:Ee.incrementValue(K.type),tabindex:"0",onKeydown:[at(Pt(V=>I(K.type),["prevent"]),["enter"]),at(Pt(V=>I(K.type),["prevent"]),["space"])],onClick:V=>I(K.type)},[i.timePickerInline?(D(),Z(Se,{key:1},[pZ,mZ],64)):(D(),Z(Se,{key:0},[B.$slots["arrow-up"]?Ae(B.$slots,"arrow-up",{key:0}):oe("",!0),B.$slots["arrow-up"]?oe("",!0):(D(),ge(k(c_),{key:1}))],64))],42,fZ),re("button",{ref_for:!0,ref:V=>de(V,pe,1),type:"button","aria-label":(E=k(a))==null?void 0:E.openTpOverlay(K.type),class:De({dp__time_display:!0,dp__time_display_block:!B.timePickerInline,dp__time_display_inline:B.timePickerInline,"dp--time-invalid":v.value(K.type),"dp--time-overlay-btn":!v.value(K.type)}),disabled:W(K.type),tabindex:"0",onKeydown:[at(Pt(V=>X(K.type),["prevent"]),["enter"]),at(Pt(V=>X(K.type),["prevent"]),["space"])],onClick:V=>X(K.type)},[B.$slots[K.type]?Ae(B.$slots,K.type,{key:0,text:C.value(K.type).text,value:C.value(K.type).value}):oe("",!0),B.$slots[K.type]?oe("",!0):(D(),Z(Se,{key:1},[Xe(ze(C.value(K.type).text),1)],64))],42,gZ),re("button",{ref_for:!0,ref:V=>de(V,pe,2),type:"button",class:De({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_bottom:B.timePickerInline,dp__inc_dec_button_disabled:M.value(K.type)}),"aria-label":(P=k(a))==null?void 0:P.decrementValue(K.type),tabindex:"0",onKeydown:[at(Pt(V=>I(K.type,!1),["prevent"]),["enter"]),at(Pt(V=>I(K.type,!1),["prevent"]),["space"])],onClick:V=>I(K.type,!1)},[i.timePickerInline?(D(),Z(Se,{key:1},[yZ,wZ],64)):(D(),Z(Se,{key:0},[B.$slots["arrow-down"]?Ae(B.$slots,"arrow-down",{key:0}):oe("",!0),B.$slots["arrow-down"]?oe("",!0):(D(),ge(k(d_),{key:1}))],64))],42,vZ)],64))],2)}),128)),B.is24?oe("",!0):(D(),Z("div",bZ,[B.$slots["am-pm-button"]?Ae(B.$slots,"am-pm-button",{key:0,toggle:L,value:p.value}):oe("",!0),B.$slots["am-pm-button"]?oe("",!0):(D(),Z("button",{key:1,ref_key:"amPmButton",ref:g,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ae=k(a))==null?void 0:ae.amPmButton,tabindex:"0",onClick:L,onKeydown:[at(Pt(L,["prevent"]),["enter"]),at(Pt(L,["prevent"]),["space"])]},ze(p.value),41,_Z))])),(D(!0),Z(Se,null,ut(F.value,(K,pe)=>(D(),ge(Us,{key:pe,name:k(d)(f[K.type]),css:k(h)},{default:ve(()=>[f[K.type]?(D(),ge(oh,{key:0,items:O(K.type),"is-last":B.autoApply&&!k(c).keepActionRow,"esc-close":B.escClose,type:K.type,"text-input":B.textInput,config:B.config,"arrow-navigation":B.arrowNavigation,onSelected:Ee=>we(K.type,Ee),onToggle:Ee=>X(K.type),onResetFlow:G[0]||(G[0]=Ee=>B.$emit("reset-flow"))},nr({"button-icon":ve(()=>[B.$slots["clock-icon"]?Ae(B.$slots,"clock-icon",{key:0}):oe("",!0),B.$slots["clock-icon"]?oe("",!0):(D(),ge(k(u_),{key:1}))]),_:2},[B.$slots[`${K.type}-overlay-value`]?{name:"item",fn:ve(({item:Ee})=>[Ae(B.$slots,`${K.type}-overlay-value`,{text:Ee.text,value:Ee.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):oe("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),EZ={class:"dp--tp-wrap"},SZ=["aria-label","tabindex"],CZ=["tabindex"],IZ=["aria-label"],QO=Ce({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Fi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Bo(),a=Oo(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=In(i),{transitionName:h,showTransition:f}=ih(l),{hideNavigationButtons:p}=Hm(),g=ue(null),y=ue(null),_=ue([]),v=ue(null);an(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([On(g.value)],"time"):o(!0,i.timePicker)});const b=ie(()=>i.range&&i.modelAuto?UO(i.internalModelValue):!0),m=ue(!1),w=O=>({hours:Array.isArray(i.hours)?i.hours[O]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[O]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[O]:i.seconds}),T=ie(()=>{const O=[];if(i.range)for(let R=0;R<2;R++)O.push(w(R));else O.push(w(0));return O}),M=(O,R=!1,W="")=>{R||r("reset-flow"),m.value=O,r(O?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(O),Rr(()=>{W!==""&&_.value[0]&&_.value[0].openChildCmp(W)})},x=ie(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),A=ti(a,"timePicker"),S=(O,R,W)=>i.range?R===0?[O,T.value[1][W]]:[T.value[0][W],O]:O,N=O=>{r("update:hours",O)},F=O=>{r("update:minutes",O)},C=O=>{r("update:seconds",O)},H=()=>{if(v.value&&!c.value.enabled&&!i.noOverlayFocus){const O=yJ(v.value);O&&O.focus({preventScroll:!0})}};return e({toggleTimePicker:M}),(O,R)=>{var W;return D(),Z("div",EZ,[!O.timePicker&&!O.timePickerInline?Ji((D(),Z("button",{key:0,ref_key:"openTimePickerBtn",ref:g,type:"button",class:De(x.value),"aria-label":(W=k(u))==null?void 0:W.openTimePicker,tabindex:O.noOverlayFocus?void 0:0,onKeydown:[R[0]||(R[0]=at(X=>M(!0),["enter"])),R[1]||(R[1]=at(X=>M(!0),["space"]))],onClick:R[2]||(R[2]=X=>M(!0))},[O.$slots["clock-icon"]?Ae(O.$slots,"clock-icon",{key:0}):oe("",!0),O.$slots["clock-icon"]?oe("",!0):(D(),ge(k(u_),{key:1}))],42,SZ)),[[Cs,!k(p)(O.hideNavigation,"time")]]):oe("",!0),le(Us,{name:k(h)(m.value),css:k(f)&&!O.timePickerInline},{default:ve(()=>{var X;return[m.value||O.timePicker||O.timePickerInline?(D(),Z("div",{key:0,ref_key:"overlayRef",ref:v,class:De({dp__overlay:!O.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!O.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Nn(O.timePicker?{height:`${k(d).modeHeight}px`}:void 0),tabindex:O.timePickerInline?void 0:0},[re("div",{class:De(O.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[O.$slots["time-picker-overlay"]?Ae(O.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:N,setMinutes:F,setSeconds:C}):oe("",!0),O.$slots["time-picker-overlay"]?oe("",!0):(D(),Z("div",{key:1,class:De(O.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(D(!0),Z(Se,null,ut(T.value,(U,I)=>Ji((D(),ge(TZ,Ht({key:I},{...O.$props,order:I,hours:U.hours,minutes:U.minutes,seconds:U.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:I===0?O.fixedStart:O.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:_,"validate-time":(te,L)=>t.validateTime(te,S(L,I,te)),"onUpdate:hours":te=>N(S(te,I,"hours")),"onUpdate:minutes":te=>F(S(te,I,"minutes")),"onUpdate:seconds":te=>C(S(te,I,"seconds")),onMounted:H,onOverlayClosed:H,onAmPmChange:R[3]||(R[3]=te=>O.$emit("am-pm-change",te))}),nr({_:2},[ut(k(A),(te,L)=>({name:te,fn:ve(ee=>[Ae(O.$slots,te,En(tr(ee)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Cs,I===0?!0:b.value]])),128))],2)),!O.timePicker&&!O.timePickerInline?Ji((D(),Z("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:De(x.value),"aria-label":(X=k(u))==null?void 0:X.closeTimePicker,tabindex:"0",onKeydown:[R[4]||(R[4]=at(U=>M(!1),["enter"])),R[5]||(R[5]=at(U=>M(!1),["space"]))],onClick:R[6]||(R[6]=U=>M(!1))},[O.$slots["calendar-icon"]?Ae(O.$slots,"calendar-icon",{key:0}):oe("",!0),O.$slots["calendar-icon"]?oe("",!0):(D(),ge(k(rh),{key:1}))],42,IZ)),[[Cs,!k(p)(O.hideNavigation,"time")]]):oe("",!0)],2)],14,CZ)):oe("",!0)]}),_:3},8,["name","css"])])}}}),XO=(t,e,n,r)=>{const i=(_,v)=>Array.isArray(e[_])?e[_][v]:e[_],s=_=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[_]:e.seconds:0,o=(_,v)=>_?v!==void 0?_o(_,i("hours",v),i("minutes",v),s(v)):_o(_,e.hours,e.minutes,s()):o_(be(),s(v)),a=(_,v)=>{e[_]=v},l=(_,v)=>{const b=Object.fromEntries(Object.keys(e).map(m=>m===_?[m,v]:[m,e[m]].slice()));if(t.range&&!t.disableTimeRangeValidation){const m=T=>n.value?_o(n.value[T],b.hours[T],b.minutes[T],b.seconds[T]):null,w=T=>s_(n.value[T],0);return!(Nt(m(0),m(1))&&(yd(m(0),w(1))||wd(m(1),w(0))))}return!0},u=(_,v)=>{l(_,v)&&(a(_,v),r&&r())},c=_=>{u("hours",_)},d=_=>{u("minutes",_)},h=_=>{u("seconds",_)},f=(_,v,b,m)=>{v&&c(_),!v&&!b&&d(_),b&&h(_),n.value&&m(n.value)},p=_=>{if(_){const v=Array.isArray(_),b=v?[+_[0].hours,+_[1].hours]:+_.hours,m=v?[+_[0].minutes,+_[1].minutes]:+_.minutes,w=v?[+_[0].seconds,+_[1].seconds]:+_.seconds;a("hours",b),a("minutes",m),t.enableSeconds&&a("seconds",w)}},g=(_,v)=>{const b={hours:Array.isArray(e.hours)?e.hours[_]:e.hours,disabledArr:[]};return(v||v===0)&&(b.hours=v),Array.isArray(t.disabledTimes)&&(b.disabledArr=t.range&&Array.isArray(t.disabledTimes[_])?t.disabledTimes[_]:t.disabledTimes),b},y=ie(()=>(_,v)=>{var b;if(Array.isArray(t.disabledTimes)){const{disabledArr:m,hours:w}=g(_,v),T=m.filter(M=>+M.hours===w);return((b=T[0])==null?void 0:b.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(T==null?void 0:T.map(M=>+M.minutes))??[],seconds:(T==null?void 0:T.map(M=>M.seconds?+M.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:o,updateTimeValues:f,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:y}},kZ=(t,e)=>{const{modelValue:n,time:r}=sh(t,e),{defaultedStartTime:i}=In(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=XO(t,r,n),d=v=>{const{hours:b,minutes:m,seconds:w}=v;return{hours:+b,minutes:+m,seconds:w?+w:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const b=d(t.startTime[0]),m=d(t.startTime[1]);return[nn(be(),b),nn(be(),m)]}const v=d(t.startTime);return nn(be(),v)}return t.range?[null,null]:null},f=()=>{if(t.range){const[v,b]=h();n.value=[o(v,0),o(b,1)]}else n.value=o(h())},p=v=>Array.isArray(v)?[va(be(v[0])),va(be(v[1]))]:[va(v??be())],g=(v,b,m)=>{a("hours",v),a("minutes",b),a("seconds",t.enableSeconds?m:0)},y=()=>{const[v,b]=p(n.value);return t.range?g([v.hours,b.hours],[v.minutes,b.minutes],[v.seconds,b.minutes]):g(v.hours,v.minutes,v.seconds)};an(()=>{if(!t.shadow)return l(i.value),n.value?y():f()});const _=()=>{Array.isArray(n.value)?n.value=n.value.map((v,b)=>v&&o(v,b)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(v,b=!0,m=!1)=>{s(v,b,m,_)},validateTime:c}},AZ=Ce({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Fi},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Oo(),o=ti(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=kZ(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,f)=>(D(),ge(Ym,{"multi-calendars":0,stretch:""},{default:ve(()=>[le(QO,Ht(h.$props,{hours:k(a).hours,minutes:k(a).minutes,seconds:k(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":k(u),"validate-time":k(d),"onUpdate:hours":f[0]||(f[0]=p=>k(c)(p)),"onUpdate:minutes":f[1]||(f[1]=p=>k(c)(p,!1)),"onUpdate:seconds":f[2]||(f[2]=p=>k(c)(p,!1,!0)),onAmPmChange:f[3]||(f[3]=p=>h.$emit("am-pm-change",p))}),nr({_:2},[ut(k(o),(p,g)=>({name:p,fn:ve(y=>[Ae(h.$slots,p,En(tr(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),xZ={class:"dp__month_year_row"},PZ=["aria-label","onClick","onKeydown"],DZ=Ce({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Fi},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=In(i),{transitionName:d,showTransition:h}=ih(s),{buildMatrix:f}=Bo(),{handleMonthYearChange:p,isDisabled:g,updateMonthYear:y}=BJ(i,r),{showLeftIcon:_,showRightIcon:v}=Hm(),b=ue(!1),m=ue(!1),w=ue([null,null,null,null]);an(()=>{r("mount")});const T=I=>({get:()=>i[I],set:te=>{const L=I===Ti.month?Ti.year:Ti.month;r("update-month-year",{[I]:te,[L]:i[L]}),I===Ti.month?H(!0):O(!0)}}),M=ie(T(Ti.month)),x=ie(T(Ti.year)),A=ie(()=>I=>({month:i.month,year:i.year,items:I===Ti.month?i.months:i.years,instance:i.instance,updateMonthYear:y,toggle:I===Ti.month?H:O})),S=ie(()=>i.months.find(te=>te.value===i.month)||{text:"",value:0}),N=ie(()=>fu(i.months,I=>{const te=i.month===I.value,L=bd(I.value,FO(i.year,i.minDate),VO(i.year,i.maxDate))||l.value.months.includes(I.value),ee=KO(c.value,I.value,i.year);return{active:te,disabled:L,highlighted:ee}})),F=ie(()=>fu(i.years,I=>{const te=i.year===I.value,L=bd(I.value,pu(i.minDate),pu(i.maxDate))||l.value.years.includes(I.value),ee=g_(c.value,I.value);return{active:te,disabled:L,highlighted:ee}})),C=(I,te)=>{te!==void 0?I.value=te:I.value=!I.value,I.value||r("overlay-closed")},H=(I=!1,te)=>{R(I),C(b,te)},O=(I=!1,te)=>{R(I),C(m,te)},R=I=>{I||r("reset-flow")},W=(I,te)=>{i.arrowNavigation&&(w.value[te]=On(I),f(w.value,"monthYear"))},X=ie(()=>{var I,te;return[{type:Ti.month,index:1,toggle:H,modelValue:M.value,updateModelValue:L=>M.value=L,text:S.value.text,showSelectionGrid:b.value,items:N.value,ariaLabel:(I=o.value)==null?void 0:I.openMonthsOverlay},{type:Ti.year,index:2,toggle:O,modelValue:x.value,updateModelValue:L=>x.value=L,text:i.year,showSelectionGrid:m.value,items:F.value,ariaLabel:(te=o.value)==null?void 0:te.openYearsOverlay}]}),U=ie(()=>i.disableYearSelect?[X.value[0]]:i.yearFirst?[...X.value].reverse():X.value);return e({toggleMonthPicker:H,toggleYearPicker:O,handleMonthYearChange:p}),(I,te)=>{var L,ee,de;return D(),Z("div",xZ,[I.$slots["month-year"]?Ae(I.$slots,"month-year",En(Ht({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:k(y),handleMonthYearChange:k(p),instance:t.instance}))):(D(),Z(Se,{key:1},[k(_)(k(a),t.instance)&&!I.vertical?(D(),ge(Uc,{key:0,"aria-label":(L=k(o))==null?void 0:L.prevMonth,disabled:k(g)(!1),onActivate:te[0]||(te[0]=we=>k(p)(!1,!0)),onSetRef:te[1]||(te[1]=we=>W(we,0))},{default:ve(()=>[I.$slots["arrow-left"]?Ae(I.$slots,"arrow-left",{key:0}):oe("",!0),I.$slots["arrow-left"]?oe("",!0):(D(),ge(k(a_),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),re("div",{class:De(["dp__month_year_wrap",{dp__year_disable_select:I.disableYearSelect}])},[(D(!0),Z(Se,null,ut(U.value,(we,B)=>(D(),Z(Se,{key:we.type},[re("button",{ref_for:!0,ref:G=>W(G,B+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":we.ariaLabel,onClick:we.toggle,onKeydown:[at(Pt(we.toggle,["prevent"]),["enter"]),at(Pt(we.toggle,["prevent"]),["space"])]},[I.$slots[we.type]?Ae(I.$slots,we.type,{key:0,text:we.text,value:i[we.type]}):oe("",!0),I.$slots[we.type]?oe("",!0):(D(),Z(Se,{key:1},[Xe(ze(we.text),1)],64))],40,PZ),le(Us,{name:k(d)(we.showSelectionGrid),css:k(h)},{default:ve(()=>[we.showSelectionGrid?(D(),ge(oh,{key:0,items:we.items,"arrow-navigation":I.arrowNavigation,"hide-navigation":I.hideNavigation,"is-last":I.autoApply&&!k(u).keepActionRow,"skip-button-ref":!1,config:I.config,type:we.type,"header-refs":[],"esc-close":I.escClose,"text-input":I.textInput,onSelected:we.updateModelValue,onToggle:we.toggle},nr({"button-icon":ve(()=>[I.$slots["calendar-icon"]?Ae(I.$slots,"calendar-icon",{key:0}):oe("",!0),I.$slots["calendar-icon"]?oe("",!0):(D(),ge(k(rh),{key:1}))]),_:2},[I.$slots[`${we.type}-overlay-value`]?{name:"item",fn:ve(({item:G})=>[Ae(I.$slots,`${we.type}-overlay-value`,{text:G.text,value:G.value})]),key:"0"}:void 0,I.$slots[`${we.type}-overlay`]?{name:"overlay",fn:ve(()=>[Ae(I.$slots,`${we.type}-overlay`,En(tr(A.value(we.type))))]),key:"1"}:void 0,I.$slots[`${we.type}-overlay-header`]?{name:"header",fn:ve(()=>[Ae(I.$slots,`${we.type}-overlay-header`,{toggle:we.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):oe("",!0)]),_:2},1032,["name","css"])],64))),128))],2),k(_)(k(a),t.instance)&&I.vertical?(D(),ge(Uc,{key:1,"aria-label":(ee=k(o))==null?void 0:ee.prevMonth,disabled:k(g)(!1),onActivate:te[2]||(te[2]=we=>k(p)(!1,!0))},{default:ve(()=>[I.$slots["arrow-up"]?Ae(I.$slots,"arrow-up",{key:0}):oe("",!0),I.$slots["arrow-up"]?oe("",!0):(D(),ge(k(c_),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),k(v)(k(a),t.instance)?(D(),ge(Uc,{key:2,ref:"rightIcon",disabled:k(g)(!0),"aria-label":(de=k(o))==null?void 0:de.nextMonth,onActivate:te[3]||(te[3]=we=>k(p)(!0,!0)),onSetRef:te[4]||(te[4]=we=>W(we,I.disableYearSelect?2:3))},{default:ve(()=>[I.$slots[I.vertical?"arrow-down":"arrow-right"]?Ae(I.$slots,I.vertical?"arrow-down":"arrow-right",{key:0}):oe("",!0),I.$slots[I.vertical?"arrow-down":"arrow-right"]?oe("",!0):(D(),ge(Sd(I.vertical?k(d_):k(l_)),{key:1}))]),_:3},8,["disabled","aria-label"])):oe("",!0)],64))])}}}),RZ=["aria-label"],OZ={class:"dp__calendar_header",role:"row"},NZ={key:0,class:"dp__calendar_header_item",role:"gridcell"},MZ=re("div",{class:"dp__calendar_header_separator"},null,-1),LZ=["aria-label"],$Z={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},UZ={class:"dp__cell_inner"},FZ=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],VZ=Ce({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Fi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Bo(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u}=In(i),c=ue(null),d=ue({bottom:"",left:"",transform:""}),h=ue([]),f=ue(null),p=ue(!0),g=ue(""),y=ue({startX:0,endX:0,startY:0,endY:0}),_=ue([]),v=ue({left:"50%"}),b=ie(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),m=ie(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):mJ(i.formatLocale,i.locale,+i.weekStart));an(()=>{r("mount",{cmp:"calendar",refs:h}),a.value.noSwipe||f.value&&(f.value.addEventListener("touchstart",H,{passive:!1}),f.value.addEventListener("touchend",O,{passive:!1}),f.value.addEventListener("touchmove",R,{passive:!1})),i.monthChangeOnScroll&&f.value&&f.value.addEventListener("wheel",U,{passive:!1})});const w=ee=>ee?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",T=(ee,de)=>{if(i.transitions){const we=Gr(Ts(be(),i.month,i.year));g.value=gr(Gr(Ts(be(),ee,de)),we)?o.value[w(!0)]:o.value[w(!1)],p.value=!1,Rr(()=>{p.value=!0})}},M=ie(()=>({[i.calendarClassName]:!!i.calendarClassName})),x=ie(()=>ee=>{const de=vJ(ee);return{dp__marker_dot:de.type==="dot",dp__marker_line:de.type==="line"}}),A=ie(()=>ee=>Nt(ee,c.value)),S=ie(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),N=ie(()=>ee=>i.hideOffsetDates?ee.current:!0),F=async(ee,de,we)=>{var B,G;if(r("set-hover-date",ee),(G=(B=ee.marker)==null?void 0:B.tooltip)!=null&&G.length){const ae=On(h.value[de][we]);if(ae){const{width:K,height:pe}=ae.getBoundingClientRect();c.value=ee.value;let Ee={left:`${K/2}px`},E=-50;if(await Rr(),_.value[0]){const{left:P,width:V}=_.value[0].getBoundingClientRect();P<0&&(Ee={left:"0"},E=0,v.value.left=`${K/2}px`),window.innerWidth<P+V&&(Ee={right:"0"},E=0,v.value.left=`${V-K/2}px`)}d.value={bottom:`${pe}px`,...Ee,transform:`translateX(${E}%)`},r("tooltip-open",ee.marker)}}},C=ee=>{c.value&&(c.value=null,d.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ee.marker))},H=ee=>{y.value.startX=ee.changedTouches[0].screenX,y.value.startY=ee.changedTouches[0].screenY},O=ee=>{y.value.endX=ee.changedTouches[0].screenX,y.value.endY=ee.changedTouches[0].screenY,W()},R=ee=>{i.vertical&&!i.inline&&ee.preventDefault()},W=()=>{const ee=i.vertical?"Y":"X";Math.abs(y.value[`start${ee}`]-y.value[`end${ee}`])>10&&r("handle-swipe",y.value[`start${ee}`]>y.value[`end${ee}`]?"right":"left")},X=(ee,de,we)=>{ee&&(Array.isArray(h.value[de])?h.value[de][we]=ee:h.value[de]=[ee]),i.arrowNavigation&&s(h.value,"calendar")},U=ee=>{i.monthChangeOnScroll&&(ee.preventDefault(),r("handle-scroll",ee))},I=ee=>{const de=ee[0];return i.weekNumbers==="local"?IQ(de.value,{weekStartsOn:+i.weekStart}):i.weekNumbers==="iso"?TQ(de.value):typeof i.weekNumbers=="function"?i.weekNumbers(de.value):""},te=(ee,de)=>{bo(ee,a.value),r("select-date",de)},L=ee=>{bo(ee,a.value)};return e({triggerTransition:T}),(ee,de)=>{var we;return D(),Z("div",{class:De(S.value)},[re("div",{ref_key:"calendarWrapRef",ref:f,role:"grid",class:De(M.value),"aria-label":(we=k(l))==null?void 0:we.calendarWrap},[(D(),Z(Se,{key:0},[re("div",OZ,[ee.weekNumbers?(D(),Z("div",NZ,ze(ee.weekNumName),1)):oe("",!0),(D(!0),Z(Se,null,ut(m.value,(B,G)=>(D(),Z("div",{key:G,class:"dp__calendar_header_item",role:"gridcell"},[ee.$slots["calendar-header"]?Ae(ee.$slots,"calendar-header",{key:0,day:B,index:G}):oe("",!0),ee.$slots["calendar-header"]?oe("",!0):(D(),Z(Se,{key:1},[Xe(ze(B),1)],64))]))),128))]),MZ,le(Us,{name:g.value,css:!!ee.transitions},{default:ve(()=>{var B;return[p.value?(D(),Z("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((B=k(l))==null?void 0:B.calendarDays)||void 0},[(D(!0),Z(Se,null,ut(b.value,(G,ae)=>(D(),Z("div",{key:ae,class:"dp__calendar_row",role:"row"},[ee.weekNumbers?(D(),Z("div",$Z,[re("div",UZ,ze(I(G.days)),1)])):oe("",!0),(D(!0),Z(Se,null,ut(G.days,(K,pe)=>{var Ee,E,P;return D(),Z("div",{id:K.value.toISOString().split("T")[0],ref_for:!0,ref:V=>X(V,ae,pe),key:pe+ae,role:"gridcell",class:"dp__calendar_item","aria-selected":K.classData.dp__active_date||K.classData.dp__range_start||K.classData.dp__range_start,"aria-disabled":K.classData.dp__cell_disabled||void 0,"aria-label":(E=(Ee=k(l))==null?void 0:Ee.day)==null?void 0:E.call(Ee,K),tabindex:"0",onClick:Pt(V=>te(V,K),["prevent"]),onKeydown:[at(V=>ee.$emit("select-date",K),["enter"]),at(V=>ee.$emit("handle-space",K),["space"])],onMouseenter:V=>F(K,ae,pe),onMouseleave:V=>C(K)},[re("div",{class:De(["dp__cell_inner",K.classData])},[ee.$slots.day&&N.value(K)?Ae(ee.$slots,"day",{key:0,day:+K.text,date:K.value}):oe("",!0),ee.$slots.day?oe("",!0):(D(),Z(Se,{key:1},[Xe(ze(K.text),1)],64)),K.marker&&N.value(K)?(D(),Z(Se,{key:2},[ee.$slots.marker?Ae(ee.$slots,"marker",{key:0,marker:K.marker,day:+K.text,date:K.value}):(D(),Z("div",{key:1,class:De(x.value(K.marker)),style:Nn(K.marker.color?{backgroundColor:K.marker.color}:{})},null,6))],64)):oe("",!0),A.value(K.value)?(D(),Z("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:_,class:"dp__marker_tooltip",style:Nn(d.value)},[(P=K.marker)!=null&&P.tooltip?(D(),Z("div",{key:0,class:"dp__tooltip_content",onClick:L},[(D(!0),Z(Se,null,ut(K.marker.tooltip,(V,z)=>(D(),Z("div",{key:z,class:"dp__tooltip_text"},[ee.$slots["marker-tooltip"]?Ae(ee.$slots,"marker-tooltip",{key:0,tooltip:V,day:K.value}):oe("",!0),ee.$slots["marker-tooltip"]?oe("",!0):(D(),Z(Se,{key:1},[re("div",{class:"dp__tooltip_mark",style:Nn(V.color?{backgroundColor:V.color}:{})},null,4),re("div",null,ze(V.text),1)],64))]))),128)),re("div",{class:"dp__arrow_bottom_tp",style:Nn(v.value)},null,4)])):oe("",!0)],4)):oe("",!0)],2)],40,FZ)}),128))]))),128))],8,LZ)):oe("",!0)]}),_:3},8,["name","css"])],64))],10,RZ)],2)}}}),zS=t=>Array.isArray(t),BZ=(t,e,n,r)=>{const i=ue([]),{modelValue:s,calendars:o,time:a}=sh(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=In(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:f}=Ru(t),{updateTimeValues:p,getSetDateTime:g,setTime:y,assignStartTime:_,validateTime:v,disabledTimesConfig:b}=XO(t,a,s,r),m=ie(()=>Q=>o.value[Q]?o.value[Q].month:0),w=ie(()=>Q=>o.value[Q]?o.value[Q].year:0),T=(Q,$,Y)=>{var j,se;o.value[Q]||(o.value[Q]={month:0,year:0}),o.value[Q].month=BS($)?(j=o.value[Q])==null?void 0:j.month:$,o.value[Q].year=BS(Y)?(se=o.value[Q])==null?void 0:se.year:Y},M=()=>{t.autoApply&&e("select-date")};pn(s,(Q,$)=>{JSON.stringify(Q)!==JSON.stringify($)&&S()}),an(()=>{t.shadow||(s.value||(I(),u.value&&_(u.value)),S(!0),t.focusStartDate&&t.startDate&&I())});const x=ie(()=>{var Q;return(Q=t.flow)!=null&&Q.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),A=()=>{t.autoApply&&x.value&&e("auto-apply",t.partialFlow)},S=(Q=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,R(Q)):F(s.value,Q);if(l.value.count&&Q&&!t.startDate)return N(be(),Q)},N=(Q,$=!1)=>{if((!l.value.count||!l.value.static||$)&&T(0,kt(Q),ft(Q)),l.value.count)for(let Y=1;Y<l.value.count;Y++){const j=nn(be(),{month:m.value(Y-1),year:w.value(Y-1)}),se=hO(j,{months:1});o.value[Y]={month:kt(se),year:ft(se)}}},F=(Q,$)=>{N(Q),y("hours",Ni(Q)),y("minutes",rs(Q)),y("seconds",du(Q)),l.value.count&&$&&U()},C=Q=>{if(l.value.count){if(l.value.solo)return 0;const $=kt(Q[0]),Y=kt(Q[1]);return Math.abs(Y-$)<l.value.count?0:1}return 1},H=(Q,$)=>{Q[1]&&t.showLastInRange?N(Q[C(Q)],$):N(Q[0],$);const Y=(j,se)=>[j(Q[0]),Q[1]?j(Q[1]):a[se][1]];y("hours",Y(Ni,"hours")),y("minutes",Y(rs,"minutes")),y("seconds",Y(du,"seconds"))},O=(Q,$)=>{if((t.range||t.weekPicker)&&!t.multiDates)return H(Q,$);if(t.multiDates&&$){const Y=Q[Q.length-1];return F(Y,$)}},R=Q=>{const $=s.value;O($,Q),l.value.count&&l.value.solo&&U()},W=(Q,$)=>{const Y=nn(be(),{month:m.value($),year:w.value($)}),j=Q<0?Oi(Y,1):hu(Y,1);c(kt(j),ft(j),Q<0,t.preventMinMaxNavigation)&&(T($,kt(j),ft(j)),e("update-month-year",{instance:$,month:kt(j),year:ft(j)}),l.value.count&&!l.value.solo&&X($),n())},X=Q=>{for(let $=Q-1;$>=0;$--){const Y=hu(nn(be(),{month:m.value($+1),year:w.value($+1)}),1);T($,kt(Y),ft(Y))}for(let $=Q+1;$<=l.value.count-1;$++){const Y=Oi(nn(be(),{month:m.value($-1),year:w.value($-1)}),1);T($,kt(Y),ft(Y))}},U=()=>{if(Array.isArray(s.value)&&s.value.length===2){const Q=be(be(s.value[1]?s.value[1]:Oi(s.value[0],1))),[$,Y]=[kt(s.value[0]),ft(s.value[0])],[j,se]=[kt(s.value[1]),ft(s.value[1])];($!==j||$===j&&Y!==se)&&l.value.solo&&T(1,kt(Q),ft(Q))}else s.value&&!Array.isArray(s.value)&&(T(0,kt(s.value),ft(s.value)),N(be()))},I=()=>{t.startDate&&(T(0,kt(be(t.startDate)),ft(be(t.startDate))),l.value.count&&X(0))},te=(Q,$)=>{t.monthChangeOnScroll&&W(t.monthChangeOnScroll!=="inverse"?-Q.deltaY:Q.deltaY,$)},L=(Q,$,Y=!1)=>{t.monthChangeOnArrows&&t.vertical===Y&&ee(Q,$)},ee=(Q,$)=>{W(Q==="right"?-1:1,$)},de=Q=>t.markers.find($=>Nt(HS(Q.value),HS($.date))),we=(Q,$)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[Q==0,!0];case"fair":return[Q==0||$>Q,!0];case"append":return[!1,!1];default:return[!1,!1]}},B=(Q,$,Y,j)=>{if(t.sixWeeks&&Q.length<6){const se=6-Q.length,fe=($.getDay()+7-j)%7,Be=6-(Y.getDay()+7-j)%7,[Le,et]=we(fe,Be);for(let $t=1;$t<=se;$t++)if(et?!!($t%2)==Le:Le){const Ge=Q[0].days[0],Ve=G(vs(Ge.value,-7),kt($));Q.unshift({days:Ve})}else{const Ge=Q[Q.length-1],Ve=Ge.days[Ge.days.length-1],Qe=G(vs(Ve.value,1),kt($));Q.push({days:Qe})}}return Q},G=(Q,$)=>{const Y=be(Q),j=[];for(let se=0;se<7;se++){const fe=vs(Y,se),Be=kt(fe)!==$;j.push({text:t.hideOffsetDates&&Be?"":fe.getDate(),value:fe,current:!Be,classData:{}})}return j},ae=(Q,$)=>{const Y=[],j=be(pi(new Date($,Q),t.timezone)),se=be(pi(new Date($,Q+1,0),t.timezone)),fe=t.weekStart,Be=$a(j,{weekStartsOn:fe}),Le=et=>{const $t=G(et,Q);if(Y.push({days:$t}),!Y[Y.length-1].days.some(Ge=>Nt(Gr(Ge.value),Gr(se)))){const Ge=vs(et,7);Le(Ge)}};return Le(Be),B(Y,j,se,fe)},K=Q=>(s.value=gf(be(Q.value),t.timezone,t.weekStart),e("date-update",Q.value),A()),pe=Q=>{const $=_o(be(Q.value),a.hours,a.minutes,J());e("date-update",$),t.multiDates?v_($,s,t.multiDatesLimit):s.value=$,r(),Rr().then(()=>{A()})},Ee=Q=>t.noDisabledRange?jO(i.value[0],Q).some($=>d($)):!1,E=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},P=(Q,$)=>{const Y=[be(Q.value),vs(be(Q.value),+t.autoRange)];h(Y)?($&&V(Q.value),i.value=Y):e("invalid-date",Q.value)},V=Q=>{const $=kt(be(Q)),Y=ft(be(Q));if(T(0,$,Y),l.value.count>0)for(let j=1;j<l.value.count;j++){const se=CJ(nn(be(Q),{year:m.value(j-1),month:w.value(j-1)}));T(j,se.month,se.year)}},z=Q=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(gr(Q,s.value[0])||Nt(Q,s.value[0]))?[s.value[0],Q]:t.fixedEnd&&(er(Q,s.value[1])||Nt(Q,s.value[1]))?[Q,s.value[1]]:(e("invalid-fixed-range",Q),s.value):[],ne=Q=>{if(Ee(Q.value)||!f(Q.value,s.value,t.fixedStart?0:1))return e("invalid-date",Q.value);i.value=z(be(Q.value))},q=(Q,$)=>{if(E(),t.autoRange)return P(Q,$);if(t.fixedStart||t.fixedEnd)return ne(Q);i.value[0]?f(be(Q.value),s.value)&&!Ee(Q.value)?er(be(Q.value),be(i.value[0]))?(i.value.unshift(be(Q.value)),e("range-end",i.value[0])):(i.value[1]=be(Q.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",Q.value),e("invalid-date",Q.value)):(i.value[0]=be(Q.value),e("range-start",i.value[0]))},J=(Q=!0)=>t.enableSeconds?Array.isArray(a.seconds)?Q?a.seconds[0]:a.seconds[1]:a.seconds:0,he=Q=>{i.value[Q]=_o(i.value[Q],a.hours[Q],a.minutes[Q],J(Q!==1))},ce=()=>{var Q,$;i.value[0]&&i.value[1]&&+((Q=i.value)==null?void 0:Q[0])>+(($=i.value)==null?void 0:$[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},me=()=>{i.value.length&&(i.value[0]&&!i.value[1]?he(0):(he(0),he(1),r()),ce(),s.value=i.value.slice(),Km(i.value,e,t.autoApply,t.modelAuto))},Oe=(Q,$=!1)=>{if(d(Q.value)||!Q.current&&t.hideOffsetDates)return e("invalid-date",Q.value);if(t.weekPicker)return K(Q);if(!t.range)return pe(Q);zS(a.hours)&&zS(a.minutes)&&!t.multiDates&&(q(Q,$),me())},ke=(Q,$)=>{var Y;T(Q,$.month,$.year),l.value.count&&!l.value.solo&&X(Q),e("update-month-year",{instance:Q,month:$.month,year:$.year}),n(l.value.solo?Q:void 0);const j=(Y=t.flow)!=null&&Y.length?t.flow[t.flowStep]:void 0;!$.fromNav&&(j===Bi.month||j===Bi.year)&&r()},_e=(Q,$)=>{Array.isArray(Q)&&Q.length<=2&&t.range?s.value=Q.map(Y=>pi(be(Y),$?void 0:t.timezone)):Array.isArray(Q)||(s.value=pi(be(Q),$?void 0:t.timezone)),M(),t.multiCalendars&&Rr().then(()=>S(!0))},Ke=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=er(be(),s.value[0])?[be(),s.value[0]]:[s.value[0],be()]:s.value=[be()]:s.value=be(),M()},Me=()=>{if(Array.isArray(s.value))if(t.multiDates){const Q=dt();s.value[s.value.length-1]=g(Q)}else s.value=s.value.map((Q,$)=>Q&&g(Q,$));else s.value=g(s.value);e("time-update")},dt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:m,year:w,time:a,disabledTimesConfig:b,validateTime:v,getCalendarDays:ae,getMarker:de,handleScroll:te,handleSwipe:ee,handleArrow:L,selectDate:Oe,updateMonthYear:ke,presetDate:_e,selectCurrentDate:Ke,updateTime:(Q,$=!0,Y=!1)=>{p(Q,$,Y,Me)}}},jZ={key:0},HZ=Ce({__name:"DatePicker",props:{...Fi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:f,handleArrow:p,handleScroll:g,handleSwipe:y,selectDate:_,updateMonthYear:v,presetDate:b,selectCurrentDate:m,updateTime:w}=BZ(i,r,U,I),T=Oo(),{setHoverDate:M,getDayClassData:x,clearHoverDate:A}=YJ(l,i),{defaultedMultiCalendars:S}=In(i),N=ue([]),F=ue([]),C=ue(null),H=ti(T,"calendar"),O=ti(T,"monthYear"),R=ti(T,"timePicker"),W=L=>{i.shadow||r("mount",L)};pn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const X=ie(()=>L=>h(o.value(L),a.value(L)).map(ee=>({...ee,days:ee.days.map(de=>(de.marker=f(de),de.classData=x(de),de))})));function U(L){var ee;L||L===0?(ee=F.value[L])==null||ee.triggerTransition(o.value(L),a.value(L)):F.value.forEach((de,we)=>de.triggerTransition(o.value(we),a.value(we)))}function I(){r("update-flow-step")}const te=(L,ee=!1)=>{_(L,ee),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:A,presetDate:b,selectCurrentDate:m,toggleMonthPicker:(L,ee,de=0)=>{var we;(we=N.value[de])==null||we.toggleMonthPicker(L,ee)},toggleYearPicker:(L,ee,de=0)=>{var we;(we=N.value[de])==null||we.toggleYearPicker(L,ee)},toggleTimePicker:(L,ee,de)=>{var we;(we=C.value)==null||we.toggleTimePicker(L,ee,de)},handleArrow:p,updateMonthYear:v,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:w,updateMonthYear:v,selectDate:_,presetDate:b})}),(L,ee)=>(D(),Z(Se,null,[le(Ym,{"multi-calendars":k(S).count},{default:ve(({instance:de,index:we})=>[L.disableMonthYearSelect?oe("",!0):(D(),ge(DZ,Ht({key:0,ref:B=>{B&&(N.value[we]=B)},months:k($O)(L.formatLocale,L.locale,L.monthNameFormat),years:k(m_)(L.yearRange,L.reverseYears),month:k(o)(de),year:k(a)(de),instance:de},L.$props,{onMount:ee[0]||(ee[0]=B=>W(k(ya).header)),onResetFlow:ee[1]||(ee[1]=B=>L.$emit("reset-flow")),onUpdateMonthYear:B=>k(v)(de,B),onOverlayClosed:ee[2]||(ee[2]=B=>L.$emit("focus-menu"))}),nr({_:2},[ut(k(O),(B,G)=>({name:B,fn:ve(ae=>[Ae(L.$slots,B,En(tr(ae)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),le(VZ,Ht({ref:B=>{B&&(F.value[we]=B)},"mapped-dates":X.value(de),month:k(o)(de),year:k(a)(de),instance:de},L.$props,{onSelectDate:B=>k(_)(B,de!==1),onHandleSpace:B=>te(B,de!==1),onSetHoverDate:ee[3]||(ee[3]=B=>k(M)(B)),onHandleScroll:B=>k(g)(B,de),onHandleSwipe:B=>k(y)(B,de),onMount:ee[4]||(ee[4]=B=>W(k(ya).calendar)),onResetFlow:ee[5]||(ee[5]=B=>L.$emit("reset-flow")),onTooltipOpen:ee[6]||(ee[6]=B=>L.$emit("tooltip-open",B)),onTooltipClose:ee[7]||(ee[7]=B=>L.$emit("tooltip-close",B))}),nr({_:2},[ut(k(H),(B,G)=>({name:B,fn:ve(ae=>[Ae(L.$slots,B,En(tr({...ae})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),L.enableTimePicker?(D(),Z("div",jZ,[L.$slots["time-picker"]?Ae(L.$slots,"time-picker",En(Ht({key:0},{time:k(u),updateTime:k(w)}))):(D(),ge(QO,Ht({key:1,ref_key:"timePickerRef",ref:C},L.$props,{hours:k(u).hours,minutes:k(u).minutes,seconds:k(u).seconds,"internal-model-value":L.internalModelValue,"disabled-times-config":k(c),"validate-time":k(d),onMount:ee[8]||(ee[8]=de=>W(k(ya).timePicker)),"onUpdate:hours":ee[9]||(ee[9]=de=>k(w)(de)),"onUpdate:minutes":ee[10]||(ee[10]=de=>k(w)(de,!1)),"onUpdate:seconds":ee[11]||(ee[11]=de=>k(w)(de,!1,!0)),onResetFlow:ee[12]||(ee[12]=de=>L.$emit("reset-flow")),onOverlayClosed:ee[13]||(ee[13]=de=>L.$emit("time-picker-close")),onOverlayOpened:ee[14]||(ee[14]=de=>L.$emit("time-picker-open",de)),onAmPmChange:ee[15]||(ee[15]=de=>L.$emit("am-pm-change",de))}),nr({_:2},[ut(k(R),(de,we)=>({name:de,fn:ve(B=>[Ae(L.$slots,de,En(tr(B)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):oe("",!0)],64))}}),WZ=(t,e)=>{const n=ue(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=In(t),{modelValue:o,year:a,month:l,calendars:u}=sh(t,e),{isDisabled:c}=Ru(t),{selectYear:d,groupedYears:h,showYearPicker:f,isDisabled:p,toggleYearPicker:g,handleYearSelect:y,handleYear:_}=qO({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),v=(A,S)=>[A,S].map(N=>wo(N,"MMMM",{locale:t.formatLocale})).join("-"),b=ie(()=>A=>o.value?Array.isArray(o.value)?o.value.some(S=>PS(A,S)):PS(o.value,A):!1),m=A=>{if(t.range){if(Array.isArray(o.value)){const S=Nt(A,o.value[0])||Nt(A,o.value[1]);return jm(o.value,n.value,A)&&!S}return!1}return!1},w=ie(()=>A=>{const S=nn(new Date,{year:a.value(A)});return dq({start:fq(S),end:hq(S)}).map(N=>{const F=vd(N),C=ES(N),H=c(N),O=m(F),R=typeof s.value=="function"?s.value({quarter:TS(F),year:ft(F)}):!!s.value.quarters.find(W=>W.quarter===TS(F)&&W.year===ft(F));return{text:v(F,C),value:F,active:b.value(F),highlighted:R,disabled:H,isBetween:O}})}),T=A=>{v_(A,o,t.multiDatesLimit),e("auto-apply",!0)},M=A=>{const S=y_(o,A,e);Km(S,e,t.autoApply,t.modelAuto)},x=A=>{o.value=A,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:p,quarters:w,showYearPicker:f,modelValue:o,setHoverDate:A=>{n.value=A},selectYear:d,selectQuarter:(A,S,N)=>{if(!N)return u.value[S].month=kt(ES(A)),t.multiDates?T(A):t.range?M(A):x(A)},toggleYearPicker:g,handleYearSelect:y,handleYear:_}},YZ={class:"dp--quarter-items"},KZ=["disabled","onClick","onMouseover"],zZ=Ce({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Fi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Oo(),o=ti(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:f,showYearPicker:p,setHoverDate:g,selectQuarter:y,toggleYearPicker:_,handleYearSelect:v,handleYear:b}=WZ(i,r);return e({getSidebarProps:()=>({modelValue:f,year:c,selectQuarter:y,handleYearSelect:v,handleYear:b})}),(m,w)=>(D(),ge(Ym,{"multi-calendars":k(a).count,stretch:""},{default:ve(({instance:T})=>[re("div",{class:"dp-quarter-picker-wrap",style:Nn({minHeight:`${k(l).modeHeight}px`})},[re("div",null,[le(GO,Ht(m.$props,{items:k(u)(T),instance:T,"show-year-picker":k(p)[T],year:k(c)(T),"is-disabled":M=>k(d)(T,M),onHandleYear:M=>k(b)(T,M),onYearSelect:M=>k(v)(M,T),onToggleYearPicker:M=>k(_)(T,M==null?void 0:M.flow,M==null?void 0:M.show)}),nr({_:2},[ut(k(o),(M,x)=>({name:M,fn:ve(A=>[Ae(m.$slots,M,En(tr(A)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),re("div",YZ,[(D(!0),Z(Se,null,ut(k(h)(T),(M,x)=>(D(),Z("div",{key:x},[re("button",{type:"button",class:De(["dp--qr-btn",{"dp--qr-btn-active":M.active,"dp--qr-btn-between":M.isBetween,"dp--qr-btn-disabled":M.disabled,"dp--highlighted":M.highlighted}]),disabled:M.disabled,onClick:A=>k(y)(M.value,T,M.disabled),onMouseover:A=>k(g)(M.value)},[m.$slots.quarter?Ae(m.$slots,"quarter",{key:0,value:M.value,text:M.text}):(D(),Z(Se,{key:1},[Xe(ze(M.text),1)],64))],42,KZ)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),GZ=["id","onKeydown"],qZ={key:0,class:"dp__sidebar_left"},QZ={key:1,class:"dp--preset-dates"},XZ=["onClick","onKeydown"],JZ={key:2,class:"dp__sidebar_right"},ZZ={key:3,class:"dp__action_extra"},GS=Ce({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Wm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ie(()=>{const{openOnTop:E,...P}=i;return{...P,flowStep:x.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=zO(),u=Oo(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=In(i),f=ue(null),p=ue(0),g=ue(null),y=ue(null),_=ue(!1),v=ue(null);an(()=>{if(!i.shadow){_.value=!0,b(),window.addEventListener("resize",b);const E=On(g);if(E&&!c.value.enabled&&!d.value.enabled&&(o(!0),C()),E){const P=V=>{h.value.allowPreventDefault&&V.preventDefault(),bo(V,h.value,!0)};E.addEventListener("pointerdown",P),E.addEventListener("mousedown",P)}}}),Ba(()=>{window.removeEventListener("resize",b)});const b=()=>{const E=On(y);E&&(p.value=E.getBoundingClientRect().width)},{arrowRight:m,arrowLeft:w,arrowDown:T,arrowUp:M}=Bo(),{flowStep:x,updateFlowStep:A,childMount:S,resetFlow:N}=KJ(i,r,v),F=ie(()=>i.monthPicker?uZ:i.yearPicker?dZ:i.timePicker?AZ:i.quarterPicker?zZ:HZ),C=()=>{const E=On(g);E&&E.focus({preventScroll:!0})},H=ie(()=>{var E;return((E=v.value)==null?void 0:E.getSidebarProps())||{}}),O=()=>{i.openOnTop&&r("recalculate-position")},R=ti(u,"action"),W=ie(()=>i.monthPicker||i.yearPicker?ti(u,"monthYear"):i.timePicker?ti(u,"timePicker"):ti(u,"shared")),X=ie(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),U=ie(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),I=ie(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),te=E=>{bo(E,h.value,!0)},L=()=>{i.escClose&&r("close-picker")},ee=E=>{if(i.arrowNavigation){if(E==="up")return M();if(E==="down")return T();if(E==="left")return w();if(E==="right")return m()}else E==="left"||E==="up"?ae("handleArrow","left",0,E==="up"):ae("handleArrow","right",0,E==="down")},de=E=>{a(E.shiftKey),!i.disableMonthYearSelect&&E.code==="Tab"&&E.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(E.preventDefault(),bo(E,h.value,!0),r("close-picker"))},we=()=>{C(),r("time-picker-close")},B=E=>{var P,V,z;(P=v.value)==null||P.toggleTimePicker(!1,!1),(V=v.value)==null||V.toggleMonthPicker(!1,!1,E),(z=v.value)==null||z.toggleYearPicker(!1,!1,E)},G=(E,P=0)=>{var V,z,ne;return E==="month"?(V=v.value)==null?void 0:V.toggleMonthPicker(!1,!0,P):E==="year"?(z=v.value)==null?void 0:z.toggleYearPicker(!1,!0,P):E==="time"?(ne=v.value)==null?void 0:ne.toggleTimePicker(!0,!1):B(P)},ae=(E,...P)=>{var V,z;(V=v.value)!=null&&V[E]&&((z=v.value)==null||z[E](...P))},K=()=>{ae("selectCurrentDate")},pe=(E,P)=>{ae("presetDate",E,P)},Ee=()=>{ae("clearHoverDate")};return e({updateMonthYear:(E,P)=>{ae("updateMonthYear",E,P)},switchView:G}),(E,P)=>{var V;return D(),Z("div",{id:E.uid?`dp-menu-${E.uid}`:void 0,ref_key:"dpMenuRef",ref:g,tabindex:"0",role:"dialog",class:De(I.value),onMouseleave:Ee,onClick:te,onKeydown:[at(L,["esc"]),P[18]||(P[18]=at(Pt(z=>ee("left"),["prevent"]),["left"])),P[19]||(P[19]=at(Pt(z=>ee("up"),["prevent"]),["up"])),P[20]||(P[20]=at(Pt(z=>ee("down"),["prevent"]),["down"])),P[21]||(P[21]=at(Pt(z=>ee("right"),["prevent"]),["right"])),de]},[(E.disabled||E.readonly)&&k(d).enabled?(D(),Z("div",{key:0,class:De(U.value)},null,2)):oe("",!0),!k(d).enabled&&!E.teleportCenter?(D(),Z("div",{key:1,class:De(X.value)},null,2)):oe("",!0),re("div",{ref_key:"innerMenuRef",ref:y,class:De({dp__menu_content_wrapper:((V=E.presetDates)==null?void 0:V.length)||!!E.$slots["left-sidebar"]||!!E.$slots["right-sidebar"]}),style:Nn({"--dp-menu-width":`${p.value}px`})},[E.$slots["left-sidebar"]?(D(),Z("div",qZ,[Ae(E.$slots,"left-sidebar",En(tr(H.value)))])):oe("",!0),E.presetDates.length?(D(),Z("div",QZ,[(D(!0),Z(Se,null,ut(E.presetDates,(z,ne)=>(D(),Z(Se,{key:ne},[z.slot?Ae(E.$slots,z.slot,{key:0,presetDate:pe,label:z.label,value:z.value}):(D(),Z("button",{key:1,type:"button",style:Nn(z.style||{}),class:"dp__btn dp--preset-range",onClick:Pt(q=>pe(z.value,z.noTz),["prevent"]),onKeydown:[at(Pt(q=>pe(z.value,z.noTz),["prevent"]),["enter"]),at(Pt(q=>pe(z.value,z.noTz),["prevent"]),["space"])]},ze(z.label),45,XZ))],64))),128))])):oe("",!0),re("div",{ref_key:"calendarWrapperRef",ref:f,class:"dp__instance_calendar",role:"document"},[(D(),ge(Sd(F.value),Ht({ref_key:"dynCmpRef",ref:v},s.value,{"flow-step":k(x),onMount:k(S),onUpdateFlowStep:k(A),onResetFlow:k(N),onFocusMenu:C,onSelectDate:P[0]||(P[0]=z=>E.$emit("select-date")),onDateUpdate:P[1]||(P[1]=z=>E.$emit("date-update",z)),onTooltipOpen:P[2]||(P[2]=z=>E.$emit("tooltip-open",z)),onTooltipClose:P[3]||(P[3]=z=>E.$emit("tooltip-close",z)),onAutoApply:P[4]||(P[4]=z=>E.$emit("auto-apply",z)),onRangeStart:P[5]||(P[5]=z=>E.$emit("range-start",z)),onRangeEnd:P[6]||(P[6]=z=>E.$emit("range-end",z)),onInvalidFixedRange:P[7]||(P[7]=z=>E.$emit("invalid-fixed-range",z)),onTimeUpdate:P[8]||(P[8]=z=>E.$emit("time-update")),onAmPmChange:P[9]||(P[9]=z=>E.$emit("am-pm-change",z)),onTimePickerOpen:P[10]||(P[10]=z=>E.$emit("time-picker-open",z)),onTimePickerClose:we,onRecalculatePosition:O,onUpdateMonthYear:P[11]||(P[11]=z=>E.$emit("update-month-year",z)),onAutoApplyInvalid:P[12]||(P[12]=z=>E.$emit("auto-apply-invalid",z)),onInvalidDate:P[13]||(P[13]=z=>E.$emit("invalid-date",z)),"onUpdate:internalModelValue":P[14]||(P[14]=z=>E.$emit("update:internal-model-value",z))}),nr({_:2},[ut(W.value,(z,ne)=>({name:z,fn:ve(q=>[Ae(E.$slots,z,En(tr({...q})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),E.$slots["right-sidebar"]?(D(),Z("div",JZ,[Ae(E.$slots,"right-sidebar",En(tr(H.value)))])):oe("",!0),E.$slots["action-extra"]?(D(),Z("div",ZZ,[E.$slots["action-extra"]?Ae(E.$slots,"action-extra",{key:0,selectCurrentDate:K}):oe("",!0)])):oe("",!0)],6),!E.autoApply||k(h).keepActionRow?(D(),ge(eZ,Ht({key:2,"menu-mount":_.value},s.value,{"calendar-width":p.value,onClosePicker:P[15]||(P[15]=z=>E.$emit("close-picker")),onSelectDate:P[16]||(P[16]=z=>E.$emit("select-date")),onInvalidSelect:P[17]||(P[17]=z=>E.$emit("invalid-select")),onSelectNow:K}),nr({_:2},[ut(k(R),(z,ne)=>({name:z,fn:ve(q=>[Ae(E.$slots,z,En(tr({...q})))])}))]),1040,["menu-mount","calendar-width"])):oe("",!0)],42,GZ)}}}),eee=typeof window<"u"?window:void 0,vv=()=>{},tee=t=>xp()?(b0(t),!0):!1,nee=(t,e,n,r)=>{if(!t)return vv;let i=vv;const s=pn(()=>k(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=vv})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return tee(o),o},ree=(t,e,n,r={})=>{const{window:i=eee,event:s="pointerdown"}=r;return i?nee(i,s,o=>{const a=On(t),l=On(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},iee=Ce({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Wm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Oo(),o=ue(!1),a=Wl(i,"modelValue"),l=Wl(i,"timezone"),u=ue(null),c=ue(null),d=ue(null),h=ue(!1),f=ue(null),p=ue(!1),{setMenuFocused:g,setShiftKey:y}=zO(),{clearArrowNav:_}=Bo(),{mapDatesArrToMap:v,validateDate:b,isValidTime:m}=Ru(i),{defaultedTransitions:w,defaultedTextInput:T,defaultedInline:M,defaultedConfig:x}=In(i),{menuTransition:A,showTransition:S}=ih(w);an(()=>{L(i.modelValue),Rr().then(()=>{M.value.enabled||(X(f.value).addEventListener("scroll",pe),window.addEventListener("resize",Ee))}),M.value.enabled&&(o.value=!0)});const N=ie(()=>v());Ba(()=>{if(!M.value.enabled){const j=X(f.value);j&&j.removeEventListener("scroll",pe),window.removeEventListener("resize",Ee)}});const F=ti(s,"all",i.presetDates),C=ti(s,"input");pn([a,l],()=>{L(a.value)},{deep:!0});const{openOnTop:H,menuStyle:O,xCorrect:R,setMenuPosition:W,getScrollableParent:X,shadowRender:U}=jJ({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:f,inline:M,emit:r,props:i,slots:s}),{inputValue:I,internalModelValue:te,parseExternalModelValue:L,emitModelValue:ee,formatInputValue:de,checkBeforeEmit:we}=VJ(r,i,h),B=ie(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:M.value.enabled,dp__flex_display_with_input:M.value.input})),G=ie(()=>i.dark?"dp__theme_dark":"dp__theme_light"),ae=ie(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:M.value.enabled}:{class:"dp__outer_menu_wrap"}),K=ie(()=>M.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),pe=()=>{o.value&&(x.value.closeOnScroll?ce():W())},Ee=()=>{o.value&&W()},E=()=>{!i.disabled&&!i.readonly&&(U(GS,i),W(!1),o.value=!0,o.value&&r("open"),o.value||he(),L(i.modelValue))},P=()=>{var j;I.value="",he(),(j=d.value)==null||j.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),x.value.closeOnClearValue&&ce()},V=()=>{const j=te.value;return!j||!Array.isArray(j)&&b(j)?!0:Array.isArray(j)?j.length===2&&b(j[0])&&b(j[1])?!0:i.partialRange&&!i.timePicker?b(j[0]):!1:!1},z=()=>{we()&&V()?(ee(),ce()):r("invalid-select",te.value)},ne=j=>{q(),ee(),x.value.closeOnAutoApply&&!j&&ce()},q=()=>{d.value&&T.value.enabled&&d.value.setParsedDate(te.value)},J=(j=!1)=>{i.autoApply&&m(te.value)&&V()&&(i.range&&Array.isArray(te.value)?(i.partialRange||te.value.length===2)&&ne(j):ne(j))},he=()=>{T.value.enabled||(te.value=null)},ce=()=>{M.value.enabled||(o.value&&(o.value=!1,R.value=!1,g(!1),y(!1),_(),r("closed"),I.value&&L(a.value)),he(),r("blur"))},me=(j,se,fe=!1)=>{if(!j){te.value=null;return}const Be=Array.isArray(j)?!j.some(et=>!b(et)):b(j),Le=m(j);Be&&Le&&(te.value=j,se&&(p.value=fe,z(),r("text-submit")))},Oe=()=>{i.autoApply&&m(te.value)&&ee(),q()},ke=()=>o.value?ce():E(),_e=j=>{te.value=j},Ke=()=>{T.value.enabled&&(h.value=!0,de()),r("focus")},Me=()=>{if(T.value.enabled&&(h.value=!1,L(i.modelValue),p.value)){const j=TJ(f.value);j==null||j.focus()}r("blur")},dt=j=>{c.value&&c.value.updateMonthYear(0,{month:VS(j.month),year:VS(j.year)})},Q=j=>{L(j??i.modelValue)},$=(j,se)=>{var fe;(fe=c.value)==null||fe.switchView(j,se)},Y=j=>x.value.onClickOutside?x.value.onClickOutside(j):ce();return ree(u,d,()=>Y(V)),e({closeMenu:ce,selectDate:z,clearValue:P,openMenu:E,onScroll:pe,formatInputValue:de,updateInternalModelValue:_e,setMonthYear:dt,parseModel:Q,switchView:$}),(j,se)=>(D(),Z("div",{ref_key:"pickerWrapperRef",ref:f,class:De(B.value)},[le(QJ,Ht({ref_key:"inputRef",ref:d,"input-value":k(I),"onUpdate:inputValue":se[0]||(se[0]=fe=>Gt(I)?I.value=fe:null),"is-menu-open":o.value},j.$props,{onClear:P,onOpen:E,onSetInputDate:me,onSetEmptyDate:k(ee),onSelectDate:z,onToggle:ke,onClose:ce,onFocus:Ke,onBlur:Me,onRealBlur:se[1]||(se[1]=fe=>h.value=!1)}),nr({_:2},[ut(k(C),(fe,Be)=>({name:fe,fn:ve(Le=>[Ae(j.$slots,fe,En(tr(Le)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),le(Us,{name:k(A)(k(H)),css:k(S)&&!k(M).enabled},{default:ve(()=>[o.value?(D(),ge(Sd(j.teleport?eI:"div"),Ht({key:0,ref_key:"dpWrapMenuRef",ref:u},ae.value,{class:{"dp--menu-wrapper":!k(M).enabled},style:k(M).enabled?void 0:k(O)}),{default:ve(()=>[le(GS,Ht({ref_key:"dpMenuRef",ref:c},j.$props,{"internal-model-value":k(te),"onUpdate:internalModelValue":se[2]||(se[2]=fe=>Gt(te)?te.value=fe:null),class:{[G.value]:!0,"dp--menu-wrapper":j.teleport},style:j.teleport?k(O):void 0,"open-on-top":k(H),"arr-map-values":N.value,"no-overlay-focus":K.value,onClosePicker:ce,onSelectDate:z,onAutoApply:J,onTimeUpdate:Oe,onFlowStep:se[3]||(se[3]=fe=>j.$emit("flow-step",fe)),onUpdateMonthYear:se[4]||(se[4]=fe=>j.$emit("update-month-year",fe)),onInvalidSelect:se[5]||(se[5]=fe=>j.$emit("invalid-select",k(te))),onAutoApplyInvalid:se[6]||(se[6]=fe=>j.$emit("invalid-select",fe)),onInvalidFixedRange:se[7]||(se[7]=fe=>j.$emit("invalid-fixed-range",fe)),onRecalculatePosition:k(W),onTooltipOpen:se[8]||(se[8]=fe=>j.$emit("tooltip-open",fe)),onTooltipClose:se[9]||(se[9]=fe=>j.$emit("tooltip-close",fe)),onTimePickerOpen:se[10]||(se[10]=fe=>j.$emit("time-picker-open",fe)),onTimePickerClose:se[11]||(se[11]=fe=>j.$emit("time-picker-close",fe)),onAmPmChange:se[12]||(se[12]=fe=>j.$emit("am-pm-change",fe)),onRangeStart:se[13]||(se[13]=fe=>j.$emit("range-start",fe)),onRangeEnd:se[14]||(se[14]=fe=>j.$emit("range-end",fe)),onDateUpdate:se[15]||(se[15]=fe=>j.$emit("date-update",fe)),onInvalidDate:se[16]||(se[16]=fe=>j.$emit("invalid-date",fe))}),nr({_:2},[ut(k(F),(fe,Be)=>({name:fe,fn:ve(Le=>[Ae(j.$slots,fe,En(tr({...Le})))])}))]),1040,["internal-model-value","class","style","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])]),_:3},16,["class","style"])):oe("",!0)]),_:3},8,["name","css"])],2))}}),w_=(()=>{const t=iee;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),see=Object.freeze(Object.defineProperty({__proto__:null,default:w_},Symbol.toStringTag,{value:"Module"}));Object.entries(see).forEach(([t,e])=>{t!=="default"&&(w_[t]=e)});const Ou=PI(v$);Ou.use(Jb);Ou.use(Z7,{firebaseApp:Gk,modules:[J7()]});Ou.use(eA);Ou.use(oL);Ou.component("VueDatePicker",w_);Ou.mount("#app");
