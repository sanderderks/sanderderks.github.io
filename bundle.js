var D3=Object.defineProperty;var R3=(t,e,n)=>e in t?D3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Eo=(t,e,n)=>(R3(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yg(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const nn={},_u=[],fi=()=>{},N3=()=>!1,qh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),t1=t=>t.startsWith("onUpdate:"),Sn=Object.assign,n1=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},M3=Object.prototype.hasOwnProperty,Bt=(t,e)=>M3.call(t,e),Ye=Array.isArray,Tu=t=>yc(t)==="[object Map]",kl=t=>yc(t)==="[object Set]",CS=t=>yc(t)==="[object Date]",$3=t=>yc(t)==="[object RegExp]",ut=t=>typeof t=="function",An=t=>typeof t=="string",co=t=>typeof t=="symbol",on=t=>t!==null&&typeof t=="object",r1=t=>(on(t)||ut(t))&&ut(t.then)&&ut(t.catch),_k=Object.prototype.toString,yc=t=>_k.call(t),L3=t=>yc(t).slice(8,-1),Tk=t=>yc(t)==="[object Object]",i1=t=>An(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Su=yg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},F3=/-(\w)/g,ri=bg(t=>t.replace(F3,(e,n)=>n?n.toUpperCase():"")),V3=/\B([A-Z])/g,Ci=bg(t=>t.replace(V3,"-$1").toLowerCase()),Xh=bg(t=>t.charAt(0).toUpperCase()+t.slice(1)),yd=bg(t=>t?`on${Xh(t)}`:""),ps=(t,e)=>!Object.is(t,e),Eu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Sk=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},nm=t=>{const e=parseFloat(t);return isNaN(e)?t:e},rm=t=>{const e=An(t)?Number(t):NaN;return isNaN(e)?t:e};let OS;const Ek=()=>OS||(OS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),U3="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",B3=yg(U3);function tr(t){if(Ye(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=An(r)?K3(r):tr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(An(t)||on(t))return t}const j3=/;(?![^(]*\))/g,H3=/:([^]+)/,W3=/\/\*[^]*?\*\//g;function K3(t){const e={};return t.replace(W3,"").split(j3).forEach(n=>{if(n){const r=n.split(H3);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function xe(t){let e="";if(An(t))e=t;else if(Ye(t))for(let n=0;n<t.length;n++){const r=xe(t[n]);r&&(e+=r+" ")}else if(on(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Rn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!An(e)&&(t.class=xe(e)),n&&(t.style=tr(n)),t}const z3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",G3=yg(z3);function Ik(t){return!!t||t===""}function Y3(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=aa(t[r],e[r]);return n}function aa(t,e){if(t===e)return!0;let n=CS(t),r=CS(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=co(t),r=co(e),n||r)return t===e;if(n=Ye(t),r=Ye(e),n||r)return n&&r?Y3(t,e):!1;if(n=on(t),r=on(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!aa(t[o],e[o]))return!1}}return String(t)===String(e)}function wg(t,e){return t.findIndex(n=>aa(n,e))}const Be=t=>An(t)?t:t==null?"":Ye(t)||on(t)&&(t.toString===_k||!ut(t.toString))?JSON.stringify(t,Ck,2):String(t),Ck=(t,e)=>e&&e.__v_isRef?Ck(t,e.value):Tu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[ty(r,s)+" =>"]=i,n),{})}:kl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ty(n))}:co(e)?ty(e):on(e)&&!Ye(e)&&!Tk(e)?String(e):e,ty=(t,e="")=>{var n;return co(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ei;class s1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ei,!e&&Ei&&(this.index=(Ei.scopes||(Ei.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ei;try{return Ei=this,e()}finally{Ei=n}}}on(){Ei=this}off(){Ei=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function _g(t){return new s1(t)}function Ok(t,e=Ei){e&&e.active&&e.effects.push(t)}function Qh(){return Ei}function Tg(t){Ei&&Ei.cleanups.push(t)}let Ga;class Bu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ok(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pa();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(q3(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ma()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Qo,n=Ga;try{return Qo=!0,Ga=this,this._runnings++,AS(this),this.fn()}finally{kS(this),this._runnings--,Ga=n,Qo=e}}stop(){this.active&&(AS(this),kS(this),this.onStop&&this.onStop(),this.active=!1)}}function q3(t){return t.value}function AS(t){t._trackId++,t._depsLength=0}function kS(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Ak(t.deps[e],t);t.deps.length=t._depsLength}}function Ak(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function X3(t,e){t.effect instanceof Bu&&(t=t.effect.fn);const n=new Bu(t,fi,()=>{n.dirty&&n.run()});e&&(Sn(n,e),e.scope&&Ok(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function Q3(t){t.effect.stop()}let Qo=!0,Fb=0;const kk=[];function pa(){kk.push(Qo),Qo=!1}function ma(){const t=kk.pop();Qo=t===void 0?!0:t}function o1(){Fb++}function a1(){for(Fb--;!Fb&&Vb.length;)Vb.shift()()}function Pk(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Ak(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Vb=[];function xk(t,e,n){o1();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Vb.push(r.scheduler)))}a1()}const Dk=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},im=new WeakMap,Ya=Symbol(""),Ub=Symbol("");function wi(t,e,n){if(Qo&&Ga){let r=im.get(t);r||im.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Dk(()=>r.delete(n))),Pk(Ga,i)}}function ro(t,e,n,r,i,s){const o=im.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ye(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!co(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ye(t)?i1(n)&&a.push(o.get("length")):(a.push(o.get(Ya)),Tu(t)&&a.push(o.get(Ub)));break;case"delete":Ye(t)||(a.push(o.get(Ya)),Tu(t)&&a.push(o.get(Ub)));break;case"set":Tu(t)&&a.push(o.get(Ya));break}o1();for(const l of a)l&&xk(l,4);a1()}function J3(t,e){const n=im.get(t);return n&&n.get(e)}const Z3=yg("__proto__,__v_isRef,__isVue"),Rk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(co)),PS=eF();function eF(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ct(this);for(let s=0,o=this.length;s<o;s++)wi(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ct)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pa(),o1();const r=Ct(this)[e].apply(this,n);return a1(),ma(),r}}),t}function tF(t){co(t)||(t=String(t));const e=Ct(this);return wi(e,"has",t),e.hasOwnProperty(t)}class Nk{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Uk:Vk:s?Fk:Lk).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ye(e);if(!i){if(o&&Bt(PS,n))return Reflect.get(PS,n,r);if(n==="hasOwnProperty")return tF}const a=Reflect.get(e,n,r);return(co(n)?Rk.has(n):Z3(n))||(i||wi(e,"get",n),s)?a:dn(a)?o&&i1(n)?a:a.value:on(a)?i?Ig(a):Nn(a):a}}class Mk extends Nk{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=ju(s);if(!Yd(r)&&!ju(r)&&(s=Ct(s),r=Ct(r)),!Ye(e)&&dn(s)&&!dn(r))return l?!1:(s.value=r,!0)}const o=Ye(e)&&i1(n)?Number(n)<e.length:Bt(e,n),a=Reflect.set(e,n,r,i);return e===Ct(i)&&(o?ps(r,s)&&ro(e,"set",n,r):ro(e,"add",n,r)),a}deleteProperty(e,n){const r=Bt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ro(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!co(n)||!Rk.has(n))&&wi(e,"has",n),r}ownKeys(e){return wi(e,"iterate",Ye(e)?"length":Ya),Reflect.ownKeys(e)}}class $k extends Nk{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const nF=new Mk,rF=new $k,iF=new Mk(!0),sF=new $k(!0),l1=t=>t,Sg=t=>Reflect.getPrototypeOf(t);function Vf(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ct(t),s=Ct(e);n||(ps(e,s)&&wi(i,"get",e),wi(i,"get",s));const{has:o}=Sg(i),a=r?l1:n?d1:qd;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Uf(t,e=!1){const n=this.__v_raw,r=Ct(n),i=Ct(t);return e||(ps(t,i)&&wi(r,"has",t),wi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Bf(t,e=!1){return t=t.__v_raw,!e&&wi(Ct(t),"iterate",Ya),Reflect.get(t,"size",t)}function xS(t){t=Ct(t);const e=Ct(this);return Sg(e).has.call(e,t)||(e.add(t),ro(e,"add",t,t)),this}function DS(t,e){e=Ct(e);const n=Ct(this),{has:r,get:i}=Sg(n);let s=r.call(n,t);s||(t=Ct(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?ps(e,o)&&ro(n,"set",t,e):ro(n,"add",t,e),this}function RS(t){const e=Ct(this),{has:n,get:r}=Sg(e);let i=n.call(e,t);i||(t=Ct(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&ro(e,"delete",t,void 0),s}function NS(){const t=Ct(this),e=t.size!==0,n=t.clear();return e&&ro(t,"clear",void 0,void 0),n}function jf(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Ct(o),l=e?l1:t?d1:qd;return!t&&wi(a,"iterate",Ya),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Hf(t,e,n){return function(...r){const i=this.__v_raw,s=Ct(i),o=Tu(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?l1:e?d1:qd;return!e&&wi(s,"iterate",l?Ub:Ya),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Io(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function oF(){const t={get(s){return Vf(this,s)},get size(){return Bf(this)},has:Uf,add:xS,set:DS,delete:RS,clear:NS,forEach:jf(!1,!1)},e={get(s){return Vf(this,s,!1,!0)},get size(){return Bf(this)},has:Uf,add:xS,set:DS,delete:RS,clear:NS,forEach:jf(!1,!0)},n={get(s){return Vf(this,s,!0)},get size(){return Bf(this,!0)},has(s){return Uf.call(this,s,!0)},add:Io("add"),set:Io("set"),delete:Io("delete"),clear:Io("clear"),forEach:jf(!0,!1)},r={get(s){return Vf(this,s,!0,!0)},get size(){return Bf(this,!0)},has(s){return Uf.call(this,s,!0)},add:Io("add"),set:Io("set"),delete:Io("delete"),clear:Io("clear"),forEach:jf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Hf(s,!1,!1),n[s]=Hf(s,!0,!1),e[s]=Hf(s,!1,!0),r[s]=Hf(s,!0,!0)}),[t,n,e,r]}const[aF,lF,uF,cF]=oF();function Eg(t,e){const n=e?t?cF:uF:t?lF:aF;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Bt(n,i)&&i in r?n:r,i,s)}const dF={get:Eg(!1,!1)},hF={get:Eg(!1,!0)},fF={get:Eg(!0,!1)},pF={get:Eg(!0,!0)},Lk=new WeakMap,Fk=new WeakMap,Vk=new WeakMap,Uk=new WeakMap;function mF(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gF(t){return t.__v_skip||!Object.isExtensible(t)?0:mF(L3(t))}function Nn(t){return ju(t)?t:Cg(t,!1,nF,dF,Lk)}function u1(t){return Cg(t,!1,iF,hF,Fk)}function Ig(t){return Cg(t,!0,rF,fF,Vk)}function vF(t){return Cg(t,!0,sF,pF,Uk)}function Cg(t,e,n,r,i){if(!on(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=gF(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function io(t){return ju(t)?io(t.__v_raw):!!(t&&t.__v_isReactive)}function ju(t){return!!(t&&t.__v_isReadonly)}function Yd(t){return!!(t&&t.__v_isShallow)}function c1(t){return t?!!t.__v_raw:!1}function Ct(t){const e=t&&t.__v_raw;return e?Ct(e):t}function Og(t){return Object.isExtensible(t)&&Sk(t,"__v_skip",!0),t}const qd=t=>on(t)?Nn(t):t,d1=t=>on(t)?Ig(t):t;class Bk{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Bu(()=>e(this._value),()=>Iu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ct(this);return(!e._cacheable||e.effect.dirty)&&ps(e._value,e._value=e.effect.run())&&Iu(e,4),h1(e),e.effect._dirtyLevel>=2&&Iu(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function yF(t,e,n=!1){let r,i;const s=ut(t);return s?(r=t,i=fi):(r=t.get,i=t.set),new Bk(r,i,s||!i,n)}function h1(t){var e;Qo&&Ga&&(t=Ct(t),Pk(Ga,(e=t.dep)!=null?e:t.dep=Dk(()=>t.dep=void 0,t instanceof Bk?t:void 0)))}function Iu(t,e=4,n){t=Ct(t);const r=t.dep;r&&xk(r,e)}function dn(t){return!!(t&&t.__v_isRef===!0)}function se(t){return Hk(t,!1)}function jk(t){return Hk(t,!0)}function Hk(t,e){return dn(t)?t:new bF(t,e)}class bF{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ct(e),this._value=n?e:qd(e)}get value(){return h1(this),this._value}set value(e){const n=this.__v_isShallow||Yd(e)||ju(e);e=n?e:Ct(e),ps(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:qd(e),Iu(this,4))}}function wF(t){Iu(t,4)}function I(t){return dn(t)?t.value:t}function _F(t){return ut(t)?t():I(t)}const TF={get:(t,e,n)=>I(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return dn(i)&&!dn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function f1(t){return io(t)?t:new Proxy(t,TF)}class SF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>h1(this),()=>Iu(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function Wk(t){return new SF(t)}function Kk(t){const e=Ye(t)?new Array(t.length):{};for(const n in t)e[n]=zk(t,n);return e}class EF{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return J3(Ct(this._object),this._key)}}class IF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Hu(t,e,n){return dn(t)?t:ut(t)?new IF(t):on(t)&&arguments.length>1?zk(t,e,n):se(t)}function zk(t,e,n){const r=t[e];return dn(r)?r:new EF(t,e,n)}const CF={GET:"get",HAS:"has",ITERATE:"iterate"},OF={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function AF(t,e){}const kF={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},PF={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function so(t,e,n,r){try{return r?t(...r):t()}catch(i){Pl(i,e,n)}}function Pi(t,e,n,r){if(ut(t)){const i=so(t,e,n,r);return i&&r1(i)&&i.catch(s=>{Pl(s,e,n)}),i}if(Ye(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Pi(t[s],e,n,r));return i}}function Pl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){pa(),so(l,null,10,[t,o,a]),ma();return}}xF(t,n,i,r)}function xF(t,e,n,r=!0){console.error(t)}let Xd=!1,Bb=!1;const Br=[];let Ts=0;const Cu=[];let $o=null,La=0;const Gk=Promise.resolve();let p1=null;function Yn(t){const e=p1||Gk;return t?e.then(this?t.bind(this):t):e}function DF(t){let e=Ts+1,n=Br.length;for(;e<n;){const r=e+n>>>1,i=Br[r],s=Qd(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Ag(t){(!Br.length||!Br.includes(t,Xd&&t.allowRecurse?Ts+1:Ts))&&(t.id==null?Br.push(t):Br.splice(DF(t.id),0,t),Yk())}function Yk(){!Xd&&!Bb&&(Bb=!0,p1=Gk.then(qk))}function RF(t){const e=Br.indexOf(t);e>Ts&&Br.splice(e,1)}function sm(t){Ye(t)?Cu.push(...t):(!$o||!$o.includes(t,t.allowRecurse?La+1:La))&&Cu.push(t),Yk()}function MS(t,e,n=Xd?Ts+1:0){for(;n<Br.length;n++){const r=Br[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Br.splice(n,1),n--,r()}}}function om(t){if(Cu.length){const e=[...new Set(Cu)].sort((n,r)=>Qd(n)-Qd(r));if(Cu.length=0,$o){$o.push(...e);return}for($o=e,La=0;La<$o.length;La++)$o[La]();$o=null,La=0}}const Qd=t=>t.id==null?1/0:t.id,NF=(t,e)=>{const n=Qd(t)-Qd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function qk(t){Bb=!1,Xd=!0,Br.sort(NF);try{for(Ts=0;Ts<Br.length;Ts++){const e=Br[Ts];e&&e.active!==!1&&so(e,null,14)}}finally{Ts=0,Br.length=0,om(),Xd=!1,p1=null,(Br.length||Cu.length)&&qk()}}let tu,Wf=[];function Xk(t,e){var n,r;tu=t,tu?(tu.enabled=!0,Wf.forEach(({event:i,args:s})=>tu.emit(i,...s)),Wf=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Xk(s,e)}),setTimeout(()=>{tu||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Wf=[])},3e3)):Wf=[]}function MF(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||nn;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=r[c]||nn;h&&(i=n.map(f=>An(f)?f.trim():f)),d&&(i=n.map(nm))}let a,l=r[a=yd(e)]||r[a=yd(ri(e))];!l&&s&&(l=r[a=yd(Ci(e))]),l&&Pi(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Pi(u,t,6,i)}}function Qk(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ut(t)){const l=u=>{const c=Qk(u,e,!0);c&&(a=!0,Sn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(on(t)&&r.set(t,null),null):(Ye(s)?s.forEach(l=>o[l]=null):Sn(o,s),on(t)&&r.set(t,o),o)}function kg(t,e){return!t||!qh(e)?!1:(e=e.slice(2).replace(/Once$/,""),Bt(t,e[0].toLowerCase()+e.slice(1))||Bt(t,Ci(e))||Bt(t,e))}let nr=null,Pg=null;function Jd(t){const e=nr;return nr=t,Pg=t&&t.type.__scopeId||null,e}function m1(t){Pg=t}function g1(){Pg=null}const $F=t=>Y;function Y(t,e=nr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&qb(-1);const s=Jd(e);let o;try{o=t(...i)}finally{Jd(s),r._d&&qb(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function xp(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t,g=Jd(t);let y,b;try{if(n.shapeFlag&4){const w=i||r,T=w;y=Ii(u.call(T,w,c,d,f,h,p)),b=a}else{const w=e;y=Ii(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),b=e.props?a:FF(a)}}catch(w){_d.length=0,Pl(w,t,1),y=M(xr)}let _=y;if(b&&m!==!1){const w=Object.keys(b),{shapeFlag:T}=_;w.length&&T&7&&(s&&w.some(t1)&&(b=VF(b,s)),_=Fs(_,b,!1,!0))}return n.dirs&&(_=Fs(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,Jd(g),y}function LF(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(la(i)){if(i.type!==xr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const FF=t=>{let e;for(const n in t)(n==="class"||n==="style"||qh(n))&&((e||(e={}))[n]=t[n]);return e},VF=(t,e)=>{const n={};for(const r in t)(!t1(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function UF(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?$S(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!kg(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?$S(r,o,u):!0:!!o;return!1}function $S(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!kg(n,s))return!0}return!1}function v1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const y1="components",BF="directives";function wn(t,e){return b1(y1,t,!0,e)||t}const Jk=Symbol.for("v-ndc");function yn(t){return An(t)?b1(y1,t,!1)||t:t||Jk}function Jh(t){return b1(BF,t)}function b1(t,e,n=!0,r=!1){const i=nr||or;if(i){const s=i.type;if(t===y1){const a=e0(s,!1);if(a&&(a===e||a===ri(e)||a===Xh(ri(e))))return s}const o=LS(i[t]||s[t],e)||LS(i.appContext[t],e);return!o&&r?s:o}}function LS(t,e){return t&&(t[e]||t[ri(e)]||t[Xh(ri(e))])}const Zk=t=>t.__isSuspense;let jb=0;const jF={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)WF(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}KF(t,e,n,r,i,o,a,l,u)}},hydrate:zF,create:w1,normalize:GF},HF=jF;function Zd(t,e){const n=t.props&&t.props[e];ut(n)&&n()}function WF(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=w1(t,i,r,e,d,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,s,o),h.deps>0?(Zd(t,"onPending"),Zd(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Ou(h,t.ssFallback)):h.resolve(!1,!0)}function KF(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:y}=d;if(m)d.pendingBranch=h,is(h,m)?(l(m,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():g&&(y||(l(p,f,n,r,i,null,s,o,a),Ou(d,f)))):(d.pendingId=jb++,y?(d.isHydrating=!1,d.activeBranch=m):u(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),g?(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,f,n,r,i,null,s,o,a),Ou(d,f))):p&&is(h,p)?(l(p,h,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&is(h,p))l(p,h,n,r,i,d,s,o,a),Ou(d,h);else if(Zd(e,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=jb++,l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:_}=d;b>0?setTimeout(()=>{d.pendingId===_&&d.fallback(f)},b):b===0&&d.fallback(f)}}function w1(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:m,remove:g}}=u;let y;const b=YF(t);b&&e&&e.pendingBranch&&(y=e.pendingId,e.deps++);const _=t.props?rm(t.props.timeout):void 0,w=s,T={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:jb++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(S=!1,O=!1){const{vnode:R,activeBranch:D,pendingBranch:C,pendingId:N,effects:F,parentComponent:H,container:$}=T;let A=!1;T.isHydrating?T.isHydrating=!1:S||(A=D&&C.transition&&C.transition.mode==="out-in",A&&(D.transition.afterLeave=()=>{N===T.pendingId&&(h(C,$,s===w?p(D):s,0),sm(F))}),D&&(m(D.el)!==T.hiddenContainer&&(s=p(D)),f(D,H,T,!0)),A||h(C,$,s,0)),Ou(T,C),T.pendingBranch=null,T.isInFallback=!1;let P=T.parent,W=!1;for(;P;){if(P.pendingBranch){P.effects.push(...F),W=!0;break}P=P.parent}!W&&!A&&sm(F),T.effects=[],b&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,e.deps===0&&!O&&e.resolve()),Zd(R,"onResolve")},fallback(S){if(!T.pendingBranch)return;const{vnode:O,activeBranch:R,parentComponent:D,container:C,namespace:N}=T;Zd(O,"onFallback");const F=p(R),H=()=>{T.isInFallback&&(d(null,S,C,F,D,null,N,a,l),Ou(T,S))},$=S.transition&&S.transition.mode==="out-in";$&&(R.transition.afterLeave=H),T.isInFallback=!0,f(R,D,null,!0),$||H()},move(S,O,R){T.activeBranch&&h(T.activeBranch,S,O,R),T.container=S},next(){return T.activeBranch&&p(T.activeBranch)},registerDep(S,O){const R=!!T.pendingBranch;R&&T.deps++;const D=S.vnode.el;S.asyncDep.catch(C=>{Pl(C,S,0)}).then(C=>{if(S.isUnmounted||T.isUnmounted||T.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:N}=S;Jb(S,C,!1),D&&(N.el=D);const F=!D&&S.subTree.el;O(S,N,m(D||S.subTree.el),D?null:p(S.subTree),T,o,l),F&&g(F),v1(S,N.el),R&&--T.deps===0&&T.resolve()})},unmount(S,O){T.isUnmounted=!0,T.activeBranch&&f(T.activeBranch,n,S,O),T.pendingBranch&&f(T.pendingBranch,n,S,O)}};return T}function zF(t,e,n,r,i,s,o,a,l){const u=e.suspense=w1(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function GF(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=FS(r?n.default:n),t.ssFallback=r?FS(n.fallback):M(xr)}function FS(t){let e;if(ut(t)){const n=ll&&t._c;n&&(t._d=!1,E()),t=t(),n&&(t._d=!0,e=pi,MP())}return Ye(t)&&(t=LF(t)),t=Ii(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function eP(t,e){e&&e.pendingBranch?Ye(t)?e.effects.push(...t):e.effects.push(t):sm(t)}function Ou(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,v1(r,i))}function YF(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const tP=Symbol.for("v-scx"),nP=()=>ii(tP);function _1(t,e){return Zh(t,null,e)}function rP(t,e){return Zh(t,null,{flush:"post"})}function iP(t,e){return Zh(t,null,{flush:"sync"})}const Kf={};function Ot(t,e,n){return Zh(t,e,n)}function Zh(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=nn){if(e&&s){const S=e;e=(...O)=>{S(...O),T()}}const l=or,u=S=>r===!0?S:Ua(S,r===!1?1:void 0);let c,d=!1,h=!1;if(dn(t)?(c=()=>t.value,d=Yd(t)):io(t)?(c=()=>u(t),d=!0):Ye(t)?(h=!0,d=t.some(S=>io(S)||Yd(S)),c=()=>t.map(S=>{if(dn(S))return S.value;if(io(S))return u(S);if(ut(S))return so(S,l,2)})):ut(t)?e?c=()=>so(t,l,2):c=()=>(f&&f(),Pi(t,l,3,[p])):c=fi,e&&r){const S=c;c=()=>Ua(S())}let f,p=S=>{f=_.onStop=()=>{so(S,l,4),f=_.onStop=void 0}},m;if(nf)if(p=fi,e?n&&Pi(e,l,3,[c(),h?[]:void 0,p]):c(),i==="sync"){const S=nP();m=S.__watcherHandles||(S.__watcherHandles=[])}else return fi;let g=h?new Array(t.length).fill(Kf):Kf;const y=()=>{if(!(!_.active||!_.dirty))if(e){const S=_.run();(r||d||(h?S.some((O,R)=>ps(O,g[R])):ps(S,g)))&&(f&&f(),Pi(e,l,3,[S,g===Kf?void 0:h&&g[0]===Kf?[]:g,p]),g=S)}else _.run()};y.allowRecurse=!!e;let b;i==="sync"?b=y:i==="post"?b=()=>Cr(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),b=()=>Ag(y));const _=new Bu(c,fi,b),w=Qh(),T=()=>{_.stop(),w&&n1(w.effects,_)};return e?n?y():g=_.run():i==="post"?Cr(_.run.bind(_),l&&l.suspense):_.run(),m&&m.push(T),T}function qF(t,e,n){const r=this.proxy,i=An(t)?t.includes(".")?sP(r,t):()=>r[t]:t.bind(r,r);let s;ut(e)?s=e:(s=e.handler,n=e);const o=ul(this),a=Zh(i,s.bind(r),n);return o(),a}function sP(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ua(t,e=1/0,n){if(e<=0||!on(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,dn(t))Ua(t.value,e,n);else if(Ye(t))for(let r=0;r<t.length;r++)Ua(t[r],e,n);else if(kl(t)||Tu(t))t.forEach(r=>{Ua(r,e,n)});else if(Tk(t))for(const r in t)Ua(t[r],e,n);return t}function vi(t,e){if(nr===null)return t;const n=Ng(nr)||nr.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=nn]=e[i];s&&(ut(s)&&(s={mounted:s,updated:s}),s.deep&&Ua(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ws(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(pa(),Pi(l,n,8,[t.el,a,t,e]),ma())}}const Lo=Symbol("_leaveCb"),zf=Symbol("_enterCb");function T1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $t(()=>{t.isMounted=!0}),tf(()=>{t.isUnmounting=!0}),t}const Li=[Function,Array],S1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Li,onEnter:Li,onAfterEnter:Li,onEnterCancelled:Li,onBeforeLeave:Li,onLeave:Li,onAfterLeave:Li,onLeaveCancelled:Li,onBeforeAppear:Li,onAppear:Li,onAfterAppear:Li,onAppearCancelled:Li},XF={name:"BaseTransition",props:S1,setup(t,{slots:e}){const n=qi(),r=T1();return()=>{const i=e.default&&xg(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const h of i)if(h.type!==xr){s=h;break}}const o=Ct(t),{mode:a}=o;if(r.isLeaving)return ny(s);const l=VS(s);if(!l)return ny(s);const u=Wu(l,o,r,n);ol(l,u);const c=n.subTree,d=c&&VS(c);if(d&&d.type!==xr&&!is(l,d)){const h=Wu(d,o,r,n);if(ol(d,h),a==="out-in"&&l.type!==xr)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},ny(s);a==="in-out"&&l.type!==xr&&(h.delayLeave=(f,p,m)=>{const g=aP(r,d);g[String(d.key)]=d,f[Lo]=()=>{p(),f[Lo]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}},oP=XF;function aP(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Wu(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:y,onAppearCancelled:b}=e,_=String(t.key),w=aP(n,t),T=(R,D)=>{R&&Pi(R,r,9,D)},S=(R,D)=>{const C=D[1];T(R,D),Ye(R)?R.every(N=>N.length<=1)&&C():R.length<=1&&C()},O={mode:s,persisted:o,beforeEnter(R){let D=a;if(!n.isMounted)if(i)D=m||a;else return;R[Lo]&&R[Lo](!0);const C=w[_];C&&is(t,C)&&C.el[Lo]&&C.el[Lo](),T(D,[R])},enter(R){let D=l,C=u,N=c;if(!n.isMounted)if(i)D=g||l,C=y||u,N=b||c;else return;let F=!1;const H=R[zf]=$=>{F||(F=!0,$?T(N,[R]):T(C,[R]),O.delayedLeave&&O.delayedLeave(),R[zf]=void 0)};D?S(D,[R,H]):H()},leave(R,D){const C=String(t.key);if(R[zf]&&R[zf](!0),n.isUnmounting)return D();T(d,[R]);let N=!1;const F=R[Lo]=H=>{N||(N=!0,D(),H?T(p,[R]):T(f,[R]),R[Lo]=void 0,w[C]===t&&delete w[C])};w[C]=t,h?S(h,[R,F]):F()},clone(R){return Wu(R,e,n,r)}};return O}function ny(t){if(ef(t))return t=Fs(t),t.children=null,t}function VS(t){if(!ef(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ut(n.default))return n.default()}}function ol(t,e){t.shapeFlag&6&&t.component?ol(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xg(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===we?(o.patchFlag&128&&i++,r=r.concat(xg(o.children,e,a))):(e||o.type!==xr)&&r.push(a!=null?Fs(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ce(t,e){return ut(t)?Sn({name:t.name},e,{setup:t}):t}const qa=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function QF(t){ut(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let f;return l||(f=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,g)=>{a(p,()=>m(d()),()=>g(p),c+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Ce({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const f=or;if(u)return()=>ry(u,f);const p=b=>{l=null,Pl(b,f,13,!r)};if(o&&f.suspense||nf)return h().then(b=>()=>ry(b,f)).catch(b=>(p(b),()=>r?M(r,{error:b}):null));const m=se(!1),g=se(),y=se(!!i);return i&&setTimeout(()=>{y.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!g.value){const b=new Error(`Async component timed out after ${s}ms.`);p(b),g.value=b}},s),h().then(()=>{m.value=!0,f.parent&&ef(f.parent.vnode)&&(f.parent.effect.dirty=!0,Ag(f.parent.update))}).catch(b=>{p(b),g.value=b}),()=>{if(m.value&&u)return ry(u,f);if(g.value&&r)return M(r,{error:g.value});if(n&&!y.value)return M(n)}}})}function ry(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=M(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const ef=t=>t.type.__isKeepAlive,JF={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=qi(),r=n.ctx;if(!r.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(b,_,w,T,S)=>{const O=b.component;u(b,_,w,0,a),l(O.vnode,b,_,w,O,a,T,b.slotScopeIds,S),Cr(()=>{O.isDeactivated=!1,O.a&&Eu(O.a);const R=b.props&&b.props.onVnodeMounted;R&&ci(R,O.parent,b)},a)},r.deactivate=b=>{const _=b.component;u(b,h,null,1,a),Cr(()=>{_.da&&Eu(_.da);const w=b.props&&b.props.onVnodeUnmounted;w&&ci(w,_.parent,b),_.isDeactivated=!0},a)};function f(b){iy(b),c(b,n,a,!0)}function p(b){i.forEach((_,w)=>{const T=e0(_.type);T&&(!b||!b(T))&&m(w)})}function m(b){const _=i.get(b);!o||!is(_,o)?f(_):o&&iy(o),i.delete(b),s.delete(b)}Ot(()=>[t.include,t.exclude],([b,_])=>{b&&p(w=>ed(b,w)),_&&p(w=>!ed(_,w))},{flush:"post",deep:!0});let g=null;const y=()=>{g!=null&&i.set(g,sy(n.subTree))};return $t(y),Rg(y),tf(()=>{i.forEach(b=>{const{subTree:_,suspense:w}=n,T=sy(_);if(b.type===T.type&&b.key===T.key){iy(T);const S=T.component.da;S&&Cr(S,w);return}f(b)})}),()=>{if(g=null,!e.default)return null;const b=e.default(),_=b[0];if(b.length>1)return o=null,b;if(!la(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let w=sy(_);const T=w.type,S=e0(qa(w)?w.type.__asyncResolved||{}:T),{include:O,exclude:R,max:D}=t;if(O&&(!S||!ed(O,S))||R&&S&&ed(R,S))return o=w,_;const C=w.key==null?T:w.key,N=i.get(C);return w.el&&(w=Fs(w),_.shapeFlag&128&&(_.ssContent=w)),g=C,N?(w.el=N.el,w.component=N.component,w.transition&&ol(w,w.transition),w.shapeFlag|=512,s.delete(C),s.add(C)):(s.add(C),D&&s.size>parseInt(D,10)&&m(s.values().next().value)),w.shapeFlag|=256,o=w,Zk(_.type)?_:w}}},ZF=JF;function ed(t,e){return Ye(t)?t.some(n=>ed(n,e)):An(t)?t.split(",").includes(e):$3(t)?t.test(e):!1}function lP(t,e){cP(t,"a",e)}function uP(t,e){cP(t,"da",e)}function cP(t,e,n=or){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Dg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)ef(i.parent.vnode)&&e4(r,e,n,i),i=i.parent}}function e4(t,e,n,r){const i=Dg(e,t,r,!0);js(()=>{n1(r[e],i)},n)}function iy(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function sy(t){return t.shapeFlag&128?t.ssContent:t}function Dg(t,e,n=or,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;pa();const a=ul(n),l=Pi(e,n,t,o);return a(),ma(),l});return r?i.unshift(s):i.push(s),s}}const _o=t=>(e,n=or)=>(!nf||t==="sp")&&Dg(t,(...r)=>e(...r),n),dP=_o("bm"),$t=_o("m"),E1=_o("bu"),Rg=_o("u"),tf=_o("bum"),js=_o("um"),hP=_o("sp"),fP=_o("rtg"),pP=_o("rtc");function mP(t,e=or){Dg("ec",t,e)}function nt(t,e,n,r){let i;const s=n&&n[r];if(Ye(t)||An(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(on(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function rr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Ye(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function fe(t,e,n={},r,i){if(nr.isCE||nr.parent&&qa(nr.parent)&&nr.parent.isCE)return e!=="default"&&(n.name=e),M("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),E();const o=s&&gP(s(n)),a=re(we,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function gP(t){return t.some(e=>la(e)?!(e.type===xr||e.type===we&&!gP(e.children)):!0)?t:null}function t4(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:yd(r)]=t[r];return n}const Hb=t=>t?UP(t)?Ng(t)||t.proxy:Hb(t.parent):null,bd=Sn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Hb(t.parent),$root:t=>Hb(t.root),$emit:t=>t.emit,$options:t=>I1(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ag(t.update)}),$nextTick:t=>t.n||(t.n=Yn.bind(t.proxy)),$watch:t=>qF.bind(t)}),oy=(t,e)=>t!==nn&&!t.__isScriptSetup&&Bt(t,e),Wb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(oy(r,e))return o[e]=1,r[e];if(i!==nn&&Bt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Bt(u,e))return o[e]=3,s[e];if(n!==nn&&Bt(n,e))return o[e]=4,n[e];Kb&&(o[e]=0)}}const c=bd[e];let d,h;if(c)return e==="$attrs"&&wi(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==nn&&Bt(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Bt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return oy(i,e)?(i[e]=n,!0):r!==nn&&Bt(r,e)?(r[e]=n,!0):Bt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==nn&&Bt(t,o)||oy(e,o)||(a=s[0])&&Bt(a,o)||Bt(r,o)||Bt(bd,o)||Bt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Bt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},n4=Sn({},Wb,{get(t,e){if(e!==Symbol.unscopables)return Wb.get(t,e,t)},has(t,e){return e[0]!=="_"&&!B3(e)}});function r4(){return null}function i4(){return null}function s4(t){}function o4(t){}function a4(){return null}function l4(){}function u4(t,e){return null}function ga(){return vP().slots}function c4(){return vP().attrs}function vP(){const t=qi();return t.setupContext||(t.setupContext=HP(t))}function eh(t){return Ye(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function d4(t,e){const n=eh(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Ye(i)||ut(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function h4(t,e){return!t||!e?t||e:Ye(t)&&Ye(e)?t.concat(e):Sn({},eh(t),eh(e))}function f4(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function p4(t){const e=qi();let n=t();return Qb(),r1(n)&&(n=n.catch(r=>{throw ul(e),r})),[n,()=>ul(e)]}let Kb=!0;function m4(t){const e=I1(t),n=t.proxy,r=t.ctx;Kb=!1,e.beforeCreate&&US(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:b,destroyed:_,unmounted:w,render:T,renderTracked:S,renderTriggered:O,errorCaptured:R,serverPrefetch:D,expose:C,inheritAttrs:N,components:F,directives:H,filters:$}=e;if(u&&g4(u,r,null),o)for(const W in o){const X=o[W];ut(X)&&(r[W]=X.bind(n))}if(i){const W=i.call(n,n);on(W)&&(t.data=Nn(W))}if(Kb=!0,s)for(const W in s){const X=s[W],U=ut(X)?X.bind(n,n):ut(X.get)?X.get.bind(n,n):fi,k=!ut(X)&&ut(X.set)?X.set.bind(n):fi,ne=ee({get:U,set:k});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>ne.value,set:ie=>ne.value=ie})}if(a)for(const W in a)yP(a[W],r,n,W);if(l){const W=ut(l)?l.call(n):l;Reflect.ownKeys(W).forEach(X=>{ku(X,W[X])})}c&&US(c,t,"c");function P(W,X){Ye(X)?X.forEach(U=>W(U.bind(n))):X&&W(X.bind(n))}if(P(dP,d),P($t,h),P(E1,f),P(Rg,p),P(lP,m),P(uP,g),P(mP,R),P(pP,S),P(fP,O),P(tf,b),P(js,w),P(hP,D),Ye(C))if(C.length){const W=t.exposed||(t.exposed={});C.forEach(X=>{Object.defineProperty(W,X,{get:()=>n[X],set:U=>n[X]=U})})}else t.exposed||(t.exposed={});T&&t.render===fi&&(t.render=T),N!=null&&(t.inheritAttrs=N),F&&(t.components=F),H&&(t.directives=H)}function g4(t,e,n=fi){Ye(t)&&(t=zb(t));for(const r in t){const i=t[r];let s;on(i)?"default"in i?s=ii(i.from||r,i.default,!0):s=ii(i.from||r):s=ii(i),dn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function US(t,e,n){Pi(Ye(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function yP(t,e,n,r){const i=r.includes(".")?sP(n,r):()=>n[r];if(An(t)){const s=e[t];ut(s)&&Ot(i,s)}else if(ut(t))Ot(i,t.bind(n));else if(on(t))if(Ye(t))t.forEach(s=>yP(s,e,n,r));else{const s=ut(t.handler)?t.handler.bind(n):e[t.handler];ut(s)&&Ot(i,s,t)}}function I1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>am(l,u,o,!0)),am(l,e,o)),on(e)&&s.set(e,l),l}function am(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&am(t,s,n,!0),i&&i.forEach(o=>am(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=v4[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const v4={data:BS,props:jS,emits:jS,methods:td,computed:td,beforeCreate:Zr,created:Zr,beforeMount:Zr,mounted:Zr,beforeUpdate:Zr,updated:Zr,beforeDestroy:Zr,beforeUnmount:Zr,destroyed:Zr,unmounted:Zr,activated:Zr,deactivated:Zr,errorCaptured:Zr,serverPrefetch:Zr,components:td,directives:td,watch:b4,provide:BS,inject:y4};function BS(t,e){return e?t?function(){return Sn(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function y4(t,e){return td(zb(t),zb(e))}function zb(t){if(Ye(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Zr(t,e){return t?[...new Set([].concat(t,e))]:e}function td(t,e){return t?Sn(Object.create(null),t,e):e}function jS(t,e){return t?Ye(t)&&Ye(e)?[...new Set([...t,...e])]:Sn(Object.create(null),eh(t),eh(e??{})):e}function b4(t,e){if(!t)return e;if(!e)return t;const n=Sn(Object.create(null),t);for(const r in e)n[r]=Zr(t[r],e[r]);return n}function bP(){return{app:null,config:{isNativeTag:N3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let w4=0;function _4(t,e){return function(r,i=null){ut(r)||(r=Sn({},r)),i!=null&&!on(i)&&(i=null);const s=bP(),o=new WeakSet;let a=!1;const l=s.app={_uid:w4++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:KP,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&ut(u.install)?(o.add(u),u.install(l,...c)):ut(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=M(r,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,Ng(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Au;Au=l;try{return u()}finally{Au=c}}};return l}}let Au=null;function ku(t,e){if(or){let n=or.provides;const r=or.parent&&or.parent.provides;r===n&&(n=or.provides=Object.create(r)),n[t]=e}}function ii(t,e,n=!1){const r=or||nr;if(r||Au){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Au._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ut(e)?e.call(r&&r.proxy):e}}function wP(){return!!(or||nr||Au)}const _P={},TP=()=>Object.create(_P),SP=t=>Object.getPrototypeOf(t)===_P;function T4(t,e,n,r=!1){const i={},s=TP();t.propsDefaults=Object.create(null),EP(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:u1(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function S4(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Ct(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(kg(t.emitsOptions,h))continue;const f=e[h];if(l)if(Bt(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const p=ri(h);i[p]=Gb(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{EP(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!Bt(e,d)&&((c=Ci(d))===d||!Bt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Gb(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Bt(e,d))&&(delete s[d],u=!0)}u&&ro(t.attrs,"set","")}function EP(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Su(l))continue;const u=e[l];let c;i&&Bt(i,c=ri(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:kg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=Ct(n),u=a||nn;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Gb(i,l,d,u[d],t,!Bt(u,d))}}return o}function Gb(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Bt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ut(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=ul(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Ci(n))&&(r=!0))}return r}function IP(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!ut(t)){const c=d=>{l=!0;const[h,f]=IP(d,e,!0);Sn(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return on(t)&&r.set(t,_u),_u;if(Ye(s))for(let c=0;c<s.length;c++){const d=ri(s[c]);HS(d)&&(o[d]=nn)}else if(s)for(const c in s){const d=ri(c);if(HS(d)){const h=s[c],f=o[d]=Ye(h)||ut(h)?{type:h}:Sn({},h);if(f){const p=zS(Boolean,f.type),m=zS(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||Bt(f,"default"))&&a.push(d)}}}const u=[o,a];return on(t)&&r.set(t,u),u}function HS(t){return t[0]!=="$"&&!Su(t)}function WS(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function KS(t,e){return WS(t)===WS(e)}function zS(t,e){return Ye(e)?e.findIndex(n=>KS(n,t)):ut(e)&&KS(e,t)?0:-1}const CP=t=>t[0]==="_"||t==="$stable",C1=t=>Ye(t)?t.map(Ii):[Ii(t)],E4=(t,e,n)=>{if(e._n)return e;const r=Y((...i)=>C1(e(...i)),n);return r._c=!1,r},OP=(t,e,n)=>{const r=t._ctx;for(const i in t){if(CP(i))continue;const s=t[i];if(ut(s))e[i]=E4(i,s,r);else if(s!=null){const o=C1(s);e[i]=()=>o}}},AP=(t,e)=>{const n=C1(e);t.slots.default=()=>n},I4=(t,e)=>{const n=t.slots=TP();if(t.vnode.shapeFlag&32){const r=e._;r?(Sn(n,e),Sk(n,"_",r,!0)):OP(e,n)}else e&&AP(t,e)},C4=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=nn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Sn(i,e),!n&&a===1&&delete i._):(s=!e.$stable,OP(e,i)),o=e}else e&&(AP(t,e),o={default:1});if(s)for(const a in i)!CP(a)&&o[a]==null&&delete i[a]};function lm(t,e,n,r,i=!1){if(Ye(t)){t.forEach((h,f)=>lm(h,e&&(Ye(e)?e[f]:e),n,r,i));return}if(qa(r)&&!i)return;const s=r.shapeFlag&4?Ng(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===nn?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(An(u)?(c[u]=null,Bt(d,u)&&(d[u]=null)):dn(u)&&(u.value=null)),ut(l))so(l,a,12,[o,c]);else{const h=An(l),f=dn(l);if(h||f){const p=()=>{if(t.f){const m=h?Bt(d,l)?d[l]:c[l]:l.value;i?Ye(m)&&n1(m,s):Ye(m)?m.includes(s)||m.push(s):h?(c[l]=[s],Bt(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,Bt(d,l)&&(d[l]=o)):f&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Cr(p,n)):p()}}}let Co=!1;const O4=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",A4=t=>t.namespaceURI.includes("MathML"),Gf=t=>{if(O4(t))return"svg";if(A4(t))return"mathml"},Yf=t=>t.nodeType===8;function k4(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(_,w)=>{if(!w.hasChildNodes()){n(null,_,w),om(),w._vnode=_;return}Co=!1,d(w.firstChild,_,null,null,null),om(),w._vnode=_,Co&&console.error("Hydration completed but contains mismatches.")},d=(_,w,T,S,O,R=!1)=>{R=R||!!w.dynamicChildren;const D=Yf(_)&&_.data==="[",C=()=>m(_,w,T,S,O,D),{type:N,ref:F,shapeFlag:H,patchFlag:$}=w;let A=_.nodeType;w.el=_,$===-2&&(R=!1,w.dynamicChildren=null);let P=null;switch(N){case al:A!==3?w.children===""?(l(w.el=i(""),o(_),_),P=_):P=C():(_.data!==w.children&&(Co=!0,_.data=w.children),P=s(_));break;case xr:b(_)?(P=s(_),y(w.el=_.content.firstChild,_,T)):A!==8||D?P=C():P=s(_);break;case Xa:if(D&&(_=s(_),A=_.nodeType),A===1||A===3){P=_;const W=!w.children.length;for(let X=0;X<w.staticCount;X++)W&&(w.children+=P.nodeType===1?P.outerHTML:P.data),X===w.staticCount-1&&(w.anchor=P),P=s(P);return D?s(P):P}else C();break;case we:D?P=p(_,w,T,S,O,R):P=C();break;default:if(H&1)(A!==1||w.type.toLowerCase()!==_.tagName.toLowerCase())&&!b(_)?P=C():P=h(_,w,T,S,O,R);else if(H&6){w.slotScopeIds=O;const W=o(_);if(D?P=g(_):Yf(_)&&_.data==="teleport start"?P=g(_,_.data,"teleport end"):P=s(_),e(w,W,null,T,S,Gf(W),R),qa(w)){let X;D?(X=M(we),X.anchor=P?P.previousSibling:W.lastChild):X=_.nodeType===3?B(""):M("div"),X.el=_,w.component.subTree=X}}else H&64?A!==8?P=C():P=w.type.hydrate(_,w,T,S,O,R,t,f):H&128&&(P=w.type.hydrate(_,w,T,S,Gf(o(_)),O,R,t,d))}return F!=null&&lm(F,null,S,w),P},h=(_,w,T,S,O,R)=>{R=R||!!w.dynamicChildren;const{type:D,props:C,patchFlag:N,shapeFlag:F,dirs:H,transition:$}=w,A=D==="input"||D==="option";if(A||N!==-1){H&&ws(w,null,T,"created");let P=!1;if(b(_)){P=DP(S,$)&&T&&T.vnode.props&&T.vnode.props.appear;const X=_.content.firstChild;P&&$.beforeEnter(X),y(X,_,T),w.el=_=X}if(F&16&&!(C&&(C.innerHTML||C.textContent))){let X=f(_.firstChild,w,_,T,S,O,R);for(;X;){Co=!0;const U=X;X=X.nextSibling,a(U)}}else F&8&&_.textContent!==w.children&&(Co=!0,_.textContent=w.children);if(C)if(A||!R||N&48)for(const X in C)(A&&(X.endsWith("value")||X==="indeterminate")||qh(X)&&!Su(X)||X[0]===".")&&r(_,X,null,C[X],void 0,void 0,T);else C.onClick&&r(_,"onClick",null,C.onClick,void 0,void 0,T);let W;(W=C&&C.onVnodeBeforeMount)&&ci(W,T,w),H&&ws(w,null,T,"beforeMount"),((W=C&&C.onVnodeMounted)||H||P)&&eP(()=>{W&&ci(W,T,w),P&&$.enter(_),H&&ws(w,null,T,"mounted")},S)}return _.nextSibling},f=(_,w,T,S,O,R,D)=>{D=D||!!w.dynamicChildren;const C=w.children,N=C.length;for(let F=0;F<N;F++){const H=D?C[F]:C[F]=Ii(C[F]);if(_)_=d(_,H,S,O,R,D);else{if(H.type===al&&!H.children)continue;Co=!0,n(null,H,T,null,S,O,Gf(T),R)}}return _},p=(_,w,T,S,O,R)=>{const{slotScopeIds:D}=w;D&&(O=O?O.concat(D):D);const C=o(_),N=f(s(_),w,C,T,S,O,R);return N&&Yf(N)&&N.data==="]"?s(w.anchor=N):(Co=!0,l(w.anchor=u("]"),C,N),N)},m=(_,w,T,S,O,R)=>{if(Co=!0,w.el=null,R){const N=g(_);for(;;){const F=s(_);if(F&&F!==N)a(F);else break}}const D=s(_),C=o(_);return a(_),n(null,w,C,D,T,S,Gf(C),O),D},g=(_,w="[",T="]")=>{let S=0;for(;_;)if(_=s(_),_&&Yf(_)&&(_.data===w&&S++,_.data===T)){if(S===0)return s(_);S--}return _},y=(_,w,T)=>{const S=w.parentNode;S&&S.replaceChild(_,w);let O=T;for(;O;)O.vnode.el===w&&(O.vnode.el=O.subTree.el=_),O=O.parent},b=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[c,d]}const Cr=eP;function kP(t){return xP(t)}function PP(t){return xP(t,k4)}function xP(t,e){const n=Ek();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=fi,insertStaticContent:p}=t,m=(x,V,z,ce=null,de=null,Ee=null,De=void 0,Te=null,Oe=!!V.dynamicChildren)=>{if(x===V)return;x&&!is(x,V)&&(ce=Q(x),ie(x,de,Ee,!0),x=null),V.patchFlag===-2&&(Oe=!1,V.dynamicChildren=null);const{type:be,ref:Me,shapeFlag:He}=V;switch(be){case al:g(x,V,z,ce);break;case xr:y(x,V,z,ce);break;case Xa:x==null&&b(V,z,ce,De);break;case we:F(x,V,z,ce,de,Ee,De,Te,Oe);break;default:He&1?T(x,V,z,ce,de,Ee,De,Te,Oe):He&6?H(x,V,z,ce,de,Ee,De,Te,Oe):(He&64||He&128)&&be.process(x,V,z,ce,de,Ee,De,Te,Oe,pe)}Me!=null&&de&&lm(Me,x&&x.ref,Ee,V||x,!V)},g=(x,V,z,ce)=>{if(x==null)r(V.el=a(V.children),z,ce);else{const de=V.el=x.el;V.children!==x.children&&u(de,V.children)}},y=(x,V,z,ce)=>{x==null?r(V.el=l(V.children||""),z,ce):V.el=x.el},b=(x,V,z,ce)=>{[x.el,x.anchor]=p(x.children,V,z,ce,x.el,x.anchor)},_=({el:x,anchor:V},z,ce)=>{let de;for(;x&&x!==V;)de=h(x),r(x,z,ce),x=de;r(V,z,ce)},w=({el:x,anchor:V})=>{let z;for(;x&&x!==V;)z=h(x),i(x),x=z;i(V)},T=(x,V,z,ce,de,Ee,De,Te,Oe)=>{V.type==="svg"?De="svg":V.type==="math"&&(De="mathml"),x==null?S(V,z,ce,de,Ee,De,Te,Oe):D(x,V,de,Ee,De,Te,Oe)},S=(x,V,z,ce,de,Ee,De,Te)=>{let Oe,be;const{props:Me,shapeFlag:He,transition:Ge,dirs:rt}=x;if(Oe=x.el=o(x.type,Ee,Me&&Me.is,Me),He&8?c(Oe,x.children):He&16&&R(x.children,Oe,null,ce,de,ay(x,Ee),De,Te),rt&&ws(x,null,ce,"created"),O(Oe,x,x.scopeId,De,ce),Me){for(const J in Me)J!=="value"&&!Su(J)&&s(Oe,J,null,Me[J],Ee,x.children,ce,de,K);"value"in Me&&s(Oe,"value",null,Me.value,Ee),(be=Me.onVnodeBeforeMount)&&ci(be,ce,x)}rt&&ws(x,null,ce,"beforeMount");const ct=DP(de,Ge);ct&&Ge.beforeEnter(Oe),r(Oe,V,z),((be=Me&&Me.onVnodeMounted)||ct||rt)&&Cr(()=>{be&&ci(be,ce,x),ct&&Ge.enter(Oe),rt&&ws(x,null,ce,"mounted")},de)},O=(x,V,z,ce,de)=>{if(z&&f(x,z),ce)for(let Ee=0;Ee<ce.length;Ee++)f(x,ce[Ee]);if(de){let Ee=de.subTree;if(V===Ee){const De=de.vnode;O(x,De,De.scopeId,De.slotScopeIds,de.parent)}}},R=(x,V,z,ce,de,Ee,De,Te,Oe=0)=>{for(let be=Oe;be<x.length;be++){const Me=x[be]=Te?Fo(x[be]):Ii(x[be]);m(null,Me,V,z,ce,de,Ee,De,Te)}},D=(x,V,z,ce,de,Ee,De)=>{const Te=V.el=x.el;let{patchFlag:Oe,dynamicChildren:be,dirs:Me}=V;Oe|=x.patchFlag&16;const He=x.props||nn,Ge=V.props||nn;let rt;if(z&&Ia(z,!1),(rt=Ge.onVnodeBeforeUpdate)&&ci(rt,z,V,x),Me&&ws(V,x,z,"beforeUpdate"),z&&Ia(z,!0),be?C(x.dynamicChildren,be,Te,z,ce,ay(V,de),Ee):De||X(x,V,Te,null,z,ce,ay(V,de),Ee,!1),Oe>0){if(Oe&16)N(Te,V,He,Ge,z,ce,de);else if(Oe&2&&He.class!==Ge.class&&s(Te,"class",null,Ge.class,de),Oe&4&&s(Te,"style",He.style,Ge.style,de),Oe&8){const ct=V.dynamicProps;for(let J=0;J<ct.length;J++){const j=ct[J],G=He[j],te=Ge[j];(te!==G||j==="value")&&s(Te,j,G,te,de,x.children,z,ce,K)}}Oe&1&&x.children!==V.children&&c(Te,V.children)}else!De&&be==null&&N(Te,V,He,Ge,z,ce,de);((rt=Ge.onVnodeUpdated)||Me)&&Cr(()=>{rt&&ci(rt,z,V,x),Me&&ws(V,x,z,"updated")},ce)},C=(x,V,z,ce,de,Ee,De)=>{for(let Te=0;Te<V.length;Te++){const Oe=x[Te],be=V[Te],Me=Oe.el&&(Oe.type===we||!is(Oe,be)||Oe.shapeFlag&70)?d(Oe.el):z;m(Oe,be,Me,null,ce,de,Ee,De,!0)}},N=(x,V,z,ce,de,Ee,De)=>{if(z!==ce){if(z!==nn)for(const Te in z)!Su(Te)&&!(Te in ce)&&s(x,Te,z[Te],null,De,V.children,de,Ee,K);for(const Te in ce){if(Su(Te))continue;const Oe=ce[Te],be=z[Te];Oe!==be&&Te!=="value"&&s(x,Te,be,Oe,De,V.children,de,Ee,K)}"value"in ce&&s(x,"value",z.value,ce.value,De)}},F=(x,V,z,ce,de,Ee,De,Te,Oe)=>{const be=V.el=x?x.el:a(""),Me=V.anchor=x?x.anchor:a("");let{patchFlag:He,dynamicChildren:Ge,slotScopeIds:rt}=V;rt&&(Te=Te?Te.concat(rt):rt),x==null?(r(be,z,ce),r(Me,z,ce),R(V.children||[],z,Me,de,Ee,De,Te,Oe)):He>0&&He&64&&Ge&&x.dynamicChildren?(C(x.dynamicChildren,Ge,z,de,Ee,De,Te),(V.key!=null||de&&V===de.subTree)&&O1(x,V,!0)):X(x,V,z,Me,de,Ee,De,Te,Oe)},H=(x,V,z,ce,de,Ee,De,Te,Oe)=>{V.slotScopeIds=Te,x==null?V.shapeFlag&512?de.ctx.activate(V,z,ce,De,Oe):$(V,z,ce,de,Ee,De,Oe):A(x,V,Oe)},$=(x,V,z,ce,de,Ee,De)=>{const Te=x.component=VP(x,ce,de);if(ef(x)&&(Te.ctx.renderer=pe),BP(Te),Te.asyncDep){if(de&&de.registerDep(Te,P),!x.el){const Oe=Te.subTree=M(xr);y(null,Oe,V,z)}}else P(Te,x,V,z,de,Ee,De)},A=(x,V,z)=>{const ce=V.component=x.component;if(UF(x,V,z))if(ce.asyncDep&&!ce.asyncResolved){W(ce,V,z);return}else ce.next=V,RF(ce.update),ce.effect.dirty=!0,ce.update();else V.el=x.el,ce.vnode=V},P=(x,V,z,ce,de,Ee,De)=>{const Te=()=>{if(x.isMounted){let{next:Me,bu:He,u:Ge,parent:rt,vnode:ct}=x;{const he=RP(x);if(he){Me&&(Me.el=ct.el,W(x,Me,De)),he.asyncDep.then(()=>{x.isUnmounted||Te()});return}}let J=Me,j;Ia(x,!1),Me?(Me.el=ct.el,W(x,Me,De)):Me=ct,He&&Eu(He),(j=Me.props&&Me.props.onVnodeBeforeUpdate)&&ci(j,rt,Me,ct),Ia(x,!0);const G=xp(x),te=x.subTree;x.subTree=G,m(te,G,d(te.el),Q(te),x,de,Ee),Me.el=G.el,J===null&&v1(x,G.el),Ge&&Cr(Ge,de),(j=Me.props&&Me.props.onVnodeUpdated)&&Cr(()=>ci(j,rt,Me,ct),de)}else{let Me;const{el:He,props:Ge}=V,{bm:rt,m:ct,parent:J}=x,j=qa(V);if(Ia(x,!1),rt&&Eu(rt),!j&&(Me=Ge&&Ge.onVnodeBeforeMount)&&ci(Me,J,V),Ia(x,!0),He&&le){const G=()=>{x.subTree=xp(x),le(He,x.subTree,x,de,null)};j?V.type.__asyncLoader().then(()=>!x.isUnmounted&&G()):G()}else{const G=x.subTree=xp(x);m(null,G,z,ce,x,de,Ee),V.el=G.el}if(ct&&Cr(ct,de),!j&&(Me=Ge&&Ge.onVnodeMounted)){const G=V;Cr(()=>ci(Me,J,G),de)}(V.shapeFlag&256||J&&qa(J.vnode)&&J.vnode.shapeFlag&256)&&x.a&&Cr(x.a,de),x.isMounted=!0,V=z=ce=null}},Oe=x.effect=new Bu(Te,fi,()=>Ag(be),x.scope),be=x.update=()=>{Oe.dirty&&Oe.run()};be.id=x.uid,Ia(x,!0),be()},W=(x,V,z)=>{V.component=x;const ce=x.vnode.props;x.vnode=V,x.next=null,S4(x,V.props,ce,z),C4(x,V.children,z),pa(),MS(x),ma()},X=(x,V,z,ce,de,Ee,De,Te,Oe=!1)=>{const be=x&&x.children,Me=x?x.shapeFlag:0,He=V.children,{patchFlag:Ge,shapeFlag:rt}=V;if(Ge>0){if(Ge&128){k(be,He,z,ce,de,Ee,De,Te,Oe);return}else if(Ge&256){U(be,He,z,ce,de,Ee,De,Te,Oe);return}}rt&8?(Me&16&&K(be,de,Ee),He!==be&&c(z,He)):Me&16?rt&16?k(be,He,z,ce,de,Ee,De,Te,Oe):K(be,de,Ee,!0):(Me&8&&c(z,""),rt&16&&R(He,z,ce,de,Ee,De,Te,Oe))},U=(x,V,z,ce,de,Ee,De,Te,Oe)=>{x=x||_u,V=V||_u;const be=x.length,Me=V.length,He=Math.min(be,Me);let Ge;for(Ge=0;Ge<He;Ge++){const rt=V[Ge]=Oe?Fo(V[Ge]):Ii(V[Ge]);m(x[Ge],rt,z,null,de,Ee,De,Te,Oe)}be>Me?K(x,de,Ee,!0,!1,He):R(V,z,ce,de,Ee,De,Te,Oe,He)},k=(x,V,z,ce,de,Ee,De,Te,Oe)=>{let be=0;const Me=V.length;let He=x.length-1,Ge=Me-1;for(;be<=He&&be<=Ge;){const rt=x[be],ct=V[be]=Oe?Fo(V[be]):Ii(V[be]);if(is(rt,ct))m(rt,ct,z,null,de,Ee,De,Te,Oe);else break;be++}for(;be<=He&&be<=Ge;){const rt=x[He],ct=V[Ge]=Oe?Fo(V[Ge]):Ii(V[Ge]);if(is(rt,ct))m(rt,ct,z,null,de,Ee,De,Te,Oe);else break;He--,Ge--}if(be>He){if(be<=Ge){const rt=Ge+1,ct=rt<Me?V[rt].el:ce;for(;be<=Ge;)m(null,V[be]=Oe?Fo(V[be]):Ii(V[be]),z,ct,de,Ee,De,Te,Oe),be++}}else if(be>Ge)for(;be<=He;)ie(x[be],de,Ee,!0),be++;else{const rt=be,ct=be,J=new Map;for(be=ct;be<=Ge;be++){const ke=V[be]=Oe?Fo(V[be]):Ii(V[be]);ke.key!=null&&J.set(ke.key,be)}let j,G=0;const te=Ge-ct+1;let he=!1,Fe=0;const Xe=new Array(te);for(be=0;be<te;be++)Xe[be]=0;for(be=rt;be<=He;be++){const ke=x[be];if(G>=te){ie(ke,de,Ee,!0);continue}let Re;if(ke.key!=null)Re=J.get(ke.key);else for(j=ct;j<=Ge;j++)if(Xe[j-ct]===0&&is(ke,V[j])){Re=j;break}Re===void 0?ie(ke,de,Ee,!0):(Xe[Re-ct]=be+1,Re>=Fe?Fe=Re:he=!0,m(ke,V[Re],z,null,de,Ee,De,Te,Oe),G++)}const ge=he?P4(Xe):_u;for(j=ge.length-1,be=te-1;be>=0;be--){const ke=ct+be,Re=V[ke],Qe=ke+1<Me?V[ke+1].el:ce;Xe[be]===0?m(null,Re,z,Qe,de,Ee,De,Te,Oe):he&&(j<0||be!==ge[j]?ne(Re,z,Qe,2):j--)}}},ne=(x,V,z,ce,de=null)=>{const{el:Ee,type:De,transition:Te,children:Oe,shapeFlag:be}=x;if(be&6){ne(x.component.subTree,V,z,ce);return}if(be&128){x.suspense.move(V,z,ce);return}if(be&64){De.move(x,V,z,pe);return}if(De===we){r(Ee,V,z);for(let He=0;He<Oe.length;He++)ne(Oe[He],V,z,ce);r(x.anchor,V,z);return}if(De===Xa){_(x,V,z);return}if(ce!==2&&be&1&&Te)if(ce===0)Te.beforeEnter(Ee),r(Ee,V,z),Cr(()=>Te.enter(Ee),de);else{const{leave:He,delayLeave:Ge,afterLeave:rt}=Te,ct=()=>r(Ee,V,z),J=()=>{He(Ee,()=>{ct(),rt&&rt()})};Ge?Ge(Ee,ct,J):J()}else r(Ee,V,z)},ie=(x,V,z,ce=!1,de=!1)=>{const{type:Ee,props:De,ref:Te,children:Oe,dynamicChildren:be,shapeFlag:Me,patchFlag:He,dirs:Ge}=x;if(Te!=null&&lm(Te,null,z,x,!0),Me&256){V.ctx.deactivate(x);return}const rt=Me&1&&Ge,ct=!qa(x);let J;if(ct&&(J=De&&De.onVnodeBeforeUnmount)&&ci(J,V,x),Me&6)oe(x.component,z,ce);else{if(Me&128){x.suspense.unmount(z,ce);return}rt&&ws(x,null,V,"beforeUnmount"),Me&64?x.type.remove(x,V,z,de,pe,ce):be&&(Ee!==we||He>0&&He&64)?K(be,V,z,!1,!0):(Ee===we&&He&384||!de&&Me&16)&&K(Oe,V,z),ce&&ve(x)}(ct&&(J=De&&De.onVnodeUnmounted)||rt)&&Cr(()=>{J&&ci(J,V,x),rt&&ws(x,null,V,"unmounted")},z)},ve=x=>{const{type:V,el:z,anchor:ce,transition:de}=x;if(V===we){ye(z,ce);return}if(V===Xa){w(x);return}const Ee=()=>{i(z),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(x.shapeFlag&1&&de&&!de.persisted){const{leave:De,delayLeave:Te}=de,Oe=()=>De(z,Ee);Te?Te(x.el,Ee,Oe):Oe()}else Ee()},ye=(x,V)=>{let z;for(;x!==V;)z=h(x),i(x),x=z;i(V)},oe=(x,V,z)=>{const{bum:ce,scope:de,update:Ee,subTree:De,um:Te}=x;ce&&Eu(ce),de.stop(),Ee&&(Ee.active=!1,ie(De,x,V,z)),Te&&Cr(Te,V),Cr(()=>{x.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},K=(x,V,z,ce=!1,de=!1,Ee=0)=>{for(let De=Ee;De<x.length;De++)ie(x[De],V,z,ce,de)},Q=x=>x.shapeFlag&6?Q(x.component.subTree):x.shapeFlag&128?x.suspense.next():h(x.anchor||x.el);let ue=!1;const Z=(x,V,z)=>{x==null?V._vnode&&ie(V._vnode,null,null,!0):m(V._vnode||null,x,V,null,null,null,z),ue||(ue=!0,MS(),om(),ue=!1),V._vnode=x},pe={p:m,um:ie,m:ne,r:ve,mt:$,mc:R,pc:X,pbc:C,n:Q,o:t};let _e,le;return e&&([_e,le]=e(pe)),{render:Z,hydrate:_e,createApp:_4(Z,_e)}}function ay({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ia({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function DP(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function O1(t,e,n=!1){const r=t.children,i=e.children;if(Ye(r)&&Ye(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Fo(i[s]),a.el=o.el),n||O1(o,a)),a.type===al&&(a.el=o.el)}}function P4(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function RP(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:RP(e)}const x4=t=>t.__isTeleport,wd=t=>t&&(t.disabled||t.disabled===""),GS=t=>typeof SVGElement<"u"&&t instanceof SVGElement,YS=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Yb=(t,e)=>{const n=t&&t.to;return An(n)?e?e(n):null:n},D4={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:g}}=u,y=wd(e.props);let{shapeFlag:b,children:_,dynamicChildren:w}=e;if(t==null){const T=e.el=m(""),S=e.anchor=m("");f(T,n,r),f(S,n,r);const O=e.target=Yb(e.props,p),R=e.targetAnchor=m("");O&&(f(R,O),o==="svg"||GS(O)?o="svg":(o==="mathml"||YS(O))&&(o="mathml"));const D=(C,N)=>{b&16&&c(_,C,N,i,s,o,a,l)};y?D(n,S):O&&D(O,R)}else{e.el=t.el;const T=e.anchor=t.anchor,S=e.target=t.target,O=e.targetAnchor=t.targetAnchor,R=wd(t.props),D=R?n:S,C=R?T:O;if(o==="svg"||GS(S)?o="svg":(o==="mathml"||YS(S))&&(o="mathml"),w?(h(t.dynamicChildren,w,D,i,s,o,a),O1(t,e,!0)):l||d(t,e,D,C,i,s,o,a,!1),y)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):qf(e,n,T,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=Yb(e.props,p);N&&qf(e,N,null,u,0)}else R&&qf(e,S,O,u,1)}NP(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=t;if(d&&s(c),o&&s(u),a&16){const f=o||!wd(h);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,f,!!m.dynamicChildren)}}},move:qf,hydrate:R4};function qf(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||wd(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function R4(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=Yb(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(wd(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}NP(e)}return e.anchor&&o(e.anchor)}const A1=D4;function NP(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const we=Symbol.for("v-fgt"),al=Symbol.for("v-txt"),xr=Symbol.for("v-cmt"),Xa=Symbol.for("v-stc"),_d=[];let pi=null;function E(t=!1){_d.push(pi=t?null:[])}function MP(){_d.pop(),pi=_d[_d.length-1]||null}let ll=1;function qb(t){ll+=t}function $P(t){return t.dynamicChildren=ll>0?pi||_u:null,MP(),ll>0&&pi&&pi.push(t),t}function L(t,e,n,r,i,s){return $P(v(t,e,n,r,i,s,!0))}function re(t,e,n,r,i){return $P(M(t,e,n,r,i,!0))}function la(t){return t?t.__v_isVNode===!0:!1}function is(t,e){return t.type===e.type&&t.key===e.key}function N4(t){}const LP=({key:t})=>t??null,Dp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?An(t)||dn(t)||ut(t)?{i:nr,r:t,k:e,f:!!n}:t:null);function v(t,e=null,n=null,r=0,i=null,s=t===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&LP(e),ref:e&&Dp(e),scopeId:Pg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:nr};return a?(k1(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=An(n)?8:16),ll>0&&!o&&pi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&pi.push(l),l}const M=M4;function M4(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Jk)&&(t=xr),la(t)){const a=Fs(t,e,!0);return n&&k1(a,n),ll>0&&!s&&pi&&(a.shapeFlag&6?pi[pi.indexOf(t)]=a:pi.push(a)),a.patchFlag|=-2,a}if(j4(t)&&(t=t.__vccOpts),e){e=lr(e);let{class:a,style:l}=e;a&&!An(a)&&(e.class=xe(a)),on(l)&&(c1(l)&&!Ye(l)&&(l=Sn({},l)),e.style=tr(l))}const o=An(t)?1:Zk(t)?128:x4(t)?64:on(t)?4:ut(t)?2:0;return v(t,e,n,r,i,o,s,!0)}function lr(t){return t?c1(t)||SP(t)?Sn({},t):t:null}function Fs(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?ae(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&LP(u),ref:e&&e.ref?n&&s?Ye(s)?s.concat(Dp(e)):[s,Dp(e)]:Dp(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fs(t.ssContent),ssFallback:t.ssFallback&&Fs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&(c.transition=l.clone(c)),c}function B(t=" ",e=0){return M(al,null,t,e)}function FP(t,e){const n=M(Xa,null,t);return n.staticCount=e,n}function q(t="",e=!1){return e?(E(),re(xr,null,t)):M(xr,null,t)}function Ii(t){return t==null||typeof t=="boolean"?M(xr):Ye(t)?M(we,null,t.slice()):typeof t=="object"?Fo(t):M(al,null,String(t))}function Fo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fs(t)}function k1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ye(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),k1(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!SP(e)?e._ctx=nr:i===3&&nr&&(nr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:nr},n=32):(e=String(e),r&64?(n=16,e=[B(e)]):n=8);t.children=e,t.shapeFlag|=n}function ae(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=xe([e.class,r.class]));else if(i==="style")e.style=tr([e.style,r.style]);else if(qh(i)){const s=e[i],o=r[i];o&&s!==o&&!(Ye(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function ci(t,e,n,r=null){Pi(t,e,7,[n,r])}const $4=bP();let L4=0;function VP(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||$4,s={uid:L4++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new s1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:IP(r,i),emitsOptions:Qk(r,i),emit:null,emitted:null,propsDefaults:nn,inheritAttrs:r.inheritAttrs,ctx:nn,data:nn,props:nn,attrs:nn,slots:nn,refs:nn,setupState:nn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=MF.bind(null,s),t.ce&&t.ce(s),s}let or=null;const qi=()=>or||nr;let um,Xb;{const t=Ek(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};um=e("__VUE_INSTANCE_SETTERS__",n=>or=n),Xb=e("__VUE_SSR_SETTERS__",n=>nf=n)}const ul=t=>{const e=or;return um(t),t.scope.on(),()=>{t.scope.off(),um(e)}},Qb=()=>{or&&or.scope.off(),um(null)};function UP(t){return t.vnode.shapeFlag&4}let nf=!1;function BP(t,e=!1){e&&Xb(e);const{props:n,children:r}=t.vnode,i=UP(t);T4(t,n,i,e),I4(t,r);const s=i?F4(t,e):void 0;return e&&Xb(!1),s}function F4(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Wb);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?HP(t):null,s=ul(t);pa();const o=so(r,t,0,[t.props,i]);if(ma(),s(),r1(o)){if(o.then(Qb,Qb),e)return o.then(a=>{Jb(t,a,e)}).catch(a=>{Pl(a,t,0)});t.asyncDep=o}else Jb(t,o,e)}else jP(t,e)}function Jb(t,e,n){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:on(e)&&(t.setupState=f1(e)),jP(t,n)}let cm,Zb;function V4(t){cm=t,Zb=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,n4))}}const U4=()=>!cm;function jP(t,e,n){const r=t.type;if(!t.render){if(!e&&cm&&!r.render){const i=r.template||I1(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Sn(Sn({isCustomElement:s,delimiters:a},o),l);r.render=cm(i,u)}}t.render=r.render||fi,Zb&&Zb(t)}{const i=ul(t);pa();try{m4(t)}finally{ma(),i()}}}const B4={get(t,e){return wi(t,"get",""),t[e]}};function HP(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,B4),slots:t.slots,emit:t.emit,expose:e}}function Ng(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(f1(Og(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in bd)return bd[n](t)},has(e,n){return n in e||n in bd}}))}function e0(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function j4(t){return ut(t)&&"__vccOpts"in t}const ee=(t,e)=>yF(t,e,nf);function H4(t,e,n=nn){const r=qi(),i=ri(e),s=Ci(e),o=Wk((l,u)=>{let c;return iP(()=>{const d=t[e];ps(c,d)&&(c=d,u())}),{get(){return l(),n.get?n.get(c):c},set(d){const h=r.vnode.props;!(h&&(e in h||i in h||s in h)&&(`onUpdate:${e}`in h||`onUpdate:${i}`in h||`onUpdate:${s}`in h))&&ps(d,c)&&(c=d,u()),r.emit(`update:${e}`,n.set?n.set(d):d)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function cl(t,e,n){const r=arguments.length;return r===2?on(e)&&!Ye(e)?la(e)?M(t,null,[e]):M(t,e):M(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&la(n)&&(n=[n]),M(t,e,n))}function W4(){}function K4(t,e,n,r){const i=n[r];if(i&&WP(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function WP(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(ps(n[r],e[r]))return!1;return ll>0&&pi&&pi.push(t),!0}const KP="3.4.27",z4=fi,G4=PF,Y4=tu,q4=Xk,X4={createComponentInstance:VP,setupComponent:BP,renderComponentRoot:xp,setCurrentRenderingInstance:Jd,isVNode:la,normalizeVNode:Ii},Q4=X4,J4=null,Z4=null,e6=null;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const t6="http://www.w3.org/2000/svg",n6="http://www.w3.org/1998/Math/MathML",Vo=typeof document<"u"?document:null,qS=Vo&&Vo.createElement("template"),r6={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Vo.createElementNS(t6,t):e==="mathml"?Vo.createElementNS(n6,t):Vo.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Vo.createTextNode(t),createComment:t=>Vo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{qS.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=qS.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Oo="transition",Rc="animation",Ku=Symbol("_vtc"),Xi=(t,{slots:e})=>cl(oP,GP(t),e);Xi.displayName="Transition";const zP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},i6=Xi.props=Sn({},S1,zP),Ca=(t,e=[])=>{Ye(t)?t.forEach(n=>n(...e)):t&&t(...e)},XS=t=>t?Ye(t)?t.some(e=>e.length>1):t.length>1:!1;function GP(t){const e={};for(const F in t)F in zP||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=s6(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:T,onBeforeAppear:S=y,onAppear:O=b,onAppearCancelled:R=_}=e,D=(F,H,$)=>{No(F,H?c:a),No(F,H?u:o),$&&$()},C=(F,H)=>{F._isLeaving=!1,No(F,d),No(F,f),No(F,h),H&&H()},N=F=>(H,$)=>{const A=F?O:b,P=()=>D(H,F,$);Ca(A,[H,P]),QS(()=>{No(H,F?l:s),Gs(H,F?c:a),XS(A)||JS(H,r,m,P)})};return Sn(e,{onBeforeEnter(F){Ca(y,[F]),Gs(F,s),Gs(F,o)},onBeforeAppear(F){Ca(S,[F]),Gs(F,l),Gs(F,u)},onEnter:N(!1),onAppear:N(!0),onLeave(F,H){F._isLeaving=!0;const $=()=>C(F,H);Gs(F,d),Gs(F,h),qP(),QS(()=>{F._isLeaving&&(No(F,d),Gs(F,f),XS(w)||JS(F,r,g,$))}),Ca(w,[F,$])},onEnterCancelled(F){D(F,!1),Ca(_,[F])},onAppearCancelled(F){D(F,!0),Ca(R,[F])},onLeaveCancelled(F){C(F),Ca(T,[F])}})}function s6(t){if(t==null)return null;if(on(t))return[ly(t.enter),ly(t.leave)];{const e=ly(t);return[e,e]}}function ly(t){return rm(t)}function Gs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ku]||(t[Ku]=new Set)).add(e)}function No(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ku];n&&(n.delete(e),n.size||(t[Ku]=void 0))}function QS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let o6=0;function JS(t,e,n,r){const i=t._endId=++o6,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=YP(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function YP(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Oo}Delay`),s=r(`${Oo}Duration`),o=ZS(i,s),a=r(`${Rc}Delay`),l=r(`${Rc}Duration`),u=ZS(a,l);let c=null,d=0,h=0;e===Oo?o>0&&(c=Oo,d=o,h=s.length):e===Rc?u>0&&(c=Rc,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Oo:Rc:null,h=c?c===Oo?s.length:l.length:0);const f=c===Oo&&/\b(transform|all)(,|$)/.test(r(`${Oo}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function ZS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>eE(n)+eE(t[r])))}function eE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function qP(){return document.body.offsetHeight}function a6(t,e,n){const r=t[Ku];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const dm=Symbol("_vod"),XP=Symbol("_vsh"),Ds={beforeMount(t,{value:e},{transition:n}){t[dm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Nc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Nc(t,!0),r.enter(t)):r.leave(t,()=>{Nc(t,!1)}):Nc(t,e))},beforeUnmount(t,{value:e}){Nc(t,e)}};function Nc(t,e){t.style.display=e?t[dm]:"none",t[XP]=!e}function l6(){Ds.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const QP=Symbol("");function u6(t){const e=qi();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>n0(s,i))},r=()=>{const i=t(e.proxy);t0(e.subTree,i),n(i)};$t(()=>{rP(r);const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),js(()=>i.disconnect())})}function t0(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{t0(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)n0(t.el,e);else if(t.type===we)t.children.forEach(n=>t0(n,e));else if(t.type===Xa){let{el:n,anchor:r}=t;for(;n&&(n0(n,e),n!==r);)n=n.nextSibling}}function n0(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[QP]=r}}const c6=/(^|;)\s*display\s*:/;function d6(t,e,n){const r=t.style,i=An(n);let s=!1;if(n&&!i){if(e)if(An(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Rp(r,a,"")}else for(const o in e)n[o]==null&&Rp(r,o,"");for(const o in n)o==="display"&&(s=!0),Rp(r,o,n[o])}else if(i){if(e!==n){const o=r[QP];o&&(n+=";"+o),r.cssText=n,s=c6.test(n)}}else e&&t.removeAttribute("style");dm in t&&(t[dm]=s?r.display:"",t[XP]&&(r.display="none"))}const tE=/\s*!important$/;function Rp(t,e,n){if(Ye(n))n.forEach(r=>Rp(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=h6(t,e);tE.test(n)?t.setProperty(Ci(r),n.replace(tE,""),"important"):t[r]=n}}const nE=["Webkit","Moz","ms"],uy={};function h6(t,e){const n=uy[e];if(n)return n;let r=ri(e);if(r!=="filter"&&r in t)return uy[e]=r;r=Xh(r);for(let i=0;i<nE.length;i++){const s=nE[i]+r;if(s in t)return uy[e]=s}return e}const rE="http://www.w3.org/1999/xlink";function f6(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(rE,e.slice(6,e.length)):t.setAttributeNS(rE,e,n);else{const s=G3(e);n==null||s&&!Ik(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function p6(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Ik(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Xs(t,e,n,r){t.addEventListener(e,n,r)}function m6(t,e,n,r){t.removeEventListener(e,n,r)}const iE=Symbol("_vei");function g6(t,e,n,r,i=null){const s=t[iE]||(t[iE]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=v6(e);if(r){const u=s[e]=w6(r,i);Xs(t,a,u,l)}else o&&(m6(t,a,o,l),s[e]=void 0)}}const sE=/(?:Once|Passive|Capture)$/;function v6(t){let e;if(sE.test(t)){e={};let r;for(;r=t.match(sE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ci(t.slice(2)),e]}let cy=0;const y6=Promise.resolve(),b6=()=>cy||(y6.then(()=>cy=0),cy=Date.now());function w6(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Pi(_6(r,n.value),e,5,[r])};return n.value=t,n.attached=b6(),n}function _6(t,e){if(Ye(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const oE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,T6=(t,e,n,r,i,s,o,a,l)=>{const u=i==="svg";e==="class"?a6(t,r,u):e==="style"?d6(t,n,r):qh(e)?t1(e)||g6(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):S6(t,e,r,u))?p6(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),f6(t,e,r,u))};function S6(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&oE(e)&&ut(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return oE(e)&&An(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function JP(t,e){const n=Ce(t);class r extends Mg{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const E6=t=>JP(t,cx),I6=typeof HTMLElement<"u"?HTMLElement:class{};class Mg extends I6{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Yn(()=>{this._connected||(dl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!Ye(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=rm(this._props[l])),(a||(a=Object.create(null)))[ri(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=Ye(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(ri))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const r=ri(e);this._numberProps&&this._numberProps[r]&&(n=rm(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Ci(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ci(e),n+""):n||this.removeAttribute(Ci(e))))}_update(){dl(this._createVNode(),this.shadowRoot)}_createVNode(){const e=M(this._def,Sn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),Ci(s)!==s&&r(Ci(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Mg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function C6(t="$style"){{const e=qi();if(!e)return nn;const n=e.type.__cssModules;if(!n)return nn;const r=n[t];return r||nn}}const ZP=new WeakMap,ex=new WeakMap,hm=Symbol("_moveCb"),aE=Symbol("_enterCb"),tx={name:"TransitionGroup",props:Sn({},i6,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=qi(),r=T1();let i,s;return Rg(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!x6(i[0].el,n.vnode.el,o))return;i.forEach(A6),i.forEach(k6);const a=i.filter(P6);qP(),a.forEach(l=>{const u=l.el,c=u.style;Gs(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[hm]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[hm]=null,No(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=Ct(t),a=GP(o);let l=o.tag||we;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),ol(c,Wu(c,a,r,n)),ZP.set(c,c.el.getBoundingClientRect()))}s=e.default?xg(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&ol(c,Wu(c,a,r,n))}return M(l,null,s)}}},O6=t=>delete t.mode;tx.props;const nx=tx;function A6(t){const e=t.el;e[hm]&&e[hm](),e[aE]&&e[aE]()}function k6(t){ex.set(t,t.el.getBoundingClientRect())}function P6(t){const e=ZP.get(t),n=ex.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function x6(t,e,n){const r=t.cloneNode(),i=t[Ku];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=YP(r);return s.removeChild(r),o}const ua=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ye(e)?n=>Eu(e,n):e};function D6(t){t.target.composing=!0}function lE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Wi=Symbol("_assign"),fm={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Wi]=ua(i);const s=r||i.props&&i.props.type==="number";Xs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=nm(a)),t[Wi](a)}),n&&Xs(t,"change",()=>{t.value=t.value.trim()}),e||(Xs(t,"compositionstart",D6),Xs(t,"compositionend",lE),Xs(t,"change",lE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Wi]=ua(s),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?nm(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},P1={deep:!0,created(t,e,n){t[Wi]=ua(n),Xs(t,"change",()=>{const r=t._modelValue,i=zu(t),s=t.checked,o=t[Wi];if(Ye(r)){const a=wg(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(kl(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(ix(t,s))})},mounted:uE,beforeUpdate(t,e,n){t[Wi]=ua(n),uE(t,e,n)}};function uE(t,{value:e,oldValue:n},r){t._modelValue=e,Ye(e)?t.checked=wg(e,r.props.value)>-1:kl(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=aa(e,ix(t,!0)))}const x1={created(t,{value:e},n){t.checked=aa(e,n.props.value),t[Wi]=ua(n),Xs(t,"change",()=>{t[Wi](zu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Wi]=ua(r),e!==n&&(t.checked=aa(e,r.props.value))}},rx={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=kl(e);Xs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?nm(zu(o)):zu(o));t[Wi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Yn(()=>{t._assigning=!1})}),t[Wi]=ua(r)},mounted(t,{value:e,modifiers:{number:n}}){cE(t,e)},beforeUpdate(t,e,n){t[Wi]=ua(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||cE(t,e)}};function cE(t,e,n){const r=t.multiple,i=Ye(e);if(!(r&&!i&&!kl(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=zu(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=wg(e,l)>-1}else a.selected=e.has(l);else if(aa(zu(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function zu(t){return"_value"in t?t._value:t.value}function ix(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const sx={created(t,e,n){Xf(t,e,n,null,"created")},mounted(t,e,n){Xf(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Xf(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Xf(t,e,n,r,"updated")}};function ox(t,e){switch(t){case"SELECT":return rx;case"TEXTAREA":return fm;default:switch(e){case"checkbox":return P1;case"radio":return x1;default:return fm}}}function Xf(t,e,n,r,i){const o=ox(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function R6(){fm.getSSRProps=({value:t})=>({value:t}),x1.getSSRProps=({value:t},e)=>{if(e.props&&aa(e.props.value,t))return{checked:!0}},P1.getSSRProps=({value:t},e)=>{if(Ye(t)){if(e.props&&wg(t,e.props.value)>-1)return{checked:!0}}else if(kl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},sx.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=ox(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const N6=["ctrl","shift","alt","meta"],M6={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>N6.some(n=>t[`${n}Key`]&&!e.includes(n))},Tt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=M6[e[o]];if(a&&a(i,e))return}return t(i,...s)})},$6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ht=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Ci(i.key);if(e.some(o=>o===s||$6[o]===s))return t(i)})},ax=Sn({patchProp:T6},r6);let Td,dE=!1;function lx(){return Td||(Td=kP(ax))}function ux(){return Td=dE?Td:PP(ax),dE=!0,Td}const dl=(...t)=>{lx().render(...t)},cx=(...t)=>{ux().hydrate(...t)},dx=(...t)=>{const e=lx().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=fx(r);if(!i)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,hx(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},L6=(...t)=>{const e=ux().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=fx(r);if(i)return n(i,!0,hx(i))},e};function hx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function fx(t){return An(t)?document.querySelector(t):t}let hE=!1;const F6=()=>{hE||(hE=!0,R6(),l6())};/**
* vue v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const V6=()=>{},U6=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:oP,BaseTransitionPropsValidators:S1,Comment:xr,DeprecationTypes:e6,EffectScope:s1,ErrorCodes:kF,ErrorTypeStrings:G4,Fragment:we,KeepAlive:ZF,ReactiveEffect:Bu,Static:Xa,Suspense:HF,Teleport:A1,Text:al,TrackOpTypes:CF,Transition:Xi,TransitionGroup:nx,TriggerOpTypes:OF,VueElement:Mg,assertNumber:AF,callWithAsyncErrorHandling:Pi,callWithErrorHandling:so,camelize:ri,capitalize:Xh,cloneVNode:Fs,compatUtils:Z4,compile:V6,computed:ee,createApp:dx,createBlock:re,createCommentVNode:q,createElementBlock:L,createElementVNode:v,createHydrationRenderer:PP,createPropsRestProxy:f4,createRenderer:kP,createSSRApp:L6,createSlots:rr,createStaticVNode:FP,createTextVNode:B,createVNode:M,customRef:Wk,defineAsyncComponent:QF,defineComponent:Ce,defineCustomElement:JP,defineEmits:i4,defineExpose:s4,defineModel:l4,defineOptions:o4,defineProps:r4,defineSSRCustomElement:E6,defineSlots:a4,devtools:Y4,effect:X3,effectScope:_g,getCurrentInstance:qi,getCurrentScope:Qh,getTransitionRawChildren:xg,guardReactiveProps:lr,h:cl,handleError:Pl,hasInjectionContext:wP,hydrate:cx,initCustomFormatter:W4,initDirectivesForSSR:F6,inject:ii,isMemoSame:WP,isProxy:c1,isReactive:io,isReadonly:ju,isRef:dn,isRuntimeOnly:U4,isShallow:Yd,isVNode:la,markRaw:Og,mergeDefaults:d4,mergeModels:h4,mergeProps:ae,nextTick:Yn,normalizeClass:xe,normalizeProps:Rn,normalizeStyle:tr,onActivated:lP,onBeforeMount:dP,onBeforeUnmount:tf,onBeforeUpdate:E1,onDeactivated:uP,onErrorCaptured:mP,onMounted:$t,onRenderTracked:pP,onRenderTriggered:fP,onScopeDispose:Tg,onServerPrefetch:hP,onUnmounted:js,onUpdated:Rg,openBlock:E,popScopeId:g1,provide:ku,proxyRefs:f1,pushScopeId:m1,queuePostFlushCb:sm,reactive:Nn,readonly:Ig,ref:se,registerRuntimeCompiler:V4,render:dl,renderList:nt,renderSlot:fe,resolveComponent:wn,resolveDirective:Jh,resolveDynamicComponent:yn,resolveFilter:J4,resolveTransitionHooks:Wu,setBlockTracking:qb,setDevtoolsHook:q4,setTransitionHooks:ol,shallowReactive:u1,shallowReadonly:vF,shallowRef:jk,ssrContextKey:tP,ssrUtils:Q4,stop:Q3,toDisplayString:Be,toHandlerKey:yd,toHandlers:t4,toRaw:Ct,toRef:Hu,toRefs:Kk,toValue:_F,transformVNodeArgs:N4,triggerRef:wF,unref:I,useAttrs:c4,useCssModule:C6,useCssVars:u6,useModel:H4,useSSRContext:nP,useSlots:ga,useTransitionState:T1,vModelCheckbox:P1,vModelDynamic:sx,vModelRadio:x1,vModelSelect:rx,vModelText:fm,vShow:Ds,version:KP,warn:z4,watch:Ot,watchEffect:_1,watchPostEffect:rP,watchSyncEffect:iP,withAsyncContext:p4,withCtx:Y,withDefaults:u4,withDirectives:vi,withKeys:ht,withMemo:K4,withModifiers:Tt,withScopeId:$F},Symbol.toStringTag,{value:"Module"}));function B6(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const pm=B6();let fE=0;const j6=()=>{const t=fE;return fE+=1,t},px=()=>(t,e)=>{const n={...t,id:j6(),group:t.group||""};return pm.emit("notify",{notification:n,timeout:e}),()=>pm.emit("close",n.id)},mx="context",r0=Ce({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=ii(mx),i=Nn({notifications:[],timeouts:{}}),s=ee(()=>i.notifications.filter(h=>h.group===r.group)),o=ee(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(h,f)=>{i.timeouts[h]=window.setTimeout(()=>{f!==-1&&l(h)},Math.max(f||3e3,0))},l=h=>{i.notifications.splice(i.notifications.findIndex(f=>f.id===h),1),clearTimeout(i.timeouts[h])},u=({notification:h,timeout:f})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(h),a(h.id,f))},c=h=>{e("close"),l(h)},d=(h,f,p)=>{f?clearTimeout(i.timeouts[h]):a(h,p)};return $t(()=>{pm.on("notify",u),pm.on("close",l)}),(h,f)=>(E(),re(nx,{"enter-active-class":I(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Y(()=>[fe(h.$slots,"default",{notifications:I(o),close:c,hovering:d})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),pE=Ce({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return ku(mx,{group:e.group,position:e.position}),(n,r)=>fe(n.$slots,"default",{group:t.group})}});function H6(t){t.config.globalProperties.$notify=px(),t.component("Notification",r0),t.component("NotificationGroup",pE),t.component("notification",r0),t.component("notificationGroup",pE)}const W6={install:H6},K6=px(),z6={class:"px-4 py-2 -mx-3"},G6={class:"mx-3"},Y6={class:"font-semibold text-white"},q6={class:"text-sm text-gray-100"},dy=Ce({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(E(),re(I(r0),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Y(({notifications:r})=>[(E(!0),L(we,null,nt(r,i=>(E(),L("div",{key:i.id},[i.type===e.type?(E(),L("div",{key:0,class:xe("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[v("div",z6,[v("div",G6,[v("span",Y6,Be(i.title),1),v("p",q6,Be(i.text),1)])])],2)):q("",!0)]))),128))]),_:1}))}}),X6={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},Q6={class:"w-full max-w-sm"},J6=Ce({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=wn("NotificationGroup",!0);return E(),re(r,null,{default:Y(()=>[v("div",X6,[v("div",Q6,[M(dy,{type:"error",color:"bg-red-800"}),M(dy,{type:"warning",color:"bg-yellow-800"}),M(dy,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const nu=typeof document<"u";function Z6(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const tn=Object.assign;function hy(t,e){const n={};for(const r in e){const i=e[r];n[r]=ms(i)?i.map(t):t(i)}return n}const Sd=()=>{},ms=Array.isArray,gx=/#/g,eV=/&/g,tV=/\//g,nV=/=/g,rV=/\?/g,vx=/\+/g,iV=/%5B/g,sV=/%5D/g,yx=/%5E/g,oV=/%60/g,bx=/%7B/g,aV=/%7C/g,wx=/%7D/g,lV=/%20/g;function D1(t){return encodeURI(""+t).replace(aV,"|").replace(iV,"[").replace(sV,"]")}function uV(t){return D1(t).replace(bx,"{").replace(wx,"}").replace(yx,"^")}function i0(t){return D1(t).replace(vx,"%2B").replace(lV,"+").replace(gx,"%23").replace(eV,"%26").replace(oV,"`").replace(bx,"{").replace(wx,"}").replace(yx,"^")}function cV(t){return i0(t).replace(nV,"%3D")}function dV(t){return D1(t).replace(gx,"%23").replace(rV,"%3F")}function hV(t){return t==null?"":dV(t).replace(tV,"%2F")}function th(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const fV=/\/$/,pV=t=>t.replace(fV,"");function fy(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=yV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:th(o)}}function mV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function mE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Gu(e.matched[r],n.matched[i])&&_x(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Gu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _x(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!vV(t[n],e[n]))return!1;return!0}function vV(t,e){return ms(t)?gE(t,e):ms(e)?gE(e,t):t===e}function gE(t,e){return ms(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function yV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var nh;(function(t){t.pop="pop",t.push="push"})(nh||(nh={}));var Ed;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ed||(Ed={}));function bV(t){if(!t)if(nu){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pV(t)}const wV=/^[^#]+#/;function _V(t,e){return t.replace(wV,"#")+e}function TV(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const $g=()=>({left:window.scrollX,top:window.scrollY});function SV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=TV(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function vE(t,e){return(history.state?history.state.position-e:-1)+t}const s0=new Map;function EV(t,e){s0.set(t,e)}function IV(t){const e=s0.get(t);return s0.delete(t),e}let CV=()=>location.protocol+"//"+location.host;function Tx(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),mE(l,"")}return mE(n,t)+r+i}function OV(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=Tx(t,location),p=n.value,m=e.value;let g=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}g=m?h.position-m.position:0}else r(f);i.forEach(y=>{y(n.value,p,{delta:g,type:nh.pop,direction:g?g>0?Ed.forward:Ed.back:Ed.unknown})})};function l(){o=n.value}function u(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(tn({},h.state,{scroll:$g()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function yE(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?$g():null}}function AV(t){const{history:e,location:n}=window,r={value:Tx(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:CV()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function o(l,u){const c=tn({},e.state,yE(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=tn({},i.value,e.state,{forward:l,scroll:$g()});s(c.current,c,!0);const d=tn({},yE(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function kV(t){t=bV(t);const e=AV(t),n=OV(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=tn({location:"",base:t,go:r,createHref:_V.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function PV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),kV(t)}function xV(t){return typeof t=="string"||t&&typeof t=="object"}function Sx(t){return typeof t=="string"||typeof t=="symbol"}const Ao={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ex=Symbol("");var bE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bE||(bE={}));function Yu(t,e){return tn(new Error,{type:t,[Ex]:!0},e)}function zs(t,e){return t instanceof Error&&Ex in t&&(e==null||!!(t.type&e))}const wE="[^/]+?",DV={sensitive:!1,strict:!1,start:!0,end:!0},RV=/[.+*?^${}()[\]/\\]/g;function NV(t,e){const n=tn({},DV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(RV,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:g,regexp:y}=h;s.push({name:p,repeatable:m,optional:g});const b=y||wE;if(b!==wE){f+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+w.message)}}let _=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),i+=_,f+=20,g&&(f+=-8),m&&(f+=-20),b===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:g}=f,y=p in u?u[p]:"";if(ms(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=ms(y)?y.join("/"):y;if(!b)if(g)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function MV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function $V(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=MV(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(_E(r))return 1;if(_E(i))return-1}return i.length-r.length}function _E(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const LV={type:0,value:""},FV=/[a-zA-Z0-9_]/;function VV(t){if(!t)return[[]];if(t==="/")return[[LV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:FV.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function UV(t,e,n){const r=NV(VV(t.path),n),i=tn(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function BV(t,e){const n=[],r=new Map;e=EE({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,h){const f=!h,p=jV(c);p.aliasOf=h&&h.record;const m=EE(e,c),g=[p];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const w of _)g.push(tn({},p,{components:h?h.record.components:p.components,path:w,aliasOf:h?h.record:p}))}let y,b;for(const _ of g){const{path:w}=_;if(d&&w[0]!=="/"){const T=d.record.path,S=T[T.length-1]==="/"?"":"/";_.path=d.record.path+(w&&S+w)}if(y=UV(_,d,m),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),f&&c.name&&!SE(y)&&o(c.name)),p.children){const T=p.children;for(let S=0;S<T.length;S++)s(T[S],y,h&&h.children[S])}h=h||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return b?()=>{o(b)}:Sd}function o(c){if(Sx(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&$V(c,n[d])>=0&&(c.record.path!==n[d].record.path||!Ix(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!SE(c)&&r.set(c.record.name,c)}function u(c,d){let h,f={},p,m;if("name"in c&&c.name){if(h=r.get(c.name),!h)throw Yu(1,{location:c});m=h.record.name,f=tn(TE(d.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),c.params&&TE(c.params,h.keys.map(b=>b.name))),p=h.stringify(f)}else if(c.path!=null)p=c.path,h=n.find(b=>b.re.test(p)),h&&(f=h.parse(p),m=h.record.name);else{if(h=d.name?r.get(d.name):n.find(b=>b.re.test(d.path)),!h)throw Yu(1,{location:c,currentLocation:d});m=h.record.name,f=tn({},d.params,c.params),p=h.stringify(f)}const g=[];let y=h;for(;y;)g.unshift(y.record),y=y.parent;return{name:m,path:p,params:f,matched:g,meta:WV(g)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function TE(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function jV(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:HV(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function HV(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function SE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function WV(t){return t.reduce((e,n)=>tn(e,n.meta),{})}function EE(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Ix(t,e){return e.children.some(n=>n===t||Ix(t,n))}function KV(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(vx," "),o=s.indexOf("="),a=th(o<0?s:s.slice(0,o)),l=o<0?null:th(s.slice(o+1));if(a in e){let u=e[a];ms(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function IE(t){let e="";for(let n in t){const r=t[n];if(n=cV(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ms(r)?r.map(s=>s&&i0(s)):[r&&i0(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function zV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ms(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const GV=Symbol(""),CE=Symbol(""),Lg=Symbol(""),R1=Symbol(""),o0=Symbol("");function Mc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Uo(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Yu(4,{from:n,to:e})):h instanceof Error?l(h):xV(h)?l(Yu(2,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function py(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(YV(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Uo(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=Z6(c)?c.default:c;o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Uo(f,n,r,o,a,i)()}))}}return s}function YV(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function OE(t){const e=ii(Lg),n=ii(R1),r=ee(()=>{const l=I(t.to);return e.resolve(l)}),i=ee(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(Gu.bind(null,c));if(h>-1)return h;const f=AE(l[u-2]);return u>1&&AE(c)===f&&d[d.length-1].path!==f?d.findIndex(Gu.bind(null,l[u-2])):h}),s=ee(()=>i.value>-1&&JV(n.params,r.value.params)),o=ee(()=>i.value>-1&&i.value===n.matched.length-1&&_x(n.params,r.value.params));function a(l={}){return QV(l)?e[I(t.replace)?"replace":"push"](I(t.to)).catch(Sd):Promise.resolve()}return{route:r,href:ee(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const qV=Ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:OE,setup(t,{slots:e}){const n=Nn(OE(t)),{options:r}=ii(Lg),i=ee(()=>({[kE(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[kE(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:cl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),XV=qV;function QV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function JV(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ms(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function AE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const kE=(t,e,n)=>t??e??n,ZV=Ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ii(o0),i=ee(()=>t.route||r.value),s=ii(CE,0),o=ee(()=>{let u=I(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ee(()=>i.value.matched[o.value]);ku(CE,ee(()=>o.value+1)),ku(GV,a),ku(o0,i);const l=se();return Ot(()=>[l.value,a.value,t.name],([u,c,d],[h,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Gu(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return PE(n.default,{Component:h,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,g=cl(h,tn({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return PE(n.default,{Component:g,route:u})||g}}});function PE(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Cx=ZV;function eU(t){const e=BV(t.routes,t),n=t.parseQuery||KV,r=t.stringifyQuery||IE,i=t.history,s=Mc(),o=Mc(),a=Mc(),l=jk(Ao);let u=Ao;nu&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=hy.bind(null,Q=>""+Q),d=hy.bind(null,hV),h=hy.bind(null,th);function f(Q,ue){let Z,pe;return Sx(Q)?(Z=e.getRecordMatcher(Q),pe=ue):pe=Q,e.addRoute(pe,Z)}function p(Q){const ue=e.getRecordMatcher(Q);ue&&e.removeRoute(ue)}function m(){return e.getRoutes().map(Q=>Q.record)}function g(Q){return!!e.getRecordMatcher(Q)}function y(Q,ue){if(ue=tn({},ue||l.value),typeof Q=="string"){const V=fy(n,Q,ue.path),z=e.resolve({path:V.path},ue),ce=i.createHref(V.fullPath);return tn(V,z,{params:h(z.params),hash:th(V.hash),redirectedFrom:void 0,href:ce})}let Z;if(Q.path!=null)Z=tn({},Q,{path:fy(n,Q.path,ue.path).path});else{const V=tn({},Q.params);for(const z in V)V[z]==null&&delete V[z];Z=tn({},Q,{params:d(V)}),ue.params=d(ue.params)}const pe=e.resolve(Z,ue),_e=Q.hash||"";pe.params=c(h(pe.params));const le=mV(r,tn({},Q,{hash:uV(_e),path:pe.path})),x=i.createHref(le);return tn({fullPath:le,hash:_e,query:r===IE?zV(Q.query):Q.query||{}},pe,{redirectedFrom:void 0,href:x})}function b(Q){return typeof Q=="string"?fy(n,Q,l.value.path):tn({},Q)}function _(Q,ue){if(u!==Q)return Yu(8,{from:ue,to:Q})}function w(Q){return O(Q)}function T(Q){return w(tn(b(Q),{replace:!0}))}function S(Q){const ue=Q.matched[Q.matched.length-1];if(ue&&ue.redirect){const{redirect:Z}=ue;let pe=typeof Z=="function"?Z(Q):Z;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=b(pe):{path:pe},pe.params={}),tn({query:Q.query,hash:Q.hash,params:pe.path!=null?{}:Q.params},pe)}}function O(Q,ue){const Z=u=y(Q),pe=l.value,_e=Q.state,le=Q.force,x=Q.replace===!0,V=S(Z);if(V)return O(tn(b(V),{state:typeof V=="object"?tn({},_e,V.state):_e,force:le,replace:x}),ue||Z);const z=Z;z.redirectedFrom=ue;let ce;return!le&&gV(r,pe,Z)&&(ce=Yu(16,{to:z,from:pe}),ne(pe,pe,!0,!1)),(ce?Promise.resolve(ce):C(z,pe)).catch(de=>zs(de)?zs(de,2)?de:k(de):X(de,z,pe)).then(de=>{if(de){if(zs(de,2))return O(tn({replace:x},b(de.to),{state:typeof de.to=="object"?tn({},_e,de.to.state):_e,force:le}),ue||z)}else de=F(z,pe,!0,x,_e);return N(z,pe,de),de})}function R(Q,ue){const Z=_(Q,ue);return Z?Promise.reject(Z):Promise.resolve()}function D(Q){const ue=ye.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(Q):Q()}function C(Q,ue){let Z;const[pe,_e,le]=tU(Q,ue);Z=py(pe.reverse(),"beforeRouteLeave",Q,ue);for(const V of pe)V.leaveGuards.forEach(z=>{Z.push(Uo(z,Q,ue))});const x=R.bind(null,Q,ue);return Z.push(x),K(Z).then(()=>{Z=[];for(const V of s.list())Z.push(Uo(V,Q,ue));return Z.push(x),K(Z)}).then(()=>{Z=py(_e,"beforeRouteUpdate",Q,ue);for(const V of _e)V.updateGuards.forEach(z=>{Z.push(Uo(z,Q,ue))});return Z.push(x),K(Z)}).then(()=>{Z=[];for(const V of le)if(V.beforeEnter)if(ms(V.beforeEnter))for(const z of V.beforeEnter)Z.push(Uo(z,Q,ue));else Z.push(Uo(V.beforeEnter,Q,ue));return Z.push(x),K(Z)}).then(()=>(Q.matched.forEach(V=>V.enterCallbacks={}),Z=py(le,"beforeRouteEnter",Q,ue,D),Z.push(x),K(Z))).then(()=>{Z=[];for(const V of o.list())Z.push(Uo(V,Q,ue));return Z.push(x),K(Z)}).catch(V=>zs(V,8)?V:Promise.reject(V))}function N(Q,ue,Z){a.list().forEach(pe=>D(()=>pe(Q,ue,Z)))}function F(Q,ue,Z,pe,_e){const le=_(Q,ue);if(le)return le;const x=ue===Ao,V=nu?history.state:{};Z&&(pe||x?i.replace(Q.fullPath,tn({scroll:x&&V&&V.scroll},_e)):i.push(Q.fullPath,_e)),l.value=Q,ne(Q,ue,Z,x),k()}let H;function $(){H||(H=i.listen((Q,ue,Z)=>{if(!oe.listening)return;const pe=y(Q),_e=S(pe);if(_e){O(tn(_e,{replace:!0}),pe).catch(Sd);return}u=pe;const le=l.value;nu&&EV(vE(le.fullPath,Z.delta),$g()),C(pe,le).catch(x=>zs(x,12)?x:zs(x,2)?(O(x.to,pe).then(V=>{zs(V,20)&&!Z.delta&&Z.type===nh.pop&&i.go(-1,!1)}).catch(Sd),Promise.reject()):(Z.delta&&i.go(-Z.delta,!1),X(x,pe,le))).then(x=>{x=x||F(pe,le,!1),x&&(Z.delta&&!zs(x,8)?i.go(-Z.delta,!1):Z.type===nh.pop&&zs(x,20)&&i.go(-1,!1)),N(pe,le,x)}).catch(Sd)}))}let A=Mc(),P=Mc(),W;function X(Q,ue,Z){k(Q);const pe=P.list();return pe.length?pe.forEach(_e=>_e(Q,ue,Z)):console.error(Q),Promise.reject(Q)}function U(){return W&&l.value!==Ao?Promise.resolve():new Promise((Q,ue)=>{A.add([Q,ue])})}function k(Q){return W||(W=!Q,$(),A.list().forEach(([ue,Z])=>Q?Z(Q):ue()),A.reset()),Q}function ne(Q,ue,Z,pe){const{scrollBehavior:_e}=t;if(!nu||!_e)return Promise.resolve();const le=!Z&&IV(vE(Q.fullPath,0))||(pe||!Z)&&history.state&&history.state.scroll||null;return Yn().then(()=>_e(Q,ue,le)).then(x=>x&&SV(x)).catch(x=>X(x,Q,ue))}const ie=Q=>i.go(Q);let ve;const ye=new Set,oe={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:g,getRoutes:m,resolve:y,options:t,push:w,replace:T,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:P.add,isReady:U,install(Q){const ue=this;Q.component("RouterLink",XV),Q.component("RouterView",Cx),Q.config.globalProperties.$router=ue,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>I(l)}),nu&&!ve&&l.value===Ao&&(ve=!0,w(i.location).catch(_e=>{}));const Z={};for(const _e in Ao)Object.defineProperty(Z,_e,{get:()=>l.value[_e],enumerable:!0});Q.provide(Lg,ue),Q.provide(R1,u1(Z)),Q.provide(o0,l);const pe=Q.unmount;ye.add(Q),Q.unmount=function(){ye.delete(Q),ye.size<1&&(u=Ao,H&&H(),H=null,l.value=Ao,ve=!1,W=!1),pe()}}};function K(Q){return Q.reduce((ue,Z)=>ue.then(()=>D(Z)),Promise.resolve())}return oe}function tU(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Gu(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Gu(u,l))||i.push(l))}return[n,r,i]}function N1(){return ii(Lg)}function Fg(){return ii(R1)}const nU=Ce({__name:"App",setup(t){return(e,n)=>(E(),L(we,null,[M(I(Cx)),M(J6)],64))}});var xE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=function(t,e){if(!t)throw bc(e)},bc=function(t){return new Error("Firebase Database ("+Ox.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ax(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new iU;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kx=function(t){const e=Ax(t);return Vg.encodeByteArray(e,!0)},mm=function(t){return kx(t).replace(/\./g,"")},gm=function(t){try{return Vg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){return Px(void 0,t)}function Px(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oU(n)||(t[n]=Px(t[n],e[n]));return t}function oU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=()=>xx().__FIREBASE_DEFAULTS__,lU=()=>{if(typeof process>"u"||typeof xE>"u")return;const t=xE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gm(t[1]);return e&&JSON.parse(e)},Ug=()=>{try{return aU()||lU()||uU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dx=t=>{var e,n;return(n=(e=Ug())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rx=t=>{const e=Dx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nx=()=>{var t;return(t=Ug())===null||t===void 0?void 0:t.config},Mx=t=>{var e;return(e=Ug())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mm(JSON.stringify(n)),mm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function cU(){var t;const e=(t=Ug())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dU(){const t=qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vx(){return Ox.NODE_ADMIN===!0}function Bg(){try{return typeof indexedDB=="object"}catch{return!1}}function Ux(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function hU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fU,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,va.prototype.create)}}class va{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $i(i,a,r)}}function pU(t,e){return t.replace(mU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return JSON.parse(t)}function kr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=rh(gm(s[0])||""),n=rh(gm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},gU=function(t){const e=Bx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vU=function(t){const e=Bx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function a0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ih(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(DE(s)&&DE(o)){if(!ih(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function bU(t,e){const n=new wU(t,e);return n.subscribe.bind(n)}class wU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_U(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=my),i.error===void 0&&(i.error=my),i.complete===void 0&&(i.complete=my);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _U(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function my(){}function TU(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ve(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=1e3,CU=2,OU=4*60*60*1e3,AU=.5;function l0(t,e=IU,n=CU){const r=e*Math.pow(n,t),i=Math.round(AU*r*(Math.random()-.5)*2);return Math.min(OU,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xU(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PU(t){return t===Pa?void 0:t}function xU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const RU={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},NU=jt.INFO,MU={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},$U=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _c{constructor(e){this.name=e,this._logLevel=NU,this._logHandler=$U,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const LU=(t,e)=>e.some(n=>t instanceof n);let RE,NE;function FU(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VU(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jx=new WeakMap,u0=new WeakMap,Hx=new WeakMap,gy=new WeakMap,$1=new WeakMap;function UU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jx.set(n,t)}).catch(()=>{}),$1.set(e,t),e}function BU(t){if(u0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});u0.set(t,e)}let c0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jU(t){c0=t(c0)}function HU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vy(this),e,...n);return Hx.set(r,e.sort?e.sort():[e]),Jo(r)}:VU().includes(t)?function(...e){return t.apply(vy(this),e),Jo(jx.get(this))}:function(...e){return Jo(t.apply(vy(this),e))}}function WU(t){return typeof t=="function"?HU(t):(t instanceof IDBTransaction&&BU(t),LU(t,FU())?new Proxy(t,c0):t)}function Jo(t){if(t instanceof IDBRequest)return UU(t);if(gy.has(t))return gy.get(t);const e=WU(t);return e!==t&&(gy.set(t,e),$1.set(e,t)),e}const vy=t=>$1.get(t);function KU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Jo(o.result),l.oldVersion,l.newVersion,Jo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zU=["get","getKey","getAll","getAllKeys","count"],GU=["put","add","delete","clear"],yy=new Map;function ME(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return yy.set(e,s),s}jU(t=>({...t,get:(e,n,r)=>ME(e,n)||t.get(e,n,r),has:(e,n)=>!!ME(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d0="@firebase/app",$E="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new _c("@firebase/app"),XU="@firebase/app-compat",QU="@firebase/analytics-compat",JU="@firebase/analytics",ZU="@firebase/app-check-compat",e5="@firebase/app-check",t5="@firebase/auth",n5="@firebase/auth-compat",r5="@firebase/database",i5="@firebase/database-compat",s5="@firebase/functions",o5="@firebase/functions-compat",a5="@firebase/installations",l5="@firebase/installations-compat",u5="@firebase/messaging",c5="@firebase/messaging-compat",d5="@firebase/performance",h5="@firebase/performance-compat",f5="@firebase/remote-config",p5="@firebase/remote-config-compat",m5="@firebase/storage",g5="@firebase/storage-compat",v5="@firebase/firestore",y5="@firebase/firestore-compat",b5="firebase",w5="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="[DEFAULT]",_5={[d0]:"fire-core",[XU]:"fire-core-compat",[JU]:"fire-analytics",[QU]:"fire-analytics-compat",[e5]:"fire-app-check",[ZU]:"fire-app-check-compat",[t5]:"fire-auth",[n5]:"fire-auth-compat",[r5]:"fire-rtdb",[i5]:"fire-rtdb-compat",[s5]:"fire-fn",[o5]:"fire-fn-compat",[a5]:"fire-iid",[l5]:"fire-iid-compat",[u5]:"fire-fcm",[c5]:"fire-fcm-compat",[d5]:"fire-perf",[h5]:"fire-perf-compat",[f5]:"fire-rc",[p5]:"fire-rc-compat",[m5]:"fire-gcs",[g5]:"fire-gcs-compat",[v5]:"fire-fst",[y5]:"fire-fst-compat","fire-js":"fire-js",[b5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Map,f0=new Map;function T5(t,e){try{t.container.addComponent(e)}catch(n){fl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _i(t){const e=t.name;if(f0.has(e))return fl.debug(`There were multiple attempts to register component ${e}.`),!1;f0.set(e,t);for(const n of ym.values())T5(n,t);return!0}function Hs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zo=new va("app","Firebase",S5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=w5;function Wx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:h0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(n||(n=Nx()),!n)throw Zo.create("no-options");const s=ym.get(i);if(s){if(ih(n,s.options)&&ih(r,s.config))return s;throw Zo.create("duplicate-app",{appName:i})}const o=new DU(i);for(const l of f0.values())o.addComponent(l);const a=new E5(n,r,o);return ym.set(i,a),a}function Tc(t=h0){const e=ym.get(t);if(!e&&t===h0&&Nx())return Wx();if(!e)throw Zo.create("no-app",{appName:t});return e}function Dr(t,e,n){var r;let i=(r=_5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fl.warn(a.join(" "));return}_i(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="firebase-heartbeat-database",C5=1,sh="firebase-heartbeat-store";let by=null;function Kx(){return by||(by=KU(I5,C5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sh)}}}).catch(t=>{throw Zo.create("idb-open",{originalErrorMessage:t.message})})),by}async function O5(t){try{return await(await Kx()).transaction(sh).objectStore(sh).get(zx(t))}catch(e){if(e instanceof $i)fl.warn(e.message);else{const n=Zo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fl.warn(n.message)}}}async function LE(t,e){try{const r=(await Kx()).transaction(sh,"readwrite");await r.objectStore(sh).put(e,zx(t)),await r.done}catch(n){if(n instanceof $i)fl.warn(n.message);else{const r=Zo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fl.warn(r.message)}}}function zx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1024,k5=30*24*60*60*1e3;class P5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=FE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=k5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FE(),{heartbeatsToSend:n,unsentEntries:r}=x5(this._heartbeatsCache.heartbeats),i=mm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function FE(){return new Date().toISOString().substring(0,10)}function x5(t,e=A5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bg()?Ux().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await O5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function VE(t){return mm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){_i(new si("platform-logger",e=>new YU(e),"PRIVATE")),_i(new si("heartbeat",e=>new P5(e),"PRIVATE")),Dr(d0,$E,t),Dr(d0,$E,"esm2017"),Dr("fire-js","")}R5("");const N5=(t,e)=>e.some(n=>t instanceof n);let UE,BE;function M5(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $5(){return BE||(BE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gx=new WeakMap,p0=new WeakMap,Yx=new WeakMap,wy=new WeakMap,L1=new WeakMap;function L5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ea(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Gx.set(n,t)}).catch(()=>{}),L1.set(e,t),e}function F5(t){if(p0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});p0.set(t,e)}let m0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V5(t){m0=t(m0)}function U5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_y(this),e,...n);return Yx.set(r,e.sort?e.sort():[e]),ea(r)}:$5().includes(t)?function(...e){return t.apply(_y(this),e),ea(Gx.get(this))}:function(...e){return ea(t.apply(_y(this),e))}}function B5(t){return typeof t=="function"?U5(t):(t instanceof IDBTransaction&&F5(t),N5(t,M5())?new Proxy(t,m0):t)}function ea(t){if(t instanceof IDBRequest)return L5(t);if(wy.has(t))return wy.get(t);const e=B5(t);return e!==t&&(wy.set(t,e),L1.set(e,t)),e}const _y=t=>L1.get(t);function j5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ea(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ea(o.result),l.oldVersion,l.newVersion,ea(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const H5=["get","getKey","getAll","getAllKeys","count"],W5=["put","add","delete","clear"],Ty=new Map;function jE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=W5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ty.set(e,s),s}V5(t=>({...t,get:(e,n,r)=>jE(e,n)||t.get(e,n,r),has:(e,n)=>!!jE(e,n)||t.has(e,n)}));const qx="@firebase/installations",F1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=1e4,Qx=`w:${F1}`,Jx="FIS_v2",K5="https://firebaseinstallations.googleapis.com/v1",z5=60*60*1e3,G5="installations",Y5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pl=new va(G5,Y5,q5);function Zx(t){return t instanceof $i&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD({projectId:t}){return`${K5}/projects/${t}/installations`}function tD(t){return{token:t.token,requestStatus:2,expiresIn:Q5(t.expiresIn),creationTime:Date.now()}}async function nD(t,e){const r=(await e.json()).error;return pl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function rD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function X5(t,{refreshToken:e}){const n=rD(t);return n.append("Authorization",J5(e)),n}async function iD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Q5(t){return Number(t.replace("s","000"))}function J5(t){return`${Jx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=eD(t),i=rD(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Jx,appId:t.appId,sdkVersion:Qx},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await iD(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:tD(u.authToken)}}else throw await nD("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=/^[cdef][\w-]{21}$/,g0="";function n9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=r9(t);return t9.test(n)?n:g0}catch{return g0}}function r9(t){return e9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Map;function aD(t,e){const n=Hg(t);lD(n,e),i9(n,e)}function lD(t,e){const n=oD.get(t);if(n)for(const r of n)r(e)}function i9(t,e){const n=s9();n&&n.postMessage({key:t,fid:e}),o9()}let Ba=null;function s9(){return!Ba&&"BroadcastChannel"in self&&(Ba=new BroadcastChannel("[Firebase] FID Change"),Ba.onmessage=t=>{lD(t.data.key,t.data.fid)}),Ba}function o9(){oD.size===0&&Ba&&(Ba.close(),Ba=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="firebase-installations-database",l9=1,ml="firebase-installations-store";let Sy=null;function V1(){return Sy||(Sy=j5(a9,l9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ml)}}})),Sy}async function bm(t,e){const n=Hg(t),i=(await V1()).transaction(ml,"readwrite"),s=i.objectStore(ml),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&aD(t,e.fid),e}async function uD(t){const e=Hg(t),r=(await V1()).transaction(ml,"readwrite");await r.objectStore(ml).delete(e),await r.done}async function Wg(t,e){const n=Hg(t),i=(await V1()).transaction(ml,"readwrite"),s=i.objectStore(ml),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&aD(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(t){let e;const n=await Wg(t.appConfig,r=>{const i=u9(r),s=c9(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===g0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function u9(t){const e=t||{fid:n9(),registrationStatus:0};return cD(e)}function c9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(pl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=d9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:h9(t)}:{installationEntry:e}}async function d9(t,e){try{const n=await Z5(t,e);return bm(t.appConfig,n)}catch(n){throw Zx(n)&&n.customData.serverCode===409?await uD(t.appConfig):await bm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function h9(t){let e=await HE(t.appConfig);for(;e.registrationStatus===1;)await sD(100),e=await HE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await U1(t);return r||n}return e}function HE(t){return Wg(t,e=>{if(!e)throw pl.create("installation-not-found");return cD(e)})}function cD(t){return f9(t)?{fid:t.fid,registrationStatus:0}:t}function f9(t){return t.registrationStatus===1&&t.registrationTime+Xx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9({appConfig:t,heartbeatServiceProvider:e},n){const r=m9(t,n),i=X5(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Qx,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await iD(()=>fetch(r,a));if(l.ok){const u=await l.json();return tD(u)}else throw await nD("Generate Auth Token",l)}function m9(t,{fid:e}){return`${eD(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(t,e=!1){let n;const r=await Wg(t.appConfig,s=>{if(!dD(s))throw pl.create("not-registered");const o=s.authToken;if(!e&&y9(o))return s;if(o.requestStatus===1)return n=g9(t,e),s;{if(!navigator.onLine)throw pl.create("app-offline");const a=w9(s);return n=v9(t,a),a}});return n?await n:r.authToken}async function g9(t,e){let n=await WE(t.appConfig);for(;n.authToken.requestStatus===1;)await sD(100),n=await WE(t.appConfig);const r=n.authToken;return r.requestStatus===0?B1(t,e):r}function WE(t){return Wg(t,e=>{if(!dD(e))throw pl.create("not-registered");const n=e.authToken;return _9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function v9(t,e){try{const n=await p9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await bm(t.appConfig,r),n}catch(n){if(Zx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uD(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bm(t.appConfig,r)}throw n}}function dD(t){return t!==void 0&&t.registrationStatus===2}function y9(t){return t.requestStatus===2&&!b9(t)}function b9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+z5}function w9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _9(t){return t.requestStatus===1&&t.requestTime+Xx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t){const e=t,{installationEntry:n,registrationPromise:r}=await U1(e);return r?r.catch(console.error):B1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e=!1){const n=t;return await E9(n),(await B1(n,e)).token}async function E9(t){const{registrationPromise:e}=await U1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){if(!t||!t.options)throw Ey("App Configuration");if(!t.name)throw Ey("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ey(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ey(t){return pl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="installations",C9="installations-internal",O9=t=>{const e=t.getProvider("app").getImmediate(),n=I9(e),r=Hs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},A9=t=>{const e=t.getProvider("app").getImmediate(),n=Hs(e,hD).getImmediate();return{getId:()=>T9(n),getToken:i=>S9(n,i)}};function k9(){_i(new si(hD,O9,"PUBLIC")),_i(new si(C9,A9,"PRIVATE"))}k9();Dr(qx,F1);Dr(qx,F1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="analytics",P9="firebase_id",x9="origin",D9=60*1e3,R9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",j1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new _c("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xi=new va("analytics","Analytics",N9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){if(!t.startsWith(j1)){const e=xi.create("invalid-gtag-resource",{gtagURL:t});return yi.warn(e.message),""}return t}function fD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function L9(t,e){const n=$9("firebase-js-sdk-policy",{createScriptURL:M9}),r=document.createElement("script"),i=`${j1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function F9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function V9(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await fD(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){yi.error(a)}t("config",i,s)}async function U9(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await fD(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){yi.error(s)}}function B9(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await U9(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await V9(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){yi.error(a)}}return i}function j9(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=B9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function H9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(j1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=30,K9=1e3;class z9{constructor(e={},n=K9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pD=new z9;function G9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Y9(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:G9(r)},s=R9.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function q9(t,e=pD,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new J9;return setTimeout(async()=>{a.abort()},n!==void 0?n:D9),mD({appId:r,apiKey:i,measurementId:s},o,a,e)}async function mD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pD){var s;const{appId:o,measurementId:a}=t;try{await X9(r,e)}catch(l){if(a)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Y9(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!Q9(u)){if(i.deleteThrottleMetadata(o),a)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?l0(n,i.intervalMillis,W9):l0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),yi.debug(`Calling attemptFetch again in ${c} millis`),mD(t,d,r,i)}}function X9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Q9(t){if(!(t instanceof $i)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class J9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Z9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(){if(Bg())try{await Ux()}catch(t){return yi.warn(xi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return yi.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t8(t,e,n,r,i,s,o){var a;const l=q9(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>yi.error(f)),e.push(l);const u=e8().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);H9(s)||L9(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[x9]="firebase",h.update=!0,d!=null&&(h[P9]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.app=e}_delete(){return delete Id[this.app.options.appId],Promise.resolve()}}let Id={},KE=[];const zE={};let Iy="dataLayer",r8="gtag",GE,gD,YE=!1;function i8(){const t=[];if(Lx()&&t.push("This is a browser extension environment."),hU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xi.create("invalid-analytics-context",{errorInfo:e});yi.warn(n.message)}}function s8(t,e,n){i8();const r=t.options.appId;if(!r)throw xi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xi.create("no-api-key");if(Id[r]!=null)throw xi.create("already-exists",{id:r});if(!YE){F9(Iy);const{wrappedGtag:s,gtagCore:o}=j9(Id,KE,zE,Iy,r8);gD=s,GE=o,YE=!0}return Id[r]=t8(t,KE,zE,e,GE,Iy,n),new n8(t)}function o8(t=Tc()){t=Kt(t);const e=Hs(t,wm);return e.isInitialized()?e.getImmediate():a8(t)}function a8(t,e={}){const n=Hs(t,wm);if(n.isInitialized()){const i=n.getImmediate();if(ih(e,n.getOptions()))return i;throw xi.create("already-initialized")}return n.initialize({options:e})}function l8(t,e,n,r){t=Kt(t),Z9(gD,Id[t.app.options.appId],e,n,r).catch(i=>yi.error(i))}const qE="@firebase/analytics",XE="0.10.0";function u8(){_i(new si(wm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return s8(r,i,n)},"PUBLIC")),_i(new si("analytics-internal",t,"PRIVATE")),Dr(qE,XE),Dr(qE,XE,"esm2017");function t(e){try{const n=e.getProvider(wm).getImmediate();return{logEvent:(r,i,s)=>l8(n,r,i,s)}}catch(n){throw xi.create("interop-component-reg-failed",{reason:n})}}}u8();var c8="firebase",d8="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(c8,d8,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map,vD={activated:!1,tokenObservers:[]},h8={initialized:!1,enabled:!1};function dr(t){return v0.get(t)||Object.assign({},vD)}function f8(t,e){return v0.set(t,e),v0.get(t)}function Kg(){return h8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="https://content-firebaseappcheck.googleapis.com/v1",p8="exchangeRecaptchaV3Token",m8="exchangeDebugToken",QE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},g8=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new hl,await y8(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new hl,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function y8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},mi=new va("appCheck","AppCheck",b8);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function H1(t){if(!dr(t).activated)throw mi.create("use-before-activation",{appName:t.name})}function bD(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Qf(n)+"d:"),r&&(o+=Qf(r)+"h:"),o+=Qf(i)+"m:"+Qf(s)+"s",o}function Qf(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw mi.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw mi.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw mi.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function w8(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${yD}/projects/${n}/apps/${r}:${p8}?key=${i}`,body:{recaptcha_v3_token:e}}}function wD(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${yD}/projects/${n}/apps/${r}:${m8}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="firebase-app-check-database",T8=1,oh="firebase-app-check-store",_D="debug-token";let Jf=null;function TD(){return Jf||(Jf=new Promise((t,e)=>{try{const n=indexedDB.open(_8,T8);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(mi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(oh,{keyPath:"compositeKey"})}}}catch(n){e(mi.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Jf)}function S8(t){return ED(ID(t))}function E8(t,e){return SD(ID(t),e)}function I8(t){return SD(_D,t)}function C8(){return ED(_D)}async function SD(t,e){const r=(await TD()).transaction(oh,"readwrite"),s=r.objectStore(oh).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(mi.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function ED(t){const n=(await TD()).transaction(oh,"readonly"),i=n.objectStore(oh).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(mi.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function ID(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new _c("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t){if(Bg()){let e;try{e=await S8(t)}catch(n){ah.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Cy(t,e){return Bg()?E8(t,e).catch(n=>{ah.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function A8(){let t;try{t=await C8()}catch{}if(t)return t;{const e=EU();return I8(e).catch(n=>ah.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return Kg().enabled}async function z1(){const t=Kg();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function k8(){const t=xx(),e=Kg();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new hl;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(A8())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8={error:"UNKNOWN_ERROR"};function x8(t){return Vg.encodeString(JSON.stringify(t),!1)}async function y0(t,e=!1){const n=t.app;H1(n);const r=dr(n);let i=r.token,s;if(i&&!cu(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(cu(l)?i=l:await Cy(n,void 0))}if(!e&&i&&cu(i))return{token:i.token};let o=!1;if(K1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=W1(wD(n,await z1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await Cy(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await dr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?ah.warn(l.message):ah.error(l),s=l}let a;return i?s?cu(i)?a={token:i.token,internalError:s}:a=eI(s):(a={token:i.token},r.token=i,await Cy(n,i)):a=eI(s),o&&AD(n,a),a}async function D8(t){const e=t.app;H1(e);const{provider:n}=dr(e);if(K1()){const r=await z1(),{token:i}=await W1(wD(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function CD(t,e,n,r){const{app:i}=t,s=dr(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&cu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),ZE(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ZE(t))}function OD(t,e){const n=dr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function ZE(t){const{app:e}=t,n=dr(e);let r=n.tokenRefresher;r||(r=R8(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function R8(t){const{app:e}=t;return new v8(async()=>{const n=dr(e);let r;if(n.token?r=await y0(t,!0):r=await y0(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=dr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},QE.RETRIAL_MIN_WAIT,QE.RETRIAL_MAX_WAIT)}function AD(t,e){const n=dr(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function cu(t){return t.expireTimeMillis-Date.now()>0}function eI(t){return{token:x8(P8),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=dr(this.app);for(const n of e)OD(this.app,n.next);return Promise.resolve()}}function M8(t,e){return new N8(t,e)}function $8(t){return{getToken:e=>y0(t,e),getLimitedUseToken:()=>D8(t),addTokenListener:e=>CD(t,"INTERNAL",e),removeTokenListener:e=>OD(t.app,e)}}const L8="@firebase/app-check",F8="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="https://www.google.com/recaptcha/api.js";function U8(t,e){const n=new hl,r=dr(t);r.reCAPTCHAState={initialized:n};const i=B8(t),s=JE(!1);return s?tI(t,e,s,i,n):W8(()=>{const o=JE(!1);if(!o)throw new Error("no recaptcha");tI(t,e,o,i,n)}),n.promise}function tI(t,e,n,r,i){n.ready(()=>{H8(t,e,n,r),i.resolve(n)})}function B8(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function j8(t){H1(t);const n=await dr(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=dr(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function H8(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{dr(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{dr(t).reCAPTCHAState.succeeded=!1}}),s=dr(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function W8(t){const e=document.createElement("script");e.src=V8,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;z8(this._throttleData);const i=await j8(this._app).catch(o=>{throw mi.create("recaptcha-error")});if(!(!((e=dr(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw mi.create("recaptcha-error");let s;try{s=await W1(w8(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=K8(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),mi.create("throttled",{time:bD(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Hs(e,"heartbeat"),U8(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof G1?this._siteKey===e._siteKey:!1}}function K8(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+g8,httpStatus:t};{const n=e?e.backoffCount:0,r=l0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function z8(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw mi.create("throttled",{time:bD(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t=Tc(),e){t=Kt(t);const n=Hs(t,"app-check");if(Kg().initialized||k8(),K1()&&z1().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw mi.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return Y8(t,e.provider,e.isTokenAutoRefreshEnabled),dr(t).isTokenAutoRefreshEnabled&&CD(r,"INTERNAL",()=>{}),r}function Y8(t,e,n){const r=f8(t,Object.assign({},vD));r.activated=!0,r.provider=e,r.cachedTokenPromise=O8(t).then(i=>(i&&cu(i)&&(r.token=i,AD(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const q8="app-check",nI="app-check-internal";function X8(){_i(new si(q8,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return M8(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(nI).initialize()})),_i(new si(nI,t=>{const e=t.getProvider("app-check").getImmediate();return $8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Dr(L8,F8)}X8();const Q8={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},J8=t=>{G8(t,{provider:new G1("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},Z8=()=>{const t=Wx(Q8);return J8(t),o8(t),t},kD=Z8();var eB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let PD;const zg=t=>PD=t,xD=Symbol();function b0(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Cd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Cd||(Cd={}));function tB(){const t=_g(!0),e=t.run(()=>se({}));let n=[],r=[];const i=Og({install(s){zg(i),i._a=s,s.provide(xD,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!eB?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const DD=()=>{};function rI(t,e,n,r=DD){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Qh()&&Tg(i),i}function jl(t,...e){t.slice().forEach(n=>{n(...e)})}const nB=t=>t();function w0(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];b0(i)&&b0(r)&&t.hasOwnProperty(n)&&!dn(r)&&!io(r)?t[n]=w0(i,r):t[n]=r}return t}const rB=Symbol();function iB(t){return!b0(t)||!t.hasOwnProperty(rB)}const{assign:Mo}=Object;function sB(t){return!!(dn(t)&&t.effect)}function oB(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=Kk(n.state.value[t]);return Mo(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Og(ee(()=>{zg(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=RD(t,u,e,n,r,!0),l}function RD(t,e,n={},r,i,s){let o;const a=Mo({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),se({});let m;function g(R){let D;u=c=!1,typeof R=="function"?(R(r.state.value[t]),D={type:Cd.patchFunction,storeId:t,events:f}):(w0(r.state.value[t],R),D={type:Cd.patchObject,payload:R,storeId:t,events:f});const C=m=Symbol();Yn().then(()=>{m===C&&(u=!0)}),c=!0,jl(d,D,r.state.value[t])}const y=s?function(){const{state:D}=n,C=D?D():{};this.$patch(N=>{Mo(N,C)})}:DD;function b(){o.stop(),d=[],h=[],r._s.delete(t)}function _(R,D){return function(){zg(r);const C=Array.from(arguments),N=[],F=[];function H(P){N.push(P)}function $(P){F.push(P)}jl(h,{args:C,name:R,store:T,after:H,onError:$});let A;try{A=D.apply(this&&this.$id===t?this:T,C)}catch(P){throw jl(F,P),P}return A instanceof Promise?A.then(P=>(jl(N,P),P)).catch(P=>(jl(F,P),Promise.reject(P))):(jl(N,A),A)}}const w={_p:r,$id:t,$onAction:rI.bind(null,h),$patch:g,$reset:y,$subscribe(R,D={}){const C=rI(d,R,D.detached,()=>N()),N=o.run(()=>Ot(()=>r.state.value[t],F=>{(D.flush==="sync"?c:u)&&R({storeId:t,type:Cd.direct,events:f},F)},Mo({},l,D)));return C},$dispose:b},T=Nn(w);r._s.set(t,T);const O=(r._a&&r._a.runWithContext||nB)(()=>r._e.run(()=>(o=_g()).run(e)));for(const R in O){const D=O[R];if(dn(D)&&!sB(D)||io(D))s||(p&&iB(D)&&(dn(D)?D.value=p[R]:w0(D,p[R])),r.state.value[t][R]=D);else if(typeof D=="function"){const C=_(R,D);O[R]=C,a.actions[R]=D}}return Mo(T,O),Mo(Ct(T),O),Object.defineProperty(T,"$state",{get:()=>r.state.value[t],set:R=>{g(D=>{Mo(D,R)})}}),r._p.forEach(R=>{Mo(T,o.run(()=>R({store:T,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(T.$state,p),u=!0,c=!0,T}function ND(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=wP();return a=a||(u?ii(xD,null):null),a&&zg(a),a=PD,a._s.has(r)||(s?RD(r,e,i,a):oB(r,i,a)),a._s.get(r)}return o.$id=r,o}function Zt(t){{t=Ct(t);const e={};for(const n in t){const r=t[n];(dn(r)||io(r))&&(e[n]=Hu(t,n))}return e}}const iI=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var aB=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),iI(l,e))}),e.$subscribe(()=>{a.forEach(l=>{iI(l,e)})})}};const MD=tB();MD.use(aB);const Ir=class Ir{constructor(e,n,r={},i){Ir.log(r.debug,n),r.route&&tS.push({name:r.route}),K6({title:i??e,type:e.toLowerCase(),text:n},5e3)}};Eo(Ir,"success",(e,n={})=>new Ir("Success",e,n)),Eo(Ir,"update",(e,n={})=>new Ir("Warning",e,n,"Update")),Eo(Ir,"warning",(e,n={})=>new Ir("Warning",e,n)),Eo(Ir,"error",(e,n={})=>new Ir("Error",e,n)),Eo(Ir,"generalError",(e,n)=>new Ir("Error",(n==null?void 0:n.message)||$D,{debug:e})),Eo(Ir,"firebaseError",(e,n)=>(Ir.log(e,n),n instanceof $i?n.message=Oy[n.code]:n instanceof Error&&Object.keys(Oy).includes(n.name)?n.message=Oy[n.name]:n=void 0,Ir.generalError(e,n))),Eo(Ir,"log",(e,n)=>{e&&console.log(n)});let qe=Ir;const $D="Something went wrong",Oy={"":$D,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var lB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue,Y1=Y1||{},pt=lB||self;function Gg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function uB(t){return Object.prototype.hasOwnProperty.call(t,Ay)&&t[Ay]||(t[Ay]=++cB)}var Ay="closure_uid_"+(1e9*Math.random()>>>0),cB=0;function dB(t,e,n){return t.call.apply(t.bind,arguments)}function hB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Kr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kr=dB:Kr=hB,Kr.apply(null,arguments)}function Zf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _r(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ba(){this.s=this.s,this.o=this.o}var fB=0;ba.prototype.s=!1;ba.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),fB!=0)&&uB(this)};ba.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function q1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zr.prototype.h=function(){this.defaultPrevented=!0};var pB=function(){if(!pt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pt.addEventListener("test",()=>{},e),pt.removeEventListener("test",()=>{},e)}catch{}return t}();function lh(t){return/^[\s\xa0]*$/.test(t)}function Yg(){var t=pt.navigator;return t&&(t=t.userAgent)?t:""}function Ss(t){return Yg().indexOf(t)!=-1}function X1(t){return X1[" "](t),t}X1[" "]=function(){};function mB(t,e){var n=aj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var gB=Ss("Opera"),Xu=Ss("Trident")||Ss("MSIE"),FD=Ss("Edge"),_0=FD||Xu,VD=Ss("Gecko")&&!(Yg().toLowerCase().indexOf("webkit")!=-1&&!Ss("Edge"))&&!(Ss("Trident")||Ss("MSIE"))&&!Ss("Edge"),vB=Yg().toLowerCase().indexOf("webkit")!=-1&&!Ss("Edge");function UD(){var t=pt.document;return t?t.documentMode:void 0}var T0;e:{var ky="",Py=function(){var t=Yg();if(VD)return/rv:([^\);]+)(\)|;)/.exec(t);if(FD)return/Edge\/([\d\.]+)/.exec(t);if(Xu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vB)return/WebKit\/(\S+)/.exec(t);if(gB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Py&&(ky=Py?Py[1]:""),Xu){var xy=UD();if(xy!=null&&xy>parseFloat(ky)){T0=String(xy);break e}}T0=ky}var S0;if(pt.document&&Xu){var oI=UD();S0=oI||parseInt(T0,10)||void 0}else S0=void 0;var yB=S0;function uh(t,e){if(zr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(VD){e:{try{X1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:bB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&uh.$.h.call(this)}}_r(uh,zr);var bB={2:"touch",3:"pen",4:"mouse"};uh.prototype.h=function(){uh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sf="closure_listenable_"+(1e6*Math.random()|0),wB=0;function _B(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++wB,this.fa=this.ia=!1}function qg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Q1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function TB(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function BD(t){const e={};for(const n in t)e[n]=t[n];return e}const aI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<aI.length;s++)n=aI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xg(t){this.src=t,this.g={},this.h=0}Xg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=I0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new _B(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function E0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=LD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function I0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var J1="closure_lm_"+(1e6*Math.random()|0),Dy={};function HD(t,e,n,r,i){if(r&&r.once)return KD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)HD(t,e[s],n,r,i);return null}return n=t_(n),t&&t[sf]?t.O(e,n,rf(r)?!!r.capture:!!r,i):WD(t,e,n,!1,r,i)}function WD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=rf(i)?!!i.capture:!!i,a=e_(t);if(a||(t[J1]=a=new Xg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=SB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(GD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function SB(){function t(n){return e.call(t.src,t.listener,n)}const e=EB;return t}function KD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)KD(t,e[s],n,r,i);return null}return n=t_(n),t&&t[sf]?t.P(e,n,rf(r)?!!r.capture:!!r,i):WD(t,e,n,!0,r,i)}function zD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zD(t,e[s],n,r,i);else r=rf(r)?!!r.capture:!!r,n=t_(n),t&&t[sf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=I0(s,n,r,i),-1<n&&(qg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=e_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=I0(e,n,r,i)),(n=-1<t?e[t]:null)&&Z1(n))}function Z1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[sf])E0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(GD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=e_(e))?(E0(n,t),n.h==0&&(n.src=null,e[J1]=null)):qg(t)}}}function GD(t){return t in Dy?Dy[t]:Dy[t]="on"+t}function EB(t,e){if(t.fa)t=!0;else{e=new uh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Z1(t),t=n.call(r,e)}return t}function e_(t){return t=t[J1],t instanceof Xg?t:null}var Ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function t_(t){return typeof t=="function"?t:(t[Ry]||(t[Ry]=function(e){return t.handleEvent(e)}),t[Ry])}function br(){ba.call(this),this.i=new Xg(this),this.S=this,this.J=null}_r(br,ba);br.prototype[sf]=!0;br.prototype.removeEventListener=function(t,e,n,r){zD(this,t,e,n,r)};function Rr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zr(e,t);else if(e instanceof zr)e.target=e.target||t;else{var i=e;e=new zr(r,t),jD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ep(o,r,!0,e)&&i}if(o=e.g=t,i=ep(o,r,!0,e)&&i,i=ep(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ep(o,r,!1,e)&&i}br.prototype.N=function(){if(br.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qg(n[r]);delete t.g[e],t.h--}}this.J=null};br.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};br.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ep(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&E0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var n_=pt.JSON.stringify;class IB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function CB(){var t=r_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class OB{constructor(){this.h=this.g=null}add(e,n){const r=YD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var YD=new IB(()=>new AB,t=>t.reset());class AB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function PB(t){pt.setTimeout(()=>{throw t},0)}let ch,dh=!1,r_=new OB,qD=()=>{const t=pt.Promise.resolve(void 0);ch=()=>{t.then(xB)}};var xB=()=>{for(var t;t=CB();){try{t.h.call(t.g)}catch(n){PB(n)}var e=YD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}dh=!1};function Qg(t,e){br.call(this),this.h=t||1,this.g=e||pt,this.j=Kr(this.qb,this),this.l=Date.now()}_r(Qg,br);Ue=Qg.prototype;Ue.ga=!1;Ue.T=null;Ue.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rr(this,"tick"),this.ga&&(i_(this),this.start()))}};Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function i_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ue.N=function(){Qg.$.N.call(this),i_(this),delete this.g};function s_(t,e,n){if(typeof t=="function")n&&(t=Kr(t,n));else if(t&&typeof t.handleEvent=="function")t=Kr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pt.setTimeout(t,e||0)}function XD(t){t.g=s_(()=>{t.g=null,t.i&&(t.i=!1,XD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class DB extends ba{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XD(this)}N(){super.N(),this.g&&(pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hh(t){ba.call(this),this.h=t,this.g={}}_r(hh,ba);var lI=[];function QD(t,e,n,r){Array.isArray(n)||(n&&(lI[0]=n.toString()),n=lI);for(var i=0;i<n.length;i++){var s=HD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function JD(t){Q1(t.g,function(e,n){this.g.hasOwnProperty(n)&&Z1(e)},t),t.g={}}hh.prototype.N=function(){hh.$.N.call(this),JD(this)};hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jg(){this.g=!0}Jg.prototype.Ea=function(){this.g=!1};function RB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function NB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function du(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$B(t,n)+(r?" "+r:"")})}function MB(t,e){t.info(function(){return"TIMEOUT: "+e})}Jg.prototype.info=function(){};function $B(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return n_(n)}catch{return e}}var xl={},uI=null;function Zg(){return uI=uI||new br}xl.Ta="serverreachability";function ZD(t){zr.call(this,xl.Ta,t)}_r(ZD,zr);function fh(t){const e=Zg();Rr(e,new ZD(e))}xl.STAT_EVENT="statevent";function eR(t,e){zr.call(this,xl.STAT_EVENT,t),this.stat=e}_r(eR,zr);function ni(t){const e=Zg();Rr(e,new eR(e,t))}xl.Ua="timingevent";function tR(t,e){zr.call(this,xl.Ua,t),this.size=e}_r(tR,zr);function of(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pt.setTimeout(function(){t()},e)}var ev={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function o_(){}o_.prototype.h=null;function cI(t){return t.h||(t.h=t.i())}function rR(){}var af={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function a_(){zr.call(this,"d")}_r(a_,zr);function l_(){zr.call(this,"c")}_r(l_,zr);var C0;function tv(){}_r(tv,o_);tv.prototype.g=function(){return new XMLHttpRequest};tv.prototype.i=function(){return{}};C0=new tv;function lf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new hh(this),this.P=LB,t=_0?125:void 0,this.V=new Qg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iR}function iR(){this.i=null,this.g="",this.h=!1}var LB=45e3,O0={},_m={};Ue=lf.prototype;Ue.setTimeout=function(t){this.P=t};function A0(t,e,n){t.L=1,t.v=rv(ho(e)),t.s=n,t.S=!0,sR(t,null)}function sR(t,e){t.G=Date.now(),uf(t),t.A=ho(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),fR(n.i,"t",r),t.C=0,n=t.l.J,t.h=new iR,t.g=NR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new DB(Kr(t.Pa,t,t.g),t.O)),QD(t.U,t.g,"readystatechange",t.nb),e=t.I?BD(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),fh(),RB(t.j,t.u,t.A,t.m,t.W,t.s)}Ue.nb=function(t){t=t.target;const e=this.M;e&&Cs(t)==3?e.l():this.Pa(t)};Ue.Pa=function(t){try{if(t==this.g)e:{const c=Cs(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||_0||this.g&&(this.h.h||this.g.ja()||pI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?fh(3):fh(2)),nv(this);var n=this.g.da();this.ca=n;t:if(oR(this)){var r=pI(this.g);t="";var i=r.length,s=Cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ja(this),Od(this);var o="";break t}this.h.i=new pt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,NB(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lh(a)){var u=a;break t}}u=null}if(n=u)du(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,k0(this,n);else{this.i=!1,this.o=3,ni(12),ja(this),Od(this);break e}}this.S?(aR(this,c,o),_0&&this.i&&c==3&&(QD(this.U,this.V,"tick",this.mb),this.V.start())):(du(this.j,this.m,o,null),k0(this,o)),c==4&&ja(this),this.i&&!this.J&&(c==4?PR(this.l,this):(this.i=!1,uf(this)))}else ij(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ni(12)):(this.o=0,ni(13)),ja(this),Od(this)}}}catch{}finally{}};function oR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function aR(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=FB(t,n),i==_m){e==4&&(t.o=4,ni(14),r=!1),du(t.j,t.m,null,"[Incomplete Response]");break}else if(i==O0){t.o=4,ni(15),du(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else du(t.j,t.m,i,null),k0(t,i);oR(t)&&i!=_m&&i!=O0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ni(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),p_(e),e.M=!0,ni(11))):(du(t.j,t.m,n,"[Invalid Chunked Response]"),ja(t),Od(t))}Ue.mb=function(){if(this.g){var t=Cs(this.g),e=this.g.ja();this.C<e.length&&(nv(this),aR(this,t,e),this.i&&t!=4&&uf(this))}};function FB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?_m:(n=Number(e.substring(n,r)),isNaN(n)?O0:(r+=1,r+n>e.length?_m:(e=e.slice(r,r+n),t.C=r+n,e)))}Ue.cancel=function(){this.J=!0,ja(this)};function uf(t){t.Y=Date.now()+t.P,lR(t,t.P)}function lR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=of(Kr(t.lb,t),e)}function nv(t){t.B&&(pt.clearTimeout(t.B),t.B=null)}Ue.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(MB(this.j,this.A),this.L!=2&&(fh(),ni(17)),ja(this),this.o=2,Od(this)):lR(this,this.Y-t)};function Od(t){t.l.H==0||t.J||PR(t.l,t)}function ja(t){nv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,i_(t.V),JD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function k0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||P0(n.i,t))){if(!t.K&&P0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Em(n),ov(n);else break e;f_(n),ni(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=of(Kr(n.ib,n),6e3));if(1>=gR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ha(n,11)}else if((t.K||n.g==t)&&Em(n),!lh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(u_(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,bn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=RR(r,r.J?r.pa:null,r.Y),o.K){vR(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(nv(a),uf(a)),r.g=o}else AR(r);0<n.j.length&&av(n)}else u[0]!="stop"&&u[0]!="close"||Ha(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ha(n,7):h_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}fh(4)}catch{}}function VB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function UB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function uR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=UB(t),r=VB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var cR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qa){this.h=t.h,Tm(this,t.j),this.s=t.s,this.g=t.g,Sm(this,t.m),this.l=t.l;var e=t.i,n=new ph;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dI(this,n),this.o=t.o}else t&&(e=String(t).match(cR))?(this.h=!1,Tm(this,e[1]||"",!0),this.s=id(e[2]||""),this.g=id(e[3]||"",!0),Sm(this,e[4]),this.l=id(e[5]||"",!0),dI(this,e[6]||"",!0),this.o=id(e[7]||"")):(this.h=!1,this.i=new ph(null,this.h))}Qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sd(e,hI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sd(e,hI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sd(n,n.charAt(0)=="/"?WB:HB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sd(n,zB)),t.join("")};function ho(t){return new Qa(t)}function Tm(t,e,n){t.j=n?id(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dI(t,e,n){e instanceof ph?(t.i=e,GB(t.i,t.h)):(n||(e=sd(e,KB)),t.i=new ph(e,t.h))}function bn(t,e,n){t.i.set(e,n)}function rv(t){return bn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function id(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,jB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hI=/[#\/\?@]/g,HB=/[#\?:]/g,WB=/[#\?]/g,KB=/[#\?@]/g,zB=/#/g;function ph(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wa(t){t.g||(t.g=new Map,t.h=0,t.i&&BB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ue=ph.prototype;Ue.add=function(t,e){wa(this),this.i=null,t=Sc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function dR(t,e){wa(t),e=Sc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function hR(t,e){return wa(t),e=Sc(t,e),t.g.has(e)}Ue.forEach=function(t,e){wa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ue.ta=function(){wa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ue.Z=function(t){wa(this);let e=[];if(typeof t=="string")hR(this,t)&&(e=e.concat(this.g.get(Sc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ue.set=function(t,e){return wa(this),this.i=null,t=Sc(this,t),hR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ue.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function fR(t,e,n){dR(t,e),0<n.length&&(t.i=null,t.g.set(Sc(t,e),q1(n)),t.h+=n.length)}Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Sc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function GB(t,e){e&&!t.j&&(wa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dR(this,r),fR(this,i,n))},t)),t.j=e}var YB=class{constructor(t,e){this.g=t,this.map=e}};function pR(t){this.l=t||qB,pt.PerformanceNavigationTiming?(t=pt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pt.g&&pt.g.Ka&&pt.g.Ka()&&pt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qB=10;function mR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function gR(t){return t.h?1:t.g?t.g.size:0}function P0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function u_(t,e){t.g?t.g.add(e):t.h=e}function vR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}pR.prototype.cancel=function(){if(this.i=yR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return q1(t.i)}var XB=class{stringify(t){return pt.JSON.stringify(t,void 0)}parse(t){return pt.JSON.parse(t,void 0)}};function QB(){this.g=new XB}function JB(t,e,n){const r=n||"";try{uR(t,function(i,s){let o=i;rf(i)&&(o=n_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ZB(t,e){const n=new Jg;if(pt.Image){const r=new Image;r.onload=Zf(tp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zf(tp,n,r,"TestLoadImage: error",!1,e),r.onabort=Zf(tp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zf(tp,n,r,"TestLoadImage: timeout",!1,e),pt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function tp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cf(t){this.l=t.fc||null,this.j=t.ob||!1}_r(cf,o_);cf.prototype.g=function(){return new iv(this.l,this.j)};cf.prototype.i=function(t){return function(){return t}}({});function iv(t,e){br.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=c_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_r(iv,br);var c_=0;Ue=iv.prototype;Ue.open=function(t,e){if(this.readyState!=c_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mh(this)};Ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,df(this)),this.readyState=c_};Ue.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mh(this)),this.g&&(this.readyState=3,mh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function bR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ue.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?df(this):mh(this),this.readyState==3&&bR(this)}};Ue.Za=function(t){this.g&&(this.response=this.responseText=t,df(this))};Ue.Ya=function(t){this.g&&(this.response=t,df(this))};Ue.ka=function(){this.g&&df(this)};function df(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mh(t)}Ue.setRequestHeader=function(t,e){this.v.append(t,e)};Ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function mh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(iv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ej=pt.JSON.parse;function jn(t){br.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wR,this.L=this.M=!1}_r(jn,br);var wR="",tj=/^https?$/i,nj=["POST","PUT"];Ue=jn.prototype;Ue.Oa=function(t){this.M=t};Ue.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():C0.g(),this.C=this.u?cI(this.u):cI(C0),this.g.onreadystatechange=Kr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){fI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=pt.FormData&&t instanceof pt.FormData,!(0<=LD(nj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SR(this),0<this.B&&((this.L=rj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.ua,this)):this.A=s_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){fI(this,s)}};function rj(t){return Xu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ue.ua=function(){typeof Y1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rr(this,"timeout"),this.abort(8))};function fI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_R(t),sv(t)}function _R(t){t.F||(t.F=!0,Rr(t,"complete"),Rr(t,"error"))}Ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rr(this,"complete"),Rr(this,"abort"),sv(this))};Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sv(this,!0)),jn.$.N.call(this)};Ue.La=function(){this.s||(this.G||this.v||this.l?TR(this):this.kb())};Ue.kb=function(){TR(this)};function TR(t){if(t.h&&typeof Y1<"u"&&(!t.C[1]||Cs(t)!=4||t.da()!=2)){if(t.v&&Cs(t)==4)s_(t.La,0,t);else if(Rr(t,"readystatechange"),Cs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(cR)[1]||null;!i&&pt.self&&pt.self.location&&(i=pt.self.location.protocol.slice(0,-1)),r=!tj.test(i?i.toLowerCase():"")}n=r}if(n)Rr(t,"complete"),Rr(t,"success");else{t.m=6;try{var s=2<Cs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",_R(t)}}finally{sv(t)}}}}function sv(t,e){if(t.g){SR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rr(t,"ready");try{n.onreadystatechange=r}catch{}}}function SR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pt.clearTimeout(t.A),t.A=null)}Ue.isActive=function(){return!!this.g};function Cs(t){return t.g?t.g.readyState:0}Ue.da=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}};Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ue.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ej(e)}};function pI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ij(t){const e={};t=(t.g&&2<=Cs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(lh(t[r]))continue;var n=kB(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}TB(e,function(r){return r.join(", ")})}Ue.Ia=function(){return this.m};Ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ER(t){let e="";return Q1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function d_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ER(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):bn(t,e,n))}function $c(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IR(t){this.Ga=0,this.j=[],this.l=new Jg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$c("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$c("baseRetryDelayMs",5e3,t),this.hb=$c("retryDelaySeedMs",1e4,t),this.eb=$c("forwardChannelMaxRetries",2,t),this.xa=$c("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new pR(t&&t.concurrentRequestLimit),this.Ja=new QB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ue=IR.prototype;Ue.ra=8;Ue.H=1;function h_(t){if(CR(t),t.H==3){var e=t.W++,n=ho(t.I);if(bn(n,"SID",t.K),bn(n,"RID",e),bn(n,"TYPE","terminate"),hf(t,n),e=new lf(t,t.l,e),e.L=2,e.v=rv(ho(n)),n=!1,pt.navigator&&pt.navigator.sendBeacon)try{n=pt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pt.Image&&(new Image().src=e.v,n=!0),n||(e.g=NR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),uf(e)}DR(t)}function ov(t){t.g&&(p_(t),t.g.cancel(),t.g=null)}function CR(t){ov(t),t.u&&(pt.clearTimeout(t.u),t.u=null),Em(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pt.clearTimeout(t.m),t.m=null)}function av(t){if(!mR(t.i)&&!t.m){t.m=!0;var e=t.Na;ch||qD(),dh||(ch(),dh=!0),r_.add(e,t),t.C=0}}function sj(t,e){return gR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=of(Kr(t.Na,t,e),xR(t,t.C)),t.C++,!0)}Ue.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=BD(s),jD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=OR(this,i,e),n=ho(this.I),bn(n,"RID",t),bn(n,"CVER",22),this.F&&bn(n,"X-HTTP-Session-Id",this.F),hf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ER(s)))+"&"+e:this.o&&d_(n,this.o,s)),u_(this.i,i),this.bb&&bn(n,"TYPE","init"),this.P?(bn(n,"$req",e),bn(n,"SID","null"),i.aa=!0,A0(i,n,null)):A0(i,n,e),this.H=2}}else this.H==3&&(t?mI(this,t):this.j.length==0||mR(this.i)||mI(this))};function mI(t,e){var n;e?n=e.m:n=t.W++;const r=ho(t.I);bn(r,"SID",t.K),bn(r,"RID",n),bn(r,"AID",t.V),hf(t,r),t.o&&t.s&&d_(r,t.o,t.s),n=new lf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=OR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),u_(t.i,n),A0(n,r,e)}function hf(t,e){t.na&&Q1(t.na,function(n,r){bn(e,r,n)}),t.h&&uR({},function(n,r){bn(e,r,n)})}function OR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Kr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{JB(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function AR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ch||qD(),dh||(ch(),dh=!0),r_.add(e,t),t.A=0}}function f_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=of(Kr(t.Ma,t),xR(t,t.A)),t.A++,!0)}Ue.Ma=function(){if(this.u=null,kR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=of(Kr(this.jb,this),t)}};Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ni(10),ov(this),kR(this))};function p_(t){t.B!=null&&(pt.clearTimeout(t.B),t.B=null)}function kR(t){t.g=new lf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ho(t.wa);bn(e,"RID","rpc"),bn(e,"SID",t.K),bn(e,"AID",t.V),bn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&bn(e,"TO",t.qa),bn(e,"TYPE","xmlhttp"),hf(t,e),t.o&&t.s&&d_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=rv(ho(e)),n.s=null,n.S=!0,sR(n,t)}Ue.ib=function(){this.v!=null&&(this.v=null,ov(this),f_(this),ni(19))};function Em(t){t.v!=null&&(pt.clearTimeout(t.v),t.v=null)}function PR(t,e){var n=null;if(t.g==e){Em(t),p_(t),t.g=null;var r=2}else if(P0(t.i,e))n=e.F,vR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Zg(),Rr(r,new tR(r,n)),av(t)}else AR(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&sj(t,e)||r==2&&f_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ha(t,5);break;case 4:Ha(t,10);break;case 3:Ha(t,6);break;default:Ha(t,2)}}}function xR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ha(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Kr(t.pb,t);n||(n=new Qa("//www.google.com/images/cleardot.gif"),pt.location&&pt.location.protocol=="http"||Tm(n,"https"),rv(n)),ZB(n.toString(),r)}else ni(2);t.H=0,t.h&&t.h.za(e),DR(t),CR(t)}Ue.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ni(2)):(this.l.info("Failed to ping google.com"),ni(1))};function DR(t){if(t.H=0,t.ma=[],t.h){const e=yR(t.i);(e.length!=0||t.j.length!=0)&&(sI(t.ma,e),sI(t.ma,t.j),t.i.i.length=0,q1(t.j),t.j.length=0),t.h.ya()}}function RR(t,e,n){var r=n instanceof Qa?ho(n):new Qa(n);if(r.g!="")e&&(r.g=e+"."+r.g),Sm(r,r.m);else{var i=pt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qa(null);r&&Tm(s,r),e&&(s.g=e),i&&Sm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&bn(r,n,e),bn(r,"VER",t.ra),hf(t,r),r}function NR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new jn(new cf({ob:!0})):new jn(t.va),e.Oa(t.J),e}Ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function MR(){}Ue=MR.prototype;Ue.Ba=function(){};Ue.Aa=function(){};Ue.za=function(){};Ue.ya=function(){};Ue.isActive=function(){return!0};Ue.Va=function(){};function Im(){if(Xu&&!(10<=Number(yB)))throw Error("Environmental error: no available transport.")}Im.prototype.g=function(t,e){return new Ni(t,e)};function Ni(t,e){br.call(this),this.g=new IR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!lh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ec(this)}_r(Ni,br);Ni.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ni(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=RR(t,null,t.Y),av(t)};Ni.prototype.close=function(){h_(this.g)};Ni.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=n_(t),t=n);e.j.push(new YB(e.fb++,t)),e.H==3&&av(e)};Ni.prototype.N=function(){this.g.h=null,delete this.j,h_(this.g),delete this.g,Ni.$.N.call(this)};function $R(t){a_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_r($R,a_);function LR(){l_.call(this),this.status=1}_r(LR,l_);function Ec(t){this.g=t}_r(Ec,MR);Ec.prototype.Ba=function(){Rr(this.g,"a")};Ec.prototype.Aa=function(t){Rr(this.g,new $R(t))};Ec.prototype.za=function(t){Rr(this.g,new LR)};Ec.prototype.ya=function(){Rr(this.g,"b")};function oj(){this.blockSize=-1}function gs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_r(gs,oj);gs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ny(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}gs.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ny(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ny(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ny(this,r),i=0;break}}this.h=i,this.i+=e};gs.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var aj={};function m_(t){return-128<=t&&128>t?mB(t,function(e){return new rn([e|0],0>e?-1:0)}):new rn([t|0],0>t?-1:0)}function Os(t){if(isNaN(t)||!isFinite(t))return Pu;if(0>t)return Ar(Os(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=x0;return new rn(e,0)}function FR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ar(FR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Os(Math.pow(e,8)),r=Pu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Os(Math.pow(e,s)),r=r.R(s).add(Os(o))):(r=r.R(n),r=r.add(Os(o)))}return r}var x0=4294967296,Pu=m_(0),D0=m_(1),gI=m_(16777216);Ue=rn.prototype;Ue.ea=function(){if(Bi(this))return-Ar(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:x0+r)*e,e*=x0}return t};Ue.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Js(this))return"0";if(Bi(this))return"-"+Ar(this).toString(t);for(var e=Os(Math.pow(t,6)),n=this,r="";;){var i=Om(n,e).g;n=Cm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Js(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ue.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Js(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Bi(t){return t.h==-1}Ue.X=function(t){return t=Cm(this,t),Bi(t)?-1:Js(t)?0:1};function Ar(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rn(n,~t.h).add(D0)}Ue.abs=function(){return Bi(this)?Ar(this):this};Ue.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new rn(n,n[n.length-1]&-2147483648?-1:0)};function Cm(t,e){return t.add(Ar(e))}Ue.R=function(t){if(Js(this)||Js(t))return Pu;if(Bi(this))return Bi(t)?Ar(this).R(Ar(t)):Ar(Ar(this).R(t));if(Bi(t))return Ar(this.R(Ar(t)));if(0>this.X(gI)&&0>t.X(gI))return Os(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,np(n,2*r+2*i),n[2*r+2*i+1]+=s*l,np(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,np(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,np(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rn(n,0)};function np(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Lc(t,e){this.g=t,this.h=e}function Om(t,e){if(Js(e))throw Error("division by zero");if(Js(t))return new Lc(Pu,Pu);if(Bi(t))return e=Om(Ar(t),e),new Lc(Ar(e.g),Ar(e.h));if(Bi(e))return e=Om(t,Ar(e)),new Lc(Ar(e.g),e.h);if(30<t.g.length){if(Bi(t)||Bi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=D0,r=e;0>=r.X(t);)n=vI(n),r=vI(r);var i=Hl(n,1),s=Hl(r,1);for(r=Hl(r,2),n=Hl(n,2);!Js(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Hl(r,1),n=Hl(n,1)}return e=Cm(t,i.R(e)),new Lc(i,e)}for(i=Pu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Os(n),o=s.R(e);Bi(o)||0<o.X(t);)n-=r,s=Os(n),o=s.R(e);Js(s)&&(s=D0),i=i.add(s),t=Cm(t,o)}return new Lc(i,t)}Ue.gb=function(t){return Om(this,t).h};Ue.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rn(n,this.h&t.h)};Ue.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rn(n,this.h|t.h)};Ue.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rn(n,this.h^t.h)};function vI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rn(n,t.h)}function Hl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new rn(i,t.h)}Im.prototype.createWebChannel=Im.prototype.g;Ni.prototype.send=Ni.prototype.u;Ni.prototype.open=Ni.prototype.m;Ni.prototype.close=Ni.prototype.close;ev.NO_ERROR=0;ev.TIMEOUT=8;ev.HTTP_ERROR=6;nR.COMPLETE="complete";rR.EventType=af;af.OPEN="a";af.CLOSE="b";af.ERROR="c";af.MESSAGE="d";br.prototype.listen=br.prototype.O;jn.prototype.listenOnce=jn.prototype.P;jn.prototype.getLastError=jn.prototype.Sa;jn.prototype.getLastErrorCode=jn.prototype.Ia;jn.prototype.getStatus=jn.prototype.da;jn.prototype.getResponseJson=jn.prototype.Wa;jn.prototype.getResponseText=jn.prototype.ja;jn.prototype.send=jn.prototype.ha;jn.prototype.setWithCredentials=jn.prototype.Oa;gs.prototype.digest=gs.prototype.l;gs.prototype.reset=gs.prototype.reset;gs.prototype.update=gs.prototype.j;rn.prototype.add=rn.prototype.add;rn.prototype.multiply=rn.prototype.R;rn.prototype.modulo=rn.prototype.gb;rn.prototype.compare=rn.prototype.X;rn.prototype.toNumber=rn.prototype.ea;rn.prototype.toString=rn.prototype.toString;rn.prototype.getBits=rn.prototype.D;rn.fromNumber=Os;rn.fromString=FR;var lj=function(){return new Im},uj=function(){return Zg()},My=ev,cj=nR,dj=xl,yI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hj=cf,rp=rR,fj=jn,pj=gs,xu=rn;const bI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new _c("@firebase/firestore");function wI(){return gl.logLevel}function Ze(t,...e){if(gl.logLevel<=jt.DEBUG){const n=e.map(g_);gl.debug(`Firestore (${Ic}): ${t}`,...n)}}function fo(t,...e){if(gl.logLevel<=jt.ERROR){const n=e.map(g_);gl.error(`Firestore (${Ic}): ${t}`,...n)}}function Qu(t,...e){if(gl.logLevel<=jt.WARN){const n=e.map(g_);gl.warn(`Firestore (${Ic}): ${t}`,...n)}}function g_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t="Unexpected state"){const e=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: `+t;throw fo(e),new Error(e)}function Tn(t,e){t||ft()}function yt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let mj=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lr.UNAUTHENTICATED))}shutdown(){}},gj=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},vj=class{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new oo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new oo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tn(typeof r.accessToken=="string"),new VR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string"),new Lr(e)}},yj=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},bj=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new yj(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wj=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_j=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tn(typeof n.token=="string"),this.T=n.token,new wj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UR=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Tj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function qt(t,e){return t<e?-1:t>e?1:0}function Ju(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=class Np{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Np.fromMillis(Date.now())}static fromDate(e){return Np.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Np(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bt=class Mp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mp(e)}static min(){return new Mp(new er(0,0))}static max(){return new Mp(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BR=class R0{constructor(e,n,r){n===void 0?n=0:n>e.length&&ft(),r===void 0?r=e.length-n:r>e.length-n&&ft(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return R0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof R0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Bn=class $p extends BR{construct(e,n,r){return new $p(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $p(n)}static emptyPath(){return new $p([])}};const Sj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let Vs=class ru extends BR{construct(e,n,r){return new ru(e,n,r)}static isValidIdentifier(e){return Sj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ru.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ru(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Le(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Le(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Le(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Le(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ru(n)}static emptyPath(){return new ru([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ot=class od{constructor(e){this.path=e}static fromPath(e){return new od(Bn.fromString(e))}static fromName(e){return new od(Bn.fromString(e).popFirst(5))}static empty(){return new od(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new od(new Bn(e.slice()))}};function Ej(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(r===1e9?new er(n+1,0):new er(n,r));return new gh(i,ot.empty(),e)}function Ij(t){return new gh(t.readTime,t.key,-1)}let gh=class N0{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new N0(bt.min(),ot.empty(),-1)}static max(){return new N0(bt.max(),ot.empty(),-1)}};function Cj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ot.comparator(t.documentKey,e.documentKey),n!==0?n:qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let Aj=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==Oj)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $e=class ui{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ui((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ui?n:ui.resolve(n)}catch(n){return ui.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ui.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ui.reject(n)}static resolve(e){return new ui((n,r)=>{n(e)})}static reject(e){return new ui((n,r)=>{r(e)})}static waitFor(e){return new ui((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ui.resolve(!1);for(const r of e)n=n.next(i=>i?ui.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ui((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ui((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function pf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};v_.ct=-1;function lv(t){return t==null}function Am(t){return t===0&&1/t==-1/0}function kj(t){return typeof t=="number"&&Number.isInteger(t)&&!Am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Dl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir=class M0{constructor(e,n){this.comparator=e,this.root=n||Or.EMPTY}insert(e,n){return new M0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new M0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ip(this.root,e,this.comparator,!0)}},ip=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}};class Or{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Or.RED,this.left=i??Or.EMPTY,this.right=s??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Or(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Or(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di=class $0{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TI(this.data.getIterator())}getIteratorFrom(e){return new TI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $0)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $0(this.comparator);return n.data=e,n}},TI=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As=class L0{constructor(e){this.fields=e,e.sort(Vs.comparator)}static empty(){return new L0([])}unionWith(e){let n=new Di(Vs.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new L0(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HR=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mi=class F0{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HR("Invalid base64 string: "+i):i}}(e);return new F0(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new F0(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mi.EMPTY_BYTE_STRING=new Mi("");const Pj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(t){if(Tn(!!t),typeof t=="string"){let e=0;const n=Pj.exec(t);if(Tn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vl(t){return typeof t=="string"?Mi.fromBase64String(t):Mi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function y_(t){const e=t.mapValue.fields.__previous_value__;return uv(e)?y_(e):e}function vh(t){const e=ca(t.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xj=class{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},WR=class V0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new V0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof V0&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uv(t)?4:Dj(t)?9007199254740991:10:ft()}function Us(t,e){if(t===e)return!0;const n=yl(t);if(n!==yl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vh(t).isEqual(vh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ca(r.timestampValue),o=ca(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return vl(r.bytesValue).isEqual(vl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Zn(r.geoPointValue.latitude)===Zn(i.geoPointValue.latitude)&&Zn(r.geoPointValue.longitude)===Zn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Zn(r.integerValue)===Zn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Zn(r.doubleValue),o=Zn(i.doubleValue);return s===o?Am(s)===Am(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ju(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(_I(s)!==_I(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Us(s[a],o[a])))return!1;return!0}(t,e);default:return ft()}}function yh(t,e){return(t.values||[]).find(n=>Us(n,e))!==void 0}function Zu(t,e){if(t===e)return 0;const n=yl(t),r=yl(e);if(n!==r)return qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Zn(i.integerValue||i.doubleValue),a=Zn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return SI(t.timestampValue,e.timestampValue);case 4:return SI(vh(t),vh(e));case 5:return qt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=vl(i),a=vl(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=qt(o[l],a[l]);if(u!==0)return u}return qt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=qt(Zn(i.latitude),Zn(s.latitude));return o!==0?o:qt(Zn(i.longitude),Zn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Zu(o[l],a[l]);if(u)return u}return qt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===sp.mapValue&&s===sp.mapValue)return 0;if(i===sp.mapValue)return 1;if(s===sp.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=qt(a[c],u[c]);if(d!==0)return d;const h=Zu(o[a[c]],l[u[c]]);if(h!==0)return h}return qt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ft()}}function SI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qt(t,e);const n=ca(t),r=ca(e),i=qt(n.seconds,r.seconds);return i!==0?i:qt(n.nanos,r.nanos)}function ec(t){return U0(t)}function U0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ca(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ot.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=U0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${U0(r.fields[a])}`;return s+"}"}(t.mapValue):ft();var e,n}function km(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function B0(t){return!!t&&"integerValue"in t}function b_(t){return!!t&&"arrayValue"in t}function EI(t){return!!t&&"nullValue"in t}function II(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lp(t){return!!t&&"mapValue"in t}function Ad(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Dl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ad(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ad(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Dj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ad(n)}setAll(e){let n=Vs.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ad(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Dl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hi(Ad(this.value))}}function KR(t){const e=[];return Dl(t.fields,(n,r)=>{const i=new Vs([n]);if(Lp(r)){const s=KR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new As(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po=class xa{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xa(e,0,bt.min(),bt.min(),bt.min(),hi.empty(),0)}static newFoundDocument(e,n,r,i){return new xa(e,1,n,bt.min(),r,i,0)}static newNoDocument(e,n){return new xa(e,2,n,bt.min(),bt.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new xa(e,3,n,bt.min(),bt.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=class{constructor(e,n){this.position=e,this.inclusive=n}};function CI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ot.comparator(ot.fromName(o.referenceValue),n.key):r=Zu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function OI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zR=class{},vr=class GR extends zR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mj(e,n,r):n==="array-contains"?new Fj(e,r):n==="in"?new Vj(e,r):n==="not-in"?new Uj(e,r):n==="array-contains-any"?new Bj(e,r):new GR(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $j(e,r):new Lj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zu(n,this.value)):n!==null&&yl(this.value)===yl(n)&&this.matchesComparison(Zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},mo=class YR extends zR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new YR(e,n)}matches(e){return qR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function qR(t){return t.op==="and"}function XR(t){return Nj(t)&&qR(t)}function Nj(t){for(const e of t.filters)if(e instanceof mo)return!1;return!0}function j0(t){if(t instanceof vr)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(XR(t))return t.filters.map(e=>j0(e)).join(",");{const e=t.filters.map(n=>j0(n)).join(",");return`${t.op}(${e})`}}function QR(t,e){return t instanceof vr?function(n,r){return r instanceof vr&&n.op===r.op&&n.field.isEqual(r.field)&&Us(n.value,r.value)}(t,e):t instanceof mo?function(n,r){return r instanceof mo&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&QR(s,r.filters[o]),!0):!1}(t,e):void ft()}function JR(t){return t instanceof vr?function(e){return`${e.field.canonicalString()} ${e.op} ${ec(e.value)}`}(t):t instanceof mo?function(e){return e.op.toString()+" {"+e.getFilters().map(JR).join(" ,")+"}"}(t):"Filter"}let Mj=class extends vr{constructor(e,n,r){super(e,n,r),this.key=ot.fromName(r.referenceValue)}matches(e){const n=ot.comparator(e.key,this.key);return this.matchesComparison(n)}},$j=class extends vr{constructor(e,n){super(e,"in",n),this.keys=ZR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Lj=class extends vr{constructor(e,n){super(e,"not-in",n),this.keys=ZR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ZR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ot.fromName(r.referenceValue))}let Fj=class extends vr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b_(n)&&yh(n.arrayValue,this.value)}},Vj=class extends vr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yh(this.value.arrayValue,n)}};class Uj extends vr{constructor(e,n){super(e,"not-in",n)}matches(e){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yh(this.value.arrayValue,n)}}class Bj extends vr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jj=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function AI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jj(t,e,n,r,i,s,o)}function w_(t){const e=yt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),lv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ec(r)).join(",")),e.dt=n}return e.dt}function __(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OI(t.startAt,e.startAt)&&OI(t.endAt,e.endAt)}function H0(t){return ot.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function Hj(t,e,n,r,i,s,o,a){return new Rl(t,e,n,r,i,s,o,a)}function cv(t){return new Rl(t)}function kI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function dv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function S_(t){return t.collectionGroup!==null}function Ja(t){const e=yt(t);if(e.wt===null){e.wt=[];const n=dv(e),r=T_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Du(n)),e.wt.push(new Du(Vs.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Du(Vs.keyField(),s))}}}return e.wt}function go(t){const e=yt(t);if(!e._t)if(e.limitType==="F")e._t=AI(e.path,e.collectionGroup,Ja(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ja(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Du(s.field,o))}const r=e.endAt?new tc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tc(e.startAt.position,e.startAt.inclusive):null;e._t=AI(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function W0(t,e){e.getFirstInequalityField(),dv(t);const n=t.filters.concat([e]);return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pm(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hv(t,e){return __(go(t),go(e))&&t.limitType===e.limitType}function e2(t){return`${w_(go(t))}|lt:${t.limitType}`}function K0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>JR(r)).join(", ")}]`),lv(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ec(r)).join(",")),`Target(${n})`}(go(t))}; limitType=${t.limitType})`}function fv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ot.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ja(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=CI(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ja(n),r)||n.endAt&&!function(i,s,o){const a=CI(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ja(n),r))}(t,e)}function Wj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t2(t){return(e,n)=>{let r=!1;for(const i of Ja(t)){const s=Kj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Kj(t,e,n){const r=t.field.isKeyField()?ot.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Zu(a,l):ft()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new ir(ot.comparator);function vo(){return zj}const n2=new ir(ot.comparator);function ad(...t){let e=n2;for(const n of t)e=e.insert(n.key,n);return e}function r2(t){let e=n2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wa(){return kd()}function i2(){return kd()}function kd(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gj=new ir(ot.comparator),Yj=new Di(ot.comparator);function It(...t){let e=Yj;for(const n of t)e=e.add(n);return e}const qj=new Di(qt);function Xj(){return qj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Am(e)?"-0":e}}function o2(t){return{integerValue:""+t}}function Qj(t,e){return kj(e)?o2(e):s2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this._=void 0}}function Jj(t,e,n){return t instanceof xm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&uv(i)&&(i=y_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof bh?l2(t,e):t instanceof wh?u2(t,e):function(r,i){const s=a2(r,i),o=PI(s)+PI(r.gt);return B0(s)&&B0(r.gt)?o2(o):s2(r.serializer,o)}(t,e)}function Zj(t,e,n){return t instanceof bh?l2(t,e):t instanceof wh?u2(t,e):n}function a2(t,e){return t instanceof Dm?B0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class xm extends pv{}class bh extends pv{constructor(e){super(),this.elements=e}}function l2(t,e){const n=c2(e);for(const r of t.elements)n.some(i=>Us(i,r))||n.push(r);return{arrayValue:{values:n}}}class wh extends pv{constructor(e){super(),this.elements=e}}function u2(t,e){let n=c2(e);for(const r of t.elements)n=n.filter(i=>!Us(i,r));return{arrayValue:{values:n}}}class Dm extends pv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function PI(t){return Zn(t.integerValue||t.doubleValue)}function c2(t){return b_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function e7(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof bh&&r instanceof bh||n instanceof wh&&r instanceof wh?Ju(n.elements,r.elements,Us):n instanceof Dm&&r instanceof Dm?Us(n.gt,r.gt):n instanceof xm&&r instanceof xm}(t.transform,e.transform)}class t7{constructor(e,n){this.version=e,this.transformResults=n}}class Ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mv{}function d2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E_(t.key,Ki.none()):new mf(t.key,t.data,Ki.none());{const n=t.data,r=hi.empty();let i=new Di(Vs.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _a(t.key,r,new As(i.toArray()),Ki.none())}}function n7(t,e,n){t instanceof mf?function(r,i,s){const o=r.value.clone(),a=DI(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof _a?function(r,i,s){if(!Fp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=DI(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(h2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Pd(t,e,n,r){return t instanceof mf?function(i,s,o,a){if(!Fp(i.precondition,s))return o;const l=i.value.clone(),u=RI(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof _a?function(i,s,o,a){if(!Fp(i.precondition,s))return o;const l=RI(i.fieldTransforms,a,s),u=s.data;return u.setAll(h2(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Fp(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function r7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=a2(r.transform,i||null);s!=null&&(n===null&&(n=hi.empty()),n.set(r.field,s))}return n||null}function xI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ju(n,r,(i,s)=>e7(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mf extends mv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _a extends mv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function h2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DI(t,e,n){const r=new Map;Tn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zj(o,a,n[i]))}return r}function RI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Jj(s,o,e))}return r}class E_ extends mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i7 extends mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&n7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=i2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=d2(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),It())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(n,r)=>xI(n,r))&&Ju(this.baseMutations,e.baseMutations,(n,r)=>xI(n,r))}}class I_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tn(e.mutations.length===r.length);let i=Gj;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new I_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn,Dt;function l7(t){switch(t){default:return ft();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function f2(t){if(t===void 0)return fo("GRPC error has no .code"),me.UNKNOWN;switch(t){case Xn.OK:return me.OK;case Xn.CANCELLED:return me.CANCELLED;case Xn.UNKNOWN:return me.UNKNOWN;case Xn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Xn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Xn.INTERNAL:return me.INTERNAL;case Xn.UNAVAILABLE:return me.UNAVAILABLE;case Xn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Xn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Xn.NOT_FOUND:return me.NOT_FOUND;case Xn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Xn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Xn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Xn.ABORTED:return me.ABORTED;case Xn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Xn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Xn.DATA_LOSS:return me.DATA_LOSS;default:return ft()}}(Dt=Xn||(Xn={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return op}static getOrCreateInstance(){return op===null&&(op=new C_),op}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let op=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=new xu([4294967295,4294967295],0);function NI(t){const e=u7().encode(t),n=new pj;return n.update(e),new Uint8Array(n.digest())}function MI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xu([n,r],0),new xu([i,s],0)]}class O_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ld(`Invalid padding: ${n}`);if(r<0)throw new ld(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ld(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ld(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=xu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(xu.fromNumber(r)));return i.compare(c7)===1&&(i=new xu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=NI(e),[r,i]=MI(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new O_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=NI(e),[r,i]=MI(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gv(bt.min(),i,new ir(qt),vo(),It())}}class gf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class p2{constructor(e,n){this.targetId=e,this.Vt=n}}class m2{constructor(e,n,r=Mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $I{constructor(){this.St=0,this.Dt=FI(),this.Ct=Mi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=It(),n=It(),r=It();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new gf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=FI()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class d7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vo(),this.zt=LI(),this.Wt=new ir(qt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ft()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(H0(o))if(i===0){const a=new ot(o.path);this.Yt(r,a,po.newNoDocument(a,bt.min()))}else Tn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=C_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,p,m,g,y;const b={localCacheCount:c,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(b.bloomFilter={applied:u===0,hashCount:(h=_==null?void 0:_.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(p=(f=_==null?void 0:_.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(y=(g=_==null?void 0:_.bits)===null||g===void 0?void 0:g.padding)!==null&&y!==void 0?y:0}),b}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=vl(s).toUint8Array()}catch(c){if(c instanceof HR)return Qu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new O_(l,o,a)}catch(c){return Qu(c instanceof ld?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&H0(a.target)){const l=new ot(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,po.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=It();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new gv(e,n,this.Wt,this.jt,r);return this.jt=vo(),this.zt=LI(),this.Wt=new ir(qt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new $I,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Di(qt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $I),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function LI(){return new ir(ot.comparator)}function FI(){return new ir(ot.comparator)}const h7={asc:"ASCENDING",desc:"DESCENDING"},f7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p7={and:"AND",or:"OR"};class m7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function z0(t,e){return t.useProto3Json||lv(e)?e:{value:e}}function Rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g7(t,e){return Rm(t,e.toTimestamp())}function Rs(t){return Tn(!!t),bt.fromTimestamp(function(e){const n=ca(e);return new er(n.seconds,n.nanos)}(t))}function A_(t,e){return function(n){return new Bn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function v2(t){const e=Bn.fromString(t);return Tn(_2(e)),e}function G0(t,e){return A_(t.databaseId,e.path)}function $y(t,e){const n=v2(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ot(y2(n))}function Y0(t,e){return A_(t.databaseId,e)}function v7(t){const e=v2(t);return e.length===4?Bn.emptyPath():y2(e)}function q0(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y2(t){return Tn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VI(t,e,n){return{name:G0(t,e),fields:n.value.mapValue.fields}}function y7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Tn(u===void 0||typeof u=="string"),Mi.fromBase64String(u||"")):(Tn(u===void 0||u instanceof Uint8Array),Mi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?me.UNKNOWN:f2(l.code);return new Le(u,l.message||"")}(o);n=new m2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$y(t,r.document.name),s=Rs(r.document.updateTime),o=r.document.createTime?Rs(r.document.createTime):bt.min(),a=new hi({mapValue:{fields:r.document.fields}}),l=po.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Vp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$y(t,r.document),s=r.readTime?Rs(r.readTime):bt.min(),o=po.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Vp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$y(t,r.document),s=r.removedTargetIds||[];n=new Vp([],s,i,null)}else{if(!("filter"in e))return ft();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new a7(i,s),a=r.targetId;n=new p2(a,o)}}return n}function b7(t,e){let n;if(e instanceof mf)n={update:VI(t,e.key,e.value)};else if(e instanceof E_)n={delete:G0(t,e.key)};else if(e instanceof _a)n={update:VI(t,e.key,e.data),updateMask:A7(e.fieldMask)};else{if(!(e instanceof i7))return ft();n={verify:G0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof xm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof wh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Dm)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ft()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:g7(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ft()}(t,e.precondition)),n}function w7(t,e){return t&&t.length>0?(Tn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Rs(r.updateTime):Rs(i);return s.isEqual(bt.min())&&(s=Rs(i)),new t7(s,r.transformResults||[])}(n,e))):[]}function _7(t,e){return{documents:[Y0(t,e.path)]}}function T7(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Y0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Y0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return w2(mo.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:iu(c.field),direction:I7(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=z0(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function S7(t){let e=v7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=b2(c);return d instanceof mo&&XR(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Du(su(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,lv(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new tc(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new tc(h,d)}(n.endAt)),Hj(e,i,o,s,a,"F",l,u)}function E7(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=su(e.unaryFilter.field);return vr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=su(e.unaryFilter.field);return vr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=su(e.unaryFilter.field);return vr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=su(e.unaryFilter.field);return vr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(t):t.fieldFilter!==void 0?function(e){return vr.create(su(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return mo.create(e.compositeFilter.filters.map(n=>b2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ft()}}(e.compositeFilter.op))}(t):ft()}function I7(t){return h7[t]}function C7(t){return f7[t]}function O7(t){return p7[t]}function iu(t){return{fieldPath:t.canonicalString()}}function su(t){return Vs.fromServerFormat(t.fieldPath)}function w2(t){return t instanceof vr?function(e){if(e.op==="=="){if(II(e.value))return{unaryFilter:{field:iu(e.field),op:"IS_NAN"}};if(EI(e.value))return{unaryFilter:{field:iu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(II(e.value))return{unaryFilter:{field:iu(e.field),op:"IS_NOT_NAN"}};if(EI(e.value))return{unaryFilter:{field:iu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(e.field),op:C7(e.op),value:e.value}}}(t):t instanceof mo?function(e){const n=e.getFilters().map(r=>w2(r));return n.length===1?n[0]:{compositeFilter:{op:O7(e.op),filters:n}}}(t):ft()}function A7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_=class ud{constructor(e,n,r,i,s=bt.min(),o=bt.min(),a=Mi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ud(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k7=class{constructor(e){this.fe=e}};function P7(t){const e=S7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x7=class{constructor(){this.rn=new D7}addToCollectionParentIndex(e,n){return this.rn.add(n),$e.resolve()}getCollectionParents(e,n){return $e.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return $e.resolve()}deleteFieldIndex(e,n){return $e.resolve()}getDocumentsMatchingTarget(e,n){return $e.resolve(null)}getIndexType(e,n){return $e.resolve(0)}getFieldIndexes(e,n){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,n){return $e.resolve(gh.min())}getMinOffsetFromCollectionGroup(e,n){return $e.resolve(gh.min())}updateCollectionGroup(e,n,r){return $e.resolve()}updateIndexEntries(e,n){return $e.resolve()}},D7=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Di(Bn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Di(Bn.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0=class Q0{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Q0(0)}static Mn(){return new Q0(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R7=class{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,po.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M7=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pd(r.mutation,i,As.empty(),er.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,It()).next(()=>r))}getLocalViewOfDocuments(e,n,r=It()){const i=Wa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ad();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,It()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vo();const o=kd(),a=kd();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof _a)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Pd(c.mutation,u,c.mutation.getFieldMask(),er.now())):o.set(u.key,As.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new N7(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=kd();let i=new ir((o,a)=>o-a),s=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||As.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||It()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=i2();c.forEach(h=>{if(!s.has(h)){const f=d2(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $e.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ot.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$e.resolve(Wa());let a=-1,l=s;return o.next(u=>$e.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?$e.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,It())).next(c=>({batchId:a,changes:r2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ot(n)).next(r=>{let i=ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ad();return this.indexManager.getCollectionParents(e,i).next(o=>$e.forEach(o,a=>{const l=function(u,c){return new Rl(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,po.newInvalidDocument(u)))});let o=ad();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Pd(u.mutation,l,As.empty(),er.now()),fv(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $7=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return $e.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Rs(r.createTime)}),$e.resolve()}getNamedQuery(e,n){return $e.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:P7(r.bundledQuery),readTime:Rs(r.readTime)}}(n)),$e.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L7=class{constructor(){this.overlays=new ir(ot.comparator),this.ls=new Map}getOverlay(e,n){return $e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wa();return $e.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),$e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),$e.resolve()}getOverlaysForCollection(e,n,r){const i=Wa(),s=n.length+1,o=new ot(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ir((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Wa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $e.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new o7(n,r));let s=this.ls.get(n);s===void 0&&(s=It(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P_=class{constructor(){this.fs=new Di(mr.ds),this.ws=new Di(mr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new mr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new mr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ot(new Bn([])),r=new mr(n,e),i=new mr(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ot(new Bn([])),r=new mr(n,e),i=new mr(n,e+1);let s=It();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mr(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}};class mr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ot.comparator(e.key,n.key)||qt(e.As,n.As)}static _s(e,n){return qt(e.As,n.As)||ot.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Di(mr.ds)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new s7(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $e.resolve(o)}lookupMutationBatch(e,n){return $e.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mr(n,0),i=new mr(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Di(qt);return n.forEach(i=>{const s=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),$e.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ot.isDocumentKey(s)||(s=s.child(""));const o=new mr(new ot(s),0);let a=new Di(qt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),$e.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Tn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return $e.forEach(n.mutations,i=>{const s=new mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new mr(n,0),i=this.Rs.firstAfterOrEqual(r);return $e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.Ds=e,this.docs=new ir(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $e.resolve(r?r.document.mutableCopy():po.newInvalidDocument(n))}getEntries(e,n){let r=vo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():po.newInvalidDocument(i))}),$e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vo();const o=n.path,a=new ot(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Cj(Ij(c),r)<=0||(i.has(c.key)||fv(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ft()}Cs(e,n){return $e.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U7(this)}getSize(e){return $e.resolve(this.size)}}class U7 extends R7{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),$e.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e){this.persistence=e,this.xs=new Cc(n=>w_(n),__),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new P_,this.targetCount=0,this.Ms=X0.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),$e.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new X0(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,$e.resolve()}updateTargetData(e,n){return this.Fn(n),$e.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$e.waitFor(s).next(()=>i)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return $e.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),$e.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$e.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),$e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return $e.resolve(r)}containsKey(e,n){return $e.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n){this.$s={},this.overlays={},this.Os=new v_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new B7(this),this.indexManager=new x7,this.remoteDocumentCache=function(r){return new V7(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new k7(n),this.qs=new $7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new F7(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new H7(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return $e.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class H7 extends Aj{constructor(e){super(),this.currentSequenceNumber=e}}class x_{constructor(e){this.persistence=e,this.Qs=new P_,this.js=null}static zs(e){return new x_(e)}get Ws(){if(this.js)return this.js;throw ft()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),$e.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),$e.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Ws,r=>{const i=ot.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,bt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return $e.or([()=>$e.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=It(),i=It();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(kI(n))return $e.resolve(null);let r=go(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pm(n,null,"F"),r=go(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=It(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Pm(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return kI(n)||i.isEqual(bt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(wI()<=jt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),K0(n)),this.Wi(e,o,n,Ej(i,-1)))})}ji(e,n){let r=new Di(t2(e));return n.forEach((i,s)=>{fv(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return wI()<=jt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",K0(n)),this.Ui.getDocumentsMatchingQuery(e,n,gh.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ir(qt),this.Yi=new Cc(s=>w_(s),__),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M7(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function z7(t,e,n,r){return new K7(t,e,n,r)}async function T2(t,e){const n=yt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=It();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function G7(t,e){const n=yt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=$e.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);Tn(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=It();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function S2(t){const e=yt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Y7(t,e){const n=yt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Mi.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,m,g){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=vo(),u=It();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(q7(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(bt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $e.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function q7(t,e,n){let r=It(),i=It();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(bt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function X7(t,e){const n=yt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q7(t,e){const n=yt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,$e.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new k_(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function J0(t,e,n){const r=yt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!pf(o))throw o;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function UI(t,e,n){const r=yt(t);let i=bt.min(),s=It();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=yt(a),d=c.Yi.get(u);return d!==void 0?$e.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,go(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:bt.min(),n?s:It())).next(a=>(J7(r,Wj(e),a),{documents:a,ir:s})))}function J7(t,e,n){let r=t.Xi.get(e)||bt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class BI{constructor(){this.activeTargetIds=Xj()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z7{constructor(){this.Hr=new BI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new BI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap=null;function Ly(){return ap===null?ap=268435456+Math.round(2147483648*Math.random()):ap++,"0x"+ap.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class rH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Ly(),a=this.To(e,n);Ze("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(Ze("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Qu("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ic,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=tH[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Ly();return new Promise((o,a)=>{const l=new fj;l.setWithCredentials(!0),l.listenOnce(cj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case My.NO_ERROR:const c=l.getResponseJson();Ze(Nr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case My.TIMEOUT:Ze(Nr,`RPC '${e}' ${s} timed out`),a(new Le(me.DEADLINE_EXCEEDED,"Request time out"));break;case My.HTTP_ERROR:const d=l.getStatus();if(Ze(Nr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(g)>=0?g:me.UNKNOWN}(f.status);a(new Le(p,f.message))}else a(new Le(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Le(me.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ze(Nr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ze(Nr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Ly(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lj(),a=uj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new hj({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ze(Nr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new nH({ro:g=>{f?Ze(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(Ze(Nr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Ze(Nr,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,y,b)=>{g.listen(y,_=>{try{b(_)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,rp.EventType.OPEN,()=>{f||Ze(Nr,`RPC '${e}' stream ${i} transport opened.`)}),m(d,rp.EventType.CLOSE,()=>{f||(f=!0,Ze(Nr,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,rp.EventType.ERROR,g=>{f||(f=!0,Qu(Nr,`RPC '${e}' stream ${i} transport errored:`,g),p.wo(new Le(me.UNAVAILABLE,"The operation could not be completed")))}),m(d,rp.EventType.MESSAGE,g=>{var y;if(!f){const b=g.data[0];Tn(!!b);const _=b,w=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(w){Ze(Nr,`RPC '${e}' stream ${i} received error:`,w);const T=w.status;let S=function(R){const D=Xn[R];if(D!==void 0)return f2(D)}(T),O=w.message;S===void 0&&(S=me.INTERNAL,O="Unknown error status: "+T+" with message "+w.message),f=!0,p.wo(new Le(S,O)),d.close()}else Ze(Nr,`RPC '${e}' stream ${i} received:`,b),p._o(b)}}),m(a,dj.STAT_EVENT,g=>{g.stat===yI.PROXY?Ze(Nr,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===yI.NOPROXY&&Ze(Nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){return new m7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new E2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(fo(n.toString()),fo("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Le(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iH extends I2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=y7(this.serializer,e),r=function(i){if(!("targetChange"in i))return bt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?bt.min():s.readTime?Rs(s.readTime):bt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=q0(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=H0(a)?{documents:_7(i,a)}:{query:T7(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=g2(i,s.resumeToken);const l=z0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(bt.min())>0){o.readTime=Rm(i,s.snapshotVersion.toTimestamp());const l=z0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=E7(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=q0(this.serializer),n.removeTarget=e,this.Wo(n)}}class sH extends I2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=w7(e.writeResults,e.commitTime),r=Rs(e.commitTime);return this.listener.cu(r,n)}return Tn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=q0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>b7(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class aH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(fo(n),this.mu=!1):Ze("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Nl(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=yt(a);l.vu.add(4),await vf(l),l.bu.set("Unknown"),l.vu.delete(4),await yv(l)}(this))})}),this.bu=new aH(r,i)}}async function yv(t){if(Nl(t))for(const e of t.Ru)await e(!0)}async function vf(t){for(const e of t.Ru)await e(!1)}function C2(t,e){const n=yt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),M_(n)?N_(n):Oc(n).Ko()&&R_(n,e))}function O2(t,e){const n=yt(t),r=Oc(n);n.Au.delete(e),r.Ko()&&A2(n,e),n.Au.size===0&&(r.Ko()?r.jo():Nl(n)&&n.bu.set("Unknown"))}function R_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).su(e)}function A2(t,e){t.Vu.qt(e),Oc(t).iu(e)}function N_(t){t.Vu=new d7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.bu.gu()}function M_(t){return Nl(t)&&!Oc(t).Uo()&&t.Au.size>0}function Nl(t){return yt(t).vu.size===0}function k2(t){t.Vu=void 0}async function uH(t){t.Au.forEach((e,n)=>{R_(t,e)})}async function cH(t,e){k2(t),M_(t)?(t.bu.Iu(e),N_(t)):t.bu.set("Unknown")}async function dH(t,e,n){if(t.bu.set("Online"),e instanceof m2&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nm(t,r)}else if(e instanceof Vp?t.Vu.Ht(e):e instanceof p2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(bt.min()))try{const r=await S2(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Mi.EMPTY_BYTE_STRING,u.snapshotVersion)),A2(i,a);const c=new k_(u.target,a,l,u.sequenceNumber);R_(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),await Nm(t,r)}}async function Nm(t,e,n){if(!pf(e))throw e;t.vu.add(1),await vf(t),t.bu.set("Offline"),n||(n=()=>S2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await yv(t)})}function P2(t,e){return e().catch(n=>Nm(t,n,e))}async function bv(t){const e=yt(t),n=da(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;hH(e);)try{const i=await X7(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,fH(e,i)}catch(i){await Nm(e,i)}x2(e)&&D2(e)}function hH(t){return Nl(t)&&t.Eu.length<10}function fH(t,e){t.Eu.push(e);const n=da(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function x2(t){return Nl(t)&&!da(t).Uo()&&t.Eu.length>0}function D2(t){da(t).start()}async function pH(t){da(t).hu()}async function mH(t){const e=da(t);for(const n of t.Eu)e.uu(n.mutations)}async function gH(t,e,n){const r=t.Eu.shift(),i=I_.from(r,e,n);await P2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bv(t)}async function vH(t,e){e&&da(t).ou&&await async function(n,r){if(i=r.code,l7(i)&&i!==me.ABORTED){const s=n.Eu.shift();da(n).Qo(),await P2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await bv(n)}var i}(t,e),x2(t)&&D2(t)}async function HI(t,e){const n=yt(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Nl(n);n.vu.add(3),await vf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await yv(n)}async function yH(t,e){const n=yt(t);e?(n.vu.delete(2),await yv(n)):e||(n.vu.add(2),await vf(n),n.bu.set("Unknown"))}function Oc(t){return t.Su||(t.Su=function(e,n,r){const i=yt(e);return i.fu(),new iH(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:uH.bind(null,t),ao:cH.bind(null,t),nu:dH.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),M_(t)?N_(t):t.bu.set("Unknown")):(await t.Su.stop(),k2(t))})),t.Su}function da(t){return t.Du||(t.Du=function(e,n,r){const i=yt(e);return i.fu(),new sH(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:pH.bind(null,t),ao:vH.bind(null,t),au:mH.bind(null,t),cu:gH.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await bv(t)):(await t.Du.stop(),t.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L_(t,e){if(fo("AsyncQueue",`${e}: ${t}`),pf(t))return new Le(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ot.comparator(n.key,r.key):(n,r)=>ot.comparator(n.key,r.key),this.keyedMap=ad(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new Ru(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.Cu=new ir(ot.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ft():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class nc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new nc(e,n,Ru.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.Nu=void 0,this.listeners=[]}}class wH{constructor(){this.queries=new Cc(e=>e2(e),hv),this.onlineState="Unknown",this.ku=new Set}}async function F_(t,e){const n=yt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bH),i)try{s.Nu=await n.onListen(r)}catch(o){const a=L_(o,`Initialization of query '${K0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&U_(n)}async function V_(t,e){const n=yt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _H(t,e){const n=yt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&U_(n)}function TH(t,e,n){const r=yt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function U_(t){t.ku.forEach(e=>{e.next()})}class B_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.key=e}}class N2{constructor(e){this.key=e}}class SH{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=It(),this.mutatedKeys=It(),this.tc=t2(e),this.ec=new Ru(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new WI,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=fv(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.rc(h,f)||(r.track({type:2,doc:f}),g=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(l||u)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new nc(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new WI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=It(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new N2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new R2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=It();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return nc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class EH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IH{constructor(e){this.key=e,this.fc=!1}}class CH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Cc(a=>e2(a),hv),this._c=new Map,this.mc=new Set,this.gc=new ir(ot.comparator),this.yc=new Map,this.Ic=new P_,this.Tc={},this.Ec=new Map,this.Ac=X0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function OH(t,e){const n=LH(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Q7(n.localStore,go(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await AH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&C2(n.remoteStore,o)}return i}async function AH(t,e,n,r,i){t.Rc=(d,h,f)=>async function(p,m,g,y){let b=m.view.sc(g);b.zi&&(b=await UI(p.localStore,m.query,!1).then(({documents:T})=>m.view.sc(T,b)));const _=y&&y.targetChanges.get(m.targetId),w=m.view.applyChanges(b,p.isPrimaryClient,_);return zI(p,m.targetId,w.cc),w.snapshot}(t,d,h,f);const s=await UI(t.localStore,e,!0),o=new SH(e,s.ir),a=o.sc(s.documents),l=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);zI(t,n,u.cc);const c=new EH(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function kH(t,e){const n=yt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!hv(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await J0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),O2(n.remoteStore,r.targetId),Z0(n,r.targetId)}).catch(ff)):(Z0(n,r.targetId),await J0(n.localStore,r.targetId,!0))}async function PH(t,e,n){const r=FH(t);try{const i=await function(s,o){const a=yt(s),l=er.now(),u=o.reduce((h,f)=>h.add(f.key),It());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=vo(),p=It();return a.Zi.getEntries(h,u).next(m=>{f=m,f.forEach((g,y)=>{y.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const g=[];for(const y of o){const b=r7(y,c.get(y.key).overlayedDocument);b!=null&&g.push(new _a(y.key,b,KR(b.value.mapValue),Ki.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,g,o)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:r2(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new ir(qt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await yf(r,i.changes),await bv(r.remoteStore)}catch(i){const s=L_(i,"Failed to persist write");n.reject(s)}}async function M2(t,e){const n=yt(t);try{const r=await Y7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Tn(o.fc):i.removedDocuments.size>0&&(Tn(o.fc),o.fc=!1))}),await yf(n,r,e)}catch(r){await ff(r)}}function KI(t,e,n){const r=yt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=yt(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&U_(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xH(t,e,n){const r=yt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ir(ot.comparator);o=o.insert(s,po.newNoDocument(s,bt.min()));const a=It().add(s),l=new gv(bt.min(),new Map,new ir(qt),o,a);await M2(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),j_(r)}else await J0(r.localStore,e,!1).then(()=>Z0(r,e,n)).catch(ff)}async function DH(t,e){const n=yt(t),r=e.batch.batchId;try{const i=await G7(n.localStore,e);L2(n,r,null),$2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yf(n,i)}catch(i){await ff(i)}}async function RH(t,e,n){const r=yt(t);try{const i=await function(s,o){const a=yt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Tn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);L2(r,e,n),$2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yf(r,i)}catch(i){await ff(i)}}function $2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function L2(t,e,n){const r=yt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Z0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||F2(t,r)})}function F2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(O2(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),j_(t))}function zI(t,e,n){for(const r of n)r instanceof R2?(t.Ic.addReference(r.key,e),NH(t,r)):r instanceof N2?(Ze("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||F2(t,r.key)):ft()}function NH(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+n),t.mc.add(r),j_(t))}function j_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ot(Bn.fromString(e)),r=t.Ac.next();t.yc.set(r,new IH(n)),t.gc=t.gc.insert(n,r),C2(t.remoteStore,new k_(go(cv(n.path)),r,"TargetPurposeLimboResolution",v_.ct))}}async function yf(t,e,n){const r=yt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=D_.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=yt(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>$e.forEach(l,d=>$e.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>$e.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!pf(c))throw c;Ze("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function MH(t,e){const n=yt(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=await T2(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Le(me.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yf(n,r.er)}}function $H(t,e){const n=yt(t),r=n.yc.get(e);if(r&&r.fc)return It().add(r.key);{let i=It();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function LH(t){const e=yt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$H.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xH.bind(null,e),e.dc.nu=_H.bind(null,e.eventManager),e.dc.Pc=TH.bind(null,e.eventManager),e}function FH(t){const e=yt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RH.bind(null,e),e}let GI=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return z7(this.persistence,new W7,e.initialUser,this.serializer)}createPersistence(e){return new j7(x_.zs,this.serializer)}createSharedClientState(e){return new Z7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},VH=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MH.bind(null,this.syncEngine),await yH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wH}createDatastore(e){const n=vv(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new rH(i));var i;return function(s,o,a,l){return new oH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>KI(this.syncEngine,a,0),o=jI.D()?new jI:new eH,new lH(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new CH(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=yt(e);Ze("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await vf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):fo("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=UR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ze("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ze("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=L_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vy(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await T2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jH(t);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>HI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>HI(e.remoteStore,s)),t._onlineComponents=e}function BH(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function jH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BH(n))throw n;Qu("Error using user provided cache. Falling back to memory cache: "+n),await Vy(t,new GI)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await Vy(t,new GI);return t._offlineComponents}async function V2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await YI(t,t._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await YI(t,new VH))),t._onlineComponents}function HH(t){return V2(t).then(e=>e.syncEngine)}async function Mm(t){const e=await V2(t),n=e.eventManager;return n.onListen=OH.bind(null,e.syncEngine),n.onUnlisten=kH.bind(null,e.syncEngine),n}function WH(t,e,n={}){const r=new oo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new H_({next:d=>{s.enqueueAndForget(()=>V_(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Le(me.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Le(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new B_(cv(o.path),u,{includeMetadataChanges:!0,Ku:!0});return F_(i,c)}(await Mm(t),t.asyncQueue,e,n,r)),r.promise}function KH(t,e,n={}){const r=new oo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new H_({next:d=>{s.enqueueAndForget(()=>V_(i,c)),d.fromCache&&a.source==="server"?l.reject(new Le(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new B_(o,u,{includeMetadataChanges:!0,Ku:!0});return F_(i,c)}(await Mm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t,e,n){if(!n)throw new Le(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zH(t,e,n,r){if(e===!0&&r===!0)throw new Le(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XI(t){if(!ot.isDocumentKey(t))throw new Le(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QI(t){if(ot.isDocumentKey(t))throw new Le(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ft()}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wv(t);throw new Le(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GH(t,e){if(e<=0)throw new Le(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Le(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class _v{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Le(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mj;switch(n.type){case"firstParty":return new bj(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Le(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=qI.get(e);n&&(Ze("ComponentProvider","Removing Datastore"),qI.delete(e),n.terminate())}(this),Promise.resolve()}}function YH(t,e,n,r={}){var i;const s=(t=bi(t,_v))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lr.MOCK_USER;else{a=$x(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Le(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lr(u)}t._authCredentials=new gj(new VR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class ta extends Ws{constructor(e,n,r){super(e,n,cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new ot(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function ts(t,e,...n){if(t=Kt(t),B2("collection","path",e),t instanceof _v){const r=Bn.fromString(e,...n);return QI(r),new ta(t,null,r)}{if(!(t instanceof Gr||t instanceof ta))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return QI(r),new ta(t.firestore,null,r)}}function zt(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=UR.A()),B2("doc","path",e),t instanceof _v){const r=Bn.fromString(e,...n);return XI(r),new Gr(t,null,new ot(r))}{if(!(t instanceof Gr||t instanceof ta))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return XI(r),new Gr(t.firestore,t instanceof ta?t.converter:null,new ot(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new E2(this,"async_queue_retry"),this.Xc=()=>{const n=Fy();n&&Ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Fy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new oo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!pf(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw fo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=$_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ft()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function ZI(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class yo extends _v{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||j2(this),this._firestoreClient.terminate()}}function XH(t,e){const n=typeof t=="object"?t:Tc(),r=typeof t=="string"?t:e||"(default)",i=Hs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Rx("firestore");s&&YH(i,...s)}return i}function Tv(t){return t._firestoreClient||j2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function j2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new xj(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,U2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new UH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rc(Mi.fromBase64String(e))}catch(n){throw new Le(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rc(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=/^__.*__$/;class JH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new mf(e,this.data,n,this.fieldTransforms)}}class H2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function W2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class z_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new z_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return $m(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(W2(this.ca)&&QH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ZH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vv(e)}ya(e,n,r,i=!1){return new z_({ca:e,methodName:n,ga:r,path:Vs.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bf(t){const e=t._freezeSettings(),n=vv(t._databaseId);return new ZH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K2(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);G_("Data must be an object, but it was:",o,r);const a=q2(r,o);let l,u;if(s.merge)l=new As(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=ew(e,d,n);if(!o.contains(h))throw new Le(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Q2(c,h)||c.push(h)}l=new As(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new JH(new hi(a),l,u)}let z2=class G2 extends W_{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof G2}};function eW(t,e,n,r){const i=t.ya(1,e,n);G_("Data must be an object, but it was:",i,r);const s=[],o=hi.empty();Dl(r,(l,u)=>{const c=Y_(e,l,n);u=Kt(u);const d=i.da(c);if(u instanceof z2)s.push(c);else{const h=wf(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new As(s);return new H2(o,a,i.fieldTransforms)}function tW(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[ew(e,r,n)],l=[i];if(s.length%2!=0)throw new Le(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(ew(e,s[h])),l.push(s[h+1]);const u=[],c=hi.empty();for(let h=a.length-1;h>=0;--h)if(!Q2(u,a[h])){const f=a[h];let p=l[h];p=Kt(p);const m=o.da(f);if(p instanceof z2)u.push(f);else{const g=wf(p,m);g!=null&&(u.push(f),c.set(f,g))}}const d=new As(u);return new H2(c,d,o.fieldTransforms)}function Y2(t,e,n,r=!1){return wf(n,t.ya(r?4:3,e))}function wf(t,e){if(X2(t=Kt(t)))return G_("Unsupported field value:",e,t),q2(t,e);if(t instanceof W_)return function(n,r){if(!W2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=wf(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Kt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Qj(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=er.fromDate(n);return{timestampValue:Rm(r.serializer,i)}}if(n instanceof er){const i=new er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Rm(r.serializer,i)}}if(n instanceof K_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof rc)return{bytesValue:g2(r.serializer,n._byteString)};if(n instanceof Gr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:A_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${wv(n)}`)}(t,e)}function q2(t,e){const n={};return jR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dl(t,(r,i)=>{const s=wf(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function X2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof er||t instanceof K_||t instanceof rc||t instanceof Gr||t instanceof W_)}function G_(t,e,n){if(!X2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=wv(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function ew(t,e,n){if((e=Kt(e))instanceof Sv)return e._internalPath;if(typeof e=="string")return Y_(t,e);throw $m("Field path arguments must be of type string or ",t,!1,void 0,n)}const nW=new RegExp("[~\\*/\\[\\]]");function Y_(t,e,n){if(e.search(nW)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sv(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $m(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Le(me.INVALID_ARGUMENT,a+t+l)}function Q2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q_=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ev("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},rW=class extends q_{data(){return super.data()}};function Ev(t,e){return typeof e=="string"?Y_(t,e):e instanceof Sv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let X_=class{},Iv=class extends X_{};function Z2(t,e,...n){let r=[];e instanceof X_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof iW).length,o=i.filter(a=>a instanceof eN).length;if(s>1||s>0&&o>0)throw new Le(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let eN=class tN extends Iv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tN(e,n,r)}_apply(e){const n=this._parse(e);return oN(e._query,n),new Ws(e.firestore,e.converter,W0(e._query,n))}_parse(e){const n=bf(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Le(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){nC(c,u);const h=[];for(const f of c)h.push(tC(a,i,f));d={arrayValue:{values:h}}}else d=tC(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||nC(c,u),d=Y2(o,s,c,u==="in"||u==="not-in");return vr.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function tw(t,e,n){const r=e,i=Ev("where",t);return eN._create(i,r,n)}let iW=class nN extends X_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)oN(s,a),s=W0(s,a)}(e._query,n),new Ws(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},sW=class rN extends Iv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rN(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Le(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Le(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Du(i,s);return function(a,l){if(T_(a)===null){const u=dv(a);u!==null&&aN(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Rl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function eC(t,e="asc"){const n=e,r=Ev("orderBy",t);return sW._create(r,n)}let oW=class iN extends Iv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new iN(e,n,r)}_apply(e){return new Ws(e.firestore,e.converter,Pm(e._query,this._limit,this._limitType))}};function aW(t){return GH("limit",t),oW._create("limit",t,"F")}let lW=class sN extends Iv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sN(e,n,r)}_apply(e){const n=cW(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,function(r,i){return new Rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}};function uW(...t){return lW._create("startAfter",t,!1)}function cW(t,e,n,r){if(n[0]=Kt(n[0]),n[0]instanceof q_)return function(i,s,o,a,l){if(!a)throw new Le(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Ja(i))if(c.field.isKeyField())u.push(km(s,a.key));else{const d=a.data.field(c.field);if(uv(d))throw new Le(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new Le(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new tc(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=bf(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new Le(me.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<u.length;f++){const p=u[f];if(d[f].field.isKeyField()){if(typeof p!="string")throw new Le(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!S_(s)&&p.indexOf("/")!==-1)throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(Bn.fromString(p));if(!ot.isDocumentKey(m))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const g=new ot(m);h.push(km(o,g))}else{const m=Y2(a,l,p);h.push(m)}}return new tc(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function tC(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new Le(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S_(e)&&n.indexOf("/")!==-1)throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bn.fromString(n));if(!ot.isDocumentKey(r))throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return km(t,new ot(r))}if(n instanceof Gr)return km(t,n._key);throw new Le(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wv(n)}.`)}function nC(t,e){if(!Array.isArray(t)||t.length===0)throw new Le(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oN(t,e){if(e.isInequality()){const r=dv(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Le(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=T_(t);s!==null&&aN(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Le(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function aN(t,e,n){if(!n.isEqual(e))throw new Le(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let dW=class{convertValue(e,n="none"){switch(yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ft()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Dl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new K_(Zn(e.latitude),Zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=y_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const n=ca(e);return new er(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bn.fromString(e);Tn(_2(r));const i=new WR(r.get(1),r.get(3)),s=new ot(r.popFirst(5));return i.isEqual(n)||fo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uN extends q_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Up extends uN{data(e={}){return super.data(e)}}class cN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Up(this._firestore,this._userDataWriter,r.key,r,new cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Up(r._firestore,r._userDataWriter,o.doc.key,o.doc,new cd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Up(r._firestore,r._userDataWriter,o.doc.key,o.doc,new cd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:hW(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t){t=bi(t,Gr);const e=bi(t.firestore,yo);return WH(Tv(e),t._key).then(n=>dN(e,t,n))}class Q_ extends dW{constructor(e){super(),this.firestore=e}convertBytes(e){return new rc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,n)}}function pW(t){t=bi(t,Ws);const e=bi(t.firestore,yo),n=Tv(e),r=new Q_(e);return J2(t._query),KH(n,t._query).then(i=>new cN(e,r,t,i))}function mW(t,e,n){t=bi(t,Gr);const r=bi(t.firestore,yo),i=lN(t.converter,e,n);return Cv(r,[K2(bf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ki.none())])}function gW(t,e,n,...r){t=bi(t,Gr);const i=bi(t.firestore,yo),s=bf(i);let o;return o=typeof(e=Kt(e))=="string"||e instanceof Sv?tW(s,"updateDoc",t._key,e,n,r):eW(s,"updateDoc",t._key,e),Cv(i,[o.toMutation(t._key,Ki.exists(!0))])}function vW(t){return Cv(bi(t.firestore,yo),[new E_(t._key,Ki.none())])}function yW(t,e){const n=bi(t.firestore,yo),r=zt(t),i=lN(t.converter,e);return Cv(n,[K2(bf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ki.exists(!1))]).then(()=>r)}function dd(t,...e){var n,r,i;t=Kt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ZI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ZI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Gr)u=bi(t.firestore,yo),c=cv(t._key.path),l={next:d=>{e[o]&&e[o](dN(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=bi(t,Ws);u=bi(d.firestore,yo),c=d._query;const h=new Q_(u);l={next:f=>{e[o]&&e[o](new cN(u,h,d,f))},error:e[o+1],complete:e[o+2]},J2(t._query)}return function(d,h,f,p){const m=new H_(p),g=new B_(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>F_(await Mm(d),g)),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(async()=>V_(await Mm(d),g))}}(Tv(u),c,a,l)}function Cv(t,e){return function(n,r){const i=new oo;return n.asyncQueue.enqueueAndForget(async()=>PH(await HH(n),r,i)),i.promise}(Tv(t),e)}function dN(t,e,n){const r=n.docs.get(e._key),i=new Q_(t);return new uN(t,i,e._key,r,new cd(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Ic=n})(ya),_i(new si("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new yo(new vj(n.getProvider("auth-internal")),new _j(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Le(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new WR(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Dr(bI,"3.13.0",t),Dr(bI,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="firebasestorage.googleapis.com",fN="storageBucket",bW=2*60*1e3,wW=10*60*1e3,_W=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends $i{constructor(e,n,r=0){super(Uy(e),`Firebase Storage: ${n} (${Uy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var En;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(En||(En={}));function Uy(t){return"storage/"+t}function J_(){const t="An unknown error occurred, please check the error payload for server response.";return new Mn(En.UNKNOWN,t)}function TW(t){return new Mn(En.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function SW(t){return new Mn(En.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mn(En.UNAUTHENTICATED,t)}function IW(){return new Mn(En.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function CW(t){return new Mn(En.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function pN(){return new Mn(En.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mN(){return new Mn(En.CANCELED,"User canceled the upload/download.")}function OW(t){return new Mn(En.INVALID_URL,"Invalid URL '"+t+"'.")}function AW(t){return new Mn(En.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kW(){return new Mn(En.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fN+"' property when initializing the app?")}function gN(){return new Mn(En.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PW(){return new Mn(En.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function xW(){return new Mn(En.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DW(t){return new Mn(En.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nw(t){return new Mn(En.INVALID_ARGUMENT,t)}function vN(){return new Mn(En.APP_DELETED,"The Firebase app was deleted.")}function RW(t){return new Mn(En.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xd(t,e){return new Mn(En.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fc(t){throw new Mn(En.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Oi.makeFromUrl(e,n)}catch{return new Oi(e,"")}if(r.path==="")return r;throw AW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===hN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<_.length;w++){const T=_[w],S=T.regex.exec(e);if(S){const O=S[T.indices.bucket];let R=S[T.indices.path];R||(R=""),r=new Oi(O,R),T.postModify(r);break}}if(r==null)throw OW(e);return r}}class NW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(f,l())},g)}function h(){s&&clearTimeout(s)}function f(g,...y){if(u){h();return}if(g){h(),c.call(null,g,...y);return}if(l()||o){h(),c.call(null,g,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function m(g){p||(p=!0,h(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function $W(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t){return t!==void 0}function FW(t){return typeof t=="function"}function VW(t){return typeof t=="object"&&!Array.isArray(t)}function Ov(t){return typeof t=="string"||t instanceof String}function rC(t){return Z_()&&t instanceof Blob}function Z_(){return typeof Blob<"u"&&!cU()}function iC(t,e,n,r){if(r<e)throw nw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function yN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Za||(Za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Za.NO_ERROR,l=s.getStatus();if(!a||bN(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Za.ABORT;r(!1,new lp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new lp(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());LW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=J_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?vN():mN();o(l)}else{const l=pN();o(l)}};this.canceled_?n(!1,new lp(!1,null,!0)):this.backoffId_=MW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$W(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function BW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function WW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KW(t,e,n,r,i,s,o=!0){const a=yN(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return HW(u,e),BW(u,n),jW(u,s),WW(u,r),new UW(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GW(...t){const e=zW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Z_())return new Blob(t);throw new Mn(En.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t){if(typeof atob>"u")throw DW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class By{constructor(e,n){this.data=e,this.contentType=n||null}}function XW(t,e){switch(t){case ks.RAW:return new By(wN(e));case ks.BASE64:case ks.BASE64URL:return new By(_N(t,e));case ks.DATA_URL:return new By(JW(e),ZW(e))}throw J_()}function wN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function QW(t){let e;try{e=decodeURIComponent(t)}catch{throw xd(ks.DATA_URL,"Malformed data URL.")}return wN(e)}function _N(t,e){switch(t){case ks.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw xd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ks.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw xd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=qW(e)}catch(i){throw i.message.includes("polyfill")?i:xd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class TN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xd(ks.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JW(t){const e=new TN(t);return e.base64?_N(ks.BASE64,e.rest):QW(e.rest)}function ZW(t){return new TN(t).contentType}function eK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){let r=0,i="";rC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(rC(this.data_)){const r=this.data_,i=YW(r,e,n);return i===null?null:new Ho(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ho(r,!0)}}static getBlob(...e){if(Z_()){const n=e.map(r=>r instanceof Ho?r.data_:r);return new Ho(GW.apply(null,n))}else{const n=e.map(o=>Ov(o)?XW(ks.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ho(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){let e;try{e=JSON.parse(t)}catch{return null}return VW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t,e){return e}class Qr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||rK}}let up=null;function iK(t){return!Ov(t)||t.length<2?t:EN(t)}function IN(){if(up)return up;const t=[];t.push(new Qr("bucket")),t.push(new Qr("generation")),t.push(new Qr("metageneration")),t.push(new Qr("name","fullPath",!0));function e(s,o){return iK(o)}const n=new Qr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Qr("size");return i.xform=r,t.push(i),t.push(new Qr("timeCreated")),t.push(new Qr("updated")),t.push(new Qr("md5Hash",null,!0)),t.push(new Qr("cacheControl",null,!0)),t.push(new Qr("contentDisposition",null,!0)),t.push(new Qr("contentEncoding",null,!0)),t.push(new Qr("contentLanguage",null,!0)),t.push(new Qr("contentType",null,!0)),t.push(new Qr("metadata","customMetadata",!0)),up=t,up}function sK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Oi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function oK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return sK(r,t),r}function CN(t,e,n){const r=SN(e);return r===null?null:oK(t,r,n)}function aK(t,e,n,r){const i=SN(e);if(i===null||!Ov(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=Ac(h,n,r),p=yN({alt:"media",token:u});return f+p})[0]}function ON(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ml{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){if(!t)throw J_()}function eT(t,e){function n(r,i){const s=CN(t,i,e);return ao(s!==null),s}return n}function lK(t,e){function n(r,i){const s=CN(t,i,e);return ao(s!==null),aK(s,i,t.host,t._protocol)}return n}function _f(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=IW():i=EW():n.getStatus()===402?i=SW(t.bucket):n.getStatus()===403?i=CW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function tT(t){const e=_f(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=TW(t.path)),s.serverResponse=i.serverResponse,s}return n}function uK(t,e,n){const r=e.fullServerUrl(),i=Ac(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ml(i,s,eT(t,n),o);return a.errorHandler=tT(e),a}function cK(t,e,n){const r=e.fullServerUrl(),i=Ac(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ml(i,s,lK(t,n),o);return a.errorHandler=tT(e),a}function dK(t,e){const n=e.fullServerUrl(),r=Ac(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Ml(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=tT(e),a}function hK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hK(null,e)),r}function fK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let w=0;w<2;w++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=AN(e,r,i),c=ON(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Ho.getBlob(d,r,h);if(f===null)throw gN();const p={name:u.fullPath},m=Ac(s,t.host,t._protocol),g="POST",y=t.maxUploadRetryTime,b=new Ml(m,g,eT(t,n),y);return b.urlParams=p,b.headers=o,b.body=f.uploadData(),b.errorHandler=_f(e),b}class Lm{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function nT(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ao(!1)}return ao(!!n&&(e||["active"]).indexOf(n)!==-1),n}function pK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=AN(e,r,i),a={name:o.fullPath},l=Ac(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=ON(o,n),h=t.maxUploadRetryTime;function f(m){nT(m);let g;try{g=m.getResponseHeader("X-Goog-Upload-URL")}catch{ao(!1)}return ao(Ov(g)),g}const p=new Ml(l,u,f,h);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=_f(e),p}function mK(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=nT(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ao(!1)}d||ao(!1);const h=Number(d);return ao(!isNaN(h)),new Lm(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ml(n,o,s,a);return l.headers=i,l.errorHandler=_f(e),l}const sC=256*1024;function gK(t,e,n,r,i,s,o,a){const l=new Lm(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw PW();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(m===null)throw gN();function g(w,T){const S=nT(w,["active","final"]),O=l.current+c,R=r.size();let D;return S==="final"?D=eT(e,s)(w,T):D=null,new Lm(O,R,S==="final",D)}const y="POST",b=e.maxUploadRetryTime,_=new Ml(n,y,g,b);return _.headers=p,_.body=m.uploadData(),_.progressCallback=a||null,_.errorHandler=_f(t),_}const di={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jy(t){switch(t){case"running":case"pausing":case"canceling":return di.RUNNING;case"paused":return di.PAUSED;case"success":return di.SUCCESS;case"canceled":return di.CANCELED;case"error":return di.ERROR;default:return di.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e,n,r){if(FW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class yK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Fc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bK extends yK{initXhr(){this.xhr_.responseType="text"}}function Fa(){return new bK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=IN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(En.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(bN(i.status,[]))if(s)i=pN();else{this.sleepTime=Math.max(this.sleepTime*2,_W),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(En.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=pK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Fa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=mK(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Fa,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=sC*this._chunkMultiplier,n=new Lm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=gK(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Fa,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){sC*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=uK(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Fa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=fK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Fa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=mN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=jy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new vK(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(jy(this._state)){case di.SUCCESS:Wl(this._resolve.bind(null,this.snapshot))();break;case di.CANCELED:case di.ERROR:const n=this._reject;Wl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(jy(this._state)){case di.RUNNING:case di.PAUSED:e.next&&Wl(e.next.bind(e,this.snapshot))();break;case di.SUCCESS:e.complete&&Wl(e.complete.bind(e))();break;case di.CANCELED:case di.ERROR:e.error&&Wl(e.error.bind(e,this._error))();break;default:e.error&&Wl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this._service=e,n instanceof Oi?this._location=n:this._location=Oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bl(e,n)}get root(){const e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EN(this._location.path)}get storage(){return this._service}get parent(){const e=tK(this._location.path);if(e===null)return null;const n=new Oi(this._location.bucket,e);return new bl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RW(e)}}function _K(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new wK(t,new Ho(e),n)}function TK(t){t._throwIfRoot("getDownloadURL");const e=cK(t.storage,t._location,IN());return t.storage.makeRequestWithTokens(e,Fa).then(n=>{if(n===null)throw xW();return n})}function SK(t){t._throwIfRoot("deleteObject");const e=dK(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Fa)}function EK(t,e){const n=nK(t._location.path,e),r=new Oi(t._location.bucket,n);return new bl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(t){return/^[A-Za-z]+:\/\//.test(t)}function CK(t,e){return new bl(t,e)}function kN(t,e){if(t instanceof rT){const n=t;if(n._bucket==null)throw kW();const r=new bl(n,n._bucket);return e!=null?kN(r,e):r}else return e!==void 0?EK(t,e):t}function OK(t,e){if(e&&IK(e)){if(t instanceof rT)return CK(t,e);throw nw("To use ref(service, url), the first argument must be a Storage instance.")}else return kN(t,e)}function oC(t,e){const n=e==null?void 0:e[fN];return n==null?null:Oi.makeFromBucketSpec(n,t)}function AK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:$x(i,t.app.options.projectId))}class rT{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=hN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bW,this._maxUploadRetryTime=wW,this._requests=new Set,i!=null?this._bucket=Oi.makeFromBucketSpec(i,this._host):this._bucket=oC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=oC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new NW(vN());{const o=KW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const aC="@firebase/storage",lC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="storage";function kK(t,e,n){return t=Kt(t),_K(t,e,n)}function PK(t){return t=Kt(t),TK(t)}function xK(t){return t=Kt(t),SK(t)}function DK(t,e){return t=Kt(t),OK(t,e)}function RK(t=Tc(),e){t=Kt(t);const r=Hs(t,PN).getImmediate({identifier:e}),i=Rx("storage");return i&&NK(r,...i),r}function NK(t,e,n,r={}){AK(t,e,n,r)}function MK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rT(n,r,i,e,ya)}function $K(){_i(new si(PN,MK,"PUBLIC").setMultipleInstances(!0)),Dr(aC,lC,""),Dr(aC,lC,"esm2017")}$K();const xN=1e3,rw=xN*60,iw=rw*60,Fm=iw*24,Vm=Fm*365,DN=async t=>{const e=await fW(t),n=e.data();return n?{id:e.id,...n}:null},Kl=async(t,e)=>{const n=await pW(e?Z2(t,...e):t);return Promise.all(n.docs.map(r=>DN(r.ref)))},Ui=DN,LK=yW,Um=mW,Bo=gW,hd=vW,sw=t=>DK(RK(),t),uC=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),FK=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},us=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!us(a,o[l])||o.some((u,c)=>!us(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!us(r,i))return!1}else if(r!==i)return!1}return!0},ow=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/Vm,o=r%Vm/Fm,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}},Bp=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},VK=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Ys=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Da=t=>Array.isArray(t)?t:[t],UK=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},aw=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),Tf=t=>Object.keys(t).map(e=>t[e].error).some(e=>typeof e=="boolean"?e:typeof e=="string"?!!e:e.some(n=>n)),RN=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},cC=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)};function iT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function NN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BK=NN,MN=new va("auth","Firebase",NN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new _c("@firebase/auth");function jK(t,...e){Bm.logLevel<=jt.WARN&&Bm.warn(`Auth (${ya}): ${t}`,...e)}function jp(t,...e){Bm.logLevel<=jt.ERROR&&Bm.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw sT(t,...e)}function Ns(t,...e){return sT(t,...e)}function HK(t,e,n){const r=Object.assign(Object.assign({},BK()),{[e]:n});return new va("auth","Firebase",r).create(e,{appName:t.name})}function sT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MN.create(t,...e)}function at(t,e,...n){if(!t)throw sT(e,...n)}function Zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jp(e),new Error(e)}function bo(t,e){t||Zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WK(){return dC()==="http:"||dC()==="https:"}function dC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WK()||Lx()||"connection"in navigator)?navigator.onLine:!0}function zK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,bo(n>e,"Short delay should be less than long delay!"),this.isMobile=M1()||Fx()}get(){return KK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t,e){bo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK=new Sf(3e4,6e4);function $l(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ll(t,e,n,r,i={}){return LN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),$N.fetch()(FN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function LN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GK),e);try{const i=new qK(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw cp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw cp(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HK(t,c,u);vs(t,c)}}catch(i){if(i instanceof $i)throw i;vs(t,"network-request-failed",{message:String(i)})}}async function Ef(t,e,n,r,i={}){const s=await Ll(t,e,n,r,i);return"mfaPendingCredential"in s&&vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function FN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?oT(t.config,i):`${t.config.apiScheme}://${i}`}class qK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ns(this.auth,"network-request-failed")),YK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ns(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XK(t,e){return Ll(t,"POST","/v1/accounts:delete",e)}async function QK(t,e){return Ll(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JK(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),i=aT(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dd(Hy(i.auth_time)),issuedAtTime:Dd(Hy(i.iat)),expirationTime:Dd(Hy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hy(t){return Number(t)*1e3}function aT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const i=gm(n);return i?JSON.parse(i):(jp("Failed to decode base64 JWT payload"),null)}catch(i){return jp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZK(t){const e=aT(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $i&&ez(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ez({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dd(this.lastLoginAt),this.creationTime=Dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ic(t,QK(n,{idToken:r}));at(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iz(s.providerUserInfo):[],a=rz(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new VN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function nz(t){const e=Kt(t);await jm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iz(t){return t.map(e=>{var{providerId:n}=e,r=iT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(t,e){const n=await LN(t,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$N.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZK(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return at(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await sz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _h;return r&&(at(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(at(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _h,this.toJSON())}_performRefresh(){return Zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class el{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JK(this,e)}reload(){return nz(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new el(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ic(this,XK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:w,isAnonymous:T,providerData:S,stsTokenManager:O}=n;at(_&&O,e,"internal-error");const R=_h.fromJSON(this.name,O);at(typeof _=="string",e,"internal-error"),ko(d,e.name),ko(h,e.name),at(typeof w=="boolean",e,"internal-error"),at(typeof T=="boolean",e,"internal-error"),ko(f,e.name),ko(p,e.name),ko(m,e.name),ko(g,e.name),ko(y,e.name),ko(b,e.name);const D=new el({uid:_,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:R,createdAt:y,lastLoginAt:b});return S&&Array.isArray(S)&&(D.providerData=S.map(C=>Object.assign({},C))),g&&(D._redirectEventId=g),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new _h;i.updateFromServerResponse(n);const s=new el({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Map;function eo(t){bo(t instanceof Function,"Expected a class definition");let e=hC.get(t);return e?(bo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UN.type="NONE";const fC=UN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e,n){return`firebase:${t}:${e}:${n}`}class Nu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?el._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nu(eo(fC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||eo(fC);const o=Hp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=el._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Nu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Nu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KN(e))return"Blackberry";if(zN(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||jN(e))&&!e.includes("edge/"))return"Chrome";if(WN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BN(t=qr()){return/firefox\//i.test(t)}function lT(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jN(t=qr()){return/crios\//i.test(t)}function HN(t=qr()){return/iemobile/i.test(t)}function WN(t=qr()){return/android/i.test(t)}function KN(t=qr()){return/blackberry/i.test(t)}function zN(t=qr()){return/webos/i.test(t)}function Av(t=qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oz(t=qr()){var e;return Av(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function az(){return dU()&&document.documentMode===10}function GN(t=qr()){return Av(t)||WN(t)||zN(t)||KN(t)||/windows phone/i.test(t)||HN(t)}function lz(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e=[]){let n;switch(t){case"Browser":n=pC(qr());break;case"Worker":n=`${pC(qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${r}`}async function qN(t,e){return Ll(t,"GET","/v2/recaptchaConfig",$l(t,e))}function mC(t){return t!==void 0&&t.enterprise!==void 0}class XN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function QN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ns("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uz().appendChild(r)})}function cz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dz="https://www.google.com/recaptcha/enterprise.js?render=",hz="recaptcha-enterprise",fz="NO_RECAPTCHA";class JN{constructor(e){this.type=hz,this.auth=Fl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{qN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new XN(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;mC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(fz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&mC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}QN(dz+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function sc(t,e,n,r=!1){const i=new JN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gC(this),this.idTokenSubscription=new gC(this),this.beforeStateQueue=new pz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=eo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Kt(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(eo(e))})}async initializeRecaptchaConfig(){const e=await qN(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new XN(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new JN(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new va("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&eo(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await Nu.create(this,[eo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return at(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fl(t){return Kt(t)}class gC{constructor(e){this.auth=e,this.observer=null,this.addObserver=bU(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e){const n=Hs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ih(s,e??{}))return i;vs(i,"already-initialized")}return n.initialize({options:e})}function gz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(eo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vz(t,e,n){const r=Fl(t);at(r._canInitEmulator,r,"emulator-config-failed"),at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=eM(e),{host:o,port:a}=yz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||bz()}function eM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yz(t){const e=eM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:vC(o)}}}function vC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,n){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function tM(t,e){return Ll(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wy(t,e){return Ef(t,"POST","/v1/accounts:signInWithPassword",$l(t,e))}async function wz(t,e){return Ll(t,"POST","/v1/accounts:sendOobCode",$l(t,e))}async function Ky(t,e){return wz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e){return Ef(t,"POST","/v1/accounts:signInWithEmailLink",$l(t,e))}async function Tz(t,e){return Ef(t,"POST","/v1/accounts:signInWithEmailLink",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends uT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Th(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Th(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await sc(e,r,"signInWithPassword");return Wy(e,i)}else return Wy(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await sc(e,r,"signInWithPassword");return Wy(e,s)}else return Promise.reject(i)});case"emailLink":return _z(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return tM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Tz(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t,e){return Ef(t,"POST","/v1/accounts:signInWithIdp",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="http://localhost";class wl extends uT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iT(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mu(e,n)}buildRequest(){const e={requestUri:Sz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Iz(t){const e=nd(rd(t)).link,n=e?nd(rd(e)).deep_link_id:null,r=nd(rd(t)).deep_link_id;return(r?nd(rd(r)).link:null)||r||n||e||t}class cT{constructor(e){var n,r,i,s,o,a;const l=nd(rd(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Ez((i=l.mode)!==null&&i!==void 0?i:null);at(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Iz(e);try{return new cT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return Th._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cT.parseLink(n);return at(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends nM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends If{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wl._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ko.credential(n,r)}catch{return null}}}Ko.GOOGLE_SIGN_IN_METHOD="google.com";Ko.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends If{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zo.credential(e.oauthAccessToken)}catch{return null}}}zo.GITHUB_SIGN_IN_METHOD="github.com";zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends If{constructor(){super("twitter.com")}static credential(e,n){return wl._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zy(t,e){return Ef(t,"POST","/v1/accounts:signUp",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await el._fromIdTokenResponse(e,r,i),o=yC(r);return new _l({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yC(r);return new _l({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends $i{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hm(e,n,r,i)}}function rM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hm._fromErrorAndOperation(t,s,e,r):s})}async function Cz(t,e,n=!1){const r=await ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _l._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ic(t,rM(r,i,e,t),n);at(s.idToken,r,"internal-error");const o=aT(s.idToken);at(o,r,"internal-error");const{sub:a}=o;return at(t.uid===a,r,"user-mismatch"),_l._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e,n=!1){const r="signIn",i=await rM(t,r,e),s=await _l._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Oz(t,e){return sM(Fl(t),e)}async function bC(t,e){return iM(Kt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e,n){var r;at(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),at(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(at(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(at(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e,n){var r;const i=Fl(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await sc(i,s,"getOobCode",!0);n&&Gy(i,o,n),await Ky(i,o)}else n&&Gy(i,s,n),await Ky(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await sc(i,s,"getOobCode",!0);n&&Gy(i,a,n),await Ky(i,a)}else return Promise.reject(o)})}async function kz(t,e,n){var r;const i=Fl(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await sc(i,s,"signUpPassword");o=zy(i,u)}else o=zy(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await sc(i,s,"signUpPassword");return zy(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await _l._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Pz(t,e,n){return Oz(Kt(t),ha.credential(e,n))}function xz(t,e){return oM(Kt(t),e,null)}function Dz(t,e){return oM(Kt(t),null,e)}async function oM(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await ic(t,tM(r,s));await t._updateTokensIfNecessary(o,!0)}function aM(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function Rz(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function Nz(t){return Kt(t).signOut()}async function Mz(t){return Kt(t).delete()}const Wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wm,"1"),this.storage.removeItem(Wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(){const t=qr();return lT(t)||Av(t)}const Lz=1e3,Fz=10;class uM extends lM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$z()&&lz(),this.fallbackToPolling=GN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);az()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Fz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Lz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uM.type="LOCAL";const cM=uM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM extends lM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dM.type="SESSION";const dT=dM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new kv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Vz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=hT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function Bz(t){Ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function jz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Wz(){return hM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="firebaseLocalStorageDb",Kz=1,Km="firebaseLocalStorage",pM="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pv(t,e){return t.transaction([Km],e?"readwrite":"readonly").objectStore(Km)}function zz(){const t=indexedDB.deleteDatabase(fM);return new Cf(t).toPromise()}function uw(){const t=indexedDB.open(fM,Kz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Km,{keyPath:pM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Km)?e(r):(r.close(),await zz(),e(await uw()))})})}async function wC(t,e,n){const r=Pv(t,!0).put({[pM]:e,value:n});return new Cf(r).toPromise()}async function Gz(t,e){const n=Pv(t,!1).get(e),r=await new Cf(n).toPromise();return r===void 0?null:r.value}function _C(t,e){const n=Pv(t,!0).delete(e);return new Cf(n).toPromise()}const Yz=800,qz=3;class mM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kv._getInstance(Wz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jz(),!this.activeServiceWorker)return;this.sender=new Uz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uw();return await wC(e,Wm,"1"),await _C(e,Wm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Gz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_C(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Pv(i,!1).getAll();return new Cf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mM.type="LOCAL";const gM=mM;new Sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t,e){return e?eo(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT extends uT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Qz(t){return sM(t.auth,new fT(t),t.bypassAuthState)}function Jz(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),iM(n,new fT(t),t.bypassAuthState)}async function Zz(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),Cz(n,new fT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qz;case"linkViaPopup":case"linkViaRedirect":return Zz;case"reauthViaPopup":case"reauthViaRedirect":return Jz;default:vs(this.auth,"internal-error")}}resolve(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=new Sf(2e3,1e4);class hu extends vM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hu.currentPopupAction&&hu.currentPopupAction.cancel(),hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){bo(this.filter.length===1,"Popup operations only handle one event");const e=hT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eG.get())};e()}}hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG="pendingRedirect",Wp=new Map;class nG extends vM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wp.get(this.auth._key());if(!e){try{const r=await rG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wp.set(this.auth._key(),e)}return this.bypassAuthState||Wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rG(t,e){const n=oG(e),r=sG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iG(t,e){Wp.set(t._key(),e)}function sG(t){return eo(t._redirectPersistence)}function oG(t){return Hp(tG,t.config.apiKey,t.name)}async function aG(t,e,n=!1){const r=Fl(t),i=Xz(r,e),o=await new nG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=10*60*1e3;class uG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ns(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lG&&this.cachedEventUids.clear(),this.cachedEventUids.has(TC(e))}saveEventToCache(e){this.cachedEventUids.add(TC(e)),this.lastProcessedEventTime=Date.now()}}function TC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dG(t,e={}){return Ll(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fG=/^https?/;async function pG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dG(t);for(const n of e)try{if(mG(n))return}catch{}vs(t,"unauthorized-domain")}function mG(t){const e=lw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!fG.test(n))return!1;if(hG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=new Sf(3e4,6e4);function SC(){const t=Ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vG(t){return new Promise((e,n)=>{var r,i,s;function o(){SC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SC(),n(Ns(t,"network-request-failed"))},timeout:gG.get()})}if(!((i=(r=Ms().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ms().gapi)===null||s===void 0)&&s.load)o();else{const a=cz("iframefcb");return Ms()[a]=()=>{gapi.load?o():n(Ns(t,"network-request-failed"))},QN(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kp=null,e})}let Kp=null;function yG(t){return Kp=Kp||vG(t),Kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=new Sf(5e3,15e3),wG="__/auth/iframe",_G="emulator/auth/iframe",TG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EG(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oT(e,_G):`https://${t.config.authDomain}/${wG}`,r={apiKey:e.apiKey,appName:t.name,v:ya},i=SG.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wc(r).slice(1)}`}async function IG(t){const e=await yG(t),n=Ms().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:EG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ns(t,"network-request-failed"),a=Ms().setTimeout(()=>{s(o)},bG.get());function l(){Ms().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OG=500,AG=600,kG="_blank",PG="http://localhost";class EC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xG(t,e,n,r=OG,i=AG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},CG),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qr().toLowerCase();n&&(a=jN(u)?kG:n),BN(u)&&(e=e||PG,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(oz(u)&&a!=="_self")return DG(e||"",a),new EC(null);const d=window.open(e||"",a,c);at(d,t,"popup-blocked");try{d.focus()}catch{}return new EC(d)}function DG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG="__/auth/handler",NG="emulator/auth/handler",MG=encodeURIComponent("fac");async function IC(t,e,n,r,i,s){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ya,eventId:i};if(e instanceof nM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",a0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof If){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${MG}=${encodeURIComponent(l)}`:"";return`${$G(t)}?${wc(a).slice(1)}${u}`}function $G({config:t}){return t.emulator?oT(t,NG):`https://${t.authDomain}/${RG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="webStorageSupport";class LG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dT,this._completeRedirectFn=aG,this._overrideRedirectResult=iG}async _openPopup(e,n,r,i){var s;bo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await IC(e,n,r,lw(),i);return xG(e,o,hT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await IC(e,n,r,lw(),i);return Bz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(bo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IG(e),r=new uG(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yy,{type:Yy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Yy];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GN()||lT()||Av()}}const bM=LG;var CC="@firebase/auth",OC="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function UG(t){_i(new si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YN(t)},u=new mz(r,i,s,l);return gz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_i(new si("auth-internal",e=>{const n=Fl(e.getProvider("auth").getImmediate());return(r=>new FG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(CC,OC,VG(t)),Dr(CC,OC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=5*60,jG=Mx("authIdTokenMaxAge")||BG;let AC=null;const HG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jG)return;const i=n==null?void 0:n.token;AC!==i&&(AC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WG(t=Tc()){const e=Hs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ZN(t,{popupRedirectResolver:bM,persistence:[gM,cM,dT]}),r=Mx("authTokenSyncURL");if(r){const s=HG(r);Rz(n,s,()=>s(n.currentUser)),aM(n,o=>s(o))}const i=Dx("auth");return i&&vz(n,`http://${i}`),n}UG("Browser");const wM=Symbol("firebaseApp");function _M(t){return qi()&&ii(wM,null)||Tc(t)}const dp=new WeakMap;function KG(t,e){if(!dp.has(t)){const n=_g(!0);dp.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),dp.delete(t)}}return dp.get(t)}const zG=new WeakMap,hp=new WeakMap;function GG(t){const e=_M(t);if(!hp.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{hp.set(e,s),n(s.value)}];hp.set(e,i)}return hp.get(e)}function YG(t,e){aM(e,n=>{const r=GG();t.value=n,Array.isArray(r)&&r[1](t)})}var kC={};const PC="@firebase/database",xC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TM="";function qG(t){TM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),kr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:rh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return To(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new XG(e)}}catch{}return new QG},Ka=SM("localStorage"),cw=SM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new _c("@firebase/database"),JG=function(){let t=1;return function(){return t++}}(),EM=function(t){const e=SU(t),n=new yU;n.update(e);const r=n.digest();return Vg.encodeByteArray(r)},Of=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Of.apply(null,r):typeof r=="object"?e+=kr(r):e+=r,e+=" "}return e};let tl=null,DC=!0;const ZG=function(t,e){Ve(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($u.logLevel=jt.VERBOSE,tl=$u.log.bind($u),e&&cw.set("logging_enabled",!0)):typeof t=="function"?tl=t:(tl=null,cw.remove("logging_enabled"))},Vr=function(...t){if(DC===!0&&(DC=!1,tl===null&&cw.get("logging_enabled")===!0&&ZG(!0)),tl){const e=Of.apply(null,t);tl(e)}},Af=function(t){return function(...e){Vr(t,...e)}},dw=function(...t){const e="FIREBASE INTERNAL ERROR: "+Of(...t);$u.error(e)},Tl=function(...t){const e=`FIREBASE FATAL ERROR: ${Of(...t)}`;throw $u.error(e),new Error(e)},Ri=function(...t){const e="FIREBASE WARNING: "+Of(...t);$u.warn(e)},eY=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},IM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tY=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oc="[MIN_NAME]",Sl="[MAX_NAME]",kc=function(t,e){if(t===e)return 0;if(t===oc||e===Sl)return-1;if(e===oc||t===Sl)return 1;{const n=RC(t),r=RC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},nY=function(t,e){return t===e?0:t<e?-1:1},Vc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+kr(e))},pT=function(t){if(typeof t!="object"||t===null)return kr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=kr(e[r]),n+=":",n+=pT(t[e[r]]);return n+="}",n},CM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function zi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const OM=function(t){Ve(!IM(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},rY=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},sY=new RegExp("^-?(0*)\\d{1,10}$"),oY=-2147483648,aY=2147483647,RC=function(t){if(sY.test(t)){const e=Number(t);if(e>=oY&&e<=aY)return e}return null},kf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ri("Exception was thrown by user callback.",n),e},Math.floor(0))}},lY=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Rd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}}class hw{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hw.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="5",AM="v",kM="s",PM="r",xM="f",DM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RM="ls",NM="p",fw="ac",MM="websocket",$M="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ka.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ka.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function hY(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function LM(t,e,n){Ve(typeof e=="string","typeof type must == string"),Ve(typeof n=="object","typeof params must == object");let r;if(e===MM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===$M)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hY(t)&&(n.ns=t.namespace);const i=[];return zi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(){this.counters_={}}incrementCounter(e,n=1){To(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={},Xy={};function gT(t){const e=t.toString();return qy[e]||(qy[e]=new fY),qy[e]}function pY(t,e){const n=t.toString();return Xy[n]||(Xy[n]=e()),Xy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&kf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="start",gY="close",vY="pLPCommand",yY="pRTLPCB",FM="id",VM="pw",UM="ser",bY="cb",wY="seg",_Y="ts",TY="d",SY="dframe",BM=1870,jM=30,EY=BM-jM,IY=25e3,CY=3e4;class fu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Af(e),this.stats_=gT(n),this.urlFn=l=>(this.appCheckToken&&(l[fw]=this.appCheckToken),LM(n,$M,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mY(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CY)),tY(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vT((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===NC)this.id=a,this.password=l;else if(o===gY)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[NC]="t",r[UM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bY]=this.scriptTagHolder.uniqueCallbackIdentifier),r[AM]=mT,this.transportSessionId&&(r[kM]=this.transportSessionId),this.lastSessionId&&(r[RM]=this.lastSessionId),this.applicationId&&(r[NM]=this.applicationId),this.appCheckToken&&(r[fw]=this.appCheckToken),typeof location<"u"&&location.hostname&&DM.test(location.hostname)&&(r[PM]=xM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fu.forceAllow_=!0}static forceDisallow(){fu.forceDisallow_=!0}static isAvailable(){return fu.forceAllow_?!0:!fu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rY()&&!iY()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=kr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kx(n),i=CM(r,EY);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[SY]="t",r[FM]=e,r[VM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=kr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class vT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=JG(),window[vY+this.uniqueCallbackIdentifier]=e,window[yY+this.uniqueCallbackIdentifier]=n,this.myIFrame=vT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Vr("frame writing exception"),a.stack&&Vr(a.stack),Vr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FM]=this.myID,e[VM]=this.myPW,e[UM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jM+r.length<=BM;){const o=this.pendingSegs.shift();r=r+"&"+wY+i+"="+o.seg+"&"+_Y+i+"="+o.ts+"&"+TY+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(IY)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Vr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY=16384,AY=45e3;let zm=null;typeof MozWebSocket<"u"?zm=MozWebSocket:typeof WebSocket<"u"&&(zm=WebSocket);class ss{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Af(this.connId),this.stats_=gT(n),this.connURL=ss.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[AM]=mT,typeof location<"u"&&location.hostname&&DM.test(location.hostname)&&(o[PM]=xM),n&&(o[kM]=n),r&&(o[RM]=r),i&&(o[fw]=i),s&&(o[NM]=s),LM(e,MM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ka.set("previous_websocket_failure",!0);try{let r;Vx(),this.mySock=new zm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ss.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&zm!==null&&!ss.forceDisallow_}static previouslyFailed(){return Ka.isInMemoryStorage||Ka.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ka.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=rh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ve(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=kr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=CM(n,OY);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AY))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ss.responsesRequiredToBeHealthy=2;ss.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[fu,ss]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ss&&ss.isAvailable();let r=n&&!ss.previouslyFailed();if(e.webSocketOnly&&(n||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ss];else{const i=this.transports_=[];for(const s of Sh.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Sh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=6e4,PY=5e3,xY=10*1024,DY=100*1024,Qy="t",MC="d",RY="s",$C="r",NY="e",LC="o",FC="a",VC="n",UC="p",MY="h";class $Y{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Af("c:"+this.id+":"),this.transportManager_=new Sh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Rd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>DY?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xY?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qy in e){const n=e[Qy];n===FC?this.upgradeIfSecondaryHealthy_():n===$C?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===LC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vc("t",e),r=Vc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:UC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:VC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vc("t",e),r=Vc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vc(Qy,e);if(MC in e){const r=e[MC];if(n===MY){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===VC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===RY?this.onConnectionShutdown_(r):n===$C?this.onReset_(r):n===NY?dw("Server Error: "+r):n===LC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mT!==r&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Rd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kY))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PY))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:UC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.allowedEvents_=e,this.listeners_={},Ve(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ve(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends WM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!M1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gm}getInitialEvent(e){return Ve(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=32,jC=768;class In{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function sn(){return new In("")}function Nt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function fa(t){return t.pieces_.length-t.pieceNum_}function vn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new In(t.pieces_,e)}function KM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function LY(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function zM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function GM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new In(e,0)}function yr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof In)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new In(n,0)}function kt(t){return t.pieceNum_>=t.pieces_.length}function Hi(t,e){const n=Nt(t),r=Nt(e);if(n===null)return e;if(n===r)return Hi(vn(t),vn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function YM(t,e){if(fa(t)!==fa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function as(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(fa(t)>fa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class FY{constructor(e,n){this.errorPrefix_=n,this.parts_=zM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=jg(this.parts_[r]);qM(this)}}function VY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=jg(e),qM(t)}function UY(t){const e=t.parts_.pop();t.byteLength_-=jg(e),t.parts_.length>0&&(t.byteLength_-=1)}function qM(t){if(t.byteLength_>jC)throw new Error(t.errorPrefix_+"has a key path longer than "+jC+" bytes ("+t.byteLength_+").");if(t.parts_.length>BC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BC+") or object contains a cycle "+Ra(t))}function Ra(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends WM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new yT}getInitialEvent(e){return Ve(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=1e3,BY=60*5*1e3,HC=30*1e3,jY=1.3,HY=3e4,WY="server_kill",WC=3;class lo extends HM{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=lo.nextPersistentConnectionId_++,this.log_=Af("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uc,this.maxReconnectDelay_=BY,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Vx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Gm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(kr(s)),Ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new hl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ve(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;lo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&To(e,"w")){const r=qu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=HC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=gU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+kr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):dw("Unrecognized action received from server: "+kr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HY&&(this.reconnectDelay_=Uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+lo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Ve(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Vr("getToken() completed but was canceled"):(Vr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new $Y(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Ri(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(WY)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ri(d),l())}}}interrupt(e){Vr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],a0(this.interruptReasons_)&&(this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>pT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new In(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Vr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=WC&&(this.reconnectDelay_=HC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=WC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+TM.replace(/\./g,"-")]=1,M1()?e["framework.cordova"]=1:Fx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Gm.getInstance().currentlyOnline();return a0(this.interruptReasons_)&&e}}lo.nextPersistentConnectionId_=0;lo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Mt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Mt(oc,e),i=new Mt(oc,n);return this.compare(r,i)!==0}minPost(){return Mt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp;class XM extends xv{static get __EMPTY_NODE(){return fp}static set __EMPTY_NODE(e){fp=e}compare(e,n){return kc(e.name,n.name)}isDefinedOn(e){throw bc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Mt.MIN}maxPost(){return new Mt(Sl,fp)}makePost(e,n){return Ve(typeof e=="string","KeyIndex indexValue must always be a string."),new Mt(e,fp)}toString(){return".key"}}const Lu=new XM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gr.RED,this.left=i??gi.EMPTY_NODE,this.right=s??gi.EMPTY_NODE}copy(e,n,r,i,s){return new gr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return gi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gr.RED=!0;gr.BLACK=!1;class KY{copy(e,n,r,i,s){return this}insert(e,n,r){return new gr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gi{constructor(e,n=gi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gr.BLACK,null,null))}remove(e){return new gi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new pp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new pp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new pp(this.root_,null,this.comparator_,!0,e)}}gi.EMPTY_NODE=new KY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t,e){return kc(t.name,e.name)}function bT(t,e){return kc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pw;function GY(t){pw=t}const QM=function(t){return typeof t=="number"?"number:"+OM(t):"string:"+t},JM=function(t){if(t.isLeafNode()){const e=t.val();Ve(typeof e=="string"||typeof e=="number"||typeof e=="object"&&To(e,".sv"),"Priority must be a string or number.")}else Ve(t===pw||t.isEmpty(),"priority of unexpected type.");Ve(t===pw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KC;class pr{constructor(e,n=pr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ve(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),JM(this.priorityNode_)}static set __childrenNodeConstructor(e){KC=e}static get __childrenNodeConstructor(){return KC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kt(e)?this:Nt(e)===".priority"?this.priorityNode_:pr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Nt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ve(r!==".priority"||fa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pr.__childrenNodeConstructor.EMPTY_NODE.updateChild(vn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+QM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=OM(this.value_):e+=this.value_,this.lazyHash_=EM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pr.__childrenNodeConstructor?-1:(Ve(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=pr.VALUE_TYPE_ORDER.indexOf(n),s=pr.VALUE_TYPE_ORDER.indexOf(r);return Ve(i>=0,"Unknown leaf type: "+n),Ve(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZM,e$;function YY(t){ZM=t}function qY(t){e$=t}class XY extends xv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?kc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Mt.MIN}maxPost(){return new Mt(Sl,new pr("[PRIORITY-POST]",e$))}makePost(e,n){const r=ZM(e);return new Mt(n,new pr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Hr=new XY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=Math.log(2);class JY{constructor(e){const n=s=>parseInt(Math.log(s)/QY,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ym=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new gr(h,d.node,gr.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new gr(h,d.node,gr.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const g=d-p,y=d;d-=p;const b=i(g+1,y),_=t[g],w=n?n(_):_;f(new gr(w,_.node,m,null,b))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,gr.BLACK):(h(g,gr.BLACK),h(g,gr.RED))}return c},o=new JY(t.length),a=s(o);return new gi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy;const zl={};class to{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ve(zl&&Hr,"ChildrenNode.ts has not been loaded"),Jy=Jy||new to({".priority":zl},{".priority":Hr}),Jy}get(e){const n=qu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gi?n:null}hasIndex(e){return To(this.indexSet_,e.toString())}addIndex(e,n){Ve(e!==Lu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Mt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Ym(r,e.getCompare()):a=zl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new to(c,u)}addToIndexes(e,n){const r=vm(this.indexes_,(i,s)=>{const o=qu(this.indexSet_,s);if(Ve(o,"Missing index implementation for "+s),i===zl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Mt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Ym(a,o.getCompare())}else return zl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Mt(e.name,a))),l.insert(e,e.node)}});return new to(r,this.indexSet_)}removeFromIndexes(e,n){const r=vm(this.indexes_,i=>{if(i===zl)return i;{const s=n.get(e.name);return s?i.remove(new Mt(e.name,s)):i}});return new to(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;class Jt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&JM(this.priorityNode_),this.children_.isEmpty()&&Ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bc||(Bc=new Jt(new gi(bT),null,to.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bc}updatePriority(e){return this.children_.isEmpty()?this:new Jt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Bc:n}}getChild(e){const n=Nt(e);return n===null?this:this.getImmediateChild(n).getChild(vn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ve(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Mt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Bc:this.priorityNode_;return new Jt(i,o,s)}}updateChild(e,n){const r=Nt(e);if(r===null)return n;{Ve(Nt(e)!==".priority"||fa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(vn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Hr,(o,a)=>{n[o]=a.val(e),r++,s&&Jt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+QM(this.getPriority().val())+":"),this.forEachChild(Hr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":EM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Mt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Mt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Mt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Mt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Mt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pf?-1:0}withIndex(e){if(e===Lu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Jt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Lu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Hr),i=n.getIterator(Hr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Lu?null:this.indexMap_.get(e.toString())}}Jt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ZY extends Jt{constructor(){super(new gi(bT),Jt.EMPTY_NODE,to.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jt.EMPTY_NODE}isEmpty(){return!1}}const Pf=new ZY;Object.defineProperties(Mt,{MIN:{value:new Mt(oc,Jt.EMPTY_NODE)},MAX:{value:new Mt(Sl,Pf)}});XM.__EMPTY_NODE=Jt.EMPTY_NODE;pr.__childrenNodeConstructor=Jt;GY(Pf);qY(Pf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=!0;function Ur(t,e=null){if(t===null)return Jt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ve(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pr(n,Ur(e))}if(!(t instanceof Array)&&eq){const n=[];let r=!1;if(zi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ur(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Mt(o,l)))}}),n.length===0)return Jt.EMPTY_NODE;const s=Ym(n,zY,o=>o.name,bT);if(r){const o=Ym(n,Hr.getCompare());return new Jt(s,Ur(e),new to({".priority":o},{".priority":Hr}))}else return new Jt(s,Ur(e),to.Default)}else{let n=Jt.EMPTY_NODE;return zi(t,(r,i)=>{if(To(t,r)&&r.substring(0,1)!=="."){const s=Ur(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ur(e))}}YY(Ur);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq extends xv{constructor(e){super(),this.indexPath_=e,Ve(!kt(e)&&Nt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?kc(e.name,n.name):s}makePost(e,n){const r=Ur(e),i=Jt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Mt(n,i)}maxPost(){const e=Jt.EMPTY_NODE.updateChild(this.indexPath_,Pf);return new Mt(Sl,e)}toString(){return zM(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq extends xv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?kc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Mt.MIN}maxPost(){return Mt.MAX}makePost(e,n){const r=Ur(e);return new Mt(n,r)}toString(){return".value"}}const rq=new nq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t){return{type:"value",snapshotNode:t}}function sq(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function oq(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function aq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hr}copy(){const e=new wT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Hr?n="$priority":t.index_===rq?n="$value":t.index_===Lu?n="$key":(Ve(t.index_ instanceof tq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=kr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=kr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+kr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=kr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+kr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function YC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Hr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends HM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Af("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ve(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=qm.getListenId_(e,r),a={};this.listens_[o]=a;const l=GC(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),qu(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=qm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=GC(e._queryParams),r=e._path.toString(),i=new hl;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=rh(a.responseText)}catch{Ri("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ri("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){return{value:null,children:new Map}}function t$(t,e,n){if(kt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Nt(e);t.children.has(r)||t.children.set(r,Xm());const i=t.children.get(r);e=vn(e),t$(i,e,n)}}function mw(t,e,n){t.value!==null?n(e,t.value):uq(t,(r,i)=>{const s=new In(e.toString()+"/"+r);mw(i,s,n)})}function uq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=10*1e3,dq=30*1e3,hq=5*60*1e3;class fq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cq(e);const r=qC+(dq-qC)*Math.random();Rd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;zi(e,(i,s)=>{s>0&&To(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Rd(this.reportStats_.bind(this),Math.floor(Math.random()*2*hq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ps;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ps||(Ps={}));function n$(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function r$(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function i$(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ps.ACK_USER_WRITE,this.source=n$()}operationForChild(e){if(kt(this.path)){if(this.affectedTree.value!=null)return Ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new In(e));return new Qm(sn(),n,this.revert)}}else return Ve(Nt(this.path)===e,"operationForChild called for unrelated child."),new Qm(vn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ps.OVERWRITE}operationForChild(e){return kt(this.path)?new El(this.source,sn(),this.snap.getImmediateChild(e)):new El(this.source,vn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ps.MERGE}operationForChild(e){if(kt(this.path)){const n=this.children.subtree(new In(e));return n.isEmpty()?null:n.value?new El(this.source,sn(),n.value):new Eh(this.source,sn(),n)}else return Ve(Nt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Eh(this.source,vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(kt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Nt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function pq(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(aq(o.childName,o.snapshotNode))}),jc(t,i,"child_removed",e,r,n),jc(t,i,"child_added",e,r,n),jc(t,i,"child_moved",s,r,n),jc(t,i,"child_changed",e,r,n),jc(t,i,"value",e,r,n),i}function jc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>gq(t,a,l)),o.forEach(a=>{const l=mq(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function mq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function gq(t,e,n){if(e.childName==null||n.childName==null)throw bc("Should only compare child_ events.");const r=new Mt(e.childName,e.snapshotNode),i=new Mt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t,e){return{eventCache:t,serverCache:e}}function Nd(t,e,n,r){return s$(new _T(e,n,r),t.serverCache)}function o$(t,e,n,r){return s$(t.eventCache,new _T(e,n,r))}function gw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Il(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy;const vq=()=>(Zy||(Zy=new gi(nY)),Zy);class gn{constructor(e,n=vq()){this.value=e,this.children=n}static fromObject(e){let n=new gn(null);return zi(e,(r,i)=>{n=n.set(new In(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:sn(),value:this.value};if(kt(e))return null;{const r=Nt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(vn(e),n);return s!=null?{path:yr(new In(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(kt(e))return this;{const n=Nt(e),r=this.children.get(n);return r!==null?r.subtree(vn(e)):new gn(null)}}set(e,n){if(kt(e))return new gn(n,this.children);{const r=Nt(e),s=(this.children.get(r)||new gn(null)).set(vn(e),n),o=this.children.insert(r,s);return new gn(this.value,o)}}remove(e){if(kt(e))return this.children.isEmpty()?new gn(null):new gn(null,this.children);{const n=Nt(e),r=this.children.get(n);if(r){const i=r.remove(vn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new gn(null):new gn(this.value,s)}else return this}}get(e){if(kt(e))return this.value;{const n=Nt(e),r=this.children.get(n);return r?r.get(vn(e)):null}}setTree(e,n){if(kt(e))return n;{const r=Nt(e),s=(this.children.get(r)||new gn(null)).setTree(vn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new gn(this.value,o)}}fold(e){return this.fold_(sn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(yr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,sn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(kt(e))return null;{const s=Nt(e),o=this.children.get(s);return o?o.findOnPath_(vn(e),yr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,sn(),n)}foreachOnPath_(e,n,r){if(kt(e))return this;{this.value&&r(n,this.value);const i=Nt(e),s=this.children.get(i);return s?s.foreachOnPath_(vn(e),yr(n,i),r):new gn(null)}}foreach(e){this.foreach_(sn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(yr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.writeTree_=e}static empty(){return new cs(new gn(null))}}function Md(t,e,n){if(kt(e))return new cs(new gn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Hi(i,e);return s=s.updateChild(o,n),new cs(t.writeTree_.set(i,s))}else{const i=new gn(n),s=t.writeTree_.setTree(e,i);return new cs(s)}}}function XC(t,e,n){let r=t;return zi(n,(i,s)=>{r=Md(r,yr(e,i),s)}),r}function QC(t,e){if(kt(e))return cs.empty();{const n=t.writeTree_.setTree(e,new gn(null));return new cs(n)}}function vw(t,e){return Vl(t,e)!=null}function Vl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Hi(n.path,e)):null}function JC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Hr,(r,i)=>{e.push(new Mt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Mt(r,i.value))}),e}function na(t,e){if(kt(e))return t;{const n=Vl(t,e);return n!=null?new cs(new gn(n)):new cs(t.writeTree_.subtree(e))}}function yw(t){return t.writeTree_.isEmpty()}function ac(t,e){return a$(sn(),t.writeTree_,e)}function a$(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ve(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=a$(yr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(yr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t,e){return f$(e,t)}function yq(t,e,n,r,i){Ve(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Md(t.visibleWrites,e,n)),t.lastWriteId=r}function bq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function wq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ve(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&_q(a,r.path)?i=!1:as(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Tq(t),!0;if(r.snap)t.visibleWrites=QC(t.visibleWrites,r.path);else{const a=r.children;zi(a,l=>{t.visibleWrites=QC(t.visibleWrites,yr(r.path,l))})}return!0}else return!1}function _q(t,e){if(t.snap)return as(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&as(yr(t.path,n),e))return!0;return!1}function Tq(t){t.visibleWrites=u$(t.allWrites,Sq,sn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Sq(t){return t.visible}function u$(t,e,n){let r=cs.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)as(n,o)?(a=Hi(n,o),r=Md(r,a,s.snap)):as(o,n)&&(a=Hi(o,n),r=Md(r,sn(),s.snap.getChild(a)));else if(s.children){if(as(n,o))a=Hi(n,o),r=XC(r,a,s.children);else if(as(o,n))if(a=Hi(o,n),kt(a))r=XC(r,sn(),s.children);else{const l=qu(s.children,Nt(a));if(l){const u=l.getChild(vn(a));r=Md(r,sn(),u)}}}else throw bc("WriteRecord should have .snap or .children")}}return r}function c$(t,e,n,r,i){if(!r&&!i){const s=Vl(t.visibleWrites,e);if(s!=null)return s;{const o=na(t.visibleWrites,e);if(yw(o))return n;if(n==null&&!vw(o,sn()))return null;{const a=n||Jt.EMPTY_NODE;return ac(o,a)}}}else{const s=na(t.visibleWrites,e);if(!i&&yw(s))return n;if(!i&&n==null&&!vw(s,sn()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(as(u.path,e)||as(e,u.path))},a=u$(t.allWrites,o,e),l=n||Jt.EMPTY_NODE;return ac(a,l)}}}function Eq(t,e,n){let r=Jt.EMPTY_NODE;const i=Vl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Hr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=na(t.visibleWrites,e);return n.forEachChild(Hr,(o,a)=>{const l=ac(na(s,new In(o)),a);r=r.updateImmediateChild(o,l)}),JC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=na(t.visibleWrites,e);return JC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Iq(t,e,n,r,i){Ve(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=yr(e,n);if(vw(t.visibleWrites,s))return null;{const o=na(t.visibleWrites,s);return yw(o)?i.getChild(n):ac(o,i.getChild(n))}}function Cq(t,e,n,r){const i=yr(e,n),s=Vl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=na(t.visibleWrites,i);return ac(o,r.getNode().getImmediateChild(n))}else return null}function Oq(t,e){return Vl(t.visibleWrites,e)}function Aq(t,e,n,r,i,s,o){let a;const l=na(t.visibleWrites,e),u=Vl(l,sn());if(u!=null)a=u;else if(n!=null)a=ac(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function kq(){return{visibleWrites:cs.empty(),allWrites:[],lastWriteId:-1}}function bw(t,e,n,r){return c$(t.writeTree,t.treePath,e,n,r)}function d$(t,e){return Eq(t.writeTree,t.treePath,e)}function ZC(t,e,n,r){return Iq(t.writeTree,t.treePath,e,n,r)}function Jm(t,e){return Oq(t.writeTree,yr(t.treePath,e))}function Pq(t,e,n,r,i,s){return Aq(t.writeTree,t.treePath,e,n,r,i,s)}function TT(t,e,n){return Cq(t.writeTree,t.treePath,e,n)}function h$(t,e){return f$(yr(t.treePath,e),t.writeTree)}function f$(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ve(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ve(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,zC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,oq(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,sq(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,zC(r,e.snapshotNode,i.oldSnap));else throw bc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const p$=new Dq;class ST{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _T(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return TT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Il(this.viewCache_),s=Pq(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function Rq(t,e){Ve(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ve(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Nq(t,e,n,r,i){const s=new xq;let o,a;if(n.type===Ps.OVERWRITE){const u=n;u.source.fromUser?o=ww(t,e,u.path,u.snap,r,i,s):(Ve(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!kt(u.path),o=Zm(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ps.MERGE){const u=n;u.source.fromUser?o=$q(t,e,u.path,u.children,r,i,s):(Ve(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=_w(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ps.ACK_USER_WRITE){const u=n;u.revert?o=Vq(t,e,u.path,r,i,s):o=Lq(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ps.LISTEN_COMPLETE)o=Fq(t,e,n.path,r,s);else throw bc("Unknown operation type: "+n.type);const l=s.getChanges();return Mq(e,o,l),{viewCache:o,changes:l}}function Mq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(iq(gw(e)))}}function m$(t,e,n,r,i,s){const o=e.eventCache;if(Jm(r,n)!=null)return e;{let a,l;if(kt(n))if(Ve(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Il(e),c=u instanceof Jt?u:Jt.EMPTY_NODE,d=d$(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=bw(r,Il(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Nt(n);if(u===".priority"){Ve(fa(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=ZC(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=vn(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=ZC(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=TT(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Nd(e,a,o.isFullyInitialized()||kt(n),t.filter.filtersNodes())}}function Zm(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(kt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Nt(n);if(!l.isCompleteForPath(n)&&fa(n)>1)return e;const p=vn(n),g=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),g):u=c.updateChild(l.getNode(),f,g,p,p$,null)}const d=o$(e,u,l.isFullyInitialized()||kt(n),c.filtersNodes()),h=new ST(i,d,s);return m$(t,d,n,i,h,a)}function ww(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new ST(i,e,s);if(kt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Nd(e,u,!0,t.filter.filtersNodes());else{const d=Nt(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Nd(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=vn(n),f=a.getNode().getImmediateChild(d);let p;if(kt(h))p=r;else{const m=c.getCompleteChild(d);m!=null?KM(h)===".priority"&&m.getChild(GM(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=Jt.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Nd(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function eO(t,e){return t.eventCache.isCompleteForChild(e)}function $q(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=yr(n,l);eO(e,Nt(c))&&(a=ww(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=yr(n,l);eO(e,Nt(c))||(a=ww(t,a,c,u,i,s,o))}),a}function tO(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _w(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;kt(n)?u=r:u=new gn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=tO(t,f,h);l=Zm(t,l,new In(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=tO(t,p,h);l=Zm(t,l,new In(d),m,i,s,o,a)}}),l}function Lq(t,e,n,r,i,s,o){if(Jm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(kt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(kt(n)){let u=new gn(null);return l.getNode().forEachChild(Lu,(c,d)=>{u=u.set(new In(c),d)}),_w(t,e,n,u,i,s,a,o)}else return e}else{let u=new gn(null);return r.foreach((c,d)=>{const h=yr(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),_w(t,e,n,u,i,s,a,o)}}function Fq(t,e,n,r,i){const s=e.serverCache,o=o$(e,s.getNode(),s.isFullyInitialized()||kt(n),s.isFiltered());return m$(t,o,n,r,p$,i)}function Vq(t,e,n,r,i,s){let o;if(Jm(r,n)!=null)return e;{const a=new ST(r,e,i),l=e.eventCache.getNode();let u;if(kt(n)||Nt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=bw(r,Il(e));else{const d=e.serverCache.getNode();Ve(d instanceof Jt,"serverChildren would be complete if leaf node"),c=d$(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Nt(n);let d=TT(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,vn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Jt.EMPTY_NODE,vn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=bw(r,Il(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Jm(r,sn())!=null,Nd(e,u,o,t.filter.filtersNodes())}}function Uq(t,e){const n=Il(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!kt(e)&&!n.getImmediateChild(Nt(e)).isEmpty())?n.getChild(e):null}function nO(t,e,n,r){e.type===Ps.MERGE&&e.source.queryId!==null&&(Ve(Il(t.viewCache_),"We should always have a full cache before handling merges"),Ve(gw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Nq(t.processor_,i,e,n,r);return Rq(t.processor_,s.viewCache),Ve(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Bq(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Bq(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return pq(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rO;function jq(t){Ve(!rO,"__referenceConstructor has already been defined"),rO=t}function ET(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ve(s!=null,"SyncTree gave us an op for an invalid query."),nO(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(nO(o,e,n,r));return s}}function IT(t,e){let n=null;for(const r of t.views.values())n=n||Uq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iO;function Hq(t){Ve(!iO,"__referenceConstructor has already been defined"),iO=t}class sO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new gn(null),this.pendingWriteTree_=kq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wq(t,e,n,r,i){return yq(t.pendingWriteTree_,e,n,r,i),i?Rv(t,new El(n$(),e,n)):[]}function pu(t,e,n=!1){const r=bq(t.pendingWriteTree_,e);if(wq(t.pendingWriteTree_,e)){let s=new gn(null);return r.snap!=null?s=s.set(sn(),!0):zi(r.children,o=>{s=s.set(new In(o),!0)}),Rv(t,new Qm(r.path,s,n))}else return[]}function Dv(t,e,n){return Rv(t,new El(r$(),e,n))}function Kq(t,e,n){const r=gn.fromObject(n);return Rv(t,new Eh(r$(),e,r))}function zq(t,e,n,r){const i=b$(t,r);if(i!=null){const s=w$(i),o=s.path,a=s.queryId,l=Hi(o,e),u=new El(i$(a),l,n);return _$(t,o,u)}else return[]}function Gq(t,e,n,r){const i=b$(t,r);if(i){const s=w$(i),o=s.path,a=s.queryId,l=Hi(o,e),u=gn.fromObject(n),c=new Eh(i$(a),l,u);return _$(t,o,c)}else return[]}function g$(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Hi(o,e),u=IT(a,l);if(u)return u});return c$(i,e,s,n,!0)}function Rv(t,e){return v$(e,t.syncPointTree_,null,l$(t.pendingWriteTree_,sn()))}function v$(t,e,n,r){if(kt(t.path))return y$(t,e,n,r);{const i=e.get(sn());n==null&&i!=null&&(n=IT(i,sn()));let s=[];const o=Nt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=h$(r,o);s=s.concat(v$(a,l,u,c))}return i&&(s=s.concat(ET(i,t,r,n))),s}}function y$(t,e,n,r){const i=e.get(sn());n==null&&i!=null&&(n=IT(i,sn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=h$(r,o),c=t.operationForChild(o);c&&(s=s.concat(y$(c,a,l,u)))}),i&&(s=s.concat(ET(i,t,r,n))),s}function b$(t,e){return t.tagToQueryMap.get(e)}function w$(t){const e=t.indexOf("$");return Ve(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new In(t.substr(0,e))}}function _$(t,e,n){const r=t.syncPointTree_.get(e);Ve(r,"Missing sync point for query tag that we're tracking");const i=l$(t.pendingWriteTree_,e);return ET(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new CT(n)}node(){return this.node_}}class OT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=yr(this.path_,e);return new OT(this.syncTree_,n)}node(){return g$(this.syncTree_,this.path_)}}const Yq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},oO=function(t,e,n){if(!t||typeof t!="object")return t;if(Ve(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Xq(t[".sv"],e);Ve(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ve(!1,"Unexpected server value: "+t)}},Xq=function(t,e,n){t.hasOwnProperty("increment")||Ve(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ve(!1,"Unexpected increment value: "+r);const i=e.node();if(Ve(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Qq=function(t,e,n,r){return AT(e,new OT(n,t),r)},Jq=function(t,e,n){return AT(t,new CT(e),n)};function AT(t,e,n){const r=t.getPriority().val(),i=oO(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=oO(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new pr(a,Ur(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pr(i))),o.forEachChild(Hr,(a,l)=>{const u=AT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function PT(t,e){let n=e instanceof In?e:new In(e),r=t,i=Nt(n);for(;i!==null;){const s=qu(r.node.children,i)||{children:{},childCount:0};r=new kT(i,r,s),n=vn(n),i=Nt(n)}return r}function Pc(t){return t.node.value}function T$(t,e){t.node.value=e,Tw(t)}function S$(t){return t.node.childCount>0}function Zq(t){return Pc(t)===void 0&&!S$(t)}function Nv(t,e){zi(t.node.children,(n,r)=>{e(new kT(n,t,r))})}function E$(t,e,n,r){n&&!r&&e(t),Nv(t,i=>{E$(i,e,!0,r)}),n&&r&&e(t)}function eX(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xf(t){return new In(t.parent===null?t.name:xf(t.parent)+"/"+t.name)}function Tw(t){t.parent!==null&&tX(t.parent,t.name,t)}function tX(t,e,n){const r=Zq(n),i=To(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Tw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=/[\[\].#$\/\u0000-\u001F\u007F]/,rX=/[\[\].#$\u0000-\u001F\u007F]/,eb=10*1024*1024,I$=function(t){return typeof t=="string"&&t.length!==0&&!nX.test(t)},iX=function(t){return typeof t=="string"&&t.length!==0&&!rX.test(t)},sX=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iX(t)},C$=function(t,e,n){const r=n instanceof In?new FY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ra(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ra(r)+" with contents = "+e.toString());if(IM(e))throw new Error(t+"contains "+e.toString()+" "+Ra(r));if(typeof e=="string"&&e.length>eb/3&&jg(e)>eb)throw new Error(t+"contains a string greater than "+eb+" utf8 bytes "+Ra(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(zi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!I$(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ra(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);VY(r,o),C$(t,a,r),UY(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ra(r)+" in addition to actual children.")}},oX=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!I$(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sX(n))throw new Error(TU(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lX(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!YM(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ul(t,e,n){lX(t,n),uX(t,r=>as(r,e)||as(e,r))}function uX(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(cX(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cX(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();tl&&Vr("event: "+n.toString()),kf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dX="repo_interrupt",hX=25;class fX{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xm(),this.transactionQueueTree_=new kT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pX(t,e,n){if(t.stats_=gT(t.repoInfo_),t.forceRestClient_||lY())t.server_=new qm(t.repoInfo_,(r,i,s,o)=>{aO(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lO(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{kr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new lo(t.repoInfo_,e,(r,i,s,o)=>{aO(t,r,i,s,o)},r=>{lO(t,r)},r=>{gX(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=pY(t.repoInfo_,()=>new fq(t.stats_,t.server_)),t.infoData_=new lq,t.infoSyncTree_=new sO({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Dv(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),xT(t,"connected",!1),t.serverSyncTree_=new sO({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Ul(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function mX(t){const n=t.infoData_.getNode(new In(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function O$(t){return Yq({timestamp:mX(t)})}function aO(t,e,n,r,i){t.dataUpdateCount++;const s=new In(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=vm(n,u=>Ur(u));o=Gq(t.serverSyncTree_,s,l,i)}else{const l=Ur(n);o=zq(t.serverSyncTree_,s,l,i)}else if(r){const l=vm(n,u=>Ur(u));o=Kq(t.serverSyncTree_,s,l)}else{const l=Ur(n);o=Dv(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=RT(t,s)),Ul(t.eventQueue_,a,o)}function lO(t,e){xT(t,"connected",e),e===!1&&yX(t)}function gX(t,e){zi(e,(n,r)=>{xT(t,n,r)})}function xT(t,e,n){const r=new In("/.info/"+e),i=Ur(n);t.infoData_.updateSnapshot(r,i);const s=Dv(t.infoSyncTree_,r,i);Ul(t.eventQueue_,r,s)}function vX(t){return t.nextWriteId_++}function yX(t){A$(t,"onDisconnectEvents");const e=O$(t),n=Xm();mw(t.onDisconnect_,sn(),(i,s)=>{const o=Qq(i,s,t.serverSyncTree_,e);t$(n,i,o)});let r=[];mw(n,sn(),(i,s)=>{r=r.concat(Dv(t.serverSyncTree_,i,s));const o=TX(t,i);RT(t,o)}),t.onDisconnect_=Xm(),Ul(t.eventQueue_,sn(),r)}function bX(t){t.persistentConnection_&&t.persistentConnection_.interrupt(dX)}function A$(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Vr(n,...e)}function k$(t,e,n){return g$(t.serverSyncTree_,e,n)||Jt.EMPTY_NODE}function DT(t,e=t.transactionQueueTree_){if(e||Mv(t,e),Pc(e)){const n=x$(t,e);Ve(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&wX(t,xf(e),n)}else S$(e)&&Nv(e,n=>{DT(t,n)})}function wX(t,e,n){const r=n.map(u=>u.currentWriteId),i=k$(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Ve(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Hi(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{A$(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(pu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Mv(t,PT(t.transactionQueueTree_,e)),DT(t,t.transactionQueueTree_),Ul(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)kf(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ri("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}RT(t,e)}},o)}function RT(t,e){const n=P$(t,e),r=xf(n),i=x$(t,n);return _X(t,i,r),r}function _X(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Hi(n,l.path);let c=!1,d;if(Ve(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(pu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=hX)c=!0,d="maxretry",i=i.concat(pu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=k$(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){C$("transaction failed: Data returned ",f,l.path);let p=Ur(f);typeof f=="object"&&f!=null&&To(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,y=O$(t),b=Jq(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=b,l.currentWriteId=vX(t),o.splice(o.indexOf(g),1),i=i.concat(Wq(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(pu(t.serverSyncTree_,g,!0))}else c=!0,d="nodata",i=i.concat(pu(t.serverSyncTree_,l.currentWriteId,!0))}Ul(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Mv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)kf(r[a]);DT(t,t.transactionQueueTree_)}function P$(t,e){let n,r=t.transactionQueueTree_;for(n=Nt(e);n!==null&&Pc(r)===void 0;)r=PT(r,n),e=vn(e),n=Nt(e);return r}function x$(t,e){const n=[];return D$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function D$(t,e,n){const r=Pc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Nv(e,i=>{D$(t,i,n)})}function Mv(t,e){const n=Pc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,T$(e,n.length>0?n:void 0)}Nv(e,r=>{Mv(t,r)})}function TX(t,e){const n=xf(P$(t,e)),r=PT(t.transactionQueueTree_,e);return eX(r,i=>{tb(t,i)}),tb(t,r),E$(r,i=>{tb(t,i)}),n}function tb(t,e){const n=Pc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ve(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ve(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(pu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?T$(e,void 0):n.length=s+1,Ul(t.eventQueue_,xf(e),i);for(let o=0;o<r.length;o++)kf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function EX(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ri(`Invalid query segment '${n}' in query '${t}'`)}return e}const uO=function(t,e){const n=IX(t),r=n.namespace;n.domain==="firebase.com"&&Tl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Tl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||eY();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new dY(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new In(n.pathString)}},IX=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=SX(t.substring(c,d)));const h=EX(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return kt(this._path)?null:KM(this._path)}get ref(){return new xc(this._repo,this._path)}get _queryIdentifier(){const e=YC(this._queryParams),n=pT(e);return n==="{}"?"default":n}get _queryObject(){return YC(this._queryParams)}isEqual(e){if(e=Kt(e),!(e instanceof NT))return!1;const n=this._repo===e._repo,r=YM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+LY(this._path)}}class xc extends NT{constructor(e,n){super(e,n,new wT,!1)}get parent(){const e=GM(this._path);return e===null?null:new xc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}jq(xc);Hq(xc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX="FIREBASE_DATABASE_EMULATOR_HOST",Sw={};let OX=!1;function AX(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Tl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=uO(s,i),a=o.repoInfo,l,u;typeof process<"u"&&kC&&(u=kC[CX]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=uO(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new hw(hw.OWNER):new cY(t.name,t.options,e);oX("Invalid Firebase Database URL",o),kt(o.path)||Tl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=PX(a,t,c,new uY(t.name,n));return new xX(d,t)}function kX(t,e){const n=Sw[e];(!n||n[t.key]!==t)&&Tl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bX(t),delete n[t.key]}function PX(t,e,n,r){let i=Sw[e.name];i||(i={},Sw[e.name]=i);let s=i[t.toURLString()];return s&&Tl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fX(t,OX,n,r),i[t.toURLString()]=s,s}class xX{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pX(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xc(this._repo,sn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kX(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DX(t){qG(ya),_i(new si("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return AX(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Dr(PC,xC,t),Dr(PC,xC,"esm2017")}lo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};lo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DX();function R$(t){return XH(_M(t))}function RX(t){return MX({initialUser:t,dependencies:{popupRedirectResolver:bM,persistence:[gM,cM,dT]}})}const NX=Symbol("VueFireAuth");function MX({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=$X(n,r,e,t);YG(i,s)}}function $X(t,e,n,r,i=ZN(t,r)){const s=KG(t,e).run(()=>se(n));return zG.set(t,s),e.provide(NX,i),[s,i]}function LX(t,{firebaseApp:e,modules:n=[]}){t.provide(wM,e);for(const r of n)r(e,t)}const N$={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},FX={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},VX=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],UX=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],M$=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Jn;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await Ui(l)))??[])).map(async l=>eg.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Jn||(Jn={}));var eg;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await Ui(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(eg||(eg={}));var Ew;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(Ew||(Ew={}));const tg=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],BX=t=>tg.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),jX=tg.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),nb=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],Qt=R$(),Vt={content:ts(Qt,"content"),projects:ts(Qt,"projects"),menuItems:t=>ts(Qt,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:ts(Qt,"menuItemsPrivate"),blogPosts:t=>ts(Qt,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:ts(Qt,"blogPostsPrivate"),blogReactions:t=>ts(Qt,t?"blogReactionsPrivate":"blogReactions"),usersPublic:ts(Qt,"usersPublic"),files:ts(Qt,"files")},hr=ND("main",{state:()=>({profile:N$,content:FX,menuItems:UX,projects:VX,blogPosts:{data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1,databaseCreationActive:!1,databaseMutationActive:!1,databaseDeletionActive:!1},blogReactions:{databaseCreationActive:!1,databaseDeletionActive:!1,unread:[]},publicUsers:[],online:!0,debug:!1,fetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility],previousVisibleBlogPosts:t=>t.blogPosts.previousData[t.blogPosts.visibility],databaseActionActive:t=>t.blogPosts.databaseCreationActive||t.blogPosts.databaseMutationActive||t.blogPosts.databaseDeletionActive||t.blogReactions.databaseCreationActive||t.blogReactions.databaseDeletionActive},actions:{async fetchAll(t,e){try{this.fetchAllLoading||(this.fetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()])))}catch(n){qe.firebaseError(this.debug,n)}finally{this.fetchAllLoading=!1}},async fetchContent(){try{const t=await Ui(zt(Qt,Vt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){qe.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await Kl(Vt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await Ui(n)))})));this.projects=t.length?uC(t):this.projects}catch(t){qe.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await Kl(Vt.menuItems());if(t)try{e=e.concat(await Kl(Vt.menuItemsPrivate,[tw("allowedUserIds","array-contains",zt(Qt,Vt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?uC(e):this.menuItems,this.menuItems}catch(e){qe.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{e.loadingIndicator!==!1&&(this.blogPosts.fetchLoading=!0);const r=e.visibility??this.blogPosts.visibility,i=this.blogPosts.data[r][this.blogPosts.data[r].length-1],s=[eC("datePinned","desc"),eC("date","desc"),aW(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[r]=[]),!e.amount&&i&&s.push(uW(i.datePinned,i.date));var n=[];r==="private"&&t?n=await Kl(Vt.blogPostsPrivate,[tw("allowedUserIds","array-contains",zt(Qt,Vt.usersPublic.id,t).id),...s]):r==="public"&&(n=await Kl(Vt.blogPosts(!1),s));const o=await Promise.all(n.map(async a=>await Jn.mapIncoming(a)));if(e.amount)this.blogPosts.data[r]=o;else for(const a of o)this.blogPosts.data[r].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(r){qe.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchBlogPost(t,e,n={}){try{console.log("attempt to fetch single"),n.loadingIndicator!==!1&&(this.blogPosts.fetchLoading=!0);var r=await Ui(zt(Vt.blogPosts(!!(e!=null&&e.isPrivate)),t));return r||(r=await Ui(zt(Vt.blogPostsPrivate,t))),r?(this.blogPosts.data.single=await Jn.mapIncoming(r),this.blogPosts.data.single):null}catch(i){return qe.firebaseError(this.debug,i),null}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await Kl(Vt.usersPublic)}catch(t){return qe.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await Ui(zt(Qt,Vt.usersPublic.id,t))}catch(e){return qe.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},setPreviousBlogPosts(){this.blogPosts.previousData.single=this.blogPosts.data.single,this.blogPosts.previousData[this.blogPosts.visibility]=this.visibleBlogPosts},checkBlogPostForUnreadReactions(t,e){const n=this.blogReactions.unread.length;if(t){let r;if(e?r=this.blogPosts.data.single:r=this.visibleBlogPosts.find(i=>i.id===t.id),r&&r.reactions.length!==t.reactions.length){const i=r.reactions.filter(s=>!t.reactions.some(o=>o.id===s.id));for(const s of i)this.blogReactions.unread.every(o=>o.id!==s.id)&&this.blogReactions.unread.push(s)}}e&&(n!==this.blogReactions.unread.length&&qe.update("There are unread comments on this page"),this.setPreviousBlogPosts())},checkBlogPostsForUnreadReactions(){const t=this.blogReactions.unread.length;if(this.previousVisibleBlogPosts.length)for(const e of this.previousVisibleBlogPosts)this.checkBlogPostForUnreadReactions(e);t!==this.blogReactions.unread.length&&qe.update("There are unread comments on this page"),this.setPreviousBlogPosts()},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{this.blogPosts.databaseCreationActive=!0,this.blogPosts.mutationLoading=!0;const i=Ys(e);return await Um(zt(Qt,Vt.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:er.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?er.fromDate(e.countdown):null,timer:e.timer?er.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),qe.success("Successfully created Post"),!0}catch(i){return qe.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.databaseMutationActive=!0,this.blogPosts.mutationLoading=!0;const i=Vt.blogPosts(n.isPrivate).id;let s="";if(Jn.Content.instanceOf(e)&&(await Bo(zt(Qt,i,t),{...Jn.Content.convert(e),dateUpdated:er.now()}),s="content"),Jn.Styling.instanceOf(e)&&(await Bo(zt(Qt,i,t),{...Jn.Styling.convert(e)}),s="styling"),Jn.Settings.instanceOf(e)&&(await Bo(zt(Qt,i,t),{...Jn.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){const o=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){qe.firebaseError(this.debug,i)}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.databaseMutationActive=!0,this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||qe.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,eg.convert(a),{includeTime:!0,fetch:!1})||qe.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=sw(a);await this.updateFileInfo(l.name,o)||qe.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return qe.error("Failed to re-create Post",{debug:this.debug}),!1}else return qe.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return qe.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.databaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=Ys(n);return await hd(zt(Qt,Vt.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),qe.success("Successfully deleted Post"),!0}return!1}catch(n){return qe.firebaseError(this.debug,n),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.databaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.databaseCreationActive=!0;const r=Ys(t),i=zt(Qt,Vt.blogPosts(r.isPrivate).id,t.id),s=await Ui(i);if(s){const o=await LK(Vt.blogReactions(r.isPrivate),{user:zt(Qt,Vt.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:er.now(),post:i});if(await Bo(zt(Qt,Vt.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(s.id,r,{loadingIndicator:!1});this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return qe.success("Successfully created Reaction"),!0}return!1}catch(r){return qe.firebaseError(this.debug,r),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.databaseDeletionActive=!0;const i=Ys(e);if(n.mutatePost){const s=zt(Qt,Vt.blogPosts(i.isPrivate).id,e.id),o=await Ui(s);o&&await Bo(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await hd(zt(Qt,Vt.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),qe.success("Successfully deleted Reaction"),!0}catch(i){return qe.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.databaseDeletionActive=!0;const e=Ys(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await hd(zt(Qt,Vt.blogReactions(e.isPrivate).id,r.id));return n.length&&qe.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return qe.firebaseError(this.debug,e),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await Ui(zt(Qt,Vt.files.path,t))}catch(e){return qe.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=kK(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,qe.success("Successfully uploaded File"),!0}catch(r){return qe.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=Ys(i);s=zt(Qt,Vt.blogPosts(o.isPrivate).id,i.id)}return await Um(zt(Qt,Vt.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return qe.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=Ys(e);n=zt(Qt,Vt.blogPosts(r.isPrivate).id,e.id)}return await Bo(zt(Qt,Vt.files.path,t),{post:n??null}),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await hd(zt(Qt,Vt.files.path,t.name)),await xK(t),e||qe.success("Successfully deleted File"),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(sw(r),!0);return n.length&&qe.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),ou=WG(kD);ou.onAuthStateChanged(t=>{wr().fetchUser(t);const e=hr();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const qs=R$(),Oa={users:ts(qs,"users"),usersPublic:ts(qs,"usersPublic")},wr=ND("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:ou.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await Ui(zt(qs,Oa.usersPublic.id,t.uid));const e=await Ui(zt(qs,Oa.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await Pz(ou,t,e);await this.fetchUser(n),qe.success("Successfully logged in",{route:cr.DASHBOARD})}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await kz(ou,t,e);await Um(zt(qs,Oa.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),qe.success("Successfully created your account",{route:cr.DASHBOARD})}catch(r){qe.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=ha.credential(this.firebaseUser.email,e);await bC(this.firebaseUser,n),await xz(this.firebaseUser,t),qe.success("Successfully changed your e-mail")}}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=ha.credential(this.firebaseUser.email,e);await bC(this.firebaseUser,n),await Dz(this.firebaseUser,t),qe.success("Successfully changed your password")}}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await Az(ou,t),qe.success("Successfully requested password reset")}catch(e){qe.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(us(this.currentUser,t)?qe.warning("Nothing changed in your details"):(await Bo(zt(qs,Oa.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your profile")))}catch(e){qe.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?us(this.publicUser,t)?qe.warning("Nothing changed in your public profile"):(await Bo(zt(qs,Oa.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your public profile")):this.firebaseUser?(await Um(zt(qs,Oa.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your public profile")):qe.firebaseError(!1)}catch(e){qe.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await Nz(ou),this.currentUser=null,this.publicUser=null,qe.success("Successfully logged out",{route:cr.HOME})}catch(t){qe.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await hd(zt(qs,Oa.users.id,this.firebaseUser.uid)),await Mz(this.firebaseUser),this.currentUser=null,this.publicUser=null,qe.success("Successfully deleted your account",{route:cr.HOME}))}catch(t){qe.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}}),HX={class:"bg-black text-white shadow-md py-4"},WX={class:"container mx-auto text-center"},KX=Ce({__name:"Footer",setup(t){const{content:e}=Zt(hr());return(n,r)=>(E(),L("footer",HX,[v("div",WX,[v("p",null,"© "+Be(new Date().getFullYear()+" "+I(e).footerCopyright),1)])]))}});function zX(t,e){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z","clip-rule":"evenodd"}),v("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"})])}function GX(t,e){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"fill-rule":"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z","clip-rule":"evenodd"})])}const YX={class:"flex justify-between"},qX={class:"hidden sm:block w-full sm:min-w-fit"},XX=["src","alt"],QX={class:"w-fit sm:max-w-1/2"},JX={class:"text-title-primary"},ZX={class:"text-title-secondary"},eQ={class:"text-title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},tQ={class:"mt-2 flex items-center whitespace-nowrap me-6"},nQ={class:"mt-2 flex items-center whitespace-nowrap"},rQ={class:"sm:hidden min-w-fit mt-3"},iQ=["src","alt"],cO=Ce({__name:"HeaderContent",setup(t){const{profile:e,content:n}=Zt(hr());return(r,i)=>{const s=wn("RouterLink");return E(),L("div",YX,[v("div",qX,[M(s,{to:{name:I(cr).HOME}},{default:Y(()=>[v("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:I(n).avatarUrl,alt:I(e).name},null,8,XX)]),_:1},8,["to"])]),v("div",QX,[v("h1",JX,Be(I(e).name),1),v("h2",ZX,Be(I(e).service),1),v("div",eQ,[v("div",tQ,[M(I(zX),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),B(" "+Be(I(e).role),1)]),v("div",nQ,[M(I(GX),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),B(" "+Be(I(e).location.city)+", "+Be(I(e).location.country),1)])])]),v("div",rQ,[M(s,{to:{name:I(cr).HOME}},{default:Y(()=>[v("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:I(n).avatarUrl,alt:I(e).name},null,8,iQ)]),_:1},8,["to"])])])}}}),sQ=["href"],oQ=Ce({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{},route:{}},setup(t){return(e,n)=>{const r=wn("RouterLink");return e.route?(E(),re(r,{key:0,class:xe(e.class),"active-class":e.activeClass,to:{name:e.route}},{default:Y(()=>[fe(e.$slots,"default")]),_:3},8,["class","active-class","to"])):e.url?(E(),L("a",{key:1,class:xe(e.class),href:e.url},[fe(e.$slots,"default")],10,sQ)):fe(e.$slots,"default",{key:2,class:xe(e.class)})}}});function rb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=MT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function aQ(t){return cQ(t)||uQ(t)||MT(t)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cQ(t){if(Array.isArray(t))return Iw(t)}function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function ib(t,e){return fQ(t)||hQ(t,e)||MT(t,e)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MT(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function fQ(t){if(Array.isArray(t))return t}var Pe={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=ib(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(d,h){if(h!=null){var f=$d(h);if(f==="string"||f==="number")d.push(h);else if(f==="object"){var p=Array.isArray(h)?s(o,h):Object.entries(h).map(function(m){var g=ib(m,2),y=g[0],b=g[1];return o==="style"&&(b||b===0)?"".concat(y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(b):b?y:void 0});d=p.length?d.concat(p.filter(function(m){return!!m})):d}}return d},c)};Object.entries(r).forEach(function(s){var o=ib(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?aQ(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),f,p,m="top";u.top+a+s>h.height?(f=u.top+c-s,m="bottom",f<0&&(f=c)):f=a+u.top+c,u.left+o>h.width?p=Math.max(0,u.left+d+l-o):p=u.left+d,e.style.top=f+"px",e.style.left=p+"px",e.style.transformOrigin=m,r&&(e.style.marginTop=m==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(g){try{var y=window.getComputedStyle(g,null);return i.test(y.getPropertyValue("overflow"))||i.test(y.getPropertyValue("overflowX"))||i.test(y.getPropertyValue("overflowY"))}catch{return!1}},o=rb(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),d=rb(c),h;try{for(d.s();!(h=d.n()).done;){var f=h.value,p=this.findSingle(l,f);p&&s(p)&&n.push(p)}}catch(m){d.e(m)}finally{d.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(m){o.e(m)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":$d(HTMLElement))==="object"?e instanceof HTMLElement:e&&$d(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,d=e.clientHeight,h=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+h>d&&(e.scrollTop=c+u-d+h)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=rb(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function pQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gQ(r.key),r)}}function mQ(t,e,n){return e&&dO(t.prototype,e),n&&dO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gQ(t){var e=vQ(t,"string");return Ih(e)=="symbol"?e:String(e)}function vQ(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $$=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};pQ(this,t),this.element=e,this.listener=n}return mQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=Pe.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function yQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function hO(t,e){return _Q(t)||wQ(t,e)||$T(t,e)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _Q(t){if(Array.isArray(t))return t}function fO(t){return EQ(t)||SQ(t)||$T(t)||TQ()}function TQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EQ(t){if(Array.isArray(t))return Cw(t)}function sb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=$T(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function $T(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}var Ie={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Ld(e)=="object"&&Ld(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==n.toString();var h=Object.keys(e);if(o=h.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,h[s]))return!1;for(s=o;s--!==0;)if(a=h[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=sb(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=sb(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=sb(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Ld(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=fO(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(fO(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=hO(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=hO(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},pO=0;function lc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return pO++,"".concat(t).concat(pO)}function IQ(t){return kQ(t)||AQ(t)||OQ(t)||CQ()}function CQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function AQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kQ(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),d=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:d}),d},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return IQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Fu=PQ();function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){xQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xQ(t,e,n){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=RQ(t,"string");return Ch(e)=="symbol"?e:String(e)}function RQ(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;qi()?$t(t):e?t():Yn(t)}var MQ=0;function L$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=se(!1),r=se(t),i=se(null),s=Pe.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,h=e.name,f=h===void 0?"style_".concat(++MQ):h,p=e.id,m=p===void 0?void 0:p,g=e.media,y=g===void 0?void 0:g,b=e.nonce,_=b===void 0?void 0:b,w=e.props,T=w===void 0?{}:w,S=function(){},O=function(C){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var F=gO(gO({},T),N),H=F.name||f,$=F.id||m,A=F.nonce||_;i.value=a.querySelector('style[data-primevue-style-id="'.concat(H,'"]'))||a.getElementById($)||a.createElement("style"),i.value.isConnected||(r.value=C||t,Pe.setAttributes(i.value,{type:"text/css",id:$,media:y,nonce:A}),a.head.appendChild(i.value),Pe.setAttribute(i.value,"data-primevue-style-id",f),Pe.setAttributes(i.value,F)),!n.value&&(S=Ot(r,function(P){i.value.textContent=P},{immediate:!0}),n.value=!0)}},R=function(){!a||!n.value||(S(),Pe.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!d&&NQ(O),{id:m,name:f,css:r,unload:R,load:O,isLoaded:Ig(n)}}function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function $Q(t,e){return UQ(t)||VQ(t,e)||FQ(t,e)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FQ(t,e){if(t){if(typeof t=="string")return vO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vO(t,e)}}function vO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function UQ(t){if(Array.isArray(t))return t}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){BQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQ(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=HQ(t,"string");return Oh(e)=="symbol"?e:String(e)}function HQ(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,KQ={},zQ={},sr={name:"base",css:WQ,classes:KQ,inlineStyles:zQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?L$(this.css,ob({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=$Q(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return ob(ob({},this),{},{css:void 0},e)}},GQ={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-no-gutter":Ie.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Ie.isEmpty(n.value)&&!r.$slots.default,"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warning":n.severity==="warning","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},YQ=sr.extend({name:"badge",classes:GQ});function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=JQ(t,"string");return Ah(e)=="symbol"?e:String(e)}function JQ(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ab=sr.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L$(e,qQ({name:"global"},n))}});function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function ZQ(t){return U$(t)||eJ(t)||V$(t)||F$()}function eJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mp(t,e){return U$(t)||tJ(t,e)||V$(t,e)||F$()}function F$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$(t,e){if(t){if(typeof t=="string")return wO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(t,e)}}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function U$(t){if(Array.isArray(t))return t}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){zp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zp(t,e,n){return e=nJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=rJ(t,"string");return kh(e)=="symbol"?e:String(e)}function rJ(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xr={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;ab.loadStyle({nonce:(n=this.$config)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,d,h=(e=this.pt)===null||e===void 0?void 0:e._usept,f=h?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,p=h?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=p||f)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var m=(o=this.$config)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,g=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,y=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=y||g)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;sr.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ie.isFunction(e)?e.apply(void 0,r):ae.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Ie.isNotEmpty(n)&&ab.loadGlobalStyle(n,{nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ie.toFlatCase(n).split("."),s=i.shift();return s?Ie.isObject(e)?this._getOptionValue(Ie.getItemValue(e[Object.keys(e).find(function(o){return Ie.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ie.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$config)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,f=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,fn(fn({},i),{},{global:h||{}})),p=this._getPTDatasets(r);return u||!u&&f?d?this._mergeProps(d,h,f,p):fn(fn(fn({},h),f),p):fn(fn({},f),p)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ae(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&Ie.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&fn(fn({},r==="root"&&fn(zp({},"".concat(i,"name"),Ie.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&zp({},"".concat(i,"extend"),Ie.toFlatCase(this.$.type.name)))),{},zp({},"".concat(i,"section"),Ie.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Ie.isString(e)||Ie.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,d=Ie.toFlatCase(r),h=Ie.toFlatCase(n.$name);return(l=u?d!==h?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(m){return n(m,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$config)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=s(e.originalValue),f=s(e.value);return h===void 0&&f===void 0?void 0:Ie.isString(f)?f:Ie.isString(h)?h:u||!u&&f?d?this._mergeProps(d,h,f):fn(fn({},h),f):f}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,fn(fn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ae(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,fn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,fn(fn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,fn(fn({},this.$params),r)),s=this._getOptionValue(ab.inlineStyles,e,fn(fn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return Ie.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,fn({},n.$params))||Ie.getItemValue(r,fn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$config)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return fn(fn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=mp(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=mp(n,2),i=r[0],s=r[1],o=i.split(":"),a=ZQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,d,h){return!u[c]&&(u[c]=d===h.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=mp(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=mp(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},iJ={name:"BaseBadge",extends:Xr,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:YQ,provide:function(){return{$parentInstance:this}}},B$={name:"Badge",extends:iJ,inheritAttrs:!1};function sJ(t,e,n,r,i,s){return E(),L("span",ae({class:t.cx("root")},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[B(Be(t.value),1)]})],16)}B$.render=sJ;var oJ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,aJ=sr.extend({name:"baseicon",css:oJ});function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=cJ(t,"string");return Ph(e)=="symbol"?e:String(e)}function cJ(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ta={name:"BaseIcon",extends:Xr,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:aJ,methods:{pti:function(){var e=Ie.isEmpty(this.label);return SO(SO({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Df={name:"SpinnerIcon",extends:Ta},dJ=v("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),hJ=[dJ];function fJ(t,e,n,r,i,s){return E(),L("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),hJ,16)}Df.render=fJ;function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function EO(t,e){return vJ(t)||gJ(t,e)||mJ(t,e)||pJ()}function pJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(t,e){if(t){if(typeof t=="string")return IO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IO(t,e)}}function IO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function vJ(t){if(Array.isArray(t))return t}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){Aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aw(t,e,n){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=bJ(t,"string");return xh(e)=="symbol"?e:String(e)}function bJ(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ft={_getMeta:function(){return[Ie.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Ie.getItemValue(Ie.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ie.toFlatCase(n).split("."),s=i.shift();return s?Ie.isObject(e)?Ft._getOptionValue(Ie.getItemValue(e[Object.keys(e).find(function(o){return Ie.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ie.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var b=Ft._getOptionValue.apply(Ft,arguments);return Ie.isString(b)||Ie.isArray(b)?{class:b}:b},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$config)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,h=u.mergeProps,f=h===void 0?!1:h,p=a?Ft._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,m=Ft._usePT(r,Ft._getPT(i,r.$name),l,s,kn(kn({},o),{},{global:p||{}})),g=Ft._getPTDatasets(r,s);return d||!d&&m?f?Ft._mergeProps(r,f,p,m,g):kn(kn(kn({},p),m),g):kn(kn({},m),g)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return kn(kn({},n==="root"&&Aw({},"".concat(r,"name"),Ie.toFlatCase(e.$name))),{},Aw({},"".concat(r,"section"),Ie.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=Ie.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(g){return r(g,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$config)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,h=d===void 0?!1:d,f=o(n.originalValue),p=o(n.value);return f===void 0&&p===void 0?void 0:Ie.isString(p)?p:Ie.isString(f)?f:c||!c&&p?h?Ft._mergeProps(e,h,f,p):kn(kn({},f),p):p}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Ft._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(Ie.toCapitalCase(n)),c=Ft._getConfig(i,s),d=r==null?void 0:r.$instance,h=Ft._usePT(d,Ft._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Ft._getOptionValue,"hooks.".concat(u)),f=Ft._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Ft._getOptionValue,"hooks.".concat(u)),p={el:r,binding:i,vnode:s,prevVnode:o};h==null||h(d,p),f==null||f(d,p)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Ie.isFunction(e)?e.apply(void 0,r):ae.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,d;o._$instances=o._$instances||{};var h=Ft._getConfig(a,l),f=o._$instances[e]||{},p=Ie.isEmpty(f)?kn(kn({},n),n==null?void 0:n.methods):{};o._$instances[e]=kn(kn({},f),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:f.$el||o||void 0,$style:kn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$config:h,defaultPT:function(){return Ft._getPT(h==null?void 0:h.pt,void 0,function(g){var y;return g==null||(y=g.directives)===null||y===void 0?void 0:y[e]})},isUnstyled:function(){var g,y;return((g=o.$instance)===null||g===void 0||(g=g.$binding)===null||g===void 0||(g=g.value)===null||g===void 0?void 0:g.unstyled)!==void 0?(y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled:h==null?void 0:h.unstyled},ptm:function(){var g,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ft._getPTValue(o.$instance,(g=o.$instance)===null||g===void 0||(g=g.$binding)===null||g===void 0||(g=g.value)===null||g===void 0?void 0:g.pt,y,kn({},b))},ptmo:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ft._getPTValue(o.$instance,g,y,b,!1)},cx:function(){var g,y,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(g=o.$instance)!==null&&g!==void 0&&g.isUnstyled()?void 0:Ft._getOptionValue((y=o.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.classes,b,kn({},_))},sx:function(){var g,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b?Ft._getOptionValue((g=o.$instance)===null||g===void 0||(g=g.$style)===null||g===void 0?void 0:g.inlineStyles,y,kn({},_)):void 0}},p),o.$instance=o._$instances[e],(c=(d=o.$instance)[s])===null||c===void 0||c.call(d,o,a,l,u),o["$".concat(e)]=o.$instance,Ft._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,d,h,f=Ft._getConfig(o,a);sr.loadStyle({nonce:f==null||(u=f.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:f==null||(h=f.csp)===null||h===void 0?void 0:h.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,d,h,f=Ft._getConfig(o,a);sr.loadStyle({nonce:f==null||(u=f.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:f==null||(h=f.csp)===null||h===void 0?void 0:h.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Ft._getMeta.apply(Ft,arguments),n=EO(e,2),r=n[0],i=n[1];return kn({extend:function(){var o=Ft._getMeta.apply(Ft,arguments),a=EO(o,2),l=a[0],u=a[1];return Ft.extend(l,kn(kn(kn({},i),i==null?void 0:i.methods),u))}},Ft._extend(r,i))}},wJ={root:"p-ink"},_J=sr.extend({name:"ripple",classes:wJ}),TJ=Ft.extend({style:_J});function SJ(t){return OJ(t)||CJ(t)||IJ(t)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function CJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OJ(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $v=TJ.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$config;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=Pe.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&Pe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!Pe.getHeight(i)&&!Pe.getWidth(i)){var s=Math.max(Pe.getOuterWidth(r),Pe.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=Pe.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-Pe.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-Pe.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&Pe.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&Pe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&Pe.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?SJ(e.children).find(function(n){return Pe.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}});function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function Po(t,e,n){return e=AJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AJ(t){var e=kJ(t,"string");return Dh(e)=="symbol"?e:String(e)}function kJ(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PJ={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",Po(Po(Po(Po(Po(Po(Po(Po({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":n.$attrs.disabled||n.$attrs.disabled===""||r.loading,"p-button-loading":r.loading,"p-button-loading-label-only":r.loading&&!n.hasIcon&&r.label,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var n=e.props;return["p-button-icon",{"p-button-icon-left":n.iconPos==="left"&&n.label,"p-button-icon-right":n.iconPos==="right"&&n.label,"p-button-icon-top":n.iconPos==="top"&&n.label,"p-button-icon-bottom":n.iconPos==="bottom"&&n.label}]},label:"p-button-label"},xJ=sr.extend({name:"button",classes:PJ}),DJ={name:"BaseButton",extends:Xr,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:xJ,provide:function(){return{$parentInstance:this}}},za={name:"Button",extends:DJ,inheritAttrs:!1,methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:Df,Badge:B$},directives:{ripple:$v}},RJ=["aria-label","disabled","data-p-severity"];function NJ(t,e,n,r,i,s){var o=wn("SpinnerIcon"),a=wn("Badge"),l=Jh("ripple");return vi((E(),L("button",ae({class:t.cx("root"),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},s.getPTOptions("root"),{"data-p-severity":t.severity}),[fe(t.$slots,"default",{},function(){return[t.loading?fe(t.$slots,"loadingicon",{key:0,class:xe([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(E(),L("span",ae({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(E(),re(o,ae({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"icon",{key:1,class:xe([t.cx("icon")])},function(){return[t.icon?(E(),L("span",ae({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):q("",!0)]}),v("span",ae({class:t.cx("label")},t.ptm("label")),Be(t.label||" "),17),t.badge?(E(),re(a,ae({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):q("",!0)]})],16,RJ)),[[l]])}za.render=NJ;const et=Ce({__name:"CustomButton",props:{class:{},activeClass:{},label:{},url:{},route:{},type:{},style:{type:[Boolean,null,String,Object,Array]},action:{},icon:{},outlined:{type:Boolean},list:{type:Boolean},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=ee(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"tertiary":return e.outlined?e.list?"button-outlined-list-tertiary":"button-outlined-tertiary":"button-tertiary";case"neutral":return e.outlined?"button-outlined-neutral":"button-neutral";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"green":return e.outlined?"button-outlined-green":"button-green";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(E(),re(oQ,{class:xe([n.value,"md:mt-0 py-2 px-4",r.list?"flex flex-column justify-center":"",...I(Da)(e.class)]),activeClass:r.activeClass,url:r.url,route:r.route},{default:Y(({class:s})=>[M(I(za),{class:xe(s),type:r.action??"button",label:r.label,style:tr(r.style),icon:r.icon,loading:r.loading,loadingIcon:"pi pi-sync",onClick:i[0]||(i[0]=Tt(o=>r.$emit("click"),["stop"]))},{icon:Y(()=>[fe(r.$slots,"icon")]),default:Y(()=>[fe(r.$slots,"default")]),_:2},1032,["class","type","label","style","icon","loading"])]),_:3},8,["class","activeClass","url","route"]))}}),MJ=Ce({__name:"NavigationDropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=wr(),{currentUser:n}=Zt(e),{visibleMenuItems:r}=Zt(hr());return(i,s)=>(E(),L(we,null,[vi(v("div",{class:"md:hidden w-screen h-screen z-10 bg-neutral-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Ds,i.isOpen]]),vi(v("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-neutral-900 border border-primary-600 rounded-primary",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(E(!0),L(we,null,nt(I(r),o=>(E(),re(et,{class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-secondary",type:"secondary",outlined:"",list:"",url:o.url,route:o.route,loading:o.loading,label:o.name},null,8,["url","route","loading","label"]))),256)),I(n)?(E(),re(et,{key:0,class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-tertiary",type:"secondary",outlined:"",list:"",route:I(cr).DASHBOARD,label:"Dashboard"},null,8,["route"])):q("",!0),I(n)?(E(),re(et,{key:1,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary",outlined:"",list:"",type:"danger",label:"Logout",onClick:I(e).logout},null,8,["onClick"])):(E(),re(et,{key:2,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary","active-class":"button-primary",type:"primary",outlined:"",list:"",route:I(cr).LOGIN,label:"Login"},null,8,["route"]))],512),[[Ds,i.isOpen]])],64))}}),$J={key:0,class:xe(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},LJ={key:0,class:"flex justify-between"},FJ=v("p",null,"Menu",-1),VJ=Ce({__name:"NavigationMenu",setup(t){const e=wr(),{currentUser:n,logoutLoading:r}=Zt(e),{visibleMenuItems:i}=Zt(hr()),s=se(),o=se(!1),a=se(!1),l=ee(()=>o.value||a.value),u=()=>{o.value=!o.value,o.value&&Yn(()=>{var c;(c=s.value)==null||c.scrollIntoView({behavior:"smooth",block:"center"})})};return(c,d)=>I(i).length?(E(),L("div",$J,[(E(!0),L(we,null,nt(I(i),h=>(E(),re(et,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-secondary",type:"secondary",outlined:"",url:h.url,route:h.route,loading:h.loading,label:h.name},null,8,["url","route","loading","label"]))),256)),I(n)?q("",!0):(E(),re(et,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"primary",outlined:"",route:I(cr).LOGIN,label:"Login"},null,8,["route"])),I(n)?(E(),re(et,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:I(r),onClick:I(e).logout,label:"Logout"},null,8,["loading","onClick"])):q("",!0),v("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[v("div",{class:"fixed w-full px-10",onMouseover:d[0]||(d[0]=h=>a.value=!0),onMouseleave:d[1]||(d[1]=h=>a.value=!1)},[v("div",{class:xe(["flex animation",o.value?"justify-center":"justify-end"])},[M(et,{class:xe(["bg-black bg-opacity-50",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",icon:l.value?void 0:"pi pi-align-justify",onClick:u},{default:Y(()=>[l.value?(E(),L("div",LJ,[v("i",{class:xe(["pi pi-angle-down animation place-self-center mr-2",{"rotate-180":o.value}])},null,2),FJ])):q("",!0)]),_:1},8,["class","icon"])],2)],32),M(MJ,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):q("",!0)}}),UJ={class:xe(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto","w-fit md:w-1/3","mb-8 py-8 bg-transparent text-neutral-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-neutral-900 sm:bg-opacity-50 sm:rounded-primary sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-primary lg:rounded-t-none"])},BJ={key:0,class:"hidden sm:flex justify-center mb-4"},jJ={class:"hidden md:block w-4/5 space-y-2"},HJ={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},WJ={class:"ms-3 flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},KJ={key:1},zJ={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},GJ={class:"font-semibold text-base first:font-bold first:text-lg"},YJ=Ce({__name:"NavigationCard",setup(t){const e=Fg(),{currentUser:n}=Zt(wr()),{content:r}=Zt(hr());return(i,s)=>{const o=wn("RouterLink");return E(),L("div",UJ,[I(n)?(E(),L("div",BJ,[v("div",jJ,[(E(!0),L(we,null,nt(I(r).headerDescriptionUser,a=>(E(),L("p",HJ,Be(a.replace("%USER%",I(n).firstName+(I(n).lastName?" "+I(n).lastName:""))),1))),256))]),v("div",WJ,[M(o,{to:{name:I(cr).DASHBOARD}},{default:Y(()=>[v("i",{class:xe(["pi pi-user px-2 py-1 border rounded-primary border-secondary-600 text-neutral-300 animation-scale",{"bg-secondary-600 bg-opacity-75":I(e).name===I(cr).DASHBOARD}]),style:{"font-size":"3rem"}},null,2)]),_:1},8,["to"])])])):(E(),L("div",KJ,[v("div",zJ,[(E(!0),L(we,null,nt(I(r).headerDescriptionGuest,a=>(E(),L("p",GJ,Be(a),1))),256))])])),M(VJ)])}}}),qJ={class:"sm:flex sm:items-start sm:justify-between mb-20"},XJ={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},QJ=Ce({__name:"Header",setup(t){return(e,n)=>(E(),L("div",qJ,[M(cO,{class:"hidden sm:block"}),v("div",XJ,[M(YJ)]),M(cO,{class:"sm:hidden"})]))}}),JJ={class:"min-h-screen bg-gradient-to-b from-primary-900 to-black via-neutral-800"},ZJ={class:xe(["mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-primary","text-white bg-gradient-to-b from-transparent from-10% via-neutral-900 to-black","bg-opacity-50 border-opacity-100"])},Sa=Ce({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=Fg(),r=se(),i=()=>{e.scrollToContent&&Bp(r.value)};return Ot(()=>n.fullPath,()=>{i()}),$t(()=>{i()}),(s,o)=>(E(),L(we,null,[v("div",JJ,[v("div",ZJ,[v("header",null,[s.$slots.header?fe(s.$slots,"header",{key:0}):(E(),re(QJ,{key:1}))]),v("main",null,[v("div",{ref_key:"content",ref:r},[fe(s.$slots,"content")],512)])])]),v("footer",null,[s.$slots.footer?fe(s.$slots,"footer",{key:0}):(E(),re(KX,{key:1}))])],64))}});var eZ={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},tZ=sr.extend({name:"tag",classes:eZ}),nZ={name:"BaseTag",extends:Xr,props:{value:null,severity:null,rounded:Boolean,icon:String},style:tZ,provide:function(){return{$parentInstance:this}}},Pw={name:"Tag",extends:nZ,inheritAttrs:!1};function rZ(t,e,n,r,i,s){return E(),L("span",ae({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(E(),re(yn(t.$slots.icon),ae({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(E(),L("span",ae({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):q("",!0),t.value||t.$slots.default?fe(t.$slots,"default",{key:2},function(){return[v("span",ae({class:t.cx("value")},t.ptm("value")),Be(t.value),17)]}):q("",!0)],16)}Pw.render=rZ;const iZ={class:"flex flex-col"},sZ={class:"flex justify-between"},oZ={class:"xl:flex"},aZ={key:0,class:"flex flex-wrap gap-x-2"},lZ=["src"],uZ={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},cZ=["href"],dZ={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},hZ={key:3,class:"flex flex-wrap gap-2"},fZ={key:1,class:"flex gap-2"},pZ=["src"],mZ={key:0,class:"xl:mt-2"},Un=Ce({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},route:{},description:{},avatar:{},loading:{type:Boolean},clickable:{type:Boolean},isCollapsed:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,i=()=>{n.clickable&&r("click")};return(s,o)=>{const a=wn("RouterLink");return E(),L("div",{class:xe(["background-gray-light rounded-secondary p-5",{"md:p-10":!s.isCollapsed,"hover:bg-opacity-30":!!s.url,"animate-pulse":!!s.loading,"cursor-pointer":!!s.clickable&&!!s.isCollapsed}])},[v("div",{class:xe(["group/bubble flex justify-between",{"cursor-pointer":!!s.clickable&&!s.isCollapsed}]),onClick:i},[v("div",iZ,[v("div",sZ,[v("div",oZ,[s.url||s.clickable?(E(),L("div",aZ,[s.avatar?(E(),L("img",{key:0,class:"rounded-full h-12 w-12",src:s.avatar},null,8,lZ)):q("",!0),s.route?(E(),re(a,{key:1,to:{name:s.route}},{default:Y(()=>[v("h2",uZ,Be(s.title),1)]),_:1},8,["to"])):(E(),L("a",{key:2,href:s.url},[v("h2",dZ,Be(s.title),1)],8,cZ)),s.tags?(E(),L("div",hZ,[(E(!0),L(we,null,nt(s.tags,l=>(E(),re(I(Pw),{class:"h-fit p-2",value:l.value,severity:l.severity,rounded:l.rounded!==!1,icon:l.icon},null,8,["value","severity","rounded","icon"]))),256))])):q("",!0)])):s.title?(E(),L("div",fZ,[s.avatar?(E(),L("img",{key:0,class:"rounded-full h-12 w-12",src:s.avatar},null,8,pZ)):q("",!0),v("h2",ae({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},s.titleProps),[B(Be(s.title)+" ",1),s.tags?(E(!0),L(we,{key:0},nt(s.tags,l=>(E(),re(I(Pw),{class:"ms-2",value:l.value,severity:l.severity,rounded:l.rounded!==!1,icon:l.icon},null,8,["value","severity","rounded","icon"]))),256)):q("",!0)],16)])):q("",!0),s.subTitle?(E(),L("p",ae({key:2,class:"text-sm text-neutral-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},s.subTitleProps),Be(s.subTitle),17)):q("",!0)])]),s.description&&!s.isCollapsed?(E(),L("div",mZ,[(E(!0),L(we,null,nt(Array.isArray(s.description)?s.description:[s.description],l=>(E(),L("p",ae({class:"text-neutral-400 mb-2",ref_for:!0},s.descriptionProps),Be(l),17))),256))])):q("",!0)]),fe(s.$slots,"right")],2),s.isCollapsed?q("",!0):fe(s.$slots,"default",{key:0})],2)}}}),Hc=Ce({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(E(),L("span",{class:xe({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},Be(e.time),3))}}),gZ=Ce({__name:"CountdownWrapper",props:{time:{},direction:{}},setup(t){const e=t,n=m=>(e.direction==="up"?m=Math.abs(m):m=Math.max(0,m),Math.floor(m)),r=se(0),i=ee(()=>n(r.value/Vm)),s=ee(()=>r.value%Vm),o=ee(()=>n(s.value/Fm)),a=ee(()=>s.value%Fm),l=ee(()=>n(a.value/iw)),u=ee(()=>a.value%iw),c=ee(()=>n(u.value/rw)),d=ee(()=>u.value%rw),h=ee(()=>n(d.value/xN)),f=ee(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&h.value===0),p=()=>{r.value=e.time-new Date().getTime(),setTimeout(p,1e3)};return $t(()=>{p()}),(m,g)=>fe(m.$slots,"default",{years:i.value,days:o.value,hours:l.value,minutes:c.value,seconds:h.value,isTimeUp:f.value,daysIsLast:m.direction==="down"?o.value===364:o.value===0,hoursIsLast:m.direction==="down"?l.value===23:o.value===0,minutesIsLast:m.direction==="down"?c.value===59:c.value===0,secondsIsLast:m.direction==="down"?h.value===59:h.value===0})}}),vZ={class:"grid grid-flow-col text-center"},yZ={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},bZ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},wZ={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},_Z={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},TZ={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},SZ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},EZ={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},IZ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},CZ={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},OZ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Gl=Ce({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t;return(n,r)=>(E(),L("div",{class:xe({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[M(gZ,{time:e.time,direction:n.direction},{default:Y(({years:i,days:s,hours:o,minutes:a,seconds:l,isTimeUp:u,daysIsLast:c,hoursIsLast:d,minutesIsLast:h,secondsIsLast:f})=>[v("div",vZ,[i>0?(E(),L("div",yZ,[v("span",bZ,[M(Hc,{time:i,animate:i>=0&&c&&d&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),B(" years ")])):q("",!0),i>0||s>0||u?(E(),L("div",wZ,[v("span",_Z,[M(Hc,{time:s,animate:s>=0&&d&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),B(" days ")])):q("",!0),i>0||s>0||o>0||u?(E(),L("div",TZ,[v("span",SZ,[M(Hc,{time:o,animate:o>=0&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),B(" hrs ")])):q("",!0),i>0||s>0||o>0||a>0||u?(E(),L("div",EZ,[v("span",IZ,[M(Hc,{time:a,animate:a>=0&&f,direction:n.direction},null,8,["time","animate","direction"])]),B(" mins ")])):q("",!0),i>0||s>0||o>0||a>0||l>0||u?(E(),L("div",CZ,[v("span",OZ,[M(Hc,{time:l,animate:!u,direction:n.direction},null,8,["time","animate","direction"])]),B(" secs ")])):q("",!0)])]),_:1},8,["time","direction"])],2))}}),AZ={key:0,class:"text-red-600"},LT=Ce({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(E(),L("p",AZ,Be(e.error),1)):q("",!0)}});var FT=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(FT||{});const Rt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},j$=Ce({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(E(),re(et,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",icon:"pi pi-trash",onClick:r[0]||(r[0]=i=>n.$emit("click"))}))}}),kZ={class:"m-4"},PZ=["for"],xZ={class:"flex"},ur=Ce({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete","click"],setup(t,{expose:e,emit:n}){const r=t,i=ee(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=ee(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===FT.Required)?" *":""):void 0),o=ee(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Rt.Min),typeof r.maxValue=="number"&&h.push(Rt.Max),typeof r.minLength=="number"&&h.push(Rt.MinLength),typeof r.maxLength=="number"&&h.push(Rt.MaxLength),r.compare&&h.push(Rt.EqualTo);const f={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=h.filter(m=>!m.test(f)).map(m=>{var g;return((g=m.compareError)==null?void 0:g.call(m,f))||m.error(f)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,f;return E(),L("div",kZ,[c.label?(E(),L("label",ae({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Be(s.value),17,PZ)):q("",!0),v("div",xZ,[(E(),re(yn(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),ae({id:o.value,ref:"input",value:i.value,class:"p-input",type:((f=c.inputProps)==null?void 0:f.type)||"text",placeholder:c.placeholder,invalid:!!c.error,onInput:a,onClick:d[0]||(d[0]=Tt(p=>u("click"),["stop"]))},c.inputProps),null,16,["id","value","type","placeholder","invalid"])),c.deleteButton?(E(),re(j$,{key:0,class:"h-fit",onClick:d[1]||(d[1]=p=>u("update:delete"))})):q("",!0)]),c.error?(E(),re(LT,{key:1,name:c.name,error:c.error},null,8,["name","error"])):q("",!0)])}}}),DZ={class:"flex flex-col gap-2"},OO=Ce({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=Zt(wr()),i=hr(),{deleteBlogReaction:s}=i,{blogReactions:o}=Zt(i),a=ee(()=>o.value.unread.find(d=>d.id===e.reaction.id)),l=ee(()=>{const d=[];return a.value&&d.push({value:"Unread",severity:"warning",rounded:!1}),d}),u=ee(()=>n.value&&e.reaction.user.id===n.value.id||r.value),c=()=>{o.value.unread=o.value.unread.filter(d=>d.id!==e.reaction.id)};return(d,h)=>(E(),re(Un,{id:e.reaction.id,class:xe(["p-5 w-full md:w-3/4",e.post.colorTertiary,e.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":a.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},title:e.reaction.user.displayName||"Unknown user",subTitle:I(ow)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message,tags:l.value},rr({_:2},[u.value||a.value?{name:"right",fn:Y(()=>[v("div",DZ,[u.value&&!e.post.locked?(E(),re(et,{key:0,type:"danger",outlined:"",class:"h-fit",label:"Delete",onClick:h[0]||(h[0]=f=>I(s)(e.reaction.id,e.post))})):q("",!0),a.value?(E(),re(et,{key:1,type:"tertiary",outlined:"",class:"h-fit",label:"Mark as read",onClick:c})):q("",!0)])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","description","tags"]))}}),RZ={class:"grid justify-items-center p-5 gap-5"},NZ=Ce({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=Zt(wr()),r=hr(),{content:i}=Zt(r),{createBlogReaction:s}=r,o=se(),a=se(!1),l=Nn({reaction:{value:"",error:""}}),u=ee(()=>[...e.post.reactions].reverse()),c=ee(()=>u.value.filter((f,p)=>p<3)),d=ee(()=>u.value.filter((f,p)=>p>=3)),h=async()=>{await o.value.test(),!l.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:l.reaction.value,date:new Date})&&(l.reaction.value=""),UK()};return(f,p)=>(E(),L("form",{action:"",onSubmit:Tt(h,["prevent"])},[v("div",RZ,[!I(n)||f.post.reactions.filter(m=>m.user.id===I(n).id).length<20?(E(),re(Un,{key:0,class:xe(["p-5 flex justify-center w-full md:w-3/4","!rounded-primary",f.post.colorTertiary||"bg-secondary-700",f.post.opacityTertiary||"bg-opacity-25"])},{default:Y(()=>[M(ur,{class:"w-5/6",id:f.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",f.post.colorSecondary||f.post.colorPrimary||"bg-secondary-600",f.post.opacitySecondary||"!bg-opacity-20",!f.post.locked&&I(n)?"focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50",{"cursor-pointer":!I(n)&&!f.post.locked}]},ref_key:"reaction",ref:o,name:"reaction",placeholder:f.post.locked?"Locked for comments":I(n)?"Reply":I(i).blogLoginGuest,modelValue:l.reaction.value,"onUpdate:modelValue":p[0]||(p[0]=m=>l.reaction.value=m),error:l.reaction.error,"onUpdate:error":p[1]||(p[1]=m=>l.reaction.error=m),rules:[I(Rt).Required],onClick:p[2]||(p[2]=()=>!I(n)&&!f.post.locked?I(tS).push({name:I(cr).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):q("",!0),(E(!0),L(we,null,nt(c.value,m=>(E(),re(OO,{post:f.post,reaction:m},null,8,["post","reaction"]))),256)),(E(!0),L(we,null,nt(d.value,m=>vi((E(),re(OO,{post:f.post,reaction:m},null,8,["post","reaction"])),[[Ds,a.value]])),256)),f.post.reactions.length>3?(E(),re(et,{key:1,type:"primary",outlined:"",icon:a.value?"pi pi-angle-up":"pi pi-angle-down",label:a.value?"Hide older reactions":"View older reactions",onClick:p[3]||(p[3]=m=>a.value=!a.value)},null,8,["icon","label"])):q("",!0)])],32))}});var Lv={name:"ChevronDownIcon",extends:Ta},MZ=v("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),$Z=[MZ];function LZ(t,e,n,r,i,s){return E(),L("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),$Z,16)}Lv.render=LZ;var H$={name:"ChevronRightIcon",extends:Ta},FZ=v("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),VZ=[FZ];function UZ(t,e,n,r,i,s){return E(),L("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),VZ,16)}H$.render=UZ;var BZ={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,r=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(r)}]},header:function(e){var n=e.instance,r=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(r,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},jZ=sr.extend({name:"accordion",classes:BZ}),HZ={name:"BaseAccordion",extends:Xr,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:jZ,provide:function(){return{$parentInstance:this}}},Kn={name:"Accordion",extends:HZ,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||lc()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||lc()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,r){var i=this.tabs.length,s={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:i,first:r===0,last:r===i-1,active:this.isTabActive(r)}};return ae(this.ptm("tab.".concat(n),{tab:s}),this.ptm("accordiontab.".concat(n),{accordiontab:s}),this.ptm("accordiontab.".concat(n),s),this.ptmo(this.getTabProp(e,"pt"),n,s))},onTabClick:function(e,n,r){this.changeActiveIndex(e,n,r),this.$emit("tab-click",{originalEvent:e,index:r})},onTabKeyDown:function(e,n,r){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,r);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,r){this.changeActiveIndex(e,n,r),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling,i=Pe.findSingle(r,'[data-pc-section="header"]');return i?Pe.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):Pe.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling,i=Pe.findSingle(r,'[data-pc-section="header"]');return i?Pe.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):Pe.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,r){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(r),s=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==r}):this.d_activeIndex?this.d_activeIndex.push(r):this.d_activeIndex=[r]:this.d_activeIndex=this.d_activeIndex===r?null:r,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:r})}},changeFocusedTab:function(e,n){if(n&&(Pe.focus(n),this.selectOnFocus)){var r=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[r];this.changeActiveIndex(e,i,r)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,r){return e.isAccordionTab(r)?n.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:Lv,ChevronRightIcon:H$},directives:{ripple:$v}};function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return e=KZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=zZ(t,"string");return Rh(e)=="symbol"?e:String(e)}function zZ(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GZ=["data-pc-index","data-p-active"],YZ=["data-p-highlight","data-p-disabled"],qZ=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],XZ=["id","aria-labelledby"];function QZ(t,e,n,r,i,s){return E(),L("div",ae({class:t.cx("root")},t.ptmi("root")),[(E(!0),L(we,null,nt(s.tabs,function(o,a){return E(),L("div",ae({key:s.getKey(o,a),class:t.cx("tab.root",{tab:o,index:a})},s.getTabPT(o,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":s.isTabActive(a)}),[v("div",ae({style:s.getTabProp(o,"headerStyle"),class:[t.cx("tab.header",{tab:o,index:a}),s.getTabProp(o,"headerClass")]},Yl(Yl({},s.getTabProp(o,"headerProps")),s.getTabPT(o,"header",a)),{"data-p-highlight":s.isTabActive(a),"data-p-disabled":s.getTabProp(o,"disabled")}),[v("a",ae({id:s.getTabHeaderActionId(a),class:t.cx("tab.headerAction"),tabindex:s.getTabProp(o,"disabled")?-1:t.tabindex,role:"button","aria-disabled":s.getTabProp(o,"disabled"),"aria-expanded":s.isTabActive(a),"aria-controls":s.getTabContentId(a),onClick:function(u){return s.onTabClick(u,o,a)},onKeydown:function(u){return s.onTabKeyDown(u,o,a)}},Yl(Yl({},s.getTabProp(o,"headeractionprops")),s.getTabPT(o,"headeraction",a))),[o.children&&o.children.headericon?(E(),re(yn(o.children.headericon),{key:0,isTabActive:s.isTabActive(a),active:s.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):s.isTabActive(a)?(E(),re(yn(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),ae({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])):(E(),re(yn(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),ae({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])),o.props&&o.props.header?(E(),L("span",ae({key:3,class:t.cx("tab.headerTitle")},s.getTabPT(o,"headertitle",a)),Be(o.props.header),17)):q("",!0),o.children&&o.children.header?(E(),re(yn(o.children.header),{key:4})):q("",!0)],16,qZ)],16,YZ),M(Xi,ae({name:"p-toggleable-content"},s.getTabPT(o,"transition",a)),{default:Y(function(){return[!t.lazy||s.isTabActive(a)?vi((E(),L("div",ae({key:0,id:s.getTabContentId(a),style:s.getTabProp(o,"contentStyle"),class:[t.cx("tab.toggleableContent"),s.getTabProp(o,"contentClass")],role:"region","aria-labelledby":s.getTabHeaderActionId(a)},Yl(Yl({},s.getTabProp(o,"contentProps")),s.getTabPT(o,"toggleablecontent",a))),[v("div",ae({class:t.cx("tab.content")},s.getTabPT(o,"content",a)),[(E(),re(yn(o)))],16)],16,XZ)),[[Ds,t.lazy?!0:s.isTabActive(a)]]):q("",!0)]}),_:2},1040)],16,GZ)}),128))],16)}Kn.render=QZ;var JZ={},ZZ={name:"BaseAccordionTab",extends:Xr,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:JZ,provide:function(){return{$parentInstance:this}}},Ae={name:"AccordionTab",extends:ZZ,inheritAttrs:!1};function eee(t,e,n,r,i,s){return fe(t.$slots,"default")}Ae.render=eee;var VT={name:"TimesCircleIcon",extends:Ta},tee=v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),nee=[tee];function ree(t,e,n,r,i,s){return E(),L("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),nee,16)}VT.render=ree;var iee={root:function(e){var n=e.props;return["p-chip p-component",{"p-chip-image":n.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},see=sr.extend({name:"chip",classes:iee}),oee={name:"BaseChip",extends:Xr,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:see,provide:function(){return{$parentInstance:this}}},W$={name:"Chip",extends:oee,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:VT}},aee=["aria-label"],lee=["src"];function uee(t,e,n,r,i,s){return i.visible?(E(),L("div",ae({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[t.image?(E(),L("img",ae({key:0,src:t.image},t.ptm("image")),null,16,lee)):t.$slots.icon?(E(),re(yn(t.$slots.icon),ae({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(E(),L("span",ae({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):q("",!0),t.label?(E(),L("div",ae({key:3,class:t.cx("label")},t.ptm("label")),Be(t.label),17)):q("",!0)]}),t.removable?fe(t.$slots,"removeicon",{key:0,onClick:s.close,onKeydown:s.onKeydown,removeCallback:s.close,keydownCallback:s.onKeydown},function(){return[(E(),re(yn(t.removeIcon?"span":"TimesCircleIcon"),ae({tabindex:"0",class:[t.cx("removeIcon"),t.removeIcon],onClick:s.close,onKeydown:s.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):q("",!0)],16,aee)):q("",!0)}W$.render=uee;const cee=Ce({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(E(),L("div",null,[v("div",{class:xe({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[v("ul",{class:xe(["list-disc",{"ms-5":e.alignment==="left"}])},[(E(!0),L(we,null,nt(e.bullets,r=>(E(),L("li",null,Be(r),1))),256))],2)],2)]))}}),dee=["href"],hee={class:"break-all"},fee={key:1},pee={key:2},gp=Ce({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(E(!0),L(we,null,nt(e.description.split(`
`).map(s=>s.trim()),s=>(E(),L("div",{class:xe(["text-lg",e.class])},[v("div",{class:xe({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(E(),L("a",{key:0,href:s,onClick:i[0]||(i[0]=Tt(()=>{},["stop"])),class:"underline hover:no-underline"},[v("span",hee,Be(s),1)],8,dee)):s?(E(),L("p",fee,Be(s),1)):(E(),L("br",pee))],2)],2))),256))}});function mee(t){return Qh()?(Tg(t),!0):!1}function xw(t){return typeof t=="function"?t():I(t)}const gee=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function vee(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:n[0])||"",i=t.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?t:s+i}const K$=gee?window:void 0;function yee(){const t=se(!1),e=qi();return e&&$t(()=>{t.value=!0},e),t}function bee(t){const e=yee();return ee(()=>(e.value,!!t()))}function Wc(t,e={}){const{window:n=K$}=e,r=bee(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=se(!1),o=u=>{s.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=_1(()=>{r.value&&(a(),i=n.matchMedia(xw(t)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return mee(()=>{l(),a(),i=void 0}),s}const Fv={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Vv(t,e={}){function n(c,d){let h=xw(t[xw(c)]);return d!=null&&(h=vee(h,d)),typeof h=="number"&&(h=`${h}px`),h}const{window:r=K$,strategy:i="min-width"}=e;function s(c){return r?r.matchMedia(c).matches:!1}const o=c=>Wc(()=>`(min-width: ${n(c)})`,e),a=c=>Wc(()=>`(max-width: ${n(c)})`,e),l=Object.keys(t).reduce((c,d)=>(Object.defineProperty(c,d,{get:()=>i==="min-width"?o(d):a(d),enumerable:!0,configurable:!0}),c),{});function u(){const c=Object.keys(t).map(d=>[d,o(d)]);return ee(()=>c.filter(([,d])=>d.value).map(([d])=>d))}return Object.assign(l,{greaterOrEqual:o,smallerOrEqual:a,greater(c){return Wc(()=>`(min-width: ${n(c,.1)})`,e)},smaller(c){return Wc(()=>`(max-width: ${n(c,-.1)})`,e)},between(c,d){return Wc(()=>`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`,e)},isGreater(c){return s(`(min-width: ${n(c,.1)})`)},isGreaterOrEqual(c){return s(`(min-width: ${n(c)})`)},isSmaller(c){return s(`(max-width: ${n(c,-.1)})`)},isSmallerOrEqual(c){return s(`(max-width: ${n(c)})`)},isInBetween(c,d){return s(`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`)},current:u,active(){const c=u();return ee(()=>c.value.length===0?"":c.value.at(-1))}})}/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dw(t){"@babel/helpers - typeof";return Dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dw(t)}function wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z$(r.key),r)}}function _ee(t,e,n){return e&&PO(t.prototype,e),n&&PO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tee(t,e,n){return e=z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function See(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z$(t){var e=See(t,"string");return typeof e=="symbol"?e:String(e)}var xO={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Eee='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Uv=typeof window<"u"&&typeof window.document<"u",wo=Uv?window:{},Vu=Uv&&wo.document.documentElement?"ontouchstart"in wo.document.documentElement:!1,BT=Uv?"PointerEvent"in wo:!1,wt="viewer",Gp="move",G$="switch",fd="zoom",vp="".concat(wt,"-active"),Iee="".concat(wt,"-close"),Yp="".concat(wt,"-fade"),Rw="".concat(wt,"-fixed"),Cee="".concat(wt,"-fullscreen"),DO="".concat(wt,"-fullscreen-exit"),Va="".concat(wt,"-hide"),Oee="".concat(wt,"-hide-md-down"),Aee="".concat(wt,"-hide-sm-down"),kee="".concat(wt,"-hide-xs-down"),Fi="".concat(wt,"-in"),Fd="".concat(wt,"-invisible"),Uu="".concat(wt,"-loading"),Pee="".concat(wt,"-move"),RO="".concat(wt,"-open"),ql="".concat(wt,"-show"),Fn="".concat(wt,"-transition"),uc="click",Nw="dblclick",NO="dragstart",MO="focusin",$O="keydown",ji="load",nl="error",xee=Vu?"touchend touchcancel":"mouseup",Dee=Vu?"touchmove":"mousemove",Ree=Vu?"touchstart":"mousedown",LO=BT?"pointerdown":Ree,FO=BT?"pointermove":Dee,VO=BT?"pointerup pointercancel":xee,UO="resize",ns="transitionend",BO="wheel",jO="ready",HO="show",WO="shown",KO="hide",zO="hidden",GO="view",Nh="viewed",YO="move",qO="moved",XO="rotate",QO="rotated",JO="scale",ZO="scaled",eA="zoom",tA="zoomed",nA="play",rA="stop",ng="".concat(wt,"Action"),jT=/\s\s*/,yp=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Mh(t){return typeof t=="string"}var Nee=Number.isNaN||wo.isNaN;function xn(t){return typeof t=="number"&&!Nee(t)}function mu(t){return typeof t>"u"}function cc(t){return Dw(t)==="object"&&t!==null}var Mee=Object.prototype.hasOwnProperty;function gu(t){if(!cc(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&Mee.call(n,"isPrototypeOf")}catch{return!1}}function an(t){return typeof t=="function"}function cn(t,e){if(t&&an(e))if(Array.isArray(t)||xn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else cc(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Ai=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return cc(e)&&r.length>0&&r.forEach(function(s){cc(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},$ee=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ls(t,e){var n=t.style;cn(e,function(r,i){$ee.test(i)&&xn(r)&&(r+="px"),n[i]=r})}function Lee(t){return Mh(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function au(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function dt(t,e){if(!(!t||!e)){if(xn(t.length)){cn(t,function(r){dt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Gt(t,e){if(!(!t||!e)){if(xn(t.length)){cn(t,function(n){Gt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function $h(t,e,n){if(e){if(xn(t.length)){cn(t,function(r){$h(r,e,n)});return}n?dt(t,e):Gt(t,e)}}var Fee=/([a-z\d])([A-Z])/g;function HT(t){return t.replace(Fee,"$1-$2").toLowerCase()}function vu(t,e){return cc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(HT(e)))}function Mw(t,e,n){cc(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(HT(e)),n)}var Y$=function(){var t=!1;if(Uv){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});wo.addEventListener("test",n,r),wo.removeEventListener("test",n,r)}return t}();function ln(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(jT).forEach(function(s){if(!Y$){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function gt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(jT).forEach(function(s){if(r.once&&!Y$){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function Wn(t,e,n,r){var i;return an(Event)&&an(CustomEvent)?i=new CustomEvent(e,UT({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function Vee(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function qp(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];xn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),xn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),xn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),xn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),xn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function Uee(t){return Mh(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var lb=wo.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(wo.navigator.userAgent);function q$(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!lb)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),lb||i.removeChild(r)},cn(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,lb||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function bp(t){switch(t){case 2:return kee;case 3:return Aee;case 4:return Oee;default:return""}}function Bee(t){var e=UT({},t),n=[];return cn(t,function(r,i){delete e[i],cn(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),h=(d-c)/c;n.push(h)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function wp(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:UT({timeStamp:Date.now(),startX:n,startY:r},i)}function jee(t){var e=0,n=0,r=0;return cn(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var Hee={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Ai({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&ls(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",cn(this.images,function(o,a){var l=o.src,u=o.alt||Uee(l),c=e.getImageURL(o);if(l||c){var d=document.createElement("li"),h=document.createElement("img");cn(r.inheritedAttributes,function(f){var p=o.getAttribute(f);p!==null&&h.setAttribute(f,p)}),r.navbar&&(h.src=l||c),h.alt=u,h.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(h),i.appendChild(d),s.push(d)}}),this.items=s,cn(s,function(o){var a=o.firstElementChild,l,u;Mw(a,"filled",!0),r.loading&&dt(o,Uu),gt(a,ji,l=function(d){ln(a,nl,u),r.loading&&Gt(o,Uu),e.loadImage(d)},{once:!0}),gt(a,nl,u=function(){ln(a,ji,l),r.loading&&Gt(o,Uu)},{once:!0})}),r.transition&&gt(n,Nh,function(){dt(i,Fn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;ls(this.list,Ai({width:o*this.length-i},qp({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Gt(e,Fn),ls(e,qp({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=q$(i,r,function(d,h){var f=d/h,p=Math.max(0,Math.min(1,r.initialCoverage)),m=a,g=l;n.imageInitializing=!1,l*f>a?g=a/f:m=l*f,p=xn(p)?p:.9,m=Math.min(m*p,d),g=Math.min(g*p,h);var y=(a-m)/2,b=(l-g)/2,_={left:y,top:b,x:y,y:b,width:m,height:g,oldRatio:1,ratio:m/d,aspectRatio:f,naturalWidth:d,naturalHeight:h},w=Ai({},_);r.rotatable&&(_.rotate=u.rotate||0,w.rotate=0),r.scalable&&(_.scaleX=u.scaleX||1,_.scaleY=u.scaleY||1,w.scaleX=1,w.scaleY=1),n.imageData=_,n.initialImageData=w,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(ls(r,Ai({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},qp(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&au(r,Fn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){ln(r,ns,s)}},gt(r,ns,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},Wee={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;gt(n,uc,this.onClick=this.click.bind(this)),gt(n,NO,this.onDragStart=this.dragstart.bind(this)),gt(r,LO,this.onPointerDown=this.pointerdown.bind(this)),gt(i,FO,this.onPointerMove=this.pointermove.bind(this)),gt(i,VO,this.onPointerUp=this.pointerup.bind(this)),gt(i,$O,this.onKeyDown=this.keydown.bind(this)),gt(window,UO,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&gt(n,BO,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&gt(r,Nw,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;ln(n,uc,this.onClick),ln(n,NO,this.onDragStart),ln(r,LO,this.onPointerDown),ln(i,FO,this.onPointerMove),ln(i,VO,this.onPointerUp),ln(i,$O,this.onKeyDown),ln(window,UO,this.onResize),e.zoomable&&e.zoomOnWheel&&ln(n,BO,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&ln(r,Nw,this.onDblclick)}},Kee={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=vu(i,ng);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=vu(i,ng)),Vu&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(vu(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Vu&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Gt(i,Fd),r.loading&&Gt(this.canvas,Uu),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){$h(i,Pee,r.movable),$h(i,Fn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,an(r.viewed)&&gt(n,Nh,r.viewed,{once:!0}),Wn(n,Nh,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!vu(n,"filled");q$(n,this.options,function(a,l){var u=a/l,c=i,d=s;s*u>i?o?c=s*u:d=i/u:o?d=i/u:c=s*u,ls(n,Ai({width:c,height:d},qp({translateX:(i-c)/2,translateY:(s-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(xn(i)&&i!==1||xn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?cn(e.changedTouches,function(a){r[a.identifier]=wp(a)}):r[e.pointerId||0]=wp(e);var o=n.movable?Gp:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=fd:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=G$),n.transition&&(o===Gp||o===fd)&&Gt(this.image,Fn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?cn(e.changedTouches,function(i){Ai(n[i.identifier]||{},wp(i,!0))}):Ai(n[e.pointerId||0]||{},wp(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?cn(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===Gp||i===fd)&&dt(this.image,Fn),this.action=!1,Vu&&i!==fd&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Wn(n.image,Nw,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Wn(n.canvas,uc,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}cn(this.player.getElementsByTagName("img"),function(n){gt(n,ji,e.loadImage.bind(e),{once:!0}),Wn(n,ji)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},zee={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(an(r.show)&&gt(n,HO,r.show,{once:!0}),Wn(n,HO)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Gt(i,Va),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){ln(i,ns,s),Gt(i,Fi)}},dt(i,Fn),i.initialOffsetWidth=i.offsetWidth,gt(i,ns,s,{once:!0}),dt(i,Fi)}else dt(i,Fi),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(an(i.hide)&&gt(r,KO,i.hide,{once:!0}),Wn(r,KO)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Gt(s,Fi),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===s&&(ln(s,ns,c),e.hidden())},u=function(){au(s,Fn)?(gt(s,ns,l),Gt(s,Fi)):a()};this.transitioning={abort:function(){e.viewed&&au(o,Fn)?ln(o,ns,u):au(s,Fn)&&ln(s,ns,l)}},this.viewed&&au(o,Fn)?(gt(o,ns,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=vu(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(cn(i.inheritedAttributes,function(g){var y=l.getAttribute(g);y!==null&&d.setAttribute(g,y)}),d.src=u,d.alt=c,an(i.view)&&gt(r,GO,i.view,{once:!0}),Wn(r,GO,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];h&&(Gt(h,vp),h.removeAttribute("aria-selected")),dt(a,vp),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},dt(d,Fd),i.loading&&dt(o,Uu),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var f=function(){var y=e.imageData,b=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=Lee(an(b)?b.call(e,d,y):"".concat(c," (").concat(y.naturalWidth," × ").concat(y.naturalHeight,")"))},p,m;return gt(r,Nh,f,{once:!0}),this.viewing={abort:function(){ln(r,Nh,f),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",ln(d,ji,p),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(gt(d,ji,p=function(){ln(d,nl,m),e.load()},{once:!0}),gt(d,nl,m=function(){ln(d,ji,p),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Gt(d,Fd),i.loading&&Gt(e.canvas,Uu)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Gt(d,Fd),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(mu(e)?e:r.x+Number(e),mu(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(xn(e)?c=!0:e=l,xn(r)?c=!0:r=u,c){if(an(o.move)&&gt(s,YO,o.move,{once:!0}),Wn(s,YO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,an(o.moved)&&gt(s,qO,o.moved,{once:!0}),Wn(s,qO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),xn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(an(i.rotate)&&gt(r,XO,i.rotate,{once:!0}),Wn(r,XO,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,an(i.rotated)&&gt(r,QO,i.rotated,{once:!0}),Wn(r,QO,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(xn(e)?u=!0:e=a,xn(r)?u=!0:r=l,u){if(an(s.scale)&&gt(i,JO,s.scale,{once:!0}),Wn(i,JO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,an(s.scaled)&&gt(i,ZO,s.scaled,{once:!0}),Wn(i,ZO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,h=c.y,f=c.width,p=c.height,m=c.naturalWidth,g=c.naturalHeight;if(e=Math.max(0,e),xn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var y=Math.max(.01,l.minZoomRatio),b=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,y),b)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var _=m*e,w=g*e,T=_-f,S=w-p,O=c.ratio;if(an(l.zoom)&&gt(a,eA,l.zoom,{once:!0}),Wn(a,eA,{ratio:e,oldRatio:O,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var R=Vee(this.viewer),D=u&&Object.keys(u).length>0?jee(u):{pageX:s.pageX,pageY:s.pageY};c.x-=T*((D.pageX-R.left-d)/f),c.y-=S*((D.pageY-R.top-h)/p)}else gu(i)&&xn(i.x)&&xn(i.y)?(c.x-=T*((i.x-d)/f),c.y-=S*((i.y-h)/p)):(c.x-=T/2,c.y-=S/2);c.left=c.x,c.top=c.y,c.width=_,c.height=w,c.oldRatio=O,c.ratio=e,this.renderImage(function(){n.zooming=!1,an(l.zoomed)&&gt(a,tA,l.zoomed,{once:!0}),Wn(a,tA,{ratio:e,oldRatio:O,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(an(i.play)&&gt(r,nA,i.play,{once:!0}),Wn(r,nA)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),dt(s,ql),cn(this.items,function(h,f){var p=h.querySelector("img"),m=document.createElement("img");m.src=vu(p,"originalUrl"),m.alt=p.getAttribute("alt"),m.referrerPolicy=p.referrerPolicy,l+=1,dt(m,Yp),$h(m,Fn,i.transition),au(h,vp)&&(dt(m,Fi),u=f),a.push(m),gt(m,ji,o,{once:!0}),s.appendChild(m)}),xn(i.interval)&&i.interval>0){var c=function h(){clearTimeout(e.playing.timeout),Gt(a[u],Fi),u-=1,u=u>=0?u:l-1,dt(a[u],Fi),e.playing.timeout=setTimeout(h,i.interval)},d=function h(){clearTimeout(e.playing.timeout),Gt(a[u],Fi),u+=1,u=u<l?u:0,dt(a[u],Fi),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(an(r.stop)&&gt(n,rA,r.stop,{once:!0}),Wn(n,rA)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,cn(i.getElementsByTagName("img"),function(s){ln(s,ji,e.onLoadWhenPlay)}),Gt(i,ql),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),dt(this.button,DO),n.transition&&(Gt(s,Fn),this.viewed&&Gt(i,Fn)),dt(r,Rw),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),ls(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Ai({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){dt(i,Fn),dt(s,Fn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Gt(this.button,DO),n.transition&&(Gt(s,Fn),this.viewed&&Gt(i,Fn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Gt(r,Rw),ls(r,{zIndex:n.zIndexInline}),this.viewerData=Ai({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){dt(i,Fn),dt(s,Fn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Wn(r,ns),dt(r,ql),dt(r,Yp),dt(r,Fn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,dt(r,Fi)):(dt(r,ql),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(gt(r,ns,function(){Gt(r,ql),Gt(r,Yp),Gt(r,Fn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Gt(r,Fi),e.fading=!0):(Gt(r,ql),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Ai({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(cn(i?[n]:n.querySelectorAll("img"),function(u){an(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(cn(this.items,function(u,c){var d=u.querySelector("img"),h=s[c];h&&d?(h.src!==d.src||h.alt!==d.alt)&&o.push(c):o.push(c)}),ls(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];dt(l,vp),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[wt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||ln(e,uc,this.onStart),e[wt]=void 0,this):this}},Gee={getImageURL:function(e){var n=this.options.url;return Mh(n)?n=e.getAttribute(n):an(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),gt(document,MO,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(ln(document,MO,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;dt(e,RO),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Gt(e,RO),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),an(n.shown)&&gt(e,WO,n.shown,{once:!0}),Wn(e,WO)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),dt(r,Va),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(an(n.hidden)&&gt(e,zO,n.hidden,{once:!0}),Wn(e,zO,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?gu(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case Gp:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case fd:this.zoom(Bee(r),!1,null,e);break;case G$:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}cn(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},Yee=wo.Viewer,qee=function(t){return function(){return t+=1,t}}(-1),dc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(wee(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Ai({},xO,gu(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=qee(),this.init()}return _ee(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[wt]){r[wt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(cn(s?[r]:r.querySelectorAll("img"),function(u){an(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),mu(document.createElement(wt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){cn(o,function(c){c.complete||(ln(c,ji,l),ln(c,nl,l))})}},cn(o,function(u){if(u.complete)l();else{var c,d;gt(u,ji,c=function(){ln(u,nl,d),l()},{once:!0}),gt(u,nl,d=function(){ln(u,ji,c),l()},{once:!0})}})}else gt(r,uc,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!an(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=Eee;var o=s.querySelector(".".concat(wt,"-container")),a=o.querySelector(".".concat(wt,"-title")),l=o.querySelector(".".concat(wt,"-toolbar")),u=o.querySelector(".".concat(wt,"-navbar")),c=o.querySelector(".".concat(wt,"-button")),d=o.querySelector(".".concat(wt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=o.querySelector(".".concat(wt,"-footer")),this.tooltipBox=o.querySelector(".".concat(wt,"-tooltip")),this.player=o.querySelector(".".concat(wt,"-player")),this.list=o.querySelector(".".concat(wt,"-list")),o.id="".concat(wt).concat(this.id),a.id="".concat(wt,"Title").concat(this.id),dt(a,r.title?bp(Array.isArray(r.title)?r.title[0]:r.title):Va),dt(u,r.navbar?bp(r.navbar):Va),$h(c,Va,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(dt(o,"".concat(wt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&Mw(d,ng,"hide")),Mh(r.className)&&r.className&&r.className.split(jT).forEach(function(_){dt(o,_)}),r.toolbar){var h=document.createElement("ul"),f=gu(r.toolbar),p=yp.slice(0,3),m=yp.slice(7,9),g=yp.slice(9);f||dt(l,bp(r.toolbar)),cn(f?r.toolbar:yp,function(_,w){var T=f&&gu(_),S=f?HT(w):_,O=T&&!mu(_.show)?_.show:_;if(!(!O||!r.zoomable&&p.indexOf(S)!==-1||!r.rotatable&&m.indexOf(S)!==-1||!r.scalable&&g.indexOf(S)!==-1)){var R=T&&!mu(_.size)?_.size:_,D=T&&!mu(_.click)?_.click:_,C=document.createElement("li");r.keyboard&&C.setAttribute("tabindex",0),C.setAttribute("role","button"),dt(C,"".concat(wt,"-").concat(S)),an(D)||Mw(C,ng,S),xn(O)&&dt(C,bp(O)),["small","large"].indexOf(R)!==-1?dt(C,"".concat(wt,"-").concat(R)):S==="play"&&dt(C,"".concat(wt,"-large")),an(D)&&gt(C,uc,D),h.appendChild(C)}}),l.appendChild(h)}else dt(l,Va);if(!r.rotatable){var y=l.querySelectorAll('li[class*="rotate"]');dt(y,Fd),cn(y,function(_){l.appendChild(_)})}if(r.inline)dt(c,Cee),ls(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&ls(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{dt(c,Iee),dt(o,Rw),dt(o,Yp),dt(o,Va),ls(o,{zIndex:r.zIndex});var b=r.container;Mh(b)&&(b=n.ownerDocument.querySelector(b)),b||(b=this.body),b.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,an(r.ready)&&gt(n,jO,r.ready,{once:!0}),Wn(n,jO)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Yee,t}},{key:"setDefaults",value:function(n){Ai(xO,gu(n)&&n)}}]),t}();Ai(dc.prototype,Hee,Wee,Kee,zee,Gee);var Xee=typeof global=="object"&&global&&global.Object===Object&&global;const X$=Xee;var Qee=typeof self=="object"&&self&&self.Object===Object&&self,Jee=X$||Qee||Function("return this")();const Bv=Jee;var Zee=Bv.Symbol;const rg=Zee;var Q$=Object.prototype,ete=Q$.hasOwnProperty,tte=Q$.toString,Kc=rg?rg.toStringTag:void 0;function nte(t){var e=ete.call(t,Kc),n=t[Kc];try{t[Kc]=void 0;var r=!0}catch{}var i=tte.call(t);return r&&(e?t[Kc]=n:delete t[Kc]),i}var rte=Object.prototype,ite=rte.toString;function ste(t){return ite.call(t)}var ote="[object Null]",ate="[object Undefined]",iA=rg?rg.toStringTag:void 0;function jv(t){return t==null?t===void 0?ate:ote:iA&&iA in Object(t)?nte(t):ste(t)}function Hv(t){return t!=null&&typeof t=="object"}var lte="[object Symbol]";function ute(t){return typeof t=="symbol"||Hv(t)&&jv(t)==lte}var cte=Array.isArray;const dte=cte;var hte=/\s/;function fte(t){for(var e=t.length;e--&&hte.test(t.charAt(e)););return e}var pte=/^\s+/;function mte(t){return t&&t.slice(0,fte(t)+1).replace(pte,"")}function Cl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sA=NaN,gte=/^[-+]0x[0-9a-f]+$/i,vte=/^0b[01]+$/i,yte=/^0o[0-7]+$/i,bte=parseInt;function oA(t){if(typeof t=="number")return t;if(ute(t))return sA;if(Cl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=mte(t);var n=vte.test(t);return n||yte.test(t)?bte(t.slice(2),n?2:8):gte.test(t)?sA:+t}function J$(t){return t}var wte="[object AsyncFunction]",_te="[object Function]",Tte="[object GeneratorFunction]",Ste="[object Proxy]";function Z$(t){if(!Cl(t))return!1;var e=jv(t);return e==_te||e==Tte||e==wte||e==Ste}var Ete=Bv["__core-js_shared__"];const ub=Ete;var aA=function(){var t=/[^.]+$/.exec(ub&&ub.keys&&ub.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ite(t){return!!aA&&aA in t}var Cte=Function.prototype,Ote=Cte.toString;function Ate(t){if(t!=null){try{return Ote.call(t)}catch{}try{return t+""}catch{}}return""}var kte=/[\\^$.*+?()[\]{}|]/g,Pte=/^\[object .+?Constructor\]$/,xte=Function.prototype,Dte=Object.prototype,Rte=xte.toString,Nte=Dte.hasOwnProperty,Mte=RegExp("^"+Rte.call(Nte).replace(kte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $te(t){if(!Cl(t)||Ite(t))return!1;var e=Z$(t)?Mte:Pte;return e.test(Ate(t))}function Lte(t,e){return t==null?void 0:t[e]}function Fte(t,e){var n=Lte(t,e);return $te(n)?n:void 0}function Vte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ute=800,Bte=16,jte=Date.now;function Hte(t){var e=0,n=0;return function(){var r=jte(),i=Bte-(r-n);if(n=r,i>0){if(++e>=Ute)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Wte(t){return function(){return t}}var Kte=function(){try{var t=Fte(Object,"defineProperty");return t({},"",{}),t}catch{}}();const ig=Kte;var zte=ig?function(t,e){return ig(t,"toString",{configurable:!0,enumerable:!1,value:Wte(e),writable:!0})}:J$;const Gte=zte;var Yte=Hte(Gte);const qte=Yte;var Xte=9007199254740991,Qte=/^(?:0|[1-9]\d*)$/;function eL(t,e){var n=typeof t;return e=e??Xte,!!e&&(n=="number"||n!="symbol"&&Qte.test(t))&&t>-1&&t%1==0&&t<e}function tL(t,e,n){e=="__proto__"&&ig?ig(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function WT(t,e){return t===e||t!==t&&e!==e}var Jte=Object.prototype,Zte=Jte.hasOwnProperty;function nL(t,e,n){var r=t[e];(!(Zte.call(t,e)&&WT(r,n))||n===void 0&&!(e in t))&&tL(t,e,n)}function ene(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?tL(n,a,l):nL(n,a,l)}return n}var lA=Math.max;function tne(t,e,n){return e=lA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=lA(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Vte(t,this,a)}}function rL(t,e){return qte(tne(t,e,J$),t+"")}var nne=9007199254740991;function iL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nne}function Wv(t){return t!=null&&iL(t.length)&&!Z$(t)}function sL(t,e,n){if(!Cl(n))return!1;var r=typeof e;return(r=="number"?Wv(n)&&eL(e,n.length):r=="string"&&e in n)?WT(n[e],t):!1}function rne(t){return rL(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&sL(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var ine=Object.prototype;function KT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ine;return t===n}function sne(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var one="[object Arguments]";function uA(t){return Hv(t)&&jv(t)==one}var oL=Object.prototype,ane=oL.hasOwnProperty,lne=oL.propertyIsEnumerable,une=uA(function(){return arguments}())?uA:function(t){return Hv(t)&&ane.call(t,"callee")&&!lne.call(t,"callee")};const cne=une;function dne(){return!1}var aL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cA=aL&&typeof module=="object"&&module&&!module.nodeType&&module,hne=cA&&cA.exports===aL,dA=hne?Bv.Buffer:void 0,fne=dA?dA.isBuffer:void 0,pne=fne||dne;const mne=pne;var gne="[object Arguments]",vne="[object Array]",yne="[object Boolean]",bne="[object Date]",wne="[object Error]",_ne="[object Function]",Tne="[object Map]",Sne="[object Number]",Ene="[object Object]",Ine="[object RegExp]",Cne="[object Set]",One="[object String]",Ane="[object WeakMap]",kne="[object ArrayBuffer]",Pne="[object DataView]",xne="[object Float32Array]",Dne="[object Float64Array]",Rne="[object Int8Array]",Nne="[object Int16Array]",Mne="[object Int32Array]",$ne="[object Uint8Array]",Lne="[object Uint8ClampedArray]",Fne="[object Uint16Array]",Vne="[object Uint32Array]",mn={};mn[xne]=mn[Dne]=mn[Rne]=mn[Nne]=mn[Mne]=mn[$ne]=mn[Lne]=mn[Fne]=mn[Vne]=!0;mn[gne]=mn[vne]=mn[kne]=mn[yne]=mn[Pne]=mn[bne]=mn[wne]=mn[_ne]=mn[Tne]=mn[Sne]=mn[Ene]=mn[Ine]=mn[Cne]=mn[One]=mn[Ane]=!1;function Une(t){return Hv(t)&&iL(t.length)&&!!mn[jv(t)]}function Bne(t){return function(e){return t(e)}}var lL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vd=lL&&typeof module=="object"&&module&&!module.nodeType&&module,jne=Vd&&Vd.exports===lL,cb=jne&&X$.process,Hne=function(){try{var t=Vd&&Vd.require&&Vd.require("util").types;return t||cb&&cb.binding&&cb.binding("util")}catch{}}();const hA=Hne;var fA=hA&&hA.isTypedArray,Wne=fA?Bne(fA):Une;const Kne=Wne;var zne=Object.prototype,Gne=zne.hasOwnProperty;function uL(t,e){var n=dte(t),r=!n&&cne(t),i=!n&&!r&&mne(t),s=!n&&!r&&!i&&Kne(t),o=n||r||i||s,a=o?sne(t.length,String):[],l=a.length;for(var u in t)(e||Gne.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eL(u,l)))&&a.push(u);return a}function Yne(t,e){return function(n){return t(e(n))}}var qne=Yne(Object.keys,Object);const Xne=qne;var Qne=Object.prototype,Jne=Qne.hasOwnProperty;function Zne(t){if(!KT(t))return Xne(t);var e=[];for(var n in Object(t))Jne.call(t,n)&&n!="constructor"&&e.push(n);return e}function ere(t){return Wv(t)?uL(t):Zne(t)}var tre=Object.prototype,nre=tre.hasOwnProperty,rre=rne(function(t,e){if(KT(e)||Wv(e)){ene(e,ere(e),t);return}for(var n in e)nre.call(e,n)&&nL(t,n,e[n])});const ire=rre;function sre(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ore=Object.prototype,are=ore.hasOwnProperty;function lre(t){if(!Cl(t))return sre(t);var e=KT(t),n=[];for(var r in t)r=="constructor"&&(e||!are.call(t,r))||n.push(r);return n}function ure(t){return Wv(t)?uL(t,!0):lre(t)}var cre=function(){return Bv.Date.now()};const db=cre;var dre="Expected a function",hre=Math.max,fre=Math.min;function pre(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(dre);e=oA(e)||0,Cl(n)&&(c=!!n.leading,d="maxWait"in n,s=d?hre(oA(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function f(S){var O=r,R=i;return r=i=void 0,u=S,o=t.apply(R,O),o}function p(S){return u=S,a=setTimeout(y,e),c?f(S):o}function m(S){var O=S-l,R=S-u,D=e-O;return d?fre(D,s-R):D}function g(S){var O=S-l,R=S-u;return l===void 0||O>=e||O<0||d&&R>=s}function y(){var S=db();if(g(S))return b(S);a=setTimeout(y,m(S))}function b(S){return a=void 0,h&&r?f(S):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?o:b(db())}function T(){var S=db(),O=g(S);if(r=arguments,i=this,l=S,O){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(y,e),f(l)}return a===void 0&&(a=setTimeout(y,e)),o}return T.cancel=_,T.flush=w,T}var cL=Object.prototype,mre=cL.hasOwnProperty,gre=rL(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&sL(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=ure(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||WT(c,cL[u])&&!mre.call(t,u))&&(t[u]=s[u])}return t});const vre=gre,yre=({images:t=[],options:e})=>{e=ire(e,{inline:!1});const n=document.createElement("div"),r=cl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>cl("img",typeof a=="string"?{src:a}:a)));dl(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new dc(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),dl(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},bre=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,h=!1,f=!1){await Yn(),!(f&&!r(c))&&(h||!c[`$${t}`]?(o(c),c[`$${t}`]=new dc(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),h=d?d.join(""):void 0;return c.__viewerImageDiffCache===h?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=h,!0)}function i(c,d,h,f){a(c);const p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!p){u("Observer not supported");return}const m=new p(y=>{y.forEach(b=>{u(`Viewer mutation:${b.type}`),h(c,d,f,!0)})}),g={attributes:!0,childList:!0,characterData:!0,subtree:!0};m.observe(c,g),c.__viewerMutationObserver=m,u("Observer created")}function s(c,d,h,f){c.__viewerUnwatch=Ot(()=>d.value,(p,m)=>{u("Change detected by watcher: ",d.value),f(c,p,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,h){u("Viewer bind");const f=pre(n,50);f(c,d.value),s(c,d,h,f),d.modifiers.static||i(c,d.value,f,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},wre=Ce({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=se();function i(){n=new dc(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return Ot(()=>t.images,()=>{Yn(()=>{l()})},u),Ot(()=>t.trigger,()=>{Yn(()=>{l()})},u),Ot(()=>t.options,()=>{Yn(()=>{o()})},u),$t(()=>i()),js(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),_re=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Tre={ref:"root"};function Sre(t,e,n,r,i,s){return E(),L("div",Tre,[fe(t.$slots,"default",{images:t.images,options:t.options})],512)}const dL=_re(wre,[["render",Sre]]),Ere={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&dc.setDefaults(r),t.config.globalProperties[`$${e}Api`]=yre,t.component(e,vre(dL,{name:e})),t.directive(e,bre({name:e,debug:n}))},setDefaults(t){dc.setDefaults(t)}};var Ire={root:{position:"relative"}},Cre={root:function(e){var n=e.props;return["p-skeleton p-component",{"p-skeleton-circle":n.shape==="circle","p-skeleton-none":n.animation==="none"}]}},Ore=sr.extend({name:"skeleton",classes:Cre,inlineStyles:Ire}),Are={name:"BaseSkeleton",extends:Xr,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Ore,provide:function(){return{$parentInstance:this}}},hL={name:"Skeleton",extends:Are,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function kre(t,e,n,r,i,s){return E(),L("div",ae({class:t.cx("root"),style:[t.sx("root"),s.containerStyle],"aria-hidden":"true"},t.ptmi("root")),null,16)}hL.render=kre;const Pre=["src"],ra=Ce({__name:"Image",props:{src:{},imageClass:{}},setup(t){const e=t,r=Vv(Fv).greaterOrEqual("md"),i=se(!1);return $t(()=>{const s=new Image;s.src=e.src,s.onload=()=>{i.value=!0}}),(s,o)=>i.value?(E(),re(I(dL),{key:0,class:"cursor-pointer"},{default:Y(()=>[v("img",{class:xe(s.imageClass),src:s.src,style:tr({maxWidth:s.imageClass?void 0:I(r)?"25vw":"100%"})},null,14,Pre)]),_:1})):(E(),re(I(hL),{key:1,class:"mt-5 background-gray-light",width:"75%",height:"200px"}))}}),pA=Ce({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=Vv(Fv),r=n.greaterOrEqual("sm"),i=n.greaterOrEqual("md"),s=se(0),o=se(0),a=ee(()=>s.value>o.value),l=ee(()=>s.value>o.value*1.5),u=ee(()=>o.value>s.value),c=ee(()=>o.value>s.value*1.5),d=ee(()=>i.value?"60%":r.value?"80%":e.maxHeight?e.maxHeight:a.value&&c.value?"80%":"100%"),h=ee(()=>i.value?"60%":r.value?"80%":e.maxWidth?e.maxWidth:u.value&&l.value?"80%":"100%");return $t(()=>{const f=new Image;f.src=e.coverImageUrl,f.onload=()=>{s.value=f.height,o.value=f.width}}),(f,p)=>{var m,g;return E(),L("div",{class:xe({flex:!0,"justify-start":f.alignment==="left","justify-center":f.alignment===void 0||f.alignment==="center","justify-end":f.alignment==="right"})},[M(Un,{class:xe(["!p-0 md:!p-3 xl:!p-5 my-5 w-fit border border-white md:border-none !rounded-none md:!rounded-primary",(m=f.post)==null?void 0:m.colorTertiary,((g=f.post)==null?void 0:g.opacityTertiary)||"bg-opacity-50"]),style:tr({maxHeight:d.value,maxWidth:h.value})},{default:Y(()=>[M(ra,{src:f.coverImageUrl,"image-class":"cover-image md:rounded-primary"},null,8,["src"])]),_:1},8,["class","style"])],2)}}}),xre={class:"flex flex-wrap justify-end h-fit gap-3"},mA=Ce({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(t){return(e,n)=>(E(),L("div",xre,[M(et,{class:"min-w-80",label:"Edit",onClick:n[0]||(n[0]=r=>e.$emit("editClicked"))}),M(et,{class:"min-w-80",type:"danger",outlined:"",label:"Delete",onClick:n[1]||(n[1]=r=>e.$emit("deleteClicked"))})]))}}),Dre=Ce({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(E(),L("div",{class:xe(["font-bold text-lg md:text-2xl",{"hover:underline cursor-pointer":n.isExpandable},e.class])},[v("div",{class:xe({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[v("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(E(),L("i",{key:0,class:xe(["pi pi-angle-down animation",{"rotate-180":n.isExpanded}])},null,2)):q("",!0),fe(n.$slots,"default"),n.isExpandable&&(n.alignment==="left"||n.alignment==="center")?(E(),L("i",{key:1,class:xe(["pi pi-angle-down animation",{"rotate-180":n.isExpanded}])},null,2)):q("",!0)])],2)],2))}}),Rre={class:"my-3 flex justify-center"},Nre={class:"table w-full md:w-3/4 border border-white border-collapse"},Mre={class:"table-row-group"},$re={key:0,class:"table-row border border-white"},gA=Ce({__name:"BlogPostTable",props:{table:{}},setup(t){const e=t,n=ee(()=>RN(e.table));return(r,i)=>(E(),L("div",Rre,[v("div",Nre,[v("div",Mre,[(E(!0),L(we,null,nt(n.value,(s,o)=>(E(),L(we,{key:o},[s.every(a=>!a)?q("",!0):(E(),L("div",$re,[(E(!0),L(we,null,nt(s,(a,l)=>(E(),L(we,{key:l},[l!==0||!n.value.every(u=>!u.length||!u[0])?(E(),L("div",{key:0,class:xe(["table-cell border border-white text-center",{"font-bold":o===0||l===0}])},Be(a),3)):q("",!0)],64))),128))]))],64))),128))])])]))}}),Lre={class:"flex gap-3"},Fre={class:"flex justify-between h-fit mt-2 gap-2"},Vre={class:"flex flex-wrap gap-3"},Ure={class:"w-full"},Bre={class:"w-full"},fL=Ce({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=Zt(hr()),{firebaseUser:r,isOwner:i}=Zt(wr()),s=se(e.post.archived),o=ee(()=>{var h;return(h=e.post.allowedUserIds)!=null&&h.length?n.value.filter(f=>{var p;return(p=e.post.allowedUserIds)==null?void 0:p.includes(f.id)}):[]}),a=ee(()=>{const h=ow(new Date(e.post.date)),f=e.post.dateUpdated?ow(new Date(e.post.dateUpdated)):"";return h+` - updated ${f}`}),l=ee(()=>{const h=[];return e.post.datePinned&&h.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&h.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&h.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),h}),u=ee(()=>e.post.sections.map(h=>({...h,isExpandable:c(h)}))),c=h=>!!h.description||!!h.coverImageUrl||!!h.bullets.length||!!h.table,d=()=>{const h=document.createElement("textarea"),{protocol:f,hostname:p,port:m}=window.location,g=`${f}//${p}`+(p==="localhost"?`:${m}`:"");h.value=`${g}#${xL.BLOG.path}/${e.post.id}`,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h),qe.success("Copied link!")};return(h,f)=>(E(),re(Un,{id:h.post.id,class:xe([{"min-h-[90vh]":!s.value},"border-4 border-transparent","!rounded-primary",h.post.colorSecondary||h.post.colorPrimary||"bg-secondary-900",h.post.opacitySecondary||"bg-opacity-50"]),title:h.post.title,subTitle:a.value,tags:l.value,loading:h.post.loading,isCollapsed:s.value,clickable:"",onClick:f[4]||(f[4]=p=>s.value=!s.value)},{right:Y(()=>[v("div",Lre,[s.value?I(i)?(E(),re(mA,{key:1,onEditClicked:f[0]||(f[0]=p=>h.$emit("editClicked")),onDeleteClicked:f[1]||(f[1]=p=>h.$emit("deleteClicked"))})):q("",!0):(E(),re(et,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:d}))])]),default:Y(()=>{var p;return[v("div",Fre,[v("div",Vre,[(E(!0),L(we,null,nt(o.value,m=>{var g;return E(),re(I(W$),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:m.id===((g=I(r))==null?void 0:g.uid)?"You":m.displayName,rounded:""},null,8,["label"])}),256))]),I(i)?(E(),L("div",{key:0,class:xe(["flex justify-end ms-5",(p=h.post.allowedUserIds)!=null&&p.length?"flex-col md:flex-row":"flex-row"])},[M(mA,{onEditClicked:f[2]||(f[2]=m=>h.$emit("editClicked")),onDeleteClicked:f[3]||(f[3]=m=>h.$emit("deleteClicked"))})],2)):q("",!0)]),M(Un,{class:xe(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",h.post.colorPrimary,h.post.opacityPrimary||"bg-opacity-50"])},{default:Y(()=>[v("div",{class:xe(["flex relative",h.post.countdown||h.post.alignment==="center"?"flex justify-between":""])},[v("div",Ure,[h.post.countdown?(E(),re(Gl,{key:0,time:new Date(h.post.countdown).getTime(),direction:"down",alignment:h.post.alignment},null,8,["time","alignment"])):q("",!0),h.post.timer?(E(),re(Gl,{key:1,time:new Date(h.post.timer).getTime(),direction:"up",alignment:h.post.alignment},null,8,["time","alignment"])):q("",!0),h.post.description?(E(),re(gp,{key:2,description:h.post.description,alignment:h.post.alignment},null,8,["description","alignment"])):q("",!0)])],2),h.post.coverImageUrl?(E(),re(pA,{key:0,post:h.post,"cover-image-url":h.post.coverImageUrl},null,8,["post","cover-image-url"])):q("",!0),h.post.descriptionFooter?(E(),re(gp,{key:1,class:"mb-5",description:h.post.descriptionFooter,alignment:h.post.alignment},null,8,["description","alignment"])):q("",!0),h.post.table?(E(),re(gA,{key:2,table:h.post.table},null,8,["table"])):q("",!0),M(I(Kn),null,{default:Y(()=>[(E(!0),L(we,null,nt(u.value,m=>(E(),re(I(Ae),{disabled:!m.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",m.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:{invisible:!m.isExpandable}}}},rr({header:Y(()=>[v("div",Bre,[m.title?(E(),re(Dre,{key:0,alignment:m.alignment},{default:Y(()=>[B(Be(m.title),1)]),_:2},1032,["alignment"])):q("",!0),m.subTitle?(E(),re(gp,{key:1,class:"mb-5",description:m.subTitle,alignment:m.alignment},null,8,["description","alignment"])):q("",!0),m.isExpandable?q("",!0):(E(),L(we,{key:2},[m.countdown?(E(),re(Gl,{key:0,time:new Date(m.countdown).getTime(),direction:"down",alignment:m.alignment},null,8,["time","alignment"])):q("",!0),m.timer?(E(),re(Gl,{key:1,time:new Date(m.timer).getTime(),direction:"up",alignment:m.alignment},null,8,["time","alignment"])):q("",!0)],64))])]),default:Y(()=>[m.description?(E(),re(gp,{key:0,description:m.description,alignment:m.alignment},null,8,["description","alignment"])):q("",!0),m.coverImageUrl?(E(),re(pA,{key:1,post:h.post,"cover-image-url":m.coverImageUrl,alignment:m.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):q("",!0),M(cee,{bullets:m.bullets,alignment:m.alignment},null,8,["bullets","alignment"]),m.isExpandable?(E(),L(we,{key:2},[m.countdown?(E(),re(Gl,{key:0,time:new Date(m.countdown).getTime(),direction:"down",alignment:m.alignment},null,8,["time","alignment"])):q("",!0),m.timer?(E(),re(Gl,{key:1,time:new Date(m.timer).getTime(),direction:"up",alignment:m.alignment},null,8,["time","alignment"])):q("",!0)],64)):q("",!0),m.table?(E(),re(gA,{key:3,table:m.table},null,8,["table"])):q("",!0)]),_:2},[m.isExpandable?void 0:{name:"headericon",fn:Y(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1})]),_:1},8,["class"]),M(NZ,{post:h.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}}),jre={key:0,class:"flex justify-center mt-5"},Hre={class:"grid grid-cols-6 mb-5 gap-5"},Wre=Ce({__name:"BlogDetails",setup(t){const e=Fg(),n=N1(),r=hr(),{fetchBlogPost:i,checkBlogPostForUnreadReactions:s}=r,{blogPosts:o,blogReactions:a,databaseActionActive:l}=Zt(r),u=se(),c=se(),d=ee(()=>e.params.postId),h=f=>{f.metadata.hasPendingWrites||l.value||(clearTimeout(c.value),c.value=setTimeout(async()=>{await i(d.value,void 0,{loadingIndicator:!1}),s(o.value.previousData.single,!0)},200))};return $t(async()=>{var f;if(a.value.unread=[],d.value){let p;if(((f=o.value.data.single)==null?void 0:f.id)!==d.value?p=await i(d.value):p=o.value.data.single,p){const m=Ys(p),g=Vt.blogPosts(m.isPrivate),y=Z2(g,tw("id","==",p.id));u.value=dd(y,h)}else n.push({name:cr.BLOG})}}),js(()=>{var f;clearTimeout(c.value),(f=u.value)==null||f.call(u)}),(f,p)=>I(o).fetchLoading?(E(),L("div",jre,[M(et,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:I(o).fetchLoading,label:"Loading..."},null,8,["loading"])])):(E(),L(we,{key:1},[v("div",Hre,[M(et,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",route:I(cr).BLOG,label:"All Posts"},null,8,["route"])]),I(o).data.single?(E(),re(fL,{key:0,post:I(o).data.single},null,8,["post"])):q("",!0)],64))}}),Kre={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},zre={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},Gre={class:"bg-neutral-800 border border-neutral-500 rounded-primary p-5"},Yre={class:"sm:p-8"},qre={class:"text-title-secondary"},Xre={class:"mt-4 text-neutral-300"},Qre={class:"my-2"},Jre={class:"grid grid-cols-4 mt-10 gap-3"},zT=Ce({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return tf(()=>{document.body.style.overflow=""}),Ot(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${VK()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(E(),L("div",Kre,[v("div",{class:"fixed inset-0 bg-neutral-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),v("div",zre,[v("div",Gre,[v("div",Yre,[v("h3",qre,Be(n.title),1),v("div",Xre,[(E(!0),L(we,null,nt(Array.isArray(n.description)?[...n.description]:[n.description],i=>(E(),L("p",Qre,Be(i),1))),256))]),fe(n.$slots,"default")]),v("div",Jre,[M(et,{class:xe(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",label:"Cancel",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},null,8,["class"]),n.confirmText?(E(),re(et,ae({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{label:n.confirmText,onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),null,16,["loading","label"])):q("",!0)])])])])):q("",!0)}});let _p;const Zre=new Uint8Array(16);function eie(){if(!_p&&(_p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _p(Zre)}const Sr=[];for(let t=0;t<256;++t)Sr.push((t+256).toString(16).slice(1));function tie(t,e=0){return Sr[t[e+0]]+Sr[t[e+1]]+Sr[t[e+2]]+Sr[t[e+3]]+"-"+Sr[t[e+4]]+Sr[t[e+5]]+"-"+Sr[t[e+6]]+Sr[t[e+7]]+"-"+Sr[t[e+8]]+Sr[t[e+9]]+"-"+Sr[t[e+10]]+Sr[t[e+11]]+Sr[t[e+12]]+Sr[t[e+13]]+Sr[t[e+14]]+Sr[t[e+15]]}const nie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vA={randomUUID:nie};function sg(t,e,n){if(vA.randomUUID&&!e&&!t)return vA.randomUUID();t=t||{};const r=t.random||(t.rng||eie)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return tie(r)}const rie={class:"m-4"},iie=["for"],og=Ce({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=()=>{},a=n;return e({test:o}),(l,u)=>{const c=wn("VueDatePicker");return E(),L("div",rie,[l.label?(E(),L("label",ae({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),Be(l.label),17,iie)):q("",!0),M(c,{uid:s.value,class:"p-input px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),dark:""},null,8,["uid","modelValue"])])}}}),sie={class:"m-4"},oie=["for"],aie={class:"flex justify-between gap-1"},lie=["id","disabled"],uie={key:2},cie={class:"flex justify-center"},die=["src"],GT=Ce({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,{firebaseUser:i}=Zt(wr()),{fetchFileInfo:s,uploadFile:o,deleteFile:a}=hr(),l=se(),u=se(null),c=se(0),d=ee(()=>sw(r.modelValue||"uploads/"+sg())),h=ee(()=>d.value.name),f=se(),p=se(""),m=w=>{const T=w.target;T.files&&T.files.length>0&&(u.value=T.files[0],p.value=u.value.name,g())},g=async()=>{var w,T;u.value&&((w=i.value)!=null&&w.uid)&&await o(d.value,u.value,S=>c.value=S,p.value,(T=i.value)==null?void 0:T.uid,r.isPublic,r.blogPost)&&(_("update:modelValue",await PK(d.value)),u.value=null,c.value=0)},y=async()=>{await a(d.value)?(window.URL.revokeObjectURL(r.modelValue),l.value.value=null,_("update:modelValue","")):_("update:error","Failed to delete File reference")},b=()=>{};Ot(()=>r.modelValue,async()=>{var w;f.value=r.modelValue?await s(h.value):void 0,p.value=((w=f.value)==null?void 0:w.name)??""},{immediate:!0});const _=n;return e({test:b}),(w,T)=>(E(),L("div",sie,[w.label?(E(),L("label",{key:0,class:"block text-sm font-bold mb-2",for:`${w.id}`},Be(w.label),9,oie)):q("",!0),v("div",aie,[v("input",{id:`${w.id}`,ref_key:"fileUpload",ref:l,type:"file",accept:"image/*",onChange:m,class:"p-input",disabled:!!f.value},null,40,lie),f.value?(E(),re(j$,{key:0,onClick:y})):q("",!0)]),w.error?(E(),re(LT,{key:1,name:w.name,error:w.error},null,8,["name","error"])):q("",!0),c.value>0?(E(),L("div",uie,"Uploading: "+Be(c.value.toFixed(2))+"%",1)):q("",!0),v("div",cie,[v("div",Rn(lr(w.imageContainerProps)),[f.value?(E(),L("img",ae({key:0,class:"p-input-file mt-4 w-full min-w-25 md:max-w-fit",src:w.modelValue},w.imageProps),null,16,die)):q("",!0)],16)])]))}}),hie={class:"m-4"},fie=["for"],pie={class:"table w-full"},mie={class:"table-header-group"},gie={key:0,class:"table-row"},vie={class:"table-cell"},yie={class:"table-cell"},bie={class:"table-row-group"},wie={key:0,class:"table-cell"},_ie={key:1,class:"table-cell"},Tie={key:2,class:"table-cell"},Sie={class:"table-footer-group"},Eie={class:"table-row"},Iie={class:"table-cell"},pL=Ce({__name:"TableField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,r=e,s=Vv(Fv).greaterOrEqual("md"),o=ee({get:()=>RN(n.modelValue),set:p=>{r("update:modelValue",cC(p))}}),a=ee(()=>n.name+(n.id?"."+n.id:"")),l=(p,m,g)=>{const y=[...o.value];y[p][m]=g,r("update:modelValue",cC(y))},u=()=>{const p=o.value;if(p.length){const m=p[0];m.length?o.value=[...p,m.map(()=>"")]:o.value=[...p,[""]]}else o.value=[[""]]},c=()=>{o.value=o.value.slice(0,-1)},d=()=>{o.value=o.value.map(p=>[...p,""])},h=()=>{o.value=o.value.map(p=>p.slice(0,-1))},f=(p,m)=>p===m.length-1;return(p,m)=>(E(),L("div",hie,[p.label?(E(),L("label",ae({key:0,class:"block text-sm font-bold mb-2",for:a.value},p.labelProps),Be(p.label),17,fie)):q("",!0),v("div",pie,[v("div",mie,[o.value.length&&o.value[0].length>1?(E(),L("div",gie,[(E(!0),L(we,null,nt(o.value[0].slice(0,-1),g=>(E(),L("div",vie))),256)),v("div",yie,[o.value.length&&o.value[0].length?(E(),re(I(za),{key:0,class:"md:text-start text-nowrap",icon:"pi pi-times",label:I(s)?"Remove column":void 0,onClick:h},null,8,["label"])):q("",!0)])])):q("",!0)]),v("div",bie,[(E(!0),L(we,null,nt(o.value,(g,y)=>(E(),L("div",{key:y,class:"table-row"},[(E(!0),L(we,null,nt(g,(b,_)=>(E(),re(ur,{class:"table-cell !m-0",key:_,name:`${p.name}.${y}.${_}`,modelValue:b,placeholder:y===0||_===0?"header":"cell","onUpdate:modelValue":w=>l(y,_,w.toString())},null,8,["name","modelValue","placeholder","onUpdate:modelValue"]))),128)),y===0?(E(),L("div",wie,[M(I(za),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:I(s)?"Add column":void 0,onClick:d},null,8,["label"])])):f(y,o.value)&&o.value.length>1?(E(),L("div",_ie,[M(I(za),{class:"md:text-start text-nowrap",icon:"pi pi-times",label:I(s)?"Remove row":void 0,onClick:c},null,8,["label"])])):(E(),L("div",Tie))]))),128))]),v("div",Sie,[v("div",Eie,[v("div",Iie,[M(I(za),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:I(s)?"Add row":void 0,onClick:u},null,8,["label"])])])])])]))}}),Cie={class:"m-4"},Oie=["for"],Fr=Ce({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},placeholder:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ee(()=>(r.rules??[]).some(f=>f.type===FT.Required)),o=ee({get:()=>{if(r.multiple){const f=Array.isArray(r.modelValue)?r.modelValue:[];return f.length?f:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const f=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return f||(r.options.length?r.options[0].value:"")}},set:f=>{i("update:modelValue",Da(f)[0]),i("update:arrayValue",Da(f))}}),a=ee(()=>r.label+(s.value?" *":"")),l=ee(()=>r.name+(r.id?"."+r.id:"")),u=ee(()=>r.options.find(({value:f})=>f===o.value)),c=ee(()=>{var f,p,m;return[((f=u.value)==null?void 0:f.background)??"bg-transparent",(p=u.value)!=null&&p.background?"bg-opacity-90":"bg-opacity-40",((m=u.value)==null?void 0:m.text)??"text-black"]}),d=ee(()=>Da(o.value).map(f=>{var p;return(p=r.options.find(m=>m.value===f))==null?void 0:p.label}).join(", "));return $t(()=>{s.value&&(i("update:modelValue",Da(o.value)[0]),i("update:arrayValue",Da(o.value)))}),e({test:async()=>{const f=r.rules||[];let p="";for(const m of Da(o.value)){const g={value:m.toString()},y=f.filter(b=>!b.test(g)).map(b=>b.error(g))||[];if(y[0]){p=y[0];break}}i("update:error",p)}}),(f,p)=>(E(),L("div",Cie,[v("label",{class:"block text-sm font-bold mb-2",for:l.value},Be(a.value),9,Oie),v("div",null,[(E(),re(yn(f.multiple?"PrimeMultiSelect":"PrimeDropdown"),{inputId:l.value,modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=m=>o.value=m),placeholder:f.placeholder??"No option selected",class:"w-full p-input p-0",multiple:f.multiple,options:f.options,optionValue:"value",pt:{trigger:{class:c.value}}},{value:Y(({placeholder:m})=>{var g;return[v("span",{class:xe(["block w-full p-2",...c.value])},Be((f.multiple?d.value:(g=u.value)==null?void 0:g.label)||m),3)]}),option:Y(({option:m})=>[v("span",{class:xe(["w-full p-2",m.background,m.background?"bg-opacity-90":"bg-opacity-40",m.text])},Be(m.label),3)]),_:1},8,["inputId","modelValue","placeholder","multiple","options","pt"]))]),f.error?(E(),re(LT,{key:0,name:f.name,error:f.error},null,8,["name","error"])):q("",!0)]))}});var Aie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gL={exports:{}};const Pie=mL(U6);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xp=function(e){return typeof e}:Xp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function xie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(){return Gi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gi.apply(this,arguments)}function Die(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rie(t,e){if(t==null)return{};var n=Die(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nie(t){return Mie(t)||$ie(t)||Lie(t)||Fie()}function Mie(t){if(Array.isArray(t))return $w(t)}function $ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lie(t,e){if(t){if(typeof t=="string")return $w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $w(t,e)}}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vie="1.14.0";function uo(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var So=uo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Rf=uo(/Edge/i),bA=uo(/firefox/i),Ud=uo(/safari/i)&&!uo(/chrome/i)&&!uo(/android/i),vL=uo(/iP(ad|od|hone)/i),Uie=uo(/chrome/i)&&uo(/android/i),yL={capture:!1,passive:!1};function Et(t,e,n){t.addEventListener(e,n,!So&&yL)}function St(t,e,n){t.removeEventListener(e,n,!So&&yL)}function ag(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Bie(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function rs(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&ag(t,e):ag(t,e))||r&&t===n)return t;if(t===n)break}while(t=Bie(t))}return null}var wA=/\s+/g;function Pn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(wA," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(wA," ")}}function Je(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function rl(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Je(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function bL(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function $s(){var t=document.scrollingElement;return t||document.documentElement}function On(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==$s()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!So))do if(i&&i.getBoundingClientRect&&(Je(i,"transform")!=="none"||n&&Je(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(Je(i,"border-top-width")),a-=h.left+parseInt(Je(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var f=rl(i||t),p=f&&f.a,m=f&&f.d;f&&(o/=m,a/=p,d/=p,c/=m,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function _A(t,e,n){for(var r=qo(t,!0),i=On(t)[e];r;){var s=On(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===$s())break;r=qo(r,!1)}return!1}function hc(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==lt.ghost&&(r||o[s]!==lt.dragged)&&rs(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function YT(t,e){for(var n=t.lastElementChild;n&&(n===lt.ghost||Je(n,"display")==="none"||e&&!ag(n,e));)n=n.previousElementSibling;return n||null}function Vn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==lt.clone&&(!e||ag(t,e))&&n++;return n}function TA(t){var e=0,n=0,r=$s();if(t)do{var i=rl(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function jie(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function qo(t,e){if(!t||!t.getBoundingClientRect)return $s();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Je(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return $s();if(r||e)return n;r=!0}}while(n=n.parentNode);return $s()}function Hie(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function hb(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Bd;function wL(t,e){return function(){if(!Bd){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Bd=setTimeout(function(){Bd=void 0},e)}}}function Wie(){clearTimeout(Bd),Bd=void 0}function _L(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function qT(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function SA(t,e){Je(t,"position","absolute"),Je(t,"top",e.top),Je(t,"left",e.left),Je(t,"width",e.width),Je(t,"height",e.height)}function fb(t){Je(t,"position",""),Je(t,"top",""),Je(t,"left",""),Je(t,"width",""),Je(t,"height","")}var jr="Sortable"+new Date().getTime();function Kie(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Je(i,"display")==="none"||i===lt.ghost)){t.push({target:i,rect:On(i)});var s=Bs({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=rl(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(jie(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=On(u),h=u.prevFromRect,f=u.prevToRect,p=a.rect,m=rl(u,!0);m&&(d.top-=m.f,d.left-=m.e),u.toRect=d,u.thisAnimationDuration&&hb(h,d)&&!hb(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=Gie(p,h,f,i.options)),hb(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){Je(r,"transition",""),Je(r,"transform","");var a=rl(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,Je(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=zie(r),Je(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Je(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Je(r,"transition",""),Je(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function zie(t){return t.offsetWidth}function Gie(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var Xl=[],pb={initializeByDefault:!0},Nf={mount:function(e){for(var n in pb)pb.hasOwnProperty(n)&&!(n in e)&&(e[n]=pb[n]);Xl.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Xl.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Xl.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Bs({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Bs({sortable:n},r)))})},initializePlugins:function(e,n,r,i){Xl.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Gi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return Xl.forEach(function(i){typeof i.eventProperties=="function"&&Gi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return Xl.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function pd(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[jr],!!e){var m,g=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!So&&!Rf?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=f?f.lastPutMode:void 0;var b=Bs(Bs({},p),Nf.getEventProperties(r,e));for(var _ in b)m[_]=b[_];n&&n.dispatchEvent(m),g[y]&&g[y].call(e,m)}}var Yie=["evt"],ai=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=Rie(r,Yie);Nf.pluginEvent.bind(lt)(e,n,Bs({dragEl:Ne,parentEl:$n,ghostEl:vt,rootEl:Cn,nextEl:Na,lastDownEl:Qp,cloneEl:Ln,cloneHidden:Yo,dragStarted:md,putSortable:Er,activeSortable:lt.active,originalEvent:i,oldIndex:yu,oldDraggableIndex:jd,newIndex:Si,newDraggableIndex:jo,hideGhostForTarget:IL,unhideGhostForTarget:CL,cloneNowHidden:function(){Yo=!0},cloneNowShown:function(){Yo=!1},dispatchSortableEvent:function(a){ei({sortable:n,name:a,originalEvent:i})}},s))};function ei(t){pd(Bs({putSortable:Er,cloneEl:Ln,targetEl:Ne,rootEl:Cn,oldIndex:yu,oldDraggableIndex:jd,newIndex:Si,newDraggableIndex:jo},t))}var Ne,$n,vt,Cn,Na,Qp,Ln,Yo,yu,Si,jd,jo,Tp,Er,lu=!1,lg=!1,ug=[],Aa,Ji,mb,gb,EA,IA,md,Ql,Hd,Wd=!1,Sp=!1,Jp,Mr,vb=[],Lw=!1,cg=[],Kv=typeof document<"u",Ep=vL,CA=Rf||So?"cssFloat":"float",qie=Kv&&!Uie&&!vL&&"draggable"in document.createElement("div"),TL=function(){if(Kv){if(So)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),SL=function(e,n){var r=Je(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=hc(e,0,n),o=hc(e,1,n),a=s&&Je(s),l=o&&Je(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+On(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+On(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[CA]==="none"||o&&r[CA]==="none"&&u+c>i)?"vertical":"horizontal"},Xie=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},Qie=function(e,n){var r;return ug.some(function(i){var s=i[jr].options.emptyInsertThreshold;if(!(!s||YT(i))){var o=On(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},EL=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||Xp(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},IL=function(){!TL&&vt&&Je(vt,"display","none")},CL=function(){!TL&&vt&&Je(vt,"display","")};Kv&&document.addEventListener("click",function(t){if(lg)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),lg=!1,!1},!0);var ka=function(e){if(Ne){e=e.touches?e.touches[0]:e;var n=Qie(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[jr]._onDragOver(r)}}},Jie=function(e){Ne&&Ne.parentNode[jr]._isOutsideThisEl(e.target)};function lt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Gi({},e),t[jr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return SL(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:lt.supportPointer!==!1&&"PointerEvent"in window&&!Ud,emptyInsertThreshold:5};Nf.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);EL(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:qie,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Et(t,"pointerdown",this._onTapStart):(Et(t,"mousedown",this._onTapStart),Et(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Et(t,"dragover",this),Et(t,"dragenter",this)),ug.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Gi(this,Kie())}lt.prototype={constructor:lt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ql=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Ne):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(ose(r),!Ne&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Ud&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=rs(l,i.draggable,r,!1),!(l&&l.animated)&&Qp!==l)){if(yu=Vn(l),jd=Vn(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){ei({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),ai("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=rs(u,d.trim(),r,!1),d)return ei({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),ai("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!rs(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!Ne&&r.parentNode===s){var u=On(r);if(Cn=s,Ne=r,$n=Ne.parentNode,Na=Ne.nextSibling,Qp=r,Tp=o.group,lt.dragged=Ne,Aa={target:Ne,clientX:(n||e).clientX,clientY:(n||e).clientY},EA=Aa.clientX-u.left,IA=Aa.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Ne.style["will-change"]="all",l=function(){if(ai("delayEnded",i,{evt:e}),lt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!bA&&i.nativeDraggable&&(Ne.draggable=!0),i._triggerDragStart(e,n),ei({sortable:i,name:"choose",originalEvent:e}),Pn(Ne,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){bL(Ne,c.trim(),yb)}),Et(a,"dragover",ka),Et(a,"mousemove",ka),Et(a,"touchmove",ka),Et(a,"mouseup",i._onDrop),Et(a,"touchend",i._onDrop),Et(a,"touchcancel",i._onDrop),bA&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ne.draggable=!0),ai("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Rf||So))){if(lt.eventCanceled){this._onDrop();return}Et(a,"mouseup",i._disableDelayedDrag),Et(a,"touchend",i._disableDelayedDrag),Et(a,"touchcancel",i._disableDelayedDrag),Et(a,"mousemove",i._delayedDragTouchMoveHandler),Et(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Et(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ne&&yb(Ne),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;St(e,"mouseup",this._disableDelayedDrag),St(e,"touchend",this._disableDelayedDrag),St(e,"touchcancel",this._disableDelayedDrag),St(e,"mousemove",this._delayedDragTouchMoveHandler),St(e,"touchmove",this._delayedDragTouchMoveHandler),St(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Et(document,"pointermove",this._onTouchMove):n?Et(document,"touchmove",this._onTouchMove):Et(document,"mousemove",this._onTouchMove):(Et(Ne,"dragend",this),Et(Cn,"dragstart",this._onDragStart));try{document.selection?Zp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(lu=!1,Cn&&Ne){ai("dragStarted",this,{evt:n}),this.nativeDraggable&&Et(document,"dragover",Jie);var r=this.options;!e&&Pn(Ne,r.dragClass,!1),Pn(Ne,r.ghostClass,!0),lt.active=this,e&&this._appendGhost(),ei({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ji){this._lastX=Ji.clientX,this._lastY=Ji.clientY,IL();for(var e=document.elementFromPoint(Ji.clientX,Ji.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ji.clientX,Ji.clientY),e!==n);)n=e;if(Ne.parentNode[jr]._isOutsideThisEl(e),n)do{if(n[jr]){var r=void 0;if(r=n[jr]._onDragOver({clientX:Ji.clientX,clientY:Ji.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);CL()}},_onTouchMove:function(e){if(Aa){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=vt&&rl(vt,!0),a=vt&&o&&o.a,l=vt&&o&&o.d,u=Ep&&Mr&&TA(Mr),c=(s.clientX-Aa.clientX+i.x)/(a||1)+(u?u[0]-vb[0]:0)/(a||1),d=(s.clientY-Aa.clientY+i.y)/(l||1)+(u?u[1]-vb[1]:0)/(l||1);if(!lt.active&&!lu){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(vt){o?(o.e+=c-(mb||0),o.f+=d-(gb||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Je(vt,"webkitTransform",h),Je(vt,"mozTransform",h),Je(vt,"msTransform",h),Je(vt,"transform",h),mb=c,gb=d,Ji=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!vt){var e=this.options.fallbackOnBody?document.body:Cn,n=On(Ne,!0,Ep,!0,e),r=this.options;if(Ep){for(Mr=e;Je(Mr,"position")==="static"&&Je(Mr,"transform")==="none"&&Mr!==document;)Mr=Mr.parentNode;Mr!==document.body&&Mr!==document.documentElement?(Mr===document&&(Mr=$s()),n.top+=Mr.scrollTop,n.left+=Mr.scrollLeft):Mr=$s(),vb=TA(Mr)}vt=Ne.cloneNode(!0),Pn(vt,r.ghostClass,!1),Pn(vt,r.fallbackClass,!0),Pn(vt,r.dragClass,!0),Je(vt,"transition",""),Je(vt,"transform",""),Je(vt,"box-sizing","border-box"),Je(vt,"margin",0),Je(vt,"top",n.top),Je(vt,"left",n.left),Je(vt,"width",n.width),Je(vt,"height",n.height),Je(vt,"opacity","0.8"),Je(vt,"position",Ep?"absolute":"fixed"),Je(vt,"zIndex","100000"),Je(vt,"pointerEvents","none"),lt.ghost=vt,e.appendChild(vt),Je(vt,"transform-origin",EA/parseInt(vt.style.width)*100+"% "+IA/parseInt(vt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(ai("dragStart",this,{evt:e}),lt.eventCanceled){this._onDrop();return}ai("setupClone",this),lt.eventCanceled||(Ln=qT(Ne),Ln.draggable=!1,Ln.style["will-change"]="",this._hideClone(),Pn(Ln,this.options.chosenClass,!1),lt.clone=Ln),r.cloneId=Zp(function(){ai("clone",r),!lt.eventCanceled&&(r.options.removeCloneOnHide||Cn.insertBefore(Ln,Ne),r._hideClone(),ei({sortable:r,name:"clone"}))}),!n&&Pn(Ne,s.dragClass,!0),n?(lg=!0,r._loopId=setInterval(r._emulateDragOver,50)):(St(document,"mouseup",r._onDrop),St(document,"touchend",r._onDrop),St(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,Ne)),Et(document,"drop",r),Je(Ne,"transform","translateZ(0)")),lu=!0,r._dragStartId=Zp(r._dragStarted.bind(r,n,e)),Et(document,"selectstart",r),md=!0,Ud&&Je(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=lt.active,c=Tp===l,d=a.sort,h=Er||u,f,p=this,m=!1;if(Lw)return;function g(X,U){ai(X,p,Bs({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:r,completed:b,onMove:function(ne,ie){return Ip(Cn,n,Ne,i,ne,On(ne),e,ie)},changed:_},U))}function y(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function b(X){return g("dragOverCompleted",{insertion:X}),X&&(c?u._hideClone():u._showClone(p),p!==h&&(Pn(Ne,Er?Er.options.ghostClass:u.options.ghostClass,!1),Pn(Ne,a.ghostClass,!0)),Er!==p&&p!==lt.active?Er=p:p===lt.active&&Er&&(Er=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Ne&&!Ne.animated||r===n&&!r.animated)&&(Ql=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Ne.parentNode[jr]._isOutsideThisEl(e.target),!X&&ka(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function _(){Si=Vn(Ne),jo=Vn(Ne,a.draggable),ei({sortable:p,name:"change",toEl:n,newIndex:Si,newDraggableIndex:jo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=rs(r,a.draggable,n,!0),g("dragOver"),lt.eventCanceled)return m;if(Ne.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return b(!1);if(lg=!1,u&&!a.disabled&&(c?d||(o=$n!==Cn):Er===this||(this.lastPutMode=Tp.checkPull(this,u,Ne,e))&&l.checkPut(this,u,Ne,e))){if(f=this._getDirection(e,r)==="vertical",i=On(Ne),g("dragOverValid"),lt.eventCanceled)return m;if(o)return $n=Cn,y(),this._hideClone(),g("revert"),lt.eventCanceled||(Na?Cn.insertBefore(Ne,Na):Cn.appendChild(Ne)),b(!0);var w=YT(n,a.draggable);if(!w||nse(e,f,this)&&!w.animated){if(w===Ne)return b(!1);if(w&&n===e.target&&(r=w),r&&(s=On(r)),Ip(Cn,n,Ne,i,r,s,e,!!r)!==!1)return y(),n.appendChild(Ne),$n=n,_(),b(!0)}else if(w&&tse(e,f,this)){var T=hc(n,0,a,!0);if(T===Ne)return b(!1);if(r=T,s=On(r),Ip(Cn,n,Ne,i,r,s,e,!1)!==!1)return y(),n.insertBefore(Ne,T),$n=n,_(),b(!0)}else if(r.parentNode===n){s=On(r);var S=0,O,R=Ne.parentNode!==n,D=!Xie(Ne.animated&&Ne.toRect||i,r.animated&&r.toRect||s,f),C=f?"top":"left",N=_A(r,"top","top")||_A(Ne,"top","top"),F=N?N.scrollTop:void 0;Ql!==r&&(O=s[C],Wd=!1,Sp=!D&&a.invertSwap||R),S=rse(e,r,s,f,D?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Sp,Ql===r);var H;if(S!==0){var $=Vn(Ne);do $-=S,H=$n.children[$];while(H&&(Je(H,"display")==="none"||H===vt))}if(S===0||H===r)return b(!1);Ql=r,Hd=S;var A=r.nextElementSibling,P=!1;P=S===1;var W=Ip(Cn,n,Ne,i,r,s,e,P);if(W!==!1)return(W===1||W===-1)&&(P=W===1),Lw=!0,setTimeout(ese,30),y(),P&&!A?n.appendChild(Ne):r.parentNode.insertBefore(Ne,P?A:r),N&&_L(N,0,F-N.scrollTop),$n=Ne.parentNode,O!==void 0&&!Sp&&(Jp=Math.abs(O-On(r)[C])),_(),b(!0)}if(n.contains(Ne))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){St(document,"mousemove",this._onTouchMove),St(document,"touchmove",this._onTouchMove),St(document,"pointermove",this._onTouchMove),St(document,"dragover",ka),St(document,"mousemove",ka),St(document,"touchmove",ka)},_offUpEvents:function(){var e=this.el.ownerDocument;St(e,"mouseup",this._onDrop),St(e,"touchend",this._onDrop),St(e,"pointerup",this._onDrop),St(e,"touchcancel",this._onDrop),St(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Si=Vn(Ne),jo=Vn(Ne,r.draggable),ai("drop",this,{evt:e}),$n=Ne&&Ne.parentNode,Si=Vn(Ne),jo=Vn(Ne,r.draggable),lt.eventCanceled){this._nulling();return}lu=!1,Sp=!1,Wd=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Fw(this.cloneId),Fw(this._dragStartId),this.nativeDraggable&&(St(document,"drop",this),St(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ud&&Je(document.body,"user-select",""),Je(Ne,"transform",""),e&&(md&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),vt&&vt.parentNode&&vt.parentNode.removeChild(vt),(Cn===$n||Er&&Er.lastPutMode!=="clone")&&Ln&&Ln.parentNode&&Ln.parentNode.removeChild(Ln),Ne&&(this.nativeDraggable&&St(Ne,"dragend",this),yb(Ne),Ne.style["will-change"]="",md&&!lu&&Pn(Ne,Er?Er.options.ghostClass:this.options.ghostClass,!1),Pn(Ne,this.options.chosenClass,!1),ei({sortable:this,name:"unchoose",toEl:$n,newIndex:null,newDraggableIndex:null,originalEvent:e}),Cn!==$n?(Si>=0&&(ei({rootEl:$n,name:"add",toEl:$n,fromEl:Cn,originalEvent:e}),ei({sortable:this,name:"remove",toEl:$n,originalEvent:e}),ei({rootEl:$n,name:"sort",toEl:$n,fromEl:Cn,originalEvent:e}),ei({sortable:this,name:"sort",toEl:$n,originalEvent:e})),Er&&Er.save()):Si!==yu&&Si>=0&&(ei({sortable:this,name:"update",toEl:$n,originalEvent:e}),ei({sortable:this,name:"sort",toEl:$n,originalEvent:e})),lt.active&&((Si==null||Si===-1)&&(Si=yu,jo=jd),ei({sortable:this,name:"end",toEl:$n,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ai("nulling",this),Cn=Ne=$n=vt=Na=Ln=Qp=Yo=Aa=Ji=md=Si=jo=yu=jd=Ql=Hd=Er=Tp=lt.dragged=lt.ghost=lt.clone=lt.active=null,cg.forEach(function(e){e.checked=!0}),cg.length=mb=gb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ne&&(this._onDragOver(e),Zie(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],rs(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||sse(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];rs(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return rs(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Nf.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&EL(r)},destroy:function(){ai("destroy",this);var e=this.el;e[jr]=null,St(e,"mousedown",this._onTapStart),St(e,"touchstart",this._onTapStart),St(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(St(e,"dragover",this),St(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ug.splice(ug.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Yo){if(ai("hideClone",this),lt.eventCanceled)return;Je(Ln,"display","none"),this.options.removeCloneOnHide&&Ln.parentNode&&Ln.parentNode.removeChild(Ln),Yo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Yo){if(ai("showClone",this),lt.eventCanceled)return;Ne.parentNode==Cn&&!this.options.group.revertClone?Cn.insertBefore(Ln,Ne):Na?Cn.insertBefore(Ln,Na):Cn.appendChild(Ln),this.options.group.revertClone&&this.animate(Ne,Ln),Je(Ln,"display",""),Yo=!1}}};function Zie(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ip(t,e,n,r,i,s,o,a){var l,u=t[jr],c=u.options.onMove,d;return window.CustomEvent&&!So&&!Rf?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||On(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function yb(t){t.draggable=!1}function ese(){Lw=!1}function tse(t,e,n){var r=On(hc(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function nse(t,e,n){var r=On(YT(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function rse(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o){if(a&&Jp<u*i){if(!Wd&&(Hd===1?l>c+u*s/2:l<d-u*s/2)&&(Wd=!0),Wd)h=!0;else if(Hd===1?l<c+Jp:l>d-Jp)return-Hd}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return ise(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function ise(t){return Vn(Ne)<Vn(t)?1:-1}function sse(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function ose(t){cg.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&cg.push(r)}}function Zp(t){return setTimeout(t,0)}function Fw(t){return clearTimeout(t)}Kv&&Et(document,"touchmove",function(t){(lt.active||lu)&&t.cancelable&&t.preventDefault()});lt.utils={on:Et,off:St,css:Je,find:bL,is:function(e,n){return!!rs(e,n,e,!1)},extend:Hie,throttle:wL,closest:rs,toggleClass:Pn,clone:qT,index:Vn,nextTick:Zp,cancelNextTick:Fw,detectDirection:SL,getChild:hc};lt.get=function(t){return t[jr]};lt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(lt.utils=Bs(Bs({},lt.utils),r.utils)),Nf.mount(r)})};lt.create=function(t,e){return new lt(t,e)};lt.version=Vie;var Qn=[],gd,Vw,Uw=!1,bb,wb,dg,vd;function ase(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Et(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Et(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Et(document,"touchmove",this._handleFallbackAutoScroll):Et(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?St(document,"dragover",this._handleAutoScroll):(St(document,"pointermove",this._handleFallbackAutoScroll),St(document,"touchmove",this._handleFallbackAutoScroll),St(document,"mousemove",this._handleFallbackAutoScroll)),OA(),em(),Wie()},nulling:function(){dg=Vw=gd=Uw=vd=bb=wb=null,Qn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(dg=n,r||this.options.forceAutoScrollFallback||Rf||So||Ud){_b(n,this.options,a,r);var l=qo(a,!0);Uw&&(!vd||s!==bb||o!==wb)&&(vd&&OA(),vd=setInterval(function(){var u=qo(document.elementFromPoint(s,o),!0);u!==l&&(l=u,em()),_b(n,i.options,u,r)},10),bb=s,wb=o)}else{if(!this.options.bubbleScroll||qo(a,!0)===$s()){em();return}_b(n,this.options,qo(a,!1),!1)}}},Gi(t,{pluginName:"scroll",initializeByDefault:!0})}function em(){Qn.forEach(function(t){clearInterval(t.pid)}),Qn=[]}function OA(){clearInterval(vd)}var _b=wL(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=$s(),u=!1,c;Vw!==n&&(Vw=n,em(),gd=e.scroll,c=e.scrollFn,gd===!0&&(gd=qo(n,!0)));var d=0,h=gd;do{var f=h,p=On(f),m=p.top,g=p.bottom,y=p.left,b=p.right,_=p.width,w=p.height,T=void 0,S=void 0,O=f.scrollWidth,R=f.scrollHeight,D=Je(f),C=f.scrollLeft,N=f.scrollTop;f===l?(T=_<O&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),S=w<R&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(T=_<O&&(D.overflowX==="auto"||D.overflowX==="scroll"),S=w<R&&(D.overflowY==="auto"||D.overflowY==="scroll"));var F=T&&(Math.abs(b-i)<=o&&C+_<O)-(Math.abs(y-i)<=o&&!!C),H=S&&(Math.abs(g-s)<=o&&N+w<R)-(Math.abs(m-s)<=o&&!!N);if(!Qn[d])for(var $=0;$<=d;$++)Qn[$]||(Qn[$]={});(Qn[d].vx!=F||Qn[d].vy!=H||Qn[d].el!==f)&&(Qn[d].el=f,Qn[d].vx=F,Qn[d].vy=H,clearInterval(Qn[d].pid),(F!=0||H!=0)&&(u=!0,Qn[d].pid=setInterval((function(){r&&this.layer===0&&lt.active._onTouchMove(dg);var A=Qn[this.layer].vy?Qn[this.layer].vy*a:0,P=Qn[this.layer].vx?Qn[this.layer].vx*a:0;typeof c=="function"&&c.call(lt.dragged.parentNode[jr],P,A,t,dg,Qn[this.layer].el)!=="continue"||_L(Qn[this.layer].el,P,A)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=qo(h,!1)));Uw=u}},30),OL=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function XT(){}XT.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=hc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:OL};Gi(XT,{pluginName:"revertOnSpill"});function QT(){}QT.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:OL};Gi(QT,{pluginName:"removeOnSpill"});var Vi;function lse(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Vi=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=Vi;s(i)!==!1?(Pn(i,c.swapClass,!0),Vi=i):Vi=null,d&&d!==Vi&&Pn(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;Vi&&Pn(Vi,a.swapClass,!1),Vi&&(a.swap||i&&i.options.swap)&&s!==Vi&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),use(s,Vi),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){Vi=null}},Gi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Vi}}})}function use(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Vn(t),s=Vn(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var mt=[],Ti=[],zc,Zi,Gc=!1,li=!1,Jl=!1,un,Yc,Cp;function cse(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Et(document,"pointerup",this._deselectMultiDrag):(Et(document,"mouseup",this._deselectMultiDrag),Et(document,"touchend",this._deselectMultiDrag)),Et(document,"keydown",this._checkKeyDown),Et(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";mt.length&&Zi===e?mt.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;un=r},delayEnded:function(){this.isMultiDrag=~mt.indexOf(un)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<mt.length;s++)Ti.push(qT(mt[s])),Ti[s].sortableIndex=mt[s].sortableIndex,Ti[s].draggable=!1,Ti[s].style["will-change"]="",Pn(Ti[s],this.options.selectedClass,!1),mt[s]===un&&Pn(Ti[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||mt.length&&Zi===r&&(AA(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(AA(!1,i),Ti.forEach(function(o){Je(o,"display","")}),r(),Cp=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(Ti.forEach(function(o){Je(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Cp=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Zi&&Zi.multiDrag._deselectMultiDrag(),mt.forEach(function(r){r.sortableIndex=Vn(r)}),mt=mt.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Jl=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){mt.forEach(function(o){o!==un&&Je(o,"position","absolute")});var s=On(un,!1,!0,!0);mt.forEach(function(o){o!==un&&SA(o,s)}),li=!0,Gc=!0}i.animateAll(function(){li=!1,Gc=!1,r.options.animation&&mt.forEach(function(o){fb(o)}),r.options.sort&&Op()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;li&&~mt.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;mt.length>1&&(mt.forEach(function(a){s.addAnimationState({target:a,rect:li?On(a):o}),fb(a),a.fromRect=o,r.removeAnimationState(a)}),li=!1,dse(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),Gc=!1,u.animation&&mt.length>1&&(li||!i&&!o.options.sort&&!l)){var c=On(un,!1,!0,!0);mt.forEach(function(h){h!==un&&(SA(h,c),a.appendChild(h))}),li=!0}if(!i)if(li||Op(),mt.length>1){var d=Cp;o._showClone(r),o.options.animation&&!Cp&&d&&Ti.forEach(function(h){o.addAnimationState({target:h,rect:Yc}),h.fromRect=Yc,h.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(mt.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){Yc=Gi({},r);var o=rl(un,!0);Yc.top-=o.f,Yc.left-=o.e}},dragOverAnimationComplete:function(){li&&(li=!1,Op())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=s.children;if(!Jl)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Pn(un,d.selectedClass,!~mt.indexOf(un)),~mt.indexOf(un))mt.splice(mt.indexOf(un),1),zc=null,pd({sortable:o,rootEl:i,name:"deselect",targetEl:un,originalEvt:r});else{if(mt.push(un),pd({sortable:o,rootEl:i,name:"select",targetEl:un,originalEvt:r}),r.shiftKey&&zc&&o.el.contains(zc)){var f=Vn(zc),p=Vn(un);if(~f&&~p&&f!==p){var m,g;for(p>f?(g=f,m=p):(g=p,m=f+1);g<m;g++)~mt.indexOf(h[g])||(Pn(h[g],d.selectedClass,!0),mt.push(h[g]),pd({sortable:o,rootEl:i,name:"select",targetEl:h[g],originalEvt:r}))}}else zc=un;Zi=c}if(Jl&&this.isMultiDrag){if(li=!1,(s[jr].options.sort||s!==i)&&mt.length>1){var y=On(un),b=Vn(un,":not(."+this.options.selectedClass+")");if(!Gc&&d.animation&&(un.thisAnimationDuration=null),c.captureAnimationState(),!Gc&&(d.animation&&(un.fromRect=y,mt.forEach(function(w){if(w.thisAnimationDuration=null,w!==un){var T=li?On(w):y;w.fromRect=T,c.addAnimationState({target:w,rect:T})}})),Op(),mt.forEach(function(w){h[b]?s.insertBefore(w,h[b]):s.appendChild(w),b++}),l===Vn(un))){var _=!1;mt.forEach(function(w){if(w.sortableIndex!==Vn(w)){_=!0;return}}),_&&a("update")}mt.forEach(function(w){fb(w)}),c.animateAll()}Zi=c}(i===s||u&&u.lastPutMode!=="clone")&&Ti.forEach(function(w){w.parentNode&&w.parentNode.removeChild(w)})}},nullingGlobal:function(){this.isMultiDrag=Jl=!1,Ti.length=0},destroyGlobal:function(){this._deselectMultiDrag(),St(document,"pointerup",this._deselectMultiDrag),St(document,"mouseup",this._deselectMultiDrag),St(document,"touchend",this._deselectMultiDrag),St(document,"keydown",this._checkKeyDown),St(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Jl<"u"&&Jl)&&Zi===this.sortable&&!(n&&rs(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;mt.length;){var r=mt[0];Pn(r,this.options.selectedClass,!1),mt.shift(),pd({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Gi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[jr];!r||!r.options.multiDrag||~mt.indexOf(n)||(Zi&&Zi!==r&&(Zi.multiDrag._deselectMultiDrag(),Zi=r),Pn(n,r.options.selectedClass,!0),mt.push(n))},deselect:function(n){var r=n.parentNode[jr],i=mt.indexOf(n);!r||!r.options.multiDrag||!~i||(Pn(n,r.options.selectedClass,!1),mt.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return mt.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;li&&s!==un?o=-1:li?o=Vn(s,":not(."+n.options.selectedClass+")"):o=Vn(s),i.push({multiDragElement:s,index:o})}),{items:Nie(mt),clones:[].concat(Ti),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function dse(t,e){mt.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function AA(t,e){Ti.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Op(){mt.forEach(function(t){t!==un&&t.parentNode&&t.parentNode.removeChild(t)})}lt.mount(new ase);lt.mount(QT,XT);const hse=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:cse,Sortable:lt,Swap:lse,default:lt},Symbol.toStringTag,{value:"Module"})),fse=mL(hse);(function(t,e){(function(r,i){t.exports=i(Pie,fse)})(typeof self<"u"?self:Aie,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,f){return l.call(u,d,h,f)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(f){return c&&u.call(f)=="[object Window]"?d(f):l(a(f))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),f=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(g,y){if(g=c(g),y=d(y,!0),f)try{return p(g,y)}catch{}if(h(g,y))return u(!l.f.call(g,y),g[y])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var h=a[d],f=h&&h.prototype;if(f&&f.forEach!==u)try{c(f,"forEach",u)}catch{f.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,f){if(!f&&!u)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},h(m)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],f=h.constructor={};return f[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),f=o("94ca");i.exports=function(p,m){var g=p.target,y=p.global,b=p.stat,_,w,T,S,O,R;if(y?w=a:b?w=a[g]||d(g,{}):w=(a[g]||{}).prototype,w)for(T in m){if(O=m[T],p.noTargetGet?(R=l(w,T),S=R&&R.value):S=w[T],_=f(y?T:g+(b?".":"#")+T,p.forced),!_&&S!==void 0){if(typeof O==typeof S)continue;h(O,S)}(p.sham||S&&S.sham)&&u(O,"sham",!0),c(w,T,O,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,f=h[d],p=u(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),m=f.name!=d;(p||m)&&a(RegExp.prototype,d,function(){var y=l(this),b=String(y.source),_=y.flags,w=String(_===void 0&&y instanceof RegExp&&!("flags"in h)?c.call(y):_);return"/"+b+"/"+w},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),f=o("c430"),p="".startsWith,m=Math.min,g=h("startsWith"),y=!f&&!g&&!!function(){var b=l(String.prototype,"startsWith");return b&&!b.writable}();a({target:"String",proto:!0,forced:!y&&!g},{startsWith:function(_){var w=String(d(this));c(_);var T=u(m(arguments.length>1?arguments[1]:void 0,w.length)),S=String(_);return p?p.call(w,S,T):w.slice(T,T+S.length)===S}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,f;d?(h=d.split("."),f=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(f=h[1]))),i.exports=f&&+f},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(h,f){u(h);for(var p=c(f),m=p.length,g=0,y;m>g;)l.f(h,y=p[g++],f[y]);return h}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(f){d(this,{type:c,string:String(f),index:0})},function(){var p=h(this),m=p.string,g=p.index,y;return g>=m.length?{value:void 0,done:!0}:(y=a(m,g),p.index+=y.length,{value:y,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(h,f,p){var m=a(h),g=l(m.length),y=u(p,g),b;if(d&&f!=f){for(;g>y;)if(b=m[y++],b!=b)return!0}else for(;g>y;y++)if((d||y in m)&&m[y]===f)return d||y||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),f=o("35a1");i.exports=function(m){var g=l(m),y=typeof this=="function"?this:Array,b=arguments.length,_=b>1?arguments[1]:void 0,w=_!==void 0,T=f(g),S=0,O,R,D,C,N,F;if(w&&(_=a(_,b>2?arguments[2]:void 0,2)),T!=null&&!(y==Array&&c(T)))for(C=T.call(g),N=C.next,R=new y;!(D=N.call(C)).done;S++)F=w?u(C,_,[D.value,S],!0):D.value,h(R,S,F);else for(O=d(g.length),R=new y(O);O>S;S++)F=w?_(g[S],S):g[S],h(R,S,F);return R.length=S,R}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),f=o("8aa5"),p=o("14c3"),m=Math.max,g=Math.min,y=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,w=function(T){return T===void 0?T:String(T)};a("replace",2,function(T,S,O,R){var D=R.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=R.REPLACE_KEEPS_$0,N=D?"$":"$0";return[function($,A){var P=h(this),W=$==null?void 0:$[T];return W!==void 0?W.call($,P,A):S.call(String(P),$,A)},function(H,$){if(!D&&C||typeof $=="string"&&$.indexOf(N)===-1){var A=O(S,H,this,$);if(A.done)return A.value}var P=l(H),W=String(this),X=typeof $=="function";X||($=String($));var U=P.global;if(U){var k=P.unicode;P.lastIndex=0}for(var ne=[];;){var ie=p(P,W);if(ie===null||(ne.push(ie),!U))break;var ve=String(ie[0]);ve===""&&(P.lastIndex=f(W,c(P.lastIndex),k))}for(var ye="",oe=0,K=0;K<ne.length;K++){ie=ne[K];for(var Q=String(ie[0]),ue=m(g(d(ie.index),W.length),0),Z=[],pe=1;pe<ie.length;pe++)Z.push(w(ie[pe]));var _e=ie.groups;if(X){var le=[Q].concat(Z,ue,W);_e!==void 0&&le.push(_e);var x=String($.apply(void 0,le))}else x=F(Q,W,ue,Z,_e,$);ue>=oe&&(ye+=W.slice(oe,ue)+x,oe=ue+Q.length)}return ye+W.slice(oe)}];function F(H,$,A,P,W,X){var U=A+H.length,k=P.length,ne=_;return W!==void 0&&(W=u(W),ne=b),S.call(X,ne,function(ie,ve){var ye;switch(ve.charAt(0)){case"$":return"$";case"&":return H;case"`":return $.slice(0,A);case"'":return $.slice(U);case"<":ye=W[ve.slice(1,-1)];break;default:var oe=+ve;if(oe===0)return ie;if(oe>k){var K=y(oe/10);return K===0?ie:K<=k?P[K-1]===void 0?ve.charAt(1):P[K-1]+ve.charAt(1):ie}ye=P[oe-1]}return ye===void 0?"":ye})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var f=l.f(c(h)),p=u.f;return p?f.concat(p(h)):f}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var m=u(this),g=c(m.length),y;return d(p),y=h(m,0),y.length=l(y,m,m,g,0,1,p,arguments.length>1?arguments[1]:void 0),y}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,h){var f=String(l(d)),p=a(h),m=f.length,g,y;return p<0||p>=m?c?"":void 0:(g=f.charCodeAt(p),g<55296||g>56319||p+1===m||(y=f.charCodeAt(p+1))<56320||y>57343?c?f.charAt(p):g:c?f.slice(p,p+2):(g-55296<<10)+(y-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,h){var f;return l(d)&&(f=d.constructor,typeof f=="function"&&(f===Array||l(f.prototype))?f=void 0:a(f)&&(f=f[c],f===null&&(f=void 0))),new(f===void 0?Array:f)(h===0?0:h)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),f=o("d012"),p=l.WeakMap,m,g,y,b=function(D){return y(D)?g(D):m(D,{})},_=function(D){return function(C){var N;if(!u(C)||(N=g(C)).type!==D)throw TypeError("Incompatible receiver, "+D+" required");return N}};if(a){var w=new p,T=w.get,S=w.has,O=w.set;m=function(D,C){return O.call(w,D,C),C},g=function(D){return T.call(w,D)||{}},y=function(D){return S.call(w,D)}}else{var R=h("state");f[R]=!0,m=function(D,C){return c(D,R,C),C},g=function(D){return d(D,R)?D[R]:{}},y=function(D){return d(D,R)}}i.exports={set:m,get:g,has:y,enforce:b,getterFor:_}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),f=h.get,p=h.enforce,m=String(String).split("String");(i.exports=function(g,y,b,_){var w=_?!!_.unsafe:!1,T=_?!!_.enumerable:!1,S=_?!!_.noTargetGet:!1;if(typeof b=="function"&&(typeof y=="string"&&!u(b,"name")&&l(b,"name",y),p(b).source=m.join(typeof y=="string"?y:"")),g===a){T?g[y]=b:c(y,b);return}else w?!S&&g[y]&&(T=!0):delete g[y];T?g[y]=b:l(g,y,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(h){return function(f){for(var p=u(f),m=l(p),g=m.length,y=0,b=[],_;g>y;)_=m[y++],(!a||c.call(p,_))&&b.push(h?[_,p[_]]:p[_]);return b}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),f=o("f772"),p=">",m="<",g="prototype",y="script",b=f("IE_PROTO"),_=function(){},w=function(D){return m+y+p+D+m+"/"+y+p},T=function(D){D.write(w("")),D.close();var C=D.parentWindow.Object;return D=null,C},S=function(){var D=h("iframe"),C="java"+y+":",N;return D.style.display="none",d.appendChild(D),D.src=String(C),N=D.contentWindow.document,N.open(),N.write(w("document.F=Object")),N.close(),N.F},O,R=function(){try{O=document.domain&&new ActiveXObject("htmlfile")}catch{}R=O?T(O):S();for(var D=u.length;D--;)delete R[g][u[D]];return R()};c[b]=!0,i.exports=Object.create||function(C,N){var F;return C!==null?(_[g]=a(C),F=new _,_[g]=null,F[b]=C):F=R(),N===void 0?F:l(F,N)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),f=o("6eeb"),p=o("b622"),m=o("c430"),g=o("3f8c"),y=o("ae93"),b=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,w=p("iterator"),T="keys",S="values",O="entries",R=function(){return this};i.exports=function(D,C,N,F,H,$,A){l(N,C,F);var P=function(K){if(K===H&&ne)return ne;if(!_&&K in U)return U[K];switch(K){case T:return function(){return new N(this,K)};case S:return function(){return new N(this,K)};case O:return function(){return new N(this,K)}}return function(){return new N(this)}},W=C+" Iterator",X=!1,U=D.prototype,k=U[w]||U["@@iterator"]||H&&U[H],ne=!_&&k||P(H),ie=C=="Array"&&U.entries||k,ve,ye,oe;if(ie&&(ve=u(ie.call(new D)),b!==Object.prototype&&ve.next&&(!m&&u(ve)!==b&&(c?c(ve,b):typeof ve[w]!="function"&&h(ve,w,R)),d(ve,W,!0,!0),m&&(g[W]=R))),H==S&&k&&k.name!==S&&(X=!0,ne=function(){return k.call(this)}),(!m||A)&&U[w]!==ne&&h(U,w,ne),g[C]=ne,H)if(ye={values:P(S),keys:$?ne:P(T),entries:P(O)},A)for(oe in ye)(_||X||!(oe in U))&&f(U,oe,ye[oe]);else a({target:C,proto:!0,forced:_||X},ye);return ye}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,h){var f=a(d);f in c?l.f(c,f,u(0,h)):c[f]=h}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(O){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,p=h.exec(O.stack)||f.exec(O.stack),m=p&&p[1]||!1,g=p&&p[2]||!1,y=document.location.href.replace(document.location.hash,""),b,_,w,T=document.getElementsByTagName("script");m===y&&(b=document.documentElement.outerHTML,_=new RegExp("(?:[^\\n]+?\\n){0,"+(g-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),w=b.replace(_,"$1").trim());for(var S=0;S<T.length;S++)if(T[S].readyState==="interactive"||T[S].src===m||m===y&&T[S].innerHTML&&T[S].innerHTML.trim()===w)return T[S];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var g=/a/,y=/b*/g;return u.call(g,"a"),u.call(y,"a"),g.lastIndex!==0||y.lastIndex!==0}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=h||p||f;m&&(d=function(y){var b=this,_,w,T,S,O=f&&b.sticky,R=a.call(b),D=b.source,C=0,N=y;return O&&(R=R.replace("y",""),R.indexOf("g")===-1&&(R+="g"),N=String(y).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&y[b.lastIndex-1]!==`
`)&&(D="(?: "+D+")",N=" "+N,C++),w=new RegExp("^(?:"+D+")",R)),p&&(w=new RegExp("^"+D+"$(?!\\s)",R)),h&&(_=b.lastIndex),T=u.call(O?w:b,N),O?T?(T.input=T.input.slice(C),T[0]=T[0].slice(C),T.index=b.lastIndex,b.lastIndex+=T[0].length):b.lastIndex=0:h&&T&&(b.lastIndex=b.global?T.index+T[0].length:_),p&&T&&T.length>1&&c.call(T[0],w,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(T[S]=void 0)}),T}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,m){var g=d[c(p)];return g==f?!0:g==h?!1:typeof m=="function"?a(m):!!m},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",f=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),f=o("8418"),p=o("65f0"),m=o("1dde"),g=o("b622"),y=o("2d00"),b=g("isConcatSpreadable"),_=9007199254740991,w="Maximum allowed index exceeded",T=y>=51||!l(function(){var D=[];return D[b]=!1,D.concat()[0]!==D}),S=m("concat"),O=function(D){if(!c(D))return!1;var C=D[b];return C!==void 0?!!C:u(D)},R=!T||!S;a({target:"Array",proto:!0,forced:R},{concat:function(C){var N=d(this),F=p(N,0),H=0,$,A,P,W,X;for($=-1,P=arguments.length;$<P;$++)if(X=$===-1?N:arguments[$],O(X)){if(W=h(X.length),H+W>_)throw TypeError(w);for(A=0;A<W;A++,H++)A in X&&f(F,H,X[A])}else{if(H>=_)throw TypeError(w);f(F,H++,X)}return F.length=H,F}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(f){var h=l.return;throw h!==void 0&&a(h.call(l)),f}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(f,p,m){if(u(f),p=c(p,!0),u(m),l)try{return d(f,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(f[p]=m.value),f}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};i.exports=function(f,p,m){var g=p+" Iterator";return f.prototype=l(a,{next:u(1,m)}),c(f,g,!1,!0),d[g]=h,f}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,h,f,p,m,g,y,b){for(var _=m,w=0,T=y?u(y,b,3):!1,S;w<p;){if(w in f){if(S=T?T(f[w],w,h):f[w],g>0&&a(S))_=c(d,h,S,l(S.length),_,g-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[_]=S}_++}w++}return _};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),f=o("8418"),p=o("1dde"),m=o("ae40"),g=p("splice"),y=m("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,_=Math.min,w=9007199254740991,T="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!g||!y},{splice:function(O,R){var D=d(this),C=c(D.length),N=l(O,C),F=arguments.length,H,$,A,P,W,X;if(F===0?H=$=0:F===1?(H=0,$=C-N):(H=F-2,$=_(b(u(R),0),C-N)),C+H-$>w)throw TypeError(T);for(A=h(D,$),P=0;P<$;P++)W=N+P,W in D&&f(A,P,D[W]);if(A.length=$,H<$){for(P=N;P<C-$;P++)W=P+$,X=P+H,W in D?D[X]=D[W]:delete D[X];for(P=C;P>C-$+H;P--)delete D[P-1]}else if(H>$)for(P=C-$;P>N;P--)W=P+$-1,X=P+H-1,W in D?D[X]=D[W]:delete D[X];for(P=0;P<H;P++)D[P+N]=arguments[P+2];return D.length=C-$+H,A}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),f=o("fdbf"),p=o("d039"),m=o("5135"),g=o("e8b5"),y=o("861d"),b=o("825a"),_=o("7b0b"),w=o("fc6a"),T=o("c04e"),S=o("5c6c"),O=o("7c73"),R=o("df75"),D=o("241c"),C=o("057f"),N=o("7418"),F=o("06cf"),H=o("9bf2"),$=o("d1e7"),A=o("9112"),P=o("6eeb"),W=o("5692"),X=o("f772"),U=o("d012"),k=o("90e3"),ne=o("b622"),ie=o("e538"),ve=o("746f"),ye=o("d44e"),oe=o("69f3"),K=o("b727").forEach,Q=X("hidden"),ue="Symbol",Z="prototype",pe=ne("toPrimitive"),_e=oe.set,le=oe.getterFor(ue),x=Object[Z],V=l.Symbol,z=u("JSON","stringify"),ce=F.f,de=H.f,Ee=C.f,De=$.f,Te=W("symbols"),Oe=W("op-symbols"),be=W("string-to-symbol-registry"),Me=W("symbol-to-string-registry"),He=W("wks"),Ge=l.QObject,rt=!Ge||!Ge[Z]||!Ge[Z].findChild,ct=d&&p(function(){return O(de({},"a",{get:function(){return de(this,"a",{value:7}).a}})).a!=7})?function(Qe,We,it){var At=ce(x,We);At&&delete x[We],de(Qe,We,it),At&&Qe!==x&&de(x,We,At)}:de,J=function(Qe,We){var it=Te[Qe]=O(V[Z]);return _e(it,{type:ue,tag:Qe,description:We}),d||(it.description=We),it},j=f?function(Qe){return typeof Qe=="symbol"}:function(Qe){return Object(Qe)instanceof V},G=function(We,it,At){We===x&&G(Oe,it,At),b(We);var Lt=T(it,!0);return b(At),m(Te,Lt)?(At.enumerable?(m(We,Q)&&We[Q][Lt]&&(We[Q][Lt]=!1),At=O(At,{enumerable:S(0,!1)})):(m(We,Q)||de(We,Q,S(1,{})),We[Q][Lt]=!0),ct(We,Lt,At)):de(We,Lt,At)},te=function(We,it){b(We);var At=w(it),Lt=R(At).concat(ke(At));return K(Lt,function(oi){(!d||Fe.call(At,oi))&&G(We,oi,At[oi])}),We},he=function(We,it){return it===void 0?O(We):te(O(We),it)},Fe=function(We){var it=T(We,!0),At=De.call(this,it);return this===x&&m(Te,it)&&!m(Oe,it)?!1:At||!m(this,it)||!m(Te,it)||m(this,Q)&&this[Q][it]?At:!0},Xe=function(We,it){var At=w(We),Lt=T(it,!0);if(!(At===x&&m(Te,Lt)&&!m(Oe,Lt))){var oi=ce(At,Lt);return oi&&m(Te,Lt)&&!(m(At,Q)&&At[Q][Lt])&&(oi.enumerable=!0),oi}},ge=function(We){var it=Ee(w(We)),At=[];return K(it,function(Lt){!m(Te,Lt)&&!m(U,Lt)&&At.push(Lt)}),At},ke=function(We){var it=We===x,At=Ee(it?Oe:w(We)),Lt=[];return K(At,function(oi){m(Te,oi)&&(!it||m(x,oi))&&Lt.push(Te[oi])}),Lt};if(h||(V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var We=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),it=k(We),At=function(Lt){this===x&&At.call(Oe,Lt),m(this,Q)&&m(this[Q],it)&&(this[Q][it]=!1),ct(this,it,S(1,Lt))};return d&&rt&&ct(x,it,{configurable:!0,set:At}),J(it,We)},P(V[Z],"toString",function(){return le(this).tag}),P(V,"withoutSetter",function(Qe){return J(k(Qe),Qe)}),$.f=Fe,H.f=G,F.f=Xe,D.f=C.f=ge,N.f=ke,ie.f=function(Qe){return J(ne(Qe),Qe)},d&&(de(V[Z],"description",{configurable:!0,get:function(){return le(this).description}}),c||P(x,"propertyIsEnumerable",Fe,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:V}),K(R(He),function(Qe){ve(Qe)}),a({target:ue,stat:!0,forced:!h},{for:function(Qe){var We=String(Qe);if(m(be,We))return be[We];var it=V(We);return be[We]=it,Me[it]=We,it},keyFor:function(We){if(!j(We))throw TypeError(We+" is not a symbol");if(m(Me,We))return Me[We]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:he,defineProperty:G,defineProperties:te,getOwnPropertyDescriptor:Xe}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:ge,getOwnPropertySymbols:ke}),a({target:"Object",stat:!0,forced:p(function(){N.f(1)})},{getOwnPropertySymbols:function(We){return N.f(_(We))}}),z){var Re=!h||p(function(){var Qe=V();return z([Qe])!="[null]"||z({a:Qe})!="{}"||z(Object(Qe))!="{}"});a({target:"JSON",stat:!0,forced:Re},{stringify:function(We,it,At){for(var Lt=[We],oi=1,ey;arguments.length>oi;)Lt.push(arguments[oi++]);if(ey=it,!(!y(it)&&We===void 0||j(We)))return g(it)||(it=function(x3,Ff){if(typeof ey=="function"&&(Ff=ey.call(this,x3,Ff)),!j(Ff))return Ff}),Lt[1]=it,z.apply(null,Lt)}})}V[Z][pe]||A(V[Z],pe,V[Z].valueOf),ye(V,ue),U[Q]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},h=function(f){throw f};i.exports=function(f,p){if(u(d,f))return d[f];p||(p={});var m=[][f],g=u(p,"ACCESSORS")?p.ACCESSORS:!1,y=u(p,0)?p[0]:h,b=u(p,1)?p[1]:void 0;return d[f]=!!m&&!l(function(){if(g&&!a)return!0;var _={length:-1};g?c(_,1,{enumerable:!0,get:h}):_[1]=1,m.call(_,y,b)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),f=!1,p=function(){return this},m,g,y;[].keys&&(y=[].keys(),"next"in y?(g=a(a(y)),g!==Object.prototype&&(m=g)):f=!0),m==null&&(m={}),!d&&!u(m,h)&&l(m,h,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:f}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),f=l("wks"),p=a.Symbol,m=h?p:p&&p.withoutSetter||c;i.exports=function(g){return u(f,g)||(d&&u(p,g)?f[g]=p[g]:f[g]=m("Symbol."+g)),f[g]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(f){return u(l(f))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,f=function(p){var m=p==1,g=p==2,y=p==3,b=p==4,_=p==6,w=p==5||_;return function(T,S,O,R){for(var D=u(T),C=l(D),N=a(S,O,3),F=c(C.length),H=0,$=R||d,A=m?$(T,F):g?$(T,0):void 0,P,W;F>H;H++)if((w||H in C)&&(P=C[H],W=N(P,H,D),p)){if(m)A[H]=W;else if(W)switch(p){case 3:return!0;case 5:return P;case 6:return H;case 2:h.call(A,P)}else if(b)return!1}return _?-1:y||b?b:A}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",h=!0,f=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!f},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,f=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!f||!p},{indexOf:function(g){return h?d.apply(this,arguments)||0:l(this,g,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,h){var f=l(d),p=0,m=[],g;for(g in f)!a(c,g)&&a(f,g)&&m.push(g);for(;h.length>p;)a(f,g=h[p++])&&(~u(m,g)||m.push(g));return m}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(f,p){return a(f),l(p),u?d.call(f,p):f.__proto__=p,f}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,h,f){d&&!l(d=f?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(h){return function(f,p,m,g){a(p);var y=l(f),b=u(y),_=c(y.length),w=h?_-1:0,T=h?-1:1;if(m<2)for(;;){if(w in b){g=b[w],w+=T;break}if(w+=T,h?w<0:_<=w)throw TypeError("Reduce of empty array with no initial value")}for(;h?w>=0:_>w;w+=T)w in b&&(g=p(g,b[w],w,y));return g}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),h=u("species"),f=!l(function(){var b=/./;return b.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(b,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=u("replace"),g=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),y=!l(function(){var b=/(?:)/,_=b.exec;b.exec=function(){return _.apply(this,arguments)};var w="ab".split(b);return w.length!==2||w[0]!=="a"||w[1]!=="b"});i.exports=function(b,_,w,T){var S=u(b),O=!l(function(){var H={};return H[S]=function(){return 7},""[b](H)!=7}),R=O&&!l(function(){var H=!1,$=/a/;return b==="split"&&($={},$.constructor={},$.constructor[h]=function(){return $},$.flags="",$[S]=/./[S]),$.exec=function(){return H=!0,null},$[S](""),!H});if(!O||!R||b==="replace"&&!(f&&p&&!g)||b==="split"&&!y){var D=/./[S],C=w(S,""[b],function(H,$,A,P,W){return $.exec===c?O&&!W?{done:!0,value:D.call($,A,P)}:{done:!0,value:H.call(A,$,P)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),N=C[0],F=C[1];a(String.prototype,b,N),a(RegExp.prototype,S,_==2?function(H,$){return F.call(H,this,$)}:function(H){return F.call(H,this)})}T&&d(RegExp.prototype[S],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=c(p),g=d.f,y=u(m),b={},_=0,w,T;y.length>_;)T=g(m,w=y[_++]),T!==void 0&&h(b,w,T);return b}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),f=d("toStringTag"),p=u.values;for(var m in l){var g=a[m],y=g&&g.prototype;if(y){if(y[h]!==p)try{c(y,h,p)}catch{y[h]=p}if(y[f]||c(y,f,m),l[m]){for(var b in u)if(y[b]!==u[b])try{c(y,b,u[b])}catch{y[b]=u[b]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,f=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},g=function(){var S=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),O=this instanceof g?new p(S):S===void 0?p():p(S);return S===""&&(m[O]=!0),O};f(g,p);var y=g.prototype=p.prototype;y.constructor=g;var b=y.toString,_=String(p("test"))=="Symbol(test)",w=/^Symbol\((.*)\)[^)]+$/;h(y,"description",{configurable:!0,get:function(){var S=d(this)?this.valueOf():this,O=b.call(S);if(c(m,S))return"";var R=_?O.slice(7,-1):O.replace(w,"$1");return R===""?void 0:R}}),a({global:!0,forced:!0},{Symbol:g})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(f){return f=l(f),a(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",f=c.set,p=c.getterFor(h);i.exports=d(Array,"Array",function(m,g){f(this,{type:h,target:a(m),index:0,kind:g})},function(){var m=p(this),g=m.target,y=m.kind,b=m.index++;return!g||b>=g.length?(m.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:b,done:!1}:y=="values"?{value:g[b],done:!1}:{value:[b,g[b]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=l(function(){c(1)}),f=!d||h;a({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(m,g){return c(u(m),g)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,h){for(var f=l(h),p=c.f,m=u.f,g=0;g<f.length;g++){var y=f[g];a(d,y)||p(d,y,m(h,y))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(f,p){try{return f[p]}catch{}};i.exports=a?l:function(f){var p,m,g;return f===void 0?"Undefined":f===null?"Null":typeof(m=h(p=Object(f),c))=="string"?m:d?l(p):(g=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":g}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(j,G,te){return G in j?Object.defineProperty(j,G,{value:te,enumerable:!0,configurable:!0,writable:!0}):j[G]=te,j}function d(j,G){var te=Object.keys(j);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(j);G&&(he=he.filter(function(Fe){return Object.getOwnPropertyDescriptor(j,Fe).enumerable})),te.push.apply(te,he)}return te}function h(j){for(var G=1;G<arguments.length;G++){var te=arguments[G]!=null?arguments[G]:{};G%2?d(Object(te),!0).forEach(function(he){c(j,he,te[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(te)):d(Object(te)).forEach(function(he){Object.defineProperty(j,he,Object.getOwnPropertyDescriptor(te,he))})}return j}function f(j){if(Array.isArray(j))return j}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(j,G){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(j)))){var te=[],he=!0,Fe=!1,Xe=void 0;try{for(var ge=j[Symbol.iterator](),ke;!(he=(ke=ge.next()).done)&&(te.push(ke.value),!(G&&te.length===G));he=!0);}catch(Re){Fe=!0,Xe=Re}finally{try{!he&&ge.return!=null&&ge.return()}finally{if(Fe)throw Xe}}return te}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m(j,G){(G==null||G>j.length)&&(G=j.length);for(var te=0,he=new Array(G);te<G;te++)he[te]=j[te];return he}function g(j,G){if(j){if(typeof j=="string")return m(j,G);var te=Object.prototype.toString.call(j).slice(8,-1);if(te==="Object"&&j.constructor&&(te=j.constructor.name),te==="Map"||te==="Set")return Array.from(j);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return m(j,G)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(j,G){return f(j)||p(j,G)||g(j,G)||y()}function _(j){if(Array.isArray(j))return m(j)}function w(j){if(typeof Symbol<"u"&&Symbol.iterator in Object(j))return Array.from(j)}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(j){return _(j)||w(j)||g(j)||T()}var O=o("a352"),R=o.n(O);function D(j){j.parentElement!==null&&j.parentElement.removeChild(j)}function C(j,G,te){var he=te===0?j.children[0]:j.children[te-1].nextSibling;j.insertBefore(G,he)}var N=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function F(j){var G=Object.create(null);return function(he){var Fe=G[he];return Fe||(G[he]=j(he))}}var H=/-(\w)/g,$=F(function(j){return j.replace(H,function(G,te){return te.toUpperCase()})});o("5db7"),o("73d9");var A=["Start","Add","Remove","Update","End"],P=["Choose","Unchoose","Sort","Filter","Clone"],W=["Move"],X=[W,A,P].flatMap(function(j){return j}).map(function(j){return"on".concat(j)}),U={manage:W,manageAndEmit:A,emit:P};function k(j){return X.indexOf(j)!==-1}o("caad"),o("2ca0");var ne=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ie(j){return ne.includes(j)}function ve(j){return["transition-group","TransitionGroup"].includes(j)}function ye(j){return["id","class","role","style"].includes(j)||j.startsWith("data-")||j.startsWith("aria-")||j.startsWith("on")}function oe(j){return j.reduce(function(G,te){var he=b(te,2),Fe=he[0],Xe=he[1];return G[Fe]=Xe,G},{})}function K(j){var G=j.$attrs,te=j.componentData,he=te===void 0?{}:te,Fe=oe(Object.entries(G).filter(function(Xe){var ge=b(Xe,2),ke=ge[0];return ge[1],ye(ke)}));return h(h({},Fe),he)}function Q(j){var G=j.$attrs,te=j.callBackBuilder,he=oe(ue(G));Object.entries(te).forEach(function(Xe){var ge=b(Xe,2),ke=ge[0],Re=ge[1];U[ke].forEach(function(Qe){he["on".concat(Qe)]=Re(Qe)})});var Fe="[data-draggable]".concat(he.draggable||"");return h(h({},he),{},{draggable:Fe})}function ue(j){return Object.entries(j).filter(function(G){var te=b(G,2),he=te[0];return te[1],!ye(he)}).map(function(G){var te=b(G,2),he=te[0],Fe=te[1];return[$(he),Fe]}).filter(function(G){var te=b(G,2),he=te[0];return te[1],!k(he)})}o("c740");function Z(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}function pe(j,G){for(var te=0;te<G.length;te++){var he=G[te];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(j,he.key,he)}}function _e(j,G,te){return G&&pe(j.prototype,G),te&&pe(j,te),j}var le=function(G){var te=G.el;return te},x=function(G,te){return G.__draggable_context=te},V=function(G){return G.__draggable_context},z=function(){function j(G){var te=G.nodes,he=te.header,Fe=te.default,Xe=te.footer,ge=G.root,ke=G.realList;Z(this,j),this.defaultNodes=Fe,this.children=[].concat(S(he),S(Fe),S(Xe)),this.externalComponent=ge.externalComponent,this.rootTransition=ge.transition,this.tag=ge.tag,this.realList=ke}return _e(j,[{key:"render",value:function(te,he){var Fe=this.tag,Xe=this.children,ge=this._isRootComponent,ke=ge?{default:function(){return Xe}}:Xe;return te(Fe,he,ke)}},{key:"updated",value:function(){var te=this.defaultNodes,he=this.realList;te.forEach(function(Fe,Xe){x(le(Fe),{element:he[Xe],index:Xe})})}},{key:"getUnderlyingVm",value:function(te){return V(te)}},{key:"getVmIndexFromDomIndex",value:function(te,he){var Fe=this.defaultNodes,Xe=Fe.length,ge=he.children,ke=ge.item(te);if(ke===null)return Xe;var Re=V(ke);if(Re)return Re.index;if(Xe===0)return 0;var Qe=le(Fe[0]),We=S(ge).findIndex(function(it){return it===Qe});return te<We?0:Xe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),j}(),ce=o("8bbf");function de(j,G){var te=j[G];return te?te():[]}function Ee(j){var G=j.$slots,te=j.realList,he=j.getKey,Fe=te||[],Xe=["header","footer"].map(function(it){return de(G,it)}),ge=b(Xe,2),ke=ge[0],Re=ge[1],Qe=G.item;if(!Qe)throw new Error("draggable element must have an item slot");var We=Fe.flatMap(function(it,At){return Qe({element:it,index:At}).map(function(Lt){return Lt.key=he(it),Lt.props=h(h({},Lt.props||{}),{},{"data-draggable":!0}),Lt})});if(We.length!==Fe.length)throw new Error("Item slot must have only one child");return{header:ke,footer:Re,default:We}}function De(j){var G=ve(j),te=!ie(j)&&!G;return{transition:G,externalComponent:te,tag:te?Object(ce.resolveComponent)(j):G?ce.TransitionGroup:j}}function Te(j){var G=j.$slots,te=j.tag,he=j.realList,Fe=j.getKey,Xe=Ee({$slots:G,realList:he,getKey:Fe}),ge=De(te);return new z({nodes:Xe,root:ge,realList:he})}function Oe(j,G){var te=this;Object(ce.nextTick)(function(){return te.$emit(j.toLowerCase(),G)})}function be(j){var G=this;return function(te,he){if(G.realList!==null)return G["onDrag".concat(j)](te,he)}}function Me(j){var G=this,te=be.call(this,j);return function(he,Fe){te.call(G,he,Fe),Oe.call(G,j,he)}}var He=null,Ge={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(G){return G}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},rt=["update:modelValue","change"].concat(S([].concat(S(U.manageAndEmit),S(U.emit)).map(function(j){return j.toLowerCase()}))),ct=Object(ce.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ge,emits:rt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var G=this.$slots,te=this.$attrs,he=this.tag,Fe=this.componentData,Xe=this.realList,ge=this.getKey,ke=Te({$slots:G,tag:he,realList:Xe,getKey:ge});this.componentStructure=ke;var Re=K({$attrs:te,componentData:Fe});return ke.render(ce.h,Re)}catch(Qe){return this.error=!0,Object(ce.h)("pre",{style:{color:"red"}},Qe.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&N.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var G=this;if(!this.error){var te=this.$attrs,he=this.$el,Fe=this.componentStructure;Fe.updated();var Xe=Q({$attrs:te,callBackBuilder:{manageAndEmit:function(Re){return Me.call(G,Re)},emit:function(Re){return Oe.bind(G,Re)},manage:function(Re){return be.call(G,Re)}}}),ge=he.nodeType===1?he:he.parentElement;this._sortable=new R.a(ge,Xe),this.targetDomElement=ge,ge.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var G=this.list;return G||this.modelValue},getKey:function(){var G=this.itemKey;return typeof G=="function"?G:function(te){return te[G]}}},watch:{$attrs:{handler:function(G){var te=this._sortable;te&&ue(G).forEach(function(he){var Fe=b(he,2),Xe=Fe[0],ge=Fe[1];te.option(Xe,ge)})},deep:!0}},methods:{getUnderlyingVm:function(G){return this.componentStructure.getUnderlyingVm(G)||null},getUnderlyingPotencialDraggableComponent:function(G){return G.__draggable_component__},emitChanges:function(G){var te=this;Object(ce.nextTick)(function(){return te.$emit("change",G)})},alterList:function(G){if(this.list){G(this.list);return}var te=S(this.modelValue);G(te),this.$emit("update:modelValue",te)},spliceList:function(){var G=arguments,te=function(Fe){return Fe.splice.apply(Fe,S(G))};this.alterList(te)},updatePosition:function(G,te){var he=function(Xe){return Xe.splice(te,0,Xe.splice(G,1)[0])};this.alterList(he)},getRelatedContextFromMoveEvent:function(G){var te=G.to,he=G.related,Fe=this.getUnderlyingPotencialDraggableComponent(te);if(!Fe)return{component:Fe};var Xe=Fe.realList,ge={list:Xe,component:Fe};if(te!==he&&Xe){var ke=Fe.getUnderlyingVm(he)||{};return h(h({},ke),ge)}return ge},getVmIndexFromDomIndex:function(G){return this.componentStructure.getVmIndexFromDomIndex(G,this.targetDomElement)},onDragStart:function(G){this.context=this.getUnderlyingVm(G.item),G.item._underlying_vm_=this.clone(this.context.element),He=G.item},onDragAdd:function(G){var te=G.item._underlying_vm_;if(te!==void 0){D(G.item);var he=this.getVmIndexFromDomIndex(G.newIndex);this.spliceList(he,0,te);var Fe={element:te,newIndex:he};this.emitChanges({added:Fe})}},onDragRemove:function(G){if(C(this.$el,G.item,G.oldIndex),G.pullMode==="clone"){D(G.clone);return}var te=this.context,he=te.index,Fe=te.element;this.spliceList(he,1);var Xe={element:Fe,oldIndex:he};this.emitChanges({removed:Xe})},onDragUpdate:function(G){D(G.item),C(G.from,G.item,G.oldIndex);var te=this.context.index,he=this.getVmIndexFromDomIndex(G.newIndex);this.updatePosition(te,he);var Fe={element:this.context.element,oldIndex:te,newIndex:he};this.emitChanges({moved:Fe})},computeFutureIndex:function(G,te){if(!G.element)return 0;var he=S(te.to.children).filter(function(ke){return ke.style.display!=="none"}),Fe=he.indexOf(te.related),Xe=G.component.getVmIndexFromDomIndex(Fe),ge=he.indexOf(He)!==-1;return ge||!te.willInsertAfter?Xe:Xe+1},onDragMove:function(G,te){var he=this.move,Fe=this.realList;if(!he||!Fe)return!0;var Xe=this.getRelatedContextFromMoveEvent(G),ge=this.computeFutureIndex(Xe,G),ke=h(h({},this.context),{},{futureIndex:ge}),Re=h(h({},G),{},{relatedContext:Xe,draggedContext:ke});return he(Re,te)},onDragEnd:function(){He=null}}}),J=ct;s.default=J},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),f=o("8418"),p=o("b622"),m=o("1dde"),g=o("ae40"),y=m("slice"),b=g("slice",{ACCESSORS:!0,0:0,1:2}),_=p("species"),w=[].slice,T=Math.max;a({target:"Array",proto:!0,forced:!y||!b},{slice:function(O,R){var D=h(this),C=d(D.length),N=c(O,C),F=c(R===void 0?C:R,C),H,$,A;if(u(D)&&(H=D.constructor,typeof H=="function"&&(H===Array||u(H.prototype))?H=void 0:l(H)&&(H=H[_],H===null&&(H=void 0)),H===Array||H===void 0))return w.call(D,N,F);for($=new(H===void 0?Array:H)(T(F-N,0)),A=0;N<F;N++,A++)N in D&&f($,A,D[N]);return $.length=A,$}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(gL);var pse=gL.exports;const AL=kie(pse),mse={key:0,class:"mb-5 p-4 border-y"},gse={class:"flex"},vse=Ce({__name:"StringListField",props:{name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=se(""),s=ee({get:()=>r.modelValue,set:d=>{u("update:modelValue",d),i.value=""}}),o=d=>{if(d.moved){const{oldIndex:h,newIndex:f}=d.moved,p=[...s.value];if(p.length===2)s.value=[p[1],p[0]];else{const m=p.splice(h,1)[0];p.splice(f,0,m),s.value=p}}},a=()=>{i.value.length&&(s.value=[...s.value,i.value])},l=d=>{s.value.splice(d,1)},u=n;return e({test:()=>{}}),(d,h)=>(E(),L("div",null,[M(ur,{id:d.name,name:d.name,label:d.label,modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=f=>i.value=f),max:200,placeholder:d.placeholder,onKeydown:h[1]||(h[1]=ht(f=>a(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),s.value.length?(E(),L("div",mse,[M(I(AL),{modelValue:s.value,itemKey:"index",onChange:o},{item:Y(({element:f,index:p})=>[v("div",gse,[M(ur,{class:"w-full",id:`${d.name}.${p}`,name:d.name,"model-value":f,max:200,"delete-button":"","onUpdate:modelValue":m=>s.value[p]=m.toString(),"onUpdate:delete":m=>l(p)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):q("",!0)]))}});var yse={},bse=Ft.extend({style:yse});function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return e=_se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _se(t){var e=Tse(t,"string");return Lh(e)=="symbol"?e:String(e)}function Tse(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sse=bse.extend("focustrap",{mounted:function(e,n){var r=n.value||{},i=r.disabled;i||(this.createHiddenFocusableElements(e,n),this.bind(e,n),this.autoElementFocus(e,n)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,n){var r=n.value||{},i=r.disabled;i&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,n){var r=this,i=n.value||{},s=i.onFocusIn,o=i.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var u=function c(d){var h=Pe.isFocusableElement(d)?Pe.isFocusableElement(d,r.getComputedSelector(e.$_pfocustrap_focusableselector))?d:Pe.getFirstFocusableElement(e,r.getComputedSelector(e.$_pfocustrap_focusableselector)):Pe.getFirstFocusableElement(d);return Ie.isNotEmpty(h)?h:d.nextSibling&&c(d.nextSibling)};Pe.focus(u(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return s&&s(a)},e.$_pfocustrap_focusoutlistener=function(a){return o&&o(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:PA(PA({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,n){var r=n.value||{},i=r.autoFocusSelector,s=i===void 0?"":i,o=r.firstFocusableSelector,a=o===void 0?"":o,l=r.autoFocus,u=l===void 0?!1:l,c=Pe.getFirstFocusableElement(e,"[autofocus]".concat(this.getComputedSelector(s)));u&&!c&&(c=Pe.getFirstFocusableElement(e,this.getComputedSelector(a))),Pe.focus(c)},onFirstHiddenElementFocus:function(e){var n,r=e.currentTarget,i=e.relatedTarget,s=i===r.$_pfocustrap_lasthiddenfocusableelement||!((n=this.$el)!==null&&n!==void 0&&n.contains(i))?Pe.getFirstFocusableElement(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_lasthiddenfocusableelement;Pe.focus(s)},onLastHiddenElementFocus:function(e){var n,r=e.currentTarget,i=e.relatedTarget,s=i===r.$_pfocustrap_firsthiddenfocusableelement||!((n=this.$el)!==null&&n!==void 0&&n.contains(i))?Pe.getLastFocusableElement(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_firsthiddenfocusableelement;Pe.focus(s)},createHiddenFocusableElements:function(e,n){var r=this,i=n.value||{},s=i.tabIndex,o=s===void 0?0:s,a=i.firstFocusableSelector,l=a===void 0?"":a,u=i.lastFocusableSelector,c=u===void 0?"":u,d=function(m){return Pe.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:o,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:m==null?void 0:m.bind(r)})},h=d(this.onFirstHiddenElementFocus),f=d(this.onLastHiddenElementFocus);h.$_pfocustrap_lasthiddenfocusableelement=f,h.$_pfocustrap_focusableselector=l,h.setAttribute("data-pc-section","firstfocusableelement"),f.$_pfocustrap_firsthiddenfocusableelement=h,f.$_pfocustrap_focusableselector=c,f.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(h),e.append(f)}}}),zv={name:"TimesIcon",extends:Ta},Ese=v("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),Ise=[Ese];function Cse(t,e,n,r,i,s){return E(),L("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Ise,16)}zv.render=Cse;var Ose={root:function(e){var n=e.props;return["p-inplace p-component",{"p-inplace-closable":n.closable}]},display:function(e){var n=e.props;return["p-inplace-display",{"p-disabled":n.disabled}]},content:"p-inplace-content"},Ase=sr.extend({name:"inplace",classes:Ose}),kse={name:"BaseInplace",extends:Xr,props:{closable:{type:Boolean,default:!1},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},closeIcon:{type:String,default:void 0},displayProps:{type:null,default:null},closeButtonProps:{type:null,default:null}},style:Ase,provide:function(){return{$parentInstance:this}}},kL={name:"Inplace",extends:kse,inheritAttrs:!1,emits:["open","close","update:active"],data:function(){return{d_active:this.active}},watch:{active:function(e){this.d_active=e}},methods:{open:function(e){this.disabled||(this.$emit("open",e),this.d_active=!0,this.$emit("update:active",!0))},close:function(e){var n=this;this.$emit("close",e),this.d_active=!1,this.$emit("update:active",!1),setTimeout(function(){n.$refs.display.focus()},0)}},computed:{closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{IPButton:za,TimesIcon:zv},directives:{focustrap:Sse}};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function xA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(n),!0).forEach(function(r){Pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pse(t,e,n){return e=xse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xse(t){var e=Dse(t,"string");return Fh(e)=="symbol"?e:String(e)}function Dse(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rse=["tabindex"];function Nse(t,e,n,r,i,s){var o=wn("IPButton"),a=Jh("focustrap");return vi((E(),L("div",ae({class:t.cx("root"),"aria-live":"polite"},t.ptmi("root")),[i.d_active?(E(),L("div",ae({key:1,class:t.cx("content")},t.ptm("content")),[fe(t.$slots,"content"),t.closable?(E(),re(o,ae({key:0,"aria-label":s.closeAriaLabel,onClick:s.close,unstyled:t.unstyled,pt:t.ptm("closeButton")},t.closeButtonProps),{icon:Y(function(){return[fe(t.$slots,"closeicon",{},function(){return[(E(),re(yn(t.closeIcon?"span":"TimesIcon"),ae({class:t.closeIcon},t.ptm("closeButton").icon,{"data-pc-section":"closebuttonicon"}),null,16,["class"]))]})]}),_:3},16,["aria-label","onClick","unstyled","pt"])):q("",!0)],16)):(E(),L("div",ae({key:0,ref:"display",class:t.cx("display"),tabindex:t.$attrs.tabindex||"0",role:"button",onClick:e[0]||(e[0]=function(){return s.open&&s.open.apply(s,arguments)}),onKeydown:e[1]||(e[1]=ht(function(){return s.open&&s.open.apply(s,arguments)},["enter"]))},DA(DA({},t.displayProps),t.ptm("display"))),[fe(t.$slots,"display")],16,Rse))],16)),[[a]])}kL.render=Nse;const Mse={class:"mt-5"},$se={class:"px-5"},Lse={class:"flex justify-center"},Fse={class:"mt-3 flex justify-evenly font-bold"},Vse=Ce({__name:"BlogPostContentSectionDialogSection",props:{selected:{},selectedBlogPost:{},index:{},isOpen:{type:Boolean}},emits:["update:selected","error","delete"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=se(),o=se(),a=se(),l=se(),u=se(),c=se(),d=se(),h=se(),f=()=>({selected:{title:{value:r.selected.title,error:""},subTitle:{value:r.selected.subTitle,error:""},description:{value:r.selected.description,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},alignment:{value:r.selected.alignment,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},table:{value:r.selected.table,error:""},bullets:{value:r.selected.bullets,error:""}}}),p=Nn(f()),m=async()=>{var g,y,b,_,w,T,S,O;await Promise.all([(g=s.value)==null?void 0:g.test(),(y=o.value)==null?void 0:y.test(),(b=a.value)==null?void 0:b.test(),(_=u.value)==null?void 0:_.test(),(w=l.value)==null?void 0:w.test(),(T=c.value)==null?void 0:T.test(),(S=d.value)==null?void 0:S.test(),(O=h.value)==null?void 0:O.test()]),i("error",Tf(p.selected))};return Ot(()=>r.selectedBlogPost,()=>{p.selected=f().selected}),Ot(()=>p.selected,()=>{i("update:selected",{title:p.selected.title.value,subTitle:p.selected.subTitle.value,description:p.selected.description.value,alignment:p.selected.alignment.value,coverImageUrl:p.selected.coverImageUrl.value,countdown:p.selected.countdown.value,timer:p.selected.timer.value,table:p.selected.table.value,bullets:p.selected.bullets.value})},{deep:!0}),e({test:m}),(g,y)=>(E(),L("div",Mse,[g.isOpen?(E(),re(I(Kn),{key:0},{default:Y(()=>[M(I(Ae),{header:`Section ${g.index+1}`,pt:{toggleableContent:{class:"background-gray-dark rounded-t-primary rounded-b-primary"}}},{default:Y(()=>[v("div",$se,[M(ur,{class:"mt-0 pt-5",ref_key:"title",ref:s,id:g.index,name:"title",label:"Section Title",modelValue:p.selected.title.value,"onUpdate:modelValue":y[0]||(y[0]=b=>p.selected.title.value=b),error:p.selected.title.error,"onUpdate:error":y[1]||(y[1]=b=>p.selected.title.error=b),max:50},null,8,["id","modelValue","error"]),M(ur,{ref_key:"subTitle",ref:o,id:g.index,name:"subTitle",label:"Section Subtitle",modelValue:p.selected.subTitle.value,"onUpdate:modelValue":y[2]||(y[2]=b=>p.selected.subTitle.value=b),error:p.selected.subTitle.error,"onUpdate:error":y[3]||(y[3]=b=>p.selected.subTitle.error=b),max:200},null,8,["id","modelValue","error"]),M(ur,{ref_key:"description",ref:a,id:g.index,name:"description",label:"Section Description",modelValue:p.selected.description.value,"onUpdate:modelValue":y[4]||(y[4]=b=>p.selected.description.value=b),error:p.selected.description.error,"onUpdate:error":y[5]||(y[5]=b=>p.selected.description.error=b),max:300,"input-props":{type:"textarea",rows:p.selected.description.value.split(`
`).length<=5?p.selected.description.value.split(`
`).length:5}},null,8,["id","modelValue","error","input-props"]),v("div",Lse,[g.isOpen?(E(),re(I(kL),{key:0},{display:Y(()=>[B(" Other options ")]),content:Y(()=>[M(Fr,{ref_key:"alignment",ref:l,id:g.index,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":y[6]||(y[6]=b=>p.selected.alignment.value=b),error:p.selected.alignment.error,"onUpdate:error":y[7]||(y[7]=b=>p.selected.alignment.error=b),options:I(M$),rules:[I(Rt).Required]},null,8,["id","modelValue","error","options","rules"]),M(GT,{ref_key:"coverImageUrl",ref:u,id:g.index,name:"coverImageUrl",label:"Cover image",modelValue:p.selected.coverImageUrl.value,"onUpdate:modelValue":y[8]||(y[8]=b=>p.selected.coverImageUrl.value=b),error:p.selected.coverImageUrl.error,"onUpdate:error":y[9]||(y[9]=b=>p.selected.coverImageUrl.error=b)},null,8,["id","modelValue","error"]),M(og,{ref_key:"countdown",ref:c,id:g.index,name:"countdown",label:"Countdown",modelValue:p.selected.countdown.value,"onUpdate:modelValue":y[10]||(y[10]=b=>p.selected.countdown.value=b),error:p.selected.countdown.error,"onUpdate:error":y[11]||(y[11]=b=>p.selected.countdown.error=b)},null,8,["id","modelValue","error"]),M(og,{ref_key:"timer",ref:d,id:g.index,name:"timer",label:"Timer",modelValue:p.selected.timer.value,"onUpdate:modelValue":y[12]||(y[12]=b=>p.selected.timer.value=b),error:p.selected.timer.error,"onUpdate:error":y[13]||(y[13]=b=>p.selected.timer.error=b)},null,8,["id","modelValue","error"]),M(vse,{ref_key:"bullets",ref:h,name:"bullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:p.selected.bullets.value,"onUpdate:modelValue":y[14]||(y[14]=b=>p.selected.bullets.value=b)},null,8,["modelValue"]),M(pL,{name:"table",label:"Table",modelValue:p.selected.table.value,"onUpdate:modelValue":y[15]||(y[15]=b=>p.selected.table.value=b)},null,8,["modelValue"])]),_:1})):q("",!0)]),v("div",Fse,[M(et,{class:"w-1/2",type:"danger",outlined:"",label:"Delete",onClick:y[16]||(y[16]=b=>g.$emit("delete"))})])])]),_:1},8,["header"])]),_:1})):q("",!0)]))}}),Use={class:"mt-3 flex justify-center"},Bse=Ce({__name:"BlogPostContentDialogSection",props:{selected:{},selectedBlogPost:{},isOpen:{type:Boolean}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=se(),o=se(),a=se(),l=se(),u=se(),c=se(),d=se([]),h=()=>({selected:{title:{value:r.selected.title,error:""},description:{value:r.selected.description,error:""},descriptionFooter:{value:r.selected.descriptionFooter,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},table:{value:r.selected.table,error:""},sections:{value:r.selected.sections.map(_=>({id:sg(),..._})),error:[]}}}),f=Nn(h()),p=()=>{f.selected.sections.value.push({id:sg(),title:"",subTitle:"",description:"",alignment:"left",coverImageUrl:"",countdown:null,timer:null,table:"",bullets:[]})},m=(_,w)=>{f.selected.sections.value.splice(w,1,{id:f.selected.sections.value[w].id,..._})},g=_=>{f.selected.sections.value.splice(_,1)},y=(_,w)=>{f.selected.sections.error[w]=_},b=async()=>{for(const _ of d.value)await _.test();await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test()]),i("error",Tf(f.selected)),f.selected.sections.error=[]};return Ot(()=>r.selectedBlogPost,()=>{f.selected=h().selected}),Ot(()=>f.selected,()=>{i("update:selected",{title:f.selected.title.value,description:f.selected.description.value,descriptionFooter:f.selected.descriptionFooter.value,coverImageUrl:f.selected.coverImageUrl.value,countdown:f.selected.countdown.value,timer:f.selected.timer.value,table:f.selected.table.value,sections:f.selected.sections.value})},{deep:!0}),e({test:b}),(_,w)=>(E(),L(we,null,[M(ur,{ref_key:"title",ref:s,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:f.selected.title.value,"onUpdate:modelValue":w[0]||(w[0]=T=>f.selected.title.value=T),error:f.selected.title.error,"onUpdate:error":w[1]||(w[1]=T=>f.selected.title.error=T),rules:[I(Rt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),M(ur,{ref_key:"description",ref:o,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:f.selected.description.value,"onUpdate:modelValue":w[2]||(w[2]=T=>f.selected.description.value=T),error:f.selected.description.error,"onUpdate:error":w[3]||(w[3]=T=>f.selected.description.error=T),"max-length":500,"input-props":{type:"textarea",rows:f.selected.description.value.split(`
`).length<=5?f.selected.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),M(GT,{ref_key:"coverImageUrl",ref:l,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:f.selected.coverImageUrl.value,"onUpdate:modelValue":w[4]||(w[4]=T=>f.selected.coverImageUrl.value=T),error:f.selected.coverImageUrl.error,"onUpdate:error":w[5]||(w[5]=T=>f.selected.coverImageUrl.error=T),"blog-post":_.selectedBlogPost??void 0},null,8,["modelValue","error","blog-post"]),_.isOpen?(E(),re(I(Kn),{key:0},{default:Y(()=>[M(I(Ae),{header:"Other content"},{default:Y(()=>[M(ur,{ref_key:"descriptionFooter",ref:a,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:f.selected.descriptionFooter.value,"onUpdate:modelValue":w[6]||(w[6]=T=>f.selected.descriptionFooter.value=T),error:f.selected.descriptionFooter.error,"onUpdate:error":w[7]||(w[7]=T=>f.selected.descriptionFooter.error=T),"max-length":300,"input-props":{type:"textarea",rows:f.selected.descriptionFooter.value.split(`
`).length<=5?f.selected.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),M(og,{ref_key:"countdown",ref:u,name:"countdown",label:"Countdown",modelValue:f.selected.countdown.value,"onUpdate:modelValue":w[8]||(w[8]=T=>f.selected.countdown.value=T),error:f.selected.countdown.error,"onUpdate:error":w[9]||(w[9]=T=>f.selected.countdown.error=T)},null,8,["modelValue","error"]),M(og,{ref_key:"timer",ref:c,name:"timer",label:"Timer",modelValue:f.selected.timer.value,"onUpdate:modelValue":w[10]||(w[10]=T=>f.selected.timer.value=T),error:f.selected.timer.error,"onUpdate:error":w[11]||(w[11]=T=>f.selected.timer.error=T)},null,8,["modelValue","error"]),M(pL,{name:"table",label:"Table",modelValue:f.selected.table.value,"onUpdate:modelValue":w[12]||(w[12]=T=>f.selected.table.value=T)},null,8,["modelValue"])]),_:1}),M(I(Ae),{header:"Sections"},{default:Y(()=>[(E(!0),L(we,null,nt(f.selected.sections.value,(T,S)=>(E(),re(Vse,{key:T.id,ref_for:!0,ref_key:"sections",ref:d,selected:T,"selected-blog-post":_.selectedBlogPost,index:S,"is-open":_.isOpen,"onUpdate:selected":O=>m(O,S),onError:O=>y(O,S),onDelete:O=>g(S)},null,8,["selected","selected-blog-post","index","is-open","onUpdate:selected","onError","onDelete"]))),128)),v("div",Use,[M(et,{class:"w-1/2",type:"green",label:"Add Section",onClick:p})])]),_:1})]),_:1})):q("",!0)],64))}});var jse={root:{position:"relative"}},Hse={root:function(e){var n=e.instance,r=e.props;return["p-inputswitch p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},Wse=sr.extend({name:"inputswitch",classes:Hse,inlineStyles:jse}),Kse={name:"BaseInputSwitch",extends:Xr,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Wse,provide:function(){return{$parentInstance:this}}},PL={name:"InputSwitch",extends:Kse,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},zse=["data-p-highlight","data-p-disabled"],Gse=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function Yse(t,e,n,r,i,s){return E(),L("div",ae({class:t.cx("root"),style:t.sx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[v("input",ae({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":s.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,Gse),v("span",ae({class:t.cx("slider")},s.getPTOptions("slider")),null,16)],16,zse)}PL.render=Yse;const qse={class:"m-4"},Xse=["for"],Kd=Ce({__name:"SwitchField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>(E(),L("div",qse,[l.label?(E(),L("label",ae({key:0,class:"block text-sm font-bold mb-2",for:s.value},l.labelProps),Be(l.label),17,Xse)):q("",!0),v("div",{class:"p-input cursor-pointer flex align-middle",onClick:u[1]||(u[1]=Tt(c=>i.value=!i.value,["prevent"]))},[M(I(PL),{inputId:s.value,ref:"input",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c),pt:{slider:{class:i.value?"bg-primary-500":void 0}}},null,8,["inputId","modelValue","pt"])])]))}}),Qse=Ce({__name:"BlogPostSettingsDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,{firebaseUser:s,publicUser:o}=Zt(wr()),a=hr(),{allowedPublicUsers:l}=a,{publicUsers:u}=Zt(a),c=se(),d=se(),h=se(),f=se(),p=ee(()=>u.value.map(({id:_,displayName:w})=>({value:_,label:w}))),m=se([]),g=()=>({selected:{allowedUserIds:{value:r.selected.allowedUserIds,error:""},locked:{value:r.selected.locked,error:""},archived:{value:r.selected.archived,error:""},pinned:{value:!!r.selected.datePinned,error:""}}}),y=Nn(g()),b=async()=>{y.selected.allowedUserIds.value.length&&!m.value.length&&(y.selected.allowedUserIds.error="Invalid user ID's"),await Promise.all([d.value.test(),h.value.test(),f.value.test()]),i("error",Tf(y.selected))};return Ot(()=>y.selected.allowedUserIds.value,async _=>{m.value=await l(_)},{immediate:!0}),Ot(()=>r.selectedBlogPost,()=>{y.selected=g().selected}),Ot(()=>y.selected,()=>{var _,w;i("update:selected",{allowedUserIds:y.selected.allowedUserIds.value,locked:y.selected.locked.value,archived:y.selected.archived.value,datePinned:y.selected.pinned.value?(_=r.selected)!=null&&_.datePinned?((w=r.selected)==null?void 0:w.datePinned)??null:new Date:null})},{deep:!0}),e({test:b}),(_,w)=>(E(),L(we,null,[M(Fr,{ref_key:"allowedUsers",ref:c,name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":y.selected.allowedUserIds.value,error:y.selected.allowedUserIds.error,"onUpdate:error":w[0]||(w[0]=T=>y.selected.allowedUserIds.error=T),"onUpdate:arrayValue":w[1]||(w[1]=T=>y.selected.allowedUserIds.value=T),options:[{value:I(s).uid,label:I(o).displayName},...p.value.filter(({value:T})=>{var S;return T!==((S=I(s))==null?void 0:S.uid)})],multiple:""},null,8,["model-value","error","options"]),M(Kd,{ref_key:"pinned",ref:f,name:"pinned",label:"Pinned",modelValue:y.selected.pinned.value,"onUpdate:modelValue":w[2]||(w[2]=T=>y.selected.pinned.value=T)},null,8,["modelValue"]),M(Kd,{ref_key:"locked",ref:d,name:"locked",label:"Locked for commenting",modelValue:y.selected.locked.value,"onUpdate:modelValue":w[3]||(w[3]=T=>y.selected.locked.value=T)},null,8,["modelValue"]),M(Kd,{ref_key:"archived",ref:h,name:"archived",label:"Archived",modelValue:y.selected.archived.value,"onUpdate:modelValue":w[4]||(w[4]=T=>y.selected.archived.value=T)},null,8,["modelValue"])],64))}}),Jse=Ce({__name:"BlogPostStylingDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=se(),o=se(),a=se(),l=se(),u=se(),c=se(),d=se(),h=ee(()=>BX(tg.find(g=>g.value===p.selected.colorPrimary.value))),f=()=>({selected:{alignment:{value:r.selected.alignment,error:""},colorPrimary:{value:r.selected.colorPrimary,error:""},colorSecondary:{value:r.selected.colorSecondary,error:""},colorTertiary:{value:r.selected.colorTertiary,error:""},opacityPrimary:{value:r.selected.opacityPrimary,error:""},opacitySecondary:{value:r.selected.opacitySecondary,error:""},opacityTertiary:{value:r.selected.opacityTertiary,error:""}}}),p=Nn(f()),m=async()=>{await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test(),d.value.test()]),i("error",Tf(p.selected))};return Ot(()=>r.selectedBlogPost,()=>{p.selected=f().selected}),Ot(()=>p.selected,()=>{i("update:selected",{alignment:p.selected.alignment.value,colorPrimary:p.selected.colorPrimary.value,colorSecondary:p.selected.colorSecondary.value,colorTertiary:p.selected.colorTertiary.value,opacityPrimary:p.selected.opacityPrimary.value,opacitySecondary:p.selected.opacitySecondary.value,opacityTertiary:p.selected.opacityTertiary.value})},{deep:!0}),e({test:m}),(g,y)=>(E(),L(we,null,[M(Fr,{ref_key:"alignment",ref:s,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":y[0]||(y[0]=b=>p.selected.alignment.value=b),error:p.selected.alignment.error,"onUpdate:error":y[1]||(y[1]=b=>p.selected.alignment.error=b),options:I(M$),rules:[I(Rt).Required]},null,8,["modelValue","error","options","rules"]),M(Fr,{ref_key:"colorPrimary",ref:o,name:"colorPrimary",label:"Primary Style",modelValue:p.selected.colorPrimary.value,"onUpdate:modelValue":y[2]||(y[2]=b=>p.selected.colorPrimary.value=b),error:p.selected.colorPrimary.error,"onUpdate:error":y[3]||(y[3]=b=>p.selected.colorPrimary.error=b),options:I(tg),rules:[I(Rt).Required]},null,8,["modelValue","error","options","rules"]),M(Fr,{ref_key:"opacityPrimary",ref:u,name:"opacityPrimary",label:"Primary Opacity",modelValue:p.selected.opacityPrimary.value,"onUpdate:modelValue":y[4]||(y[4]=b=>p.selected.opacityPrimary.value=b),error:p.selected.opacityPrimary.error,"onUpdate:error":y[5]||(y[5]=b=>p.selected.opacityPrimary.error=b),options:I(nb)},null,8,["modelValue","error","options"]),M(Fr,{ref_key:"colorSecondary",ref:a,name:"colorSecondary",label:"Secondary Style",modelValue:p.selected.colorSecondary.value,"onUpdate:modelValue":y[6]||(y[6]=b=>p.selected.colorSecondary.value=b),error:p.selected.colorSecondary.error,"onUpdate:error":y[7]||(y[7]=b=>p.selected.colorSecondary.error=b),options:h.value},null,8,["modelValue","error","options"]),M(Fr,{ref_key:"opacitySecondary",ref:c,name:"opacitySecondary",label:"Secondary Opacity",modelValue:p.selected.opacitySecondary.value,"onUpdate:modelValue":y[8]||(y[8]=b=>p.selected.opacitySecondary.value=b),error:p.selected.opacitySecondary.error,"onUpdate:error":y[9]||(y[9]=b=>p.selected.opacitySecondary.error=b),options:I(nb)},null,8,["modelValue","error","options"]),M(Fr,{ref_key:"colorTertiary",ref:l,name:"colorTertiary",label:"Tertiary Style",modelValue:p.selected.colorTertiary.value,"onUpdate:modelValue":y[10]||(y[10]=b=>p.selected.colorTertiary.value=b),error:p.selected.colorTertiary.error,"onUpdate:error":y[11]||(y[11]=b=>p.selected.colorTertiary.error=b),options:I(jX)},null,8,["modelValue","error","options"]),M(Fr,{ref_key:"opacityTertiary",ref:d,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:p.selected.opacityTertiary.value,"onUpdate:modelValue":y[12]||(y[12]=b=>p.selected.opacityTertiary.value=b),error:p.selected.opacityTertiary.error,"onUpdate:error":y[13]||(y[13]=b=>p.selected.opacityTertiary.error=b),options:I(nb)},null,8,["modelValue","error","options"])],64))}}),Zse=Ce({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close","scroll-to-updated"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Zt(wr()),i=hr(),{createBlogPost:s,updateBlogPost:o,deleteFilesOfBlogPost:a,toggleBlogPostVisibility:l}=i,{blogPosts:u}=Zt(i),c=se(),d=se(),h=se(),f=se(),p=()=>{var $,A,P,W,X,U,k,ne,ie,ve,ye,oe,K,Q,ue,Z,pe,_e,le;return{id:sg(),form:{content:{value:{title:(($=n.selected)==null?void 0:$.title)??"",description:((A=n.selected)==null?void 0:A.description)??"",descriptionFooter:((P=n.selected)==null?void 0:P.descriptionFooter)??"",coverImageUrl:((W=n.selected)==null?void 0:W.coverImageUrl)??"",timer:((X=n.selected)==null?void 0:X.timer)??null,countdown:((U=n.selected)==null?void 0:U.countdown)??null,table:((k=n.selected)==null?void 0:k.table)??"",sections:((ne=n.selected)==null?void 0:ne.sections)??[]},error:!1},styling:{value:{alignment:((ie=n.selected)==null?void 0:ie.alignment)??"center",colorPrimary:((ve=n.selected)==null?void 0:ve.colorPrimary)??"",colorSecondary:((ye=n.selected)==null?void 0:ye.colorSecondary)??"",colorTertiary:((oe=n.selected)==null?void 0:oe.colorTertiary)??"",opacityPrimary:((K=n.selected)==null?void 0:K.opacityPrimary)??"",opacitySecondary:((Q=n.selected)==null?void 0:Q.opacitySecondary)??"",opacityTertiary:((ue=n.selected)==null?void 0:ue.opacityTertiary)??""},error:!1},settings:{value:{locked:((Z=n.selected)==null?void 0:Z.locked)??!1,allowedUserIds:((pe=n.selected)==null?void 0:pe.allowedUserIds)??[],archived:((_e=n.selected)==null?void 0:_e.archived)??!1,datePinned:((le=n.selected)==null?void 0:le.datePinned)??null},error:!1}}}},m=Nn(p()),g=()=>{var $,A;return{id:m.id,date:(($=n.selected)==null?void 0:$.date)||new Date,dateUpdated:((A=n.selected)==null?void 0:A.dateUpdated)||new Date,...m.form.content.value,...m.form.styling.value,...m.form.settings.value,reactions:[]}},y=se(g()),b=ee(()=>Jn.Content.convert(y.value)),_=ee(()=>!!n.selected&&!us(Jn.Content.convert(Jn.convert(n.selected)),b.value)),w=ee(()=>Jn.Styling.convert(y.value)),T=ee(()=>!!n.selected&&!us(Jn.Styling.convert(Jn.convert(n.selected)),w.value)),S=ee(()=>Jn.Settings.convert(y.value)),O=ee(()=>!!n.selected&&!us(Jn.Settings.convert(Jn.convert(n.selected)),S.value)),R=ee(()=>{var $,A,P,W,X,U;return!!((A=($=n.selected)==null?void 0:$.allowedUserIds)!=null&&A.length)&&!((P=S.value.allowedUserIds)!=null&&P.length)||!((X=(W=n.selected)==null?void 0:W.allowedUserIds)!=null&&X.length)&&!!((U=S.value.allowedUserIds)!=null&&U.length)}),D=ee(()=>{const $=[];return _.value&&$.push("Content"),T.value&&$.push("Styling"),O.value&&$.push("Settings"),$.length?"Update "+aw($):void 0}),C=ee(()=>Ys(n.selected)),N=async()=>{var $,A,P,W,X;if(await Promise.all([d.value.test(),h.value.test(),f.value.test()]),!Tf(m.form))if(!n.selected)await s(m.id,y.value,($=r.value)==null?void 0:$.uid)&&(H("close"),H("scroll-to-updated",m.id));else if(R.value){const U=n.selected.id;H("close"),await l(U,Jn.convert(y.value),n.selected.reactions,y.value.allowedUserIds.length?"private":"public",(A=r.value)==null?void 0:A.uid)&&(qe.success("Successfully updated Post Visibility"),H("scroll-to-updated",U))}else{const U=n.selected.id;let k=[];_.value&&k.push(await o(U,b.value,C.value,(P=r.value)==null?void 0:P.uid)),T.value&&k.push(await o(U,w.value,C.value,(W=r.value)==null?void 0:W.uid)),O.value&&(k.push(await o(U,S.value,C.value,(X=r.value)==null?void 0:X.uid)),H("scroll-to-updated",U)),k=k.filter(ne=>typeof ne=="string"),k.length&&(qe.success(`Successfully updated Post ${aw(k)}`),H("close"))}},F=async()=>{a(y.value,n.selected??void 0),Object.assign(m,p()),H("close")};Ot(()=>n.selected,()=>{const $=p();m.id=$.id,m.form.content=$.form.content,m.form.styling=$.form.styling,m.form.settings=$.form.settings}),Ot(m,()=>{y.value=g()},{deep:!0});const H=e;return($,A)=>(E(),re(zT,{isOpen:$.isOpen,title:$.selected?"Update Post":"Create Post",description:$.selected?"Update this post":"Create a new post","confirm-text":$.selected?D.value:"Create","confirm-loading":I(u).mutationLoading,onConfirm:N,onCancel:F},{default:Y(()=>[v("form",{ref_key:"dialog",ref:c,class:"pt-6 mb-4 xl:px-16"},[$.isOpen?(E(),re(I(Kn),{key:0,"active-index":0},{default:Y(()=>[M(I(Ae),{header:"Content"},{default:Y(()=>[M(Bse,{ref_key:"content",ref:d,selected:m.form.content.value,"onUpdate:selected":A[0]||(A[0]=P=>m.form.content.value=P),"selected-blog-post":$.selected??void 0,"is-open":$.isOpen,onError:A[1]||(A[1]=P=>m.form.content.error=P)},null,8,["selected","selected-blog-post","is-open"])]),_:1}),M(I(Ae),{header:"Styling"},{default:Y(()=>[M(Jse,{ref_key:"styling",ref:h,selected:m.form.styling.value,"onUpdate:selected":A[2]||(A[2]=P=>m.form.styling.value=P),"selected-blog-post":$.selected??void 0,onError:A[3]||(A[3]=P=>m.form.styling.error=P)},null,8,["selected","selected-blog-post"])]),_:1}),M(I(Ae),{header:"Settings"},{default:Y(()=>[M(Qse,{ref_key:"settings",ref:f,selected:m.form.settings.value,"onUpdate:selected":A[4]||(A[4]=P=>m.form.settings.value=P),"selected-blog-post":$.selected??void 0,onError:A[5]||(A[5]=P=>m.form.settings.error=P)},null,8,["selected","selected-blog-post"])]),_:1})]),_:1})):q("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),eoe={key:0,class:"grid grid-cols-6 mb-5 gap-5"},toe={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},noe={class:"grid gap-4 md:gap-10 xl:gap-20"},roe={key:2,class:"flex justify-center mt-5"},ioe=Ce({__name:"BlogPosts",setup(t){const e=hr(),{deleteBlogPost:n,fetchBlogPosts:r,checkBlogPostsForUnreadReactions:i}=e,{blogPosts:s,visibleBlogPosts:o,blogReactions:a,databaseActionActive:l}=Zt(e),{isOwner:u,firebaseUser:c}=Zt(wr());let d=[];const h=se(),f=se(),p=se(!1),m=se(!1),g=se(null),y=se(),b=se(),_=()=>{g.value=null,p.value=!0},w=N=>{g.value=N,p.value=!0},T=N=>{g.value=N,m.value=!0},S=async N=>{await n(N)&&(m.value=!1,g.value=null)},O=()=>{p.value=!1,g.value=null},R=async N=>{var F;s.value.visibility!==N&&(s.value.visibility=N,s.value.isLastPage=!1,o.value.length||await r((F=c.value)==null?void 0:F.uid),Bp(h.value))},D=async()=>{var F;const N=o.value.length;await r((F=c.value)==null?void 0:F.uid),o.value[N]&&Bp(f.value[N])},C=N=>{N.metadata.hasPendingWrites||l.value||(clearTimeout(b.value),b.value=setTimeout(async()=>{var F;await r((F=c.value)==null?void 0:F.uid,{amount:o.value.length,loadingIndicator:!1}),i()},200))};return $t(()=>{a.value.unread=[],d.push(dd(Vt.blogPosts(!1),C)),d.push(dd(Vt.blogReactions(!1),C)),c.value?(d.push(dd(Vt.blogPosts(!0),C)),d.push(dd(Vt.blogReactions(!0),C))):s.value.visibility!=="public"&&(s.value.visibility="public")}),js(()=>{clearTimeout(b.value),d.forEach(N=>{N()})}),Ot(()=>{var N;return(N=f.value)==null?void 0:N.length},()=>{var N;if((N=f.value)!=null&&N.length&&y.value){const F=o.value.find(H=>H.id===y.value);if(F){const H=o.value.indexOf(F);Bp(f.value[H]),y.value=void 0}}}),(N,F)=>(E(),L(we,null,[v("div",{ref_key:"container",ref:h},[I(c)?(E(),L("div",eoe,[M(et,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"secondary",outlined:I(s).visibility!=="public",loading:I(s).fetchLoading,label:"Public Posts",onClick:F[0]||(F[0]=H=>R("public"))},null,8,["outlined","loading"]),I(u)?(E(),re(et,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",label:"New Post",onClick:_})):q("",!0),M(et,{class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",type:"secondary",outlined:I(s).visibility!=="private",loading:I(s).fetchLoading,label:"Private Posts",onClick:F[1]||(F[1]=H=>R("private"))},null,8,["outlined","loading"])])):q("",!0),I(c)?(E(),L("div",toe,[M(et,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"secondary",outlined:I(s).visibility!=="public",loading:I(s).fetchLoading,label:"Public Posts",onClick:F[2]||(F[2]=H=>R("public"))},null,8,["outlined","loading"]),M(et,{class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",type:"secondary",outlined:I(s).visibility!=="private",loading:I(s).fetchLoading,label:"Private Posts",onClick:F[3]||(F[3]=H=>R("private"))},null,8,["outlined","loading"])])):q("",!0),v("div",noe,[I(o).length?(E(!0),L(we,{key:0},nt(I(o),H=>(E(),L("div",{key:H.id,ref_for:!0,ref_key:"posts",ref:f},[M(fL,{post:H,onEditClicked:$=>w(H),onDeleteClicked:$=>T(H)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):I(s).fetchLoading?q("",!0):(E(),re(Un,{key:1,class:"!bg-red-900 !bg-opacity-40",title:"No posts"}))]),I(s).isLastPage?q("",!0):(E(),L("div",roe,[M(et,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:I(s).fetchLoading,label:"Load more posts",onClick:D},null,8,["loading"])]))],512),M(Zse,{isOpen:p.value,selected:g.value,onClose:O,onScrollToUpdated:F[4]||(F[4]=H=>y.value=H)},null,8,["isOpen","selected"]),g.value?(E(),re(zT,{key:0,title:"Delete Post",isOpen:m.value,description:[` Are you sure you want to delete this post called ' ${g.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:F[5]||(F[5]=H=>S(g.value.id)),onCancel:F[6]||(F[6]=H=>m.value=!1)},null,8,["isOpen","description"])):q("",!0)],64))}}),soe={class:"grid mt-10 md:mt-15"},ooe={class:"grid justify-center"},aoe={class:"text-lg md:text-xl text-white"},loe=["innerHTML"],uoe={class:"grid my-5 xl:mx-20"},coe=Ce({__name:"Blog",setup(t){const{publicUser:e}=Zt(wr()),{menuItems:n,content:r}=Zt(hr()),i=Fg(),s=ee(()=>{var o;return e.value?[...r.value.blogDescriptionUser.map(a=>a.replace("%USER%",e.value.displayName||"Unknown user")),...((o=n.value.find(a=>a.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:o.description)||[]]:r.value.blogDescriptionGuest});return(o,a)=>(E(),re(Sa,null,{content:Y(()=>[v("div",soe,[v("div",ooe,[(E(!0),L(we,null,nt(s.value,l=>(E(),L("h1",aoe,[v("span",{innerHTML:l},null,8,loe)]))),256))]),v("div",uoe,[I(i).params.postId?(E(),re(Wre,{key:0})):(E(),re(ioe,{key:1}))])])]),_:1}))}}),RA=Ce({__name:"Blog",setup(t){return(e,n)=>(E(),re(coe))}}),doe={class:"flex flex-col items-center content-center"},hoe=Ce({__name:"CatCalc",setup(t){const e=Nn({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"NVWA"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=ee(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(T,S)=>{const R=o[T].sort((H,$)=>H.weight-$.weight);let D=R[R.length-2].weight,C=R[R.length-2].calories,N=R[R.length-1].weight,F=R[R.length-1].calories;for(let H=0;H<R.length-1;H++)if(S>=R[H].weight&&S<=R[H+1].weight){D=R[H].weight,C=R[H].calories,N=R[H+1].weight,F=R[H+1].calories;break}return{x1:D,y1:C,x2:N,y2:F}},l=(T,S)=>{const{x1:O,y1:R,x2:D,y2:C}=a(T,S);return R+(S-O)*(C-R)/(D-O)},u=()=>{const T=new Map;for(const R of Object.values(o).filter(D=>D!==o.average))for(const{weight:D,calories:C}of R)T.has(D)||T.set(D,{sum:0,count:0}),T.get(D).sum+=C,T.get(D).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(R=>T.has(R)).map(R=>({weight:R,calories:T.get(R).sum/T.get(R).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5},{value:"yarrah_sterilized",label:"Yarrah Chicken sterilized (353kcal)",calories:353}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40},{value:"dried_fish",label:"Dried Fish (8kcal)",calories:8}],f=ee(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=ee(()=>{var T;return f.value*(((T=r.find(S=>S.value===e.catAge.value))==null?void 0:T.rerIndex)??1)}),m=ee(()=>{var T;return p.value*(((T=s.value.find(S=>S.value===e.catSize.value))==null?void 0:T.factor)??1)}),g=ee(()=>{const T=h.find(S=>S.value===e.catFoodSnax.value);return T!=null&&T.calories?m.value*(Number(e.catFoodSnaxPercentage.value)/100)/T.calories:void 0}),y=ee(()=>m.value*(1-Number(g.value?e.catFoodSnaxPercentage.value:0)/100)),b=ee(()=>{const T=d.find(S=>S.value===e.catFoodWet.value);return T!=null&&T.calories?y.value/4/T.calories*100:void 0}),_=ee(()=>y.value/4*(b.value?3:4)),w=ee(()=>{var T;return _.value/(((T=c.find(S=>S.value===e.catFoodDry.value))==null?void 0:T.calories)??c[0].calories)*100});return(T,S)=>(E(),re(Sa,null,{content:Y(()=>[M(Un,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:Y(()=>{var O;return[v("div",doe,[M(Fr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":S[0]||(S[0]=R=>e.calculator.value=R),error:e.calculator.error,"onUpdate:error":S[1]||(S[1]=R=>e.calculator.error=R),options:n,rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),M(ur,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":S[2]||(S[2]=R=>e.catWeigth.value=R),error:e.catWeigth.error,"onUpdate:error":S[3]||(S[3]=R=>e.catWeigth.error=R),rules:[I(Rt).Required,I(Rt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),M(Fr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":S[4]||(S[4]=R=>e.catAge.value=R),error:e.catAge.error,"onUpdate:error":S[5]||(S[5]=R=>e.catAge.error=R),options:r,rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),M(Fr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":S[6]||(S[6]=R=>e.catGender.value=R),error:e.catGender.error,"onUpdate:error":S[7]||(S[7]=R=>e.catGender.error=R),options:i,rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),M(Fr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":S[8]||(S[8]=R=>e.catSize.value=R),error:e.catSize.error,"onUpdate:error":S[9]||(S[9]=R=>e.catSize.error=R),options:s.value,rules:[I(Rt).Required]},null,8,["modelValue","error","options","rules"]),M(Un,{class:"w-full md:w-2/3 my-5 border border-neutral-400 !rounded-primary",description:"Required energy per day: "+m.value.toFixed(1)+" kcal"},null,8,["description"]),M(Fr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":S[10]||(S[10]=R=>e.catFoodDry.value=R),error:e.catFoodDry.error,"onUpdate:error":S[11]||(S[11]=R=>e.catFoodDry.error=R),options:c,rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),M(Fr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":S[12]||(S[12]=R=>e.catFoodWet.value=R),error:e.catFoodWet.error,"onUpdate:error":S[13]||(S[13]=R=>e.catFoodWet.error=R),options:d,rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),M(Fr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":S[14]||(S[14]=R=>e.catFoodSnax.value=R),error:e.catFoodSnax.error,"onUpdate:error":S[15]||(S[15]=R=>e.catFoodSnax.error=R),options:h,rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(E(),re(ur,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":S[16]||(S[16]=R=>e.catFoodSnaxPercentage.value=R),error:e.catFoodSnaxPercentage.error,"onUpdate:error":S[17]||(S[17]=R=>e.catFoodSnaxPercentage.error=R),rules:[I(Rt).Required,I(Rt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):q("",!0),M(Un,{class:"w-full md:w-2/3 my-5 border border-neutral-400 bg-primary-600 bg-opacity-25 !rounded-primary",title:"Result","sub-title":"Based on constants from "+((O=n.find(R=>R.value===e.calculator.value))==null?void 0:O.label),description:["Required dry food per day: "+w.value.toFixed(1)+" g","","","Required dry food per meal: "+(w.value/(b.value?2:3)).toFixed(1)+" g",...b.value?["Required wet food per day: "+b.value.toFixed(1)+" g"]:[],...g.value?["Allowed snacks per day: "+g.value.toFixed(g.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),foe=Ce({__name:"CatCalc",setup(t){return(e,n)=>(E(),re(hoe))}}),poe=""+new URL("images/customvoting/customvoting2.jpg",import.meta.url).href,JT=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},moe={},goe={class:"overflow-x-auto"},voe=FP('<table class="min-w-full"><tbody><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/vote</code><br><p class="text-neutral-300">shows you the votelinks</p><em>permission: customvoting.vote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/fakevote [player] [website]</code><br><p class="text-neutral-300">do a test or fake vote</p><em>permission: customvoting.fakevote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/setvotes &lt;amount&gt; [player]</code><br><p class="text-neutral-300">change someone&#39;s votes</p><em>permission: customvoting.votes.set</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/clearmonthlyvotes [player]</code><br><p class="text-neutral-300">reset someone&#39;s period votes</p><em>permission: customvoting.monthly</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votes [player]</code><br><p class="text-neutral-300">displays your or someone&#39;s current votes</p><em>permission: customvoting.votes[.others]</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votetop</code><br><p class="text-neutral-300">displays the top voters</p><em>permission: customvoting.votetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/voteparty start | create</code><br><p class="text-neutral-300">start the vote party or receive the vote party chest</p><em>permission: customvoting.voteparty</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votesettings</code><br><p class="text-neutral-300">a GUI based vote editor</p><em>permission: customvoting.settings</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votereload [cache]</code><br><p class="text-neutral-300">reload the configuration (and cache)</p><em>permission: customvoting.reload</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/createtop &lt;top&gt;</code><br><p class="text-neutral-300">create an NPC for this top voter!</p><em>permission: customvoting.createtop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/deletetop &lt;top&gt;</code><br><p class="text-neutral-300">delete the NPC of this top voter</p><em>permission: customvoting.deletetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/givecratekey &lt;player&gt; &lt;crateID&gt;</code><br><p class="text-neutral-300">give a crate key to a player</p><em>permission: customvoting.givekey</em></td></tr></tbody></table>',1),yoe=[voe];function boe(t,e){return E(),L("div",goe,yoe)}const woe=JT(moe,[["render",boe]]),_oe=v("br",null,null,-1),Toe=v("br",null,null,-1),Soe=v("ul",null,[v("li",null,"English/English"),v("li",null,"Deutsch/German"),v("li",null,"Nederlands/Dutch")],-1),Eoe=v("br",null,null,-1),Ioe=v("br",null,null,-1),Coe=v("ul",null,[v("li",null,"All Votes"),v("li",null,"Monthly Votes"),v("li",null,"Weekly Votes"),v("li",null,"Daily Votes")],-1),Ooe={class:"flex justify-center m-5"},Aoe=v("br",null,null,-1),koe=v("br",null,null,-1),Poe=v("br",null,null,-1),xoe=v("br",null,null,-1),Doe=v("br",null,null,-1),Roe=v("br",null,null,-1),Noe=v("br",null,null,-1),Moe=v("b",null,"settings.yml",-1),$oe=v("br",null,null,-1),Loe=v("br",null,null,-1),Foe=v("br",null,null,-1),Voe=v("br",null,null,-1),Uoe=v("br",null,null,-1),Boe=v("i",null,"sd_master92",-1),joe=v("i",null,".sd_master92",-1),Hoe=Ce({__name:"General",setup(t){return(e,n)=>(E(),re(I(Kn),null,{default:Y(()=>[M(I(Ae),{header:"Language"},{default:Y(()=>[B(" Change the plugin language "),_oe,Toe,B(" Options: "),Soe]),_:1}),M(I(Ae),{header:"Vote Top Sorting"},{default:Y(()=>[B(" Change who is the top voter of the moment "),Eoe,Ioe,B(" Options: "),Coe,v("div",Ooe,[M(ra,{src:"/images/customvoting/vote_top.png"})])]),_:1}),M(I(Ae),{header:"Sound Effects"},{default:Y(()=>[B(" Enable/disable sound effects (from CustomVoting) ")]),_:1}),M(I(Ae),{header:"Firework"},{default:Y(()=>[B(" Enable/disable firework effects ")]),_:1}),M(I(Ae),{header:"Disabled Worlds"},{default:Y(()=>[B(" Enable/disable players from receiving rewards in specific worlds ")]),_:1}),M(I(Ae),{header:"Danger Zone"},{default:Y(()=>[B(" Settings you shouldn't touch without knowing what it does "),M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"UUID Storage"},{default:Y(()=>[B(" Enable/disable UUID Storage "),Aoe,B(" Turn on if: you are running a cracked (non-premium) Minecraft server "),koe,Poe,B(" This settings means that your players will be identified by their playername. It is adviced to password protect these kind of servers, to prevent duplicate playernames from joining your server. ")]),_:1}),M(I(Ae),{header:"Database"},{default:Y(()=>[B(" Enable/disable the usage of a database instead of data files "),xoe,Doe,B(" Useful if you want to share your CustomVoting data across multiple subservers. "),Roe,Noe,B(" Restart or reload the server after changing. Note that you need to setup your database connection in the "),Moe,B(" file. ")]),_:1}),M(I(Ae),{header:"Merge duplicates"},{default:Y(()=>[B(" Merge playerfiles that are duplicate "),$oe,Loe,B(" This command is dangerous, as it deleted playerfiles or database rows from players who have the same username. ")]),_:1}),M(I(Ae),{header:"Prefix Support"},{default:Y(()=>[B(" Enable prefix support for player usernames "),Foe,Voe,B(" This setting is required when you're hosting a server with software that adds a prefix in front of your player's usernames. "),Uoe,B(" For example Gesyer adds a dot in front of a username: "),Boe,B(" will become "),joe]),_:1})]),_:1})]),_:1}),M(I(Ae),{header:"Process Vote Delay"},{default:Y(()=>[B(" Delay the rewards from being given after a player has voted ")]),_:1})]),_:1}))}}),Woe={class:"flex justify-center m-5"},Koe=v("br",null,null,-1),zoe=v("br",null,null,-1),Goe=v("ul",null,[v("li",null,"All Items"),v("li",null,"Random Item")],-1),Yoe=v("br",null,null,-1),qoe=v("br",null,null,-1),Xoe=v("b",null,"Vault",-1),Qoe=v("b",null,"EssentialsX",-1),Joe=v("br",null,null,-1),Zoe=v("br",null,null,-1),eae=v("b",null,"/votesettings",-1),tae=v("i",null,"forbidden_commands",-1),nae=v("b",null,"settings.yml",-1),rae=v("br",null,null,-1),iae=v("br",null,null,-1),sae={class:"flex justify-center m-5"},oae=v("br",null,null,-1),aae=v("br",null,null,-1),lae=v("ul",null,[v("li",null,"All Items"),v("li",null,"Random Item")],-1),uae=v("br",null,null,-1),cae=v("br",null,null,-1),dae=v("b",null,"Vault",-1),hae=v("b",null,"EssentialsX",-1),fae=v("br",null,null,-1),pae=v("br",null,null,-1),mae=v("b",null,"/votesettings",-1),gae=v("i",null,"forbidden_commands",-1),vae=v("b",null,"settings.yml",-1),yae=v("br",null,null,-1),bae=v("br",null,null,-1),wae=v("b",null,"Power Rewards",-1),_ae=v("br",null,null,-1),Tae=v("br",null,null,-1),Sae=v("b",null,"Vault",-1),Eae=v("b",null,"LuckPerms",-1),Iae=v("b",null,"Power Rewards",-1),Cae=v("br",null,null,-1),Oae=v("br",null,null,-1),Aae=v("b",null,"Enabled Groups",-1),kae=v("br",null,null,-1),Pae=v("br",null,null,-1),xae=v("b",null,"/votesettings",-1),Dae=v("i",null,"forbidden_commands",-1),Rae=v("b",null,"settings.yml",-1),Nae=v("br",null,null,-1),Mae=v("br",null,null,-1),$ae=v("b",null,"Vault",-1),Lae=v("b",null,"LuckPerms",-1),Fae=v("br",null,null,-1),Vae=v("br",null,null,-1),Uae=v("b",null,"/votesettings",-1),Bae=v("i",null,"forbidden_commands",-1),jae=v("b",null,"settings.yml",-1),Hae=v("br",null,null,-1),Wae=v("br",null,null,-1),Kae=v("b",null,"Vault",-1),zae=v("b",null,"LuckPerms",-1),Gae=v("b",null,"Vote Party",-1),Yae=v("br",null,null,-1),qae=v("br",null,null,-1),Xae=v("ul",null,[v("li",null,[B(" Random Chest at a Time"),v("br"),v("i",null,[B("The items drop out of your "),v("b",null,"Vote Party"),B(" chests one by one, in random order")])]),v("br"),v("li",null,[B(" All Chests at Once"),v("br"),v("i",null,[B("The items drop out of your "),v("b",null,"Vote Party"),B(" chests one by one, concurrently")])]),v("br"),v("li",null,[B(" One Chest at a Time"),v("br"),v("i",null,[B("The items drop out of your "),v("b",null,"Vote Party"),B(" chests one by one, in sequence")])]),v("br"),v("li",null,[B(" Add To Inventory"),v("br"),v("i",null,[B("The items from your "),v("b",null,"Vote Party"),B(" chests are given in your players' inventories one by one, in a random order ")])]),v("br"),v("li",null,[B(" Explode Chests"),v("br"),v("i",null,[B("The items drop out of your "),v("b",null,"Vote Party"),B(" one chest at a time, in random order")])]),v("br"),v("li",null,[B(" Scary"),v("br"),v("i",null,[B("Similar to the "),v("b",null,"Explode Chests"),B(" variant, but a little scarrier")])]),v("br"),v("li",null,[B(" Pig Hunt"),v("br"),v("i",null,"This time, your chests run away! Kill the pigs to receive the rewards.")]),v("br"),v("li",null,[B(" Locked Crates"),v("br"),v("i",null,"The chests can be claimed by a single player. Fun as a hide-and-seek variant!")]),v("br"),v("li",null,"Randomly (one of the above)")],-1),Qae=v("b",null,"Vote Party",-1),Jae=v("br",null,null,-1),Zae=v("br",null,null,-1),ele=v("b",null,"/votesettings",-1),tle=v("i",null,"forbidden_commands",-1),nle=v("b",null,"settings.yml",-1),rle=v("b",null,"Vote Party",-1),ile=v("br",null,null,-1),sle=v("br",null,null,-1),ole=v("b",null,"Vote Party",-1),ale=v("i",null,"Pig Hunt",-1),lle=v("b",null,"Vote Party",-1),ule=v("i",null,"Pig Hunt",-1),cle=v("b",null,"Crate",-1),dle=v("b",null,"Crate",-1),hle=v("br",null,null,-1),fle=v("br",null,null,-1),ple=v("br",null,null,-1),mle=v("br",null,null,-1),gle=v("br",null,null,-1),vle=v("br",null,null,-1),yle=v("ul",null,[v("li",null,"50%"),v("li",null,"25%"),v("li",null,"10%"),v("li",null,"5%"),v("li",null,"1%"),v("li",null,"No prize (9%)")],-1),ble=v("b",null,"Crate",-1),wle=Ce({__name:"Rewards",setup(t){return(e,n)=>(E(),re(I(Kn),null,{default:Y(()=>[M(I(Ae),{header:"Vote Rewards"},{default:Y(()=>[B(" Default rewards for your players "),M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"Item Rewards"},{default:Y(()=>[B(" Place items in this inventory to set as item rewards "),v("div",Woe,[M(ra,{src:"/images/customvoting/item_rewards.png"})])]),_:1}),M(I(Ae),{header:"Item Reward Type"},{default:Y(()=>[B(" Define how many items a player receives "),Koe,zoe,B(" Options: "),Goe]),_:1}),M(I(Ae),{header:"Money Reward"},{default:Y(()=>[B(" Define how much ingame currency a player receives "),Yoe,qoe,B(" This requires "),Xoe,B(" and a Vault-supported currency plugin to be setup. E.g. "),Qoe,B(". ")]),_:1}),M(I(Ae),{header:"XP Reward"},{default:Y(()=>[B(" Define how much Minecraft experience a player receives ")]),_:1}),M(I(Ae),{header:"Command Rewards"},{default:Y(()=>[B(" You can choose what commands need to be run when a player has voted "),Joe,Zoe,B(" Keep in mind that this feature can be abused by moderators who have access to the "),eae,B(" command. For this reason it is possible to setup "),tae,B(" in the "),nae,B(". ")]),_:1}),M(I(Ae),{header:"Double Rewards (coming soon!)",pt:{header:{class:"text-yellow-500"}}},{default:Y(()=>[B(" Setup days with double rewards "),rae,iae]),_:1})]),_:1})]),_:1}),M(I(Ae),{header:"Power Rewards"},{default:Y(()=>[B(" Alternative vote rewards for VIP's "),M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"Item Rewards"},{default:Y(()=>[B(" Place items in this inventory to set as item rewards "),v("div",sae,[M(ra,{src:"/images/customvoting/item_rewards.png"})])]),_:1}),M(I(Ae),{header:"Item Reward Type"},{default:Y(()=>[B(" Define how many items a player receives "),oae,aae,B(" Options: "),lae]),_:1}),M(I(Ae),{header:"Money Reward"},{default:Y(()=>[B(" Define how much ingame currency a player receives "),uae,cae,B(" This requires "),dae,B(" and a Vault-supported currency plugin to be setup. E.g. "),hae,B(". ")]),_:1}),M(I(Ae),{header:"XP Reward"},{default:Y(()=>[B(" Define how much Minecraft experience a player receives ")]),_:1}),M(I(Ae),{header:"Command Rewards"},{default:Y(()=>[B(" You can choose what commands need to be run when a player has voted "),fae,pae,B(" Keep in mind that this feature can be abused by moderators who have access to the "),mae,B(" command. For this reason it is possible to setup "),gae,B(" in the "),vae,B(". ")]),_:1}),M(I(Ae),{header:"Double Rewards (coming soon!)",pt:{header:{class:"text-yellow-500"}}},{default:Y(()=>[B(" Setup days with double rewards "),yae,bae]),_:1}),M(I(Ae),{header:"Enabled Groups"},{default:Y(()=>[B(" What permission-groups have access to the "),wae,B("? "),_ae,Tae,B(" This only works in combination with "),Sae,B(" and a Vault-supported permissions plugin. E.g. "),Eae,B(". ")]),_:1}),M(I(Ae),{header:"Enabled Users"},{default:Y(()=>[B(" Who has access to the "),Iae,B("? "),Cae,Oae,B(" This setting overrides the "),Aae,B(" setting. ")]),_:1})]),_:1})]),_:1}),M(I(Ae),{header:"Lucky Rewards"},{default:Y(()=>[B(" Rewards for lucky players "),M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"Lucky Vote"},{default:Y(()=>[B(" Enable/disable lucky voting ")]),_:1}),M(I(Ae),{header:"Item Rewards"},{default:Y(()=>[B(" Place items in this inventory to set as item rewards ")]),_:1}),M(I(Ae),{header:"Chance"},{default:Y(()=>[B(" Set the chance percentage (%) for receiving a lucky reward ")]),_:1})]),_:1})]),_:1}),M(I(Ae),{header:"Milestones"},{default:Y(()=>[B(" Rewards given when a player reaches a certain amount of votes "),M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"Item Rewards"},{default:Y(()=>[B(" Place items in this inventory to set as item rewards ")]),_:1}),M(I(Ae),{header:"Command Rewards"},{default:Y(()=>[B(" You can choose what commands need to be run when a player has voted "),kae,Pae,B(" Keep in mind that this feature can be abused by moderators who have access to the "),xae,B(" command. For this reason it is possible to setup "),Dae,B(" in the "),Rae,B(". ")]),_:1}),M(I(Ae),{header:"Permission Rewards"},{default:Y(()=>[B(" Define what permissions are given to a player after voting"),Nae,Mae,B(" This only works in combination with "),$ae,B(" and a Vault-supported permissions plugin. E.g. "),Lae,B(". ")]),_:1})]),_:1})]),_:1}),M(I(Ae),{header:"Streaks"},{default:Y(()=>[B(" Rewards given when a player votes x days in a row "),M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"Require Consecutive Streak"},{default:Y(()=>[B(" Does the player need to vote every day, or can the player continue his streak on a later moment as well? ")]),_:1}),M(I(Ae),{header:"Item Rewards"},{default:Y(()=>[B(" Place items in this inventory to set as item rewards ")]),_:1}),M(I(Ae),{header:"Command Rewards"},{default:Y(()=>[B(" You can choose what commands need to be run when a player has voted "),Fae,Vae,B(" Keep in mind that this feature can be abused by moderators who have access to the "),Uae,B(" command. For this reason it is possible to setup "),Bae,B(" in the "),jae,B(". ")]),_:1}),M(I(Ae),{header:"Permission Rewards"},{default:Y(()=>[B(" Define what permissions are given to a player after voting"),Hae,Wae,B(" This only works in combination with "),Kae,B(" and a Vault-supported permissions plugin. E.g. "),zae,B(". ")]),_:1})]),_:1})]),_:1}),M(I(Ae),{header:"Vote Party"},{default:Y(()=>[B(" Chests with possibilities "),M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"Vote Party"},{default:Y(()=>[B(" Enable/disable the "),Gae]),_:1}),M(I(Ae),{header:"Party Type"},{default:Y(()=>[B(" What type of party do you want to organize? "),Yae,qae,B(" Options: "),Xae]),_:1}),M(I(Ae),{header:"Vote Party Commands"},{default:Y(()=>[B(" You can choose what commands need to be run when the "),Qae,B(" has started "),Jae,Zae,B(" Keep in mind that this feature can be abused by moderators who have access to the "),ele,B(" command. For this reason it is possible to setup "),tle,B(" in the "),nle,B(". ")]),_:1}),M(I(Ae),{header:"Votes Required"},{default:Y(()=>[B(" The amount of votes on your server that are required to start the "),rle,ile,sle,B(" The count resets once the party has started. ")]),_:1}),M(I(Ae),{header:"Chests"},{default:Y(()=>[B(" Place items in this inventory to set as item rewards ")]),_:1}),M(I(Ae),{header:"Pig Hunt Health"},{default:Y(()=>[B(" The amount of lives a pig has in the "),ole,B(" type "),ale]),_:1}),M(I(Ae),{header:"Pig Hunt Max-Damage"},{default:Y(()=>[B(" The amount of lives a pig can take from a player in the "),lle,B(" type "),ule]),_:1})]),_:1})]),_:1}),M(I(Ae),{header:"Crates"},{default:Y(()=>[B(" Special chest that give the player one item after opening it "),M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"Change Name"},{default:Y(()=>[B(" Change the name of this "),cle]),_:1}),M(I(Ae),{header:"Get Key/Crate"},{default:Y(()=>[B(" You will be given a "),dle,B(" key "),hle,fle,B(" This key can be used to set the crate location, or to open a crate. ")]),_:1}),M(I(Ae),{header:"Item Rewards"},{default:Y(()=>[B(" Place items in this inventory to set as item rewards "),ple,mle,B(" Note the chance percentage of each inventory. "),gle,vle,B(" Options: "),yle]),_:1}),M(I(Ae),{header:"Always Reward"},{default:Y(()=>[B(" Is it possible that a player receives no reward? ")]),_:1}),M(I(Ae),{header:"Allow Crate Close"},{default:Y(()=>[B(" Can the "),ble,B(" animation be skipped? ")]),_:1})]),_:1})]),_:1})]),_:1}))}}),_le=v("br",null,null,-1),Tle=v("br",null,null,-1),Sle=v("b",null,"Vote Top",-1),Ele=v("br",null,null,-1),Ile=v("br",null,null,-1),Cle=v("i",null,"disabled_worlds",-1),Ole=v("b",null,"settings.yml",-1),Ale=v("br",null,null,-1),kle=v("br",null,null,-1),Ple=v("b",null,"Vote Site",-1),xle=v("br",null,null,-1),Dle=v("br",null,null,-1),Rle=v("ul",null,[v("li",null,[B(" Right Click"),v("br"),v("i",null,[B("Edit a "),v("b",null,"Vote Site"),B(" - the editor will open")])]),v("li",null,[B(" Left Click (with an item)"),v("br"),v("i",null,[B("Change a "),v("b",null,"Vote Site"),B("'s type")])]),v("li",null,[B(" Drag"),v("br"),v("i",null,[B("Move a "),v("b",null,"Vote Site"),B(" to another position")])]),v("li",null,[B(" Cursor Click"),v("br"),v("i",null,[B("Disable a "),v("b",null,"Vote Site")])])],-1),Nle=v("br",null,null,-1),Mle=v("br",null,null,-1),$le=v("b",null,"/vote",-1),Lle={class:"flex justify-center m-5"},Fle={class:"flex justify-center m-5"},Vle=v("br",null,null,-1),Ule=v("br",null,null,-1),Ble=v("i",null,"vote_command_override",-1),jle=v("b",null,"messages.yml",-1),Hle=v("b",null,"Vote Site Inventory",-1),Wle=v("br",null,null,-1),Kle=v("br",null,null,-1),zle=v("b",null,"/votes",-1),Gle={class:"flex justify-center m-5"},Yle=Ce({__name:"Messages",setup(t){return(e,n)=>(E(),re(I(Kn),null,{default:Y(()=>[M(I(Ae),{header:"Vote Broadcast"},{default:Y(()=>[B(" Toggle the 'player has voted' message ")]),_:1}),M(I(Ae),{header:"Milestone Broadcast"},{default:Y(()=>[B(" Toggle the 'player has reached milestone x' message ")]),_:1}),M(I(Ae),{header:"Streak Broadcast"},{default:Y(()=>[B(" Toggle the 'player hit votestreak x' message ")]),_:1}),M(I(Ae),{header:"Vote Party Votes Broadcast"},{default:Y(()=>[B(" Toggle the 'x votes left until the Vote Party' message ")]),_:1}),M(I(Ae),{header:"Vote Party Count Broadcast"},{default:Y(()=>[B(" Toggle the 'Vote Party starting in x seconds' message ")]),_:1}),M(I(Ae),{header:"Vote Party Count Ending Broadcast"},{default:Y(()=>[B(" Toggle the 'Vote Party starting in x' message ")]),_:1}),M(I(Ae),{header:"Break Armorstand Message"},{default:Y(()=>[B(" Toggle the 'don't break me' message"),_le,Tle,B(" This message is triggered if a player tries to break a "),Sle,B(". ")]),_:1}),M(I(Ae),{header:"Disabled World Message"},{default:Y(()=>[B(" Toggle the 'you can't vote in this world' message"),Ele,Ile,B(" This message is triggered if a player tries to vote in a world that is disabled in "),Cle,B(" in the "),Ole,B(". ")]),_:1}),M(I(Ae),{header:"Hourly Vote Reminder"},{default:Y(()=>[B(" Toggle the 'you haven't voted yet' message ")]),_:1}),M(I(Ae),{header:"Vote Sites"},{default:Y(()=>[B(" Here you can configure your server's vote sites "),Ale,kle,B(" Note: a "),Ple,B(" become available after voting a first time. "),xle,Dle,B(" Actions: "),Rle]),_:1}),M(I(Ae),{header:"Vote Site Inventory"},{default:Y(()=>[B(" Whether a player sees your vote sites in an inventory/GUI, or as a text message "),Nle,Mle,B(" This action is triggered with "),$le,B(". "),v("div",Lle,[M(ra,{src:"/images/customvoting/vote_command_gui.png"})]),v("div",Fle,[M(ra,{src:"/images/customvoting/vote_command_chat.png"})])]),_:1}),M(I(Ae),{header:"Vote Command Override"},{default:Y(()=>[B(" Show auto-generated vote sites to the player or use your own message? "),Vle,Ule,B(" Your own message can be setup at "),Ble,B(" in the "),jle,B(". This option is only available if "),Hle,B(" is disabled. ")]),_:1}),M(I(Ae),{header:"Vote Dashboard"},{default:Y(()=>[B(" Whether a player sees their vote stats in an inventory/GUI, or as a text message "),Wle,Kle,B(" This action is triggered with "),zle,B(". "),v("div",Gle,[M(ra,{src:"/images/customvoting/vote_dashboard.png"})])]),_:1})]),_:1}))}}),qle=v("br",null,null,-1),Xle=v("br",null,null,-1),Qle=v("a",{href:"https://discord.gg/v3qmJu7jWD",target:"_blank"}," Discord server ",-1),Jle=v("br",null,null,-1),Zle=v("br",null,null,-1),eue=v("br",null,null,-1),tue=v("br",null,null,-1),nue=v("ul",null,[v("li",null,"sd_master92"),v("li",null,"Dutchbeard"),v("li",null,"Smirren"),v("li",null,"King_Tom_94")],-1),rue=v("b",null,"CustomVoting",-1),iue=v("br",null,null,-1),sue=v("br",null,null,-1),oue=v("span",{class:"text-green-500"},"Green",-1),aue=v("span",{class:"text-red-500"},"red",-1),lue=v("b",null,"CustomVoting",-1),uue=v("b",null,"CustomVoting",-1),cue=Ce({__name:"Support",setup(t){return(e,n)=>(E(),re(I(Kn),null,{default:Y(()=>[M(I(Ae),{header:"Up to date?"},{default:Y(()=>[B(" Whether or not this plugin is up to date "),qle,Xle,B(" The current version is also shown. ")]),_:1}),M(I(Ae),{header:"Ingame Updates"},{default:Y(()=>[B(" Will operators receive a message about an available update from time to time? ")]),_:1}),M(I(Ae),{header:"Discord"},{default:Y(()=>[B(" A link to the "),Qle,Jle,Zle,B(" Here you are welcome to ask for support ")]),_:1}),M(I(Ae),{header:"Supporters"},{default:Y(()=>[B(" Who made this plugin possible, and who bought me a coffee? "),eue,tue,nue]),_:1}),M(I(Ae),{header:"Player Info"},{default:Y(()=>[B(" View all voting statistics about your players ")]),_:1}),M(I(Ae),{header:"Statistics"},{default:Y(()=>[M(I(Kn),null,{default:Y(()=>[M(I(Ae),{header:"Top vote sites"},{default:Y(()=>[B(" A list of the most popular voting sites of "),rue,B(" users at this moment "),iue,sue,oue,B(" sites have been setup on your own server, "),aue,B(" sites have not yet been setup. ")]),_:1}),M(I(Ae),{header:"Minecraft Version"},{default:Y(()=>[B(" A list of the most popular Minecraft versions of "),lue,B(" users at this moment ")]),_:1}),M(I(Ae),{header:"Country"},{default:Y(()=>[B(" A list of the most popular countries of "),uue,B(" users at this moment ")]),_:1})]),_:1})]),_:1})]),_:1}))}}),due=Ce({__name:"VoteSettings",setup(t){return(e,n)=>(E(),re(I(Kn),null,{default:Y(()=>[M(I(Ae),{header:"General"},{default:Y(()=>[M(Hoe)]),_:1}),M(I(Ae),{header:"Rewards"},{default:Y(()=>[M(wle)]),_:1}),M(I(Ae),{header:"Messages"},{default:Y(()=>[M(Yle)]),_:1}),M(I(Ae),{header:"Support"},{default:Y(()=>[M(cue)]),_:1})]),_:1}))}}),hn=t=>(m1("data-v-e9349312"),t=t(),g1(),t),hue={class:"flex flex-wrap"},fue={class:"w-full md:w-fit"},pue=hn(()=>v("img",{class:"w-32 h-32 md:w-48 md:h-48 rounded-full animation-scale my-4 cursor-pointer",src:poe,alt:"customvoting"},null,-1)),mue=hn(()=>v("div",{class:"w-full md:w-fit md:ms-10 flex justify-start"},[v("div",{class:"place-self-center"},[v("h1",{class:"text-title-primary"},"CustomVoting"),v("h2",{class:"text-title-tertiary"},"Everything you need to setup voting for your server.")])],-1)),gue={class:"flex justify-center"},vue=hn(()=>v("p",{class:"mt-3 description-with-bolds text-neutral-200"},[B(" The main focus of this plugin is being "),v("b",null,"easy to setup"),B(" and "),v("b",null,"not"),B(" being "),v("b",null,"overcomplicated"),B(" to use, but still being "),v("b",null,"highly customizable"),B("! ")],-1)),yue={class:"flex justify-center"},bue={class:"ms-10 mt-10 w-full xl:w-2/3"},wue=hn(()=>v("h3",{class:"text-title-secondary mb-2"},"Contents",-1)),_ue={class:"flex justify-center"},Tue={class:"flex"},Sue={class:"w-full md:w-1/2"},Eue={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},Iue={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},Cue={class:"flex justify-center"},Oue={class:"w-full md:w-1/2 mt-10 flex justify-center flex-wrap gap-1 md:gap-2 font-bold"},Aue={class:"flex justify-end"},kue={class:"w-full md:w-1/2 mt-10 flex justify-end flex-wrap gap-1 md:gap-2 font-bold"},Pue={class:"flex justify-center"},xue={class:"mt-3"},Due={class:"flex justify-center m-5"},Rue={class:"flex justify-center"},Nue=hn(()=>v("div",{class:"mt-3"},[B(" Requirements "),v("br"),v("br"),v("ul",null,[v("li",null,[v("span",{class:"text-green-500"},[v("b",null,"Minecraft")]),B(" 1.14 or higher ")]),v("li",null,[v("span",{class:"text-cyan-400"},[v("b",null,"NuVotifier")]),B(" or "),v("span",{class:"text-cyan-400"},[v("b",null,"Votifier")])])])],-1)),Mue={class:"mt-10"},$ue=hn(()=>v("br",null,null,-1)),Lue=hn(()=>v("br",null,null,-1)),Fue=hn(()=>v("li",null,[v("b",{class:"text-orange-400"},"PlaceholderAPI")],-1)),Vue=hn(()=>v("div",{class:""},[v("p",null,[B("%CV_SERVER_VOTES% "),v("span",{class:"text-neutral-400"},"// total server votes")]),v("p",null,[B("%CV_PLAYER_VOTES% "),v("span",{class:"text-neutral-400"},"// your votes")]),v("p",null,[B("%CV_PLAYER_VOTES_MONTHLY% "),v("span",{class:"text-neutral-400"},"// your monthly votes")]),v("p",null,[B("%CV_PLAYER_VOTES_WEEKLY% "),v("span",{class:"text-neutral-400"},"// your weekly votes")]),v("p",null,[B("%CV_PLAYER_VOTES_DAILY% "),v("span",{class:"text-neutral-400"},"// your daily votes")]),v("p",null,[B("%CV_PLAYER_STREAK_DAILY% "),v("span",{class:"text-neutral-400"},"// your streak days")]),v("br"),v("p",null,[B("%CV_PLAYER_VOTES_1% "),v("span",{class:"text-neutral-400"},"// top voter 1's votes")]),v("p",null,[B("%CV_PLAYER_VOTES_1_NAME% "),v("span",{class:"text-neutral-400"},"// top voter 1's name")]),v("p",null,[B(" %CV_PLAYER_VOTES_1_MONTHLY% "),v("span",{class:"text-neutral-400"},"// top voter 1's monthly votes")]),v("p",null,[B(" %CV_PLAYER_VOTES_1_WEEKLY% "),v("span",{class:"text-neutral-400"},"// top voter 1's weekly votes")]),v("p",null,[B("%CV_PLAYER_VOTES_1_DAILY% "),v("span",{class:"text-neutral-400"},"// top voter 1's daily votes")]),v("p",{class:"text-neutral-300"},"You can use as many numbers as you like"),v("p",{class:"text-neutral-300"}," The top voters are sorted by month or all-time according to your 'Monthly Period' setting. (Default is all-time) "),v("br"),v("p",null,[B(" %CV_VOTE_PARTY_TOTAL% "),v("span",{class:"text-neutral-400"},"// total of votes required for a voteparty.")]),v("p",null,[B("%CV_VOTE_PARTY_CURRENT% "),v("span",{class:"text-neutral-400"},"// votes current period.")]),v("p",null,[B(" %CV_VOTE_PARTY_UNTIL% "),v("span",{class:"text-neutral-400"},"// votes left until the voteparty.")])],-1)),Uue=hn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Vault")],-1)),Bue=hn(()=>v("i",null,"Connect with a Vault-supported currency or permissions plugin",-1)),jue=hn(()=>v("br",null,null,-1)),Hue=hn(()=>v("br",null,null,-1)),Wue=hn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Citizens")],-1)),Kue=hn(()=>v("i",null,"Showcase your top voters with reallife NPC's!",-1)),zue=hn(()=>v("br",null,null,-1)),Gue=hn(()=>v("br",null,null,-1)),Yue=hn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Multiverse-Core")],-1)),que=hn(()=>v("i",null,"Disable players from voting in certain custom worlds.",-1)),Xue={class:"flex justify-center"},Que=hn(()=>v("p",{class:"mt-3"},[B(" Reference: "),v("a",{class:"underline hover:no-underline",href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/plugin.yml",target:"_blank"}," plugin.yml ")],-1)),Jue={class:"flex justify-center"},Zue=hn(()=>v("div",{class:"flex md:justify-center md:text-center mb-15"},[v("div",null,[v("h4",{class:"w-full text-title-tertiary text-primary-500"},"Basic Setup"),v("ol",{class:"w-full mt-3"},[v("li",{class:"mb-3"},[B(" Download and install "),v("a",{href:"https://www.spigotmc.org/resources/nuvotifier.13449/",target:"_blank"},[v("b",{class:"underline hover:no-underline"},"(Nu)Votifier")])]),v("li",{class:"mb-3"},[v("a",{href:"https://minestatus.net/tools/votifier",target:"_blank"},[v("b",{class:"underline hover:no-underline"},"Test")]),B(" NuVotifier ")]),v("li",{class:"mb-3"},[B(" Download and install "),v("a",{href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[v("b",{class:"underline hover:no-underline"},"CustomVoting")])]),v("li",null,"Vote from your favorite website"),v("i",null,[B("You should now see a "),v("b",null,"Vote Site"),B(" when you open "),v("b",null,"/votes")])])])],-1)),ece=hn(()=>v("div",{class:"mt-3 mb-20 flex flex-wrap justify-between"},[v("div",{class:"w-full md:w-1/2 md:text-center"},[v("h4",{class:"text-title-tertiary text-primary-500"},"Single Server"),v("ol",{class:"mt-3",start:"5"},[v("li",{class:"mb-3"},[B("Customize in "),v("b",null,"/votesettings"),B(", enjoy!")])])]),v("div",{class:"w-full md:w-1/2 md:text-center"},[v("h4",{class:"text-title-tertiary text-primary-500"},"Server Network"),v("ol",{class:"mt-3",start:"5"},[v("li",{class:"mb-3"},[B("Configure "),v("b",null,"NuVotifier"),B(" to be a vote forwarder to your subservers")]),v("li",{class:"mb-3"},[B("Connect to your database at "),v("i",null,"database"),B(" in "),v("b",null,"settings.yml")]),v("li",{class:"mb-3"},[B("Customize in "),v("b",null,"/votesettings"),B(", enjoy!")])])])],-1)),tce=hn(()=>v("p",{class:"mt-3"},[B(" Settings: "),v("a",{class:"underline hover:no-underline",href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/settings.yml",target:"_blank"}," settings.yml ")],-1)),nce=hn(()=>v("p",{class:"mt-3"},[B(" Messages and placeholders: "),v("a",{class:"underline hover:no-underline",href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/messages.yml",target:"_blank"}," messages.yml ")],-1)),rce={class:"flex justify-center"},ice=hn(()=>v("div",{class:"mt-10 flex flex-col gap-5"},[v("div",null,[B(" Download "),v("b",null,"CustomVoting"),B(" on "),v("a",{class:"underline hover:no-underline text-yellow-400",href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[v("b",null," SpigotMC ")]),v("br"),v("i",{class:"text-neutral-500"}," Are you enjoying my plugin? Please leave a review! ")]),v("div",null,[B(" Find support on our "),v("a",{class:"underline hover:no-underline text-blue-400",href:"https://discord.gg/v3qmJu7jWD",target:"_blank"},[v("b",null," Discord ")]),B(" server "),v("br"),v("i",{class:"text-neutral-500"}," Note that responses may take up to 7 days. This chat is most active in the weekends. ")]),v("div",null,[B(" CustomVoting uses server data collection! "),v("br"),B(" Find us on "),v("a",{class:"underline hover:no-underline text-cyan-500",href:"https://bstats.org/plugin/bukkit/CustomVoting/13544",target:"_blank"},[v("b",null," BStats ")]),v("br"),v("i",{class:"text-neutral-500"},"This is completely optional and configured in your plugins/PluginMetrics folder.")]),v("div",null,[v("b",null,"CustomVoting"),B(" is open source. "),v("br"),B(" Find out more on "),v("a",{class:"underline hover:no-underline text-fuchsia-500",href:"https://github.com/sanderderks/CustomVoting",target:"_blank"},[v("b",null," GitHub ")]),v("br"),v("i",{class:"text-neutral-500"},"Open source means you can view and edit the source code.")])],-1)),sce={class:"flex justify-center"},oce=hn(()=>v("p",{class:"text-neutral-300"},[B(" Are you unable to live your life without this plugin? "),v("br"),B(" Consider a donation to show your appreciation and motivate further development: "),v("a",{href:"https://www.paypal.com/donate/?hosted_button_id=75EUKGW7K54JY"},[v("b",null,"PayPal")])],-1)),ace=Ce({__name:"CustomVoting",setup(t){const e=n=>{const r=document.getElementById(n);r==null||r.scrollIntoView({behavior:"smooth",block:"center"})};return(n,r)=>{const i=wn("RouterLink");return E(),re(Sa,{"scroll-to-content":!1},{header:Y(()=>[v("div",hue,[v("div",fue,[M(i,{to:{name:I(cr).HOME}},{default:Y(()=>[pue]),_:1},8,["to"])]),mue])]),content:Y(()=>[v("div",gue,[M(Un,{class:"!bg-yellow-700 !bg-opacity-50 my-5 w-full xl:w-2/3",title:"About",description:"CustomVoting is a Minecraft plugin to reward your players for voting for your server.","description-props":{class:"!text-neutral-200"}},{default:Y(()=>[vue]),_:1})]),v("div",yue,[v("div",bue,[wue,v("ul",null,[v("li",{class:"hover:cursor-pointer hover:underline",onClick:r[0]||(r[0]=s=>e("features"))}," Features "),v("li",{class:"hover:cursor-pointer hover:underline font-bold",onClick:r[1]||(r[1]=s=>e("votesettings"))}," /votesettings "),v("li",{class:"hover:cursor-pointer hover:underline",onClick:r[2]||(r[2]=s=>e("requirements"))}," Requirements & Hooks "),v("li",{class:"hover:cursor-pointer hover:underline",onClick:r[3]||(r[3]=s=>e("commands"))}," Commands & Permissions "),v("li",{class:"hover:cursor-pointer hover:underline",onClick:r[4]||(r[4]=s=>e("setup"))}," Setup & Configuration "),v("li",{class:"hover:cursor-pointer hover:underline",onClick:r[5]||(r[5]=s=>e("support"))}," Support & Information "),v("li",{class:"hover:cursor-pointer hover:underline",onClick:r[6]||(r[6]=s=>e("love"))}," Footnotes ")])])]),v("div",_ue,[M(Un,{id:"features",class:"my-5 mt-20 w-full xl:w-2/3",title:"Features"},{default:Y(()=>[v("div",Tue,[v("div",Sue,[v("div",Eue,[M(et,{label:"Items"}),M(et,{class:"bg-sky-500",label:"Money"}),M(et,{class:"bg-blue-300 text-neutral-700 hover:text-white",label:"Experience"}),M(et,{class:"bg-cyan-600",label:"Commands"}),M(et,{class:"bg-blue-600",label:"Permissions"})]),v("div",Iue,[M(et,{class:"bg-purple-600",label:"VIP Rewards"}),M(et,{class:"bg-purple-400 text-neutral-700 hover:text-white",label:"Lucky Rewards"}),M(et,{class:"bg-purple-800",label:"Milestones"}),M(et,{class:"bg-fuchsia-400 text-neutral-700 hover:text-white",label:"Streaks"}),M(et,{class:"bg-purple-900",label:"Crates"})])])]),v("div",Cue,[v("div",Oue,[M(et,{class:"bg-green-400 text-neutral-700 hover:text-white",label:"Vote Party"}),M(et,{class:"bg-yellow-300 text-neutral-700 hover:text-white",label:"Pig Hunt"}),M(et,{class:"bg-amber-500 text-neutral-700 hover:text-white",label:"Fireworks"}),M(et,{class:"bg-orange-400 text-neutral-700 hover:text-white",label:"Vote Top Skulls"}),M(et,{class:"bg-lime-500 text-neutral-700 hover:text-white",label:"NPC's"})])]),v("div",Aue,[v("div",kue,[M(et,{class:"bg-red-400 text-neutral-700 hover:text-white",label:"Offline Support"}),M(et,{class:"bg-pink-300 text-neutral-700 hover:text-white",label:"Monthly Reset"}),M(et,{class:"bg-pink-700",label:"PlaceholderAPI"}),M(et,{class:"bg-red-400 text-neutral-700 hover:text-white",label:"Vault"}),M(et,{class:"bg-red-700",label:"NuVotifier"})])])]),_:1})]),v("div",Pue,[M(Un,{id:"votesettings",class:"my-5 mt-20 w-full xl:w-2/3",title:"/votesettings",description:"The main command of CustomVoting"},{default:Y(()=>[v("div",xue,[M(due)]),v("div",Due,[M(ra,{src:"/images/customvoting/votesettings1.png"})])]),_:1})]),v("div",Rue,[M(Un,{id:"requirements",class:"my-5 mt-20 w-full xl:w-2/3",title:"Requirements & Hooks",description:"What do you need to use CustomVoting - and what works together with it?"},{default:Y(()=>[Nue,v("div",Mue,[B(" Hooks: "),$ue,Lue,v("ul",null,[Fue,M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"What are the placeholders?"},{default:Y(()=>[Vue]),_:1})]),_:1}),Uue,Bue,jue,Hue,Wue,Kue,zue,Gue,Yue,que])])]),_:1})]),v("div",Xue,[M(Un,{id:"commands",class:"my-5 mt-20 w-full xl:w-2/3",title:"Commands & Permissions"},{default:Y(()=>[M(I(Kn),{class:"mt-3"},{default:Y(()=>[M(I(Ae),{header:"Show/hide"},{default:Y(()=>[M(woe)]),_:1})]),_:1}),Que]),_:1})]),v("div",Jue,[M(Un,{id:"setup",class:"my-5 mt-20 w-full xl:w-2/3",title:"Setup & Configuration"},{default:Y(()=>[Zue,ece,tce,nce]),_:1})]),v("div",rce,[M(Un,{id:"support",class:"my-5 mt-20 w-full xl:w-2/3",title:"Support & Information",description:"Can I help you with anything?"},{default:Y(()=>[ice]),_:1})]),v("div",sce,[M(Un,{id:"love",class:"my-5 mt-20 w-full xl:w-2/3 bg-pink-700 bg-opacity-75",title:"Thank you <3"},{default:Y(()=>[oce]),_:1})])]),_:1})}}}),lce=JT(ace,[["__scopeId","data-v-e9349312"]]),uce=Ce({__name:"CustomVoting",setup(t){return(e,n)=>(E(),re(lce))}}),cce={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-neutral-400"},dce={class:"m-1 lg:w-4/5"},ZT=Ce({__name:"Privacy",setup(t){const{content:e}=Zt(hr());return(n,r)=>(E(),L("div",cce,[(E(!0),L(we,null,nt(I(e).privacyStatement,i=>(E(),L("p",dce,Be(i),1))),256))]))}}),eS=Ce({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=se(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(E(),re(ur,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,I(Rt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),bu=Ce({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=se(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(E(),re(ur,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),hce={class:"flex flex-wrap pt-6 pb-8 mb-4"},fce={class:"basis-full lg:basis-1/2"},pce={key:3,class:"flex gap-3 mt-10 flex-wrap"},mce={class:"basis-full lg:basis-1/2"},gce={key:0,class:"basis-full lg:basis-1/2 flex gap-3 mt-10 flex-wrap"},vce={class:"flex flex-col items-center content-center"},yce=Ce({__name:"Dashboard",setup(t){const n=Vv(Fv).greaterOrEqual("md"),r=wr(),{currentUser:i,firebaseUser:s,publicUser:o,isOwner:a,mutationLoading:l}=Zt(r),u=hr(),{fetchAll:c}=u,{content:d,online:h,debug:f}=Zt(u),p=se(!1),m=se(),g=se(),y=se(),b=se(),_=se(),w=se(),T=se(),S=se(),O=Nn({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),R=ee(()=>({firstName:O.firstName.value,lastName:O.lastName.value})),D=ee(()=>({displayName:O.displayName.value,avatar:O.avatar.value})),C=ee(()=>!!o.value&&!us(Ew.convert(o.value),D.value)),N=ee(()=>{var $;return O.email.value!==(($=s.value)==null?void 0:$.email)}),F=ee(()=>{const $=[];return us(i.value,R.value)||$.push("Details"),C.value&&$.push("Public Profile"),N.value&&$.push("E-mail"),O.newPassword.value&&$.push("Password"),$.length?"Save "+aw($):void 0}),H=async()=>{var $;Object.keys(O).forEach(A=>O[A].error=""),O.newPassword.value&&(await Promise.all([_.value.test(),w.value.test(),T.value.test()]),!O.newPassword.error&&!O.currentPassword.error&&!O.repeatPassword.error&&(await r.updatePassword(O.newPassword.value,O.currentPassword.value),O.newPassword.value="",O.currentPassword.value="")),C.value&&(await y.value.test(),!O.displayName.error&&!O.avatar.error&&r.updatePublicUser({displayName:O.displayName.value,avatar:O.avatar.value})),N.value&&(await Promise.all([b.value.test(),w.value.test()]),!O.email.error&&!O.currentPassword.error&&(await r.updateMail(O.email.value,O.currentPassword.value),O.currentPassword.value="")),us(i.value,R.value)||(await Promise.all([m.value.test(),g.value.test()]),!O.firstName.error&&!O.lastName.error&&r.updateUser({firstName:O.firstName.value,lastName:O.lastName.value})),await c(($=s.value)==null?void 0:$.uid,!0)};return _1(()=>{var $,A,P,W,X;O.firstName.value=(($=i.value)==null?void 0:$.firstName)||"",O.lastName.value=((A=i.value)==null?void 0:A.lastName)||"",O.displayName.value=((P=o.value)==null?void 0:P.displayName)||"",O.email.value=((W=s.value)==null?void 0:W.email)||"",O.avatar.value=((X=o.value)==null?void 0:X.avatar)||""}),($,A)=>(E(),re(Sa,null,{content:Y(()=>[I(i)&&I(s)?(E(),re(Un,{key:0,class:"!bg-secondary-500 !bg-opacity-35 my-5",title:"Welcome "+I(i).firstName+(I(i).lastName?" "+I(i).lastName:""),description:I(d).dashboardDescription},{default:Y(()=>[v("div",hce,[v("div",fce,[v("form",{onSubmit:A[19]||(A[19]=Tt(P=>H(),["prevent"]))},[M(ur,{name:"accountType",label:"Account Type","model-value":I(a)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),M(ur,{ref_key:"firstName",ref:m,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:O.firstName.value,"onUpdate:modelValue":A[0]||(A[0]=P=>O.firstName.value=P),error:O.firstName.error,"onUpdate:error":A[1]||(A[1]=P=>O.firstName.error=P),rules:[I(Rt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),M(ur,{ref_key:"lastName",ref:g,name:"lastName",label:"Last Name",modelValue:O.lastName.value,"onUpdate:modelValue":A[2]||(A[2]=P=>O.lastName.value=P),error:O.lastName.error,"onUpdate:error":A[3]||(A[3]=P=>O.lastName.error=P),"min-length":3,"max-length":50},null,8,["modelValue","error"]),M(ur,{ref_key:"displayName",ref:y,name:"displayName",label:"Public Username",modelValue:O.displayName.value,"onUpdate:modelValue":A[4]||(A[4]=P=>O.displayName.value=P),error:O.displayName.error,"onUpdate:error":A[5]||(A[5]=P=>O.displayName.error=P),rules:[I(Rt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),M(eS,{ref_key:"email",ref:b,name:"email",label:"E-mail",modelValue:O.email.value,"onUpdate:modelValue":A[6]||(A[6]=P=>O.email.value=P),error:O.email.error,"onUpdate:error":A[7]||(A[7]=P=>O.email.error=P),rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),N.value?(E(),re(bu,{key:0,ref_key:"currentPassword",ref:w,name:"currentPassword",label:"Current Password",modelValue:O.currentPassword.value,"onUpdate:modelValue":A[8]||(A[8]=P=>O.currentPassword.value=P),error:O.currentPassword.error,"onUpdate:error":A[9]||(A[9]=P=>O.currentPassword.error=P),rules:[I(Rt).Required]},null,8,["modelValue","error","rules"])):q("",!0),M(bu,{ref_key:"newPassword",ref:_,name:"newPassword",label:"New Password",modelValue:O.newPassword.value,"onUpdate:modelValue":A[10]||(A[10]=P=>O.newPassword.value=P),error:O.newPassword.error,"onUpdate:error":A[11]||(A[11]=P=>O.newPassword.error=P),min:6,max:50},null,8,["modelValue","error"]),O.newPassword.value?(E(),re(bu,{key:1,ref_key:"repeatPassword",ref:T,name:"repeatPassword",label:"Repeat New Password",modelValue:O.repeatPassword.value,"onUpdate:modelValue":A[12]||(A[12]=P=>O.repeatPassword.value=P),error:O.repeatPassword.error,"onUpdate:error":A[13]||(A[13]=P=>O.repeatPassword.error=P),rules:[I(Rt).Required],compare:{value:O.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):q("",!0),O.newPassword.value&&!N.value?(E(),re(bu,{key:2,ref_key:"currentPassword",ref:w,name:"currentPassword",label:"Current Password",modelValue:O.currentPassword.value,"onUpdate:modelValue":A[14]||(A[14]=P=>O.currentPassword.value=P),error:O.currentPassword.error,"onUpdate:error":A[15]||(A[15]=P=>O.currentPassword.error=P),rules:[I(Rt).Required]},null,8,["modelValue","error","rules"])):q("",!0),I(n)?(E(),L("div",pce,[F.value?(E(),re(et,{key:0,class:"w-full",action:"submit",loading:I(l),label:F.value},null,8,["loading","label"])):q("",!0),I(a)?q("",!0):(E(),re(et,{key:1,class:"w-full",type:"danger",outlined:"",label:"Delete account",onClick:A[16]||(A[16]=P=>p.value=!0)}))])):q("",!0),I(a)?(E(),re(Kd,{key:4,name:"online",label:"Online",modelValue:I(h),"onUpdate:modelValue":A[17]||(A[17]=P=>dn(h)?h.value=P:null)},null,8,["modelValue"])):q("",!0),I(a)?(E(),re(Kd,{key:5,name:"debug",label:"Debug",modelValue:I(f),"onUpdate:modelValue":A[18]||(A[18]=P=>dn(f)?f.value=P:null)},null,8,["modelValue"])):q("",!0)],32)]),v("div",mce,[M(GT,{ref_key:"avatar",ref:S,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:O.avatar.value,"onUpdate:modelValue":A[20]||(A[20]=P=>O.avatar.value=P),error:O.avatar.error,"onUpdate:error":A[21]||(A[21]=P=>O.avatar.error=P),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])]),I(n)?q("",!0):(E(),L("div",gce,[F.value?(E(),re(et,{key:0,class:"w-full",action:"submit",loading:I(l),label:F.value},null,8,["loading","label"])):q("",!0),I(a)?q("",!0):(E(),re(et,{key:1,class:"w-full",type:"danger",outlined:"",label:"Delete account",onClick:A[22]||(A[22]=P=>p.value=!0)}))]))]),v("div",vce,[M(ZT)])]),_:1},8,["title","description"])):q("",!0),M(zT,{title:"Delete Account",isOpen:p.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:A[23]||(A[23]=P=>I(r).deleteAccount()),onCancel:A[24]||(A[24]=P=>p.value=!1)},null,8,["isOpen"])]),_:1}))}}),bce=Ce({__name:"Dashboard",setup(t){return(e,n)=>(E(),re(yce))}}),wce=t=>(m1("data-v-1c50f507"),t=t(),g1(),t),_ce=wce(()=>v("h3",{class:"text-title-secondary"},"My Work",-1)),Tce=Ce({__name:"Projects",setup(t){const e=hr(),{moveProject:n}=e,{projects:r}=Zt(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{Yn(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),FK(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return Ot(()=>r.value,(o,a)=>{o>a&&s()}),$t(()=>{s()}),(o,a)=>(E(),L(we,null,[_ce,M(I(AL),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":I(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:Y(({element:l})=>[M(Un,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,route:l.route,description:l.description,loading:l.loading},{default:Y(()=>[(E(!0),L(we,null,nt(l.technologies,u=>(E(),re(et,{class:"rounded-secondary m-1 md:mt-2 font-bold",style:tr({backgroundColor:u.color}),label:u.name},null,8,["style","label"]))),256))]),_:2},1032,["title","url","route","description","loading"])]),_:1},8,["model-value"])],64))}}),Sce=JT(Tce,[["__scopeId","data-v-1c50f507"]]),Ece={class:"grid mt-20"},Ice=Ce({__name:"Home",setup(t){return(e,n)=>(E(),re(Sa,{"scroll-to-content":!1},{content:Y(()=>[v("div",Ece,[M(Sce)])]),_:1}))}}),Cce=Ce({__name:"Home",setup(t){return(e,n)=>(E(),re(Ice))}}),Oce={class:"flex flex-col items-center content-center"},Ace={class:"grid grid-cols-4 mt-10 gap-3"},kce=Ce({__name:"Login",setup(t){const e=wr(),{loginLoading:n}=Zt(e),r=N1(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=se(),a=se(),l=Nn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return $t(()=>{r.replace({query:void 0})}),(d,h)=>{const f=wn("RouterLink");return E(),re(Sa,null,{content:Y(()=>[M(Un,{class:"!bg-primary-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:Y(()=>[v("div",Oce,[v("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[4]||(h[4]=Tt(p=>u(),["prevent"]))},[M(eS,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":h[0]||(h[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":h[1]||(h[1]=p=>l.email.error=p),rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),M(bu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":h[2]||(h[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":h[3]||(h[3]=p=>l.password.error=p),rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),v("div",Ace,[M(et,{class:"col-span-full md:col-span-2",action:"submit",loading:I(n),label:"Login"},null,8,["loading"]),M(f,{class:"col-span-full md:col-span-2",to:{name:I(cr).REGISTER,query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:Y(()=>[M(et,{class:"w-full",outlined:"",label:"Register"})]),_:1},8,["to"]),M(et,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",label:"Forgot Password",onClick:c})])],32),M(ZT)])]),_:1})]),_:1})}}}),Pce=Ce({__name:"Login",setup(t){return(e,n)=>(E(),re(kce))}}),xce=Ce({__name:"NotFound",setup(t){return(e,n)=>(E(),re(Sa,{"scroll-to-content":!1},{content:Y(()=>[M(Un,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),Dce=Ce({__name:"NotFound",setup(t){return(e,n)=>(E(),re(xce))}}),Rce={class:"flex flex-col items-center content-center"},Nce={class:"grid grid-cols-2 mt-10 gap-3"},Mce=Ce({__name:"Register",setup(t){const e=wr(),{loginLoading:n}=Zt(e),r=N1(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=se(),a=se(),l=se(),u=Nn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return $t(()=>{r.replace({query:void 0})}),(d,h)=>{const f=wn("RouterLink");return E(),re(Sa,null,{content:Y(()=>[M(Un,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:Y(()=>[v("div",Rce,[v("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=Tt(p=>c(),["prevent"]))},[M(ur,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=p=>u.firstName.error=p),rules:[I(Rt).Required,I(Rt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),M(eS,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":h[3]||(h[3]=p=>u.email.error=p),rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),M(bu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":h[5]||(h[5]=p=>u.password.error=p),rules:[I(Rt).Required]},null,8,["modelValue","error","rules"]),v("div",Nce,[M(et,{class:"col-span-full md:col-span-1",action:"submit",loading:I(n),label:"Register"},null,8,["loading"]),M(f,{to:{name:I(cr).LOGIN,query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:Y(()=>[M(et,{class:"w-full",outlined:"",label:"Login"})]),_:1},8,["to"])])],32),M(ZT)])]),_:1})]),_:1})}}}),$ce=Ce({__name:"Register",setup(t){return(e,n)=>(E(),re(Mce))}});var cr=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.NOT_FOUND="notfound",t))(cr||{});const xL={HOME:{path:"/",meta:{title:"Home"},component:Cce,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Gv.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login",meta:{title:"Login"},component:Pce,beforeEnter:(t,e,n)=>{wr().currentUser?n({name:"dashboard"}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:$ce,beforeEnter:(t,e,n)=>{wr().currentUser?n({name:"dashboard"}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:bce},BLOG:{path:"/blog",meta:{title:"Blog"},component:RA},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:RA},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:uce},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:foe},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:Dce}},Gv=eU({history:PV(),routes:Object.entries(xL).map(([t,e])=>({...e,name:cr[t]})),scrollBehavior(t,e,n){return n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),NA=N$.name;Gv.beforeEach(async(t,e,n)=>{var r;if(t===e)n();else if(!t.name)n({name:"notfound"});else{const i=t.name;if(["home","login","register","dashboard","notfound"].includes(i))n();else{const o=await hr().fetchMenuItems((r=wr().firebaseUser)==null?void 0:r.uid);(o==null?void 0:o.some(l=>l.route?i===l.route:l.url?t.path.startsWith(l.url):!1))?n():n({name:"notfound"})}}});Gv.beforeResolve(t=>{document.title=NA+" | "+t.meta.title||NA});const tS=Gv;function Yi(t){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(t)}function st(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function tt(t){ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Yi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Qs(t,e){ze(2,arguments);var n=tt(t),r=st(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ds(t,e){ze(2,arguments);var n=tt(t),r=st(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function DL(t,e){if(ze(2,arguments),!e||Yi(e)!=="object")return new Date(NaN);var n=e.years?st(e.years):0,r=e.months?st(e.months):0,i=e.weeks?st(e.weeks):0,s=e.days?st(e.days):0,o=e.hours?st(e.hours):0,a=e.minutes?st(e.minutes):0,l=e.seconds?st(e.seconds):0,u=tt(t),c=r||n?ds(u,r+n*12):u,d=s||i?Qs(c,s+i*7):c,h=a+o*60,f=l+h*60,p=f*1e3,m=new Date(d.getTime()+p);return m}function Lce(t,e){ze(2,arguments);var n=tt(t).getTime(),r=st(e);return new Date(n+r)}var Fce={};function Ks(){return Fce}function Ol(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=Ks(),d=st((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=tt(t),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function hg(t){return ze(1,arguments),Ol(t,{weekStartsOn:1})}function Vce(t){ze(1,arguments);var e=tt(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=hg(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=hg(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Uce(t){ze(1,arguments);var e=Vce(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=hg(n);return r}function fg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function MA(t){ze(1,arguments);var e=tt(t);return e.setHours(0,0,0,0),e}var Bce=864e5;function jce(t,e){ze(2,arguments);var n=MA(t),r=MA(e),i=n.getTime()-fg(n),s=r.getTime()-fg(r);return Math.round((i-s)/Bce)}function Hce(t,e){ze(2,arguments);var n=st(e),r=n*3;return ds(t,r)}function nS(t,e){ze(2,arguments);var n=st(e);return ds(t,n*12)}var rS=6e4,iS=36e5,Wce=1e3;function RL(t){return ze(1,arguments),t instanceof Date||Yi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zd(t){if(ze(1,arguments),!RL(t)&&typeof t!="number")return!1;var e=tt(t);return!isNaN(Number(e))}function $A(t){ze(1,arguments);var e=tt(t),n=Math.floor(e.getMonth()/3)+1;return n}function NL(t,e){var n;ze(1,arguments);var r=t||{},i=tt(r.start),s=tt(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(tt(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function Vh(t){ze(1,arguments);var e=tt(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Kce(t){ze(1,arguments);var e=t||{},n=tt(e.start),r=tt(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=Vh(n),o=Vh(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(tt(l)),l=Hce(l,1);return a}function zce(t){ze(1,arguments);var e=tt(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Gce(t){ze(1,arguments);var e=tt(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Yce(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=Ks(),d=st((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=tt(t),f=h.getDay(),p=(f<d?-7:0)+6-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function LA(t){ze(1,arguments);var e=tt(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function ML(t,e){ze(2,arguments);var n=st(e);return Lce(t,-n)}var qce=864e5;function Xce(t){ze(1,arguments);var e=tt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/qce)+1}function fc(t){ze(1,arguments);var e=1,n=tt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function $L(t){ze(1,arguments);var e=tt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=fc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=fc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Qce(t){ze(1,arguments);var e=$L(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=fc(n);return r}var Jce=6048e5;function LL(t){ze(1,arguments);var e=tt(t),n=fc(e).getTime()-Qce(e).getTime();return Math.round(n/Jce)+1}function Al(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=Ks(),d=st((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=tt(t),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function sS(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=tt(t),d=c.getUTCFullYear(),h=Ks(),f=st((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=Al(p,e),g=new Date(0);g.setUTCFullYear(d,0,f),g.setUTCHours(0,0,0,0);var y=Al(g,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function Zce(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=Ks(),d=st((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=sS(t,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var p=Al(f,e);return p}var ede=6048e5;function FL(t,e){ze(1,arguments);var n=tt(t),r=Al(n,e).getTime()-Zce(n,e).getTime();return Math.round(r/ede)+1}function en(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var tde={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return en(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):en(r+1,2)},d:function(e,n){return en(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return en(e.getUTCHours()%12||12,n.length)},H:function(e,n){return en(e.getUTCHours(),n.length)},m:function(e,n){return en(e.getUTCMinutes(),n.length)},s:function(e,n){return en(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return en(s,n.length)}};const xo=tde;var Zl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nde={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return xo.y(e,n)},Y:function(e,n,r,i){var s=sS(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return en(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):en(o,n.length)},R:function(e,n){var r=$L(e);return en(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return en(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return en(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return en(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return xo.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return en(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=FL(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):en(s,n.length)},I:function(e,n,r){var i=LL(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):en(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):xo.d(e,n)},D:function(e,n,r){var i=Xce(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):en(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return en(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return en(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return en(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Zl.noon:i===0?s=Zl.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Zl.evening:i>=12?s=Zl.afternoon:i>=4?s=Zl.morning:s=Zl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return xo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):xo.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):en(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):en(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):xo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):xo.s(e,n)},S:function(e,n){return xo.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return VA(o);case"XXXX":case"XX":return Ma(o);case"XXXXX":case"XXX":default:return Ma(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return VA(o);case"xxxx":case"xx":return Ma(o);case"xxxxx":case"xxx":default:return Ma(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+FA(o,":");case"OOOO":default:return"GMT"+Ma(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+FA(o,":");case"zzzz":default:return"GMT"+Ma(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return en(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return en(o,n.length)}};function FA(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+en(s,2)}function VA(t,e){if(t%60===0){var n=t>0?"-":"+";return n+en(Math.abs(t)/60,2)}return Ma(t,e)}function Ma(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=en(Math.floor(i/60),2),o=en(i%60,2);return r+s+n+o}var UA=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},VL=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},rde=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return UA(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",UA(i,n)).replace("{{time}}",VL(s,n))},Bw={p:VL,P:rde},ide=["D","DD"],sde=["YY","YYYY"];function UL(t){return ide.indexOf(t)!==-1}function BL(t){return sde.indexOf(t)!==-1}function pg(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ode={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ade=function(e,n,r){var i,s=ode[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const lde=ade;function Tb(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var ude={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hde={date:Tb({formats:ude,defaultWidth:"full"}),time:Tb({formats:cde,defaultWidth:"full"}),dateTime:Tb({formats:dde,defaultWidth:"full"})};const fde=hde;var pde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mde=function(e,n,r,i){return pde[e]};const gde=mde;function qc(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var vde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_de={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Tde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sde=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ede={ordinalNumber:Sde,era:qc({values:vde,defaultWidth:"wide"}),quarter:qc({values:yde,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:qc({values:bde,defaultWidth:"wide"}),day:qc({values:wde,defaultWidth:"wide"}),dayPeriod:qc({values:_de,defaultWidth:"wide",formattingValues:Tde,defaultFormattingWidth:"wide"})};const Ide=Ede;function Xc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Ode(a,function(d){return d.test(o)}):Cde(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Cde(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Ode(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Ade(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var kde=/^(\d+)(th|st|nd|rd)?/i,Pde=/\d+/i,xde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dde={any:[/^b/i,/^(a|c)/i]},Rde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nde={any:[/1/i,/2/i,/3/i,/4/i]},Mde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$de={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ude={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bde={ordinalNumber:Ade({matchPattern:kde,parsePattern:Pde,valueCallback:function(e){return parseInt(e,10)}}),era:Xc({matchPatterns:xde,defaultMatchWidth:"wide",parsePatterns:Dde,defaultParseWidth:"any"}),quarter:Xc({matchPatterns:Rde,defaultMatchWidth:"wide",parsePatterns:Nde,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Xc({matchPatterns:Mde,defaultMatchWidth:"wide",parsePatterns:$de,defaultParseWidth:"any"}),day:Xc({matchPatterns:Lde,defaultMatchWidth:"wide",parsePatterns:Fde,defaultParseWidth:"any"}),dayPeriod:Xc({matchPatterns:Vde,defaultMatchWidth:"any",parsePatterns:Ude,defaultParseWidth:"any"})};const jde=Bde;var Hde={code:"en-US",formatDistance:lde,formatLong:fde,formatRelative:gde,localize:Ide,match:jde,options:{weekStartsOn:0,firstWeekContainsDate:1}};const jL=Hde;var Wde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zde=/^'([^]*?)'?$/,Gde=/''/g,Yde=/[a-zA-Z]/;function ia(t,e,n){var r,i,s,o,a,l,u,c,d,h,f,p,m,g,y,b,_,w;ze(2,arguments);var T=String(e),S=Ks(),O=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:S.locale)!==null&&r!==void 0?r:jL,R=st((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&o!==void 0?o:(d=S.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=st((f=(p=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(y=n.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&m!==void 0?m:S.weekStartsOn)!==null&&p!==void 0?p:(_=S.locale)===null||_===void 0||(w=_.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var C=tt(t);if(!zd(C))throw new RangeError("Invalid time value");var N=fg(C),F=ML(C,N),H={firstWeekContainsDate:R,weekStartsOn:D,locale:O,_originalDate:C},$=T.match(Kde).map(function(A){var P=A[0];if(P==="p"||P==="P"){var W=Bw[P];return W(A,O.formatLong)}return A}).join("").match(Wde).map(function(A){if(A==="''")return"'";var P=A[0];if(P==="'")return qde(A);var W=nde[P];if(W)return!(n!=null&&n.useAdditionalWeekYearTokens)&&BL(A)&&pg(A,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&UL(A)&&pg(A,e,String(t)),W(F,A,O.localize,H);if(P.match(Yde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return A}).join("");return $}function qde(t){var e=t.match(zde);return e?e[1].replace(Gde,"'"):t}function Xde(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Qde(t){ze(1,arguments);var e=tt(t),n=e.getDay();return n}function Jde(t){ze(1,arguments);var e=tt(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function hs(t){ze(1,arguments);var e=tt(t),n=e.getHours();return n}var Zde=6048e5;function ehe(t){ze(1,arguments);var e=tt(t),n=hg(e).getTime()-Uce(e).getTime();return Math.round(n/Zde)+1}function Ls(t){ze(1,arguments);var e=tt(t),n=e.getMinutes();return n}function Ut(t){ze(1,arguments);var e=tt(t),n=e.getMonth();return n}function pc(t){ze(1,arguments);var e=tt(t),n=e.getSeconds();return n}function the(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=tt(t),d=c.getFullYear(),h=Ks(),f=st((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var m=Ol(p,e),g=new Date(0);g.setFullYear(d,0,f),g.setHours(0,0,0,0);var y=Ol(g,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function nhe(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=Ks(),d=st((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=the(t,e),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=Ol(f,e);return p}var rhe=6048e5;function ihe(t,e){ze(1,arguments);var n=tt(t),r=Ol(n,e).getTime()-nhe(n,e).getTime();return Math.round(r/rhe)+1}function _t(t){return ze(1,arguments),tt(t).getFullYear()}function Uh(t,e){ze(2,arguments);var n=tt(t),r=tt(e);return n.getTime()>r.getTime()}function Bh(t,e){ze(2,arguments);var n=tt(t),r=tt(e);return n.getTime()<r.getTime()}function wu(t,e){ze(2,arguments);var n=tt(t),r=tt(e);return n.getTime()===r.getTime()}function BA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function she(t,e){if(t){if(typeof t=="string")return BA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BA(t,e)}}function jA(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=she(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function Ht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mg(t)}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function ohe(t,e){if(e&&(Yi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}function Wt(t){var e=HL();return function(){var r=mg(t),i;if(e){var s=mg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ohe(this,i)}}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ahe(t,e){if(Yi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WL(t){var e=ahe(t,"string");return Yi(e)=="symbol"?e:e+""}function HA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WL(r.key),r)}}function xt(t,e,n){return e&&HA(t.prototype,e),n&&HA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function je(t,e,n){return e=WL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lhe=10,KL=function(){function t(){Pt(this,t),je(this,"priority",void 0),je(this,"subPriority",0)}return xt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),uhe=function(t){Ht(n,t);var e=Wt(n);function n(r,i,s,o,a){var l;return Pt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return xt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(KL),che=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",lhe),je(Ke(r),"subPriority",-1),r}return xt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(KL),Xt=function(){function t(){Pt(this,t),je(this,"incompatibleTokens",void 0),je(this,"priority",void 0),je(this,"subPriority",void 0)}return xt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new uhe(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),dhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",140),je(Ke(r),"incompatibleTokens",["R","u","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),zn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Es={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gn(t,e){return t&&{value:e(t.value),rest:t.rest}}function Dn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Is(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*iS+s*rS+o*Wce),rest:e.slice(n[0].length)}}function zL(t){return Dn(zn.anyDigitsSigned,t)}function Hn(t,e){switch(t){case 1:return Dn(zn.singleDigit,e);case 2:return Dn(zn.twoDigits,e);case 3:return Dn(zn.threeDigits,e);case 4:return Dn(zn.fourDigits,e);default:return Dn(new RegExp("^\\d{1,"+t+"}"),e)}}function gg(t,e){switch(t){case 1:return Dn(zn.singleDigitSigned,e);case 2:return Dn(zn.twoDigitsSigned,e);case 3:return Dn(zn.threeDigitsSigned,e);case 4:return Dn(zn.fourDigitsSigned,e);default:return Dn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function oS(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function GL(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function YL(t){return t%400===0||t%4===0&&t%100!==0}var hhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",130),je(Ke(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Gn(Hn(4,i),a);case"yo":return Gn(o.ordinalNumber(i,{unit:"year"}),a);default:return Gn(Hn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=GL(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),fhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",130),je(Ke(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Gn(Hn(4,i),a);case"Yo":return Gn(o.ordinalNumber(i,{unit:"year"}),a);default:return Gn(Hn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=sS(i,a);if(o.isTwoDigitYear){var u=GL(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Al(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Al(i,a)}}]),n}(Xt),phe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",130),je(Ke(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s){return gg(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),fc(a)}}]),n}(Xt),mhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",130),je(Ke(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s){return gg(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),ghe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",120),je(Ke(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Hn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),vhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",120),je(Ke(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Hn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),yhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),je(Ke(r),"priority",110),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Gn(Dn(zn.month,i),a);case"MM":return Gn(Hn(2,i),a);case"Mo":return Gn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),bhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",110),je(Ke(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Gn(Dn(zn.month,i),a);case"LL":return Gn(Hn(2,i),a);case"Lo":return Gn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt);function whe(t,e,n){ze(2,arguments);var r=tt(t),i=st(e),s=FL(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var _he=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",100),je(Ke(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return Dn(zn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Al(whe(i,o,a),a)}}]),n}(Xt);function The(t,e){ze(2,arguments);var n=tt(t),r=st(e),i=LL(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var She=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",100),je(Ke(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return Dn(zn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return fc(The(i,o))}}]),n}(Xt),Ehe=[31,28,31,30,31,30,31,31,30,31,30,31],Ihe=[31,29,31,30,31,30,31,31,30,31,30,31],Che=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"subPriority",1),je(Ke(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return Dn(zn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=YL(o),l=i.getUTCMonth();return a?s>=1&&s<=Ihe[l]:s>=1&&s<=Ehe[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Ohe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"subpriority",1),je(Ke(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return Dn(zn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=YL(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Xt);function aS(t,e,n){var r,i,s,o,a,l,u,c;ze(2,arguments);var d=Ks(),h=st((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=tt(t),p=st(e),m=f.getUTCDay(),g=p%7,y=(g+7)%7,b=(y<h?7:0)+p-m;return f.setUTCDate(f.getUTCDate()+b),f}var Ahe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=aS(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),khe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Gn(Hn(s.length,i),l);case"eo":return Gn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=aS(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Phe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Gn(Hn(s.length,i),l);case"co":return Gn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=aS(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Xt);function xhe(t,e){ze(2,arguments);var n=st(e);n%7===0&&(n=n-7);var r=1,i=tt(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var Dhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Hn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Gn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Gn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Gn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Gn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=xhe(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Rhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",80),je(Ke(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(oS(o),0,0,0),i}}]),n}(Xt),Nhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",80),je(Ke(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(oS(o),0,0,0),i}}]),n}(Xt),Mhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",80),je(Ke(r),"incompatibleTokens",["a","b","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(oS(o),0,0,0),i}}]),n}(Xt),$he=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",70),je(Ke(r),"incompatibleTokens",["H","K","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return Dn(zn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Xt),Lhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",70),je(Ke(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return Dn(zn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Xt),Fhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",70),je(Ke(r),"incompatibleTokens",["h","H","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return Dn(zn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Xt),Vhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",70),je(Ke(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return Dn(zn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Xt),Uhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",60),je(Ke(r),"incompatibleTokens",["t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return Dn(zn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Xt),Bhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",50),je(Ke(r),"incompatibleTokens",["t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return Dn(zn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Hn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Xt),jhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",30),je(Ke(r),"incompatibleTokens",["t","T"]),r}return xt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Gn(Hn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Xt),Hhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",10),je(Ke(r),"incompatibleTokens",["t","T","x"]),r}return xt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Is(Es.basicOptionalMinutes,i);case"XX":return Is(Es.basic,i);case"XXXX":return Is(Es.basicOptionalSeconds,i);case"XXXXX":return Is(Es.extendedOptionalSeconds,i);case"XXX":default:return Is(Es.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Xt),Whe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",10),je(Ke(r),"incompatibleTokens",["t","T","X"]),r}return xt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Is(Es.basicOptionalMinutes,i);case"xx":return Is(Es.basic,i);case"xxxx":return Is(Es.basicOptionalSeconds,i);case"xxxxx":return Is(Es.extendedOptionalSeconds,i);case"xxx":default:return Is(Es.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Xt),Khe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",40),je(Ke(r),"incompatibleTokens","*"),r}return xt(n,[{key:"parse",value:function(i){return zL(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Xt),zhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",20),je(Ke(r),"incompatibleTokens","*"),r}return xt(n,[{key:"parse",value:function(i){return zL(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Xt),Ghe={G:new dhe,y:new hhe,Y:new fhe,R:new phe,u:new mhe,Q:new ghe,q:new vhe,M:new yhe,L:new bhe,w:new _he,I:new She,d:new Che,D:new Ohe,E:new Ahe,e:new khe,c:new Phe,i:new Dhe,a:new Rhe,b:new Nhe,B:new Mhe,h:new $he,H:new Lhe,K:new Fhe,k:new Vhe,m:new Uhe,s:new Bhe,S:new jhe,X:new Hhe,x:new Whe,t:new Khe,T:new zhe},Yhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xhe=/^'([^]*?)'?$/,Qhe=/''/g,Jhe=/\S/,Zhe=/[a-zA-Z]/;function Hw(t,e,n,r){var i,s,o,a,l,u,c,d,h,f,p,m,g,y,b,_,w,T;ze(3,arguments);var S=String(t),O=String(e),R=Ks(),D=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:R.locale)!==null&&i!==void 0?i:jL;if(!D.match)throw new RangeError("locale must contain match property");var C=st((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:R.firstWeekContainsDate)!==null&&a!==void 0?a:(h=R.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=st((p=(m=(g=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(b=r.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&g!==void 0?g:R.weekStartsOn)!==null&&m!==void 0?m:(w=R.locale)===null||w===void 0||(T=w.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(O==="")return S===""?tt(n):new Date(NaN);var F={firstWeekContainsDate:C,weekStartsOn:N,locale:D},H=[new che],$=O.match(qhe).map(function(ue){var Z=ue[0];if(Z in Bw){var pe=Bw[Z];return pe(ue,D.formatLong)}return ue}).join("").match(Yhe),A=[],P=jA($),W;try{var X=function(){var Z=W.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&BL(Z)&&pg(Z,O,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&UL(Z)&&pg(Z,O,t);var pe=Z[0],_e=Ghe[pe];if(_e){var le=_e.incompatibleTokens;if(Array.isArray(le)){var x=A.find(function(z){return le.includes(z.token)||z.token===pe});if(x)throw new RangeError("The format string mustn't contain `".concat(x.fullToken,"` and `").concat(Z,"` at the same time"))}else if(_e.incompatibleTokens==="*"&&A.length>0)throw new RangeError("The format string mustn't contain `".concat(Z,"` and any other token at the same time"));A.push({token:pe,fullToken:Z});var V=_e.run(S,Z,D.match,F);if(!V)return{v:new Date(NaN)};H.push(V.setter),S=V.rest}else{if(pe.match(Zhe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");if(Z==="''"?Z="'":pe==="'"&&(Z=efe(Z)),S.indexOf(Z)===0)S=S.slice(Z.length);else return{v:new Date(NaN)}}};for(P.s();!(W=P.n()).done;){var U=X();if(Yi(U)==="object")return U.v}}catch(ue){P.e(ue)}finally{P.f()}if(S.length>0&&Jhe.test(S))return new Date(NaN);var k=H.map(function(ue){return ue.priority}).sort(function(ue,Z){return Z-ue}).filter(function(ue,Z,pe){return pe.indexOf(ue)===Z}).map(function(ue){return H.filter(function(Z){return Z.priority===ue}).sort(function(Z,pe){return pe.subPriority-Z.subPriority})}).map(function(ue){return ue[0]}),ne=tt(n);if(isNaN(ne.getTime()))return new Date(NaN);var ie=ML(ne,fg(ne)),ve={},ye=jA(k),oe;try{for(ye.s();!(oe=ye.n()).done;){var K=oe.value;if(!K.validate(ie,F))return new Date(NaN);var Q=K.set(ie,ve,F);Array.isArray(Q)?(ie=Q[0],Xde(ve,Q[1])):ie=Q}}catch(ue){ye.e(ue)}finally{ye.f()}return ie}function efe(t){return t.match(Xhe)[1].replace(Qhe,"'")}function WA(t,e){ze(2,arguments);var n=Vh(t),r=Vh(e);return n.getTime()===r.getTime()}function tfe(t,e){ze(2,arguments);var n=st(e);return Qs(t,-n)}function nfe(t,e){var n;ze(1,arguments);var r=st((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=ofe(t),s;if(i.date){var o=afe(i.date,r);s=lfe(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=ufe(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=cfe(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var Ap={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ife=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ofe(t){var e={},n=t.split(Ap.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ap.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ap.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Ap.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function afe(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function lfe(t,e){if(e===null)return new Date(NaN);var n=t.match(rfe);if(!n)return new Date(NaN);var r=!!n[4],i=Qc(n[1]),s=Qc(n[2])-1,o=Qc(n[3]),a=Qc(n[4]),l=Qc(n[5])-1;if(r)return mfe(e,a,l)?dfe(e,a,l):new Date(NaN);var u=new Date(0);return!ffe(e,s,o)||!pfe(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Qc(t){return t?parseInt(t):1}function ufe(t){var e=t.match(ife);if(!e)return NaN;var n=Sb(e[1]),r=Sb(e[2]),i=Sb(e[3]);return gfe(n,r,i)?n*iS+r*rS+i*1e3:NaN}function Sb(t){return t&&parseFloat(t.replace(",","."))||0}function cfe(t){if(t==="Z")return 0;var e=t.match(sfe);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return vfe(r,i)?n*(r*iS+i*rS):NaN}function dfe(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var hfe=[31,null,31,30,31,30,31,31,30,31,30,31];function qL(t){return t%400===0||t%4===0&&t%100!==0}function ffe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(hfe[e]||(qL(t)?29:28))}function pfe(t,e){return e>=1&&e<=(qL(t)?366:365)}function mfe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function gfe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function vfe(t,e){return e>=0&&e<=59}function XL(t,e){ze(2,arguments);var n=tt(t),r=st(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Jde(o);return n.setMonth(r,Math.min(s,a)),n}function _n(t,e){if(ze(2,arguments),Yi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=tt(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=XL(n,e.month)),e.date!=null&&n.setDate(st(e.date)),e.hours!=null&&n.setHours(st(e.hours)),e.minutes!=null&&n.setMinutes(st(e.minutes)),e.seconds!=null&&n.setSeconds(st(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(st(e.milliseconds)),n)}function QL(t,e){ze(2,arguments);var n=tt(t),r=st(e);return n.setHours(r),n}function lS(t,e){ze(2,arguments);var n=tt(t),r=st(e);return n.setMilliseconds(r),n}function JL(t,e){ze(2,arguments);var n=tt(t),r=st(e);return n.setMinutes(r),n}function uS(t,e){ze(2,arguments);var n=tt(t),r=st(e);return n.setSeconds(r),n}function xs(t,e){ze(2,arguments);var n=tt(t),r=st(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function mc(t,e){ze(2,arguments);var n=st(e);return ds(t,-n)}function yfe(t,e){if(ze(2,arguments),!e||Yi(e)!=="object")return new Date(NaN);var n=e.years?st(e.years):0,r=e.months?st(e.months):0,i=e.weeks?st(e.weeks):0,s=e.days?st(e.days):0,o=e.hours?st(e.hours):0,a=e.minutes?st(e.minutes):0,l=e.seconds?st(e.seconds):0,u=mc(t,r+n*12),c=tfe(u,s+i*7),d=a+o*60,h=l+d*60,f=h*1e3,p=new Date(c.getTime()-f);return p}function ZL(t,e){ze(2,arguments);var n=st(e);return nS(t,-n)}function Dc(){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),v("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),v("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),v("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Dc.compatConfig={MODE:3};function e3(){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),v("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}e3.compatConfig={MODE:3};function cS(){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}cS.compatConfig={MODE:3};function dS(){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}dS.compatConfig={MODE:3};function hS(){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),v("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}hS.compatConfig={MODE:3};function fS(){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}fS.compatConfig={MODE:3};function pS(){return E(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}pS.compatConfig={MODE:3};function mS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t3={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(t3);var bfe=t3.exports,Ww={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Ww,Ww.exports);var wfe=Ww.exports;const _fe=mS(wfe);var Kw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Kw,Kw.exports);var Tfe=Kw.exports;const KA=mS(Tfe);function Sfe(t,e){var n=Ofe(e);return n.formatToParts?Ife(n,t):Cfe(n,t)}var Efe={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ife(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=Efe[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function Cfe(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Eb={};function Ofe(t){if(!Eb[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Eb[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Eb[t]}function gS(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var zA=36e5,Afe=6e4,Ib={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function vS(t,e,n){var r,i;if(t===""||(r=Ib.timezoneZ.exec(t),r))return 0;var s;if(r=Ib.timezoneHH.exec(t),r)return s=parseInt(r[1],10),GA(s)?-(s*zA):NaN;if(r=Ib.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return GA(s,o)?(i=Math.abs(s)*zA+o*Afe,s>0?-i:i):NaN}if(xfe(t)){e=new Date(e||Date.now());var a=n?e:kfe(e),l=zw(a,t),u=n?l:Pfe(e,l,t);return-u}return NaN}function kfe(t){return gS(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function zw(t,e){var n=Sfe(t,e),r=gS(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function Pfe(t,e,n){var r=t.getTime(),i=r-e,s=zw(new Date(i),n);if(e===s)return e;i-=s-e;var o=zw(new Date(i),n);return s===o?s:Math.max(s,o)}function GA(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var YA={};function xfe(t){if(YA[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),YA[t]=!0,!0}catch{return!1}}var n3=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Cb=36e5,qA=6e4,Dfe=2,ti={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:n3};function Gw(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?Dfe:_fe(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Rfe(t),s=Nfe(i.date,r),o=s.year,a=s.restDateString,l=Mfe(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=$fe(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=vS(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=KA(new Date(u+c)),d=KA(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function Rfe(t){var e={},n=ti.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=ti.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=ti.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function Nfe(t,e){var n=ti.YYY[e],r=ti.YYYYY[e],i;if(i=ti.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=ti.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function Mfe(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=ti.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,QA(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=ti.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return Vfe(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=ti.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return QA(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=ti.Www.exec(t),n)return s=parseInt(n[1],10)-1,JA(e,s)?XA(e,s):new Date(NaN);if(n=ti.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return JA(e,s,l)?XA(e,s,l):new Date(NaN)}return null}function $fe(t){var e,n,r;if(e=ti.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Ob(n)?n%24*Cb:NaN;if(e=ti.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Ob(n,r)?n%24*Cb+r*qA:NaN;if(e=ti.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Ob(n,r,i)?n%24*Cb+r*qA+i*1e3:NaN}return null}function XA(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Lfe=[31,28,31,30,31,30,31,31,30,31,30,31],Ffe=[31,29,31,30,31,30,31,31,30,31,30,31];function r3(t){return t%400===0||t%4===0&&t%100!==0}function QA(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=r3(t);if(r&&n>Ffe[e]||!r&&n>Lfe[e])return!1}return!0}function Vfe(t,e){if(e<1)return!1;var n=r3(t);return!(n&&e>366||!n&&e>365)}function JA(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Ob(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Yw={exports:{}},qw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(qw,qw.exports);var Ufe=qw.exports;(function(t,e){var n=bfe.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(Ufe);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Yw,Yw.exports);var Bfe=Yw.exports;const jfe=mS(Bfe);function Hfe(t,e,n){var r=Gw(t,n),i=vS(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function Wfe(t,e,n){if(typeof t=="string"&&!t.match(n3)){var r=jfe(n);return r.timeZone=e,Gw(t,r)}var i=Gw(t,n),s=gS(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=vS(e,new Date(s));return new Date(s+o)}function ZA(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function Kfe(t){return e=>ia(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const zfe=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(Kfe(t))}catch{i=r.map(ZA(e))}else i=r.map(ZA(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},yS=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},i3=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=ia(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},Gfe=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ar=t=>{const e=I(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},Yfe=t=>Object.assign({type:"dot"},t),s3=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,vg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},fr=t=>t,ek=t=>t===0?t:!t||isNaN(+t)?null:+t,tk=t=>t===null,qfe=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Xfe=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},jh=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},gc=(t,e)=>Xfe(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),sa=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},Qfe=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Jfe(t,e){let n=[...document.querySelectorAll(Qfe())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const Zfe=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},nk=(t,e,n,r,i)=>{const s=Hw(t,e.slice(0,t.length),new Date);return zd(s)&&RL(s)?r||i?s:_n(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},epe=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return nk(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=nk(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},Se=t=>t?new Date(t):new Date,tpe=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Yr=t=>{let e=Se(JSON.parse(JSON.stringify(t)));return e=QL(e,0),e=JL(e,0),e=uS(e,0),e=lS(e,0),e},oa=(t,e,n,r)=>{let i=t?Se(t):Se();return(e||e===0)&&(i=QL(i,+e)),(n||n===0)&&(i=JL(i,+n)),(r||r===0)&&(i=uS(i,+r)),lS(i,0)},Pr=(t,e)=>!t||!e?!1:Bh(Yr(t),Yr(e)),Yt=(t,e)=>!t||!e?!1:wu(Yr(t),Yr(e)),Wr=(t,e)=>!t||!e?!1:Uh(Yr(t),Yr(e)),Yv=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Wr(n,t[0])&&Pr(n,t[1]):t!=null&&t[0]&&e?Wr(n,t[0])&&Pr(n,e)||Pr(n,t[0])&&Wr(n,e):!1,os=t=>{const e=_n(new Date(t),{date:1});return Yr(e)},Ab=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},il=t=>({hours:hs(t),minutes:Ls(t),seconds:pc(t)}),o3=(t,e)=>{if(e){const n=_t(Se(e));if(n>t)return 12;if(n===t)return Ut(Se(e))}},a3=(t,e)=>{if(e){const n=_t(Se(e));return n<t?-1:n===t?Ut(Se(e)):void 0}},vc=t=>{if(t)return _t(Se(t))},fs=(t,e)=>e?Hfe(t,e):t,l3=(t,e)=>e?Wfe(t,e):t,npe=t=>t instanceof Date?t:nfe(t),u3=(t,e)=>{const n=Wr(t,e)?e:t,r=Wr(e,t)?e:t;return NL({start:n,end:r})},rpe=t=>{const e=ds(t,1);return{month:Ut(e),year:_t(e)}},tm=(t,e,n)=>{const r=Ol(fs(t,e),{weekStartsOn:+n}),i=Yce(fs(t,e),{weekStartsOn:+n});return[r,i]},c3=(t,e)=>{const n={hours:hs(Se()),minutes:Ls(Se()),seconds:e?pc(Se()):0};return Object.assign(n,t)},Xo=(t,e,n)=>[_n(Se(t),{date:1}),_n(Se(),{month:e,year:n,date:1})],no=(t,e,n)=>{let r=t?Se(t):Se();return(e||e===0)&&(r=XL(r,e)),n&&(r=xs(r,n)),r},d3=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?ds(t,1):mc(t,1),o=[Ut(s),_t(s)];return i?!spe(...o,e):!ipe(...o,n)},ipe=(t,e,n)=>Pr(...Xo(n,t,e))||Yt(...Xo(n,t,e)),spe=(t,e,n)=>Wr(...Xo(n,t,e))||Yt(...Xo(n,t,e)),h3=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${ia(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?ia(t[1],s,a):""}`:ia(t,s,a)},eu=t=>{if(t)return null;throw new Error(vg.prop("partial-range"))},kp=(t,e)=>{if(e)return t();throw new Error(vg.prop("range"))},Xw=t=>Array.isArray(t)?zd(t[0])&&(t[1]?zd(t[1]):!0):t?zd(t):!1,ope=(t,e)=>_n(e??Se(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),kb=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Bh(t,e):Uh(t,e),s={seconds:0,milliseconds:0};return i||wu(_n(t,s),_n(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Pb=(t,e,n)=>t?ope(t,e):Se(n??e),rk=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Pb(t,r[0],e),a=Pb(t,r[1],e);return kb(r[0],o,n,!!e)&&kb(r[1],a,n,!!e)&&i}const s=Pb(t,r,e);return kb(r,s,n,!!e)&&i},xb=t=>_n(Se(),il(t)),ape=(t,e)=>Array.isArray(t)?t.map(n=>Se(n)).filter(n=>_t(Se(n))===e).map(n=>Ut(n)):[],f3=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),bS=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Jc=Nn({menuFocused:!1,shiftKeyInMenu:!1}),p3=()=>{const t=n=>{Jc.menuFocused=n},e=n=>{Jc.shiftKeyInMenu!==n&&(Jc.shiftKeyInMenu=n)};return{control:ee(()=>({shiftKeyInMenu:Jc.shiftKeyInMenu,menuFocused:Jc.menuFocused})),setMenuFocused:t,setShiftKey:e}},pn=Nn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Db=se(null),Pp=se(!1),Rb=se(!1),Nb=se(!1),Mb=se(!1),Jr=se(0),Tr=se(0),Ea=()=>{const t=ee(()=>Pp.value?[...pn.selectionGrid,pn.actionRow].filter(d=>d.length):Rb.value?[...pn.timePicker[0],...pn.timePicker[1],Mb.value?[]:[Db.value],pn.actionRow].filter(d=>d.length):Nb.value?[...pn.monthPicker,pn.actionRow]:[pn.monthYear,...pn.calendar,pn.time,pn.actionRow].filter(d=>d.length)),e=d=>{Jr.value=d?Jr.value+1:Jr.value-1;let h=null;t.value[Tr.value]&&(h=t.value[Tr.value][Jr.value]),h||(Jr.value=d?Jr.value-1:Jr.value+1)},n=d=>{Tr.value===0&&!d||Tr.value===t.value.length&&d||(Tr.value=d?Tr.value+1:Tr.value-1,t.value[Tr.value]?t.value[Tr.value]&&!t.value[Tr.value][Jr.value]&&Jr.value!==0&&(Jr.value=t.value[Tr.value].length-1):Tr.value=d?Tr.value-1:Tr.value+1)},r=d=>{let h=null;t.value[Tr.value]&&(h=t.value[Tr.value][Jr.value]),h?h.focus({preventScroll:!Pp.value}):Jr.value=d?Jr.value-1:Jr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{pn[h]=d},u=(d,h)=>{pn[h]=d},c=()=>{Jr.value=0,Tr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{Db.value=d},setSelectionGrid:d=>{Pp.value=d,c(),d||(pn.selectionGrid=[])},setTimePicker:(d,h=!1)=>{Rb.value=d,Mb.value=h,c(),d||(pn.timePicker[0]=[],pn.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{pn.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{pn.monthYear=[],pn.calendar=[],pn.time=[],pn.actionRow=[],pn.selectionGrid=[],pn.timePicker[0]=[],pn.timePicker[1]=[],Pp.value=!1,Rb.value=!1,Mb.value=!1,Nb.value=!1,c(),Db.value=null},setMonthPicker:d=>{Nb.value=d,c()},refSets:pn}},ik=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),lpe=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),sk=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,upe=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:sk(!1)};const r=e?t:{},i=e?r.count??!0:t,s=sk(i);return Object.assign(n,r,{count:s})},cpe=(t,e,n)=>t||(typeof n=="string"?n:e),dpe=t=>typeof t=="boolean"?t?ik({}):!1:ik(t),hpe=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},fpe=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),ppe=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),mpe=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},gpe=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),vpe=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>Se(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},ype=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},qn=t=>{const e=()=>{const y=t.enableSeconds?":ss":"";return t.is24?`HH:mm${y}`:`hh:mm${y} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=y=>c3(y,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ee(()=>upe(t.multiCalendars)),o=ee(()=>i()),a=ee(()=>lpe(t.ariaLabels)),l=ee(()=>fpe(t.filters)),u=ee(()=>dpe(t.transitions)),c=ee(()=>ppe(t.actionRow)),d=ee(()=>cpe(t.previewFormat,t.format,n())),h=ee(()=>hpe(t.textInput)),f=ee(()=>mpe(t.inline)),p=ee(()=>gpe(t.config)),m=ee(()=>vpe(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),g=ee(()=>ype(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:f,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:g,getDefaultPattern:n,getDefaultStartTime:i}},bpe=(t,e,n)=>{const r=se(),{defaultedTextInput:i,getDefaultPattern:s}=qn(e),o=se(""),a=Hu(e,"format");Ot(r,()=>{t("internal-model-change",r.value)}),Ot(a,()=>{$()});const l=k=>l3(k,e.timezone),u=k=>fs(k,e.timezone),c=(k,ne,ie=!1)=>h3(k,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,ne??s(),ie),d=k=>k?e.modelType?P(k):{hours:hs(k),minutes:Ls(k),seconds:e.enableSeconds?pc(k):0}:null,h=k=>e.modelType?P(k):{month:Ut(k),year:_t(k)},f=k=>Array.isArray(k)?e.multiDates?k.map(ne=>p(ne,xs(Se(),ne))):kp(()=>[xs(Se(),k[0]),k[1]?xs(Se(),k[1]):eu(e.partialRange)],e.range):xs(Se(),+k),p=(k,ne)=>(typeof k=="string"||typeof k=="number")&&e.modelType?A(k):ne,m=k=>Array.isArray(k)?[p(k[0],oa(null,+k[0].hours,+k[0].minutes,k[0].seconds)),p(k[1],oa(null,+k[1].hours,+k[1].minutes,k[1].seconds))]:p(k,oa(null,k.hours,k.minutes,k.seconds)),g=k=>Array.isArray(k)?e.multiDates?k.map(ne=>p(ne,no(null,+ne.month,+ne.year))):kp(()=>[p(k[0],no(null,+k[0].month,+k[0].year)),p(k[1],k[1]?no(null,+k[1].month,+k[1].year):eu(e.partialRange))],e.range):p(k,no(null,+k.month,+k.year)),y=k=>{if(Array.isArray(k))return k.map(ne=>A(ne));throw new Error(vg.dateArr("multi-dates"))},b=k=>{if(Array.isArray(k))return[Se(k[0]),Se(k[1])];throw new Error(vg.dateArr("week-picker"))},_=k=>e.modelAuto?Array.isArray(k)?[A(k[0]),A(k[1])]:e.autoApply?[A(k)]:[A(k),null]:Array.isArray(k)?kp(()=>[A(k[0]),k[1]?A(k[1]):eu(e.partialRange)],e.range):A(k),w=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(eu(e.partialRange))},T=()=>{const k=r.value;return[P(k[0]),k[1]?P(k[1]):eu(e.partialRange)]},S=()=>r.value[1]?T():P(fr(r.value[0])),O=()=>(r.value||[]).map(k=>P(k)),R=()=>(w(),e.modelAuto?S():e.multiDates?O():Array.isArray(r.value)?kp(()=>T(),e.range):P(fr(r.value))),D=k=>!k||Array.isArray(k)&&!k.length?null:e.timePicker?m(fr(k)):e.monthPicker?g(fr(k)):e.yearPicker?f(fr(k)):e.multiDates?y(fr(k)):e.weekPicker?b(fr(k)):_(fr(k)),C=k=>{const ne=D(k);Xw(fr(ne))?(r.value=fr(ne),$()):(r.value=null,o.value="")},N=()=>{const k=ne=>ia(ne,i.value.format);return`${k(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?k(r.value[1]):""}`},F=()=>n.value&&r.value?Array.isArray(r.value)?N():ia(r.value,i.value.format):c(r.value),H=()=>r.value?e.multiDates?r.value.map(k=>c(k)).join("; "):i.value.enabled&&typeof i.value.format=="string"?F():c(r.value):"",$=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=H():o.value=e.format(r.value)},A=k=>{if(e.utc){const ne=new Date(k);return e.utc==="preserve"?new Date(ne.getTime()+ne.getTimezoneOffset()*6e4):ne}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(k)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Hw(k,s(),new Date):u(Hw(k,e.modelType,new Date)):u(new Date(k))},P=k=>k?e.utc?tpe(k,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(k):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(k)):c(l(k),e.modelType,!0):l(k):"",W=(k,ne=!1)=>{if(t("update:model-value",k),e.emitTimezone&&ne){const ie=Array.isArray(k)?k.map(ve=>fs(fr(ve)),e.emitTimezone):fs(fr(k),e.emitTimezone);t("update:model-timezone-value",ie)}},X=k=>Array.isArray(r.value)?e.multiDates?r.value.map(ne=>k(ne)):[k(r.value[0]),r.value[1]?k(r.value[1]):eu(e.partialRange)]:k(fr(r.value)),U=k=>W(fr(X(k)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:C,formatInputValue:$,emitModelValue:()=>($(),e.monthPicker?U(h):e.timePicker?U(d):e.yearPicker?U(_t):e.weekPicker?W(r.value.map(k=>P(k)),!0):W(R(),!0))}},wpe=(t,e)=>{const{defaultedFilters:n}=qn(t),{validateMonthYearInRange:r}=Bl(t),i=(u,c)=>{let d=u;return n.value.months.includes(Ut(d))?(d=c?ds(u,1):mc(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(_t(d))?(d=c?nS(u,1):ZL(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=_n(new Date,{month:t.month,year:t.year});let h=u?ds(d,1):mc(d,1);t.disableYearSelect&&(h=xs(h,t.year));let f=Ut(h),p=_t(h);n.value.months.includes(f)&&(h=i(h,u),f=Ut(h),p=_t(h)),n.value.years.includes(p)&&(h=s(h,u),p=_t(h)),r(f,p,u,t.preventMinMaxNavigation)&&a(f,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=ee(()=>u=>d3(_n(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var uu=(t=>(t.center="center",t.left="left",t.right="right",t))(uu||{}),es=(t=>(t.month="month",t.year="year",t))(es||{}),$a=(t=>(t.top="top",t.bottom="bottom",t))($a||{}),sl=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(sl||{}),_s=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(_s||{});const _pe=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=se({}),u=se(!1),c=se({top:"0",left:"0"}),d=se(!1),h=Hu(o,"teleportCenter");Ot(h,()=>{c.value=JSON.parse(JSON.stringify({})),w()});const f=A=>{if(o.teleport){const P=A.getBoundingClientRect();return{left:P.left+window.scrollX,top:P.top+window.scrollY}}return{top:0,left:0}},p=(A,P)=>{c.value.left=`${A+P-l.value.width}px`},m=A=>{c.value.left=`${A}px`},g=(A,P)=>{o.position===uu.left&&m(A),o.position===uu.right&&p(A,P),o.position===uu.center&&(c.value.left=`${A+P/2-l.value.width/2}px`)},y=A=>{const{width:P,height:W}=A.getBoundingClientRect(),{top:X,left:U}=o.altPosition?o.altPosition(A):f(A);return{top:+X,left:+U,width:P,height:W}},b=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},_=()=>{const A=ar(n),{top:P,left:W,transform:X}=o.altPosition(A);c.value={top:`${P}px`,left:`${W}px`,transform:X??""}},w=(A=!0)=>{var P;if(!i.value.enabled){if(h.value)return b();if(o.altPosition!==null)return _();if(A){const W=o.teleport?(P=e.value)==null?void 0:P.$el:t.value;W&&(l.value=W.getBoundingClientRect()),s("recalculate-position")}return N()}},T=({inputEl:A,left:P,width:W})=>{window.screen.width>768&&!u.value&&g(P,W),R(A)},S=A=>{const{top:P,left:W,height:X,width:U}=y(A);c.value.top=`${X+P+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${W+U/2-l.value.width/2}px`),T({inputEl:A,left:W,width:U})},O=A=>{const{top:P,left:W,width:X}=y(A);c.value.top=`${P-+o.offset-l.value.height}px`,d.value=!0,T({inputEl:A,left:W,width:X})},R=A=>{if(o.autoPosition){const{left:P,width:W}=y(A),{left:X,right:U}=l.value;if(!u.value){if(Math.abs(X)!==Math.abs(U)){if(X<=0)return u.value=!0,m(P);if(U>=document.documentElement.clientWidth)return u.value=!0,p(P,W)}return g(P,W)}}},D=()=>{const A=ar(n);if(A){const{height:P}=l.value,{top:W,height:X}=A.getBoundingClientRect(),U=window.innerHeight-W-X,k=W;return P<=U?$a.bottom:P>U&&P<=k?$a.top:U>=k?$a.bottom:$a.top}return $a.bottom},C=A=>D()===$a.bottom?S(A):O(A),N=()=>{const A=ar(n);if(A)return o.autoPosition?C(A):S(A)},F=function(A){if(A){const P=A.scrollHeight>A.clientHeight,W=window.getComputedStyle(A).overflowY.indexOf("hidden")!==-1;return P&&!W}return!0},H=function(A){return!A||A===document.body||A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:F(A)?A:H(A.parentNode)},$=A=>{if(A)switch(o.position){case uu.left:return{left:0,transform:"translateX(0)"};case uu.right:return{left:`${A.width}px`,transform:"translateX(-100%)"};default:return{left:`${A.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:w,getScrollableParent:H,shadowRender:(A,P)=>{var W,X,U;const k=document.createElement("div"),ne=(W=ar(n))==null?void 0:W.getBoundingClientRect();k.setAttribute("id","dp--temp-container");const ie=(X=r.value)!=null&&X.clientWidth?r.value:document.body;ie.append(k);const ve=$(ne),ye=cl(A,{...P,shadow:!0,style:{opacity:0,position:"absolute",...ve}},Object.fromEntries(Object.keys(a).filter(oe=>["right-sidebar","left-sidebar"].includes(oe)).map(oe=>[oe,a[oe]])));dl(ye,k),l.value=(U=ye.el)==null?void 0:U.getBoundingClientRect(),dl(null,k),ie.removeChild(k)}}},Do=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Tpe=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Spe={all:()=>Do,monthYear:()=>Do.filter(t=>t.use.includes("month-year")),input:()=>Tpe,timePicker:()=>Do.filter(t=>t.use.includes("time")),action:()=>Do.filter(t=>t.use.includes("action")),calendar:()=>Do.filter(t=>t.use.includes("calendar")),menu:()=>Do.filter(t=>t.use.includes("menu")),shared:()=>Do.filter(t=>t.use.includes("shared")),yearMode:()=>Do.filter(t=>t.use.includes("year-mode"))},ki=(t,e,n)=>{const r=[];return Spe[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Mf=t=>{const e=ee(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ee(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},$f=(t,e)=>{const n=Se(fs(new Date,t.timezone)),r=se([{month:Ut(n),year:_t(n)}]),i=Nn({hours:t.range?[hs(n),hs(n)]:hs(n),minutes:t.range?[Ls(n),Ls(n)]:Ls(n),seconds:t.range?[0,0]:0}),s=ee({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ee(()=>l=>r.value[l]?r.value[l].month:0),a=ee(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},Epe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=qn(e),{isDisabled:i,matchDate:s}=Bl(e),o=se(null),a=se(Se(fs(new Date,e.timezone))),l=U=>{!U.current&&e.hideOffsetDates||(o.value=U.value)},u=()=>{o.value=null},c=U=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?U?Wr(o.value,t.value[0]):Pr(o.value,t.value[0]):!0,d=(U,k)=>{const ne=()=>t.value?k?t.value[0]||null:t.value[1]:null,ie=t.value&&Array.isArray(t.value)?ne():null;return Yt(Se(U.value),ie)},h=U=>{const k=Array.isArray(t.value)?t.value[0]:null;return U?!Pr(o.value??null,k):!0},f=(U,k=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!U.current?!1:Yt(Se(U.value),t.value[k?0:1]):e.range?d(U,k)&&h(k)||Yt(U.value,Array.isArray(t.value)?t.value[0]:null)&&c(k):!1,p=(U,k,ne)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?U?!1:ne?Wr(t.value[0],k.value):Pr(t.value[0],k.value):!1,m=U=>!t.value||e.hideOffsetDates&&!U.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Yt(U.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(k=>Yt(k,U.value)):Yt(U.value,t.value?t.value:a.value),g=U=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!U.current)return!1;const k=Qs(o.value,+e.autoRange),ne=tm(Se(o.value),e.timezone,e.weekStart);return e.weekPicker?Yt(ne[1],Se(U.value)):Yt(k,Se(U.value))}return!1}return!1},y=U=>{if(e.autoRange||e.weekPicker){if(o.value){const k=Qs(o.value,+e.autoRange);if(e.hideOffsetDates&&!U.current)return!1;const ne=tm(Se(o.value),e.timezone,e.weekStart);return e.weekPicker?Wr(U.value,ne[0])&&Pr(U.value,ne[1]):Wr(U.value,o.value)&&Pr(U.value,k)}return!1}return!1},b=U=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!U.current)return!1;const k=tm(Se(o.value),e.timezone,e.weekStart);return e.weekPicker?Yt(k[0],U.value):Yt(o.value,U.value)}return!1}return!1},_=U=>Yv(t.value,o.value,U.value),w=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,T=()=>e.modelAuto?s3(e.internalModelValue):!0,S=U=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const k=e.range?!f(U)&&!f(U,!1):!0;return!i(U.value)&&!m(U)&&!(!U.current&&e.hideOffsetDates)&&k},O=U=>e.range?e.modelAuto?w()&&m(U):!1:m(U),R=U=>{var k;return r.value?typeof r.value=="function"?r.value(U.value):s(U.value,(k=e.arrMapValues)!=null&&k.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},D=U=>{const k=i(U.value);return k&&(typeof r.value=="function"?!r.value(U.value,k):!r.value.options.highlightDisabled)},C=U=>{var k;return typeof r.value=="function"?r.value(U.value):(k=r.value.weekdays)==null?void 0:k.includes(U.value.getDay())},N=U=>(e.range||e.weekPicker)&&(!(n.value.count>0)||U.current)&&T()&&!(!U.current&&e.hideOffsetDates)&&!m(U)?_(U):!1,F=U=>{const{isRangeStart:k,isRangeEnd:ne}=A(U),ie=e.range?k||ne:!1;return{dp__cell_offset:!U.current,dp__pointer:!e.disabled&&!(!U.current&&e.hideOffsetDates)&&!i(U.value),dp__cell_disabled:i(U.value),dp__cell_highlight:!D(U)&&(R(U)||C(U))&&!O(U)&&!ie&&!b(U)&&!(N(U)&&e.weekPicker)&&!ne,dp__cell_highlight_active:!D(U)&&(R(U)||C(U))&&O(U),dp__today:!e.noToday&&Yt(U.value,a.value)&&U.current}},H=U=>({dp__active_date:O(U),dp__date_hover:S(U)}),$=U=>({...P(U),...W(U),dp__range_between_week:N(U)&&e.weekPicker}),A=U=>{const k=n.value.count>0?U.current&&f(U)&&T():f(U)&&T(),ne=n.value.count>0?U.current&&f(U,!1)&&T():f(U,!1)&&T();return{isRangeStart:k,isRangeEnd:ne}},P=U=>{const{isRangeStart:k,isRangeEnd:ne}=A(U);return{dp__range_start:k,dp__range_end:ne,dp__range_between:N(U)&&!e.weekPicker,dp__date_hover_start:p(S(U),U,!0),dp__date_hover_end:p(S(U),U,!1)}},W=U=>({...P(U),dp__cell_auto_range:y(U),dp__cell_auto_range_start:b(U),dp__cell_auto_range_end:g(U)}),X=U=>e.range?e.autoRange?W(U):e.modelAuto?{...H(U),...P(U)}:P(U):e.weekPicker?$(U):H(U);return{setHoverDate:l,clearHoverDate:u,getDayClassData:U=>e.hideOffsetDates&&!U.current?{}:{...F(U),...X(U),[e.dayClass?e.dayClass(U.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Bl=t=>{const{defaultedFilters:e,defaultedHighlight:n}=qn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=C=>{const N=Yr(s(Se(C))).toISOString(),[F]=N.split("T");return F},s=C=>t.utc==="preserve"?l3(C,r()):fs(C,r()),o=C=>{var N;const F=t.maxDate?Wr(C,s(Se(t.maxDate))):!1,H=t.minDate?Pr(C,s(Se(t.minDate))):!1,$=c(s(C),(N=t.arrMapValues)!=null&&N.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),A=e.value.months.map(k=>+k).includes(Ut(C)),P=t.disabledWeekDays.length?t.disabledWeekDays.some(k=>+k===Qde(C)):!1,W=h(C),X=_t(C),U=X<+t.yearRange[0]||X>+t.yearRange[1];return!(F||H||$||A||U||P||W)},a=(C,N)=>Pr(...Xo(t.minDate,C,N))||Yt(...Xo(t.minDate,C,N)),l=(C,N)=>Wr(...Xo(t.maxDate,C,N))||Yt(...Xo(t.maxDate,C,N)),u=(C,N,F)=>{let H=!1;return t.maxDate&&F&&l(C,N)&&(H=!0),t.minDate&&!F&&a(C,N)&&(H=!0),H},c=(C,N)=>C?N instanceof Map?!!N.get(i(C)):Array.isArray(N)?N.some(F=>Yt(s(Se(F)),C)):N?N(Se(JSON.parse(JSON.stringify(C)))):!1:!0,d=(C,N,F,H)=>{let $=!1;return H?t.minDate&&t.maxDate?$=u(C,N,F):(t.minDate&&a(C,N)||t.maxDate&&l(C,N))&&($=!0):$=!0,$},h=C=>{var N,F,H,$,A;return Array.isArray(t.allowedDates)&&!((N=t.allowedDates)!=null&&N.length)?!0:(F=t.arrMapValues)!=null&&F.allowedDates?!c(C,(H=t.arrMapValues)==null?void 0:H.allowedDates):($=t.allowedDates)!=null&&$.length?!((A=t.allowedDates)!=null&&A.some(P=>Yt(Yr(P),s(Yr(C))))):!1},f=C=>!o(C),p=C=>t.noDisabledRange?!NL({start:C[0],end:C[1]}).some(N=>f(N)):!0,m=(C,N,F=0)=>{if(Array.isArray(N)&&N[F]){const H=jce(C,N[F]),$=u3(N[F],C),A=$.length===1?0:$.filter(W=>f(W)).length,P=Math.abs(H)-A;if(t.minRange&&t.maxRange)return P>=+t.minRange&&P<=+t.maxRange;if(t.minRange)return P>=+t.minRange;if(t.maxRange)return P<=+t.maxRange}return!0},g=C=>new Map(C.map(N=>[i(N),!0])),y=C=>Array.isArray(C)&&C.length>0,b=()=>{const C={disabledDates:null,allowedDates:null,highlightedDates:null};return y(t.allowedDates)&&(C.allowedDates=g(t.allowedDates)),typeof n.value!="function"&&y(n.value.dates)&&(C.highlightedDates=g(n.value.dates)),y(t.disabledDates)&&(C.disabledDates=g(t.disabledDates)),C},_=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,w=C=>Array.isArray(C)?[C[0]?xb(C[0]):null,C[1]?xb(C[1]):null]:xb(C),T=(C,N,F)=>C.find(H=>+H.hours===hs(N)&&H.minutes==="*"?!0:+H.minutes===Ls(N)&&+H.hours===hs(N))&&F,S=(C,N,F)=>{const[H,$]=C,[A,P]=N;return!T(H,A,F)&&!T($,P,F)&&F},O=(C,N)=>{const F=Array.isArray(N)?N:[N];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?S(t.disabledTimes,F,C):!F.some(H=>T(t.disabledTimes,H,C)):C},R=(C,N)=>{const F=Array.isArray(N)?[il(N[0]),N[1]?il(N[1]):void 0]:il(N),H=!t.disabledTimes(F);return C&&H},D=(C,N)=>t.disabledTimes?Array.isArray(t.disabledTimes)?O(N,C):R(N,C):N;return{isDisabled:f,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:m,matchDate:c,mapDatesArrToMap:b,isValidTime:C=>{let N=!0;if(!C||_())return!0;const F=!t.minDate&&!t.maxDate?w(C):C;return(t.maxTime||t.maxDate)&&(N=rk(t.maxTime,t.maxDate,"max",fr(F),N)),(t.minTime||t.minDate)&&(N=rk(t.minTime,t.minDate,"min",fr(F),N)),D(C,N)}}},qv=()=>{const t=ee(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ee(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ee(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},Ipe=(t,e,n)=>{const r=se(0),i=Nn({[sl.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[sl.calendar]:!1,[sl.header]:!1}),s=ee(()=>t.monthPicker),o=d=>{var h;if((h=t.flow)!=null&&h.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(f=>!i[f]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,h,...f)=>{t.flow[r.value]===d&&n.value&&n.value[h](...f)},c=()=>{u(_s.month,"toggleMonthPicker",!0),u(_s.year,"toggleYearPicker",!0),u(_s.calendar,"toggleTimePicker",!1,!0),u(_s.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===_s.hours||d===_s.minutes||d===_s.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},Xv={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},ys={...Xv,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},Cpe={key:1,class:"dp__input_wrap"},Ope=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Ape={key:2,class:"dp__clear_icon"},kpe=Ce({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Xv},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=qn(i),{checkMinMaxRange:d}=Bl(i),h=se(),f=se(null),p=se(!1),m=se(!1),g=ee(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:p.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),y=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),h.value=null)},b=$=>{const A=c();return epe($,s.value.format??u(),A??c3({},i.enableSeconds),i.inputValue,m.value)},_=$=>{const{rangeSeparator:A}=s.value,[P,W]=$.split(`${A}`);if(P){const X=b(P.trim()),U=W?b(W.trim()):null,k=X&&U?[X,U]:[X];d(U,k,0)&&(h.value=X?k:null)}},w=()=>{m.value=!0},T=$=>{if(i.range)_($);else if(i.multiDates){const A=$.split(";");h.value=A.map(P=>b(P.trim())).filter(P=>P)}else h.value=b($)},S=$=>{var A;const P=typeof $=="string"?$:(A=$.target)==null?void 0:A.value;P!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),T(P),r("set-input-date",h.value)):y(),m.value=!1,r("update:input-value",P)},O=$=>{s.value.enabled?(T($.target.value),s.value.enterSubmit&&Xw(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0),h.value=null):s.value.enterSubmit&&i.inputValue===""&&(h.value=null,r("clear"))):C($)},R=$=>{s.value.enabled&&s.value.tabSubmit&&T($.target.value),s.value.tabSubmit&&Xw(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0,!0),h.value=null):s.value.tabSubmit&&i.inputValue===""&&(h.value=null,r("clear",!0))},D=()=>{var $;p.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&(($=f.value)==null||$.select())},C=$=>{$.preventDefault(),sa($,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},N=()=>{r("real-blur"),p.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&h.value&&!i.isMenuOpen&&(r("set-input-date",h.value),r("select-date"),h.value=null)},F=$=>{sa($,l.value,!0),r("clear")},H=$=>{if(!s.value.enabled){if($.code==="Tab")return;$.preventDefault()}};return e({focusInput:()=>{var $;($=f.value)==null||$.focus({preventScroll:!0})},setParsedDate:$=>{h.value=$}}),($,A)=>{var P;return E(),L("div",{onClick:C},[$.$slots.trigger&&!$.$slots["dp-input"]&&!I(a).enabled?fe($.$slots,"trigger",{key:0}):q("",!0),!$.$slots.trigger&&(!I(a).enabled||I(a).input)?(E(),L("div",Cpe,[$.$slots["dp-input"]&&!$.$slots.trigger&&!I(a).enabled?fe($.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:S,onEnter:O,onTab:R,onClear:F,onBlur:N,onKeypress:H,onPaste:w,openMenu:()=>$.$emit("open"),closeMenu:()=>$.$emit("close"),toggleMenu:()=>$.$emit("toggle")}):q("",!0),$.$slots["dp-input"]?q("",!0):(E(),L("input",{key:1,id:$.uid?`dp-input-${$.uid}`:void 0,ref_key:"inputRef",ref:f,name:$.name,class:xe(g.value),inputmode:I(s).enabled?"text":"none",placeholder:$.placeholder,disabled:$.disabled,readonly:$.readonly,required:$.required,value:t.inputValue,autocomplete:$.autocomplete,"aria-label":(P=I(o))==null?void 0:P.input,"aria-disabled":$.disabled||void 0,"aria-invalid":$.state===!1?!0:void 0,onInput:S,onKeydown:[ht(O,["enter"]),ht(R,["tab"]),H],onBlur:N,onFocus:D,onKeypress:H,onPaste:w},null,42,Ope)),v("div",{onClick:A[2]||(A[2]=W=>r("toggle"))},[$.$slots["input-icon"]&&!$.hideInputIcon?(E(),L("span",{key:0,class:"dp__input_icon",onClick:A[0]||(A[0]=W=>r("toggle"))},[fe($.$slots,"input-icon")])):q("",!0),!$.$slots["input-icon"]&&!$.hideInputIcon&&!$.$slots["dp-input"]?(E(),re(I(Dc),{key:1,class:"dp__input_icon dp__input_icons",onClick:A[1]||(A[1]=W=>r("toggle"))})):q("",!0)]),$.$slots["clear-icon"]&&t.inputValue&&$.clearable&&!$.disabled&&!$.readonly?(E(),L("span",Ape,[fe($.$slots,"clear-icon",{clear:F})])):q("",!0),$.clearable&&!$.$slots["clear-icon"]&&t.inputValue&&!$.disabled&&!$.readonly?(E(),re(I(e3),{key:3,class:"dp__clear_icon dp__input_icons",onClick:A[3]||(A[3]=Tt(W=>F(W),["prevent"]))})):q("",!0)])):q("",!0)])}}}),Ppe=["title"],xpe={class:"dp__action_buttons"},Dpe=["disabled"],Rpe=Ce({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ys},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=qn(r),{isValidTime:c}=Bl(r),{buildMatrix:d}=Ea(),h=se(null),f=se(null);$t(()=>{r.arrowNavigation&&d([ar(h),ar(f)],"actionRow")});const p=ee(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),m=ee(()=>!g.value||!y.value||!p.value),g=ee(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),y=ee(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(C=>!R(C)).length:R(r.internalModelValue):!0),b=()=>{const C=s.value;return r.timePicker||r.monthPicker,C(fr(r.internalModelValue))},_=()=>{const C=r.internalModelValue;return o.value.count>0?`${w(C[0])} - ${w(C[1])}`:[w(C[0]),w(C[1])]},w=C=>h3(C,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),T=ee(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?_():r.multiDates?r.internalModelValue.map(C=>`${w(C)}`):r.modelAuto?`${w(r.internalModelValue[0])}`:`${w(r.internalModelValue[0])} -`:w(r.internalModelValue):b()),S=()=>r.multiDates?"; ":" - ",O=ee(()=>Array.isArray(T.value)?T.value.join(S()):T.value),R=C=>{if(!r.monthPicker)return!0;let N=!0;const F=Se(os(C));if(r.minDate&&r.maxDate){const H=Se(os(r.minDate)),$=Se(os(r.maxDate));return Wr(F,H)&&Pr(F,$)||Yt(F,H)||Yt(F,$)}if(r.minDate){const H=Se(os(r.minDate));N=Wr(F,H)||Yt(F,H)}if(r.maxDate){const H=Se(os(r.maxDate));N=Pr(F,H)||Yt(F,H)}return N},D=()=>{g.value&&y.value&&p.value?n("select-date"):n("invalid-select")};return(C,N)=>(E(),L("div",{class:"dp__action_row",style:tr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[C.$slots["action-row"]?fe(C.$slots,"action-row",Rn(ae({key:0},{internalModelValue:C.internalModelValue,disabled:m.value,selectDate:()=>C.$emit("select-date"),closePicker:()=>C.$emit("close-picker")}))):(E(),L(we,{key:1},[I(i).showPreview?(E(),L("div",{key:0,class:"dp__selection_preview",title:O.value},[C.$slots["action-preview"]?fe(C.$slots,"action-preview",{key:0,value:C.internalModelValue}):q("",!0),C.$slots["action-preview"]?q("",!0):(E(),L(we,{key:1},[B(Be(O.value),1)],64))],8,Ppe)):q("",!0),v("div",xpe,[C.$slots["action-buttons"]?fe(C.$slots,"action-buttons",{key:0,value:C.internalModelValue}):q("",!0),C.$slots["action-buttons"]?q("",!0):(E(),L(we,{key:1},[!I(l).enabled&&I(i).showCancel?(E(),L("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:N[0]||(N[0]=F=>C.$emit("close-picker")),onKeydown:[N[1]||(N[1]=ht(F=>C.$emit("close-picker"),["enter"])),N[2]||(N[2]=ht(F=>C.$emit("close-picker"),["space"]))]},Be(C.cancelText),545)):q("",!0),I(i).showNow?(E(),L("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:N[3]||(N[3]=F=>C.$emit("select-now")),onKeydown:[N[4]||(N[4]=ht(F=>C.$emit("select-now"),["enter"])),N[5]||(N[5]=ht(F=>C.$emit("select-now"),["space"]))]},Be(C.nowButtonLabel),545)):q("",!0),I(i).showSelect?(E(),L("button",{key:2,ref_key:"selectButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_select",disabled:m.value,onKeydown:[ht(D,["enter"]),ht(D,["space"])],onClick:D},Be(C.selectText),41,Dpe)):q("",!0)],64))])],64))],4))}}),Npe=["onKeydown"],Mpe={class:"dp__selection_grid_header"},$pe=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Lpe=["aria-label"],Lf=Ce({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Ea(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=qn(a),{hideNavigationButtons:d}=qv(),h=se(!1),f=se(null),p=se(null),m=se([]),g=se(),y=se(null),b=se(0),_=se(null);E1(()=>{f.value=null}),$t(()=>{Yn().then(()=>N()),a.noOverlayFocus||T(),w(!0)}),js(()=>w(!1));const w=U=>{var k;a.arrowNavigation&&((k=a.headerRefs)!=null&&k.length?s(U):r(U))},T=()=>{var U;const k=ar(p);k&&(u.value.enabled||(f.value?(U=f.value)==null||U.focus({preventScroll:!0}):k.focus({preventScroll:!0})),h.value=k.clientHeight<k.scrollHeight)},S=ee(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),O=ee(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),R=ee(()=>({dp__overlay_col:!0})),D=ee(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),C=ee(()=>{var U,k;return{dp__overlay_container:!0,dp__container_flex:((U=a.items)==null?void 0:U.length)<=6,dp__container_block:((k=a.items)==null?void 0:k.length)>6}});Ot(()=>a.items,()=>N(),{deep:!0});const N=()=>{Yn().then(()=>{const U=ar(f),k=ar(p),ne=ar(y),ie=ar(_),ve=ne?ne.getBoundingClientRect().height:0;k&&(k.getBoundingClientRect().height?b.value=k.getBoundingClientRect().height-ve:b.value=c.value.modeHeight-ve),U&&ie&&(ie.scrollTop=U.offsetTop-ie.offsetTop-(b.value/2-U.getBoundingClientRect().height)-ve)})},F=U=>{U.disabled||o("selected",U.value)},H=()=>{o("toggle"),o("reset-flow")},$=()=>{a.escClose&&H()},A=(U,k,ne,ie)=>{U&&((k.active||k.value===a.focusValue)&&(f.value=U),a.arrowNavigation&&(Array.isArray(m.value[ne])?m.value[ne][ie]=U:m.value[ne]=[U],P()))},P=()=>{var U,k;const ne=(U=a.headerRefs)!=null&&U.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[y.value]]);i(fr(ne),(k=a.headerRefs)!=null&&k.length?"monthPicker":"selectionGrid")},W=U=>{a.arrowNavigation||sa(U,c.value,!0)},X=U=>{g.value=U,o("hover-value",U)};return e({focusGrid:T}),(U,k)=>{var ne;return E(),L("div",{ref_key:"gridWrapRef",ref:p,class:xe(S.value),style:tr(O.value),role:"dialog",tabindex:"0",onKeydown:[ht(Tt($,["prevent"]),["esc"]),k[0]||(k[0]=ht(Tt(ie=>W(ie),["prevent"]),["left"])),k[1]||(k[1]=ht(Tt(ie=>W(ie),["prevent"]),["up"])),k[2]||(k[2]=ht(Tt(ie=>W(ie),["prevent"]),["down"])),k[3]||(k[3]=ht(Tt(ie=>W(ie),["prevent"]),["right"]))]},[v("div",{ref_key:"containerRef",ref:_,class:xe(C.value),role:"grid",style:tr({height:`${b.value}px`})},[v("div",Mpe,[fe(U.$slots,"header")]),U.$slots.overlay?fe(U.$slots,"overlay",{key:0}):(E(!0),L(we,{key:1},nt(U.items,(ie,ve)=>(E(),L("div",{key:ve,class:xe(["dp__overlay_row",{dp__flex_row:U.items.length>=3}]),role:"row"},[(E(!0),L(we,null,nt(ie,(ye,oe)=>(E(),L("div",{key:ye.value,ref_for:!0,ref:K=>A(K,ye,ve,oe),role:"gridcell",class:xe(R.value),"aria-selected":ye.active,"aria-disabled":ye.disabled||void 0,tabindex:"0",onClick:K=>F(ye),onKeydown:[ht(Tt(K=>F(ye),["prevent"]),["enter"]),ht(Tt(K=>F(ye),["prevent"]),["space"])],onMouseover:K=>X(ye.value)},[v("div",{class:xe(ye.className)},[U.$slots.item?fe(U.$slots,"item",{key:0,item:ye}):q("",!0),U.$slots.item?q("",!0):(E(),L(we,{key:1},[B(Be(ye.text),1)],64))],2)],42,$pe))),128))],2))),128))],6),U.$slots["button-icon"]?vi((E(),L("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(ne=I(l))==null?void 0:ne.toggleOverlay,class:xe(D.value),tabindex:"0",onClick:H,onKeydown:[ht(H,["enter"]),ht(H,["tab"])]},[fe(U.$slots,"button-icon")],42,Lpe)),[[Ds,!I(d)(U.hideNavigation,U.type)]]):q("",!0)],46,Npe)}}}),Qv=Ce({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ee(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ee(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(E(),L("div",{class:xe({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(E(!0),L(we,null,nt(n.value,(o,a)=>(E(),L("div",{key:o,class:xe(r.value)},[fe(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),Fpe=["aria-label","aria-disabled"],Gd=Ce({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=se(null);return $t(()=>n("set-ref",r)),(i,s)=>(E(),L("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=ht(Tt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=ht(Tt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[v("span",{class:xe(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[fe(i.$slots,"default")],2)],40,Fpe))}}),Vpe={class:"dp--year-mode-picker"},Upe=["aria-label"],m3=Ce({__name:"YearModePicker",props:{...ys,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=qv(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=qn(r),{showTransition:c,transitionName:d}=Mf(u),h=(m=!1,g)=>{n("toggle-year-picker",{flow:m,show:g})},f=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,g)=>{var y,b,_;return E(),L("div",Vpe,[I(s)(I(a),t.instance)?(E(),re(Gd,{key:0,ref:"mpPrevIconRef","aria-label":(y=I(l))==null?void 0:y.prevYear,disabled:t.isDisabled(!1),onActivate:g[0]||(g[0]=w=>p(!1))},{default:Y(()=>[m.$slots["arrow-left"]?fe(m.$slots,"arrow-left",{key:0}):q("",!0),m.$slots["arrow-left"]?q("",!0):(E(),re(I(cS),{key:1}))]),_:3},8,["aria-label","disabled"])):q("",!0),v("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(b=I(l))==null?void 0:b.openYearsOverlay,onClick:g[1]||(g[1]=()=>h(!1)),onKeydown:g[2]||(g[2]=ht(()=>h(!1),["enter"]))},[m.$slots.year?fe(m.$slots,"year",{key:0,year:t.year}):q("",!0),m.$slots.year?q("",!0):(E(),L(we,{key:1},[B(Be(t.year),1)],64))],40,Upe),I(i)(I(a),t.instance)?(E(),re(Gd,{key:1,ref:"mpNextIconRef","aria-label":(_=I(l))==null?void 0:_.nextYear,disabled:t.isDisabled(!0),onActivate:g[3]||(g[3]=w=>p(!0))},{default:Y(()=>[m.$slots["arrow-right"]?fe(m.$slots,"arrow-right",{key:0}):q("",!0),m.$slots["arrow-right"]?q("",!0):(E(),re(I(dS),{key:1}))]),_:3},8,["aria-label","disabled"])):q("",!0),M(Xi,{name:I(d)(t.showYearPicker),css:I(c)},{default:Y(()=>[t.showYearPicker?(E(),re(Lf,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!I(o).keepActionRow,"hide-navigation":m.hideNavigation,type:"year",onToggle:h,onSelected:g[4]||(g[4]=w=>f(w))},rr({"button-icon":Y(()=>[m.$slots["calendar-icon"]?fe(m.$slots,"calendar-icon",{key:0}):q("",!0),m.$slots["calendar-icon"]?q("",!0):(E(),re(I(Dc),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:Y(({item:w})=>[fe(m.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):q("",!0)]),_:3},8,["name","css"])])}}}),wS=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Yt(t,r))){const r=e.value.filter(i=>!Yt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},_S=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Pr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Jv=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},g3=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>fs(Se(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=fs(Se(t.value),t.timezone))},v3=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ee(()=>yS(i.yearRange,i.reverseYears)),u=se([!1]),c=ee(()=>(w,T)=>{const S=_n(os(new Date),{month:o.value(w),year:s.value(w)});return d3(S,i.maxDate,i.minDate,i.preventMinMaxNavigation,T)}),d=()=>{for(let w=0;w<t.value.count;w++)if(w===0)n.value[w]=n.value[0];else{const T=_n(Se(),n.value[w-1]);n.value[w]={month:Ut(T),year:_t(nS(T,1))}}},h=w=>{if(!w)return d();const T=_n(Se(),n.value[w]);return n.value[0].year=_t(ZL(T,t.value.count-1)),d()},f=w=>i.focusStartDate?w[0]:w[1]?w[1]:w[0],p=()=>{if(r.value){const w=Array.isArray(r.value)?f(r.value):r.value;n.value[0]={month:Ut(w),year:_t(w)}}};$t(()=>{p(),t.value.count&&d()});const m=(w,T)=>{n.value[T].year=w,t.value.count&&!t.value.solo&&h(T)},g=ee(()=>w=>gc(l.value,T=>{const S=s.value(w)===T.value,O=jh(T.value,vc(i.minDate),vc(i.maxDate)),R=bS(e.value,T.value);return{active:S,disabled:O,highlighted:R}})),y=(w,T)=>{m(w,T),_(T)},b=(w,T=!1)=>{if(!c.value(w,T)){const S=T?s.value(w)+1:s.value(w)-1;m(S,w)}},_=(w,T=!1,S)=>{T||a("reset-flow"),S!==void 0?u.value[w]=S:u.value[w]=!u.value[w],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:g,showYearPicker:u,selectYear:m,toggleYearPicker:_,handleYearSelect:y,handleYear:b}},Bpe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=qn(t),{modelValue:a,year:l,month:u,calendars:c}=$f(t,e),d=ee(()=>i3(t.formatLocale,t.locale,t.monthNameFormat)),h=se(null),{selectYear:f,groupedYears:p,showYearPicker:m,toggleYearPicker:g,handleYearSelect:y,handleYear:b,isDisabled:_}=v3({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});$t(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&f(_t(Se(t.startDate)),0)});const w=W=>W?{month:Ut(W),year:_t(W)}:{month:null,year:null},T=()=>a.value?Array.isArray(a.value)?a.value.map(W=>w(W)):w(a.value):w(),S=(W,X)=>{const U=c.value[W],k=T();return Array.isArray(k)?k.some(ne=>ne.year===(U==null?void 0:U.year)&&ne.month===X):(U==null?void 0:U.year)===k.year&&X===k.month},O=(W,X,U)=>{var k,ne;const ie=T();return Array.isArray(ie)?l.value(X)===((k=ie[U])==null?void 0:k.year)&&W===((ne=ie[U])==null?void 0:ne.month):!1},R=(W,X)=>{if(t.range){const U=T();if(Array.isArray(a.value)&&Array.isArray(U)){const k=O(W,X,0)||O(W,X,1),ne=no(os(Se()),W,l.value(X));return Yv(a.value,h.value,ne)&&!k}return!1}return!1},D=ee(()=>W=>gc(d.value,X=>{const U=S(W,X.value),k=jh(X.value,o3(l.value(W),t.minDate),a3(l.value(W),t.maxDate))||ape(t.disabledDates,l.value(W)).includes(X.value),ne=R(X.value,W),ie=f3(o.value,X.value,l.value(W));return{active:U,disabled:k,isBetween:ne,highlighted:ie}})),C=(W,X)=>no(os(Se()),W,l.value(X)),N=(W,X)=>{const U=a.value?a.value:os(new Date);a.value=no(U,W,l.value(X)),e("auto-apply")},F=(W,X)=>{const U=_S(a,C(W,X),e);Jv(U,e,t.autoApply,t.modelAuto)},H=(W,X)=>{wS(C(W,X),a,t.multiDatesLimit),e("auto-apply",!0)},$=(W,X)=>(c.value[X].month=W,P(X,c.value[X].year,W),t.multiDates?H(W,X):t.range?F(W,X):N(W,X)),A=(W,X)=>{f(W,X),P(X,W,null)},P=(W,X,U)=>{let k=U;if(!k&&k!==0){const ne=T();k=Array.isArray(ne)?ne[W].month:ne.month}e("update-month-year",{instance:W,year:X,month:k})};return{groupedMonths:D,groupedYears:p,year:l,isDisabled:_,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:m,modelValue:a,presetDate:(W,X)=>{g3({value:W,modelValue:a,range:t.range,timezone:X?void 0:t.timezone}),e("auto-apply")},setHoverDate:(W,X)=>{h.value=C(W,X)},selectMonth:$,selectYear:A,toggleYearPicker:g,handleYearSelect:y,handleYear:b,getModelMonthYear:T}},jpe=Ce({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ys},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=ga(),s=ki(i,"yearMode"),o=t;$t(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:f,modelValue:p,presetDate:m,setHoverDate:g,selectMonth:y,selectYear:b,toggleYearPicker:_,handleYearSelect:w,handleYear:T,getModelMonthYear:S}=Bpe(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:S,selectMonth:y,selectYear:b,handleYear:T}),presetDate:m,toggleYearPicker:O=>_(0,O)}),(O,R)=>(E(),re(Qv,{"multi-calendars":I(d).count,stretch:""},{default:Y(({instance:D})=>[O.$slots["month-year"]?fe(O.$slots,"month-year",Rn(ae({key:0},{year:I(u),months:I(a)(D),years:I(l)(D),selectMonth:I(y),selectYear:I(b),instance:D}))):(E(),re(Lf,{key:1,items:I(a)(D),"arrow-navigation":O.arrowNavigation,"is-last":O.autoApply&&!I(h).keepActionRow,"esc-close":O.escClose,height:I(h).modeHeight,config:O.config,"no-overlay-focus":!!(O.noOverlayFocus||O.textInput),"use-relative":"",type:"month",onSelected:C=>I(y)(C,D),onHoverValue:C=>I(g)(C,D)},{header:Y(()=>[M(m3,ae(O.$props,{items:I(l)(D),instance:D,"show-year-picker":I(f)[D],year:I(u)(D),"is-disabled":C=>I(c)(D,C),onHandleYear:C=>I(T)(D,C),onYearSelect:C=>I(w)(C,D),onToggleYearPicker:C=>I(_)(D,C==null?void 0:C.flow,C==null?void 0:C.show)}),rr({_:2},[nt(I(s),(C,N)=>({name:C,fn:Y(F=>[fe(O.$slots,C,Rn(lr(F)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Hpe=(t,e)=>{const{modelValue:n}=$f(t,e),r=se(null),{defaultedHighlight:i,defaultedFilters:s}=qn(t),o=se();$t(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=_t(Se(t.startDate)))});const a=d=>Array.isArray(n.value)?n.value.some(h=>_t(h)===d):n.value?_t(n.value)===d:!1,l=d=>t.range&&Array.isArray(n.value)?Yv(n.value,r.value,c(d)):!1,u=ee(()=>gc(yS(t.yearRange,t.reverseYears),d=>{const h=a(d.value),f=jh(d.value,vc(t.minDate),vc(t.maxDate))||s.value.years.includes(d.value),p=l(d.value)&&!h,m=bS(i.value,d.value);return{active:h,disabled:f,isBetween:p,highlighted:m}})),c=d=>xs(os(new Date),d);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:d=>{r.value=xs(os(new Date),d)},selectYear:d=>{var h;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((h=n.value)==null?void 0:h.map(f=>_t(f))).includes(d)?n.value=n.value.filter(f=>_t(f)!==d):n.value.push(xs(Yr(Se()),d))):n.value=[xs(Yr(Se()),d)],e("auto-apply",!0);if(t.range){const f=_S(n,c(d),e);return Jv(f,e,t.autoApply,t.modelAuto)}n.value=c(d),e("auto-apply")}}},Wpe=Ce({compatConfig:{MODE:3},__name:"YearPicker",props:{...ys},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=Hpe(i,r),{defaultedConfig:c}=qn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,h)=>(E(),L("div",null,[d.$slots["month-year"]?fe(d.$slots,"month-year",Rn(ae({key:0},{years:I(s),selectYear:I(l)}))):(E(),re(Lf,{key:1,items:I(s),"is-last":d.autoApply&&!I(c).keepActionRow,height:I(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":I(a),type:"year","use-relative":"",onSelected:I(l),onHoverValue:I(u)},rr({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:Y(({item:f})=>[fe(d.$slots,"year-overlay-value",{text:f.text,value:f.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Kpe={key:0,class:"dp__time_input"},zpe=["aria-label","onKeydown","onClick"],Gpe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ype=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),qpe=["aria-label","disabled","onKeydown","onClick"],Xpe=["aria-label","onKeydown","onClick"],Qpe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Jpe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Zpe={key:0},eme=["aria-label","onKeydown"],tme=Ce({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ys},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Ea(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=qn(i),{transitionName:d,showTransition:h}=Mf(l),f=Nn({hours:!1,minutes:!1,seconds:!1}),p=se("AM"),m=se(null),g=se([]);$t(()=>{r("mounted")});const y=K=>_n(new Date,{hours:K.hours,minutes:K.minutes,seconds:i.enableSeconds?K.seconds:0,milliseconds:0}),b=ee(()=>K=>$(K,i[K])||w(K,i[K])),_=ee(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),w=(K,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(K,Q):!1,T=(K,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ue=Q?+i[`${K}Increment`]:-+i[`${K}Increment`],Z=i[K]+ue;return!i.validateTime(K,Z)}return!1},S=ee(()=>K=>!P(+i[K]+ +i[`${K}Increment`],K)||T(K,!0)),O=ee(()=>K=>!P(+i[K]-+i[`${K}Increment`],K)||T(K,!1)),R=(K,Q)=>DL(_n(Se(),K),Q),D=(K,Q)=>yfe(_n(Se(),K),Q),C=ee(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),N=ee(()=>{const K=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?K.concat([{type:"",separator:!0},{type:"seconds"}]):K}),F=ee(()=>N.value.filter(K=>!K.separator)),H=ee(()=>K=>{if(K==="hours"){const Q=ne(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[K]<10?`0${i[K]}`:`${i[K]}`,value:i[K]}}),$=(K,Q)=>{var ue;if(!i.disabledTimesConfig)return!1;const Z=i.disabledTimesConfig(i.order,K==="hours"?Q:void 0);return Z[K]?!!((ue=Z[K])!=null&&ue.includes(Q)):!0},A=K=>{const Q=i.is24?24:12,ue=K==="hours"?Q:60,Z=+i[`${K}GridIncrement`],pe=K==="hours"&&!i.is24?Z:0,_e=[];for(let le=pe;le<ue;le+=Z)_e.push({value:le,text:le<10?`0${le}`:`${le}`});return K==="hours"&&!i.is24&&_e.push({value:0,text:"12"}),gc(_e,le=>({active:!1,disabled:u.value.times[K].includes(le.value)||!P(le.value,K)||$(K,le.value)||w(K,le.value)}))},P=(K,Q)=>{const ue=i.minTime?y(Ab(i.minTime)):null,Z=i.maxTime?y(Ab(i.maxTime)):null,pe=y(Ab(_.value,Q,K));return ue&&Z?(Bh(pe,Z)||wu(pe,Z))&&(Uh(pe,ue)||wu(pe,ue)):ue?Uh(pe,ue)||wu(pe,ue):Z?Bh(pe,Z)||wu(pe,Z):!0},W=K=>i[`no${K[0].toUpperCase()+K.slice(1)}Overlay`],X=K=>{W(K)||(f[K]=!f[K],f[K]||r("overlay-closed"))},U=K=>K==="hours"?hs:K==="minutes"?Ls:pc,k=(K,Q=!0)=>{const ue=Q?R:D,Z=Q?+i[`${K}Increment`]:-+i[`${K}Increment`];P(+i[K]+Z,K)&&r(`update:${K}`,U(K)(ue({[K]:+i[K]},{[K]:+i[`${K}Increment`]})))},ne=K=>i.is24?K:(K>=12?p.value="PM":p.value="AM",Gfe(K)),ie=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},ve=K=>{f[K]=!0},ye=(K,Q,ue)=>{if(K&&i.arrowNavigation){Array.isArray(g.value[Q])?g.value[Q][ue]=K:g.value[Q]=[K];const Z=g.value.reduce((pe,_e)=>_e.map((le,x)=>[...pe[x]||[],_e[x]]),[]);o(i.closeTimePickerBtn),m.value&&(Z[1]=Z[1].concat(m.value)),s(Z,i.order)}},oe=(K,Q)=>(X(K),K==="hours"&&!i.is24?r(`update:${K}`,p.value==="PM"?Q+12:Q):r(`update:${K}`,Q));return e({openChildCmp:ve}),(K,Q)=>{var ue;return K.disabled?q("",!0):(E(),L("div",Kpe,[(E(!0),L(we,null,nt(N.value,(Z,pe)=>{var _e,le,x;return E(),L("div",{key:pe,class:xe(C.value)},[Z.separator?(E(),L(we,{key:0},[B(" : ")],64)):(E(),L(we,{key:1},[v("button",{ref_for:!0,ref:V=>ye(V,pe,0),type:"button",class:xe({dp__btn:!0,dp__inc_dec_button:!K.timePickerInline,dp__inc_dec_button_inline:K.timePickerInline,dp__tp_inline_btn_top:K.timePickerInline,dp__inc_dec_button_disabled:S.value(Z.type)}),"aria-label":(_e=I(a))==null?void 0:_e.incrementValue(Z.type),tabindex:"0",onKeydown:[ht(Tt(V=>k(Z.type),["prevent"]),["enter"]),ht(Tt(V=>k(Z.type),["prevent"]),["space"])],onClick:V=>k(Z.type)},[i.timePickerInline?(E(),L(we,{key:1},[Gpe,Ype],64)):(E(),L(we,{key:0},[K.$slots["arrow-up"]?fe(K.$slots,"arrow-up",{key:0}):q("",!0),K.$slots["arrow-up"]?q("",!0):(E(),re(I(fS),{key:1}))],64))],42,zpe),v("button",{ref_for:!0,ref:V=>ye(V,pe,1),type:"button","aria-label":(le=I(a))==null?void 0:le.openTpOverlay(Z.type),class:xe({dp__time_display:!0,dp__time_display_block:!K.timePickerInline,dp__time_display_inline:K.timePickerInline,"dp--time-invalid":b.value(Z.type),"dp--time-overlay-btn":!b.value(Z.type)}),disabled:W(Z.type),tabindex:"0",onKeydown:[ht(Tt(V=>X(Z.type),["prevent"]),["enter"]),ht(Tt(V=>X(Z.type),["prevent"]),["space"])],onClick:V=>X(Z.type)},[K.$slots[Z.type]?fe(K.$slots,Z.type,{key:0,text:H.value(Z.type).text,value:H.value(Z.type).value}):q("",!0),K.$slots[Z.type]?q("",!0):(E(),L(we,{key:1},[B(Be(H.value(Z.type).text),1)],64))],42,qpe),v("button",{ref_for:!0,ref:V=>ye(V,pe,2),type:"button",class:xe({dp__btn:!0,dp__inc_dec_button:!K.timePickerInline,dp__inc_dec_button_inline:K.timePickerInline,dp__tp_inline_btn_bottom:K.timePickerInline,dp__inc_dec_button_disabled:O.value(Z.type)}),"aria-label":(x=I(a))==null?void 0:x.decrementValue(Z.type),tabindex:"0",onKeydown:[ht(Tt(V=>k(Z.type,!1),["prevent"]),["enter"]),ht(Tt(V=>k(Z.type,!1),["prevent"]),["space"])],onClick:V=>k(Z.type,!1)},[i.timePickerInline?(E(),L(we,{key:1},[Qpe,Jpe],64)):(E(),L(we,{key:0},[K.$slots["arrow-down"]?fe(K.$slots,"arrow-down",{key:0}):q("",!0),K.$slots["arrow-down"]?q("",!0):(E(),re(I(pS),{key:1}))],64))],42,Xpe)],64))],2)}),128)),K.is24?q("",!0):(E(),L("div",Zpe,[K.$slots["am-pm-button"]?fe(K.$slots,"am-pm-button",{key:0,toggle:ie,value:p.value}):q("",!0),K.$slots["am-pm-button"]?q("",!0):(E(),L("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ue=I(a))==null?void 0:ue.amPmButton,tabindex:"0",onClick:ie,onKeydown:[ht(Tt(ie,["prevent"]),["enter"]),ht(Tt(ie,["prevent"]),["space"])]},Be(p.value),41,eme))])),(E(!0),L(we,null,nt(F.value,(Z,pe)=>(E(),re(Xi,{key:pe,name:I(d)(f[Z.type]),css:I(h)},{default:Y(()=>[f[Z.type]?(E(),re(Lf,{key:0,items:A(Z.type),"is-last":K.autoApply&&!I(c).keepActionRow,"esc-close":K.escClose,type:Z.type,"text-input":K.textInput,config:K.config,"arrow-navigation":K.arrowNavigation,onSelected:_e=>oe(Z.type,_e),onToggle:_e=>X(Z.type),onResetFlow:Q[0]||(Q[0]=_e=>K.$emit("reset-flow"))},rr({"button-icon":Y(()=>[K.$slots["clock-icon"]?fe(K.$slots,"clock-icon",{key:0}):q("",!0),K.$slots["clock-icon"]?q("",!0):(E(),re(yn(K.timePickerInline?I(Dc):I(hS)),{key:1}))]),_:2},[K.$slots[`${Z.type}-overlay-value`]?{name:"item",fn:Y(({item:_e})=>[fe(K.$slots,`${Z.type}-overlay-value`,{text:_e.text,value:_e.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):q("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),nme={class:"dp--tp-wrap"},rme=["aria-label","tabindex"],ime=["tabindex"],sme=["aria-label"],y3=Ce({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ys},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Ea(),a=ga(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=qn(i),{transitionName:h,showTransition:f}=Mf(l),{hideNavigationButtons:p}=qv(),m=se(null),g=se(null),y=se([]),b=se(null);$t(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([ar(m.value)],"time"):o(!0,i.timePicker)});const _=ee(()=>i.range&&i.modelAuto?s3(i.internalModelValue):!0),w=se(!1),T=A=>({hours:Array.isArray(i.hours)?i.hours[A]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[A]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[A]:i.seconds}),S=ee(()=>{const A=[];if(i.range)for(let P=0;P<2;P++)A.push(T(P));else A.push(T(0));return A}),O=(A,P=!1,W="")=>{P||r("reset-flow"),w.value=A,r(A?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(A),Yn(()=>{W!==""&&y.value[0]&&y.value[0].openChildCmp(W)})},R=ee(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),D=ki(a,"timePicker"),C=(A,P,W)=>i.range?P===0?[A,S.value[1][W]]:[S.value[0][W],A]:A,N=A=>{r("update:hours",A)},F=A=>{r("update:minutes",A)},H=A=>{r("update:seconds",A)},$=()=>{if(b.value&&!c.value.enabled&&!i.noOverlayFocus){const A=qfe(b.value);A&&A.focus({preventScroll:!0})}};return e({toggleTimePicker:O}),(A,P)=>{var W;return E(),L("div",nme,[!A.timePicker&&!A.timePickerInline?vi((E(),L("button",{key:0,ref_key:"openTimePickerBtn",ref:m,type:"button",class:xe(R.value),"aria-label":(W=I(u))==null?void 0:W.openTimePicker,tabindex:A.noOverlayFocus?void 0:0,onKeydown:[P[0]||(P[0]=ht(X=>O(!0),["enter"])),P[1]||(P[1]=ht(X=>O(!0),["space"]))],onClick:P[2]||(P[2]=X=>O(!0))},[A.$slots["clock-icon"]?fe(A.$slots,"clock-icon",{key:0}):q("",!0),A.$slots["clock-icon"]?q("",!0):(E(),re(I(hS),{key:1}))],42,rme)),[[Ds,!I(p)(A.hideNavigation,"time")]]):q("",!0),M(Xi,{name:I(h)(w.value),css:I(f)&&!A.timePickerInline},{default:Y(()=>{var X;return[w.value||A.timePicker||A.timePickerInline?(E(),L("div",{key:0,ref_key:"overlayRef",ref:b,class:xe({dp__overlay:!A.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!A.timePickerInline,"dp--overlay-relative":i.timePicker}),style:tr(A.timePicker?{height:`${I(d).modeHeight}px`}:void 0),tabindex:A.timePickerInline?void 0:0},[v("div",{class:xe(A.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[A.$slots["time-picker-overlay"]?fe(A.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:N,setMinutes:F,setSeconds:H}):q("",!0),A.$slots["time-picker-overlay"]?q("",!0):(E(),L("div",{key:1,class:xe(A.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(E(!0),L(we,null,nt(S.value,(U,k)=>vi((E(),re(tme,ae({key:k},{...A.$props,order:k,hours:U.hours,minutes:U.minutes,seconds:U.seconds,closeTimePickerBtn:g.value,disabledTimesConfig:t.disabledTimesConfig,disabled:k===0?A.fixedStart:A.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(ne,ie)=>t.validateTime(ne,C(ie,k,ne)),"onUpdate:hours":ne=>N(C(ne,k,"hours")),"onUpdate:minutes":ne=>F(C(ne,k,"minutes")),"onUpdate:seconds":ne=>H(C(ne,k,"seconds")),onMounted:$,onOverlayClosed:$,onAmPmChange:P[3]||(P[3]=ne=>A.$emit("am-pm-change",ne))}),rr({_:2},[nt(I(D),(ne,ie)=>({name:ne,fn:Y(ve=>[fe(A.$slots,ne,Rn(lr(ve)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ds,k===0?!0:_.value]])),128))],2)),!A.timePicker&&!A.timePickerInline?vi((E(),L("button",{key:2,ref_key:"closeTimePickerBtn",ref:g,type:"button",class:xe(R.value),"aria-label":(X=I(u))==null?void 0:X.closeTimePicker,tabindex:"0",onKeydown:[P[4]||(P[4]=ht(U=>O(!1),["enter"])),P[5]||(P[5]=ht(U=>O(!1),["space"]))],onClick:P[6]||(P[6]=U=>O(!1))},[A.$slots["calendar-icon"]?fe(A.$slots,"calendar-icon",{key:0}):q("",!0),A.$slots["calendar-icon"]?q("",!0):(E(),re(I(Dc),{key:1}))],42,sme)),[[Ds,!I(p)(A.hideNavigation,"time")]]):q("",!0)],2)],14,ime)):q("",!0)]}),_:3},8,["name","css"])])}}}),b3=(t,e,n,r)=>{const i=(y,b)=>Array.isArray(e[y])?e[y][b]:e[y],s=y=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[y]:e.seconds:0,o=(y,b)=>y?b!==void 0?oa(y,i("hours",b),i("minutes",b),s(b)):oa(y,e.hours,e.minutes,s()):uS(Se(),s(b)),a=(y,b)=>{e[y]=b},l=(y,b)=>{const _=Object.fromEntries(Object.keys(e).map(w=>w===y?[w,b]:[w,e[w]].slice()));if(t.range&&!t.disableTimeRangeValidation){const w=S=>n.value?oa(n.value[S],_.hours[S],_.minutes[S],_.seconds[S]):null,T=S=>lS(n.value[S],0);return!(Yt(w(0),w(1))&&(Uh(w(0),T(1))||Bh(w(1),T(0))))}return!0},u=(y,b)=>{l(y,b)&&(a(y,b),r&&r())},c=y=>{u("hours",y)},d=y=>{u("minutes",y)},h=y=>{u("seconds",y)},f=(y,b,_,w)=>{b&&c(y),!b&&!_&&d(y),_&&h(y),n.value&&w(n.value)},p=y=>{if(y){const b=Array.isArray(y),_=b?[+y[0].hours,+y[1].hours]:+y.hours,w=b?[+y[0].minutes,+y[1].minutes]:+y.minutes,T=b?[+y[0].seconds,+y[1].seconds]:+y.seconds;a("hours",_),a("minutes",w),t.enableSeconds&&a("seconds",T)}},m=(y,b)=>{const _={hours:Array.isArray(e.hours)?e.hours[y]:e.hours,disabledArr:[]};return(b||b===0)&&(_.hours=b),Array.isArray(t.disabledTimes)&&(_.disabledArr=t.range&&Array.isArray(t.disabledTimes[y])?t.disabledTimes[y]:t.disabledTimes),_},g=ee(()=>(y,b)=>{var _;if(Array.isArray(t.disabledTimes)){const{disabledArr:w,hours:T}=m(y,b),S=w.filter(O=>+O.hours===T);return((_=S[0])==null?void 0:_.minutes)==="*"?{hours:[T],minutes:void 0,seconds:void 0}:{hours:[],minutes:(S==null?void 0:S.map(O=>+O.minutes))??[],seconds:(S==null?void 0:S.map(O=>O.seconds?+O.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:o,updateTimeValues:f,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:g}},ome=(t,e)=>{const{modelValue:n,time:r}=$f(t,e),{defaultedStartTime:i}=qn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=b3(t,r,n),d=b=>{const{hours:_,minutes:w,seconds:T}=b;return{hours:+_,minutes:+w,seconds:T?+T:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const _=d(t.startTime[0]),w=d(t.startTime[1]);return[_n(Se(),_),_n(Se(),w)]}const b=d(t.startTime);return _n(Se(),b)}return t.range?[null,null]:null},f=()=>{if(t.range){const[b,_]=h();n.value=[o(b,0),o(_,1)]}else n.value=o(h())},p=b=>Array.isArray(b)?[il(Se(b[0])),il(Se(b[1]))]:[il(b??Se())],m=(b,_,w)=>{a("hours",b),a("minutes",_),a("seconds",t.enableSeconds?w:0)},g=()=>{const[b,_]=p(n.value);return t.range?m([b.hours,_.hours],[b.minutes,_.minutes],[b.seconds,_.minutes]):m(b.hours,b.minutes,b.seconds)};$t(()=>{if(!t.shadow)return l(i.value),n.value?g():f()});const y=()=>{Array.isArray(n.value)?n.value=n.value.map((b,_)=>b&&o(b,_)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(b,_=!0,w=!1)=>{s(b,_,w,y)},validateTime:c}},ame=Ce({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ys},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ga(),o=ki(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=ome(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,f)=>(E(),re(Qv,{"multi-calendars":0,stretch:""},{default:Y(()=>[M(y3,ae(h.$props,{hours:I(a).hours,minutes:I(a).minutes,seconds:I(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":I(u),"validate-time":I(d),"onUpdate:hours":f[0]||(f[0]=p=>I(c)(p)),"onUpdate:minutes":f[1]||(f[1]=p=>I(c)(p,!1)),"onUpdate:seconds":f[2]||(f[2]=p=>I(c)(p,!1,!0)),onAmPmChange:f[3]||(f[3]=p=>h.$emit("am-pm-change",p))}),rr({_:2},[nt(I(o),(p,m)=>({name:p,fn:Y(g=>[fe(h.$slots,p,Rn(lr(g)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),lme={class:"dp__month_year_row"},ume=["aria-label","onClick","onKeydown"],cme=Ce({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ys},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=qn(i),{transitionName:d,showTransition:h}=Mf(s),{buildMatrix:f}=Ea(),{handleMonthYearChange:p,isDisabled:m,updateMonthYear:g}=wpe(i,r),{showLeftIcon:y,showRightIcon:b}=qv(),_=se(!1),w=se(!1),T=se([null,null,null,null]);$t(()=>{r("mount")});const S=k=>({get:()=>i[k],set:ne=>{const ie=k===es.month?es.year:es.month;r("update-month-year",{[k]:ne,[ie]:i[ie]}),k===es.month?$(!0):A(!0)}}),O=ee(S(es.month)),R=ee(S(es.year)),D=ee(()=>k=>({month:i.month,year:i.year,items:k===es.month?i.months:i.years,instance:i.instance,updateMonthYear:g,toggle:k===es.month?$:A})),C=ee(()=>i.months.find(ne=>ne.value===i.month)||{text:"",value:0}),N=ee(()=>gc(i.months,k=>{const ne=i.month===k.value,ie=jh(k.value,o3(i.year,i.minDate),a3(i.year,i.maxDate))||l.value.months.includes(k.value),ve=f3(c.value,k.value,i.year);return{active:ne,disabled:ie,highlighted:ve}})),F=ee(()=>gc(i.years,k=>{const ne=i.year===k.value,ie=jh(k.value,vc(i.minDate),vc(i.maxDate))||l.value.years.includes(k.value),ve=bS(c.value,k.value);return{active:ne,disabled:ie,highlighted:ve}})),H=(k,ne)=>{ne!==void 0?k.value=ne:k.value=!k.value,k.value||r("overlay-closed")},$=(k=!1,ne)=>{P(k),H(_,ne)},A=(k=!1,ne)=>{P(k),H(w,ne)},P=k=>{k||r("reset-flow")},W=(k,ne)=>{i.arrowNavigation&&(T.value[ne]=ar(k),f(T.value,"monthYear"))},X=ee(()=>{var k,ne;return[{type:es.month,index:1,toggle:$,modelValue:O.value,updateModelValue:ie=>O.value=ie,text:C.value.text,showSelectionGrid:_.value,items:N.value,ariaLabel:(k=o.value)==null?void 0:k.openMonthsOverlay},{type:es.year,index:2,toggle:A,modelValue:R.value,updateModelValue:ie=>R.value=ie,text:i.year,showSelectionGrid:w.value,items:F.value,ariaLabel:(ne=o.value)==null?void 0:ne.openYearsOverlay}]}),U=ee(()=>i.disableYearSelect?[X.value[0]]:i.yearFirst?[...X.value].reverse():X.value);return e({toggleMonthPicker:$,toggleYearPicker:A,handleMonthYearChange:p}),(k,ne)=>{var ie,ve,ye;return E(),L("div",lme,[k.$slots["month-year"]?fe(k.$slots,"month-year",Rn(ae({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:I(g),handleMonthYearChange:I(p),instance:t.instance}))):(E(),L(we,{key:1},[I(y)(I(a),t.instance)&&!k.vertical?(E(),re(Gd,{key:0,"aria-label":(ie=I(o))==null?void 0:ie.prevMonth,disabled:I(m)(!1),onActivate:ne[0]||(ne[0]=oe=>I(p)(!1,!0)),onSetRef:ne[1]||(ne[1]=oe=>W(oe,0))},{default:Y(()=>[k.$slots["arrow-left"]?fe(k.$slots,"arrow-left",{key:0}):q("",!0),k.$slots["arrow-left"]?q("",!0):(E(),re(I(cS),{key:1}))]),_:3},8,["aria-label","disabled"])):q("",!0),v("div",{class:xe(["dp__month_year_wrap",{dp__year_disable_select:k.disableYearSelect}])},[(E(!0),L(we,null,nt(U.value,(oe,K)=>(E(),L(we,{key:oe.type},[v("button",{ref_for:!0,ref:Q=>W(Q,K+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":oe.ariaLabel,onClick:oe.toggle,onKeydown:[ht(Tt(oe.toggle,["prevent"]),["enter"]),ht(Tt(oe.toggle,["prevent"]),["space"])]},[k.$slots[oe.type]?fe(k.$slots,oe.type,{key:0,text:oe.text,value:i[oe.type]}):q("",!0),k.$slots[oe.type]?q("",!0):(E(),L(we,{key:1},[B(Be(oe.text),1)],64))],40,ume),M(Xi,{name:I(d)(oe.showSelectionGrid),css:I(h)},{default:Y(()=>[oe.showSelectionGrid?(E(),re(Lf,{key:0,items:oe.items,"arrow-navigation":k.arrowNavigation,"hide-navigation":k.hideNavigation,"is-last":k.autoApply&&!I(u).keepActionRow,"skip-button-ref":!1,config:k.config,type:oe.type,"header-refs":[],"esc-close":k.escClose,"text-input":k.textInput,onSelected:oe.updateModelValue,onToggle:oe.toggle},rr({"button-icon":Y(()=>[k.$slots["calendar-icon"]?fe(k.$slots,"calendar-icon",{key:0}):q("",!0),k.$slots["calendar-icon"]?q("",!0):(E(),re(I(Dc),{key:1}))]),_:2},[k.$slots[`${oe.type}-overlay-value`]?{name:"item",fn:Y(({item:Q})=>[fe(k.$slots,`${oe.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,k.$slots[`${oe.type}-overlay`]?{name:"overlay",fn:Y(()=>[fe(k.$slots,`${oe.type}-overlay`,Rn(lr(D.value(oe.type))))]),key:"1"}:void 0,k.$slots[`${oe.type}-overlay-header`]?{name:"header",fn:Y(()=>[fe(k.$slots,`${oe.type}-overlay-header`,{toggle:oe.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):q("",!0)]),_:2},1032,["name","css"])],64))),128))],2),I(y)(I(a),t.instance)&&k.vertical?(E(),re(Gd,{key:1,"aria-label":(ve=I(o))==null?void 0:ve.prevMonth,disabled:I(m)(!1),onActivate:ne[2]||(ne[2]=oe=>I(p)(!1,!0))},{default:Y(()=>[k.$slots["arrow-up"]?fe(k.$slots,"arrow-up",{key:0}):q("",!0),k.$slots["arrow-up"]?q("",!0):(E(),re(I(fS),{key:1}))]),_:3},8,["aria-label","disabled"])):q("",!0),I(b)(I(a),t.instance)?(E(),re(Gd,{key:2,ref:"rightIcon",disabled:I(m)(!0),"aria-label":(ye=I(o))==null?void 0:ye.nextMonth,onActivate:ne[3]||(ne[3]=oe=>I(p)(!0,!0)),onSetRef:ne[4]||(ne[4]=oe=>W(oe,k.disableYearSelect?2:3))},{default:Y(()=>[k.$slots[k.vertical?"arrow-down":"arrow-right"]?fe(k.$slots,k.vertical?"arrow-down":"arrow-right",{key:0}):q("",!0),k.$slots[k.vertical?"arrow-down":"arrow-right"]?q("",!0):(E(),re(yn(k.vertical?I(pS):I(dS)),{key:1}))]),_:3},8,["disabled","aria-label"])):q("",!0)],64))])}}}),dme=["aria-label"],hme={class:"dp__calendar_header",role:"row"},fme={key:0,class:"dp__calendar_header_item",role:"gridcell"},pme=v("div",{class:"dp__calendar_header_separator"},null,-1),mme=["aria-label"],gme={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},vme={class:"dp__cell_inner"},yme=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],bme=Ce({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ys},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Ea(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=qn(i),d=se(null),h=se({bottom:"",left:"",transform:""}),f=se([]),p=se(null),m=se(!0),g=se(""),y=se({startX:0,endX:0,startY:0,endY:0}),b=se([]),_=se({left:"50%"}),w=ee(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),T=ee(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):zfe(i.formatLocale,i.locale,+i.weekStart));$t(()=>{r("mount",{cmp:"calendar",refs:f}),a.value.noSwipe||p.value&&(p.value.addEventListener("touchstart",A,{passive:!1}),p.value.addEventListener("touchend",P,{passive:!1}),p.value.addEventListener("touchmove",W,{passive:!1})),i.monthChangeOnScroll&&p.value&&p.value.addEventListener("wheel",k,{passive:!1})});const S=oe=>oe?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",O=(oe,K)=>{if(i.transitions){const Q=Yr(no(Se(),i.month,i.year));g.value=Wr(Yr(no(Se(),oe,K)),Q)?o.value[S(!0)]:o.value[S(!1)],m.value=!1,Yn(()=>{m.value=!0})}},R=ee(()=>({[i.calendarClassName]:!!i.calendarClassName})),D=ee(()=>oe=>{const K=Yfe(oe);return{dp__marker_dot:K.type==="dot",dp__marker_line:K.type==="line"}}),C=ee(()=>oe=>Yt(oe,d.value)),N=ee(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),F=ee(()=>oe=>i.hideOffsetDates?oe.current:!0),H=async(oe,K,Q)=>{var ue,Z;if(r("set-hover-date",oe),(Z=(ue=oe.marker)==null?void 0:ue.tooltip)!=null&&Z.length){const pe=ar(f.value[K][Q]);if(pe){const{width:_e,height:le}=pe.getBoundingClientRect();d.value=oe.value;let x={left:`${_e/2}px`},V=-50;if(await Yn(),b.value[0]){const{left:z,width:ce}=b.value[0].getBoundingClientRect();z<0&&(x={left:"0"},V=0,_.value.left=`${_e/2}px`),window.innerWidth<z+ce&&(x={right:"0"},V=0,_.value.left=`${ce-_e/2}px`)}h.value={bottom:`${le}px`,...x,transform:`translateX(${V}%)`},r("tooltip-open",oe.marker)}}},$=oe=>{d.value&&(d.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",oe.marker))},A=oe=>{y.value.startX=oe.changedTouches[0].screenX,y.value.startY=oe.changedTouches[0].screenY},P=oe=>{y.value.endX=oe.changedTouches[0].screenX,y.value.endY=oe.changedTouches[0].screenY,X()},W=oe=>{i.vertical&&!i.inline&&oe.preventDefault()},X=()=>{const oe=i.vertical?"Y":"X";Math.abs(y.value[`start${oe}`]-y.value[`end${oe}`])>10&&r("handle-swipe",y.value[`start${oe}`]>y.value[`end${oe}`]?"right":"left")},U=(oe,K,Q)=>{oe&&(Array.isArray(f.value[K])?f.value[K][Q]=oe:f.value[K]=[oe]),i.arrowNavigation&&s(f.value,"calendar")},k=oe=>{i.monthChangeOnScroll&&(oe.preventDefault(),r("handle-scroll",oe))},ne=oe=>c.value.type==="local"?ihe(oe.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?ehe(oe.value):typeof c.value.type=="function"?c.value.type(oe.value):"",ie=oe=>{const K=oe[0];return c.value.hideOnOffsetDates?oe.some(Q=>Q.current)?ne(K):"":ne(K)},ve=(oe,K)=>{sa(oe,a.value),r("select-date",K)},ye=oe=>{sa(oe,a.value)};return e({triggerTransition:O}),(oe,K)=>{var Q;return E(),L("div",{class:xe(N.value)},[v("div",{ref_key:"calendarWrapRef",ref:p,role:"grid",class:xe(R.value),"aria-label":(Q=I(l))==null?void 0:Q.calendarWrap},[(E(),L(we,{key:0},[v("div",hme,[oe.weekNumbers?(E(),L("div",fme,Be(oe.weekNumName),1)):q("",!0),(E(!0),L(we,null,nt(T.value,(ue,Z)=>(E(),L("div",{key:Z,class:"dp__calendar_header_item",role:"gridcell"},[oe.$slots["calendar-header"]?fe(oe.$slots,"calendar-header",{key:0,day:ue,index:Z}):q("",!0),oe.$slots["calendar-header"]?q("",!0):(E(),L(we,{key:1},[B(Be(ue),1)],64))]))),128))]),pme,M(Xi,{name:g.value,css:!!oe.transitions},{default:Y(()=>{var ue;return[m.value?(E(),L("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ue=I(l))==null?void 0:ue.calendarDays)||void 0},[(E(!0),L(we,null,nt(w.value,(Z,pe)=>(E(),L("div",{key:pe,class:"dp__calendar_row",role:"row"},[oe.weekNumbers?(E(),L("div",gme,[v("div",vme,Be(ie(Z.days)),1)])):q("",!0),(E(!0),L(we,null,nt(Z.days,(_e,le)=>{var x,V,z;return E(),L("div",{id:_e.value.toISOString().split("T")[0],ref_for:!0,ref:ce=>U(ce,pe,le),key:le+pe,role:"gridcell",class:"dp__calendar_item","aria-selected":_e.classData.dp__active_date||_e.classData.dp__range_start||_e.classData.dp__range_start,"aria-disabled":_e.classData.dp__cell_disabled||void 0,"aria-label":(V=(x=I(l))==null?void 0:x.day)==null?void 0:V.call(x,_e),tabindex:"0",onClick:Tt(ce=>ve(ce,_e),["prevent"]),onKeydown:[ht(ce=>oe.$emit("select-date",_e),["enter"]),ht(ce=>oe.$emit("handle-space",_e),["space"])],onMouseenter:ce=>H(_e,pe,le),onMouseleave:ce=>$(_e)},[v("div",{class:xe(["dp__cell_inner",_e.classData])},[oe.$slots.day&&F.value(_e)?fe(oe.$slots,"day",{key:0,day:+_e.text,date:_e.value}):q("",!0),oe.$slots.day?q("",!0):(E(),L(we,{key:1},[B(Be(_e.text),1)],64)),_e.marker&&F.value(_e)?(E(),L(we,{key:2},[oe.$slots.marker?fe(oe.$slots,"marker",{key:0,marker:_e.marker,day:+_e.text,date:_e.value}):(E(),L("div",{key:1,class:xe(D.value(_e.marker)),style:tr(_e.marker.color?{backgroundColor:_e.marker.color}:{})},null,6))],64)):q("",!0),C.value(_e.value)?(E(),L("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:tr(h.value)},[(z=_e.marker)!=null&&z.tooltip?(E(),L("div",{key:0,class:"dp__tooltip_content",onClick:ye},[(E(!0),L(we,null,nt(_e.marker.tooltip,(ce,de)=>(E(),L("div",{key:de,class:"dp__tooltip_text"},[oe.$slots["marker-tooltip"]?fe(oe.$slots,"marker-tooltip",{key:0,tooltip:ce,day:_e.value}):q("",!0),oe.$slots["marker-tooltip"]?q("",!0):(E(),L(we,{key:1},[v("div",{class:"dp__tooltip_mark",style:tr(ce.color?{backgroundColor:ce.color}:{})},null,4),v("div",null,Be(ce.text),1)],64))]))),128)),v("div",{class:"dp__arrow_bottom_tp",style:tr(_.value)},null,4)])):q("",!0)],4)):q("",!0)],2)],40,yme)}),128))]))),128))],8,mme)):q("",!0)]}),_:3},8,["name","css"])],64))],10,dme)],2)}}}),ok=t=>Array.isArray(t),wme=(t,e,n,r)=>{const i=se([]),{modelValue:s,calendars:o,time:a}=$f(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=qn(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:f}=Bl(t),{updateTimeValues:p,getSetDateTime:m,setTime:g,assignStartTime:y,validateTime:b,disabledTimesConfig:_}=b3(t,a,s,r),w=ee(()=>J=>o.value[J]?o.value[J].month:0),T=ee(()=>J=>o.value[J]?o.value[J].year:0),S=(J,j,G)=>{var te,he;o.value[J]||(o.value[J]={month:0,year:0}),o.value[J].month=tk(j)?(te=o.value[J])==null?void 0:te.month:j,o.value[J].year=tk(G)?(he=o.value[J])==null?void 0:he.year:G},O=()=>{t.autoApply&&e("select-date")};Ot(s,(J,j)=>{JSON.stringify(J)!==JSON.stringify(j)&&C()}),$t(()=>{t.shadow||(s.value||(k(),u.value&&y(u.value)),C(!0),t.focusStartDate&&t.startDate&&k())});const R=ee(()=>{var J;return(J=t.flow)!=null&&J.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),D=()=>{t.autoApply&&R.value&&e("auto-apply",t.partialFlow)},C=(J=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,P(J)):F(s.value,J);if(l.value.count&&J&&!t.startDate)return N(Se(),J)},N=(J,j=!1)=>{if((!l.value.count||!l.value.static||j)&&S(0,Ut(J),_t(J)),l.value.count&&(!l.value.solo||!s.value))for(let G=1;G<l.value.count;G++){const te=_n(Se(),{month:w.value(G-1),year:T.value(G-1)}),he=DL(te,{months:1});o.value[G]={month:Ut(he),year:_t(he)}}},F=(J,j)=>{N(J),g("hours",hs(J)),g("minutes",Ls(J)),g("seconds",pc(J)),l.value.count&&j&&U()},H=J=>{if(l.value.count){if(l.value.solo)return 0;const j=Ut(J[0]),G=Ut(J[1]);return Math.abs(G-j)<l.value.count?0:1}return 1},$=(J,j)=>{J[1]&&t.showLastInRange?N(J[H(J)],j):N(J[0],j);const G=(te,he)=>[te(J[0]),J[1]?te(J[1]):a[he][1]];g("hours",G(hs,"hours")),g("minutes",G(Ls,"minutes")),g("seconds",G(pc,"seconds"))},A=(J,j)=>{if((t.range||t.weekPicker)&&!t.multiDates)return $(J,j);if(t.multiDates&&j){const G=J[J.length-1];return F(G,j)}},P=J=>{const j=s.value;A(j,J),l.value.count&&l.value.solo&&U()},W=(J,j)=>{const G=_n(Se(),{month:w.value(j),year:T.value(j)}),te=J<0?ds(G,1):mc(G,1);c(Ut(te),_t(te),J<0,t.preventMinMaxNavigation)&&(S(j,Ut(te),_t(te)),e("update-month-year",{instance:j,month:Ut(te),year:_t(te)}),l.value.count&&!l.value.solo&&X(j),n())},X=J=>{for(let j=J-1;j>=0;j--){const G=mc(_n(Se(),{month:w.value(j+1),year:T.value(j+1)}),1);S(j,Ut(G),_t(G))}for(let j=J+1;j<=l.value.count-1;j++){const G=ds(_n(Se(),{month:w.value(j-1),year:T.value(j-1)}),1);S(j,Ut(G),_t(G))}},U=()=>{if(Array.isArray(s.value)&&s.value.length===2){const J=Se(Se(s.value[1]?s.value[1]:ds(s.value[0],1))),[j,G]=[Ut(s.value[0]),_t(s.value[0])],[te,he]=[Ut(s.value[1]),_t(s.value[1])];(j!==te||j===te&&G!==he)&&l.value.solo&&S(1,Ut(J),_t(J))}else s.value&&!Array.isArray(s.value)&&(S(0,Ut(s.value),_t(s.value)),N(Se()))},k=()=>{t.startDate&&(S(0,Ut(Se(t.startDate)),_t(Se(t.startDate))),l.value.count&&X(0))},ne=Zfe((J,j)=>{t.monthChangeOnScroll&&W(t.monthChangeOnScroll!=="inverse"?-J.deltaY:J.deltaY,j)},50),ie=(J,j,G=!1)=>{t.monthChangeOnArrows&&t.vertical===G&&ve(J,j)},ve=(J,j)=>{W(J==="right"?-1:1,j)},ye=J=>t.markers.find(j=>Yt(npe(J.value),fs(Se(j.date),t.timezone))),oe=(J,j)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[J==0,!0];case"fair":return[J==0||j>J,!0];case"append":return[!1,!1];default:return[!1,!1]}},K=(J,j,G,te)=>{if(t.sixWeeks&&J.length<6){const he=6-J.length,Fe=(j.getDay()+7-te)%7,Xe=6-(G.getDay()+7-te)%7,[ge,ke]=oe(Fe,Xe);for(let Re=1;Re<=he;Re++)if(ke?!!(Re%2)==ge:ge){const Qe=J[0].days[0],We=Q(Qs(Qe.value,-7),Ut(j));J.unshift({days:We})}else{const Qe=J[J.length-1],We=Qe.days[Qe.days.length-1],it=Q(Qs(We.value,1),Ut(j));J.push({days:it})}}return J},Q=(J,j)=>{const G=Se(J),te=[];for(let he=0;he<7;he++){const Fe=Qs(G,he),Xe=Ut(Fe)!==j;te.push({text:t.hideOffsetDates&&Xe?"":Fe.getDate(),value:Fe,current:!Xe,classData:{}})}return te},ue=(J,j)=>{const G=[],te=new Date(j,J),he=new Date(j,J+1,0),Fe=t.weekStart,Xe=Ol(te,{weekStartsOn:Fe}),ge=ke=>{const Re=Q(ke,J);if(G.push({days:Re}),!G[G.length-1].days.some(Qe=>Yt(Yr(Qe.value),Yr(he)))){const Qe=Qs(ke,7);ge(Qe)}};return ge(Xe),K(G,te,he,Fe)},Z=J=>(s.value=tm(Se(J.value),t.timezone,t.weekStart),e("date-update",J.value),D()),pe=J=>{const j=oa(Se(J.value),a.hours,a.minutes,Ee());e("date-update",j),t.multiDates?wS(j,s,t.multiDatesLimit):s.value=j,r(),Yn().then(()=>{D()})},_e=J=>t.noDisabledRange?u3(i.value[0],J).some(j=>d(j)):!1,le=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},x=(J,j)=>{const G=[Se(J.value),Qs(Se(J.value),+t.autoRange)];h(G)?(j&&V(J.value),i.value=G):e("invalid-date",J.value)},V=J=>{const j=Ut(Se(J)),G=_t(Se(J));if(S(0,j,G),l.value.count>0)for(let te=1;te<l.value.count;te++){const he=rpe(_n(Se(J),{year:w.value(te-1),month:T.value(te-1)}));S(te,he.month,he.year)}},z=J=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(Wr(J,s.value[0])||Yt(J,s.value[0]))?[s.value[0],J]:t.fixedEnd&&(Pr(J,s.value[1])||Yt(J,s.value[1]))?[J,s.value[1]]:(e("invalid-fixed-range",J),s.value):[],ce=J=>{if(_e(J.value)||!f(J.value,s.value,t.fixedStart?0:1))return e("invalid-date",J.value);i.value=z(Se(J.value))},de=(J,j)=>{if(le(),t.autoRange)return x(J,j);if(t.fixedStart||t.fixedEnd)return ce(J);i.value[0]?f(Se(J.value),s.value)&&!_e(J.value)?Pr(Se(J.value),Se(i.value[0]))?(i.value.unshift(Se(J.value)),e("range-end",i.value[0])):(i.value[1]=Se(J.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",J.value),e("invalid-date",J.value)):(i.value[0]=Se(J.value),e("range-start",i.value[0]))},Ee=(J=!0)=>t.enableSeconds?Array.isArray(a.seconds)?J?a.seconds[0]:a.seconds[1]:a.seconds:0,De=J=>{i.value[J]=oa(i.value[J],a.hours[J],a.minutes[J],Ee(J!==1))},Te=()=>{var J,j;i.value[0]&&i.value[1]&&+((J=i.value)==null?void 0:J[0])>+((j=i.value)==null?void 0:j[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Oe=()=>{i.value.length&&(i.value[0]&&!i.value[1]?De(0):(De(0),De(1),r()),Te(),s.value=i.value.slice(),Jv(i.value,e,t.autoApply,t.modelAuto))},be=(J,j=!1)=>{if(d(J.value)||!J.current&&t.hideOffsetDates)return e("invalid-date",J.value);if(t.weekPicker)return Z(J);if(!t.range)return pe(J);ok(a.hours)&&ok(a.minutes)&&!t.multiDates&&(de(J,j),Oe())},Me=(J,j)=>{var G;S(J,j.month,j.year),l.value.count&&!l.value.solo&&X(J),e("update-month-year",{instance:J,month:j.month,year:j.year}),n(l.value.solo?J:void 0);const te=(G=t.flow)!=null&&G.length?t.flow[t.flowStep]:void 0;!j.fromNav&&(te===_s.month||te===_s.year)&&r()},He=(J,j)=>{g3({value:J,modelValue:s,range:t.range,timezone:j?void 0:t.timezone}),O(),t.multiCalendars&&Yn().then(()=>C(!0))},Ge=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Pr(Se(),s.value[0])?[Se(),s.value[0]]:[s.value[0],Se()]:s.value=[Se()]:s.value=Se(),O()},rt=()=>{if(Array.isArray(s.value))if(t.multiDates){const J=ct();s.value[s.value.length-1]=m(J)}else s.value=s.value.map((J,j)=>J&&m(J,j));else s.value=m(s.value);e("time-update")},ct=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:w,year:T,time:a,disabledTimesConfig:_,validateTime:b,getCalendarDays:ue,getMarker:ye,handleScroll:ne,handleSwipe:ve,handleArrow:ie,selectDate:be,updateMonthYear:Me,presetDate:He,selectCurrentDate:Ge,updateTime:(J,j=!0,G=!1)=>{p(J,j,G,rt)}}},_me={key:0},Tme=Ce({__name:"DatePicker",props:{...ys},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:f,handleArrow:p,handleScroll:m,handleSwipe:g,selectDate:y,updateMonthYear:b,presetDate:_,selectCurrentDate:w,updateTime:T}=wme(i,r,U,k),S=ga(),{setHoverDate:O,getDayClassData:R,clearHoverDate:D}=Epe(l,i),{defaultedMultiCalendars:C}=qn(i),N=se([]),F=se([]),H=se(null),$=ki(S,"calendar"),A=ki(S,"monthYear"),P=ki(S,"timePicker"),W=ie=>{i.shadow||r("mount",ie)};Ot(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const X=ee(()=>ie=>h(o.value(ie),a.value(ie)).map(ve=>({...ve,days:ve.days.map(ye=>(ye.marker=f(ye),ye.classData=R(ye),ye))})));function U(ie){var ve;ie||ie===0?(ve=F.value[ie])==null||ve.triggerTransition(o.value(ie),a.value(ie)):F.value.forEach((ye,oe)=>ye.triggerTransition(o.value(oe),a.value(oe)))}function k(){r("update-flow-step")}const ne=(ie,ve=!1)=>{y(ie,ve),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:D,presetDate:_,selectCurrentDate:w,toggleMonthPicker:(ie,ve,ye=0)=>{var oe;(oe=N.value[ye])==null||oe.toggleMonthPicker(ie,ve)},toggleYearPicker:(ie,ve,ye=0)=>{var oe;(oe=N.value[ye])==null||oe.toggleYearPicker(ie,ve)},toggleTimePicker:(ie,ve,ye)=>{var oe;(oe=H.value)==null||oe.toggleTimePicker(ie,ve,ye)},handleArrow:p,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:T,updateMonthYear:b,selectDate:y,presetDate:_})}),(ie,ve)=>(E(),L(we,null,[M(Qv,{"multi-calendars":I(C).count},{default:Y(({instance:ye,index:oe})=>[ie.disableMonthYearSelect?q("",!0):(E(),re(cme,ae({key:0,ref:K=>{K&&(N.value[oe]=K)},months:I(i3)(ie.formatLocale,ie.locale,ie.monthNameFormat),years:I(yS)(ie.yearRange,ie.reverseYears),month:I(o)(ye),year:I(a)(ye),instance:ye},ie.$props,{onMount:ve[0]||(ve[0]=K=>W(I(sl).header)),onResetFlow:ve[1]||(ve[1]=K=>ie.$emit("reset-flow")),onUpdateMonthYear:K=>I(b)(ye,K),onOverlayClosed:ve[2]||(ve[2]=K=>ie.$emit("focus-menu"))}),rr({_:2},[nt(I(A),(K,Q)=>({name:K,fn:Y(ue=>[fe(ie.$slots,K,Rn(lr(ue)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),M(bme,ae({ref:K=>{K&&(F.value[oe]=K)},"mapped-dates":X.value(ye),month:I(o)(ye),year:I(a)(ye),instance:ye},ie.$props,{onSelectDate:K=>I(y)(K,ye!==1),onHandleSpace:K=>ne(K,ye!==1),onSetHoverDate:ve[3]||(ve[3]=K=>I(O)(K)),onHandleScroll:K=>I(m)(K,ye),onHandleSwipe:K=>I(g)(K,ye),onMount:ve[4]||(ve[4]=K=>W(I(sl).calendar)),onResetFlow:ve[5]||(ve[5]=K=>ie.$emit("reset-flow")),onTooltipOpen:ve[6]||(ve[6]=K=>ie.$emit("tooltip-open",K)),onTooltipClose:ve[7]||(ve[7]=K=>ie.$emit("tooltip-close",K))}),rr({_:2},[nt(I($),(K,Q)=>({name:K,fn:Y(ue=>[fe(ie.$slots,K,Rn(lr({...ue})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),ie.enableTimePicker?(E(),L("div",_me,[ie.$slots["time-picker"]?fe(ie.$slots,"time-picker",Rn(ae({key:0},{time:I(u),updateTime:I(T)}))):(E(),re(y3,ae({key:1,ref_key:"timePickerRef",ref:H},ie.$props,{hours:I(u).hours,minutes:I(u).minutes,seconds:I(u).seconds,"internal-model-value":ie.internalModelValue,"disabled-times-config":I(c),"validate-time":I(d),onMount:ve[8]||(ve[8]=ye=>W(I(sl).timePicker)),"onUpdate:hours":ve[9]||(ve[9]=ye=>I(T)(ye)),"onUpdate:minutes":ve[10]||(ve[10]=ye=>I(T)(ye,!1)),"onUpdate:seconds":ve[11]||(ve[11]=ye=>I(T)(ye,!1,!0)),onResetFlow:ve[12]||(ve[12]=ye=>ie.$emit("reset-flow")),onOverlayClosed:ve[13]||(ve[13]=ye=>ie.$emit("time-picker-close")),onOverlayOpened:ve[14]||(ve[14]=ye=>ie.$emit("time-picker-open",ye)),onAmPmChange:ve[15]||(ve[15]=ye=>ie.$emit("am-pm-change",ye))}),rr({_:2},[nt(I(P),(ye,oe)=>({name:ye,fn:Y(K=>[fe(ie.$slots,ye,Rn(lr(K)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):q("",!0)],64))}}),Sme=(t,e)=>{const n=se(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=qn(t),{modelValue:o,year:a,month:l,calendars:u}=$f(t,e),{isDisabled:c}=Bl(t),{selectYear:d,groupedYears:h,showYearPicker:f,isDisabled:p,toggleYearPicker:m,handleYearSelect:g,handleYear:y}=v3({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),b=(D,C)=>[D,C].map(N=>ia(N,"MMMM",{locale:t.formatLocale})).join("-"),_=ee(()=>D=>o.value?Array.isArray(o.value)?o.value.some(C=>WA(D,C)):WA(o.value,D):!1),w=D=>{if(t.range){if(Array.isArray(o.value)){const C=Yt(D,o.value[0])||Yt(D,o.value[1]);return Yv(o.value,n.value,D)&&!C}return!1}return!1},T=ee(()=>D=>{const C=_n(new Date,{year:a.value(D)});return Kce({start:Gce(C),end:zce(C)}).map(N=>{const F=Vh(N),H=LA(N),$=c(N),A=w(F),P=typeof s.value=="function"?s.value({quarter:$A(F),year:_t(F)}):!!s.value.quarters.find(W=>W.quarter===$A(F)&&W.year===_t(F));return{text:b(F,H),value:F,active:_.value(F),highlighted:P,disabled:$,isBetween:A}})}),S=D=>{wS(D,o,t.multiDatesLimit),e("auto-apply",!0)},O=D=>{const C=_S(o,D,e);Jv(C,e,t.autoApply,t.modelAuto)},R=D=>{o.value=D,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:p,quarters:T,showYearPicker:f,modelValue:o,setHoverDate:D=>{n.value=D},selectYear:d,selectQuarter:(D,C,N)=>{if(!N)return u.value[C].month=Ut(LA(D)),t.multiDates?S(D):t.range?O(D):R(D)},toggleYearPicker:m,handleYearSelect:g,handleYear:y}},Eme={class:"dp--quarter-items"},Ime=["disabled","onClick","onMouseover"],Cme=Ce({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ys},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ga(),o=ki(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:f,showYearPicker:p,setHoverDate:m,selectQuarter:g,toggleYearPicker:y,handleYearSelect:b,handleYear:_}=Sme(i,r);return e({getSidebarProps:()=>({modelValue:f,year:c,selectQuarter:g,handleYearSelect:b,handleYear:_})}),(w,T)=>(E(),re(Qv,{"multi-calendars":I(a).count,stretch:""},{default:Y(({instance:S})=>[v("div",{class:"dp-quarter-picker-wrap",style:tr({minHeight:`${I(l).modeHeight}px`})},[v("div",null,[M(m3,ae(w.$props,{items:I(u)(S),instance:S,"show-year-picker":I(p)[S],year:I(c)(S),"is-disabled":O=>I(d)(S,O),onHandleYear:O=>I(_)(S,O),onYearSelect:O=>I(b)(O,S),onToggleYearPicker:O=>I(y)(S,O==null?void 0:O.flow,O==null?void 0:O.show)}),rr({_:2},[nt(I(o),(O,R)=>({name:O,fn:Y(D=>[fe(w.$slots,O,Rn(lr(D)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),v("div",Eme,[(E(!0),L(we,null,nt(I(h)(S),(O,R)=>(E(),L("div",{key:R},[v("button",{type:"button",class:xe(["dp--qr-btn",{"dp--qr-btn-active":O.active,"dp--qr-btn-between":O.isBetween,"dp--qr-btn-disabled":O.disabled,"dp--highlighted":O.highlighted}]),disabled:O.disabled,onClick:D=>I(g)(O.value,S,O.disabled),onMouseover:D=>I(m)(O.value)},[w.$slots.quarter?fe(w.$slots,"quarter",{key:0,value:O.value,text:O.text}):(E(),L(we,{key:1},[B(Be(O.text),1)],64))],42,Ime)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),Ome=["id"],Ame={key:0,class:"dp__sidebar_left"},kme={key:1,class:"dp--preset-dates"},Pme=["onClick","onKeydown"],xme={key:2,class:"dp__sidebar_right"},Dme={key:3,class:"dp__action_extra"},ak=Ce({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Xv,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ee(()=>{const{openOnTop:le,...x}=i;return{...x,flowStep:R.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=p3(),u=ga(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=qn(i),f=se(null),p=se(0),m=se(null),g=se(null),y=se(!1),b=se(null);$t(()=>{if(!i.shadow){y.value=!0,_(),window.addEventListener("resize",_);const le=ar(m);if(le&&!c.value.enabled&&!d.value.enabled&&(o(!0),H()),le){const x=V=>{h.value.allowPreventDefault&&V.preventDefault(),sa(V,h.value,!0)};le.addEventListener("pointerdown",x),le.addEventListener("mousedown",x)}}}),js(()=>{window.removeEventListener("resize",_)});const _=()=>{const le=ar(g);le&&(p.value=le.getBoundingClientRect().width)},{arrowRight:w,arrowLeft:T,arrowDown:S,arrowUp:O}=Ea(),{flowStep:R,updateFlowStep:D,childMount:C,resetFlow:N}=Ipe(i,r,b),F=ee(()=>i.monthPicker?jpe:i.yearPicker?Wpe:i.timePicker?ame:i.quarterPicker?Cme:Tme),H=()=>{const le=ar(m);le&&le.focus({preventScroll:!0})},$=ee(()=>{var le;return((le=b.value)==null?void 0:le.getSidebarProps())||{}}),A=()=>{i.openOnTop&&r("recalculate-position")},P=ki(u,"action"),W=ee(()=>i.monthPicker||i.yearPicker?ki(u,"monthYear"):i.timePicker?ki(u,"timePicker"):ki(u,"shared")),X=ee(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),U=ee(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),k=ee(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),ne=le=>{sa(le,h.value,!0)},ie=()=>{i.escClose&&r("close-picker")},ve=le=>{if(i.arrowNavigation){if(le==="up")return O();if(le==="down")return S();if(le==="left")return T();if(le==="right")return w()}else le==="left"||le==="up"?ue("handleArrow","left",0,le==="up"):ue("handleArrow","right",0,le==="down")},ye=le=>{a(le.shiftKey),!i.disableMonthYearSelect&&le.code==="Tab"&&le.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(le.preventDefault(),sa(le,h.value,!0),r("close-picker"))},oe=()=>{H(),r("time-picker-close")},K=le=>{var x,V,z;(x=b.value)==null||x.toggleTimePicker(!1,!1),(V=b.value)==null||V.toggleMonthPicker(!1,!1,le),(z=b.value)==null||z.toggleYearPicker(!1,!1,le)},Q=(le,x=0)=>{var V,z,ce;return le==="month"?(V=b.value)==null?void 0:V.toggleMonthPicker(!1,!0,x):le==="year"?(z=b.value)==null?void 0:z.toggleYearPicker(!1,!0,x):le==="time"?(ce=b.value)==null?void 0:ce.toggleTimePicker(!0,!1):K(x)},ue=(le,...x)=>{var V,z;(V=b.value)!=null&&V[le]&&((z=b.value)==null||z[le](...x))},Z=()=>{ue("selectCurrentDate")},pe=(le,x)=>{ue("presetDate",le,x)},_e=()=>{ue("clearHoverDate")};return e({updateMonthYear:(le,x)=>{ue("updateMonthYear",le,x)},switchView:Q}),(le,x)=>{var V;return E(),L("div",{id:le.uid?`dp-menu-${le.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog",class:xe(k.value),onMouseleave:_e,onClick:ne,onKeydown:[ht(ie,["esc"]),x[18]||(x[18]=ht(Tt(z=>ve("left"),["prevent"]),["left"])),x[19]||(x[19]=ht(Tt(z=>ve("up"),["prevent"]),["up"])),x[20]||(x[20]=ht(Tt(z=>ve("down"),["prevent"]),["down"])),x[21]||(x[21]=ht(Tt(z=>ve("right"),["prevent"]),["right"])),ye]},[(le.disabled||le.readonly)&&I(d).enabled?(E(),L("div",{key:0,class:xe(U.value)},null,2)):q("",!0),!I(d).enabled&&!le.teleportCenter?(E(),L("div",{key:1,class:xe(X.value)},null,2)):q("",!0),v("div",{ref_key:"innerMenuRef",ref:g,class:xe({dp__menu_content_wrapper:((V=le.presetDates)==null?void 0:V.length)||!!le.$slots["left-sidebar"]||!!le.$slots["right-sidebar"]}),style:tr({"--dp-menu-width":`${p.value}px`})},[le.$slots["left-sidebar"]?(E(),L("div",Ame,[fe(le.$slots,"left-sidebar",Rn(lr($.value)))])):q("",!0),le.presetDates.length?(E(),L("div",kme,[(E(!0),L(we,null,nt(le.presetDates,(z,ce)=>(E(),L(we,{key:ce},[z.slot?fe(le.$slots,z.slot,{key:0,presetDate:pe,label:z.label,value:z.value}):(E(),L("button",{key:1,type:"button",style:tr(z.style||{}),class:"dp__btn dp--preset-range",onClick:Tt(de=>pe(z.value,z.noTz),["prevent"]),onKeydown:[ht(Tt(de=>pe(z.value,z.noTz),["prevent"]),["enter"]),ht(Tt(de=>pe(z.value,z.noTz),["prevent"]),["space"])]},Be(z.label),45,Pme))],64))),128))])):q("",!0),v("div",{ref_key:"calendarWrapperRef",ref:f,class:"dp__instance_calendar",role:"document"},[(E(),re(yn(F.value),ae({ref_key:"dynCmpRef",ref:b},s.value,{"flow-step":I(R),onMount:I(C),onUpdateFlowStep:I(D),onResetFlow:I(N),onFocusMenu:H,onSelectDate:x[0]||(x[0]=z=>le.$emit("select-date")),onDateUpdate:x[1]||(x[1]=z=>le.$emit("date-update",z)),onTooltipOpen:x[2]||(x[2]=z=>le.$emit("tooltip-open",z)),onTooltipClose:x[3]||(x[3]=z=>le.$emit("tooltip-close",z)),onAutoApply:x[4]||(x[4]=z=>le.$emit("auto-apply",z)),onRangeStart:x[5]||(x[5]=z=>le.$emit("range-start",z)),onRangeEnd:x[6]||(x[6]=z=>le.$emit("range-end",z)),onInvalidFixedRange:x[7]||(x[7]=z=>le.$emit("invalid-fixed-range",z)),onTimeUpdate:x[8]||(x[8]=z=>le.$emit("time-update")),onAmPmChange:x[9]||(x[9]=z=>le.$emit("am-pm-change",z)),onTimePickerOpen:x[10]||(x[10]=z=>le.$emit("time-picker-open",z)),onTimePickerClose:oe,onRecalculatePosition:A,onUpdateMonthYear:x[11]||(x[11]=z=>le.$emit("update-month-year",z)),onAutoApplyInvalid:x[12]||(x[12]=z=>le.$emit("auto-apply-invalid",z)),onInvalidDate:x[13]||(x[13]=z=>le.$emit("invalid-date",z)),"onUpdate:internalModelValue":x[14]||(x[14]=z=>le.$emit("update:internal-model-value",z))}),rr({_:2},[nt(W.value,(z,ce)=>({name:z,fn:Y(de=>[fe(le.$slots,z,Rn(lr({...de})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),le.$slots["right-sidebar"]?(E(),L("div",xme,[fe(le.$slots,"right-sidebar",Rn(lr($.value)))])):q("",!0),le.$slots["action-extra"]?(E(),L("div",Dme,[le.$slots["action-extra"]?fe(le.$slots,"action-extra",{key:0,selectCurrentDate:Z}):q("",!0)])):q("",!0)],6),!le.autoApply||I(h).keepActionRow?(E(),re(Rpe,ae({key:2,"menu-mount":y.value},s.value,{"calendar-width":p.value,onClosePicker:x[15]||(x[15]=z=>le.$emit("close-picker")),onSelectDate:x[16]||(x[16]=z=>le.$emit("select-date")),onInvalidSelect:x[17]||(x[17]=z=>le.$emit("invalid-select")),onSelectNow:Z}),rr({_:2},[nt(I(P),(z,ce)=>({name:z,fn:Y(de=>[fe(le.$slots,z,Rn(lr({...de})))])}))]),1040,["menu-mount","calendar-width"])):q("",!0)],42,Ome)}}}),Rme=typeof window<"u"?window:void 0,$b=()=>{},Nme=t=>Qh()?(Tg(t),!0):!1,Mme=(t,e,n,r)=>{if(!t)return $b;let i=$b;const s=Ot(()=>I(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=$b})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return Nme(o),o},$me=(t,e,n,r={})=>{const{window:i=Rme,event:s="pointerdown"}=r;return i?Mme(i,s,o=>{const a=ar(t),l=ar(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},Lme=Ce({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Xv},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ga(),o=se(!1),a=Hu(i,"modelValue"),l=Hu(i,"timezone"),u=se(null),c=se(null),d=se(null),h=se(!1),f=se(null),p=se(!1),m=se(!1),{setMenuFocused:g,setShiftKey:y}=p3(),{clearArrowNav:b}=Ea(),{mapDatesArrToMap:_,validateDate:w,isValidTime:T}=Bl(i),{defaultedTransitions:S,defaultedTextInput:O,defaultedInline:R,defaultedConfig:D}=qn(i),{menuTransition:C,showTransition:N}=Mf(S);$t(()=>{ve(i.modelValue),Yn().then(()=>{if(!R.value.enabled){const ge=U(f.value);ge==null||ge.addEventListener("scroll",le),window==null||window.addEventListener("resize",x)}}),R.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",V),window==null||window.addEventListener("keydown",z)});const F=ee(()=>_());js(()=>{if(!R.value.enabled){const ge=U(f.value);ge==null||ge.removeEventListener("scroll",le),window==null||window.removeEventListener("resize",x)}window==null||window.removeEventListener("keyup",V),window==null||window.removeEventListener("keydown",z)});const H=ki(s,"all",i.presetDates),$=ki(s,"input");Ot([a,l],()=>{ve(a.value)},{deep:!0});const{openOnTop:A,menuStyle:P,xCorrect:W,setMenuPosition:X,getScrollableParent:U,shadowRender:k}=_pe({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:f,inline:R,emit:r,props:i,slots:s}),{inputValue:ne,internalModelValue:ie,parseExternalModelValue:ve,emitModelValue:ye,formatInputValue:oe,checkBeforeEmit:K}=bpe(r,i,h),Q=ee(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:R.value.enabled,dp__flex_display_with_input:R.value.input})),ue=ee(()=>i.dark?"dp__theme_dark":"dp__theme_light"),Z=ee(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||R.value.enabled})),pe=ee(()=>({class:"dp__outer_menu_wrap"})),_e=ee(()=>R.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),le=()=>{o.value&&(D.value.closeOnScroll?He():X())},x=()=>{o.value&&X()},V=ge=>{ge.key==="Tab"&&!R.value.enabled&&!i.teleport&&D.value.tabOutClosesMenu&&(f.value.contains(document.activeElement)||He()),m.value=ge.shiftKey},z=ge=>{m.value=ge.shiftKey},ce=()=>{!i.disabled&&!i.readonly&&(k(ak,i),X(!1),o.value=!0,o.value&&r("open"),o.value||Me(),ve(i.modelValue))},de=()=>{var ge;ne.value="",Me(),(ge=d.value)==null||ge.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),D.value.closeOnClearValue&&He()},Ee=()=>{const ge=ie.value;return!ge||!Array.isArray(ge)&&w(ge)?!0:Array.isArray(ge)?i.multiDates||ge.length===2&&w(ge[0])&&w(ge[1])?!0:i.partialRange&&!i.timePicker?w(ge[0]):!1:!1},De=()=>{K()&&Ee()?(ye(),He()):r("invalid-select",ie.value)},Te=ge=>{Oe(),ye(),D.value.closeOnAutoApply&&!ge&&He()},Oe=()=>{d.value&&O.value.enabled&&d.value.setParsedDate(ie.value)},be=(ge=!1)=>{i.autoApply&&T(ie.value)&&Ee()&&(i.range&&Array.isArray(ie.value)?(i.partialRange||ie.value.length===2)&&Te(ge):Te(ge))},Me=()=>{O.value.enabled||(ie.value=null)},He=()=>{R.value.enabled||(o.value&&(o.value=!1,W.value=!1,g(!1),y(!1),b(),r("closed"),ne.value&&ve(a.value)),Me(),r("blur"))},Ge=(ge,ke,Re=!1)=>{if(!ge){ie.value=null;return}const Qe=Array.isArray(ge)?!ge.some(it=>!w(it)):w(ge),We=T(ge);Qe&&We&&(ie.value=ge,ke&&(p.value=Re,De(),r("text-submit")))},rt=()=>{i.autoApply&&T(ie.value)&&ye(),Oe()},ct=()=>o.value?He():ce(),J=ge=>{ie.value=ge},j=()=>{O.value.enabled&&(h.value=!0,oe()),r("focus")},G=()=>{if(O.value.enabled&&(h.value=!1,ve(i.modelValue),p.value)){const ge=Jfe(f.value,m.value);ge==null||ge.focus()}r("blur")},te=ge=>{c.value&&c.value.updateMonthYear(0,{month:ek(ge.month),year:ek(ge.year)})},he=ge=>{ve(ge??i.modelValue)},Fe=(ge,ke)=>{var Re;(Re=c.value)==null||Re.switchView(ge,ke)},Xe=ge=>D.value.onClickOutside?D.value.onClickOutside(ge):He();return $me(u,d,()=>Xe(Ee)),e({closeMenu:He,selectDate:De,clearValue:de,openMenu:ce,onScroll:le,formatInputValue:oe,updateInternalModelValue:J,setMonthYear:te,parseModel:he,switchView:Fe,toggleMenu:ct}),(ge,ke)=>(E(),L("div",{ref_key:"pickerWrapperRef",ref:f,class:xe(Q.value),"data-datepicker-instance":""},[M(kpe,ae({ref_key:"inputRef",ref:d,"input-value":I(ne),"onUpdate:inputValue":ke[0]||(ke[0]=Re=>dn(ne)?ne.value=Re:null),"is-menu-open":o.value},ge.$props,{onClear:de,onOpen:ce,onSetInputDate:Ge,onSetEmptyDate:I(ye),onSelectDate:De,onToggle:ct,onClose:He,onFocus:j,onBlur:G,onRealBlur:ke[1]||(ke[1]=Re=>h.value=!1)}),rr({_:2},[nt(I($),(Re,Qe)=>({name:Re,fn:Y(We=>[fe(ge.$slots,Re,Rn(lr(We)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),M(A1,Rn(lr(Z.value)),{default:Y(()=>[M(Xi,{name:I(C)(I(A)),css:I(N)&&!I(R).enabled},{default:Y(()=>[o.value?(E(),L("div",ae({key:0,ref_key:"dpWrapMenuRef",ref:u},pe.value,{class:{"dp--menu-wrapper":!I(R).enabled},style:I(R).enabled?void 0:I(P)}),[M(ak,ae({ref_key:"dpMenuRef",ref:c},ge.$props,{"internal-model-value":I(ie),"onUpdate:internalModelValue":ke[2]||(ke[2]=Re=>dn(ie)?ie.value=Re:null),class:{[ue.value]:!0,"dp--menu-wrapper":ge.teleport},"open-on-top":I(A),"arr-map-values":F.value,"no-overlay-focus":_e.value,onClosePicker:He,onSelectDate:De,onAutoApply:be,onTimeUpdate:rt,onFlowStep:ke[3]||(ke[3]=Re=>ge.$emit("flow-step",Re)),onUpdateMonthYear:ke[4]||(ke[4]=Re=>ge.$emit("update-month-year",Re)),onInvalidSelect:ke[5]||(ke[5]=Re=>ge.$emit("invalid-select",I(ie))),onAutoApplyInvalid:ke[6]||(ke[6]=Re=>ge.$emit("invalid-select",Re)),onInvalidFixedRange:ke[7]||(ke[7]=Re=>ge.$emit("invalid-fixed-range",Re)),onRecalculatePosition:I(X),onTooltipOpen:ke[8]||(ke[8]=Re=>ge.$emit("tooltip-open",Re)),onTooltipClose:ke[9]||(ke[9]=Re=>ge.$emit("tooltip-close",Re)),onTimePickerOpen:ke[10]||(ke[10]=Re=>ge.$emit("time-picker-open",Re)),onTimePickerClose:ke[11]||(ke[11]=Re=>ge.$emit("time-picker-close",Re)),onAmPmChange:ke[12]||(ke[12]=Re=>ge.$emit("am-pm-change",Re)),onRangeStart:ke[13]||(ke[13]=Re=>ge.$emit("range-start",Re)),onRangeEnd:ke[14]||(ke[14]=Re=>ge.$emit("range-end",Re)),onDateUpdate:ke[15]||(ke[15]=Re=>ge.$emit("date-update",Re)),onInvalidDate:ke[16]||(ke[16]=Re=>ge.$emit("invalid-date",Re))}),rr({_:2},[nt(I(H),(Re,Qe)=>({name:Re,fn:Y(We=>[fe(ge.$slots,Re,Rn(lr({...We})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):q("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),TS=(()=>{const t=Lme;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),Fme=Object.freeze(Object.defineProperty({__proto__:null,default:TS},Symbol.toStringTag,{value:"Module"}));Object.entries(Fme).forEach(([t,e])=>{t!=="default"&&(TS[t]=e)});var $r={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function lk(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Vme(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Vme(t,e){if(t){if(typeof t=="string")return uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w3={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=lk(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=lk(n),d;try{for(c.s();!(d=c.n()).done;){var h=d.value,f=Ie.resolveFieldData(u,h);if(this.filters[i](f,r,s)){o.push(u);break}}}catch(p){c.e(p)}finally{c.f()}}}}catch(p){a.e(p)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Ie.removeAccents(e.toString()).toLocaleLowerCase(r)==Ie.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Ie.removeAccents(e.toString()).toLocaleLowerCase(r)!=Ie.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Ie.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){Ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e,n){return e=Bme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bme(t){var e=jme(t,"string");return Hh(e)=="symbol"?e:String(e)}function jme(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dk={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[$r.STARTS_WITH,$r.CONTAINS,$r.NOT_CONTAINS,$r.ENDS_WITH,$r.EQUALS,$r.NOT_EQUALS],numeric:[$r.EQUALS,$r.NOT_EQUALS,$r.LESS_THAN,$r.LESS_THAN_OR_EQUAL_TO,$r.GREATER_THAN,$r.GREATER_THAN_OR_EQUAL_TO],date:[$r.DATE_IS,$r.DATE_IS_NOT,$r.DATE_BEFORE,$r.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},Hme=Symbol();function Wme(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var Kme={install:function(e,n){var r=n?Lb(Lb({},dk),n):Lb({},dk),i={config:Nn(r),changeTheme:Wme};e.config.globalProperties.$primevue=i,e.provide(Hme,i)}},_3={name:"BlankIcon",extends:Ta},zme=v("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),Gme=[zme];function Yme(t,e,n,r,i,s){return E(),L("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Gme,16)}_3.render=Yme;var Zv={name:"CheckIcon",extends:Ta},qme=v("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),Xme=[qme];function Qme(t,e,n,r,i,s){return E(),L("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Xme,16)}Zv.render=Qme;var SS={name:"SearchIcon",extends:Ta},Jme=v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),Zme=[Jme];function ege(t,e,n,r,i,s){return E(),L("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Zme,16)}SS.render=ege;var T3=yQ(),ES={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=Pe.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function tge(t,e,n,r,i,s){return s.inline?fe(t.$slots,"default",{key:0}):i.mounted?(E(),re(A1,{key:1,to:n.appendTo},[fe(t.$slots,"default")],8,["to"])):q("",!0)}ES.render=tge;var nge=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,hk=sr.extend({name:"virtualscroller",css:nge}),rge={name:"BaseVirtualScroller",extends:Xr,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:hk,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;hk.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){S3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S3(t,e,n){return e=ige(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ige(t){var e=sge(t,"string");return Wh(e)=="symbol"?e:String(e)}function sge(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IS={name:"VirtualScroller",extends:rge,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){Pe.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=Pe.getWidth(this.element),this.defaultHeight=Pe.getHeight(this.element),this.defaultContentWidth=Pe.getWidth(this.content),this.defaultContentHeight=Pe.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(O){return O>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,h=d===void 0?0:d,f=this.calculateNumItems(),p=f.numToleratedItems,m=this.getContentPosition(),g=this.itemSize,y=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1?arguments[1]:void 0;return R<=D?0:R},b=function(R,D,C){return R*D+C},_=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:R,top:D,behavior:r})},w=i?{rows:0,cols:0}:0,T=!1,S=!1;i?(w={rows:y(e[0],p[0]),cols:y(e[1],p[1])},_(b(w.cols,g[1],m.left),b(w.rows,g[0],m.top)),S=this.lastScrollPos.top!==c||this.lastScrollPos.left!==h,T=w.rows!==a.rows||w.cols!==a.cols):(w=y(e,p),s?_(b(w,g,m.left),c):_(h,b(w,g,m.top)),S=this.lastScrollPos!==(s?h:c),T=w!==a),this.isRangeChanged=T,S&&(this.first=w)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(g){return g>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:y,top:b,behavior:i})},h=n==="to-start",f=n==="to-end";if(h){if(s)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var p=(c.first-1)*this.itemSize;o?d(p,0):d(0,p)}}else if(f){if(s)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var m=(c.first+1)*this.itemSize;o?d(m,0):d(0,m)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(d,h){return Math.floor(d/(h||d))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(h,f){return Math.ceil(h/(f||h))},l=function(h){return Math.ceil(h/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,d,h){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<h?2:3)*h,f)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[Pe.getWidth(e.element),Pe.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Zc(Zc({},e.spacerStyle),S3({},"".concat(l),(u||[]).length*c+d+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,d){return c*d},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Zc(Zc({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(N,F){return N?N>F?N-F:N:0},l=function(N,F){return Math.floor(N/(F||N))},u=function(N,F,H,$,A,P){return N<=A?A:P?H-$-A:F+A-1},c=function(N,F,H,$,A,P,W){return N<=P?0:Math.max(0,W?N<F?H:N-P:N>F?H:N-2*P)},d=function(N,F,H,$,A,P){var W=F+$+2*A;return N>=A&&(W+=A+1),n.getLast(W,P)},h=a(r.scrollTop,o.top),f=a(r.scrollLeft,o.left),p=i?{rows:0,cols:0}:0,m=this.last,g=!1,y=this.lastScrollPos;if(i){var b=this.lastScrollPos.top<=h,_=this.lastScrollPos.left<=f;if(!this.appendOnly||this.appendOnly&&(b||_)){var w={rows:l(h,this.itemSize[0]),cols:l(f,this.itemSize[1])},T={rows:u(w.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:u(w.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)};p={rows:c(w.rows,T.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:c(w.cols,T.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)},m={rows:d(w.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(w.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},g=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,y={top:h,left:f}}}else{var S=s?f:h,O=this.lastScrollPos<=S;if(!this.appendOnly||this.appendOnly&&O){var R=l(S,this.itemSize),D=u(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O);p=c(R,D,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O),m=d(R,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),g=p!==this.first||m!==this.last||this.isRangeChanged,y=S}}return{first:p,last:m,isRangeChanged:g,scrollPos:y}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(Pe.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[Pe.getWidth(e.element),Pe.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=Pe.getWidth(e.content),e.defaultContentHeight=Pe.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Zc({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||Pe.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Df}},oge=["tabindex"];function age(t,e,n,r,i,s){var o=wn("SpinnerIcon");return t.disabled?(E(),L(we,{key:1},[fe(t.$slots,"default"),fe(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(E(),L("div",ae({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[fe(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[v("div",ae({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(E(!0),L(we,null,nt(s.loadedItems,function(a,l){return fe(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(E(),L("div",ae({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):q("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(E(),L("div",ae({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(E(!0),L(we,{key:0},nt(i.loaderArr,function(a,l){return fe(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):q("",!0),fe(t.$slots,"loadingicon",{},function(){return[M(o,ae({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):q("",!0)],16,oge))}IS.render=age;var lge={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},uge=sr.extend({name:"dropdown",classes:lge}),cge={name:"BaseDropdown",extends:Xr,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:uge,provide:function(){return{$parentInstance:this}}};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function dge(t){return mge(t)||pge(t)||fge(t)||hge()}function hge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fge(t,e){if(t){if(typeof t=="string")return Qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(t,e)}}function pge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mge(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){E3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E3(t,e,n){return e=gge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gge(t){var e=vge(t,"string");return Kh(e)=="symbol"?e:String(e)}function vge(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I3={name:"Dropdown",extends:cge,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||lc()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||lc(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Fu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ie.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ie.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Ie.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ie.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ie.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ie.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Pe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Pe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||Pe.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Ie.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Ie.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Pe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Pe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Pe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Pe.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){T3.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onDeleteKey:function(e){this.showClear&&(this.updateModel(e,null),e.preventDefault())},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget,i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Pe.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Fu.set("overlay",e,this.$primevue.config.zIndex.overlay),Pe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Pe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Fu.clear(e)},alignOverlay:function(){this.appendTo==="self"?Pe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Pe.getOuterWidth(this.$el)+"px",Pe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new $$(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Pe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&Pe.isVisible(n)&&(this.labelClickListener=function(){Pe.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&Pe.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return Pe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ie.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Ie.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return Ie.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Pe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=w3.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(mk(mk({},o),{},E3({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",dge(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return Ie.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Ie.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:$v},components:{VirtualScroller:IS,Portal:ES,TimesIcon:zv,ChevronDownIcon:Lv,SpinnerIcon:Df,SearchIcon:SS,CheckIcon:Zv,BlankIcon:_3}};function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yge(t,e,n){return e=bge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bge(t){var e=wge(t,"string");return zh(e)=="symbol"?e:String(e)}function wge(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ge=["id"],Tge=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Sge=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Ege=["value","placeholder","aria-owns","aria-activedescendant"],Ige=["id","aria-label"],Cge=["id"],Oge=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Age(t,e,n,r,i,s){var o=wn("SpinnerIcon"),a=wn("CheckIcon"),l=wn("BlankIcon"),u=wn("VirtualScroller"),c=wn("Portal"),d=Jh("ripple");return E(),L("div",ae({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(E(),L("input",ae({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},bs(bs({},t.inputProps),t.ptm("input"))),null,16,Tge)):(E(),L("span",ae({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},bs(bs({},t.inputProps),t.ptm("input"))),[fe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[B(Be(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,Sge)),t.showClear&&t.modelValue!=null?fe(t.$slots,"clearicon",{key:2,class:xe(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(E(),re(yn(t.clearIcon?"i":"TimesIcon"),ae({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},bs(bs({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):q("",!0),v("div",ae({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?fe(t.$slots,"loadingicon",{key:0,class:xe(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(E(),L("span",ae({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(E(),re(o,ae({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"dropdownicon",{key:1,class:xe(t.cx("dropdownIcon"))},function(){return[(E(),re(yn(t.dropdownIcon?"span":"ChevronDownIcon"),ae({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),M(c,{appendTo:t.appendTo},{default:Y(function(){return[M(Xi,ae({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Y(function(){return[i.overlayVisible?(E(),L("div",ae({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},bs(bs({},t.panelProps),t.ptm("panel"))),[v("span",ae({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),fe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(E(),L("div",ae({key:0,class:t.cx("header")},t.ptm("header")),[v("div",ae({class:t.cx("filterContainer")},t.ptm("filterContainer")),[v("input",ae({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},bs(bs({},t.filterInputProps),t.ptm("filterInput"))),null,16,Ege),fe(t.$slots,"filtericon",{class:xe(t.cx("filterIcon"))},function(){return[(E(),re(yn(t.filterIcon?"span":"SearchIcon"),ae({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),v("span",ae({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Be(s.filterResultMessageText),17)],16)):q("",!0),v("div",ae({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[M(u,ae({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),rr({content:Y(function(h){var f=h.styleClass,p=h.contentRef,m=h.items,g=h.getItemOptions,y=h.contentStyle,b=h.itemSize;return[v("ul",ae({ref:function(w){return s.listRef(w,p)},id:i.id+"_list",class:[t.cx("list"),f],style:y,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(E(!0),L(we,null,nt(m,function(_,w){return E(),L(we,{key:s.getOptionRenderKey(_,s.getOptionIndex(w,g))},[s.isOptionGroup(_)?(E(),L("li",ae({key:0,id:i.id+"_"+s.getOptionIndex(w,g),style:{height:b?b+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[fe(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(w,g)},function(){return[v("span",ae({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),Be(s.getOptionGroupLabel(_.optionGroup)),17)]})],16,Cge)):vi((E(),L("li",ae({key:1,id:i.id+"_"+s.getOptionIndex(w,g),class:t.cx("item",{option:_,focusedOption:s.getOptionIndex(w,g)}),style:{height:b?b+"px":void 0},role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(w,g)),onClick:function(S){return s.onOptionSelect(S,_)},onMousemove:function(S){return s.onOptionMouseMove(S,s.getOptionIndex(w,g))},"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(w,g),"data-p-disabled":s.isOptionDisabled(_)},s.getPTItemOptions(_,g,w,"item")),[t.checkmark?(E(),L(we,{key:0},[s.isSelected(_)?(E(),re(a,ae({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(E(),re(l,ae({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):q("",!0),fe(t.$slots,"option",{option:_,index:s.getOptionIndex(w,g)},function(){return[v("span",ae({class:t.cx("itemLabel")},t.ptm("itemLabel")),Be(s.getOptionLabel(_)),17)]})],16,Oge)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(E(),L("li",ae({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[fe(t.$slots,"emptyfilter",{},function(){return[B(Be(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(E(),L("li",ae({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[fe(t.$slots,"empty",{},function(){return[B(Be(s.emptyMessageText),1)]})],16)):q("",!0)],16,Ige)]}),_:2},[t.$slots.loader?{name:"loader",fn:Y(function(h){var f=h.options;return[fe(t.$slots,"loader",{options:f})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),fe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(E(),L("span",ae({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Be(s.emptyMessageText),17)):q("",!0),v("span",ae({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Be(s.selectedMessageText),17),v("span",ae({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):q("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,_ge)}I3.render=Age;var kge={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},Pge=sr.extend({name:"inputtext",classes:kge}),xge={name:"BaseInputText",extends:Xr,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:Pge,provide:function(){return{$parentInstance:this}}},C3={name:"InputText",extends:xge,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},Dge=["value","aria-invalid"];function Rge(t,e,n,r,i,s){return E(),L("input",ae({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,Dge)}C3.render=Rge;var Nge={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},Mge=sr.extend({name:"checkbox",classes:Nge}),$ge={name:"BaseCheckbox",extends:Xr,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Mge,provide:function(){return{$parentInstance:this}}};function Lge(t){return Bge(t)||Uge(t)||Vge(t)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(t,e){if(t){if(typeof t=="string")return Jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(t,e)}}function Uge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bge(t){if(Array.isArray(t))return Jw(t)}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O3={name:"Checkbox",extends:$ge,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Ie.equals(i,n.value)}):r=this.modelValue?[].concat(Lge(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Ie.contains(this.value,this.modelValue)}},components:{CheckIcon:Zv}},jge=["data-p-highlight","data-p-disabled"],Hge=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function Wge(t,e,n,r,i,s){var o=wn("CheckIcon");return E(),L("div",ae({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[v("input",ae({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,Hge),v("div",ae({class:t.cx("box")},s.getPTOptions("box")),[fe(t.$slots,"icon",{checked:s.checked,class:xe(t.cx("icon"))},function(){return[s.checked?(E(),re(o,ae({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):q("",!0)]})],16)],16,jge)}O3.render=Wge;var Kge={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},zge={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},Gge=sr.extend({name:"multiselect",classes:zge,inlineStyles:Kge}),Yge={name:"BaseMultiSelect",extends:Xr,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Gge,provide:function(){return{$parentInstance:this}}};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){A3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A3(t,e,n){return e=qge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qge(t){var e=Xge(t,"string");return Gh(e)=="symbol"?e:String(e)}function Xge(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bk(t){return eve(t)||Zge(t)||Jge(t)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jge(t,e){if(t){if(typeof t=="string")return Zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(t,e)}}function Zge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eve(t){if(Array.isArray(t))return Zw(t)}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var k3={name:"MultiSelect",extends:Yge,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||lc()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||lc(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Fu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ie.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ie.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?Ie.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Ie.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ie.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ie.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&Pe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Pe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&Ie.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Pe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Pe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Pe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Pe.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!Ie.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(bk(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&Pe.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){T3.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(0,e.shiftKey?i:0),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,o,this.startRangeIndex),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(e.shiftKey?0:i,i),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Pe.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Fu.set("overlay",e,this.$primevue.config.zIndex.overlay),Pe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Pe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Fu.clear(e)},alignOverlay:function(){this.appendTo==="self"?Pe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Pe.getOuterWidth(this.$el)+"px",Pe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new $$(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Pe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&Ie.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!Ie.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return Pe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ie.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Ie.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Ie.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Pe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=w3.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(yk(yk({},o),{},A3({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",bk(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Ie.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Ie.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Ie.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Ie.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Ie.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:$v},components:{Checkbox:O3,VirtualScroller:IS,Portal:ES,TimesIcon:zv,SearchIcon:SS,TimesCircleIcon:VT,ChevronDownIcon:Lv,SpinnerIcon:Df,CheckIcon:Zv}};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){e1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e1(t,e,n){return e=tve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tve(t){var e=nve(t,"string");return Yh(e)=="symbol"?e:String(e)}function nve(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rve=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],ive=["onClick"],sve=["value","placeholder","aria-owns","aria-activedescendant"],ove=["aria-label"],ave=["id","aria-label"],lve=["id"],uve=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function cve(t,e,n,r,i,s){var o=wn("TimesCircleIcon"),a=wn("SpinnerIcon"),l=wn("Checkbox"),u=wn("VirtualScroller"),c=wn("Portal"),d=Jh("ripple");return E(),L("div",ae({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[v("div",ae({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[v("input",ae({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Ro(Ro({},t.inputProps),t.ptm("hiddenInput"))),null,16,rve)],16),v("div",ae({class:t.cx("labelContainer")},t.ptm("labelContainer")),[v("div",ae({class:t.cx("label")},t.ptm("label")),[fe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(E(),L(we,{key:0},[B(Be(s.label||"empty"),1)],64)):t.display==="chip"?(E(),L(we,{key:1},[(E(!0),L(we,null,nt(s.chipSelectedItems,function(h){return E(),L("div",ae({key:s.getLabelByValue(h),class:t.cx("token")},t.ptm("token")),[fe(t.$slots,"chip",{value:h},function(){return[v("span",ae({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),Be(s.getLabelByValue(h)),17)]}),t.disabled?q("",!0):fe(t.$slots,"removetokenicon",{key:0,class:xe(t.cx("removeTokenIcon")),item:h,onClick:function(p){return s.removeOption(p,h)},removeCallback:function(p){return s.removeOption(p,h)}},function(){return[t.removeTokenIcon?(E(),L("span",ae({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Tt(function(f){return s.removeOption(f,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,ive)):(E(),re(o,ae({key:1,class:t.cx("removeTokenIcon"),onClick:Tt(function(f){return s.removeOption(f,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(E(),L(we,{key:0},[B(Be(t.placeholder||"empty"),1)],64)):q("",!0)],64)):q("",!0)]})],16)],16),v("div",ae({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?fe(t.$slots,"loadingicon",{key:0,class:xe(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(E(),L("span",ae({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(E(),re(a,ae({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"dropdownicon",{key:1,class:xe(t.cx("dropdownIcon"))},function(){return[(E(),re(yn(t.dropdownIcon?"span":"ChevronDownIcon"),ae({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),M(c,{appendTo:t.appendTo},{default:Y(function(){return[M(Xi,ae({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Y(function(){return[i.overlayVisible?(E(),L("div",ae({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Ro(Ro({},t.panelProps),t.ptm("panel"))),[v("span",ae({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),fe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(E(),L("div",ae({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(E(),re(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Y(function(h){return[t.$slots.headercheckboxicon?(E(),re(yn(t.$slots.headercheckboxicon),{key:0,checked:h.checked,class:xe(h.class)},null,8,["checked","class"])):h.checked?(E(),re(yn(t.checkboxIcon?"span":"CheckIcon"),ae({key:1,class:[h.class,e1({},t.checkboxIcon,h.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):q("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):q("",!0),t.filter?(E(),L("div",ae({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[v("input",ae({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Ro(Ro({},t.filterInputProps),t.ptm("filterInput"))),null,16,sve),fe(t.$slots,"filtericon",{class:xe(t.cx("filterIcon"))},function(){return[(E(),re(yn(t.filterIcon?"span":"SearchIcon"),ae({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):q("",!0),t.filter?(E(),L("span",ae({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Be(s.filterResultMessageText),17)):q("",!0),vi((E(),L("button",ae({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Ro(Ro({},t.closeButtonProps),t.ptm("closeButton"))),[fe(t.$slots,"closeicon",{class:xe(t.cx("closeIcon"))},function(){return[(E(),re(yn(t.closeIcon?"span":"TimesIcon"),ae({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,ove)),[[d]])],16)):q("",!0),v("div",ae({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[M(u,ae({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),rr({content:Y(function(h){var f=h.styleClass,p=h.contentRef,m=h.items,g=h.getItemOptions,y=h.contentStyle,b=h.itemSize;return[v("ul",ae({ref:function(w){return s.listRef(w,p)},id:i.id+"_list",class:[t.cx("list"),f],style:y,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(E(!0),L(we,null,nt(m,function(_,w){return E(),L(we,{key:s.getOptionRenderKey(_,s.getOptionIndex(w,g))},[s.isOptionGroup(_)?(E(),L("li",ae({key:0,id:i.id+"_"+s.getOptionIndex(w,g),style:{height:b?b+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[fe(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(w,g)},function(){return[B(Be(s.getOptionGroupLabel(_.optionGroup)),1)]})],16,lve)):vi((E(),L("li",ae({key:1,id:i.id+"_"+s.getOptionIndex(w,g),style:{height:b?b+"px":void 0},class:t.cx("item",{option:_,index:w,getItemOptions:g}),role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(w,g)),onClick:function(S){return s.onOptionSelect(S,_,s.getOptionIndex(w,g),!0)},onMousemove:function(S){return s.onOptionMouseMove(S,s.getOptionIndex(w,g))}},s.getCheckboxPTOptions(_,g,w,"item"),{"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(w,g),"data-p-disabled":s.isOptionDisabled(_)}),[M(l,{modelValue:s.isSelected(_),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(_,g,w,"itemCheckbox")},{icon:Y(function(T){return[t.$slots.itemcheckboxicon?(E(),re(yn(t.$slots.itemcheckboxicon),{key:0,checked:T.checked,class:xe(T.class)},null,8,["checked","class"])):T.checked?(E(),re(yn(t.checkboxIcon?"span":"CheckIcon"),ae({key:1,class:[T.class,e1({},t.checkboxIcon,T.checked)]},s.getCheckboxPTOptions(_,g,w,"itemCheckbox.icon")),null,16,["class"])):q("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),fe(t.$slots,"option",{option:_,index:s.getOptionIndex(w,g)},function(){return[v("span",Rn(lr(t.ptm("option"))),Be(s.getOptionLabel(_)),17)]})],16,uve)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(E(),L("li",ae({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[fe(t.$slots,"emptyfilter",{},function(){return[B(Be(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(E(),L("li",ae({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[fe(t.$slots,"empty",{},function(){return[B(Be(s.emptyMessageText),1)]})],16)):q("",!0)],16,ave)]}),_:2},[t.$slots.loader?{name:"loader",fn:Y(function(h){var f=h.options;return[fe(t.$slots,"loader",{options:f})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),fe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(E(),L("span",ae({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Be(s.emptyMessageText),17)):q("",!0),v("span",ae({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Be(s.selectedMessageText),17),v("span",ae({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):q("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}k3.render=cve;var dve={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},hve=sr.extend({name:"textarea",classes:dve}),fve={name:"BaseTextarea",extends:Xr,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:hve,provide:function(){return{$parentInstance:this}}},P3={name:"Textarea",extends:fve,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},pve=["value","aria-invalid"];function mve(t,e,n,r,i,s){return E(),L("textarea",ae({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,pve)}P3.render=mve;const Qi=dx(nU);Qi.use(tS);Qi.use(LX,{firebaseApp:kD,modules:[RX()]});Qi.use(MD);Qi.use(W6);Qi.use(Ere);Qi.use(Kme);Qi.component("VueDatePicker",TS);Qi.component("PrimeInputText",C3);Qi.component("PrimeTextArea",P3);Qi.component("PrimeDropdown",I3);Qi.component("PrimeMultiSelect",k3);Qi.mount("#app");
