var D2=Object.defineProperty;var P2=(t,e,n)=>e in t?D2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sa=(t,e,n)=>(P2(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Am(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Qt={},nu=[],zi=()=>{},R2=()=>!1,O2=/^on[^a-z]/,ch=t=>O2.test(t),Nw=t=>t.startsWith("onUpdate:"),wn=Object.assign,Mw=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},N2=Object.prototype.hasOwnProperty,Pt=(t,e)=>N2.call(t,e),Ue=Array.isArray,ru=t=>qu(t)==="[object Map]",ll=t=>qu(t)==="[object Set]",K1=t=>qu(t)==="[object Date]",M2=t=>qu(t)==="[object RegExp]",rt=t=>typeof t=="function",bn=t=>typeof t=="string",yu=t=>typeof t=="symbol",en=t=>t!==null&&typeof t=="object",$w=t=>(en(t)||rt(t))&&rt(t.then)&&rt(t.catch),iA=Object.prototype.toString,qu=t=>iA.call(t),$2=t=>qu(t).slice(8,-1),sA=t=>qu(t)==="[object Object]",Lw=t=>bn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qc=Am(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),km=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},L2=/-(\w)/g,ei=km(t=>t.replace(L2,(e,n)=>n?n.toUpperCase():"")),U2=/\B([A-Z])/g,Ei=km(t=>t.replace(U2,"-$1").toLowerCase()),dh=km(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xc=km(t=>t?`on${dh(t)}`:""),Vo=(t,e)=>!Object.is(t,e),iu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},pp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},mp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},gp=t=>{const e=bn(t)?Number(t):NaN;return isNaN(e)?t:e};let G1;const Dy=()=>G1||(G1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),F2="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",V2=Am(F2);function Yn(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=bn(r)?W2(r):Yn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(bn(t)||en(t))return t}const B2=/;(?![^(]*\))/g,j2=/:([^]+)/,H2=/\/\*[^]*?\*\//g;function W2(t){const e={};return t.replace(H2,"").split(B2).forEach(n=>{if(n){const r=n.split(j2);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Oe(t){let e="";if(bn(t))e=t;else if(Ue(t))for(let n=0;n<t.length;n++){const r=Oe(t[n]);r&&(e+=r+" ")}else if(en(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function On(t){if(!t)return null;let{class:e,style:n}=t;return e&&!bn(e)&&(t.class=Oe(e)),n&&(t.style=Yn(n)),t}const z2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Y2=Am(z2);function oA(t){return!!t||t===""}function K2(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Bo(t[r],e[r]);return n}function Bo(t,e){if(t===e)return!0;let n=K1(t),r=K1(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=yu(t),r=yu(e),n||r)return t===e;if(n=Ue(t),r=Ue(e),n||r)return n&&r?K2(t,e):!1;if(n=en(t),r=en(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Bo(t[o],e[o]))return!1}}return String(t)===String(e)}function xm(t,e){return t.findIndex(n=>Bo(n,e))}const qe=t=>bn(t)?t:t==null?"":Ue(t)||en(t)&&(t.toString===iA||!rt(t.toString))?JSON.stringify(t,aA,2):String(t),aA=(t,e)=>e&&e.__v_isRef?aA(t,e.value):ru(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:ll(e)?{[`Set(${e.size})`]:[...e.values()]}:en(e)&&!Ue(e)&&!sA(e)?String(e):e;let ai;class Uw{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ai,!e&&ai&&(this.index=(ai.scopes||(ai.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ai;try{return ai=this,e()}finally{ai=n}}}on(){ai=this}off(){ai=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Dm(t){return new Uw(t)}function lA(t,e=ai){e&&e.active&&e.effects.push(t)}function Pm(){return ai}function Fw(t){ai&&ai.cleanups.push(t)}const Vw=t=>{const e=new Set(t);return e.w=0,e.n=0,e},uA=t=>(t.w&jo)>0,cA=t=>(t.n&jo)>0,G2=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=jo},q2=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];uA(i)&&!cA(i)?i.delete(t):e[n++]=i,i.w&=~jo,i.n&=~jo}e.length=n}},vp=new WeakMap;let Rc=0,jo=1;const Py=30;let Fi;const Aa=Symbol(""),Ry=Symbol("");class wu{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,lA(this,r)}run(){if(!this.active)return this.fn();let e=Fi,n=xo;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Fi,Fi=this,xo=!0,jo=1<<++Rc,Rc<=Py?G2(this):q1(this),this.fn()}finally{Rc<=Py&&q2(this),jo=1<<--Rc,Fi=this.parent,xo=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Fi===this?this.deferStop=!0:this.active&&(q1(this),this.onStop&&this.onStop(),this.active=!1)}}function q1(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function Q2(t,e){t.effect instanceof wu&&(t=t.effect.fn);const n=new wu(t);e&&(wn(n,e),e.scope&&lA(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function X2(t){t.effect.stop()}let xo=!0;const dA=[];function Qu(){dA.push(xo),xo=!1}function Xu(){const t=dA.pop();xo=t===void 0?!0:t}function ni(t,e,n){if(xo&&Fi){let r=vp.get(t);r||vp.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Vw()),hA(i)}}function hA(t,e){let n=!1;Rc<=Py?cA(t)||(t.n|=jo,n=!uA(t)):n=!t.has(Fi),n&&(t.add(Fi),Fi.deps.push(t))}function Vs(t,e,n,r,i,s){const o=vp.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ue(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!yu(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ue(t)?Lw(n)&&a.push(o.get("length")):(a.push(o.get(Aa)),ru(t)&&a.push(o.get(Ry)));break;case"delete":Ue(t)||(a.push(o.get(Aa)),ru(t)&&a.push(o.get(Ry)));break;case"set":ru(t)&&a.push(o.get(Aa));break}if(a.length===1)a[0]&&Oy(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Oy(Vw(l))}}function Oy(t,e){const n=Ue(t)?t:[...t];for(const r of n)r.computed&&Q1(r);for(const r of n)r.computed||Q1(r)}function Q1(t,e){(t!==Fi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function J2(t,e){var n;return(n=vp.get(t))==null?void 0:n.get(e)}const Z2=Am("__proto__,__v_isRef,__isVue"),fA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yu)),X1=e$();function e$(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=vt(this);for(let s=0,o=this.length;s<o;s++)ni(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(vt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Qu();const r=vt(this)[e].apply(this,n);return Xu(),r}}),t}function t$(t){const e=vt(this);return ni(e,"has",t),e.hasOwnProperty(t)}class pA{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&r===(i?s?bA:wA:s?yA:vA).get(e))return e;const o=Ue(e);if(!i){if(o&&Pt(X1,n))return Reflect.get(X1,n,r);if(n==="hasOwnProperty")return t$}const a=Reflect.get(e,n,r);return(yu(n)?fA.has(n):Z2(n))||(i||ni(e,"get",n),s)?a:Jt(a)?o&&Lw(n)?a:a.value:en(a)?i?jw(a):qn(a):a}}class mA extends pA{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(Fa(s)&&Jt(s)&&!Jt(r))return!1;if(!this._shallow&&(!Id(r)&&!Fa(r)&&(s=vt(s),r=vt(r)),!Ue(e)&&Jt(s)&&!Jt(r)))return s.value=r,!0;const o=Ue(e)&&Lw(n)?Number(n)<e.length:Pt(e,n),a=Reflect.set(e,n,r,i);return e===vt(i)&&(o?Vo(r,s)&&Vs(e,"set",n,r):Vs(e,"add",n,r)),a}deleteProperty(e,n){const r=Pt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Vs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!yu(n)||!fA.has(n))&&ni(e,"has",n),r}ownKeys(e){return ni(e,"iterate",Ue(e)?"length":Aa),Reflect.ownKeys(e)}}class gA extends pA{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const n$=new mA,r$=new gA,i$=new mA(!0),s$=new gA(!0),Bw=t=>t,Rm=t=>Reflect.getPrototypeOf(t);function Xh(t,e,n=!1,r=!1){t=t.__v_raw;const i=vt(t),s=vt(e);n||(Vo(e,s)&&ni(i,"get",e),ni(i,"get",s));const{has:o}=Rm(i),a=r?Bw:n?Ww:Cd;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Jh(t,e=!1){const n=this.__v_raw,r=vt(n),i=vt(t);return e||(Vo(t,i)&&ni(r,"has",t),ni(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Zh(t,e=!1){return t=t.__v_raw,!e&&ni(vt(t),"iterate",Aa),Reflect.get(t,"size",t)}function J1(t){t=vt(t);const e=vt(this);return Rm(e).has.call(e,t)||(e.add(t),Vs(e,"add",t,t)),this}function Z1(t,e){e=vt(e);const n=vt(this),{has:r,get:i}=Rm(n);let s=r.call(n,t);s||(t=vt(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Vo(e,o)&&Vs(n,"set",t,e):Vs(n,"add",t,e),this}function eT(t){const e=vt(this),{has:n,get:r}=Rm(e);let i=n.call(e,t);i||(t=vt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Vs(e,"delete",t,void 0),s}function tT(){const t=vt(this),e=t.size!==0,n=t.clear();return e&&Vs(t,"clear",void 0,void 0),n}function ef(t,e){return function(r,i){const s=this,o=s.__v_raw,a=vt(o),l=e?Bw:t?Ww:Cd;return!t&&ni(a,"iterate",Aa),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function tf(t,e,n){return function(...r){const i=this.__v_raw,s=vt(i),o=ru(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?Bw:e?Ww:Cd;return!e&&ni(s,"iterate",l?Ry:Aa),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function so(t){return function(...e){return t==="delete"?!1:this}}function o$(){const t={get(s){return Xh(this,s)},get size(){return Zh(this)},has:Jh,add:J1,set:Z1,delete:eT,clear:tT,forEach:ef(!1,!1)},e={get(s){return Xh(this,s,!1,!0)},get size(){return Zh(this)},has:Jh,add:J1,set:Z1,delete:eT,clear:tT,forEach:ef(!1,!0)},n={get(s){return Xh(this,s,!0)},get size(){return Zh(this,!0)},has(s){return Jh.call(this,s,!0)},add:so("add"),set:so("set"),delete:so("delete"),clear:so("clear"),forEach:ef(!0,!1)},r={get(s){return Xh(this,s,!0,!0)},get size(){return Zh(this,!0)},has(s){return Jh.call(this,s,!0)},add:so("add"),set:so("set"),delete:so("delete"),clear:so("clear"),forEach:ef(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=tf(s,!1,!1),n[s]=tf(s,!0,!1),e[s]=tf(s,!1,!0),r[s]=tf(s,!0,!0)}),[t,n,e,r]}const[a$,l$,u$,c$]=o$();function Om(t,e){const n=e?t?c$:u$:t?l$:a$;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Pt(n,i)&&i in r?n:r,i,s)}const d$={get:Om(!1,!1)},h$={get:Om(!1,!0)},f$={get:Om(!0,!1)},p$={get:Om(!0,!0)},vA=new WeakMap,yA=new WeakMap,wA=new WeakMap,bA=new WeakMap;function m$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function g$(t){return t.__v_skip||!Object.isExtensible(t)?0:m$($2(t))}function qn(t){return Fa(t)?t:Nm(t,!1,n$,d$,vA)}function _A(t){return Nm(t,!1,i$,h$,yA)}function jw(t){return Nm(t,!0,r$,f$,wA)}function v$(t){return Nm(t,!0,s$,p$,bA)}function Nm(t,e,n,r,i){if(!en(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=g$(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function fs(t){return Fa(t)?fs(t.__v_raw):!!(t&&t.__v_isReactive)}function Fa(t){return!!(t&&t.__v_isReadonly)}function Id(t){return!!(t&&t.__v_isShallow)}function Hw(t){return fs(t)||Fa(t)}function vt(t){const e=t&&t.__v_raw;return e?vt(e):t}function hh(t){return pp(t,"__v_skip",!0),t}const Cd=t=>en(t)?qn(t):t,Ww=t=>en(t)?jw(t):t;function zw(t){xo&&Fi&&(t=vt(t),hA(t.dep||(t.dep=Vw())))}function Mm(t,e){t=vt(t);const n=t.dep;n&&Oy(n)}function Jt(t){return!!(t&&t.__v_isRef===!0)}function ue(t){return EA(t,!1)}function TA(t){return EA(t,!0)}function EA(t,e){return Jt(t)?t:new y$(t,e)}class y${constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:vt(e),this._value=n?e:Cd(e)}get value(){return zw(this),this._value}set value(e){const n=this.__v_isShallow||Id(e)||Fa(e);e=n?e:vt(e),Vo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Cd(e),Mm(this))}}function w$(t){Mm(t)}function x(t){return Jt(t)?t.value:t}function b$(t){return rt(t)?t():x(t)}const _$={get:(t,e,n)=>x(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Jt(i)&&!Jt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Yw(t){return fs(t)?t:new Proxy(t,_$)}class T${constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>zw(this),()=>Mm(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function E$(t){return new T$(t)}function SA(t){const e=Ue(t)?new Array(t.length):{};for(const n in t)e[n]=IA(t,n);return e}class S${constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return J2(vt(this._object),this._key)}}class I${constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function bu(t,e,n){return Jt(t)?t:rt(t)?new I$(t):en(t)&&arguments.length>1?IA(t,e,n):ue(t)}function IA(t,e,n){const r=t[e];return Jt(r)?r:new S$(t,e,n)}class C${constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new wu(e,()=>{this._dirty||(this._dirty=!0,Mm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=vt(this);return zw(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function A$(t,e,n=!1){let r,i;const s=rt(t);return s?(r=t,i=zi):(r=t.get,i=t.set),new C$(r,i,s||!i,n)}function k$(t,...e){}function x$(t,e){}function Bs(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){ul(s,e,n)}return i}function hi(t,e,n,r){if(rt(t)){const s=Bs(t,e,n,r);return s&&$w(s)&&s.catch(o=>{ul(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(hi(t[s],e,n,r));return i}function ul(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Bs(l,null,10,[t,o,a]);return}}D$(t,n,i,r)}function D$(t,e,n,r=!0){console.error(t)}let Ad=!1,Ny=!1;const Ir=[];let rs=0;const su=[];let Ps=null,ga=0;const CA=Promise.resolve();let Kw=null;function Kn(t){const e=Kw||CA;return t?e.then(this?t.bind(this):t):e}function P$(t){let e=rs+1,n=Ir.length;for(;e<n;){const r=e+n>>>1,i=Ir[r],s=kd(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function $m(t){(!Ir.length||!Ir.includes(t,Ad&&t.allowRecurse?rs+1:rs))&&(t.id==null?Ir.push(t):Ir.splice(P$(t.id),0,t),AA())}function AA(){!Ad&&!Ny&&(Ny=!0,Kw=CA.then(kA))}function R$(t){const e=Ir.indexOf(t);e>rs&&Ir.splice(e,1)}function yp(t){Ue(t)?su.push(...t):(!Ps||!Ps.includes(t,t.allowRecurse?ga+1:ga))&&su.push(t),AA()}function nT(t,e=Ad?rs+1:0){for(;e<Ir.length;e++){const n=Ir[e];n&&n.pre&&(Ir.splice(e,1),e--,n())}}function wp(t){if(su.length){const e=[...new Set(su)];if(su.length=0,Ps){Ps.push(...e);return}for(Ps=e,Ps.sort((n,r)=>kd(n)-kd(r)),ga=0;ga<Ps.length;ga++)Ps[ga]();Ps=null,ga=0}}const kd=t=>t.id==null?1/0:t.id,O$=(t,e)=>{const n=kd(t)-kd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function kA(t){Ny=!1,Ad=!0,Ir.sort(O$);const e=zi;try{for(rs=0;rs<Ir.length;rs++){const n=Ir[rs];n&&n.active!==!1&&Bs(n,null,14)}}finally{rs=0,Ir.length=0,wp(),Ad=!1,Kw=null,(Ir.length||su.length)&&kA()}}let Ml,nf=[];function xA(t,e){var n,r;Ml=t,Ml?(Ml.enabled=!0,nf.forEach(({event:i,args:s})=>Ml.emit(i,...s)),nf=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{xA(s,e)}),setTimeout(()=>{Ml||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,nf=[])},3e3)):nf=[]}function N$(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Qt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=r[c]||Qt;h&&(i=n.map(f=>bn(f)?f.trim():f)),d&&(i=n.map(mp))}let a,l=r[a=Xc(e)]||r[a=Xc(ei(e))];!l&&s&&(l=r[a=Xc(Ei(e))]),l&&hi(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,hi(u,t,6,i)}}function DA(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!rt(t)){const l=u=>{const c=DA(u,e,!0);c&&(a=!0,wn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(en(t)&&r.set(t,null),null):(Ue(s)?s.forEach(l=>o[l]=null):wn(o,s),en(t)&&r.set(t,o),o)}function Lm(t,e){return!t||!ch(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pt(t,e[0].toLowerCase()+e.slice(1))||Pt(t,Ei(e))||Pt(t,e))}let nr=null,Um=null;function xd(t){const e=nr;return nr=t,Um=t&&t.type.__scopeId||null,e}function Gw(t){Um=t}function qw(){Um=null}const M$=t=>ye;function ye(t,e=nr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&By(-1);const s=xd(e);let o;try{o=t(...i)}finally{xd(s),r._d&&By(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function zf(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t;let y,_;const v=xd(t);try{if(n.shapeFlag&4){const g=i||r;y=li(c.call(g,g,d,s,f,h,p)),_=l}else{const g=e;y=li(g.length>1?g(s,{attrs:l,slots:a,emit:u}):g(s,null)),_=e.props?l:L$(l)}}catch(g){ed.length=0,ul(g,t,1),y=oe(xr)}let b=y;if(_&&m!==!1){const g=Object.keys(_),{shapeFlag:w}=b;g.length&&w&7&&(o&&g.some(Nw)&&(_=U$(_,o)),b=bs(b,_))}return n.dirs&&(b=bs(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),y=b,xd(v),y}function $$(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Ho(r)){if(r.type!==xr||r.children==="v-if"){if(e)return;e=r}}else return}return e}const L$=t=>{let e;for(const n in t)(n==="class"||n==="style"||ch(n))&&((e||(e={}))[n]=t[n]);return e},U$=(t,e)=>{const n={};for(const r in t)(!Nw(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function F$(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?rT(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!Lm(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?rT(r,o,u):!0:!!o;return!1}function rT(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Lm(n,s))return!0}return!1}function Qw({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Xw="components",V$="directives";function eo(t,e){return Jw(Xw,t,!0,e)||t}const PA=Symbol.for("v-ndc");function fh(t){return bn(t)?Jw(Xw,t,!1)||t:t||PA}function B$(t){return Jw(V$,t)}function Jw(t,e,n=!0,r=!1){const i=nr||Bn;if(i){const s=i.type;if(t===Xw){const a=Wy(s,!1);if(a&&(a===e||a===ei(e)||a===dh(ei(e))))return s}const o=iT(i[t]||s[t],e)||iT(i.appContext[t],e);return!o&&r?s:o}}function iT(t,e){return t&&(t[e]||t[ei(e)]||t[dh(ei(e))])}const RA=t=>t.__isSuspense,j$={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){t==null?W$(e,n,r,i,s,o,a,l,u):z$(t,e,n,r,i,o,a,l,u)},hydrate:Y$,create:Zw,normalize:K$},H$=j$;function Dd(t,e){const n=t.props&&t.props[e];rt(n)&&n()}function W$(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=Zw(t,i,r,e,d,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,s,o),h.deps>0?(Dd(t,"onPending"),Dd(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),ou(h,t.ssFallback)):h.resolve(!1,!0)}function z$(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:y,isHydrating:_}=d;if(m)d.pendingBranch=h,Vi(h,m)?(l(m,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():y&&(l(p,f,n,r,i,null,s,o,a),ou(d,f))):(d.pendingId++,_?(d.isHydrating=!1,d.activeBranch=m):u(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),y?(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,f,n,r,i,null,s,o,a),ou(d,f))):p&&Vi(h,p)?(l(p,h,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&Vi(h,p))l(p,h,n,r,i,d,s,o,a),ou(d,h);else if(Dd(e,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:v,pendingId:b}=d;v>0?setTimeout(()=>{d.pendingId===b&&d.fallback(f)},v):v===0&&d.fallback(f)}}function Zw(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:m,remove:y}}=u;let _;const v=G$(t);v&&e!=null&&e.pendingBranch&&(_=e.pendingId,e.deps++);const b=t.props?gp(t.props.timeout):void 0,g={vnode:t,parent:e,parentComponent:n,isSVG:o,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(w=!1,T=!1){const{vnode:R,activeBranch:A,pendingBranch:k,pendingId:S,effects:M,parentComponent:F,container:I}=g;let j=!1;if(g.isHydrating)g.isHydrating=!1;else if(!w){j=A&&k.transition&&k.transition.mode==="out-in",j&&(A.transition.afterLeave=()=>{S===g.pendingId&&(h(k,I,H,0),yp(M))});let{anchor:H}=g;A&&(H=p(A),f(A,F,g,!0)),j||h(k,I,H,0)}ou(g,k),g.pendingBranch=null,g.isInFallback=!1;let N=g.parent,O=!1;for(;N;){if(N.pendingBranch){N.effects.push(...M),O=!0;break}N=N.parent}!O&&!j&&yp(M),g.effects=[],v&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),Dd(R,"onResolve")},fallback(w){if(!g.pendingBranch)return;const{vnode:T,activeBranch:R,parentComponent:A,container:k,isSVG:S}=g;Dd(T,"onFallback");const M=p(R),F=()=>{g.isInFallback&&(d(null,w,k,M,A,null,S,a,l),ou(g,w))},I=w.transition&&w.transition.mode==="out-in";I&&(R.transition.afterLeave=F),g.isInFallback=!0,f(R,A,null,!0),I||F()},move(w,T,R){g.activeBranch&&h(g.activeBranch,w,T,R),g.container=w},next(){return g.activeBranch&&p(g.activeBranch)},registerDep(w,T){const R=!!g.pendingBranch;R&&g.deps++;const A=w.vnode.el;w.asyncDep.catch(k=>{ul(k,w,0)}).then(k=>{if(w.isUnmounted||g.isUnmounted||g.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:S}=w;jy(w,k,!1),A&&(S.el=A);const M=!A&&w.subTree.el;T(w,S,m(A||w.subTree.el),A?null:p(w.subTree),g,o,l),M&&y(M),Qw(w,S.el),R&&--g.deps===0&&g.resolve()})},unmount(w,T){g.isUnmounted=!0,g.activeBranch&&f(g.activeBranch,n,w,T),g.pendingBranch&&f(g.pendingBranch,n,w,T)}};return g}function Y$(t,e,n,r,i,s,o,a,l){const u=e.suspense=Zw(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function K$(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=sT(r?n.default:n),t.ssFallback=r?sT(n.fallback):oe(xr)}function sT(t){let e;if(rt(t)){const n=ja&&t._c;n&&(t._d=!1,P()),t=t(),n&&(t._d=!0,e=Xr,uk())}return Ue(t)&&(t=$$(t)),t=li(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function OA(t,e){e&&e.pendingBranch?Ue(t)?e.effects.push(...t):e.effects.push(t):yp(t)}function ou(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,Qw(r,i))}function G$(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function NA(t,e){return ph(t,null,e)}function MA(t,e){return ph(t,null,{flush:"post"})}function q$(t,e){return ph(t,null,{flush:"sync"})}const rf={};function Zt(t,e,n){return ph(t,e,n)}function ph(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Qt){var a;const l=Pm()===((a=Bn)==null?void 0:a.scope)?Bn:null;let u,c=!1,d=!1;if(Jt(t)?(u=()=>t.value,c=Id(t)):fs(t)?(u=()=>t,r=!0):Ue(t)?(d=!0,c=t.some(g=>fs(g)||Id(g)),u=()=>t.map(g=>{if(Jt(g))return g.value;if(fs(g))return _a(g);if(rt(g))return Bs(g,l,2)})):rt(t)?e?u=()=>Bs(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),hi(t,l,3,[f])}:u=zi,e&&r){const g=u;u=()=>_a(g())}let h,f=g=>{h=v.onStop=()=>{Bs(g,l,4)}},p;if(Tu)if(f=zi,e?n&&hi(e,l,3,[u(),d?[]:void 0,f]):u(),i==="sync"){const g=yk();p=g.__watcherHandles||(g.__watcherHandles=[])}else return zi;let m=d?new Array(t.length).fill(rf):rf;const y=()=>{if(v.active)if(e){const g=v.run();(r||c||(d?g.some((w,T)=>Vo(w,m[T])):Vo(g,m)))&&(h&&h(),hi(e,l,3,[g,m===rf?void 0:d&&m[0]===rf?[]:m,f]),m=g)}else v.run()};y.allowRecurse=!!e;let _;i==="sync"?_=y:i==="post"?_=()=>cr(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),_=()=>$m(y));const v=new wu(u,_);e?n?y():m=v.run():i==="post"?cr(v.run.bind(v),l&&l.suspense):v.run();const b=()=>{v.stop(),l&&l.scope&&Mw(l.scope.effects,v)};return p&&p.push(b),b}function Q$(t,e,n){const r=this.proxy,i=bn(t)?t.includes(".")?$A(r,t):()=>r[t]:t.bind(r,r);let s;rt(e)?s=e:(s=e.handler,n=e);const o=Bn;Wo(this);const a=ph(i,s.bind(r),n);return o?Wo(o):Do(),a}function $A(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function _a(t,e){if(!en(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Jt(t))_a(t.value,e);else if(Ue(t))for(let n=0;n<t.length;n++)_a(t[n],e);else if(ll(t)||ru(t))t.forEach(n=>{_a(n,e)});else if(sA(t))for(const n in t)_a(t[n],e);return t}function ps(t,e){const n=nr;if(n===null)return t;const r=Hm(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=Qt]=e[s];o&&(rt(o)&&(o={mounted:o,updated:o}),o.deep&&_a(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function ts(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Qu(),hi(l,n,8,[t.el,a,t,e]),Xu())}}const go=Symbol("_leaveCb"),sf=Symbol("_enterCb");function eb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sn(()=>{t.isMounted=!0}),gh(()=>{t.isUnmounting=!0}),t}const wi=[Function,Array],tb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wi,onEnter:wi,onAfterEnter:wi,onEnterCancelled:wi,onBeforeLeave:wi,onLeave:wi,onAfterLeave:wi,onLeaveCancelled:wi,onBeforeAppear:wi,onAppear:wi,onAfterAppear:wi,onAppearCancelled:wi},X$={name:"BaseTransition",props:tb,setup(t,{slots:e}){const n=Ss(),r=eb();let i;return()=>{const s=e.default&&Fm(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const m of s)if(m.type!==xr){o=m;break}}const a=vt(t),{mode:l}=a;if(r.isLeaving)return nv(o);const u=oT(o);if(!u)return nv(o);const c=_u(u,a,r,n);Va(u,c);const d=n.subTree,h=d&&oT(d);let f=!1;const{getTransitionKey:p}=u.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,f=!0)}if(h&&h.type!==xr&&(!Vi(u,h)||f)){const m=_u(h,a,r,n);if(Va(h,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},nv(o);l==="in-out"&&u.type!==xr&&(m.delayLeave=(y,_,v)=>{const b=UA(r,h);b[String(h.key)]=h,y[go]=()=>{_(),y[go]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return o}}},LA=X$;function UA(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function _u(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:_,onAppearCancelled:v}=e,b=String(t.key),g=UA(n,t),w=(A,k)=>{A&&hi(A,r,9,k)},T=(A,k)=>{const S=k[1];w(A,k),Ue(A)?A.every(M=>M.length<=1)&&S():A.length<=1&&S()},R={mode:s,persisted:o,beforeEnter(A){let k=a;if(!n.isMounted)if(i)k=m||a;else return;A[go]&&A[go](!0);const S=g[b];S&&Vi(t,S)&&S.el[go]&&S.el[go](),w(k,[A])},enter(A){let k=l,S=u,M=c;if(!n.isMounted)if(i)k=y||l,S=_||u,M=v||c;else return;let F=!1;const I=A[sf]=j=>{F||(F=!0,j?w(M,[A]):w(S,[A]),R.delayedLeave&&R.delayedLeave(),A[sf]=void 0)};k?T(k,[A,I]):I()},leave(A,k){const S=String(t.key);if(A[sf]&&A[sf](!0),n.isUnmounting)return k();w(d,[A]);let M=!1;const F=A[go]=I=>{M||(M=!0,k(),I?w(p,[A]):w(f,[A]),A[go]=void 0,g[S]===t&&delete g[S])};g[S]=t,h?T(h,[A,F]):F()},clone(A){return _u(A,e,n,r)}};return R}function nv(t){if(mh(t))return t=bs(t),t.children=null,t}function oT(t){return mh(t)?t.children?t.children[0]:void 0:t}function Va(t,e){t.shapeFlag&6&&t.component?Va(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Fm(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ce?(o.patchFlag&128&&i++,r=r.concat(Fm(o.children,e,a))):(e||o.type!==xr)&&r.push(a!=null?bs(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ee(t,e){return rt(t)?(()=>wn({name:t.name},e,{setup:t}))():t}const ka=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function J$(t){rt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let f;return l||(f=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,y)=>{a(p,()=>m(d()),()=>y(p),c+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Ee({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const f=Bn;if(u)return()=>rv(u,f);const p=v=>{l=null,ul(v,f,13,!r)};if(o&&f.suspense||Tu)return h().then(v=>()=>rv(v,f)).catch(v=>(p(v),()=>r?oe(r,{error:v}):null));const m=ue(!1),y=ue(),_=ue(!!i);return i&&setTimeout(()=>{_.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!y.value){const v=new Error(`Async component timed out after ${s}ms.`);p(v),y.value=v}},s),h().then(()=>{m.value=!0,f.parent&&mh(f.parent.vnode)&&$m(f.parent.update)}).catch(v=>{p(v),y.value=v}),()=>{if(m.value&&u)return rv(u,f);if(y.value&&r)return oe(r,{error:y.value});if(n&&!_.value)return oe(n)}}})}function rv(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=oe(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const mh=t=>t.type.__isKeepAlive,Z$={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Ss(),r=n.ctx;if(!r.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(v,b,g,w,T)=>{const R=v.component;u(v,b,g,0,a),l(R.vnode,v,b,g,R,a,w,v.slotScopeIds,T),cr(()=>{R.isDeactivated=!1,R.a&&iu(R.a);const A=v.props&&v.props.onVnodeMounted;A&&Gr(A,R.parent,v)},a)},r.deactivate=v=>{const b=v.component;u(v,h,null,1,a),cr(()=>{b.da&&iu(b.da);const g=v.props&&v.props.onVnodeUnmounted;g&&Gr(g,b.parent,v),b.isDeactivated=!0},a)};function f(v){iv(v),c(v,n,a,!0)}function p(v){i.forEach((b,g)=>{const w=Wy(b.type);w&&(!v||!v(w))&&m(g)})}function m(v){const b=i.get(v);!o||!Vi(b,o)?f(b):o&&iv(o),i.delete(v),s.delete(v)}Zt(()=>[t.include,t.exclude],([v,b])=>{v&&p(g=>Oc(v,g)),b&&p(g=>!Oc(b,g))},{flush:"post",deep:!0});let y=null;const _=()=>{y!=null&&i.set(y,sv(n.subTree))};return sn(_),Bm(_),gh(()=>{i.forEach(v=>{const{subTree:b,suspense:g}=n,w=sv(b);if(v.type===w.type&&v.key===w.key){iv(w);const T=w.component.da;T&&cr(T,g);return}f(v)})}),()=>{if(y=null,!e.default)return null;const v=e.default(),b=v[0];if(v.length>1)return o=null,v;if(!Ho(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return o=null,b;let g=sv(b);const w=g.type,T=Wy(ka(g)?g.type.__asyncResolved||{}:w),{include:R,exclude:A,max:k}=t;if(R&&(!T||!Oc(R,T))||A&&T&&Oc(A,T))return o=g,b;const S=g.key==null?w:g.key,M=i.get(S);return g.el&&(g=bs(g),b.shapeFlag&128&&(b.ssContent=g)),y=S,M?(g.el=M.el,g.component=M.component,g.transition&&Va(g,g.transition),g.shapeFlag|=512,s.delete(S),s.add(S)):(s.add(S),k&&s.size>parseInt(k,10)&&m(s.values().next().value)),g.shapeFlag|=256,o=g,RA(b.type)?b:g}}},eL=Z$;function Oc(t,e){return Ue(t)?t.some(n=>Oc(n,e)):bn(t)?t.split(",").includes(e):M2(t)?t.test(e):!1}function FA(t,e){BA(t,"a",e)}function VA(t,e){BA(t,"da",e)}function BA(t,e,n=Bn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Vm(e,r,n),n){let i=n.parent;for(;i&&i.parent;)mh(i.parent.vnode)&&tL(r,e,n,i),i=i.parent}}function tL(t,e,n,r){const i=Vm(e,t,r,!0);Qo(()=>{Mw(r[e],i)},n)}function iv(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function sv(t){return t.shapeFlag&128?t.ssContent:t}function Vm(t,e,n=Bn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Qu(),Wo(n);const a=hi(e,n,t,o);return Do(),Xu(),a});return r?i.unshift(s):i.push(s),s}}const to=t=>(e,n=Bn)=>(!Tu||t==="sp")&&Vm(t,(...r)=>e(...r),n),jA=to("bm"),sn=to("m"),nb=to("bu"),Bm=to("u"),gh=to("bum"),Qo=to("um"),HA=to("sp"),WA=to("rtg"),zA=to("rtc");function YA(t,e=Bn){Vm("ec",t,e)}function ct(t,e,n,r){let i;const s=n&&n[r];if(Ue(t)||bn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(en(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function mr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Ue(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function ke(t,e,n={},r,i){if(nr.isCE||nr.parent&&ka(nr.parent)&&nr.parent.isCE)return e!=="default"&&(n.name=e),oe("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),P();const o=s&&KA(s(n)),a=ge(Ce,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function KA(t){return t.some(e=>Ho(e)?!(e.type===xr||e.type===Ce&&!KA(e.children)):!0)?t:null}function nL(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Xc(r)]=t[r];return n}const My=t=>t?fk(t)?Hm(t)||t.proxy:My(t.parent):null,Jc=wn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>My(t.parent),$root:t=>My(t.root),$emit:t=>t.emit,$options:t=>rb(t),$forceUpdate:t=>t.f||(t.f=()=>$m(t.update)),$nextTick:t=>t.n||(t.n=Kn.bind(t.proxy)),$watch:t=>Q$.bind(t)}),ov=(t,e)=>t!==Qt&&!t.__isScriptSetup&&Pt(t,e),$y={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(ov(r,e))return o[e]=1,r[e];if(i!==Qt&&Pt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Pt(u,e))return o[e]=3,s[e];if(n!==Qt&&Pt(n,e))return o[e]=4,n[e];Ly&&(o[e]=0)}}const c=Jc[e];let d,h;if(c)return e==="$attrs"&&ni(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Qt&&Pt(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Pt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return ov(i,e)?(i[e]=n,!0):r!==Qt&&Pt(r,e)?(r[e]=n,!0):Pt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Qt&&Pt(t,o)||ov(e,o)||(a=s[0])&&Pt(a,o)||Pt(r,o)||Pt(Jc,o)||Pt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Pt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},rL=wn({},$y,{get(t,e){if(e!==Symbol.unscopables)return $y.get(t,e,t)},has(t,e){return e[0]!=="_"&&!V2(e)}});function iL(){return null}function sL(){return null}function oL(t){}function aL(t){}function lL(){return null}function uL(){}function cL(t,e){return null}function Xo(){return GA().slots}function dL(){return GA().attrs}function hL(t,e,n){const r=Ss();if(n&&n.local){const i=ue(t[e]);return Zt(()=>t[e],s=>i.value=s),Zt(i,s=>{s!==t[e]&&r.emit(`update:${e}`,s)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){r.emit(`update:${e}`,i)}}}function GA(){const t=Ss();return t.setupContext||(t.setupContext=gk(t))}function Pd(t){return Ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function fL(t,e){const n=Pd(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Ue(i)||rt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function pL(t,e){return!t||!e?t||e:Ue(t)&&Ue(e)?t.concat(e):wn({},Pd(t),Pd(e))}function mL(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function gL(t){const e=Ss();let n=t();return Do(),$w(n)&&(n=n.catch(r=>{throw Wo(e),r})),[n,()=>Wo(e)]}let Ly=!0;function vL(t){const e=rb(t),n=t.proxy,r=t.ctx;Ly=!1,e.beforeCreate&&aT(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:y,beforeDestroy:_,beforeUnmount:v,destroyed:b,unmounted:g,render:w,renderTracked:T,renderTriggered:R,errorCaptured:A,serverPrefetch:k,expose:S,inheritAttrs:M,components:F,directives:I,filters:j}=e;if(u&&yL(u,r,null),o)for(const H in o){const J=o[H];rt(J)&&(r[H]=J.bind(n))}if(i){const H=i.call(n,n);en(H)&&(t.data=qn(H))}if(Ly=!0,s)for(const H in s){const J=s[H],L=rt(J)?J.bind(n,n):rt(J.get)?J.get.bind(n,n):zi,C=!rt(J)&&rt(J.set)?J.set.bind(n):zi,ee=ie({get:L,set:C});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>ee.value,set:se=>ee.value=se})}if(a)for(const H in a)qA(a[H],r,n,H);if(l){const H=rt(l)?l.call(n):l;Reflect.ownKeys(H).forEach(J=>{au(J,H[J])})}c&&aT(c,t,"c");function O(H,J){Ue(J)?J.forEach(L=>H(L.bind(n))):J&&H(J.bind(n))}if(O(jA,d),O(sn,h),O(nb,f),O(Bm,p),O(FA,m),O(VA,y),O(YA,A),O(zA,T),O(WA,R),O(gh,v),O(Qo,g),O(HA,k),Ue(S))if(S.length){const H=t.exposed||(t.exposed={});S.forEach(J=>{Object.defineProperty(H,J,{get:()=>n[J],set:L=>n[J]=L})})}else t.exposed||(t.exposed={});w&&t.render===zi&&(t.render=w),M!=null&&(t.inheritAttrs=M),F&&(t.components=F),I&&(t.directives=I)}function yL(t,e,n=zi){Ue(t)&&(t=Uy(t));for(const r in t){const i=t[r];let s;en(i)?"default"in i?s=Br(i.from||r,i.default,!0):s=Br(i.from||r):s=Br(i),Jt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function aT(t,e,n){hi(Ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function qA(t,e,n,r){const i=r.includes(".")?$A(n,r):()=>n[r];if(bn(t)){const s=e[t];rt(s)&&Zt(i,s)}else if(rt(t))Zt(i,t.bind(n));else if(en(t))if(Ue(t))t.forEach(s=>qA(s,e,n,r));else{const s=rt(t.handler)?t.handler.bind(n):e[t.handler];rt(s)&&Zt(i,s,t)}}function rb(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>bp(l,u,o,!0)),bp(l,e,o)),en(e)&&s.set(e,l),l}function bp(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&bp(t,s,n,!0),i&&i.forEach(o=>bp(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=wL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const wL={data:lT,props:uT,emits:uT,methods:Nc,computed:Nc,beforeCreate:$r,created:$r,beforeMount:$r,mounted:$r,beforeUpdate:$r,updated:$r,beforeDestroy:$r,beforeUnmount:$r,destroyed:$r,unmounted:$r,activated:$r,deactivated:$r,errorCaptured:$r,serverPrefetch:$r,components:Nc,directives:Nc,watch:_L,provide:lT,inject:bL};function lT(t,e){return e?t?function(){return wn(rt(t)?t.call(this,this):t,rt(e)?e.call(this,this):e)}:e:t}function bL(t,e){return Nc(Uy(t),Uy(e))}function Uy(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $r(t,e){return t?[...new Set([].concat(t,e))]:e}function Nc(t,e){return t?wn(Object.create(null),t,e):e}function uT(t,e){return t?Ue(t)&&Ue(e)?[...new Set([...t,...e])]:wn(Object.create(null),Pd(t),Pd(e??{})):e}function _L(t,e){if(!t)return e;if(!e)return t;const n=wn(Object.create(null),t);for(const r in e)n[r]=$r(t[r],e[r]);return n}function QA(){return{app:null,config:{isNativeTag:R2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let TL=0;function EL(t,e){return function(r,i=null){rt(r)||(r=wn({},r)),i!=null&&!en(i)&&(i=null);const s=QA(),o=new WeakSet;let a=!1;const l=s.app={_uid:TL++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:bk,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&rt(u.install)?(o.add(u),u.install(l,...c)):rt(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=oe(r,i);return h.appContext=s,c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,Hm(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){Rd=l;try{return u()}finally{Rd=null}}};return l}}let Rd=null;function au(t,e){if(Bn){let n=Bn.provides;const r=Bn.parent&&Bn.parent.provides;r===n&&(n=Bn.provides=Object.create(r)),n[t]=e}}function Br(t,e,n=!1){const r=Bn||nr;if(r||Rd){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Rd._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&rt(e)?e.call(r&&r.proxy):e}}function XA(){return!!(Bn||nr||Rd)}function SL(t,e,n,r=!1){const i={},s={};pp(s,jm,1),t.propsDefaults=Object.create(null),JA(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:_A(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function IL(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=vt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Lm(t.emitsOptions,h))continue;const f=e[h];if(l)if(Pt(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const p=ei(h);i[p]=Fy(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{JA(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!Pt(e,d)&&((c=Ei(d))===d||!Pt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Fy(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Pt(e,d))&&(delete s[d],u=!0)}u&&Vs(t,"set","$attrs")}function JA(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Qc(l))continue;const u=e[l];let c;i&&Pt(i,c=ei(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Lm(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=vt(n),u=a||Qt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Fy(i,l,d,u[d],t,!Pt(u,d))}}return o}function Fy(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Pt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&rt(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Wo(i),r=u[n]=l.call(null,e),Do())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Ei(n))&&(r=!0))}return r}function ZA(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!rt(t)){const c=d=>{l=!0;const[h,f]=ZA(d,e,!0);wn(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return en(t)&&r.set(t,nu),nu;if(Ue(s))for(let c=0;c<s.length;c++){const d=ei(s[c]);cT(d)&&(o[d]=Qt)}else if(s)for(const c in s){const d=ei(c);if(cT(d)){const h=s[c],f=o[d]=Ue(h)||rt(h)?{type:h}:wn({},h);if(f){const p=fT(Boolean,f.type),m=fT(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||Pt(f,"default"))&&a.push(d)}}}const u=[o,a];return en(t)&&r.set(t,u),u}function cT(t){return t[0]!=="$"}function dT(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function hT(t,e){return dT(t)===dT(e)}function fT(t,e){return Ue(e)?e.findIndex(n=>hT(n,t)):rt(e)&&hT(e,t)?0:-1}const ek=t=>t[0]==="_"||t==="$stable",ib=t=>Ue(t)?t.map(li):[li(t)],CL=(t,e,n)=>{if(e._n)return e;const r=ye((...i)=>ib(e(...i)),n);return r._c=!1,r},tk=(t,e,n)=>{const r=t._ctx;for(const i in t){if(ek(i))continue;const s=t[i];if(rt(s))e[i]=CL(i,s,r);else if(s!=null){const o=ib(s);e[i]=()=>o}}},nk=(t,e)=>{const n=ib(e);t.slots.default=()=>n},AL=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=vt(e),pp(e,"_",n)):tk(e,t.slots={})}else t.slots={},e&&nk(t,e);pp(t.slots,jm,1)},kL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Qt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(wn(i,e),!n&&a===1&&delete i._):(s=!e.$stable,tk(e,i)),o=e}else e&&(nk(t,e),o={default:1});if(s)for(const a in i)!ek(a)&&o[a]==null&&delete i[a]};function _p(t,e,n,r,i=!1){if(Ue(t)){t.forEach((h,f)=>_p(h,e&&(Ue(e)?e[f]:e),n,r,i));return}if(ka(r)&&!i)return;const s=r.shapeFlag&4?Hm(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Qt?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(bn(u)?(c[u]=null,Pt(d,u)&&(d[u]=null)):Jt(u)&&(u.value=null)),rt(l))Bs(l,a,12,[o,c]);else{const h=bn(l),f=Jt(l);if(h||f){const p=()=>{if(t.f){const m=h?Pt(d,l)?d[l]:c[l]:l.value;i?Ue(m)&&Mw(m,s):Ue(m)?m.includes(s)||m.push(s):h?(c[l]=[s],Pt(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,Pt(d,l)&&(d[l]=o)):f&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,cr(p,n)):p()}}}let oo=!1;const of=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",af=t=>t.nodeType===8;function xL(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(b,g)=>{if(!g.hasChildNodes()){n(null,b,g),wp(),g._vnode=b;return}oo=!1,d(g.firstChild,b,null,null,null),wp(),g._vnode=b,oo&&console.error("Hydration completed but contains mismatches.")},d=(b,g,w,T,R,A=!1)=>{const k=af(b)&&b.data==="[",S=()=>m(b,g,w,T,R,k),{type:M,ref:F,shapeFlag:I,patchFlag:j}=g;let N=b.nodeType;g.el=b,j===-2&&(A=!1,g.dynamicChildren=null);let O=null;switch(M){case Ba:N!==3?g.children===""?(l(g.el=i(""),o(b),b),O=b):O=S():(b.data!==g.children&&(oo=!0,b.data=g.children),O=s(b));break;case xr:v(b)?(O=s(b),_(g.el=b.content.firstChild,b,w)):N!==8||k?O=S():O=s(b);break;case xa:if(k&&(b=s(b),N=b.nodeType),N===1||N===3){O=b;const H=!g.children.length;for(let J=0;J<g.staticCount;J++)H&&(g.children+=O.nodeType===1?O.outerHTML:O.data),J===g.staticCount-1&&(g.anchor=O),O=s(O);return k?s(O):O}else S();break;case Ce:k?O=p(b,g,w,T,R,A):O=S();break;default:if(I&1)(N!==1||g.type.toLowerCase()!==b.tagName.toLowerCase())&&!v(b)?O=S():O=h(b,g,w,T,R,A);else if(I&6){g.slotScopeIds=R;const H=o(b);if(k?O=y(b):af(b)&&b.data==="teleport start"?O=y(b,b.data,"teleport end"):O=s(b),e(g,H,null,w,T,of(H),A),ka(g)){let J;k?(J=oe(Ce),J.anchor=O?O.previousSibling:H.lastChild):J=b.nodeType===3?Ge(""):oe("div"),J.el=b,g.component.subTree=J}}else I&64?N!==8?O=S():O=g.type.hydrate(b,g,w,T,R,A,t,f):I&128&&(O=g.type.hydrate(b,g,w,T,of(o(b)),R,A,t,d))}return F!=null&&_p(F,null,T,g),O},h=(b,g,w,T,R,A)=>{A=A||!!g.dynamicChildren;const{type:k,props:S,patchFlag:M,shapeFlag:F,dirs:I,transition:j}=g,N=k==="input"&&I||k==="option";if(N||M!==-1){if(I&&ts(g,null,w,"created"),S)if(N||!A||M&48)for(const J in S)(N&&J.endsWith("value")||ch(J)&&!Qc(J))&&r(b,J,null,S[J],!1,void 0,w);else S.onClick&&r(b,"onClick",null,S.onClick,!1,void 0,w);let O;(O=S&&S.onVnodeBeforeMount)&&Gr(O,w,g);let H=!1;if(v(b)){H=ok(T,j)&&w&&w.vnode.props&&w.vnode.props.appear;const J=b.content.firstChild;H&&j.beforeEnter(J),_(J,b,w),g.el=b=J}if(I&&ts(g,null,w,"beforeMount"),((O=S&&S.onVnodeMounted)||I||H)&&OA(()=>{O&&Gr(O,w,g),H&&j.enter(b),I&&ts(g,null,w,"mounted")},T),F&16&&!(S&&(S.innerHTML||S.textContent))){let J=f(b.firstChild,g,b,w,T,R,A);for(;J;){oo=!0;const L=J;J=J.nextSibling,a(L)}}else F&8&&b.textContent!==g.children&&(oo=!0,b.textContent=g.children)}return b.nextSibling},f=(b,g,w,T,R,A,k)=>{k=k||!!g.dynamicChildren;const S=g.children,M=S.length;for(let F=0;F<M;F++){const I=k?S[F]:S[F]=li(S[F]);if(b)b=d(b,I,T,R,A,k);else{if(I.type===Ba&&!I.children)continue;oo=!0,n(null,I,w,null,T,R,of(w),A)}}return b},p=(b,g,w,T,R,A)=>{const{slotScopeIds:k}=g;k&&(R=R?R.concat(k):k);const S=o(b),M=f(s(b),g,S,w,T,R,A);return M&&af(M)&&M.data==="]"?s(g.anchor=M):(oo=!0,l(g.anchor=u("]"),S,M),M)},m=(b,g,w,T,R,A)=>{if(oo=!0,g.el=null,A){const M=y(b);for(;;){const F=s(b);if(F&&F!==M)a(F);else break}}const k=s(b),S=o(b);return a(b),n(null,g,S,k,w,T,of(S),R),k},y=(b,g="[",w="]")=>{let T=0;for(;b;)if(b=s(b),b&&af(b)&&(b.data===g&&T++,b.data===w)){if(T===0)return s(b);T--}return b},_=(b,g,w)=>{const T=g.parentNode;T&&T.replaceChild(b,g);let R=w;for(;R;)R.vnode.el===g&&(R.vnode.el=R.subTree.el=b),R=R.parent},v=b=>b.nodeType===1&&b.tagName.toLowerCase()==="template";return[c,d]}const cr=OA;function rk(t){return sk(t)}function ik(t){return sk(t,xL)}function sk(t,e){const n=Dy();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=zi,insertStaticContent:p}=t,m=(E,D,B,G=null,de=null,fe=null,Te=!1,le=null,Z=!!D.dynamicChildren)=>{if(E===D)return;E&&!Vi(E,D)&&(G=q(E),se(E,de,fe,!0),E=null),D.patchFlag===-2&&(Z=!1,D.dynamicChildren=null);const{type:z,ref:_e,shapeFlag:pe}=D;switch(z){case Ba:y(E,D,B,G);break;case xr:_(E,D,B,G);break;case xa:E==null&&v(D,B,G,Te);break;case Ce:F(E,D,B,G,de,fe,Te,le,Z);break;default:pe&1?w(E,D,B,G,de,fe,Te,le,Z):pe&6?I(E,D,B,G,de,fe,Te,le,Z):(pe&64||pe&128)&&z.process(E,D,B,G,de,fe,Te,le,Z,K)}_e!=null&&de&&_p(_e,E&&E.ref,fe,D||E,!D)},y=(E,D,B,G)=>{if(E==null)r(D.el=a(D.children),B,G);else{const de=D.el=E.el;D.children!==E.children&&u(de,D.children)}},_=(E,D,B,G)=>{E==null?r(D.el=l(D.children||""),B,G):D.el=E.el},v=(E,D,B,G)=>{[E.el,E.anchor]=p(E.children,D,B,G,E.el,E.anchor)},b=({el:E,anchor:D},B,G)=>{let de;for(;E&&E!==D;)de=h(E),r(E,B,G),E=de;r(D,B,G)},g=({el:E,anchor:D})=>{let B;for(;E&&E!==D;)B=h(E),i(E),E=B;i(D)},w=(E,D,B,G,de,fe,Te,le,Z)=>{Te=Te||D.type==="svg",E==null?T(D,B,G,de,fe,Te,le,Z):k(E,D,de,fe,Te,le,Z)},T=(E,D,B,G,de,fe,Te,le)=>{let Z,z;const{type:_e,props:pe,shapeFlag:Re,transition:We,dirs:Qe}=E;if(Z=E.el=o(E.type,fe,pe&&pe.is,pe),Re&8?c(Z,E.children):Re&16&&A(E.children,Z,null,G,de,fe&&_e!=="foreignObject",Te,le),Qe&&ts(E,null,G,"created"),R(Z,E,E.scopeId,Te,G),pe){for(const Q in pe)Q!=="value"&&!Qc(Q)&&s(Z,Q,null,pe[Q],fe,E.children,G,de,V);"value"in pe&&s(Z,"value",null,pe.value),(z=pe.onVnodeBeforeMount)&&Gr(z,G,E)}Qe&&ts(E,null,G,"beforeMount");const Ve=ok(de,We);Ve&&We.beforeEnter(Z),r(Z,D,B),((z=pe&&pe.onVnodeMounted)||Ve||Qe)&&cr(()=>{z&&Gr(z,G,E),Ve&&We.enter(Z),Qe&&ts(E,null,G,"mounted")},de)},R=(E,D,B,G,de)=>{if(B&&f(E,B),G)for(let fe=0;fe<G.length;fe++)f(E,G[fe]);if(de){let fe=de.subTree;if(D===fe){const Te=de.vnode;R(E,Te,Te.scopeId,Te.slotScopeIds,de.parent)}}},A=(E,D,B,G,de,fe,Te,le,Z=0)=>{for(let z=Z;z<E.length;z++){const _e=E[z]=le?vo(E[z]):li(E[z]);m(null,_e,D,B,G,de,fe,Te,le)}},k=(E,D,B,G,de,fe,Te)=>{const le=D.el=E.el;let{patchFlag:Z,dynamicChildren:z,dirs:_e}=D;Z|=E.patchFlag&16;const pe=E.props||Qt,Re=D.props||Qt;let We;B&&oa(B,!1),(We=Re.onVnodeBeforeUpdate)&&Gr(We,B,D,E),_e&&ts(D,E,B,"beforeUpdate"),B&&oa(B,!0);const Qe=de&&D.type!=="foreignObject";if(z?S(E.dynamicChildren,z,le,B,G,Qe,fe):Te||J(E,D,le,null,B,G,Qe,fe,!1),Z>0){if(Z&16)M(le,D,pe,Re,B,G,de);else if(Z&2&&pe.class!==Re.class&&s(le,"class",null,Re.class,de),Z&4&&s(le,"style",pe.style,Re.style,de),Z&8){const Ve=D.dynamicProps;for(let Q=0;Q<Ve.length;Q++){const $=Ve[Q],W=pe[$],U=Re[$];(U!==W||$==="value")&&s(le,$,W,U,de,E.children,B,G,V)}}Z&1&&E.children!==D.children&&c(le,D.children)}else!Te&&z==null&&M(le,D,pe,Re,B,G,de);((We=Re.onVnodeUpdated)||_e)&&cr(()=>{We&&Gr(We,B,D,E),_e&&ts(D,E,B,"updated")},G)},S=(E,D,B,G,de,fe,Te)=>{for(let le=0;le<D.length;le++){const Z=E[le],z=D[le],_e=Z.el&&(Z.type===Ce||!Vi(Z,z)||Z.shapeFlag&70)?d(Z.el):B;m(Z,z,_e,null,G,de,fe,Te,!0)}},M=(E,D,B,G,de,fe,Te)=>{if(B!==G){if(B!==Qt)for(const le in B)!Qc(le)&&!(le in G)&&s(E,le,B[le],null,Te,D.children,de,fe,V);for(const le in G){if(Qc(le))continue;const Z=G[le],z=B[le];Z!==z&&le!=="value"&&s(E,le,z,Z,Te,D.children,de,fe,V)}"value"in G&&s(E,"value",B.value,G.value)}},F=(E,D,B,G,de,fe,Te,le,Z)=>{const z=D.el=E?E.el:a(""),_e=D.anchor=E?E.anchor:a("");let{patchFlag:pe,dynamicChildren:Re,slotScopeIds:We}=D;We&&(le=le?le.concat(We):We),E==null?(r(z,B,G),r(_e,B,G),A(D.children,B,_e,de,fe,Te,le,Z)):pe>0&&pe&64&&Re&&E.dynamicChildren?(S(E.dynamicChildren,Re,B,de,fe,Te,le),(D.key!=null||de&&D===de.subTree)&&sb(E,D,!0)):J(E,D,B,_e,de,fe,Te,le,Z)},I=(E,D,B,G,de,fe,Te,le,Z)=>{D.slotScopeIds=le,E==null?D.shapeFlag&512?de.ctx.activate(D,B,G,Te,Z):j(D,B,G,de,fe,Te,Z):N(E,D,Z)},j=(E,D,B,G,de,fe,Te)=>{const le=E.component=hk(E,G,de);if(mh(E)&&(le.ctx.renderer=K),pk(le),le.asyncDep){if(de&&de.registerDep(le,O),!E.el){const Z=le.subTree=oe(xr);_(null,Z,D,B)}return}O(le,E,D,B,de,fe,Te)},N=(E,D,B)=>{const G=D.component=E.component;if(F$(E,D,B))if(G.asyncDep&&!G.asyncResolved){H(G,D,B);return}else G.next=D,R$(G.update),G.update();else D.el=E.el,G.vnode=D},O=(E,D,B,G,de,fe,Te)=>{const le=()=>{if(E.isMounted){let{next:_e,bu:pe,u:Re,parent:We,vnode:Qe}=E,Ve=_e,Q;oa(E,!1),_e?(_e.el=Qe.el,H(E,_e,Te)):_e=Qe,pe&&iu(pe),(Q=_e.props&&_e.props.onVnodeBeforeUpdate)&&Gr(Q,We,_e,Qe),oa(E,!0);const $=zf(E),W=E.subTree;E.subTree=$,m(W,$,d(W.el),q(W),E,de,fe),_e.el=$.el,Ve===null&&Qw(E,$.el),Re&&cr(Re,de),(Q=_e.props&&_e.props.onVnodeUpdated)&&cr(()=>Gr(Q,We,_e,Qe),de)}else{let _e;const{el:pe,props:Re}=D,{bm:We,m:Qe,parent:Ve}=E,Q=ka(D);if(oa(E,!1),We&&iu(We),!Q&&(_e=Re&&Re.onVnodeBeforeMount)&&Gr(_e,Ve,D),oa(E,!0),pe&&Se){const $=()=>{E.subTree=zf(E),Se(pe,E.subTree,E,de,null)};Q?D.type.__asyncLoader().then(()=>!E.isUnmounted&&$()):$()}else{const $=E.subTree=zf(E);m(null,$,B,G,E,de,fe),D.el=$.el}if(Qe&&cr(Qe,de),!Q&&(_e=Re&&Re.onVnodeMounted)){const $=D;cr(()=>Gr(_e,Ve,$),de)}(D.shapeFlag&256||Ve&&ka(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&E.a&&cr(E.a,de),E.isMounted=!0,D=B=G=null}},Z=E.effect=new wu(le,()=>$m(z),E.scope),z=E.update=()=>Z.run();z.id=E.uid,oa(E,!0),z()},H=(E,D,B)=>{D.component=E;const G=E.vnode.props;E.vnode=D,E.next=null,IL(E,D.props,G,B),kL(E,D.children,B),Qu(),nT(),Xu()},J=(E,D,B,G,de,fe,Te,le,Z=!1)=>{const z=E&&E.children,_e=E?E.shapeFlag:0,pe=D.children,{patchFlag:Re,shapeFlag:We}=D;if(Re>0){if(Re&128){C(z,pe,B,G,de,fe,Te,le,Z);return}else if(Re&256){L(z,pe,B,G,de,fe,Te,le,Z);return}}We&8?(_e&16&&V(z,de,fe),pe!==z&&c(B,pe)):_e&16?We&16?C(z,pe,B,G,de,fe,Te,le,Z):V(z,de,fe,!0):(_e&8&&c(B,""),We&16&&A(pe,B,G,de,fe,Te,le,Z))},L=(E,D,B,G,de,fe,Te,le,Z)=>{E=E||nu,D=D||nu;const z=E.length,_e=D.length,pe=Math.min(z,_e);let Re;for(Re=0;Re<pe;Re++){const We=D[Re]=Z?vo(D[Re]):li(D[Re]);m(E[Re],We,B,null,de,fe,Te,le,Z)}z>_e?V(E,de,fe,!0,!1,pe):A(D,B,G,de,fe,Te,le,Z,pe)},C=(E,D,B,G,de,fe,Te,le,Z)=>{let z=0;const _e=D.length;let pe=E.length-1,Re=_e-1;for(;z<=pe&&z<=Re;){const We=E[z],Qe=D[z]=Z?vo(D[z]):li(D[z]);if(Vi(We,Qe))m(We,Qe,B,null,de,fe,Te,le,Z);else break;z++}for(;z<=pe&&z<=Re;){const We=E[pe],Qe=D[Re]=Z?vo(D[Re]):li(D[Re]);if(Vi(We,Qe))m(We,Qe,B,null,de,fe,Te,le,Z);else break;pe--,Re--}if(z>pe){if(z<=Re){const We=Re+1,Qe=We<_e?D[We].el:G;for(;z<=Re;)m(null,D[z]=Z?vo(D[z]):li(D[z]),B,Qe,de,fe,Te,le,Z),z++}}else if(z>Re)for(;z<=pe;)se(E[z],de,fe,!0),z++;else{const We=z,Qe=z,Ve=new Map;for(z=Qe;z<=Re;z++){const Me=D[z]=Z?vo(D[z]):li(D[z]);Me.key!=null&&Ve.set(Me.key,z)}let Q,$=0;const W=Re-Qe+1;let U=!1,re=0;const me=new Array(W);for(z=0;z<W;z++)me[z]=0;for(z=We;z<=pe;z++){const Me=E[z];if($>=W){se(Me,de,fe,!0);continue}let tt;if(Me.key!=null)tt=Ve.get(Me.key);else for(Q=Qe;Q<=Re;Q++)if(me[Q-Qe]===0&&Vi(Me,D[Q])){tt=Q;break}tt===void 0?se(Me,de,fe,!0):(me[tt-Qe]=z+1,tt>=re?re=tt:U=!0,m(Me,D[tt],B,null,de,fe,Te,le,Z),$++)}const Be=U?DL(me):nu;for(Q=Be.length-1,z=W-1;z>=0;z--){const Me=Qe+z,tt=D[Me],jt=Me+1<_e?D[Me+1].el:G;me[z]===0?m(null,tt,B,jt,de,fe,Te,le,Z):U&&(Q<0||z!==Be[Q]?ee(tt,B,jt,2):Q--)}}},ee=(E,D,B,G,de=null)=>{const{el:fe,type:Te,transition:le,children:Z,shapeFlag:z}=E;if(z&6){ee(E.component.subTree,D,B,G);return}if(z&128){E.suspense.move(D,B,G);return}if(z&64){Te.move(E,D,B,K);return}if(Te===Ce){r(fe,D,B);for(let pe=0;pe<Z.length;pe++)ee(Z[pe],D,B,G);r(E.anchor,D,B);return}if(Te===xa){b(E,D,B);return}if(G!==2&&z&1&&le)if(G===0)le.beforeEnter(fe),r(fe,D,B),cr(()=>le.enter(fe),de);else{const{leave:pe,delayLeave:Re,afterLeave:We}=le,Qe=()=>r(fe,D,B),Ve=()=>{pe(fe,()=>{Qe(),We&&We()})};Re?Re(fe,Qe,Ve):Ve()}else r(fe,D,B)},se=(E,D,B,G=!1,de=!1)=>{const{type:fe,props:Te,ref:le,children:Z,dynamicChildren:z,shapeFlag:_e,patchFlag:pe,dirs:Re}=E;if(le!=null&&_p(le,null,B,E,!0),_e&256){D.ctx.deactivate(E);return}const We=_e&1&&Re,Qe=!ka(E);let Ve;if(Qe&&(Ve=Te&&Te.onVnodeBeforeUnmount)&&Gr(Ve,D,E),_e&6)Y(E.component,B,G);else{if(_e&128){E.suspense.unmount(B,G);return}We&&ts(E,null,D,"beforeUnmount"),_e&64?E.type.remove(E,D,B,de,K,G):z&&(fe!==Ce||pe>0&&pe&64)?V(z,D,B,!1,!0):(fe===Ce&&pe&384||!de&&_e&16)&&V(Z,D,B),G&&te(E)}(Qe&&(Ve=Te&&Te.onVnodeUnmounted)||We)&&cr(()=>{Ve&&Gr(Ve,D,E),We&&ts(E,null,D,"unmounted")},B)},te=E=>{const{type:D,el:B,anchor:G,transition:de}=E;if(D===Ce){he(B,G);return}if(D===xa){g(E);return}const fe=()=>{i(B),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(E.shapeFlag&1&&de&&!de.persisted){const{leave:Te,delayLeave:le}=de,Z=()=>Te(B,fe);le?le(E.el,fe,Z):Z()}else fe()},he=(E,D)=>{let B;for(;E!==D;)B=h(E),i(E),E=B;i(D)},Y=(E,D,B)=>{const{bum:G,scope:de,update:fe,subTree:Te,um:le}=E;G&&iu(G),de.stop(),fe&&(fe.active=!1,se(Te,E,D,B)),le&&cr(le,D),cr(()=>{E.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},V=(E,D,B,G=!1,de=!1,fe=0)=>{for(let Te=fe;Te<E.length;Te++)se(E[Te],D,B,G,de)},q=E=>E.shapeFlag&6?q(E.component.subTree):E.shapeFlag&128?E.suspense.next():h(E.anchor||E.el),ce=(E,D,B)=>{E==null?D._vnode&&se(D._vnode,null,null,!0):m(D._vnode||null,E,D,null,null,null,B),nT(),wp(),D._vnode=E},K={p:m,um:se,m:ee,r:te,mt:j,mc:A,pc:J,pbc:S,n:q,o:t};let we,Se;return e&&([we,Se]=e(K)),{render:ce,hydrate:we,createApp:EL(ce,we)}}function oa({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ok(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function sb(t,e,n=!1){const r=t.children,i=e.children;if(Ue(r)&&Ue(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=vo(i[s]),a.el=o.el),n||sb(o,a)),a.type===Ba&&(a.el=o.el)}}function DL(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const PL=t=>t.__isTeleport,Zc=t=>t&&(t.disabled||t.disabled===""),pT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Vy=(t,e)=>{const n=t&&t.to;return bn(n)?e?e(n):null:n},RL={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:y}}=u,_=Zc(e.props);let{shapeFlag:v,children:b,dynamicChildren:g}=e;if(t==null){const w=e.el=m(""),T=e.anchor=m("");f(w,n,r),f(T,n,r);const R=e.target=Vy(e.props,p),A=e.targetAnchor=m("");R&&(f(A,R),o=o||pT(R));const k=(S,M)=>{v&16&&c(b,S,M,i,s,o,a,l)};_?k(n,T):R&&k(R,A)}else{e.el=t.el;const w=e.anchor=t.anchor,T=e.target=t.target,R=e.targetAnchor=t.targetAnchor,A=Zc(t.props),k=A?n:T,S=A?w:R;if(o=o||pT(T),g?(h(t.dynamicChildren,g,k,i,s,o,a),sb(t,e,!0)):l||d(t,e,k,S,i,s,o,a,!1),_)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):lf(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=Vy(e.props,p);M&&lf(e,M,null,u,0)}else A&&lf(e,T,R,u,1)}lk(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=t;if(d&&s(c),o&&s(u),a&16){const f=o||!Zc(h);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,f,!!m.dynamicChildren)}}},move:lf,hydrate:OL};function lf(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||Zc(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function OL(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=Vy(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(Zc(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}lk(e)}return e.anchor&&o(e.anchor)}const ak=RL;function lk(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ce=Symbol.for("v-fgt"),Ba=Symbol.for("v-txt"),xr=Symbol.for("v-cmt"),xa=Symbol.for("v-stc"),ed=[];let Xr=null;function P(t=!1){ed.push(Xr=t?null:[])}function uk(){ed.pop(),Xr=ed[ed.length-1]||null}let ja=1;function By(t){ja+=t}function ck(t){return t.dynamicChildren=ja>0?Xr||nu:null,uk(),ja>0&&Xr&&Xr.push(t),t}function X(t,e,n,r,i,s){return ck(ne(t,e,n,r,i,s,!0))}function ge(t,e,n,r,i){return ck(oe(t,e,n,r,i,!0))}function Ho(t){return t?t.__v_isVNode===!0:!1}function Vi(t,e){return t.type===e.type&&t.key===e.key}function NL(t){}const jm="__vInternal",dk=({key:t})=>t??null,Yf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?bn(t)||Jt(t)||rt(t)?{i:nr,r:t,k:e,f:!!n}:t:null);function ne(t,e=null,n=null,r=0,i=null,s=t===Ce?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dk(e),ref:e&&Yf(e),scopeId:Um,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:nr};return a?(ob(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=bn(n)?8:16),ja>0&&!o&&Xr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Xr.push(l),l}const oe=ML;function ML(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===PA)&&(t=xr),Ho(t)){const a=bs(t,e,!0);return n&&ob(a,n),ja>0&&!s&&Xr&&(a.shapeFlag&6?Xr[Xr.indexOf(t)]=a:Xr.push(a)),a.patchFlag|=-2,a}if(HL(t)&&(t=t.__vccOpts),e){e=pr(e);let{class:a,style:l}=e;a&&!bn(a)&&(e.class=Oe(a)),en(l)&&(Hw(l)&&!Ue(l)&&(l=wn({},l)),e.style=Yn(l))}const o=bn(t)?1:RA(t)?128:PL(t)?64:en(t)?4:rt(t)?2:0;return ne(t,e,n,r,i,o,s,!0)}function pr(t){return t?Hw(t)||jm in t?wn({},t):t:null}function bs(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?Kt(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&dk(a),ref:e&&e.ref?n&&i?Ue(i)?i.concat(Yf(e)):[i,Yf(e)]:Yf(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ce?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bs(t.ssContent),ssFallback:t.ssFallback&&bs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ge(t=" ",e=0){return oe(Ba,null,t,e)}function $L(t,e){const n=oe(xa,null,t);return n.staticCount=e,n}function ae(t="",e=!1){return e?(P(),ge(xr,null,t)):oe(xr,null,t)}function li(t){return t==null||typeof t=="boolean"?oe(xr):Ue(t)?oe(Ce,null,t.slice()):typeof t=="object"?vo(t):oe(Ba,null,String(t))}function vo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bs(t)}function ob(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),ob(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(jm in e)?e._ctx=nr:i===3&&nr&&(nr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else rt(e)?(e={default:e,_ctx:nr},n=32):(e=String(e),r&64?(n=16,e=[Ge(e)]):n=8);t.children=e,t.shapeFlag|=n}function Kt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Oe([e.class,r.class]));else if(i==="style")e.style=Yn([e.style,r.style]);else if(ch(i)){const s=e[i],o=r[i];o&&s!==o&&!(Ue(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Gr(t,e,n,r=null){hi(t,e,7,[n,r])}const LL=QA();let UL=0;function hk(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||LL,s={uid:UL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Uw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ZA(r,i),emitsOptions:DA(r,i),emit:null,emitted:null,propsDefaults:Qt,inheritAttrs:r.inheritAttrs,ctx:Qt,data:Qt,props:Qt,attrs:Qt,slots:Qt,refs:Qt,setupState:Qt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=N$.bind(null,s),t.ce&&t.ce(s),s}let Bn=null;const Ss=()=>Bn||nr;let ab,Tl,mT="__VUE_INSTANCE_SETTERS__";(Tl=Dy()[mT])||(Tl=Dy()[mT]=[]),Tl.push(t=>Bn=t),ab=t=>{Tl.length>1?Tl.forEach(e=>e(t)):Tl[0](t)};const Wo=t=>{ab(t),t.scope.on()},Do=()=>{Bn&&Bn.scope.off(),ab(null)};function fk(t){return t.vnode.shapeFlag&4}let Tu=!1;function pk(t,e=!1){Tu=e;const{props:n,children:r}=t.vnode,i=fk(t);SL(t,n,i,e),AL(t,r);const s=i?FL(t,e):void 0;return Tu=!1,s}function FL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=hh(new Proxy(t.ctx,$y));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?gk(t):null;Wo(t),Qu();const s=Bs(r,t,0,[t.props,i]);if(Xu(),Do(),$w(s)){if(s.then(Do,Do),e)return s.then(o=>{jy(t,o,e)}).catch(o=>{ul(o,t,0)});t.asyncDep=s}else jy(t,s,e)}else mk(t,e)}function jy(t,e,n){rt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:en(e)&&(t.setupState=Yw(e)),mk(t,n)}let Tp,Hy;function VL(t){Tp=t,Hy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,rL))}}const BL=()=>!Tp;function mk(t,e,n){const r=t.type;if(!t.render){if(!e&&Tp&&!r.render){const i=r.template||rb(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=wn(wn({isCustomElement:s,delimiters:a},o),l);r.render=Tp(i,u)}}t.render=r.render||zi,Hy&&Hy(t)}{Wo(t),Qu();try{vL(t)}finally{Xu(),Do()}}}function jL(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ni(t,"get","$attrs"),e[n]}}))}function gk(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return jL(t)},slots:t.slots,emit:t.emit,expose:e}}function Hm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Yw(hh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Jc)return Jc[n](t)},has(e,n){return n in e||n in Jc}}))}function Wy(t,e=!0){return rt(t)?t.displayName||t.name:t.name||e&&t.__name}function HL(t){return rt(t)&&"__vccOpts"in t}const ie=(t,e)=>A$(t,e,Tu);function Ha(t,e,n){const r=arguments.length;return r===2?en(e)&&!Ue(e)?Ho(e)?oe(t,null,[e]):oe(t,e):oe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ho(n)&&(n=[n]),oe(t,e,n))}const vk=Symbol.for("v-scx"),yk=()=>Br(vk);function WL(){}function zL(t,e,n,r){const i=n[r];if(i&&wk(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function wk(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Vo(n[r],e[r]))return!1;return ja>0&&Xr&&Xr.push(t),!0}const bk="3.3.8",YL={createComponentInstance:hk,setupComponent:pk,renderComponentRoot:zf,setCurrentRenderingInstance:xd,isVNode:Ho,normalizeVNode:li},KL=YL,GL=null,qL=null,QL="http://www.w3.org/2000/svg",va=typeof document<"u"?document:null,gT=va&&va.createElement("template"),XL={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?va.createElementNS(QL,t):va.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>va.createTextNode(t),createComment:t=>va.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>va.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{gT.innerHTML=r?`<svg>${t}</svg>`:t;const a=gT.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ao="transition",hc="animation",Eu=Symbol("_vtc"),Is=(t,{slots:e})=>Ha(LA,Tk(t),e);Is.displayName="Transition";const _k={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},JL=Is.props=wn({},tb,_k),aa=(t,e=[])=>{Ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},vT=t=>t?Ue(t)?t.some(e=>e.length>1):t.length>1:!1;function Tk(t){const e={};for(const F in t)F in _k||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=ZL(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:b,onLeave:g,onLeaveCancelled:w,onBeforeAppear:T=_,onAppear:R=v,onAppearCancelled:A=b}=e,k=(F,I,j)=>{fo(F,I?c:a),fo(F,I?u:o),j&&j()},S=(F,I)=>{F._isLeaving=!1,fo(F,d),fo(F,f),fo(F,h),I&&I()},M=F=>(I,j)=>{const N=F?R:v,O=()=>k(I,F,j);aa(N,[I,O]),yT(()=>{fo(I,F?l:s),xs(I,F?c:a),vT(N)||wT(I,r,m,O)})};return wn(e,{onBeforeEnter(F){aa(_,[F]),xs(F,s),xs(F,o)},onBeforeAppear(F){aa(T,[F]),xs(F,l),xs(F,u)},onEnter:M(!1),onAppear:M(!0),onLeave(F,I){F._isLeaving=!0;const j=()=>S(F,I);xs(F,d),Sk(),xs(F,h),yT(()=>{F._isLeaving&&(fo(F,d),xs(F,f),vT(g)||wT(F,r,y,j))}),aa(g,[F,j])},onEnterCancelled(F){k(F,!1),aa(b,[F])},onAppearCancelled(F){k(F,!0),aa(A,[F])},onLeaveCancelled(F){S(F),aa(w,[F])}})}function ZL(t){if(t==null)return null;if(en(t))return[av(t.enter),av(t.leave)];{const e=av(t);return[e,e]}}function av(t){return gp(t)}function xs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Eu]||(t[Eu]=new Set)).add(e)}function fo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Eu];n&&(n.delete(e),n.size||(t[Eu]=void 0))}function yT(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let eU=0;function wT(t,e,n,r){const i=t._endId=++eU,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=Ek(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function Ek(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${ao}Delay`),s=r(`${ao}Duration`),o=bT(i,s),a=r(`${hc}Delay`),l=r(`${hc}Duration`),u=bT(a,l);let c=null,d=0,h=0;e===ao?o>0&&(c=ao,d=o,h=s.length):e===hc?u>0&&(c=hc,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?ao:hc:null,h=c?c===ao?s.length:l.length:0);const f=c===ao&&/\b(transform|all)(,|$)/.test(r(`${ao}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function bT(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>_T(n)+_T(t[r])))}function _T(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Sk(){return document.body.offsetHeight}function tU(t,e,n){const r=t[Eu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const lb=Symbol("_vod"),js={beforeMount(t,{value:e},{transition:n}){t[lb]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):fc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),fc(t,!0),r.enter(t)):r.leave(t,()=>{fc(t,!1)}):fc(t,e))},beforeUnmount(t,{value:e}){fc(t,e)}};function fc(t,e){t.style.display=e?t[lb]:"none"}function nU(){js.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function rU(t,e,n){const r=t.style,i=bn(n);if(n&&!i){if(e&&!bn(e))for(const s in e)n[s]==null&&zy(r,s,"");for(const s in n)zy(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),lb in t&&(r.display=s)}}const TT=/\s*!important$/;function zy(t,e,n){if(Ue(n))n.forEach(r=>zy(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=iU(t,e);TT.test(n)?t.setProperty(Ei(r),n.replace(TT,""),"important"):t[r]=n}}const ET=["Webkit","Moz","ms"],lv={};function iU(t,e){const n=lv[e];if(n)return n;let r=ei(e);if(r!=="filter"&&r in t)return lv[e]=r;r=dh(r);for(let i=0;i<ET.length;i++){const s=ET[i]+r;if(s in t)return lv[e]=s}return e}const ST="http://www.w3.org/1999/xlink";function sU(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(ST,e.slice(6,e.length)):t.setAttributeNS(ST,e,n);else{const s=Y2(e);n==null||s&&!oA(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function oU(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,c=n??"";u!==c&&(t.value=c),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=oA(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Os(t,e,n,r){t.addEventListener(e,n,r)}function aU(t,e,n,r){t.removeEventListener(e,n,r)}const IT=Symbol("_vei");function lU(t,e,n,r,i=null){const s=t[IT]||(t[IT]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=uU(e);if(r){const u=s[e]=hU(r,i);Os(t,a,u,l)}else o&&(aU(t,a,o,l),s[e]=void 0)}}const CT=/(?:Once|Passive|Capture)$/;function uU(t){let e;if(CT.test(t)){e={};let r;for(;r=t.match(CT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ei(t.slice(2)),e]}let uv=0;const cU=Promise.resolve(),dU=()=>uv||(cU.then(()=>uv=0),uv=Date.now());function hU(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hi(fU(r,n.value),e,5,[r])};return n.value=t,n.attached=dU(),n}function fU(t,e){if(Ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const AT=/^on[a-z]/,pU=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?tU(t,r,i):e==="style"?rU(t,n,r):ch(e)?Nw(e)||lU(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):mU(t,e,r,i))?oU(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),sU(t,e,r,i))};function mU(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&AT.test(e)&&rt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||AT.test(e)&&bn(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function Ik(t,e){const n=Ee(t);class r extends Wm{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const gU=t=>Ik(t,$k),vU=typeof HTMLElement<"u"?HTMLElement:class{};class Wm extends vU{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Kn(()=>{this._connected||(Wa(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!Ue(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=gp(this._props[l])),(a||(a=Object.create(null)))[ei(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=Ue(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(ei))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=ei(e);this._numberProps&&this._numberProps[r]&&(n=gp(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Ei(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ei(e),n+""):n||this.removeAttribute(Ei(e))))}_update(){Wa(this._createVNode(),this.shadowRoot)}_createVNode(){const e=oe(this._def,wn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),Ei(s)!==s&&r(Ei(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Wm){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function yU(t="$style"){{const e=Ss();if(!e)return Qt;const n=e.type.__cssModules;if(!n)return Qt;const r=n[t];return r||Qt}}function wU(t){const e=Ss();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Ky(s,i))},r=()=>{const i=t(e.proxy);Yy(e.subTree,i),n(i)};MA(r),sn(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Qo(()=>i.disconnect())})}function Yy(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Yy(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Ky(t.el,e);else if(t.type===Ce)t.children.forEach(n=>Yy(n,e));else if(t.type===xa){let{el:n,anchor:r}=t;for(;n&&(Ky(n,e),n!==r);)n=n.nextSibling}}function Ky(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const Ck=new WeakMap,Ak=new WeakMap,Ep=Symbol("_moveCb"),kT=Symbol("_enterCb"),kk={name:"TransitionGroup",props:wn({},JL,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ss(),r=eb();let i,s;return Bm(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!SU(i[0].el,n.vnode.el,o))return;i.forEach(_U),i.forEach(TU);const a=i.filter(EU);Sk(),a.forEach(l=>{const u=l.el,c=u.style;xs(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Ep]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[Ep]=null,fo(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=vt(t),a=Tk(o);let l=o.tag||Ce;i=s,s=e.default?Fm(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Va(c,_u(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];Va(c,_u(c,a,r,n)),Ck.set(c,c.el.getBoundingClientRect())}return oe(l,null,s)}}},bU=t=>delete t.mode;kk.props;const xk=kk;function _U(t){const e=t.el;e[Ep]&&e[Ep](),e[kT]&&e[kT]()}function TU(t){Ak.set(t,t.el.getBoundingClientRect())}function EU(t){const e=Ck.get(t),n=Ak.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function SU(t,e,n){const r=t.cloneNode(),i=t[Eu];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=Ek(r);return s.removeChild(r),o}const zo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ue(e)?n=>iu(e,n):e};function IU(t){t.target.composing=!0}function xT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ki=Symbol("_assign"),Sp={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ki]=zo(i);const s=r||i.props&&i.props.type==="number";Os(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=mp(a)),t[ki](a)}),n&&Os(t,"change",()=>{t.value=t.value.trim()}),e||(Os(t,"compositionstart",IU),Os(t,"compositionend",xT),Os(t,"change",xT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[ki]=zo(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&mp(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},zm={deep:!0,created(t,e,n){t[ki]=zo(n),Os(t,"change",()=>{const r=t._modelValue,i=Su(t),s=t.checked,o=t[ki];if(Ue(r)){const a=xm(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(ll(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Dk(t,s))})},mounted:DT,beforeUpdate(t,e,n){t[ki]=zo(n),DT(t,e,n)}};function DT(t,{value:e,oldValue:n},r){t._modelValue=e,Ue(e)?t.checked=xm(e,r.props.value)>-1:ll(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Bo(e,Dk(t,!0)))}const ub={created(t,{value:e},n){t.checked=Bo(e,n.props.value),t[ki]=zo(n),Os(t,"change",()=>{t[ki](Su(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ki]=zo(r),e!==n&&(t.checked=Bo(e,r.props.value))}},cb={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=ll(e);Os(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?mp(Su(o)):Su(o));t[ki](t.multiple?i?new Set(s):s:s[0])}),t[ki]=zo(r)},mounted(t,{value:e}){PT(t,e)},beforeUpdate(t,e,n){t[ki]=zo(n)},updated(t,{value:e}){PT(t,e)}};function PT(t,e){const n=t.multiple;if(!(n&&!Ue(e)&&!ll(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=Su(s);if(n)Ue(e)?s.selected=xm(e,o)>-1:s.selected=e.has(o);else if(Bo(Su(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Su(t){return"_value"in t?t._value:t.value}function Dk(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Pk={created(t,e,n){uf(t,e,n,null,"created")},mounted(t,e,n){uf(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){uf(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){uf(t,e,n,r,"updated")}};function Rk(t,e){switch(t){case"SELECT":return cb;case"TEXTAREA":return Sp;default:switch(e){case"checkbox":return zm;case"radio":return ub;default:return Sp}}}function uf(t,e,n,r,i){const o=Rk(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function CU(){Sp.getSSRProps=({value:t})=>({value:t}),ub.getSSRProps=({value:t},e)=>{if(e.props&&Bo(e.props.value,t))return{checked:!0}},zm.getSSRProps=({value:t},e)=>{if(Ue(t)){if(e.props&&xm(t,e.props.value)>-1)return{checked:!0}}else if(ll(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Pk.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Rk(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const AU=["ctrl","shift","alt","meta"],kU={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>AU.some(n=>t[`${n}Key`]&&!e.includes(n))},Ot=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=kU[e[i]];if(s&&s(n,e))return}return t(n,...r)},xU={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ot=(t,e)=>n=>{if(!("key"in n))return;const r=Ei(n.key);if(e.some(i=>i===r||xU[i]===r))return t(n)},Ok=wn({patchProp:pU},XL);let td,RT=!1;function Nk(){return td||(td=rk(Ok))}function Mk(){return td=RT?td:ik(Ok),RT=!0,td}const Wa=(...t)=>{Nk().render(...t)},$k=(...t)=>{Mk().hydrate(...t)},Lk=(...t)=>{const e=Nk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Uk(r);if(!i)return;const s=e._component;!rt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},DU=(...t)=>{const e=Mk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Uk(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function Uk(t){return bn(t)?document.querySelector(t):t}let OT=!1;const PU=()=>{OT||(OT=!0,CU(),nU())},RU=()=>{},OU=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:LA,BaseTransitionPropsValidators:tb,Comment:xr,EffectScope:Uw,Fragment:Ce,KeepAlive:eL,ReactiveEffect:wu,Static:xa,Suspense:H$,Teleport:ak,Text:Ba,Transition:Is,TransitionGroup:xk,VueElement:Wm,assertNumber:x$,callWithAsyncErrorHandling:hi,callWithErrorHandling:Bs,camelize:ei,capitalize:dh,cloneVNode:bs,compatUtils:qL,compile:RU,computed:ie,createApp:Lk,createBlock:ge,createCommentVNode:ae,createElementBlock:X,createElementVNode:ne,createHydrationRenderer:ik,createPropsRestProxy:mL,createRenderer:rk,createSSRApp:DU,createSlots:mr,createStaticVNode:$L,createTextVNode:Ge,createVNode:oe,customRef:E$,defineAsyncComponent:J$,defineComponent:Ee,defineCustomElement:Ik,defineEmits:sL,defineExpose:oL,defineModel:uL,defineOptions:aL,defineProps:iL,defineSSRCustomElement:gU,defineSlots:lL,get devtools(){return Ml},effect:Q2,effectScope:Dm,getCurrentInstance:Ss,getCurrentScope:Pm,getTransitionRawChildren:Fm,guardReactiveProps:pr,h:Ha,handleError:ul,hasInjectionContext:XA,hydrate:$k,initCustomFormatter:WL,initDirectivesForSSR:PU,inject:Br,isMemoSame:wk,isProxy:Hw,isReactive:fs,isReadonly:Fa,isRef:Jt,isRuntimeOnly:BL,isShallow:Id,isVNode:Ho,markRaw:hh,mergeDefaults:fL,mergeModels:pL,mergeProps:Kt,nextTick:Kn,normalizeClass:Oe,normalizeProps:On,normalizeStyle:Yn,onActivated:FA,onBeforeMount:jA,onBeforeUnmount:gh,onBeforeUpdate:nb,onDeactivated:VA,onErrorCaptured:YA,onMounted:sn,onRenderTracked:zA,onRenderTriggered:WA,onScopeDispose:Fw,onServerPrefetch:HA,onUnmounted:Qo,onUpdated:Bm,openBlock:P,popScopeId:qw,provide:au,proxyRefs:Yw,pushScopeId:Gw,queuePostFlushCb:yp,reactive:qn,readonly:jw,ref:ue,registerRuntimeCompiler:VL,render:Wa,renderList:ct,renderSlot:ke,resolveComponent:eo,resolveDirective:B$,resolveDynamicComponent:fh,resolveFilter:GL,resolveTransitionHooks:_u,setBlockTracking:By,setDevtoolsHook:xA,setTransitionHooks:Va,shallowReactive:_A,shallowReadonly:v$,shallowRef:TA,ssrContextKey:vk,ssrUtils:KL,stop:X2,toDisplayString:qe,toHandlerKey:Xc,toHandlers:nL,toRaw:vt,toRef:bu,toRefs:SA,toValue:b$,transformVNodeArgs:NL,triggerRef:w$,unref:x,useAttrs:dL,useCssModule:yU,useCssVars:wU,useModel:hL,useSSRContext:yk,useSlots:Xo,useTransitionState:eb,vModelCheckbox:zm,vModelDynamic:Pk,vModelRadio:ub,vModelSelect:cb,vModelText:Sp,vShow:js,version:bk,warn:k$,watch:Zt,watchEffect:NA,watchPostEffect:MA,watchSyncEffect:q$,withAsyncContext:gL,withCtx:ye,withDefaults:cL,withDirectives:ps,withKeys:ot,withMemo:zL,withModifiers:Ot,withScopeId:M$},Symbol.toStringTag,{value:"Module"}));function NU(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Ip=NU();let NT=0;const MU=()=>{const t=NT;return NT+=1,t},Fk=()=>(t,e)=>{const n={...t,id:MU(),group:t.group||""};return Ip.emit("notify",{notification:n,timeout:e}),()=>Ip.emit("close",n.id)},Vk="context",Gy=Ee({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=Br(Vk),i=qn({notifications:[],timeouts:{}}),s=ie(()=>i.notifications.filter(c=>c.group===r.group)),o=ie(()=>r.position==="bottom"?[...s.value].slice(0,n.maxNotifications):[...s.value].reverse().slice(0,n.maxNotifications)),a=c=>{i.notifications.splice(i.notifications.findIndex(d=>d.id===c),1),clearTimeout(i.timeouts[c])},l=({notification:c,timeout:d})=>{i.notifications.push(c),i.timeouts[c.id]=window.setTimeout(()=>{d!==-1&&a(c.id)},Math.max(d||3e3,0))},u=c=>{e("close"),a(c)};return sn(()=>{Ip.on("notify",l),Ip.on("close",a)}),(c,d)=>(P(),ge(xk,{"enter-active-class":x(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:ye(()=>[ke(c.$slots,"default",{notifications:x(o),close:u})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),MT=Ee({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return au(Vk,{group:e.group,position:e.position}),(n,r)=>ke(n.$slots,"default",{group:t.group})}});function $U(t){t.config.globalProperties.$notify=Fk(),t.component("Notification",Gy),t.component("NotificationGroup",MT),t.component("notification",Gy),t.component("notificationGroup",MT)}const LU={install:$U},UU=Fk(),FU={class:"px-4 py-2 -mx-3"},VU={class:"mx-3"},BU={class:"font-semibold text-white"},jU={class:"text-sm text-gray-100"},cv=Ee({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(P(),ge(x(Gy),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:ye(({notifications:r})=>[(P(!0),X(Ce,null,ct(r,i=>(P(),X("div",{key:i.id},[i.type===e.type?(P(),X("div",{key:0,class:Oe("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-lg shadow-md "+e.color)},[ne("div",FU,[ne("div",VU,[ne("span",BU,qe(i.title),1),ne("p",jU,qe(i.text),1)])])],2)):ae("",!0)]))),128))]),_:1}))}}),HU={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},WU={class:"w-full max-w-sm"},zU=Ee({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=eo("NotificationGroup",!0);return P(),ge(r,null,{default:ye(()=>[ne("div",HU,[ne("div",WU,[oe(cv,{type:"error",color:"bg-red-800"}),oe(cv,{type:"warning",color:"bg-yellow-800"}),oe(cv,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const $l=typeof window<"u";function YU(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Yt=Object.assign;function dv(t,e){const n={};for(const r in e){const i=e[r];n[r]=Qi(i)?i.map(t):t(i)}return n}const nd=()=>{},Qi=Array.isArray,KU=/\/$/,GU=t=>t.replace(KU,"");function hv(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=JU(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function qU(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function $T(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function QU(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Iu(e.matched[r],n.matched[i])&&Bk(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Iu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Bk(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!XU(t[n],e[n]))return!1;return!0}function XU(t,e){return Qi(t)?LT(t,e):Qi(e)?LT(e,t):t===e}function LT(t,e){return Qi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function JU(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Od;(function(t){t.pop="pop",t.push="push"})(Od||(Od={}));var rd;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rd||(rd={}));function ZU(t){if(!t)if($l){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),GU(t)}const eF=/^[^#]+#/;function tF(t,e){return t.replace(eF,"#")+e}function nF(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ym=()=>({left:window.pageXOffset,top:window.pageYOffset});function rF(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=nF(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function UT(t,e){return(history.state?history.state.position-e:-1)+t}const qy=new Map;function iF(t,e){qy.set(t,e)}function sF(t){const e=qy.get(t);return qy.delete(t),e}let oF=()=>location.protocol+"//"+location.host;function jk(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),$T(l,"")}return $T(n,t)+r+i}function aF(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=jk(t,location),p=n.value,m=e.value;let y=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}y=m?h.position-m.position:0}else r(f);i.forEach(_=>{_(n.value,p,{delta:y,type:Od.pop,direction:y?y>0?rd.forward:rd.back:rd.unknown})})};function l(){o=n.value}function u(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(Yt({},h.state,{scroll:Ym()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function FT(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Ym():null}}function lF(t){const{history:e,location:n}=window,r={value:jk(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:oF()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function o(l,u){const c=Yt({},e.state,FT(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Yt({},i.value,e.state,{forward:l,scroll:Ym()});s(c.current,c,!0);const d=Yt({},FT(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function uF(t){t=ZU(t);const e=lF(t),n=aF(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Yt({location:"",base:t,go:r,createHref:tF.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function cF(t){return typeof t=="string"||t&&typeof t=="object"}function Hk(t){return typeof t=="string"||typeof t=="symbol"}const lo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Wk=Symbol("");var VT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(VT||(VT={}));function Cu(t,e){return Yt(new Error,{type:t,[Wk]:!0},e)}function ks(t,e){return t instanceof Error&&Wk in t&&(e==null||!!(t.type&e))}const BT="[^/]+?",dF={sensitive:!1,strict:!1,start:!0,end:!0},hF=/[.+*?^${}()[\]/\\]/g;function fF(t,e){const n=Yt({},dF,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(hF,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:y,regexp:_}=h;s.push({name:p,repeatable:m,optional:y});const v=_||BT;if(v!==BT){f+=10;try{new RegExp(`(${v})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+g.message)}}let b=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(b=y&&u.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),i+=b,f+=20,y&&(f+=-8),m&&(f+=-20),v===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:y}=f,_=p in u?u[p]:"";if(Qi(_)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Qi(_)?_.join("/"):_;if(!v)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=v}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function pF(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function mF(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=pF(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(jT(r))return 1;if(jT(i))return-1}return i.length-r.length}function jT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const gF={type:0,value:""},vF=/[a-zA-Z0-9_]/;function yF(t){if(!t)return[[]];if(t==="/")return[[gF]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:vF.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function wF(t,e,n){const r=fF(yF(t.path),n),i=Yt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function bF(t,e){const n=[],r=new Map;e=zT({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,h){const f=!h,p=_F(c);p.aliasOf=h&&h.record;const m=zT(e,c),y=[p];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const g of b)y.push(Yt({},p,{components:h?h.record.components:p.components,path:g,aliasOf:h?h.record:p}))}let _,v;for(const b of y){const{path:g}=b;if(d&&g[0]!=="/"){const w=d.record.path,T=w[w.length-1]==="/"?"":"/";b.path=d.record.path+(g&&T+g)}if(_=wF(b,d,m),h?h.alias.push(_):(v=v||_,v!==_&&v.alias.push(_),f&&c.name&&!WT(_)&&o(c.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)s(w[T],_,h&&h.children[T])}h=h||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return v?()=>{o(v)}:nd}function o(c){if(Hk(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&mF(c,n[d])>=0&&(c.record.path!==n[d].record.path||!zk(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!WT(c)&&r.set(c.record.name,c)}function u(c,d){let h,f={},p,m;if("name"in c&&c.name){if(h=r.get(c.name),!h)throw Cu(1,{location:c});m=h.record.name,f=Yt(HT(d.params,h.keys.filter(v=>!v.optional).map(v=>v.name)),c.params&&HT(c.params,h.keys.map(v=>v.name))),p=h.stringify(f)}else if("path"in c)p=c.path,h=n.find(v=>v.re.test(p)),h&&(f=h.parse(p),m=h.record.name);else{if(h=d.name?r.get(d.name):n.find(v=>v.re.test(d.path)),!h)throw Cu(1,{location:c,currentLocation:d});m=h.record.name,f=Yt({},d.params,c.params),p=h.stringify(f)}const y=[];let _=h;for(;_;)y.unshift(_.record),_=_.parent;return{name:m,path:p,params:f,matched:y,meta:EF(y)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function HT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function _F(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:TF(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function TF(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function WT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function EF(t){return t.reduce((e,n)=>Yt(e,n.meta),{})}function zT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function zk(t,e){return e.children.some(n=>n===t||zk(t,n))}const Yk=/#/g,SF=/&/g,IF=/\//g,CF=/=/g,AF=/\?/g,Kk=/\+/g,kF=/%5B/g,xF=/%5D/g,Gk=/%5E/g,DF=/%60/g,qk=/%7B/g,PF=/%7C/g,Qk=/%7D/g,RF=/%20/g;function db(t){return encodeURI(""+t).replace(PF,"|").replace(kF,"[").replace(xF,"]")}function OF(t){return db(t).replace(qk,"{").replace(Qk,"}").replace(Gk,"^")}function Qy(t){return db(t).replace(Kk,"%2B").replace(RF,"+").replace(Yk,"%23").replace(SF,"%26").replace(DF,"`").replace(qk,"{").replace(Qk,"}").replace(Gk,"^")}function NF(t){return Qy(t).replace(CF,"%3D")}function MF(t){return db(t).replace(Yk,"%23").replace(AF,"%3F")}function $F(t){return t==null?"":MF(t).replace(IF,"%2F")}function Cp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function LF(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Kk," "),o=s.indexOf("="),a=Cp(o<0?s:s.slice(0,o)),l=o<0?null:Cp(s.slice(o+1));if(a in e){let u=e[a];Qi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function YT(t){let e="";for(let n in t){const r=t[n];if(n=NF(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qi(r)?r.map(s=>s&&Qy(s)):[r&&Qy(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function UF(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Qi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const FF=Symbol(""),KT=Symbol(""),Km=Symbol(""),hb=Symbol(""),Xy=Symbol("");function pc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function yo(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Cu(4,{from:n,to:e})):d instanceof Error?a(d):cF(d)?a(Cu(2,{from:e,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},u=t.call(r&&r.instances[i],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function fv(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(VF(a)){const u=(a.__vccOpts||a)[e];u&&i.push(yo(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=YU(u)?u.default:u;s.components[o]=c;const h=(c.__vccOpts||c)[e];return h&&yo(h,n,r,s,o)()}))}}return i}function VF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function GT(t){const e=Br(Km),n=Br(hb),r=ie(()=>e.resolve(x(t.to))),i=ie(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(Iu.bind(null,c));if(h>-1)return h;const f=qT(l[u-2]);return u>1&&qT(c)===f&&d[d.length-1].path!==f?d.findIndex(Iu.bind(null,l[u-2])):h}),s=ie(()=>i.value>-1&&WF(n.params,r.value.params)),o=ie(()=>i.value>-1&&i.value===n.matched.length-1&&Bk(n.params,r.value.params));function a(l={}){return HF(l)?e[x(t.replace)?"replace":"push"](x(t.to)).catch(nd):Promise.resolve()}return{route:r,href:ie(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const BF=Ee({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:GT,setup(t,{slots:e}){const n=qn(GT(t)),{options:r}=Br(Km),i=ie(()=>({[QT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[QT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Ha("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),jF=BF;function HF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function WF(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Qi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function qT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const QT=(t,e,n)=>t??e??n,zF=Ee({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Br(Xy),i=ie(()=>t.route||r.value),s=Br(KT,0),o=ie(()=>{let u=x(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ie(()=>i.value.matched[o.value]);au(KT,ie(()=>o.value+1)),au(FF,a),au(Xy,i);const l=ue();return Zt(()=>[l.value,a.value,t.name],([u,c,d],[h,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Iu(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return XT(n.default,{Component:h,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,y=Ha(h,Yt({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return XT(n.default,{Component:y,route:u})||y}}});function XT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Xk=zF;function YF(t){const e=bF(t.routes,t),n=t.parseQuery||LF,r=t.stringifyQuery||YT,i=t.history,s=pc(),o=pc(),a=pc(),l=TA(lo);let u=lo;$l&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=dv.bind(null,q=>""+q),d=dv.bind(null,$F),h=dv.bind(null,Cp);function f(q,ce){let K,we;return Hk(q)?(K=e.getRecordMatcher(q),we=ce):we=q,e.addRoute(we,K)}function p(q){const ce=e.getRecordMatcher(q);ce&&e.removeRoute(ce)}function m(){return e.getRoutes().map(q=>q.record)}function y(q){return!!e.getRecordMatcher(q)}function _(q,ce){if(ce=Yt({},ce||l.value),typeof q=="string"){const B=hv(n,q,ce.path),G=e.resolve({path:B.path},ce),de=i.createHref(B.fullPath);return Yt(B,G,{params:h(G.params),hash:Cp(B.hash),redirectedFrom:void 0,href:de})}let K;if("path"in q)K=Yt({},q,{path:hv(n,q.path,ce.path).path});else{const B=Yt({},q.params);for(const G in B)B[G]==null&&delete B[G];K=Yt({},q,{params:d(B)}),ce.params=d(ce.params)}const we=e.resolve(K,ce),Se=q.hash||"";we.params=c(h(we.params));const E=qU(r,Yt({},q,{hash:OF(Se),path:we.path})),D=i.createHref(E);return Yt({fullPath:E,hash:Se,query:r===YT?UF(q.query):q.query||{}},we,{redirectedFrom:void 0,href:D})}function v(q){return typeof q=="string"?hv(n,q,l.value.path):Yt({},q)}function b(q,ce){if(u!==q)return Cu(8,{from:ce,to:q})}function g(q){return R(q)}function w(q){return g(Yt(v(q),{replace:!0}))}function T(q){const ce=q.matched[q.matched.length-1];if(ce&&ce.redirect){const{redirect:K}=ce;let we=typeof K=="function"?K(q):K;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=v(we):{path:we},we.params={}),Yt({query:q.query,hash:q.hash,params:"path"in we?{}:q.params},we)}}function R(q,ce){const K=u=_(q),we=l.value,Se=q.state,E=q.force,D=q.replace===!0,B=T(K);if(B)return R(Yt(v(B),{state:typeof B=="object"?Yt({},Se,B.state):Se,force:E,replace:D}),ce||K);const G=K;G.redirectedFrom=ce;let de;return!E&&QU(r,we,K)&&(de=Cu(16,{to:G,from:we}),ee(we,we,!0,!1)),(de?Promise.resolve(de):S(G,we)).catch(fe=>ks(fe)?ks(fe,2)?fe:C(fe):J(fe,G,we)).then(fe=>{if(fe){if(ks(fe,2))return R(Yt({replace:D},v(fe.to),{state:typeof fe.to=="object"?Yt({},Se,fe.to.state):Se,force:E}),ce||G)}else fe=F(G,we,!0,D,Se);return M(G,we,fe),fe})}function A(q,ce){const K=b(q,ce);return K?Promise.reject(K):Promise.resolve()}function k(q){const ce=he.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(q):q()}function S(q,ce){let K;const[we,Se,E]=KF(q,ce);K=fv(we.reverse(),"beforeRouteLeave",q,ce);for(const B of we)B.leaveGuards.forEach(G=>{K.push(yo(G,q,ce))});const D=A.bind(null,q,ce);return K.push(D),V(K).then(()=>{K=[];for(const B of s.list())K.push(yo(B,q,ce));return K.push(D),V(K)}).then(()=>{K=fv(Se,"beforeRouteUpdate",q,ce);for(const B of Se)B.updateGuards.forEach(G=>{K.push(yo(G,q,ce))});return K.push(D),V(K)}).then(()=>{K=[];for(const B of q.matched)if(B.beforeEnter&&!ce.matched.includes(B))if(Qi(B.beforeEnter))for(const G of B.beforeEnter)K.push(yo(G,q,ce));else K.push(yo(B.beforeEnter,q,ce));return K.push(D),V(K)}).then(()=>(q.matched.forEach(B=>B.enterCallbacks={}),K=fv(E,"beforeRouteEnter",q,ce),K.push(D),V(K))).then(()=>{K=[];for(const B of o.list())K.push(yo(B,q,ce));return K.push(D),V(K)}).catch(B=>ks(B,8)?B:Promise.reject(B))}function M(q,ce,K){for(const we of a.list())k(()=>we(q,ce,K))}function F(q,ce,K,we,Se){const E=b(q,ce);if(E)return E;const D=ce===lo,B=$l?history.state:{};K&&(we||D?i.replace(q.fullPath,Yt({scroll:D&&B&&B.scroll},Se)):i.push(q.fullPath,Se)),l.value=q,ee(q,ce,K,D),C()}let I;function j(){I||(I=i.listen((q,ce,K)=>{if(!Y.listening)return;const we=_(q),Se=T(we);if(Se){R(Yt(Se,{replace:!0}),we).catch(nd);return}u=we;const E=l.value;$l&&iF(UT(E.fullPath,K.delta),Ym()),S(we,E).catch(D=>ks(D,12)?D:ks(D,2)?(R(D.to,we).then(B=>{ks(B,20)&&!K.delta&&K.type===Od.pop&&i.go(-1,!1)}).catch(nd),Promise.reject()):(K.delta&&i.go(-K.delta,!1),J(D,we,E))).then(D=>{D=D||F(we,E,!1),D&&(K.delta&&!ks(D,8)?i.go(-K.delta,!1):K.type===Od.pop&&ks(D,20)&&i.go(-1,!1)),M(we,E,D)}).catch(nd)}))}let N=pc(),O=pc(),H;function J(q,ce,K){C(q);const we=O.list();return we.length?we.forEach(Se=>Se(q,ce,K)):console.error(q),Promise.reject(q)}function L(){return H&&l.value!==lo?Promise.resolve():new Promise((q,ce)=>{N.add([q,ce])})}function C(q){return H||(H=!q,j(),N.list().forEach(([ce,K])=>q?K(q):ce()),N.reset()),q}function ee(q,ce,K,we){const{scrollBehavior:Se}=t;if(!$l||!Se)return Promise.resolve();const E=!K&&sF(UT(q.fullPath,0))||(we||!K)&&history.state&&history.state.scroll||null;return Kn().then(()=>Se(q,ce,E)).then(D=>D&&rF(D)).catch(D=>J(D,q,ce))}const se=q=>i.go(q);let te;const he=new Set,Y={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:y,getRoutes:m,resolve:_,options:t,push:g,replace:w,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:O.add,isReady:L,install(q){const ce=this;q.component("RouterLink",jF),q.component("RouterView",Xk),q.config.globalProperties.$router=ce,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>x(l)}),$l&&!te&&l.value===lo&&(te=!0,g(i.location).catch(Se=>{}));const K={};for(const Se in lo)K[Se]=ie(()=>l.value[Se]);q.provide(Km,ce),q.provide(hb,qn(K)),q.provide(Xy,l);const we=q.unmount;he.add(q),q.unmount=function(){he.delete(q),he.size<1&&(u=lo,I&&I(),I=null,l.value=lo,te=!1,H=!1),we()}}};function V(q){return q.reduce((ce,K)=>ce.then(()=>k(K)),Promise.resolve())}return Y}function KF(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Iu(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Iu(u,l))||i.push(l))}return[n,r,i]}function Jk(){return Br(Km)}function fb(){return Br(hb)}const GF=Ee({__name:"App",setup(t){return(e,n)=>(P(),X(Ce,null,[oe(x(Xk)),oe(zU)],64))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=function(t,e){if(!t)throw Ju(e)},Ju=function(t){return new Error("Firebase Database ("+Zk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Gm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ex(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new QF;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tx=function(t){const e=ex(t);return Gm.encodeByteArray(e,!0)},Ap=function(t){return tx(t).replace(/\./g,"")},kp=function(t){try{return Gm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t){return nx(void 0,t)}function nx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JF(n)||(t[n]=nx(t[n],e[n]));return t}function JF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=()=>rx().__FIREBASE_DEFAULTS__,e3=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kp(t[1]);return e&&JSON.parse(e)},qm=()=>{try{return ZF()||e3()||t3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ix=t=>{var e,n;return(n=(e=qm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sx=t=>{const e=ix(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ox=()=>{var t;return(t=qm())===null||t===void 0?void 0:t.config},ax=t=>{var e;return(e=qm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ap(JSON.stringify(n)),Ap(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function n3(){var t;const e=(t=qm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ux(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r3(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dx(){return Zk.NODE_ADMIN===!0}function Qm(){try{return typeof indexedDB=="object"}catch{return!1}}function hx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function i3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s3,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?o3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yi(i,a,r)}}function o3(t,e){return t.replace(a3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t){return JSON.parse(t)}function hr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Nd(kp(s[0])||""),n=Nd(kp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},l3=function(t){const e=fx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},u3=function(t){const e=fx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Au(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Jy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Md(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(JT(s)&&JT(o)){if(!Md(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function d3(t,e){const n=new h3(t,e);return n.subscribe.bind(n)}class h3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pv),i.error===void 0&&(i.error=pv),i.complete===void 0&&(i.complete=pv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pv(){}function p3(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,De(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=1e3,y3=2,w3=4*60*60*1e3,b3=.5;function Zy(t,e=v3,n=y3){const r=e*Math.pow(n,t),i=Math.round(b3*r*(Math.random()-.5)*2);return Math.min(w3,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new za;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E3(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T3(t){return t===da?void 0:t}function E3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const I3={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},C3=Rt.INFO,A3={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},k3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=A3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ec{constructor(e){this.name=e,this._logLevel=C3,this._logHandler=k3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const x3=(t,e)=>e.some(n=>t instanceof n);let ZT,eE;function D3(){return ZT||(ZT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P3(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const px=new WeakMap,e0=new WeakMap,mx=new WeakMap,mv=new WeakMap,mb=new WeakMap;function R3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Po(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&px.set(n,t)}).catch(()=>{}),mb.set(e,t),e}function O3(t){if(e0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});e0.set(t,e)}let t0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N3(t){t0=t(t0)}function M3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gv(this),e,...n);return mx.set(r,e.sort?e.sort():[e]),Po(r)}:P3().includes(t)?function(...e){return t.apply(gv(this),e),Po(px.get(this))}:function(...e){return Po(t.apply(gv(this),e))}}function $3(t){return typeof t=="function"?M3(t):(t instanceof IDBTransaction&&O3(t),x3(t,D3())?new Proxy(t,t0):t)}function Po(t){if(t instanceof IDBRequest)return R3(t);if(mv.has(t))return mv.get(t);const e=$3(t);return e!==t&&(mv.set(t,e),mb.set(e,t)),e}const gv=t=>mb.get(t);function L3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Po(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Po(o.result),l.oldVersion,l.newVersion,Po(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const U3=["get","getKey","getAll","getAllKeys","count"],F3=["put","add","delete","clear"],vv=new Map;function tE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vv.get(e))return vv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=F3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U3.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return vv.set(e,s),s}N3(t=>({...t,get:(e,n,r)=>tE(e,n)||t.get(e,n,r),has:(e,n)=>!!tE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n0="@firebase/app",nE="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new ec("@firebase/app"),j3="@firebase/app-compat",H3="@firebase/analytics-compat",W3="@firebase/analytics",z3="@firebase/app-check-compat",Y3="@firebase/app-check",K3="@firebase/auth",G3="@firebase/auth-compat",q3="@firebase/database",Q3="@firebase/database-compat",X3="@firebase/functions",J3="@firebase/functions-compat",Z3="@firebase/installations",e4="@firebase/installations-compat",t4="@firebase/messaging",n4="@firebase/messaging-compat",r4="@firebase/performance",i4="@firebase/performance-compat",s4="@firebase/remote-config",o4="@firebase/remote-config-compat",a4="@firebase/storage",l4="@firebase/storage-compat",u4="@firebase/firestore",c4="@firebase/firestore-compat",d4="firebase",h4="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="[DEFAULT]",f4={[n0]:"fire-core",[j3]:"fire-core-compat",[W3]:"fire-analytics",[H3]:"fire-analytics-compat",[Y3]:"fire-app-check",[z3]:"fire-app-check-compat",[K3]:"fire-auth",[G3]:"fire-auth-compat",[q3]:"fire-rtdb",[Q3]:"fire-rtdb-compat",[X3]:"fire-fn",[J3]:"fire-fn-compat",[Z3]:"fire-iid",[e4]:"fire-iid-compat",[t4]:"fire-fcm",[n4]:"fire-fcm-compat",[r4]:"fire-perf",[i4]:"fire-perf-compat",[s4]:"fire-rc",[o4]:"fire-rc-compat",[a4]:"fire-gcs",[l4]:"fire-gcs-compat",[u4]:"fire-fst",[c4]:"fire-fst-compat","fire-js":"fire-js",[d4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map,i0=new Map;function p4(t,e){try{t.container.addComponent(e)}catch(n){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ri(t){const e=t.name;if(i0.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;i0.set(e,t);for(const n of Dp.values())p4(n,t);return!0}function Cs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ro=new Jo("app","Firebase",m4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=h4;function gx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:r0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ro.create("bad-app-name",{appName:String(i)});if(n||(n=ox()),!n)throw Ro.create("no-options");const s=Dp.get(i);if(s){if(Md(n,s.options)&&Md(r,s.config))return s;throw Ro.create("duplicate-app",{appName:i})}const o=new S3(i);for(const l of i0.values())o.addComponent(l);const a=new g4(n,r,o);return Dp.set(i,a),a}function tc(t=r0){const e=Dp.get(t);if(!e&&t===r0&&ox())return gx();if(!e)throw Ro.create("no-app",{appName:t});return e}function gr(t,e,n){var r;let i=(r=f4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ya.warn(a.join(" "));return}ri(new Hr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="firebase-heartbeat-database",y4=1,$d="firebase-heartbeat-store";let yv=null;function vx(){return yv||(yv=L3(v4,y4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($d)}}}).catch(t=>{throw Ro.create("idb-open",{originalErrorMessage:t.message})})),yv}async function w4(t){try{return await(await vx()).transaction($d).objectStore($d).get(yx(t))}catch(e){if(e instanceof yi)Ya.warn(e.message);else{const n=Ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ya.warn(n.message)}}}async function rE(t,e){try{const r=(await vx()).transaction($d,"readwrite");await r.objectStore($d).put(e,yx(t)),await r.done}catch(n){if(n instanceof yi)Ya.warn(n.message);else{const r=Ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ya.warn(r.message)}}}function yx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=1024,_4=30*24*60*60*1e3;class T4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=iE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=_4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iE(),{heartbeatsToSend:n,unsentEntries:r}=E4(this._heartbeatsCache.heartbeats),i=Ap(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function iE(){return new Date().toISOString().substring(0,10)}function E4(t,e=b4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qm()?hx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await w4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sE(t){return Ap(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){ri(new Hr("platform-logger",e=>new V3(e),"PRIVATE")),ri(new Hr("heartbeat",e=>new T4(e),"PRIVATE")),gr(n0,nE,t),gr(n0,nE,"esm2017"),gr("fire-js","")}I4("");const C4=(t,e)=>e.some(n=>t instanceof n);let oE,aE;function A4(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k4(){return aE||(aE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wx=new WeakMap,s0=new WeakMap,bx=new WeakMap,wv=new WeakMap,gb=new WeakMap;function x4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wx.set(n,t)}).catch(()=>{}),gb.set(e,t),e}function D4(t){if(s0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});s0.set(t,e)}let o0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return s0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P4(t){o0=t(o0)}function R4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bv(this),e,...n);return bx.set(r,e.sort?e.sort():[e]),Oo(r)}:k4().includes(t)?function(...e){return t.apply(bv(this),e),Oo(wx.get(this))}:function(...e){return Oo(t.apply(bv(this),e))}}function O4(t){return typeof t=="function"?R4(t):(t instanceof IDBTransaction&&D4(t),C4(t,A4())?new Proxy(t,o0):t)}function Oo(t){if(t instanceof IDBRequest)return x4(t);if(wv.has(t))return wv.get(t);const e=O4(t);return e!==t&&(wv.set(t,e),gb.set(e,t)),e}const bv=t=>gb.get(t);function N4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oo(o.result),l.oldVersion,l.newVersion,Oo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const M4=["get","getKey","getAll","getAllKeys","count"],$4=["put","add","delete","clear"],_v=new Map;function lE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_v.get(e))return _v.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||M4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _v.set(e,s),s}P4(t=>({...t,get:(e,n,r)=>lE(e,n)||t.get(e,n,r),has:(e,n)=>!!lE(e,n)||t.has(e,n)}));const _x="@firebase/installations",vb="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=1e4,Ex=`w:${vb}`,Sx="FIS_v2",L4="https://firebaseinstallations.googleapis.com/v1",U4=60*60*1e3,F4="installations",V4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ka=new Jo(F4,V4,B4);function Ix(t){return t instanceof yi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx({projectId:t}){return`${L4}/projects/${t}/installations`}function Ax(t){return{token:t.token,requestStatus:2,expiresIn:H4(t.expiresIn),creationTime:Date.now()}}async function kx(t,e){const r=(await e.json()).error;return Ka.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function xx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function j4(t,{refreshToken:e}){const n=xx(t);return n.append("Authorization",W4(e)),n}async function Dx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function H4(t){return Number(t.replace("s","000"))}function W4(t){return`${Sx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Cx(t),i=xx(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Sx,appId:t.appId,sdkVersion:Ex},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Dx(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Ax(u.authToken)}}else throw await kx("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^[cdef][\w-]{21}$/,a0="";function G4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=q4(t);return K4.test(n)?n:a0}catch{return a0}}function q4(t){return Y4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map;function Ox(t,e){const n=Jm(t);Nx(n,e),Q4(n,e)}function Nx(t,e){const n=Rx.get(t);if(n)for(const r of n)r(e)}function Q4(t,e){const n=X4();n&&n.postMessage({key:t,fid:e}),J4()}let Ta=null;function X4(){return!Ta&&"BroadcastChannel"in self&&(Ta=new BroadcastChannel("[Firebase] FID Change"),Ta.onmessage=t=>{Nx(t.data.key,t.data.fid)}),Ta}function J4(){Rx.size===0&&Ta&&(Ta.close(),Ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebase-installations-database",eV=1,Ga="firebase-installations-store";let Tv=null;function yb(){return Tv||(Tv=N4(Z4,eV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ga)}}})),Tv}async function Pp(t,e){const n=Jm(t),i=(await yb()).transaction(Ga,"readwrite"),s=i.objectStore(Ga),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Ox(t,e.fid),e}async function Mx(t){const e=Jm(t),r=(await yb()).transaction(Ga,"readwrite");await r.objectStore(Ga).delete(e),await r.done}async function Zm(t,e){const n=Jm(t),i=(await yb()).transaction(Ga,"readwrite"),s=i.objectStore(Ga),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Ox(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(t){let e;const n=await Zm(t.appConfig,r=>{const i=tV(r),s=nV(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===a0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tV(t){const e=t||{fid:G4(),registrationStatus:0};return $x(e)}function nV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ka.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iV(t)}:{installationEntry:e}}async function rV(t,e){try{const n=await z4(t,e);return Pp(t.appConfig,n)}catch(n){throw Ix(n)&&n.customData.serverCode===409?await Mx(t.appConfig):await Pp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iV(t){let e=await uE(t.appConfig);for(;e.registrationStatus===1;)await Px(100),e=await uE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await wb(t);return r||n}return e}function uE(t){return Zm(t,e=>{if(!e)throw Ka.create("installation-not-found");return $x(e)})}function $x(t){return sV(t)?{fid:t.fid,registrationStatus:0}:t}function sV(t){return t.registrationStatus===1&&t.registrationTime+Tx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV({appConfig:t,heartbeatServiceProvider:e},n){const r=aV(t,n),i=j4(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Ex,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Dx(()=>fetch(r,a));if(l.ok){const u=await l.json();return Ax(u)}else throw await kx("Generate Auth Token",l)}function aV(t,{fid:e}){return`${Cx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(t,e=!1){let n;const r=await Zm(t.appConfig,s=>{if(!Lx(s))throw Ka.create("not-registered");const o=s.authToken;if(!e&&cV(o))return s;if(o.requestStatus===1)return n=lV(t,e),s;{if(!navigator.onLine)throw Ka.create("app-offline");const a=hV(s);return n=uV(t,a),a}});return n?await n:r.authToken}async function lV(t,e){let n=await cE(t.appConfig);for(;n.authToken.requestStatus===1;)await Px(100),n=await cE(t.appConfig);const r=n.authToken;return r.requestStatus===0?bb(t,e):r}function cE(t){return Zm(t,e=>{if(!Lx(e))throw Ka.create("not-registered");const n=e.authToken;return fV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uV(t,e){try{const n=await oV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Pp(t.appConfig,r),n}catch(n){if(Ix(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Mx(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pp(t.appConfig,r)}throw n}}function Lx(t){return t!==void 0&&t.registrationStatus===2}function cV(t){return t.requestStatus===2&&!dV(t)}function dV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+U4}function hV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function fV(t){return t.requestStatus===1&&t.requestTime+Tx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t){const e=t,{installationEntry:n,registrationPromise:r}=await wb(e);return r?r.catch(console.error):bb(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e=!1){const n=t;return await gV(n),(await bb(n,e)).token}async function gV(t){const{registrationPromise:e}=await wb(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){if(!t||!t.options)throw Ev("App Configuration");if(!t.name)throw Ev("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ev(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ev(t){return Ka.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="installations",yV="installations-internal",wV=t=>{const e=t.getProvider("app").getImmediate(),n=vV(e),r=Cs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},bV=t=>{const e=t.getProvider("app").getImmediate(),n=Cs(e,Ux).getImmediate();return{getId:()=>pV(n),getToken:i=>mV(n,i)}};function _V(){ri(new Hr(Ux,wV,"PUBLIC")),ri(new Hr(yV,bV,"PRIVATE"))}_V();gr(_x,vb);gr(_x,vb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="analytics",TV="firebase_id",EV="origin",SV=60*1e3,IV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_b="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new ec("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fi=new Jo("analytics","Analytics",CV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){if(!t.startsWith(_b)){const e=fi.create("invalid-gtag-resource",{gtagURL:t});return ti.warn(e.message),""}return t}function Fx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xV(t,e){const n=kV("firebase-js-sdk-policy",{createScriptURL:AV}),r=document.createElement("script"),i=`${_b}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function DV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function PV(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Fx(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){ti.error(a)}t("config",i,s)}async function RV(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Fx(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){ti.error(s)}}function OV(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await RV(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await PV(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){ti.error(a)}}return i}function NV(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=OV(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function MV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_b)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=30,LV=1e3;class UV{constructor(e={},n=LV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Vx=new UV;function FV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function VV(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:FV(r)},s=IV.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw fi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function BV(t,e=Vx,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw fi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw fi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new WV;return setTimeout(async()=>{a.abort()},n!==void 0?n:SV),Bx({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Bx(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Vx){var s;const{appId:o,measurementId:a}=t;try{await jV(r,e)}catch(l){if(a)return ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await VV(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!HV(u)){if(i.deleteThrottleMetadata(o),a)return ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Zy(n,i.intervalMillis,$V):Zy(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),ti.debug(`Calling attemptFetch again in ${c} millis`),Bx(t,d,r,i)}}function jV(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HV(t){if(!(t instanceof yi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zV(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(){if(Qm())try{await hx()}catch(t){return ti.warn(fi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ti.warn(fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KV(t,e,n,r,i,s,o){var a;const l=BV(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ti.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ti.error(f)),e.push(l);const u=YV().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);MV(s)||xV(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[EV]="firebase",h.update=!0,d!=null&&(h[TV]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.app=e}_delete(){return delete id[this.app.options.appId],Promise.resolve()}}let id={},dE=[];const hE={};let Sv="dataLayer",qV="gtag",fE,jx,pE=!1;function QV(){const t=[];if(ux()&&t.push("This is a browser extension environment."),i3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=fi.create("invalid-analytics-context",{errorInfo:e});ti.warn(n.message)}}function XV(t,e,n){QV();const r=t.options.appId;if(!r)throw fi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fi.create("no-api-key");if(id[r]!=null)throw fi.create("already-exists",{id:r});if(!pE){DV(Sv);const{wrappedGtag:s,gtagCore:o}=NV(id,dE,hE,Sv,qV);jx=s,fE=o,pE=!0}return id[r]=KV(t,dE,hE,e,fE,Sv,n),new GV(t)}function JV(t=tc()){t=Vt(t);const e=Cs(t,Rp);return e.isInitialized()?e.getImmediate():ZV(t)}function ZV(t,e={}){const n=Cs(t,Rp);if(n.isInitialized()){const i=n.getImmediate();if(Md(e,n.getOptions()))return i;throw fi.create("already-initialized")}return n.initialize({options:e})}function e5(t,e,n,r){t=Vt(t),zV(jx,id[t.app.options.appId],e,n,r).catch(i=>ti.error(i))}const mE="@firebase/analytics",gE="0.10.0";function t5(){ri(new Hr(Rp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return XV(r,i,n)},"PUBLIC")),ri(new Hr("analytics-internal",t,"PRIVATE")),gr(mE,gE),gr(mE,gE,"esm2017");function t(e){try{const n=e.getProvider(Rp).getImmediate();return{logEvent:(r,i,s)=>e5(n,r,i,s)}}catch(n){throw fi.create("interop-component-reg-failed",{reason:n})}}}t5();var n5="firebase",r5="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(n5,r5,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map,Hx={activated:!1,tokenObservers:[]},i5={initialized:!1,enabled:!1};function Gn(t){return l0.get(t)||Object.assign({},Hx)}function s5(t,e){return l0.set(t,e),l0.get(t)}function eg(){return i5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="https://content-firebaseappcheck.googleapis.com/v1",o5="exchangeRecaptchaV3Token",a5="exchangeDebugToken",vE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},l5=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new za,await c5(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new za,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function c5(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Jr=new Jo("appCheck","AppCheck",d5);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function Tb(t){if(!Gn(t).activated)throw Jr.create("use-before-activation",{appName:t.name})}function zx(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=cf(n)+"d:"),r&&(o+=cf(r)+"h:"),o+=cf(i)+"m:"+cf(s)+"s",o}function cf(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw Jr.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Jr.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Jr.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function h5(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Wx}/projects/${n}/apps/${r}:${o5}?key=${i}`,body:{recaptcha_v3_token:e}}}function Yx(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Wx}/projects/${n}/apps/${r}:${a5}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="firebase-app-check-database",p5=1,Ld="firebase-app-check-store",Kx="debug-token";let df=null;function Gx(){return df||(df=new Promise((t,e)=>{try{const n=indexedDB.open(f5,p5);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Jr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ld,{keyPath:"compositeKey"})}}}catch(n){e(Jr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),df)}function m5(t){return Qx(Xx(t))}function g5(t,e){return qx(Xx(t),e)}function v5(t){return qx(Kx,t)}function y5(){return Qx(Kx)}async function qx(t,e){const r=(await Gx()).transaction(Ld,"readwrite"),s=r.objectStore(Ld).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Jr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function Qx(t){const n=(await Gx()).transaction(Ld,"readonly"),i=n.objectStore(Ld).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Jr.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function Xx(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new ec("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t){if(Qm()){let e;try{e=await m5(t)}catch(n){Ud.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Iv(t,e){return Qm()?g5(t,e).catch(n=>{Ud.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function b5(){let t;try{t=await y5()}catch{}if(t)return t;{const e=g3();return v5(e).catch(n=>Ud.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return eg().enabled}async function Ib(){const t=eg();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function _5(){const t=rx(),e=eg();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new za;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(b5())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={error:"UNKNOWN_ERROR"};function E5(t){return Gm.encodeString(JSON.stringify(t),!1)}async function u0(t,e=!1){const n=t.app;Tb(n);const r=Gn(n);let i=r.token,s;if(i&&!zl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(zl(l)?i=l:await Iv(n,void 0))}if(!e&&i&&zl(i))return{token:i.token};let o=!1;if(Sb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Eb(Yx(n,await Ib()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await Iv(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Gn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Ud.warn(l.message):Ud.error(l),s=l}let a;return i?s?zl(i)?a={token:i.token,internalError:s}:a=bE(s):(a={token:i.token},r.token=i,await Iv(n,i)):a=bE(s),o&&eD(n,a),a}async function S5(t){const e=t.app;Tb(e);const{provider:n}=Gn(e);if(Sb()){const r=await Ib(),{token:i}=await Eb(Yx(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Jx(t,e,n,r){const{app:i}=t,s=Gn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&zl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),wE(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>wE(t))}function Zx(t,e){const n=Gn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wE(t){const{app:e}=t,n=Gn(e);let r=n.tokenRefresher;r||(r=I5(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function I5(t){const{app:e}=t;return new u5(async()=>{const n=Gn(e);let r;if(n.token?r=await u0(t,!0):r=await u0(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Gn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vE.RETRIAL_MIN_WAIT,vE.RETRIAL_MAX_WAIT)}function eD(t,e){const n=Gn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function zl(t){return t.expireTimeMillis-Date.now()>0}function bE(t){return{token:E5(T5),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Gn(this.app);for(const n of e)Zx(this.app,n.next);return Promise.resolve()}}function A5(t,e){return new C5(t,e)}function k5(t){return{getToken:e=>u0(t,e),getLimitedUseToken:()=>S5(t),addTokenListener:e=>Jx(t,"INTERNAL",e),removeTokenListener:e=>Zx(t.app,e)}}const x5="@firebase/app-check",D5="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="https://www.google.com/recaptcha/api.js";function R5(t,e){const n=new za,r=Gn(t);r.reCAPTCHAState={initialized:n};const i=O5(t),s=yE(!1);return s?_E(t,e,s,i,n):$5(()=>{const o=yE(!1);if(!o)throw new Error("no recaptcha");_E(t,e,o,i,n)}),n.promise}function _E(t,e,n,r,i){n.ready(()=>{M5(t,e,n,r),i.resolve(n)})}function O5(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function N5(t){Tb(t);const n=await Gn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Gn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function M5(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Gn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Gn(t).reCAPTCHAState.succeeded=!1}}),s=Gn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function $5(t){const e=document.createElement("script");e.src=P5,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;U5(this._throttleData);const i=await N5(this._app).catch(o=>{throw Jr.create("recaptcha-error")});if(!(!((e=Gn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Jr.create("recaptcha-error");let s;try{s=await Eb(h5(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=L5(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Jr.create("throttled",{time:zx(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Cs(e,"heartbeat"),R5(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Cb?this._siteKey===e._siteKey:!1}}function L5(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+l5,httpStatus:t};{const n=e?e.backoffCount:0,r=Zy(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function U5(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Jr.create("throttled",{time:zx(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t=tc(),e){t=Vt(t);const n=Cs(t,"app-check");if(eg().initialized||_5(),Sb()&&Ib().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Jr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return V5(t,e.provider,e.isTokenAutoRefreshEnabled),Gn(t).isTokenAutoRefreshEnabled&&Jx(r,"INTERNAL",()=>{}),r}function V5(t,e,n){const r=s5(t,Object.assign({},Hx));r.activated=!0,r.provider=e,r.cachedTokenPromise=w5(t).then(i=>(i&&zl(i)&&(r.token=i,eD(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const B5="app-check",TE="app-check-internal";function j5(){ri(new Hr(B5,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return A5(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(TE).initialize()})),ri(new Hr(TE,t=>{const e=t.getProvider("app-check").getImmediate();return k5(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),gr(x5,D5)}j5();const H5={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},W5=t=>{F5(t,{provider:new Cb("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},z5=()=>{const t=gx(H5);return W5(t),JV(t),t},tD=z5();var Y5=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let nD;const tg=t=>nD=t,rD=Symbol();function c0(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var sd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(sd||(sd={}));function K5(){const t=Dm(!0),e=t.run(()=>ue({}));let n=[],r=[];const i=hh({install(s){tg(i),i._a=s,s.provide(rD,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!Y5?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const iD=()=>{};function EE(t,e,n,r=iD){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Pm()&&Fw(i),i}function El(t,...e){t.slice().forEach(n=>{n(...e)})}const G5=t=>t();function d0(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];c0(i)&&c0(r)&&t.hasOwnProperty(n)&&!Jt(r)&&!fs(r)?t[n]=d0(i,r):t[n]=r}return t}const q5=Symbol();function Q5(t){return!c0(t)||!t.hasOwnProperty(q5)}const{assign:po}=Object;function X5(t){return!!(Jt(t)&&t.effect)}function J5(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=SA(n.state.value[t]);return po(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=hh(ie(()=>{tg(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=sD(t,u,e,n,r,!0),l}function sD(t,e,n={},r,i,s){let o;const a=po({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),ue({});let m;function y(A){let k;u=c=!1,typeof A=="function"?(A(r.state.value[t]),k={type:sd.patchFunction,storeId:t,events:f}):(d0(r.state.value[t],A),k={type:sd.patchObject,payload:A,storeId:t,events:f});const S=m=Symbol();Kn().then(()=>{m===S&&(u=!0)}),c=!0,El(d,k,r.state.value[t])}const _=s?function(){const{state:k}=n,S=k?k():{};this.$patch(M=>{po(M,S)})}:iD;function v(){o.stop(),d=[],h=[],r._s.delete(t)}function b(A,k){return function(){tg(r);const S=Array.from(arguments),M=[],F=[];function I(O){M.push(O)}function j(O){F.push(O)}El(h,{args:S,name:A,store:w,after:I,onError:j});let N;try{N=k.apply(this&&this.$id===t?this:w,S)}catch(O){throw El(F,O),O}return N instanceof Promise?N.then(O=>(El(M,O),O)).catch(O=>(El(F,O),Promise.reject(O))):(El(M,N),N)}}const g={_p:r,$id:t,$onAction:EE.bind(null,h),$patch:y,$reset:_,$subscribe(A,k={}){const S=EE(d,A,k.detached,()=>M()),M=o.run(()=>Zt(()=>r.state.value[t],F=>{(k.flush==="sync"?c:u)&&A({storeId:t,type:sd.direct,events:f},F)},po({},l,k)));return S},$dispose:v},w=qn(g);r._s.set(t,w);const T=r._a&&r._a.runWithContext||G5,R=r._e.run(()=>(o=Dm(),T(()=>o.run(e))));for(const A in R){const k=R[A];if(Jt(k)&&!X5(k)||fs(k))s||(p&&Q5(k)&&(Jt(k)?k.value=p[A]:d0(k,p[A])),r.state.value[t][A]=k);else if(typeof k=="function"){const S=b(A,k);R[A]=S,a.actions[A]=k}}return po(w,R),po(vt(w),R),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:A=>{y(k=>{po(k,A)})}}),r._p.forEach(A=>{po(w,o.run(()=>A({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),u=!0,c=!0,w}function oD(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=XA();return a=a||(u?Br(rD,null):null),a&&tg(a),a=nD,a._s.has(r)||(s?sD(r,e,i,a):J5(r,i,a)),a._s.get(r)}return o.$id=r,o}function rn(t){{t=vt(t);const e={};for(const n in t){const r=t[n];(Jt(r)||fs(r))&&(e[n]=bu(t,n))}return e}}const SE=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var Z5=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),SE(l,e))}),e.$subscribe(()=>{a.forEach(l=>{SE(l,e)})})}};const aD=K5();aD.use(Z5);const Ur=class Ur{constructor(e,n,r={}){Ur.log(r.debug,n),r.route&&I1.push({name:r.route}),UU({title:e,type:e.toLowerCase(),text:n},5e3)}};sa(Ur,"success",(e,n={})=>new Ur("Success",e,n)),sa(Ur,"warning",(e,n={})=>new Ur("Warning",e,n)),sa(Ur,"error",(e,n={})=>new Ur("Error",e,n)),sa(Ur,"generalError",(e,n)=>new Ur("Error",(n==null?void 0:n.message)||lD,{debug:e})),sa(Ur,"firebaseError",(e,n)=>(Ur.log(e,n),n instanceof yi?n.message=Cv[n.code]:n instanceof Error&&Object.keys(Cv).includes(n.name)?n.message=Cv[n.name]:n=void 0,Ur.generalError(e,n))),sa(Ur,"log",(e,n)=>{e&&console.log(n)});let je=Ur;const lD="Something went wrong",Cv={"":lD,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var e6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe,Ab=Ab||{},at=e6||self;function ng(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function vh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function t6(t){return Object.prototype.hasOwnProperty.call(t,Av)&&t[Av]||(t[Av]=++n6)}var Av="closure_uid_"+(1e9*Math.random()>>>0),n6=0;function r6(t,e,n){return t.call.apply(t.bind,arguments)}function i6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Dr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Dr=r6:Dr=i6,Dr.apply(null,arguments)}function hf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function sr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ea(){this.s=this.s,this.o=this.o}var s6=0;ea.prototype.s=!1;ea.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),s6!=0)&&t6(this)};ea.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function kb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function IE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ng(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Pr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var o6=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{at.addEventListener("test",()=>{},e),at.removeEventListener("test",()=>{},e)}catch{}return t}();function Fd(t){return/^[\s\xa0]*$/.test(t)}function rg(){var t=at.navigator;return t&&(t=t.userAgent)?t:""}function is(t){return rg().indexOf(t)!=-1}function xb(t){return xb[" "](t),t}xb[" "]=function(){};function a6(t,e){var n=Z6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var l6=is("Opera"),ku=is("Trident")||is("MSIE"),cD=is("Edge"),h0=cD||ku,dD=is("Gecko")&&!(rg().toLowerCase().indexOf("webkit")!=-1&&!is("Edge"))&&!(is("Trident")||is("MSIE"))&&!is("Edge"),u6=rg().toLowerCase().indexOf("webkit")!=-1&&!is("Edge");function hD(){var t=at.document;return t?t.documentMode:void 0}var f0;e:{var kv="",xv=function(){var t=rg();if(dD)return/rv:([^\);]+)(\)|;)/.exec(t);if(cD)return/Edge\/([\d\.]+)/.exec(t);if(ku)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(u6)return/WebKit\/(\S+)/.exec(t);if(l6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xv&&(kv=xv?xv[1]:""),ku){var Dv=hD();if(Dv!=null&&Dv>parseFloat(kv)){f0=String(Dv);break e}}f0=kv}var p0;if(at.document&&ku){var CE=hD();p0=CE||parseInt(f0,10)||void 0}else p0=void 0;var c6=p0;function Vd(t,e){if(Pr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dD){e:{try{xb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:d6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vd.$.h.call(this)}}sr(Vd,Pr);var d6={2:"touch",3:"pen",4:"mouse"};Vd.prototype.h=function(){Vd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yh="closure_listenable_"+(1e6*Math.random()|0),h6=0;function f6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++h6,this.fa=this.ia=!1}function ig(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Db(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function p6(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fD(t){const e={};for(const n in t)e[n]=t[n];return e}const AE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<AE.length;s++)n=AE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sg(t){this.src=t,this.g={},this.h=0}sg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=g0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new f6(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function m0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=uD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ig(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function g0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Pb="closure_lm_"+(1e6*Math.random()|0),Pv={};function mD(t,e,n,r,i){if(r&&r.once)return vD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mD(t,e[s],n,r,i);return null}return n=Nb(n),t&&t[yh]?t.O(e,n,vh(r)?!!r.capture:!!r,i):gD(t,e,n,!1,r,i)}function gD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=vh(i)?!!i.capture:!!i,a=Ob(t);if(a||(t[Pb]=a=new sg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=m6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)o6||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function m6(){function t(n){return e.call(t.src,t.listener,n)}const e=g6;return t}function vD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vD(t,e[s],n,r,i);return null}return n=Nb(n),t&&t[yh]?t.P(e,n,vh(r)?!!r.capture:!!r,i):gD(t,e,n,!0,r,i)}function yD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yD(t,e[s],n,r,i);else r=vh(r)?!!r.capture:!!r,n=Nb(n),t&&t[yh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=g0(s,n,r,i),-1<n&&(ig(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ob(t))&&(e=t.g[e.toString()],t=-1,e&&(t=g0(e,n,r,i)),(n=-1<t?e[t]:null)&&Rb(n))}function Rb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yh])m0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ob(e))?(m0(n,t),n.h==0&&(n.src=null,e[Pb]=null)):ig(t)}}}function wD(t){return t in Pv?Pv[t]:Pv[t]="on"+t}function g6(t,e){if(t.fa)t=!0;else{e=new Vd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Rb(t),t=n.call(r,e)}return t}function Ob(t){return t=t[Pb],t instanceof sg?t:null}var Rv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nb(t){return typeof t=="function"?t:(t[Rv]||(t[Rv]=function(e){return t.handleEvent(e)}),t[Rv])}function ir(){ea.call(this),this.i=new sg(this),this.S=this,this.J=null}sr(ir,ea);ir.prototype[yh]=!0;ir.prototype.removeEventListener=function(t,e,n,r){yD(this,t,e,n,r)};function vr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Pr(e,t);else if(e instanceof Pr)e.target=e.target||t;else{var i=e;e=new Pr(r,t),pD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ff(o,r,!0,e)&&i}if(o=e.g=t,i=ff(o,r,!0,e)&&i,i=ff(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ff(o,r,!1,e)&&i}ir.prototype.N=function(){if(ir.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ig(n[r]);delete t.g[e],t.h--}}this.J=null};ir.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ir.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ff(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&m0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Mb=at.JSON.stringify;class v6{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function y6(){var t=$b;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class w6{constructor(){this.h=this.g=null}add(e,n){const r=bD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bD=new v6(()=>new b6,t=>t.reset());class b6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function T6(t){at.setTimeout(()=>{throw t},0)}let Bd,jd=!1,$b=new w6,_D=()=>{const t=at.Promise.resolve(void 0);Bd=()=>{t.then(E6)}};var E6=()=>{for(var t;t=y6();){try{t.h.call(t.g)}catch(n){T6(n)}var e=bD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jd=!1};function og(t,e){ir.call(this),this.h=t||1,this.g=e||at,this.j=Dr(this.qb,this),this.l=Date.now()}sr(og,ir);Pe=og.prototype;Pe.ga=!1;Pe.T=null;Pe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vr(this,"tick"),this.ga&&(Lb(this),this.start()))}};Pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Pe.N=function(){og.$.N.call(this),Lb(this),delete this.g};function Ub(t,e,n){if(typeof t=="function")n&&(t=Dr(t,n));else if(t&&typeof t.handleEvent=="function")t=Dr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:at.setTimeout(t,e||0)}function TD(t){t.g=Ub(()=>{t.g=null,t.i&&(t.i=!1,TD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class S6 extends ea{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:TD(this)}N(){super.N(),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hd(t){ea.call(this),this.h=t,this.g={}}sr(Hd,ea);var kE=[];function ED(t,e,n,r){Array.isArray(n)||(n&&(kE[0]=n.toString()),n=kE);for(var i=0;i<n.length;i++){var s=mD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function SD(t){Db(t.g,function(e,n){this.g.hasOwnProperty(n)&&Rb(e)},t),t.g={}}Hd.prototype.N=function(){Hd.$.N.call(this),SD(this)};Hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ag(){this.g=!0}ag.prototype.Ea=function(){this.g=!1};function I6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function C6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Yl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+k6(t,n)+(r?" "+r:"")})}function A6(t,e){t.info(function(){return"TIMEOUT: "+e})}ag.prototype.info=function(){};function k6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Mb(n)}catch{return e}}var cl={},xE=null;function lg(){return xE=xE||new ir}cl.Ta="serverreachability";function ID(t){Pr.call(this,cl.Ta,t)}sr(ID,Pr);function Wd(t){const e=lg();vr(e,new ID(e))}cl.STAT_EVENT="statevent";function CD(t,e){Pr.call(this,cl.STAT_EVENT,t),this.stat=e}sr(CD,Pr);function Vr(t){const e=lg();vr(e,new CD(e,t))}cl.Ua="timingevent";function AD(t,e){Pr.call(this,cl.Ua,t),this.size=e}sr(AD,Pr);function wh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){t()},e)}var ug={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fb(){}Fb.prototype.h=null;function DE(t){return t.h||(t.h=t.i())}function xD(){}var bh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vb(){Pr.call(this,"d")}sr(Vb,Pr);function Bb(){Pr.call(this,"c")}sr(Bb,Pr);var v0;function cg(){}sr(cg,Fb);cg.prototype.g=function(){return new XMLHttpRequest};cg.prototype.i=function(){return{}};v0=new cg;function _h(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Hd(this),this.P=x6,t=h0?125:void 0,this.V=new og(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new DD}function DD(){this.i=null,this.g="",this.h=!1}var x6=45e3,y0={},Op={};Pe=_h.prototype;Pe.setTimeout=function(t){this.P=t};function w0(t,e,n){t.L=1,t.v=hg(Ks(e)),t.s=n,t.S=!0,PD(t,null)}function PD(t,e){t.G=Date.now(),Th(t),t.A=Ks(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),FD(n.i,"t",r),t.C=0,n=t.l.J,t.h=new DD,t.g=oP(t.l,n?e:null,!t.s),0<t.O&&(t.M=new S6(Dr(t.Pa,t,t.g),t.O)),ED(t.U,t.g,"readystatechange",t.nb),e=t.I?fD(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Wd(),I6(t.j,t.u,t.A,t.m,t.W,t.s)}Pe.nb=function(t){t=t.target;const e=this.M;e&&as(t)==3?e.l():this.Pa(t)};Pe.Pa=function(t){try{if(t==this.g)e:{const c=as(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||h0||this.g&&(this.h.h||this.g.ja()||NE(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Wd(3):Wd(2)),dg(this);var n=this.g.da();this.ca=n;t:if(RD(this)){var r=NE(this.g);t="";var i=r.length,s=as(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ea(this),od(this);var o="";break t}this.h.i=new at.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,C6(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fd(a)){var u=a;break t}}u=null}if(n=u)Yl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,b0(this,n);else{this.i=!1,this.o=3,Vr(12),Ea(this),od(this);break e}}this.S?(OD(this,c,o),h0&&this.i&&c==3&&(ED(this.U,this.V,"tick",this.mb),this.V.start())):(Yl(this.j,this.m,o,null),b0(this,o)),c==4&&Ea(this),this.i&&!this.J&&(c==4?nP(this.l,this):(this.i=!1,Th(this)))}else Q6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Vr(12)):(this.o=0,Vr(13)),Ea(this),od(this)}}}catch{}finally{}};function RD(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function OD(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=D6(t,n),i==Op){e==4&&(t.o=4,Vr(14),r=!1),Yl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==y0){t.o=4,Vr(15),Yl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yl(t.j,t.m,i,null),b0(t,i);RD(t)&&i!=Op&&i!=y0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Vr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kb(e),e.M=!0,Vr(11))):(Yl(t.j,t.m,n,"[Invalid Chunked Response]"),Ea(t),od(t))}Pe.mb=function(){if(this.g){var t=as(this.g),e=this.g.ja();this.C<e.length&&(dg(this),OD(this,t,e),this.i&&t!=4&&Th(this))}};function D6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Op:(n=Number(e.substring(n,r)),isNaN(n)?y0:(r+=1,r+n>e.length?Op:(e=e.slice(r,r+n),t.C=r+n,e)))}Pe.cancel=function(){this.J=!0,Ea(this)};function Th(t){t.Y=Date.now()+t.P,ND(t,t.P)}function ND(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=wh(Dr(t.lb,t),e)}function dg(t){t.B&&(at.clearTimeout(t.B),t.B=null)}Pe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(A6(this.j,this.A),this.L!=2&&(Wd(),Vr(17)),Ea(this),this.o=2,od(this)):ND(this,this.Y-t)};function od(t){t.l.H==0||t.J||nP(t.l,t)}function Ea(t){dg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lb(t.V),SD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function b0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||_0(n.i,t))){if(!t.K&&_0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)$p(n),mg(n);else break e;Yb(n),Vr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=wh(Dr(n.ib,n),6e3));if(1>=jD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Sa(n,11)}else if((t.K||n.g==t)&&$p(n),!Fd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(jb(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,hn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=sP(r,r.J?r.pa:null,r.Y),o.K){HD(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(dg(a),Th(a)),r.g=o}else eP(r);0<n.j.length&&gg(n)}else u[0]!="stop"&&u[0]!="close"||Sa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Sa(n,7):zb(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Wd(4)}catch{}}function P6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ng(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function R6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ng(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function MD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ng(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=R6(t),r=P6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var $D=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Da(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Da){this.h=t.h,Np(this,t.j),this.s=t.s,this.g=t.g,Mp(this,t.m),this.l=t.l;var e=t.i,n=new zd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),PE(this,n),this.o=t.o}else t&&(e=String(t).match($D))?(this.h=!1,Np(this,e[1]||"",!0),this.s=Lc(e[2]||""),this.g=Lc(e[3]||"",!0),Mp(this,e[4]),this.l=Lc(e[5]||"",!0),PE(this,e[6]||"",!0),this.o=Lc(e[7]||"")):(this.h=!1,this.i=new zd(null,this.h))}Da.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uc(e,RE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uc(e,RE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Uc(n,n.charAt(0)=="/"?$6:M6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uc(n,U6)),t.join("")};function Ks(t){return new Da(t)}function Np(t,e,n){t.j=n?Lc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function PE(t,e,n){e instanceof zd?(t.i=e,F6(t.i,t.h)):(n||(e=Uc(e,L6)),t.i=new zd(e,t.h))}function hn(t,e,n){t.i.set(e,n)}function hg(t){return hn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Lc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,N6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function N6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var RE=/[#\/\?@]/g,M6=/[#\?:]/g,$6=/[#\?]/g,L6=/[#\?@]/g,U6=/#/g;function zd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ta(t){t.g||(t.g=new Map,t.h=0,t.i&&O6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Pe=zd.prototype;Pe.add=function(t,e){ta(this),this.i=null,t=nc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function LD(t,e){ta(t),e=nc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function UD(t,e){return ta(t),e=nc(t,e),t.g.has(e)}Pe.forEach=function(t,e){ta(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Pe.ta=function(){ta(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Pe.Z=function(t){ta(this);let e=[];if(typeof t=="string")UD(this,t)&&(e=e.concat(this.g.get(nc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Pe.set=function(t,e){return ta(this),this.i=null,t=nc(this,t),UD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Pe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function FD(t,e,n){LD(t,e),0<n.length&&(t.i=null,t.g.set(nc(t,e),kb(n)),t.h+=n.length)}Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function nc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function F6(t,e){e&&!t.j&&(ta(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LD(this,r),FD(this,i,n))},t)),t.j=e}var V6=class{constructor(t,e){this.g=t,this.map=e}};function VD(t){this.l=t||B6,at.PerformanceNavigationTiming?(t=at.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(at.g&&at.g.Ka&&at.g.Ka()&&at.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var B6=10;function BD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function jD(t){return t.h?1:t.g?t.g.size:0}function _0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jb(t,e){t.g?t.g.add(e):t.h=e}function HD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}VD.prototype.cancel=function(){if(this.i=WD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return kb(t.i)}var j6=class{stringify(t){return at.JSON.stringify(t,void 0)}parse(t){return at.JSON.parse(t,void 0)}};function H6(){this.g=new j6}function W6(t,e,n){const r=n||"";try{MD(t,function(i,s){let o=i;vh(i)&&(o=Mb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function z6(t,e){const n=new ag;if(at.Image){const r=new Image;r.onload=hf(pf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hf(pf,n,r,"TestLoadImage: error",!1,e),r.onabort=hf(pf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hf(pf,n,r,"TestLoadImage: timeout",!1,e),at.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function pf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Eh(t){this.l=t.fc||null,this.j=t.ob||!1}sr(Eh,Fb);Eh.prototype.g=function(){return new fg(this.l,this.j)};Eh.prototype.i=function(t){return function(){return t}}({});function fg(t,e){ir.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Hb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sr(fg,ir);var Hb=0;Pe=fg.prototype;Pe.open=function(t,e){if(this.readyState!=Hb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yd(this)};Pe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||at).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sh(this)),this.readyState=Hb};Pe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yd(this)),this.g&&(this.readyState=3,Yd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof at.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function zD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Pe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sh(this):Yd(this),this.readyState==3&&zD(this)}};Pe.Za=function(t){this.g&&(this.response=this.responseText=t,Sh(this))};Pe.Ya=function(t){this.g&&(this.response=t,Sh(this))};Pe.ka=function(){this.g&&Sh(this)};function Sh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yd(t)}Pe.setRequestHeader=function(t,e){this.v.append(t,e)};Pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Y6=at.JSON.parse;function Dn(t){ir.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=YD,this.L=this.M=!1}sr(Dn,ir);var YD="",K6=/^https?$/i,G6=["POST","PUT"];Pe=Dn.prototype;Pe.Oa=function(t){this.M=t};Pe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():v0.g(),this.C=this.u?DE(this.u):DE(v0),this.g.onreadystatechange=Dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){OE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=at.FormData&&t instanceof at.FormData,!(0<=uD(G6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qD(this),0<this.B&&((this.L=q6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dr(this.ua,this)):this.A=Ub(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){OE(this,s)}};function q6(t){return ku&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Pe.ua=function(){typeof Ab<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vr(this,"timeout"),this.abort(8))};function OE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KD(t),pg(t)}function KD(t){t.F||(t.F=!0,vr(t,"complete"),vr(t,"error"))}Pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vr(this,"complete"),vr(this,"abort"),pg(this))};Pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pg(this,!0)),Dn.$.N.call(this)};Pe.La=function(){this.s||(this.G||this.v||this.l?GD(this):this.kb())};Pe.kb=function(){GD(this)};function GD(t){if(t.h&&typeof Ab<"u"&&(!t.C[1]||as(t)!=4||t.da()!=2)){if(t.v&&as(t)==4)Ub(t.La,0,t);else if(vr(t,"readystatechange"),as(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match($D)[1]||null;!i&&at.self&&at.self.location&&(i=at.self.location.protocol.slice(0,-1)),r=!K6.test(i?i.toLowerCase():"")}n=r}if(n)vr(t,"complete"),vr(t,"success");else{t.m=6;try{var s=2<as(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",KD(t)}}finally{pg(t)}}}}function pg(t,e){if(t.g){qD(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||vr(t,"ready");try{n.onreadystatechange=r}catch{}}}function qD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(at.clearTimeout(t.A),t.A=null)}Pe.isActive=function(){return!!this.g};function as(t){return t.g?t.g.readyState:0}Pe.da=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}};Pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Pe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Y6(e)}};function NE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case YD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Q6(t){const e={};t=(t.g&&2<=as(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fd(t[r]))continue;var n=_6(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}p6(e,function(r){return r.join(", ")})}Pe.Ia=function(){return this.m};Pe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function QD(t){let e="";return Db(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):hn(t,e,n))}function mc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XD(t){this.Ga=0,this.j=[],this.l=new ag,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mc("baseRetryDelayMs",5e3,t),this.hb=mc("retryDelaySeedMs",1e4,t),this.eb=mc("forwardChannelMaxRetries",2,t),this.xa=mc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new VD(t&&t.concurrentRequestLimit),this.Ja=new H6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Pe=XD.prototype;Pe.ra=8;Pe.H=1;function zb(t){if(JD(t),t.H==3){var e=t.W++,n=Ks(t.I);if(hn(n,"SID",t.K),hn(n,"RID",e),hn(n,"TYPE","terminate"),Ih(t,n),e=new _h(t,t.l,e),e.L=2,e.v=hg(Ks(n)),n=!1,at.navigator&&at.navigator.sendBeacon)try{n=at.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&at.Image&&(new Image().src=e.v,n=!0),n||(e.g=oP(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Th(e)}iP(t)}function mg(t){t.g&&(Kb(t),t.g.cancel(),t.g=null)}function JD(t){mg(t),t.u&&(at.clearTimeout(t.u),t.u=null),$p(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&at.clearTimeout(t.m),t.m=null)}function gg(t){if(!BD(t.i)&&!t.m){t.m=!0;var e=t.Na;Bd||_D(),jd||(Bd(),jd=!0),$b.add(e,t),t.C=0}}function X6(t,e){return jD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=wh(Dr(t.Na,t,e),rP(t,t.C)),t.C++,!0)}Pe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new _h(this,this.l,t);let s=this.s;if(this.U&&(s?(s=fD(s),pD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZD(this,i,e),n=Ks(this.I),hn(n,"RID",t),hn(n,"CVER",22),this.F&&hn(n,"X-HTTP-Session-Id",this.F),Ih(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(QD(s)))+"&"+e:this.o&&Wb(n,this.o,s)),jb(this.i,i),this.bb&&hn(n,"TYPE","init"),this.P?(hn(n,"$req",e),hn(n,"SID","null"),i.aa=!0,w0(i,n,null)):w0(i,n,e),this.H=2}}else this.H==3&&(t?ME(this,t):this.j.length==0||BD(this.i)||ME(this))};function ME(t,e){var n;e?n=e.m:n=t.W++;const r=Ks(t.I);hn(r,"SID",t.K),hn(r,"RID",n),hn(r,"AID",t.V),Ih(t,r),t.o&&t.s&&Wb(r,t.o,t.s),n=new _h(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jb(t.i,n),w0(n,r,e)}function Ih(t,e){t.na&&Db(t.na,function(n,r){hn(e,r,n)}),t.h&&MD({},function(n,r){hn(e,r,n)})}function ZD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{W6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function eP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bd||_D(),jd||(Bd(),jd=!0),$b.add(e,t),t.A=0}}function Yb(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=wh(Dr(t.Ma,t),rP(t,t.A)),t.A++,!0)}Pe.Ma=function(){if(this.u=null,tP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=wh(Dr(this.jb,this),t)}};Pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vr(10),mg(this),tP(this))};function Kb(t){t.B!=null&&(at.clearTimeout(t.B),t.B=null)}function tP(t){t.g=new _h(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ks(t.wa);hn(e,"RID","rpc"),hn(e,"SID",t.K),hn(e,"AID",t.V),hn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&hn(e,"TO",t.qa),hn(e,"TYPE","xmlhttp"),Ih(t,e),t.o&&t.s&&Wb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=hg(Ks(e)),n.s=null,n.S=!0,PD(n,t)}Pe.ib=function(){this.v!=null&&(this.v=null,mg(this),Yb(this),Vr(19))};function $p(t){t.v!=null&&(at.clearTimeout(t.v),t.v=null)}function nP(t,e){var n=null;if(t.g==e){$p(t),Kb(t),t.g=null;var r=2}else if(_0(t.i,e))n=e.F,HD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=lg(),vr(r,new AD(r,n)),gg(t)}else eP(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&X6(t,e)||r==2&&Yb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Sa(t,5);break;case 4:Sa(t,10);break;case 3:Sa(t,6);break;default:Sa(t,2)}}}function rP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Sa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Dr(t.pb,t);n||(n=new Da("//www.google.com/images/cleardot.gif"),at.location&&at.location.protocol=="http"||Np(n,"https"),hg(n)),z6(n.toString(),r)}else Vr(2);t.H=0,t.h&&t.h.za(e),iP(t),JD(t)}Pe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Vr(2)):(this.l.info("Failed to ping google.com"),Vr(1))};function iP(t){if(t.H=0,t.ma=[],t.h){const e=WD(t.i);(e.length!=0||t.j.length!=0)&&(IE(t.ma,e),IE(t.ma,t.j),t.i.i.length=0,kb(t.j),t.j.length=0),t.h.ya()}}function sP(t,e,n){var r=n instanceof Da?Ks(n):new Da(n);if(r.g!="")e&&(r.g=e+"."+r.g),Mp(r,r.m);else{var i=at.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Da(null);r&&Np(s,r),e&&(s.g=e),i&&Mp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&hn(r,n,e),hn(r,"VER",t.ra),Ih(t,r),r}function oP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Dn(new Eh({ob:!0})):new Dn(t.va),e.Oa(t.J),e}Pe.isActive=function(){return!!this.h&&this.h.isActive(this)};function aP(){}Pe=aP.prototype;Pe.Ba=function(){};Pe.Aa=function(){};Pe.za=function(){};Pe.ya=function(){};Pe.isActive=function(){return!0};Pe.Va=function(){};function Lp(){if(ku&&!(10<=Number(c6)))throw Error("Environmental error: no available transport.")}Lp.prototype.g=function(t,e){return new gi(t,e)};function gi(t,e){ir.call(this),this.g=new XD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new rc(this)}sr(gi,ir);gi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Vr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sP(t,null,t.Y),gg(t)};gi.prototype.close=function(){zb(this.g)};gi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Mb(t),t=n);e.j.push(new V6(e.fb++,t)),e.H==3&&gg(e)};gi.prototype.N=function(){this.g.h=null,delete this.j,zb(this.g),delete this.g,gi.$.N.call(this)};function lP(t){Vb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}sr(lP,Vb);function uP(){Bb.call(this),this.status=1}sr(uP,Bb);function rc(t){this.g=t}sr(rc,aP);rc.prototype.Ba=function(){vr(this.g,"a")};rc.prototype.Aa=function(t){vr(this.g,new lP(t))};rc.prototype.za=function(t){vr(this.g,new uP)};rc.prototype.ya=function(){vr(this.g,"b")};function J6(){this.blockSize=-1}function Xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}sr(Xi,J6);Xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ov(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Xi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ov(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ov(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ov(this,r),i=0;break}}this.h=i,this.i+=e};Xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Gt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Z6={};function Gb(t){return-128<=t&&128>t?a6(t,function(e){return new Gt([e|0],0>e?-1:0)}):new Gt([t|0],0>t?-1:0)}function ls(t){if(isNaN(t)||!isFinite(t))return lu;if(0>t)return dr(ls(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=T0;return new Gt(e,0)}function cP(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dr(cP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ls(Math.pow(e,8)),r=lu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ls(Math.pow(e,s)),r=r.R(s).add(ls(o))):(r=r.R(n),r=r.add(ls(o)))}return r}var T0=4294967296,lu=Gb(0),E0=Gb(1),$E=Gb(16777216);Pe=Gt.prototype;Pe.ea=function(){if(Si(this))return-dr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:T0+r)*e,e*=T0}return t};Pe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ms(this))return"0";if(Si(this))return"-"+dr(this).toString(t);for(var e=ls(Math.pow(t,6)),n=this,r="";;){var i=Fp(n,e).g;n=Up(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ms(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Pe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ms(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Si(t){return t.h==-1}Pe.X=function(t){return t=Up(this,t),Si(t)?-1:Ms(t)?0:1};function dr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Gt(n,~t.h).add(E0)}Pe.abs=function(){return Si(this)?dr(this):this};Pe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Gt(n,n[n.length-1]&-2147483648?-1:0)};function Up(t,e){return t.add(dr(e))}Pe.R=function(t){if(Ms(this)||Ms(t))return lu;if(Si(this))return Si(t)?dr(this).R(dr(t)):dr(dr(this).R(t));if(Si(t))return dr(this.R(dr(t)));if(0>this.X($E)&&0>t.X($E))return ls(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,mf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,mf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,mf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,mf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Gt(n,0)};function mf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gc(t,e){this.g=t,this.h=e}function Fp(t,e){if(Ms(e))throw Error("division by zero");if(Ms(t))return new gc(lu,lu);if(Si(t))return e=Fp(dr(t),e),new gc(dr(e.g),dr(e.h));if(Si(e))return e=Fp(t,dr(e)),new gc(dr(e.g),e.h);if(30<t.g.length){if(Si(t)||Si(e))throw Error("slowDivide_ only works with positive integers.");for(var n=E0,r=e;0>=r.X(t);)n=LE(n),r=LE(r);var i=Sl(n,1),s=Sl(r,1);for(r=Sl(r,2),n=Sl(n,2);!Ms(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Sl(r,1),n=Sl(n,1)}return e=Up(t,i.R(e)),new gc(i,e)}for(i=lu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ls(n),o=s.R(e);Si(o)||0<o.X(t);)n-=r,s=ls(n),o=s.R(e);Ms(s)&&(s=E0),i=i.add(s),t=Up(t,o)}return new gc(i,t)}Pe.gb=function(t){return Fp(this,t).h};Pe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Gt(n,this.h&t.h)};Pe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Gt(n,this.h|t.h)};Pe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Gt(n,this.h^t.h)};function LE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Gt(n,t.h)}function Sl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Gt(i,t.h)}Lp.prototype.createWebChannel=Lp.prototype.g;gi.prototype.send=gi.prototype.u;gi.prototype.open=gi.prototype.m;gi.prototype.close=gi.prototype.close;ug.NO_ERROR=0;ug.TIMEOUT=8;ug.HTTP_ERROR=6;kD.COMPLETE="complete";xD.EventType=bh;bh.OPEN="a";bh.CLOSE="b";bh.ERROR="c";bh.MESSAGE="d";ir.prototype.listen=ir.prototype.O;Dn.prototype.listenOnce=Dn.prototype.P;Dn.prototype.getLastError=Dn.prototype.Sa;Dn.prototype.getLastErrorCode=Dn.prototype.Ia;Dn.prototype.getStatus=Dn.prototype.da;Dn.prototype.getResponseJson=Dn.prototype.Wa;Dn.prototype.getResponseText=Dn.prototype.ja;Dn.prototype.send=Dn.prototype.ha;Dn.prototype.setWithCredentials=Dn.prototype.Oa;Xi.prototype.digest=Xi.prototype.l;Xi.prototype.reset=Xi.prototype.reset;Xi.prototype.update=Xi.prototype.j;Gt.prototype.add=Gt.prototype.add;Gt.prototype.multiply=Gt.prototype.R;Gt.prototype.modulo=Gt.prototype.gb;Gt.prototype.compare=Gt.prototype.X;Gt.prototype.toNumber=Gt.prototype.ea;Gt.prototype.toString=Gt.prototype.toString;Gt.prototype.getBits=Gt.prototype.D;Gt.fromNumber=ls;Gt.fromString=cP;var eB=function(){return new Lp},tB=function(){return lg()},Nv=ug,nB=kD,rB=cl,UE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iB=Eh,gf=xD,sB=Dn,oB=Xi,uu=Gt;const FE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _r=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new ec("@firebase/firestore");function VE(){return qa.logLevel}function ze(t,...e){if(qa.logLevel<=Rt.DEBUG){const n=e.map(qb);qa.debug(`Firestore (${ic}): ${t}`,...n)}}function Gs(t,...e){if(qa.logLevel<=Rt.ERROR){const n=e.map(qb);qa.error(`Firestore (${ic}): ${t}`,...n)}}function xu(t,...e){if(qa.logLevel<=Rt.WARN){const n=e.map(qb);qa.warn(`Firestore (${ic}): ${t}`,...n)}}function qb(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t="Unexpected state"){const e=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: `+t;throw Gs(e),new Error(e)}function pn(t,e){t||st()}function ht(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let aB=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_r.UNAUTHENTICATED))}shutdown(){}},lB=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},uB=class{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pn(typeof r.accessToken=="string"),new dP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pn(e===null||typeof e=="string"),new _r(e)}},cB=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},dB=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new cB(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hB=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fB=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pn(typeof n.token=="string"),this.T=n.token,new hB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hP=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ft(t,e){return t<e?-1:t>e?1:0}function Du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class Kf{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new xe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kf.fromMillis(Date.now())}static fromDate(e){return Kf.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Kf(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ft=class Gf{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gf(e)}static min(){return new Gf(new jn(0,0))}static max(){return new Gf(new jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fP=class S0{constructor(e,n,r){n===void 0?n=0:n>e.length&&st(),r===void 0?r=e.length-n:r>e.length-n&&st(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return S0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof S0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xn=class qf extends fP{construct(e,n,r){return new qf(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qf(n)}static emptyPath(){return new qf([])}};const mB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let _s=class Ll extends fP{construct(e,n,r){return new Ll(e,n,r)}static isValidIdentifier(e){return mB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ll.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ll(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xe(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new xe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new xe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new xe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ll(n)}static emptyPath(){return new Ll([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ze=class Fc{constructor(e){this.path=e}static fromPath(e){return new Fc(xn.fromString(e))}static fromName(e){return new Fc(xn.fromString(e).popFirst(5))}static empty(){return new Fc(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fc(new xn(e.slice()))}};function gB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ft.fromTimestamp(r===1e9?new jn(n+1,0):new jn(n,r));return new Kd(i,Ze.empty(),e)}function vB(t){return new Kd(t.readTime,t.key,-1)}let Kd=class I0{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new I0(ft.min(),Ze.empty(),-1)}static max(){return new I0(ft.max(),Ze.empty(),-1)}};function yB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ze.comparator(t.documentKey,e.documentKey),n!==0?n:Ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let bB=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==wB)throw t;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ae=class Kr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Kr((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Kr?n:Kr.resolve(n)}catch(n){return Kr.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Kr.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Kr.reject(n)}static resolve(e){return new Kr((n,r)=>{n(e)})}static reject(e){return new Kr((n,r)=>{r(e)})}static waitFor(e){return new Kr((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Kr.resolve(!1);for(const r of e)n=n.next(i=>i?Kr.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Kr((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Kr((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Ah(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};Qb.ct=-1;function vg(t){return t==null}function Vp(t){return t===0&&1/t==-1/0}function _B(t){return typeof t=="number"&&Number.isInteger(t)&&!Vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hn=class C0{constructor(e,n){this.comparator=e,this.root=n||No.EMPTY}insert(e,n){return new C0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,No.BLACK,null,null))}remove(e){return new C0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,No.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}},vf=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},No=class Ds{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ds.RED,this.left=i??Ds.EMPTY,this.right=s??Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ds(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ds.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}};No.EMPTY=null,No.RED=!0,No.BLACK=!1;No.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(t,e,n,r,i){return this}insert(t,e,n){return new No(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pi=class A0{constructor(e){this.comparator=e,this.data=new Hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof A0)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new A0(this.comparator);return n.data=e,n}},jE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us=class k0{constructor(e){this.fields=e,e.sort(_s.comparator)}static empty(){return new k0([])}unionWith(e){let n=new pi(_s.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new k0(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Du(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mP=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vi=class x0{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mP("Invalid base64 string: "+i):i}}(e);return new x0(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new x0(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vi.EMPTY_BYTE_STRING=new vi("");const TB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(t){if(pn(!!t),typeof t=="string"){let e=0;const n=TB.exec(t);if(pn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(t.seconds),nanos:Vn(t.nanos)}}function Vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qa(t){return typeof t=="string"?vi.fromBase64String(t):vi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xb(t){const e=t.mapValue.fields.__previous_value__;return yg(e)?Xb(e):e}function Gd(t){const e=Yo(t.mapValue.fields.__local_write_time__.timestampValue);return new jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yg(t)?4:SB(t)?9007199254740991:10:st()}function Ts(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gd(t).isEqual(Gd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Yo(r.timestampValue),o=Yo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Qa(r.bytesValue).isEqual(Qa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Vn(r.geoPointValue.latitude)===Vn(i.geoPointValue.latitude)&&Vn(r.geoPointValue.longitude)===Vn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Vn(r.integerValue)===Vn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Vn(r.doubleValue),o=Vn(i.doubleValue);return s===o?Vp(s)===Vp(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Du(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(BE(s)!==BE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ts(s[a],o[a])))return!1;return!0}(t,e);default:return st()}}function Qd(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function Pu(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Vn(i.integerValue||i.doubleValue),a=Vn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return HE(t.timestampValue,e.timestampValue);case 4:return HE(Gd(t),Gd(e));case 5:return Ft(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Qa(i),a=Qa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Ft(o[l],a[l]);if(u!==0)return u}return Ft(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Ft(Vn(i.latitude),Vn(s.latitude));return o!==0?o:Ft(Vn(i.longitude),Vn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Pu(o[l],a[l]);if(u)return u}return Ft(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===yf.mapValue&&s===yf.mapValue)return 0;if(i===yf.mapValue)return 1;if(s===yf.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Ft(a[c],u[c]);if(d!==0)return d;const h=Pu(o[a[c]],l[u[c]]);if(h!==0)return h}return Ft(a.length,u.length)}(t.mapValue,e.mapValue);default:throw st()}}function HE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ft(t,e);const n=Yo(t),r=Yo(e),i=Ft(n.seconds,r.seconds);return i!==0?i:Ft(n.nanos,r.nanos)}function Ru(t){return D0(t)}function D0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Yo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ze.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=D0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${D0(r.fields[a])}`;return s+"}"}(t.mapValue):st();var e,n}function Bp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function P0(t){return!!t&&"integerValue"in t}function Jb(t){return!!t&&"arrayValue"in t}function WE(t){return!!t&&"nullValue"in t}function zE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qf(t){return!!t&&"mapValue"in t}function ad(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return dl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ad(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ad(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ad(n)}setAll(e){let n=_s.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ad(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qr(ad(this.value))}}function gP(t){const e=[];return dl(t.fields,(n,r)=>{const i=new _s([n]);if(Qf(r)){const s=gP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tr(e,0,ft.min(),ft.min(),ft.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,i){return new Tr(e,1,n,ft.min(),r,i,0)}static newNoDocument(e,n){return new Tr(e,2,n,ft.min(),ft.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,ft.min(),ft.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=class{constructor(e,n){this.position=e,this.inclusive=n}};function YE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ze.comparator(Ze.fromName(o.referenceValue),n.key):r=Pu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function KE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function IB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vP=class{},er=class yP extends vP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AB(e,n,r):n==="array-contains"?new DB(e,r):n==="in"?new PB(e,r):n==="not-in"?new RB(e,r):n==="array-contains-any"?new OB(e,r):new yP(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kB(e,r):new xB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Pu(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.matchesComparison(Pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},qs=class wP extends vP{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new wP(e,n)}matches(e){return bP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function bP(t){return t.op==="and"}function _P(t){return CB(t)&&bP(t)}function CB(t){for(const e of t.filters)if(e instanceof qs)return!1;return!0}function R0(t){if(t instanceof er)return t.field.canonicalString()+t.op.toString()+Ru(t.value);if(_P(t))return t.filters.map(e=>R0(e)).join(",");{const e=t.filters.map(n=>R0(n)).join(",");return`${t.op}(${e})`}}function TP(t,e){return t instanceof er?function(n,r){return r instanceof er&&n.op===r.op&&n.field.isEqual(r.field)&&Ts(n.value,r.value)}(t,e):t instanceof qs?function(n,r){return r instanceof qs&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&TP(s,r.filters[o]),!0):!1}(t,e):void st()}function EP(t){return t instanceof er?function(e){return`${e.field.canonicalString()} ${e.op} ${Ru(e.value)}`}(t):t instanceof qs?function(e){return e.op.toString()+" {"+e.getFilters().map(EP).join(" ,")+"}"}(t):"Filter"}let AB=class extends er{constructor(e,n,r){super(e,n,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const n=Ze.comparator(e.key,this.key);return this.matchesComparison(n)}},kB=class extends er{constructor(e,n){super(e,"in",n),this.keys=SP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},xB=class extends er{constructor(e,n){super(e,"not-in",n),this.keys=SP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function SP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ze.fromName(r.referenceValue))}let DB=class extends er{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jb(n)&&Qd(n.arrayValue,this.value)}},PB=class extends er{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qd(this.value.arrayValue,n)}};class RB extends er{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qd(this.value.arrayValue,n)}}class OB extends er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NB=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function GE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new NB(t,e,n,r,i,s,o)}function Zb(t){const e=ht(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ru(r)).join(",")),e.dt=n}return e.dt}function e_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KE(t.startAt,e.startAt)&&KE(t.endAt,e.endAt)}function O0(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function MB(t,e,n,r,i,s,o,a){return new hl(t,e,n,r,i,s,o,a)}function t_(t){return new hl(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function wg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function r_(t){return t.collectionGroup!==null}function Pa(t){const e=ht(t);if(e.wt===null){e.wt=[];const n=wg(e),r=n_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new cu(n)),e.wt.push(new cu(_s.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cu(_s.keyField(),s))}}}return e.wt}function Qs(t){const e=ht(t);if(!e._t)if(e.limitType==="F")e._t=GE(e.path,e.collectionGroup,Pa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Pa(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new cu(s.field,o))}const r=e.endAt?new Ou(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ou(e.startAt.position,e.startAt.inclusive):null;e._t=GE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function N0(t,e){e.getFirstInequalityField(),wg(t);const n=t.filters.concat([e]);return new hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jp(t,e,n){return new hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bg(t,e){return e_(Qs(t),Qs(e))&&t.limitType===e.limitType}function IP(t){return`${Zb(Qs(t))}|lt:${t.limitType}`}function M0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>EP(r)).join(", ")}]`),vg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ru(r)).join(",")),`Target(${n})`}(Qs(t))}; limitType=${t.limitType})`}function _g(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ze.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Pa(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=YE(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Pa(n),r)||n.endAt&&!function(i,s,o){const a=YE(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Pa(n),r))}(t,e)}function $B(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CP(t){return(e,n)=>{let r=!1;for(const i of Pa(t)){const s=LB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function LB(t,e,n){const r=t.field.isKeyField()?Ze.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Pu(a,l):st()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new Hn(Ze.comparator);function Xs(){return UB}const AP=new Hn(Ze.comparator);function Vc(...t){let e=AP;for(const n of t)e=e.insert(n.key,n);return e}function kP(t){let e=AP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ia(){return ld()}function xP(){return ld()}function ld(){return new sc(t=>t.toString(),(t,e)=>t.isEqual(e))}const FB=new Hn(Ze.comparator),VB=new pi(Ze.comparator);function wt(...t){let e=VB;for(const n of t)e=e.add(n);return e}const BB=new pi(Ft);function jB(){return BB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vp(e)?"-0":e}}function PP(t){return{integerValue:""+t}}function HB(t,e){return _B(e)?PP(e):DP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this._=void 0}}function WB(t,e,n){return t instanceof Hp?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&yg(i)&&(i=Xb(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Xd?OP(t,e):t instanceof Jd?NP(t,e):function(r,i){const s=RP(r,i),o=QE(s)+QE(r.gt);return P0(s)&&P0(r.gt)?PP(o):DP(r.serializer,o)}(t,e)}function zB(t,e,n){return t instanceof Xd?OP(t,e):t instanceof Jd?NP(t,e):n}function RP(t,e){return t instanceof Wp?P0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Hp extends Tg{}class Xd extends Tg{constructor(e){super(),this.elements=e}}function OP(t,e){const n=MP(e);for(const r of t.elements)n.some(i=>Ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class Jd extends Tg{constructor(e){super(),this.elements=e}}function NP(t,e){let n=MP(e);for(const r of t.elements)n=n.filter(i=>!Ts(i,r));return{arrayValue:{values:n}}}class Wp extends Tg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function QE(t){return Vn(t.integerValue||t.doubleValue)}function MP(t){return Jb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YB(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Xd&&r instanceof Xd||n instanceof Jd&&r instanceof Jd?Du(n.elements,r.elements,Ts):n instanceof Wp&&r instanceof Wp?Ts(n.gt,r.gt):n instanceof Hp&&r instanceof Hp}(t.transform,e.transform)}class KB{constructor(e,n){this.version=e,this.transformResults=n}}class xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eg{}function $P(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i_(t.key,xi.none()):new kh(t.key,t.data,xi.none());{const n=t.data,r=Qr.empty();let i=new pi(_s.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new na(t.key,r,new us(i.toArray()),xi.none())}}function GB(t,e,n){t instanceof kh?function(r,i,s){const o=r.value.clone(),a=JE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof na?function(r,i,s){if(!Xf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=JE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(LP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ud(t,e,n,r){return t instanceof kh?function(i,s,o,a){if(!Xf(i.precondition,s))return o;const l=i.value.clone(),u=ZE(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof na?function(i,s,o,a){if(!Xf(i.precondition,s))return o;const l=ZE(i.fieldTransforms,a,s),u=s.data;return u.setAll(LP(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Xf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function qB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RP(r.transform,i||null);s!=null&&(n===null&&(n=Qr.empty()),n.set(r.field,s))}return n||null}function XE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Du(n,r,(i,s)=>YB(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kh extends Eg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class na extends Eg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JE(t,e,n){const r=new Map;pn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zB(o,a,n[i]))}return r}function ZE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,WB(s,o,e))}return r}class i_ extends Eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QB extends Eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&GB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ud(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ud(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$P(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wt())}isEqual(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,(n,r)=>XE(n,r))&&Du(this.baseMutations,e.baseMutations,(n,r)=>XE(n,r))}}class s_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pn(e.mutations.length===r.length);let i=FB;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new s_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,It;function ej(t){switch(t){default:return st();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function UP(t){if(t===void 0)return Gs("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Ln.OK:return ve.OK;case Ln.CANCELLED:return ve.CANCELLED;case Ln.UNKNOWN:return ve.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return ve.INTERNAL;case Ln.UNAVAILABLE:return ve.UNAVAILABLE;case Ln.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Ln.NOT_FOUND:return ve.NOT_FOUND;case Ln.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Ln.ABORTED:return ve.ABORTED;case Ln.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Ln.DATA_LOSS:return ve.DATA_LOSS;default:return st()}}(It=Ln||(Ln={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return wf}static getOrCreateInstance(){return wf===null&&(wf=new o_),wf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let wf=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new uu([4294967295,4294967295],0);function eS(t){const e=tj().encode(t),n=new oB;return n.update(e),new Uint8Array(n.digest())}function tS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uu([n,r],0),new uu([i,s],0)]}class a_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bc(`Invalid padding: ${n}`);if(r<0)throw new Bc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=uu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(uu.fromNumber(r)));return i.compare(nj)===1&&(i=new uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=eS(e),[r,i]=tS(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new a_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=eS(e),[r,i]=tS(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sg(ft.min(),i,new Hn(Ft),Xs(),wt())}}class xh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xh(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class FP{constructor(e,n){this.targetId=e,this.Vt=n}}class VP{constructor(e,n,r=vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nS{constructor(){this.St=0,this.Dt=iS(),this.Ct=vi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wt(),n=wt(),r=wt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:st()}}),new xh(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=iS()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xs(),this.zt=rS(),this.Wt=new Hn(Ft)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:st()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(O0(o))if(i===0){const a=new Ze(o.path);this.Yt(r,a,Tr.newNoDocument(a,ft.min()))}else pn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=o_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,p,m,y,_;const v={localCacheCount:c,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(v.bloomFilter={applied:u===0,hashCount:(h=b==null?void 0:b.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(p=(f=b==null?void 0:b.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(_=(y=b==null?void 0:b.bits)===null||y===void 0?void 0:y.padding)!==null&&_!==void 0?_:0}),v}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Qa(s).toUint8Array()}catch(c){if(c instanceof mP)return xu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new a_(l,o,a)}catch(c){return xu(c instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&O0(a.target)){const l=new Ze(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Tr.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=wt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Sg(e,n,this.Wt,this.jt,r);return this.jt=Xs(),this.zt=rS(),this.Wt=new Hn(Ft),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new nS,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new pi(Ft),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ze("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nS),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rS(){return new Hn(Ze.comparator)}function iS(){return new Hn(Ze.comparator)}const ij=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),sj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),oj=(()=>({and:"AND",or:"OR"}))();class aj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $0(t,e){return t.useProto3Json||vg(e)?e:{value:e}}function zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lj(t,e){return zp(t,e.toTimestamp())}function ms(t){return pn(!!t),ft.fromTimestamp(function(e){const n=Yo(e);return new jn(n.seconds,n.nanos)}(t))}function l_(t,e){return function(n){return new xn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function jP(t){const e=xn.fromString(t);return pn(YP(e)),e}function L0(t,e){return l_(t.databaseId,e.path)}function Mv(t,e){const n=jP(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ze(HP(n))}function U0(t,e){return l_(t.databaseId,e)}function uj(t){const e=jP(t);return e.length===4?xn.emptyPath():HP(e)}function F0(t){return new xn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HP(t){return pn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sS(t,e,n){return{name:L0(t,e),fields:n.value.mapValue.fields}}function cj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:st()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(pn(u===void 0||typeof u=="string"),vi.fromBase64String(u||"")):(pn(u===void 0||u instanceof Uint8Array),vi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?ve.UNKNOWN:UP(l.code);return new xe(u,l.message||"")}(o);n=new VP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mv(t,r.document.name),s=ms(r.document.updateTime),o=r.document.createTime?ms(r.document.createTime):ft.min(),a=new Qr({mapValue:{fields:r.document.fields}}),l=Tr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mv(t,r.document),s=r.readTime?ms(r.readTime):ft.min(),o=Tr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mv(t,r.document),s=r.removedTargetIds||[];n=new Jf([],s,i,null)}else{if(!("filter"in e))return st();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ZB(i,s),a=r.targetId;n=new FP(a,o)}}return n}function dj(t,e){let n;if(e instanceof kh)n={update:sS(t,e.key,e.value)};else if(e instanceof i_)n={delete:L0(t,e.key)};else if(e instanceof na)n={update:sS(t,e.key,e.data),updateMask:bj(e.fieldMask)};else{if(!(e instanceof QB))return st();n={verify:L0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Hp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Xd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Jd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wp)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw st()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:lj(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:st()}(t,e.precondition)),n}function hj(t,e){return t&&t.length>0?(pn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?ms(r.updateTime):ms(i);return s.isEqual(ft.min())&&(s=ms(i)),new KB(s,r.transformResults||[])}(n,e))):[]}function fj(t,e){return{documents:[U0(t,e.path)]}}function pj(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=U0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=U0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return zP(qs.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ul(c.field),direction:vj(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$0(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function mj(t){let e=uj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=WP(c);return d instanceof qs&&_P(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new cu(Fl(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,vg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Ou(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Ou(h,d)}(n.endAt)),MB(e,i,o,s,a,"F",l,u)}function gj(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WP(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Fl(e.unaryFilter.field);return er.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Fl(e.unaryFilter.field);return er.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fl(e.unaryFilter.field);return er.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fl(e.unaryFilter.field);return er.create(s,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(t):t.fieldFilter!==void 0?function(e){return er.create(Fl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return qs.create(e.compositeFilter.filters.map(n=>WP(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(t):st()}function vj(t){return ij[t]}function yj(t){return sj[t]}function wj(t){return oj[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function Fl(t){return _s.fromServerFormat(t.fieldPath)}function zP(t){return t instanceof er?function(e){if(e.op==="=="){if(zE(e.value))return{unaryFilter:{field:Ul(e.field),op:"IS_NAN"}};if(WE(e.value))return{unaryFilter:{field:Ul(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zE(e.value))return{unaryFilter:{field:Ul(e.field),op:"IS_NOT_NAN"}};if(WE(e.value))return{unaryFilter:{field:Ul(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(e.field),op:yj(e.op),value:e.value}}}(t):t instanceof qs?function(e){const n=e.getFilters().map(r=>zP(r));return n.length===1?n[0]:{compositeFilter:{op:wj(e.op),filters:n}}}(t):st()}function bj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_=class jc{constructor(e,n,r,i,s=ft.min(),o=ft.min(),a=vi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _j=class{constructor(e){this.fe=e}};function Tj(t){const e=mj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ej=class{constructor(){this.rn=new Sj}addToCollectionParentIndex(e,n){return this.rn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(Kd.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(Kd.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}},Sj=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pi(xn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pi(xn.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0=class B0{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new B0(0)}static Mn(){return new B0(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ij=class{constructor(){this.changes=new sc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aj=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ud(r.mutation,i,us.empty(),jn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,wt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=wt()){const i=Ia();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ia();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,wt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xs();const o=ld(),a=ld();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof na)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ud(c.mutation,u,c.mutation.getFieldMask(),jn.now())):o.set(u.key,us.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Cj(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ld();let i=new Hn((o,a)=>o-a),s=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||us.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||wt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=xP();c.forEach(h=>{if(!s.has(h)){const f=$P(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ae.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ze.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ae.resolve(Ia());let a=-1,l=s;return o.next(u=>Ae.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Ae.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,wt())).next(c=>({batchId:a,changes:kP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ze(n)).next(r=>{let i=Vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Vc();return this.indexManager.getCollectionParents(e,i).next(o=>Ae.forEach(o,a=>{const l=function(u,c){return new hl(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Tr.newInvalidDocument(u)))});let o=Vc();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&ud(u.mutation,l,us.empty(),jn.now()),_g(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kj=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ae.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ms(r.createTime)}),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:Tj(r.bundledQuery),readTime:ms(r.readTime)}}(n)),Ae.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xj=class{constructor(){this.overlays=new Hn(Ze.comparator),this.ls=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ia();return Ae.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=Ia(),s=n.length+1,o=new Ze(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Hn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ia(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ia(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ae.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JB(n,r));let s=this.ls.get(n);s===void 0&&(s=wt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.fs=new pi(Jn.ds),this.ws=new pi(Jn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Jn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Jn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ze(new xn([])),r=new Jn(n,e),i=new Jn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ze(new xn([])),r=new Jn(n,e),i=new Jn(n,e+1);let s=wt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Jn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ze.comparator(e.key,n.key)||Ft(e.As,n.As)}static _s(e,n){return Ft(e.As,n.As)||Ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new pi(Jn.ds)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new XB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Jn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ae.resolve(o)}lookupMutationBatch(e,n){return Ae.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jn(n,0),i=new Jn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pi(Ft);return n.forEach(i=>{const s=new Jn(i,0),o=new Jn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ze.isDocumentKey(s)||(s=s.child(""));const o=new Jn(new Ze(s),0);let a=new pi(Ft);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Ae.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Ae.forEach(n.mutations,i=>{const s=new Jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Jn(n,0),i=this.Rs.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.Ds=e,this.docs=new Hn(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=Xs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tr.newInvalidDocument(i))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xs();const o=n.path,a=new Ze(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||yB(vB(c),r)<=0||(i.has(c.key)||_g(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ae.resolve(s)}getAllFromCollectionGroup(e,n,r,i){st()}Cs(e,n){return Ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rj(this)}getSize(e){return Ae.resolve(this.size)}}class Rj extends Ij{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Ae.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.persistence=e,this.xs=new sc(n=>Zb(n),e_),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Ns=0,this.ks=new c_,this.targetCount=0,this.Ms=V0.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Ae.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new V0(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Fn(n),Ae.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ae.waitFor(s).next(()=>i)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ae.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qb(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Oj(this),this.indexManager=new Ej,this.remoteDocumentCache=function(r){return new Pj(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new _j(n),this.qs=new kj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Dj(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){ze("MemoryPersistence","Starting transaction:",e);const i=new Mj(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Mj extends bB{constructor(e){super(),this.currentSequenceNumber=e}}class d_{constructor(e){this.persistence=e,this.Qs=new c_,this.js=null}static zs(e){return new d_(e)}get Ws(){if(this.js)return this.js;throw st()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Ws,r=>{const i=Ze.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ft.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ae.or([()=>Ae.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=wt(),i=wt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new h_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(qE(n))return Ae.resolve(null);let r=Qs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jp(n,null,"F"),r=Qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=wt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,jp(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return qE(n)||i.isEqual(ft.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(VE()<=Rt.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),M0(n)),this.Wi(e,o,n,gB(i,-1)))})}ji(e,n){let r=new pi(CP(e));return n.forEach((i,s)=>{_g(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return VE()<=Rt.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",M0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kd.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Hn(Ft),this.Yi=new sc(s=>Zb(s),e_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Uj(t,e,n,r){return new Lj(t,e,n,r)}async function KP(t,e){const n=ht(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=wt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function Fj(t,e){const n=ht(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=Ae.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);pn(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=wt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GP(t){const e=ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Vj(t,e){const n=ht(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(vi.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,m,y){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=Xs(),u=wt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Bj(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ft.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ae.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Bj(t,e,n){let r=wt(),i=wt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xs();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ft.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function jj(t,e){const n=ht(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hj(t,e){const n=ht(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Ae.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new u_(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function j0(t,e,n){const r=ht(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ah(o))throw o;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function oS(t,e,n){const r=ht(t);let i=ft.min(),s=wt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ht(a),d=c.Yi.get(u);return d!==void 0?Ae.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,Qs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ft.min(),n?s:wt())).next(a=>(Wj(r,$B(e),a),{documents:a,ir:s})))}function Wj(t,e,n){let r=t.Xi.get(e)||ft.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class aS{constructor(){this.activeTargetIds=jB()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zj{constructor(){this.Hr=new aS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new aS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=null;function $v(){return bf===null?bf=268435456+Math.round(2147483648*Math.random()):bf++,"0x"+bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="WebChannelConnection";class qj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=$v(),a=this.To(e,n);ze("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(ze("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw xu("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ic,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=Kj[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=$v();return new Promise((o,a)=>{const l=new sB;l.setWithCredentials(!0),l.listenOnce(nB.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Nv.NO_ERROR:const c=l.getResponseJson();ze(yr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Nv.TIMEOUT:ze(yr,`RPC '${e}' ${s} timed out`),a(new xe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Nv.HTTP_ERROR:const d=l.getStatus();if(ze(yr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(y)>=0?y:ve.UNKNOWN}(f.status);a(new xe(p,f.message))}else a(new xe(ve.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new xe(ve.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{ze(yr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ze(yr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=$v(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eB(),a=tB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new iB({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ze(yr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new Gj({ro:y=>{f?ze(yr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ze(yr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ze(yr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,_,v)=>{y.listen(_,b=>{try{v(b)}catch(g){setTimeout(()=>{throw g},0)}})};return m(d,gf.EventType.OPEN,()=>{f||ze(yr,`RPC '${e}' stream ${i} transport opened.`)}),m(d,gf.EventType.CLOSE,()=>{f||(f=!0,ze(yr,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,gf.EventType.ERROR,y=>{f||(f=!0,xu(yr,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new xe(ve.UNAVAILABLE,"The operation could not be completed")))}),m(d,gf.EventType.MESSAGE,y=>{var _;if(!f){const v=y.data[0];pn(!!v);const b=v,g=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(g){ze(yr,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let T=function(A){const k=Ln[A];if(k!==void 0)return UP(k)}(w),R=g.message;T===void 0&&(T=ve.INTERNAL,R="Unknown error status: "+w+" with message "+g.message),f=!0,p.wo(new xe(T,R)),d.close()}else ze(yr,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),m(a,rB.STAT_EVENT,y=>{y.stat===UE.PROXY?ze(yr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===UE.NOPROXY&&ze(yr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Lv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t){return new aj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qP(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Gs(n.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new xe(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qj extends QP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=cj(this.serializer,e),r=function(i){if(!("targetChange"in i))return ft.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ft.min():s.readTime?ms(s.readTime):ft.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=F0(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=O0(a)?{documents:fj(i,a)}:{query:pj(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=BP(i,s.resumeToken);const l=$0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ft.min())>0){o.readTime=zp(i,s.snapshotVersion.toTimestamp());const l=$0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=gj(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=F0(this.serializer),n.removeTarget=e,this.Wo(n)}}class Xj extends QP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=hj(e.writeResults,e.commitTime),r=ms(e.commitTime);return this.listener.cu(r,n)}return pn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=F0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dj(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new xe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(ve.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(ve.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Zj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gs(n),this.mu=!1):ze("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{fl(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ht(a);l.vu.add(4),await Dh(l),l.bu.set("Unknown"),l.vu.delete(4),await Cg(l)}(this))})}),this.bu=new Zj(r,i)}}async function Cg(t){if(fl(t))for(const e of t.Ru)await e(!0)}async function Dh(t){for(const e of t.Ru)await e(!1)}function XP(t,e){const n=ht(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),m_(n)?p_(n):oc(n).Ko()&&f_(n,e))}function JP(t,e){const n=ht(t),r=oc(n);n.Au.delete(e),r.Ko()&&ZP(n,e),n.Au.size===0&&(r.Ko()?r.jo():fl(n)&&n.bu.set("Unknown"))}function f_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).su(e)}function ZP(t,e){t.Vu.qt(e),oc(t).iu(e)}function p_(t){t.Vu=new rj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.bu.gu()}function m_(t){return fl(t)&&!oc(t).Uo()&&t.Au.size>0}function fl(t){return ht(t).vu.size===0}function eR(t){t.Vu=void 0}async function tH(t){t.Au.forEach((e,n)=>{f_(t,e)})}async function nH(t,e){eR(t),m_(t)?(t.bu.Iu(e),p_(t)):t.bu.set("Unknown")}async function rH(t,e,n){if(t.bu.set("Online"),e instanceof VP&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yp(t,r)}else if(e instanceof Jf?t.Vu.Ht(e):e instanceof FP?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ft.min()))try{const r=await GP(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(vi.EMPTY_BYTE_STRING,u.snapshotVersion)),ZP(i,a);const c=new u_(u.target,a,l,u.sequenceNumber);f_(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),await Yp(t,r)}}async function Yp(t,e,n){if(!Ah(e))throw e;t.vu.add(1),await Dh(t),t.bu.set("Offline"),n||(n=()=>GP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ze("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Cg(t)})}function tR(t,e){return e().catch(n=>Yp(t,n,e))}async function Ag(t){const e=ht(t),n=Ko(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;iH(e);)try{const i=await jj(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,sH(e,i)}catch(i){await Yp(e,i)}nR(e)&&rR(e)}function iH(t){return fl(t)&&t.Eu.length<10}function sH(t,e){t.Eu.push(e);const n=Ko(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function nR(t){return fl(t)&&!Ko(t).Uo()&&t.Eu.length>0}function rR(t){Ko(t).start()}async function oH(t){Ko(t).hu()}async function aH(t){const e=Ko(t);for(const n of t.Eu)e.uu(n.mutations)}async function lH(t,e,n){const r=t.Eu.shift(),i=s_.from(r,e,n);await tR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ag(t)}async function uH(t,e){e&&Ko(t).ou&&await async function(n,r){if(i=r.code,ej(i)&&i!==ve.ABORTED){const s=n.Eu.shift();Ko(n).Qo(),await tR(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ag(n)}var i}(t,e),nR(t)&&rR(t)}async function uS(t,e){const n=ht(t);n.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=fl(n);n.vu.add(3),await Dh(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Cg(n)}async function cH(t,e){const n=ht(t);e?(n.vu.delete(2),await Cg(n)):e||(n.vu.add(2),await Dh(n),n.bu.set("Unknown"))}function oc(t){return t.Su||(t.Su=function(e,n,r){const i=ht(e);return i.fu(),new Qj(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:tH.bind(null,t),ao:nH.bind(null,t),nu:rH.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),m_(t)?p_(t):t.bu.set("Unknown")):(await t.Su.stop(),eR(t))})),t.Su}function Ko(t){return t.Du||(t.Du=function(e,n,r){const i=ht(e);return i.fu(),new Xj(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:oH.bind(null,t),ao:uH.bind(null,t),au:aH.bind(null,t),cu:lH.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Ag(t)):(await t.Du.stop(),t.Eu.length>0&&(ze("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new g_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(t,e){if(Gs("AsyncQueue",`${e}: ${t}`),Ah(t))return new xe(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=Vc(),this.sortedSet=new Hn(this.comparator)}static emptySet(e){return new du(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.Cu=new Hn(Ze.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):st():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Nu(e,n,du.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this.Nu=void 0,this.listeners=[]}}class hH{constructor(){this.queries=new sc(e=>IP(e),bg),this.onlineState="Unknown",this.ku=new Set}}async function iR(t,e){const n=ht(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new dH),i)try{s.Nu=await n.onListen(r)}catch(o){const a=v_(o,`Initialization of query '${M0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&y_(n)}async function sR(t,e){const n=ht(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fH(t,e){const n=ht(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&y_(n)}function pH(t,e,n){const r=ht(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function y_(t){t.ku.forEach(e=>{e.next()})}class oR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.key=e}}class lR{constructor(e){this.key=e}}class mH{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wt(),this.mutatedKeys=wt(),this.tc=CP(e),this.ec=new du(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new cS,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=_g(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Nu(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new lR(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new aR(r))}),n}hc(e){this.Yu=e.ir,this.Zu=wt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Nu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class gH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vH{constructor(e){this.key=e,this.fc=!1}}class yH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new sc(a=>IP(a),bg),this._c=new Map,this.mc=new Set,this.gc=new Hn(Ze.comparator),this.yc=new Map,this.Ic=new c_,this.Tc={},this.Ec=new Map,this.Ac=V0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function wH(t,e){const n=xH(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Hj(n.localStore,Qs(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await bH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&XP(n.remoteStore,o)}return i}async function bH(t,e,n,r,i){t.Rc=(d,h,f)=>async function(p,m,y,_){let v=m.view.sc(y);v.zi&&(v=await oS(p.localStore,m.query,!1).then(({documents:w})=>m.view.sc(w,v)));const b=_&&_.targetChanges.get(m.targetId),g=m.view.applyChanges(v,p.isPrimaryClient,b);return hS(p,m.targetId,g.cc),g.snapshot}(t,d,h,f);const s=await oS(t.localStore,e,!0),o=new mH(e,s.ir),a=o.sc(s.documents),l=xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);hS(t,n,u.cc);const c=new gH(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function _H(t,e){const n=ht(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!bg(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await j0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),JP(n.remoteStore,r.targetId),H0(n,r.targetId)}).catch(Ch)):(H0(n,r.targetId),await j0(n.localStore,r.targetId,!0))}async function TH(t,e,n){const r=DH(t);try{const i=await function(s,o){const a=ht(s),l=jn.now(),u=o.reduce((h,f)=>h.add(f.key),wt());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Xs(),p=wt();return a.Zi.getEntries(h,u).next(m=>{f=m,f.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const y=[];for(const _ of o){const v=qB(_,c.get(_.key).overlayedDocument);v!=null&&y.push(new na(_.key,v,gP(v.value.mapValue),xi.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:kP(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Hn(Ft)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ph(r,i.changes),await Ag(r.remoteStore)}catch(i){const s=v_(i,"Failed to persist write");n.reject(s)}}async function uR(t,e){const n=ht(t);try{const r=await Vj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?pn(o.fc):i.removedDocuments.size>0&&(pn(o.fc),o.fc=!1))}),await Ph(n,r,e)}catch(r){await Ch(r)}}function dS(t,e,n){const r=ht(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ht(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&y_(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EH(t,e,n){const r=ht(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Hn(Ze.comparator);o=o.insert(s,Tr.newNoDocument(s,ft.min()));const a=wt().add(s),l=new Sg(ft.min(),new Map,new Hn(Ft),o,a);await uR(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),w_(r)}else await j0(r.localStore,e,!1).then(()=>H0(r,e,n)).catch(Ch)}async function SH(t,e){const n=ht(t),r=e.batch.batchId;try{const i=await Fj(n.localStore,e);dR(n,r,null),cR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ph(n,i)}catch(i){await Ch(i)}}async function IH(t,e,n){const r=ht(t);try{const i=await function(s,o){const a=ht(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(pn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);dR(r,e,n),cR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ph(r,i)}catch(i){await Ch(i)}}function cR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function dR(t,e,n){const r=ht(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function H0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||hR(t,r)})}function hR(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(JP(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),w_(t))}function hS(t,e,n){for(const r of n)r instanceof aR?(t.Ic.addReference(r.key,e),CH(t,r)):r instanceof lR?(ze("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||hR(t,r.key)):st()}function CH(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ze("SyncEngine","New document in limbo: "+n),t.mc.add(r),w_(t))}function w_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ze(xn.fromString(e)),r=t.Ac.next();t.yc.set(r,new vH(n)),t.gc=t.gc.insert(n,r),XP(t.remoteStore,new u_(Qs(t_(n.path)),r,"TargetPurposeLimboResolution",Qb.ct))}}async function Ph(t,e,n){const r=ht(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=h_.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=ht(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Ae.forEach(l,d=>Ae.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>Ae.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Ah(c))throw c;ze("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function AH(t,e){const n=ht(t);if(!n.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=await KP(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new xe(ve.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ph(n,r.er)}}function kH(t,e){const n=ht(t),r=n.yc.get(e);if(r&&r.fc)return wt().add(r.key);{let i=wt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function xH(t){const e=ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EH.bind(null,e),e.dc.nu=fH.bind(null,e.eventManager),e.dc.Pc=pH.bind(null,e.eventManager),e}function DH(t){const e=ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IH.bind(null,e),e}let fS=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ig(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Uj(this.persistence,new $j,e.initialUser,this.serializer)}createPersistence(e){return new Nj(d_.zs,this.serializer)}createSharedClientState(e){return new zj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},PH=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AH.bind(null,this.syncEngine),await cH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hH}createDatastore(e){const n=Ig(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new qj(i));var i;return function(s,o,a,l){return new Jj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>dS(this.syncEngine,a,0),o=lS.D()?new lS:new Yj,new eH(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new yH(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ht(e);ze("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Dh(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fR=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=hP.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ze("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ze("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=v_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uv(t,e){t.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NH(t);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>uS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>uS(e.remoteStore,s)),t._onlineComponents=e}function OH(t){return t.name==="FirebaseError"?t.code===ve.FAILED_PRECONDITION||t.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function NH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!OH(n))throw n;xu("Error using user provided cache. Falling back to memory cache: "+n),await Uv(t,new fS)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),await Uv(t,new fS);return t._offlineComponents}async function pR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),await pS(t,t._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),await pS(t,new PH))),t._onlineComponents}function MH(t){return pR(t).then(e=>e.syncEngine)}async function mR(t){const e=await pR(t),n=e.eventManager;return n.onListen=wH.bind(null,e.syncEngine),n.onUnlisten=_H.bind(null,e.syncEngine),n}function $H(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new fR({next:d=>{s.enqueueAndForget(()=>sR(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new xe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new xe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new oR(t_(o.path),u,{includeMetadataChanges:!0,Ku:!0});return iR(i,c)}(await mR(t),t.asyncQueue,e,n,r)),r.promise}function LH(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new fR({next:d=>{s.enqueueAndForget(()=>sR(i,c)),d.fromCache&&a.source==="server"?l.reject(new xe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new oR(o,u,{includeMetadataChanges:!0,Ku:!0});return iR(i,c)}(await mR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t,e,n){if(!n)throw new xe(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UH(t,e,n,r){if(e===!0&&r===!0)throw new xe(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gS(t){if(!Ze.isDocumentKey(t))throw new xe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vS(t){if(Ze.isDocumentKey(t))throw new xe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":st()}function Ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kg(t);throw new xe(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function FH(t,e){if(e<=0)throw new xe(ve.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new xe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class xg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new xe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new aB;switch(n.type){case"firstParty":return new dB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new xe(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mS.get(e);n&&(ze("ComponentProvider","Removing Datastore"),mS.delete(e),n.terminate())}(this),Promise.resolve()}}function VH(t,e,n,r={}){var i;const s=(t=Ji(t,xg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=_r.MOCK_USER;else{a=lx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new xe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _r(u)}t._authCredentials=new lB(new dP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jr(this.firestore,e,this._key)}}class ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class Mo extends ro{constructor(e,n,r){super(e,n,t_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jr(this.firestore,null,new Ze(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function $i(t,e,...n){if(t=Vt(t),vR("collection","path",e),t instanceof xg){const r=xn.fromString(e,...n);return vS(r),new Mo(t,null,r)}{if(!(t instanceof jr||t instanceof Mo))throw new xe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xn.fromString(e,...n));return vS(r),new Mo(t.firestore,null,r)}}function $t(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=hP.A()),vR("doc","path",e),t instanceof xg){const r=xn.fromString(e,...n);return gS(r),new jr(t,null,new Ze(r))}{if(!(t instanceof jr||t instanceof Mo))throw new xe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xn.fromString(e,...n));return gS(r),new jr(t.firestore,t instanceof Mo?t.converter:null,new Ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qP(this,"async_queue_retry"),this.Xc=()=>{const n=Lv();n&&ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Lv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Lv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Hs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ah(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Gs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=g_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&st()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class pl extends xg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new BH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yR(this),this._firestoreClient.terminate()}}function jH(t,e){const n=typeof t=="object"?t:tc(),r=typeof t=="string"?t:e||"(default)",i=Cs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sx("firestore");s&&VH(i,...s)}return i}function b_(t){return t._firestoreClient||yR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yR(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new EB(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,gR(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new RH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mu(vi.fromBase64String(e))}catch(n){throw new xe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mu(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _s(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=/^__.*__$/;class WH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,n,this.fieldTransforms):new kh(e,this.data,n,this.fieldTransforms)}}class wR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class E_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new E_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(bR(this.ca)&&HH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ig(e)}ya(e,n,r,i=!1){return new E_({ca:e,methodName:n,ga:r,path:_s.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(t){const e=t._freezeSettings(),n=Ig(t._databaseId);return new zH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _R(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);S_("Data must be an object, but it was:",o,r);const a=IR(r,o);let l,u;if(s.merge)l=new us(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=W0(e,d,n);if(!o.contains(h))throw new xe(ve.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);AR(c,h)||c.push(h)}l=new us(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new WH(new Qr(a),l,u)}let TR=class ER extends __{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ER}};function YH(t,e,n,r){const i=t.ya(1,e,n);S_("Data must be an object, but it was:",i,r);const s=[],o=Qr.empty();dl(r,(l,u)=>{const c=I_(e,l,n);u=Vt(u);const d=i.da(c);if(u instanceof TR)s.push(c);else{const h=Oh(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new us(s);return new wR(o,a,i.fieldTransforms)}function KH(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[W0(e,r,n)],l=[i];if(s.length%2!=0)throw new xe(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(W0(e,s[h])),l.push(s[h+1]);const u=[],c=Qr.empty();for(let h=a.length-1;h>=0;--h)if(!AR(u,a[h])){const f=a[h];let p=l[h];p=Vt(p);const m=o.da(f);if(p instanceof TR)u.push(f);else{const y=Oh(p,m);y!=null&&(u.push(f),c.set(f,y))}}const d=new us(u);return new wR(c,d,o.fieldTransforms)}function SR(t,e,n,r=!1){return Oh(n,t.ya(r?4:3,e))}function Oh(t,e){if(CR(t=Vt(t)))return S_("Unsupported field value:",e,t),IR(t,e);if(t instanceof __)return function(n,r){if(!bR(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Oh(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return HB(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=jn.fromDate(n);return{timestampValue:zp(r.serializer,i)}}if(n instanceof jn){const i=new jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zp(r.serializer,i)}}if(n instanceof T_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Mu)return{bytesValue:BP(r.serializer,n._byteString)};if(n instanceof jr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:l_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${kg(n)}`)}(t,e)}function IR(t,e){const n={};return pP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(t,(r,i)=>{const s=Oh(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jn||t instanceof T_||t instanceof Mu||t instanceof jr||t instanceof __)}function S_(t,e,n){if(!CR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=kg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function W0(t,e,n){if((e=Vt(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return I_(t,e);throw Kp("Field path arguments must be of type string or ",t,!1,void 0,n)}const GH=new RegExp("[~\\*/\\[\\]]");function I_(t,e,n){if(e.search(GH)>=0)throw Kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw Kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new xe(ve.INVALID_ARGUMENT,a+t+l)}function AR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},qH=class extends C_{data(){return super.data()}};function Pg(t,e){return typeof e=="string"?I_(t,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let A_=class{},Rg=class extends A_{};function XH(t,e,...n){let r=[];e instanceof A_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof JH).length,o=i.filter(a=>a instanceof kR).length;if(s>1||s>0&&o>0)throw new xe(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let kR=class xR extends Rg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xR(e,n,r)}_apply(e){const n=this._parse(e);return NR(e._query,n),new ro(e.firestore,e.converter,N0(e._query,n))}_parse(e){const n=Rh(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new xe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){TS(c,u);const h=[];for(const f of c)h.push(_S(a,i,f));d={arrayValue:{values:h}}}else d=_S(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||TS(c,u),d=SR(o,s,c,u==="in"||u==="not-in");return er.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function wS(t,e,n){const r=e,i=Pg("where",t);return kR._create(i,r,n)}let JH=class DR extends A_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new DR(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)NR(s,a),s=N0(s,a)}(e._query,n),new ro(e.firestore,e.converter,N0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},ZH=class PR extends Rg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new PR(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new xe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new xe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new cu(i,s);return function(a,l){if(n_(a)===null){const u=wg(a);u!==null&&MR(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new hl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function bS(t,e="asc"){const n=e,r=Pg("orderBy",t);return ZH._create(r,n)}let e9=class RR extends Rg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new RR(e,n,r)}_apply(e){return new ro(e.firestore,e.converter,jp(e._query,this._limit,this._limitType))}};function t9(t){return FH("limit",t),e9._create("limit",t,"F")}let n9=class OR extends Rg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new OR(e,n,r)}_apply(e){const n=i9(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,function(r,i){return new hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}};function r9(...t){return n9._create("startAfter",t,!1)}function i9(t,e,n,r){if(n[0]=Vt(n[0]),n[0]instanceof C_)return function(i,s,o,a,l){if(!a)throw new xe(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Pa(i))if(c.field.isKeyField())u.push(Bp(s,a.key));else{const d=a.data.field(c.field);if(yg(d))throw new xe(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new xe(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new Ou(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Rh(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new xe(ve.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<u.length;f++){const p=u[f];if(d[f].field.isKeyField()){if(typeof p!="string")throw new xe(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!r_(s)&&p.indexOf("/")!==-1)throw new xe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(xn.fromString(p));if(!Ze.isDocumentKey(m))throw new xe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const y=new Ze(m);h.push(Bp(o,y))}else{const m=SR(a,l,p);h.push(m)}}return new Ou(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function _S(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new xe(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r_(e)&&n.indexOf("/")!==-1)throw new xe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xn.fromString(n));if(!Ze.isDocumentKey(r))throw new xe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bp(t,new Ze(r))}if(n instanceof jr)return Bp(t,n._key);throw new xe(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kg(n)}.`)}function TS(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NR(t,e){if(e.isInequality()){const r=wg(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new xe(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=n_(t);s!==null&&MR(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new xe(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function MR(t,e,n){if(!n.isEqual(e))throw new xe(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let s9=class{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw st()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new T_(Vn(e.latitude),Vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gd(e));default:return null}}convertTimestamp(e){const n=Yo(e);return new jn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xn.fromString(e);pn(YP(r));const i=new qd(r.get(1),r.get(3)),s=new Ze(r.popFirst(5));return i.isEqual(n)||Gs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LR extends C_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zf extends LR{data(e={}){return super.data(e)}}class o9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zf(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Zf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Hc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Zf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Hc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:a9(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){t=Ji(t,jr);const e=Ji(t.firestore,pl);return $H(b_(e),t._key).then(n=>p9(e,t,n))}class UR extends s9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,n)}}function u9(t){t=Ji(t,ro);const e=Ji(t.firestore,pl),n=b_(e),r=new UR(e);return QH(t._query),LH(n,t._query).then(i=>new o9(e,r,t,i))}function c9(t,e,n){t=Ji(t,jr);const r=Ji(t.firestore,pl),i=$R(t.converter,e,n);return Og(r,[_R(Rh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xi.none())])}function d9(t,e,n,...r){t=Ji(t,jr);const i=Ji(t.firestore,pl),s=Rh(i);let o;return o=typeof(e=Vt(e))=="string"||e instanceof Dg?KH(s,"updateDoc",t._key,e,n,r):YH(s,"updateDoc",t._key,e),Og(i,[o.toMutation(t._key,xi.exists(!0))])}function h9(t){return Og(Ji(t.firestore,pl),[new i_(t._key,xi.none())])}function f9(t,e){const n=Ji(t.firestore,pl),r=$t(t),i=$R(t.converter,e);return Og(n,[_R(Rh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function Og(t,e){return function(n,r){const i=new Hs;return n.asyncQueue.enqueueAndForget(async()=>TH(await MH(n),r,i)),i.promise}(b_(t),e)}function p9(t,e,n){const r=n.docs.get(e._key),i=new UR(t);return new LR(t,i,e._key,r,new Hc(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ic=n})(Zo),ri(new Hr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new pl(new uB(n.getProvider("auth-internal")),new fB(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new xe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qd(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),gr(FE,"3.12.2",t),gr(FE,"3.12.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebasestorage.googleapis.com",VR="storageBucket",m9=2*60*1e3,g9=10*60*1e3,v9=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends yi{constructor(e,n,r=0){super(Fv(e),`Firebase Storage: ${n} (${Fv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mn||(mn={}));function Fv(t){return"storage/"+t}function k_(){const t="An unknown error occurred, please check the error payload for server response.";return new Sn(mn.UNKNOWN,t)}function y9(t){return new Sn(mn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function w9(t){return new Sn(mn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function b9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Sn(mn.UNAUTHENTICATED,t)}function _9(){return new Sn(mn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function T9(t){return new Sn(mn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function BR(){return new Sn(mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jR(){return new Sn(mn.CANCELED,"User canceled the upload/download.")}function E9(t){return new Sn(mn.INVALID_URL,"Invalid URL '"+t+"'.")}function S9(t){return new Sn(mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function I9(){return new Sn(mn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VR+"' property when initializing the app?")}function HR(){return new Sn(mn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C9(){return new Sn(mn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function A9(){return new Sn(mn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function k9(t){return new Sn(mn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function z0(t){return new Sn(mn.INVALID_ARGUMENT,t)}function WR(){return new Sn(mn.APP_DELETED,"The Firebase app was deleted.")}function x9(t){return new Sn(mn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cd(t,e){return new Sn(mn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vc(t){throw new Sn(mn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(r.path==="")return r;throw S9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(g){g.path_=decodeURIComponent(g.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===FR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let g=0;g<b.length;g++){const w=b[g],T=w.regex.exec(e);if(T){const R=T[w.indices.bucket];let A=T[w.indices.path];A||(A=""),r=new ui(R,A),w.postModify(r);break}}if(r==null)throw E9(e);return r}}class D9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,l())},y)}function h(){s&&clearTimeout(s)}function f(y,..._){if(u){h();return}if(y){h(),c.call(null,y,..._);return}if(l()||o){h(),c.call(null,y,..._);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let p=!1;function m(y){p||(p=!0,h(),!u&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function R9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){return t!==void 0}function N9(t){return typeof t=="function"}function M9(t){return typeof t=="object"&&!Array.isArray(t)}function Ng(t){return typeof t=="string"||t instanceof String}function ES(t){return x_()&&t instanceof Blob}function x_(){return typeof Blob<"u"&&!n3()}function SS(t,e,n,r){if(r<e)throw z0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw z0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function zR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ra||(Ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _f(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ra.NO_ERROR,l=s.getStatus();if(!a||YR(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ra.ABORT;r(!1,new _f(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new _f(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());O9(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=k_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?WR():jR();o(l)}else{const l=BR();o(l)}};this.canceled_?n(!1,new _f(!1,null,!0)):this.backoffId_=P9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _f{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function L9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function U9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function V9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function B9(t,e,n,r,i,s,o=!0){const a=zR(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return F9(u,e),L9(u,n),U9(u,s),V9(u,r),new $9(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function H9(...t){const e=j9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(x_())return new Blob(t);throw new Sn(mn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function W9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){if(typeof atob>"u")throw k9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vv{constructor(e,n){this.data=e,this.contentType=n||null}}function Y9(t,e){switch(t){case cs.RAW:return new Vv(KR(e));case cs.BASE64:case cs.BASE64URL:return new Vv(GR(t,e));case cs.DATA_URL:return new Vv(G9(e),q9(e))}throw k_()}function KR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function K9(t){let e;try{e=decodeURIComponent(t)}catch{throw cd(cs.DATA_URL,"Malformed data URL.")}return KR(e)}function GR(t,e){switch(t){case cs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw cd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case cs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw cd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=z9(e)}catch(i){throw i.message.includes("polyfill")?i:cd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cd(cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Q9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function G9(t){const e=new qR(t);return e.base64?GR(cs.BASE64,e.rest):K9(e.rest)}function q9(t){return new qR(t).contentType}function Q9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){let r=0,i="";ES(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ES(this.data_)){const r=this.data_,i=W9(r,e,n);return i===null?null:new _o(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _o(r,!0)}}static getBlob(...e){if(x_()){const n=e.map(r=>r instanceof _o?r.data_:r);return new _o(H9.apply(null,n))}else{const n=e.map(o=>Ng(o)?Y9(cs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new _o(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){let e;try{e=JSON.parse(t)}catch{return null}return M9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function J9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function XR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e){return e}class Nr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Z9}}let Tf=null;function eW(t){return!Ng(t)||t.length<2?t:XR(t)}function JR(){if(Tf)return Tf;const t=[];t.push(new Nr("bucket")),t.push(new Nr("generation")),t.push(new Nr("metageneration")),t.push(new Nr("name","fullPath",!0));function e(s,o){return eW(o)}const n=new Nr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Nr("size");return i.xform=r,t.push(i),t.push(new Nr("timeCreated")),t.push(new Nr("updated")),t.push(new Nr("md5Hash",null,!0)),t.push(new Nr("cacheControl",null,!0)),t.push(new Nr("contentDisposition",null,!0)),t.push(new Nr("contentEncoding",null,!0)),t.push(new Nr("contentLanguage",null,!0)),t.push(new Nr("contentType",null,!0)),t.push(new Nr("metadata","customMetadata",!0)),Tf=t,Tf}function tW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ui(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function nW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return tW(r,t),r}function ZR(t,e,n){const r=QR(e);return r===null?null:nW(t,r,n)}function rW(t,e,n,r){const i=QR(e);if(i===null||!Ng(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=ac(h,n,r),p=zR({alt:"media",token:u});return f+p})[0]}function eO(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ml{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){if(!t)throw k_()}function D_(t,e){function n(r,i){const s=ZR(t,i,e);return Ws(s!==null),s}return n}function iW(t,e){function n(r,i){const s=ZR(t,i,e);return Ws(s!==null),rW(s,i,t.host,t._protocol)}return n}function Nh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_9():i=b9():n.getStatus()===402?i=w9(t.bucket):n.getStatus()===403?i=T9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function P_(t){const e=Nh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=y9(t.path)),s.serverResponse=i.serverResponse,s}return n}function sW(t,e,n){const r=e.fullServerUrl(),i=ac(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ml(i,s,D_(t,n),o);return a.errorHandler=P_(e),a}function oW(t,e,n){const r=e.fullServerUrl(),i=ac(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ml(i,s,iW(t,n),o);return a.errorHandler=P_(e),a}function aW(t,e){const n=e.fullServerUrl(),r=ac(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new ml(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=P_(e),a}function lW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tO(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lW(null,e)),r}function uW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=tO(e,r,i),c=eO(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=_o.getBlob(d,r,h);if(f===null)throw HR();const p={name:u.fullPath},m=ac(s,t.host,t._protocol),y="POST",_=t.maxUploadRetryTime,v=new ml(m,y,D_(t,n),_);return v.urlParams=p,v.headers=o,v.body=f.uploadData(),v.errorHandler=Nh(e),v}class Gp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function R_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ws(!1)}return Ws(!!n&&(e||["active"]).indexOf(n)!==-1),n}function cW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=tO(e,r,i),a={name:o.fullPath},l=ac(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=eO(o,n),h=t.maxUploadRetryTime;function f(m){R_(m);let y;try{y=m.getResponseHeader("X-Goog-Upload-URL")}catch{Ws(!1)}return Ws(Ng(y)),y}const p=new ml(l,u,f,h);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=Nh(e),p}function dW(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=R_(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ws(!1)}d||Ws(!1);const h=Number(d);return Ws(!isNaN(h)),new Gp(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ml(n,o,s,a);return l.headers=i,l.errorHandler=Nh(e),l}const IS=256*1024;function hW(t,e,n,r,i,s,o,a){const l=new Gp(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw C9();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(m===null)throw HR();function y(g,w){const T=R_(g,["active","final"]),R=l.current+c,A=r.size();let k;return T==="final"?k=D_(e,s)(g,w):k=null,new Gp(R,A,T==="final",k)}const _="POST",v=e.maxUploadRetryTime,b=new ml(n,_,y,v);return b.headers=p,b.body=m.uploadData(),b.progressCallback=a||null,b.errorHandler=Nh(t),b}const qr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bv(t){switch(t){case"running":case"pausing":case"canceling":return qr.RUNNING;case"paused":return qr.PAUSED;case"success":return qr.SUCCESS;case"canceled":return qr.CANCELED;case"error":return qr.ERROR;default:return qr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,n,r){if(N9(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class pW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mW extends pW{initXhr(){this.xhr_.responseType="text"}}function ya(){return new mW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=JR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(mn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(YR(i.status,[]))if(s)i=BR();else{this.sleepTime=Math.max(this.sleepTime*2,v9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(mn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=cW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ya,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=dW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ya,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=IS*this._chunkMultiplier,n=new Gp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=hW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ya,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){IS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=sW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ya,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=uW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ya,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=jR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Bv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new fW(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Bv(this._state)){case qr.SUCCESS:Il(this._resolve.bind(null,this.snapshot))();break;case qr.CANCELED:case qr.ERROR:const n=this._reject;Il(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Bv(this._state)){case qr.RUNNING:case qr.PAUSED:e.next&&Il(e.next.bind(e,this.snapshot))();break;case qr.SUCCESS:e.complete&&Il(e.complete.bind(e))();break;case qr.CANCELED:case qr.ERROR:e.error&&Il(e.error.bind(e,this._error))();break;default:e.error&&Il(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ja(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XR(this._location.path)}get storage(){return this._service}get parent(){const e=X9(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new Ja(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x9(e)}}function vW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new gW(t,new _o(e),n)}function yW(t){t._throwIfRoot("getDownloadURL");const e=oW(t.storage,t._location,JR());return t.storage.makeRequestWithTokens(e,ya).then(n=>{if(n===null)throw A9();return n})}function wW(t){t._throwIfRoot("deleteObject");const e=aW(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ya)}function bW(t,e){const n=J9(t._location.path,e),r=new ui(t._location.bucket,n);return new Ja(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t){return/^[A-Za-z]+:\/\//.test(t)}function TW(t,e){return new Ja(t,e)}function nO(t,e){if(t instanceof O_){const n=t;if(n._bucket==null)throw I9();const r=new Ja(n,n._bucket);return e!=null?nO(r,e):r}else return e!==void 0?bW(t,e):t}function EW(t,e){if(e&&_W(e)){if(t instanceof O_)return TW(t,e);throw z0("To use ref(service, url), the first argument must be a Storage instance.")}else return nO(t,e)}function CS(t,e){const n=e==null?void 0:e[VR];return n==null?null:ui.makeFromBucketSpec(n,t)}function SW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lx(i,t.app.options.projectId))}class O_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=FR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m9,this._maxUploadRetryTime=g9,this._requests=new Set,i!=null?this._bucket=ui.makeFromBucketSpec(i,this._host):this._bucket=CS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=CS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ja(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new D9(WR());{const o=B9(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const AS="@firebase/storage",kS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="storage";function IW(t,e,n){return t=Vt(t),vW(t,e,n)}function CW(t){return t=Vt(t),yW(t)}function AW(t){return t=Vt(t),wW(t)}function kW(t,e){return t=Vt(t),EW(t,e)}function xW(t=tc(),e){t=Vt(t);const r=Cs(t,rO).getImmediate({identifier:e}),i=sx("storage");return i&&DW(r,...i),r}function DW(t,e,n,r={}){SW(t,e,n,r)}function PW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new O_(n,r,i,e,Zo)}function RW(){ri(new Hr(rO,PW,"PUBLIC").setMultipleInstances(!0)),gr(AS,kS,""),gr(AS,kS,"esm2017")}RW();const iO=1e3,Y0=iO*60,K0=Y0*60,qp=K0*24,Qp=qp*365,sO=async t=>{const e=await l9(t),n=e.data();return n?{id:e.id,...n}:null},Cl=async(t,e)=>{const n=await u9(e?XH(t,...e):t);return Promise.all(n.docs.map(r=>sO(r.ref)))},Ti=sO,OW=f9,Xp=c9,wo=d9,Wc=h9,G0=t=>kW(xW(),t),xS=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),NW=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},Yi=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!Yi(a,o[l])||o.some((u,c)=>!Yi(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!Yi(r,i))return!1}else if(r!==i)return!1}return!0},q0=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/Qp,o=r%Qp/qp,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}},ep=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},MW=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},mo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Vl=t=>Array.isArray(t)?t:[t],$W=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Q0=t=>t.join(", ").replace(/,([^,]*)$/," and$1");function N_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LW=oO,aO=new Jo("auth","Firebase",oO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new ec("@firebase/auth");function UW(t,...e){Jp.logLevel<=Rt.WARN&&Jp.warn(`Auth (${Zo}): ${t}`,...e)}function tp(t,...e){Jp.logLevel<=Rt.ERROR&&Jp.error(`Auth (${Zo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw M_(t,...e)}function gs(t,...e){return M_(t,...e)}function FW(t,e,n){const r=Object.assign(Object.assign({},LW()),{[e]:n});return new Jo("auth","Firebase",r).create(e,{appName:t.name})}function M_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aO.create(t,...e)}function et(t,e,...n){if(!t)throw M_(e,...n)}function $s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tp(e),new Error(e)}function Js(t,e){t||$s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VW(){return DS()==="http:"||DS()==="https:"}function DS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VW()||ux()||"connection"in navigator)?navigator.onLine:!0}function jW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Js(n>e,"Short delay should be less than long delay!"),this.isMobile=pb()||cx()}get(){return BW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t,e){Js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new Mh(3e4,6e4);function gl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vl(t,e,n,r,i={}){return uO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Zu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),lO.fetch()(cO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function uO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HW),e);try{const i=new zW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ef(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ef(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw FW(t,c,u);Zi(t,c)}}catch(i){if(i instanceof yi)throw i;Zi(t,"network-request-failed",{message:String(i)})}}async function $h(t,e,n,r,i={}){const s=await vl(t,e,n,r,i);return"mfaPendingCredential"in s&&Zi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$_(t.config,i):`${t.config.apiScheme}://${i}`}class zW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gs(this.auth,"network-request-failed")),WW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(t,e){return vl(t,"POST","/v1/accounts:delete",e)}async function KW(t,e){return vl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GW(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=L_(r);et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:dd(jv(i.auth_time)),issuedAtTime:dd(jv(i.iat)),expirationTime:dd(jv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jv(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=kp(n);return i?JSON.parse(i):(tp("Failed to decode base64 JWT payload"),null)}catch(i){return tp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qW(t){const e=L_(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&QW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $u(t,KW(n,{idToken:r}));et(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?e8(s.providerUserInfo):[],a=ZW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dO(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function JW(t){const e=Vt(t);await Zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function e8(t){return t.map(e=>{var{providerId:n}=e,r=N_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t,e){const n=await uO(t,{},async()=>{const r=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qW(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return et(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await t8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zd;return r&&(et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(et(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(et(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zd,this.toJSON())}_performRefresh(){return $s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=N_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dO(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $u(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GW(this,e)}reload(){return JW(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $u(this,YW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:g,isAnonymous:w,providerData:T,stsTokenManager:R}=n;et(b&&R,e,"internal-error");const A=Zd.fromJSON(this.name,R);et(typeof b=="string",e,"internal-error"),uo(d,e.name),uo(h,e.name),et(typeof g=="boolean",e,"internal-error"),et(typeof w=="boolean",e,"internal-error"),uo(f,e.name),uo(p,e.name),uo(m,e.name),uo(y,e.name),uo(_,e.name),uo(v,e.name);const k=new Oa({uid:b,auth:e,email:h,emailVerified:g,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:A,createdAt:_,lastLoginAt:v});return T&&Array.isArray(T)&&(k.providerData=T.map(S=>Object.assign({},S))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zd;i.updateFromServerResponse(n);const s=new Oa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;function Ls(t){Js(t instanceof Function,"Expected a class definition");let e=PS.get(t);return e?(Js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hO.type="NONE";const RS=hO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e,n){return`firebase:${t}:${e}:${n}`}class hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=np(this.userKey,i.apiKey,s),this.fullPersistenceKey=np("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hu(Ls(RS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ls(RS);const o=np(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Oa._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new hu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new hu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vO(e))return"Blackberry";if(yO(e))return"Webos";if(U_(e))return"Safari";if((e.includes("chrome/")||pO(e))&&!e.includes("edge/"))return"Chrome";if(gO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fO(t=Or()){return/firefox\//i.test(t)}function U_(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pO(t=Or()){return/crios\//i.test(t)}function mO(t=Or()){return/iemobile/i.test(t)}function gO(t=Or()){return/android/i.test(t)}function vO(t=Or()){return/blackberry/i.test(t)}function yO(t=Or()){return/webos/i.test(t)}function Mg(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n8(t=Or()){var e;return Mg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r8(){return r3()&&document.documentMode===10}function wO(t=Or()){return Mg(t)||gO(t)||yO(t)||vO(t)||/windows phone/i.test(t)||mO(t)}function i8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e=[]){let n;switch(t){case"Browser":n=OS(Or());break;case"Worker":n=`${OS(Or())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zo}/${r}`}async function _O(t,e){return vl(t,"GET","/v2/recaptchaConfig",gl(t,e))}function NS(t){return t!==void 0&&t.enterprise!==void 0}class TO{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function EO(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",s8().appendChild(r)})}function o8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const a8="https://www.google.com/recaptcha/enterprise.js?render=",l8="recaptcha-enterprise",u8="NO_RECAPTCHA";class SO{constructor(e){this.type=l8,this.auth=yl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{_O(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new TO(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;NS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(u8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&NS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}EO(a8+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Lu(t,e,n,r=!1){const i=new SO(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MS(this),this.idTokenSubscription=new MS(this),this.beforeStateQueue=new c8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ls(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await hu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Vt(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}async initializeRecaptchaConfig(){const e=await _O(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new TO(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new SO(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ls(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await hu.create(this,[Ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return et(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yl(t){return Vt(t)}class MS{constructor(e){this.auth=e,this.observer=null,this.addObserver=d3(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t,e){const n=Cs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Md(s,e??{}))return i;Zi(i,"already-initialized")}return n.initialize({options:e})}function f8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ls);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function p8(t,e,n){const r=yl(t);et(r._canInitEmulator,r,"emulator-config-failed"),et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=IO(e),{host:o,port:a}=m8(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||g8()}function IO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m8(t){const e=IO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$S(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$S(o)}}}function $S(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,n){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function CO(t,e){return vl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hv(t,e){return $h(t,"POST","/v1/accounts:signInWithPassword",gl(t,e))}async function v8(t,e){return vl(t,"POST","/v1/accounts:sendOobCode",gl(t,e))}async function Wv(t,e){return v8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e){return $h(t,"POST","/v1/accounts:signInWithEmailLink",gl(t,e))}async function w8(t,e){return $h(t,"POST","/v1/accounts:signInWithEmailLink",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends F_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new eh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Lu(e,r,"signInWithPassword");return Hv(e,i)}else return Hv(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Lu(e,r,"signInWithPassword");return Hv(e,s)}else return Promise.reject(i)});case"emailLink":return y8(e,{email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CO(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return w8(e,{idToken:n,email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t,e){return $h(t,"POST","/v1/accounts:signInWithIdp",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="http://localhost";class Za extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=N_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Za(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fu(e,n)}buildRequest(){const e={requestUri:b8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T8(t){const e=Mc($c(t)).link,n=e?Mc($c(e)).deep_link_id:null,r=Mc($c(t)).deep_link_id;return(r?Mc($c(r)).link:null)||r||n||e||t}class V_{constructor(e){var n,r,i,s,o,a;const l=Mc($c(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=_8((i=l.mode)!==null&&i!==void 0?i:null);et(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=T8(e);try{return new V_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return eh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=V_.parseLink(n);return et(r,"argument-error"),eh._fromEmailAndCode(e,r.code,r.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends AO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Lh{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Eo.credential(n,r)}catch{return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com";Eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Lh{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Lh{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.TWITTER_SIGN_IN_METHOD="twitter.com";Io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv(t,e){return $h(t,"POST","/v1/accounts:signUp",gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Oa._fromIdTokenResponse(e,r,i),o=LS(r);return new el({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LS(r);return new el({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function LS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,em.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new em(e,n,r,i)}}function kO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?em._fromErrorAndOperation(t,s,e,r):s})}async function E8(t,e,n=!1){const r=await $u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return el._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await $u(t,kO(r,i,e,t),n);et(s.idToken,r,"internal-error");const o=L_(s.idToken);et(o,r,"internal-error");const{sub:a}=o;return et(t.uid===a,r,"user-mismatch"),el._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e,n=!1){const r="signIn",i=await kO(t,r,e),s=await el._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function S8(t,e){return DO(yl(t),e)}async function US(t,e){return xO(Vt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e,n){var r;et(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),et(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(et(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(et(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(t,e,n){var r;const i=yl(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Lu(i,s,"getOobCode",!0);n&&Yv(i,o,n),await Wv(i,o)}else n&&Yv(i,s,n),await Wv(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Lu(i,s,"getOobCode",!0);n&&Yv(i,a,n),await Wv(i,a)}else return Promise.reject(o)})}async function C8(t,e,n){var r;const i=yl(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Lu(i,s,"signUpPassword");o=zv(i,u)}else o=zv(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Lu(i,s,"signUpPassword");return zv(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await el._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function A8(t,e,n){return S8(Vt(t),Go.credential(e,n))}function k8(t,e){return PO(Vt(t),e,null)}function x8(t,e){return PO(Vt(t),null,e)}async function PO(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await $u(t,CO(r,s));await t._updateTokensIfNecessary(o,!0)}function RO(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function D8(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function P8(t){return Vt(t).signOut()}async function R8(t){return Vt(t).delete()}const tm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tm,"1"),this.storage.removeItem(tm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(){const t=Or();return U_(t)||Mg(t)}const N8=1e3,M8=10;class NO extends OO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=O8()&&i8(),this.fallbackToPolling=wO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);r8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NO.type="LOCAL";const $8=NO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO extends OO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MO.type="SESSION";const $O=MO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $g(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await L8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$g.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=B_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return window}function F8(t){vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function V8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function j8(){return LO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebaseLocalStorageDb",H8=1,nm="firebaseLocalStorage",FO="fbase_key";class Uh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lg(t,e){return t.transaction([nm],e?"readwrite":"readonly").objectStore(nm)}function W8(){const t=indexedDB.deleteDatabase(UO);return new Uh(t).toPromise()}function J0(){const t=indexedDB.open(UO,H8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nm,{keyPath:FO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nm)?e(r):(r.close(),await W8(),e(await J0()))})})}async function FS(t,e,n){const r=Lg(t,!0).put({[FO]:e,value:n});return new Uh(r).toPromise()}async function z8(t,e){const n=Lg(t,!1).get(e),r=await new Uh(n).toPromise();return r===void 0?null:r.value}function VS(t,e){const n=Lg(t,!0).delete(e);return new Uh(n).toPromise()}const Y8=800,K8=3;class VO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>K8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$g._getInstance(j8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await V8(),!this.activeServiceWorker)return;this.sender=new U8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J0();return await FS(e,tm,"1"),await VS(e,tm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Lg(i,!1).getAll();return new Uh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VO.type="LOCAL";const G8=VO;new Mh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t,e){return e?Ls(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q8(t){return DO(t.auth,new j_(t),t.bypassAuthState)}function X8(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),xO(n,new j_(t),t.bypassAuthState)}async function J8(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),E8(n,new j_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q8;case"linkViaPopup":case"linkViaRedirect":return J8;case"reauthViaPopup":case"reauthViaRedirect":return X8;default:Zi(this.auth,"internal-error")}}resolve(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=new Mh(2e3,1e4);class Kl extends BO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Kl.currentPopupAction&&Kl.currentPopupAction.cancel(),Kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){Js(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z8.get())};e()}}Kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="pendingRedirect",rp=new Map;class t7 extends BO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rp.get(this.auth._key());if(!e){try{const r=await n7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rp.set(this.auth._key(),e)}return this.bypassAuthState||rp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n7(t,e){const n=s7(e),r=i7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r7(t,e){rp.set(t._key(),e)}function i7(t){return Ls(t._redirectPersistence)}function s7(t){return np(e7,t.config.apiKey,t.name)}async function o7(t,e,n=!1){const r=yl(t),i=q8(r,e),o=await new t7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=10*60*1e3;class l7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a7&&this.cachedEventUids.clear(),this.cachedEventUids.has(BS(e))}saveEventToCache(e){this.cachedEventUids.add(BS(e)),this.lastProcessedEventTime=Date.now()}}function BS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e={}){return vl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h7=/^https?/;async function f7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c7(t);for(const n of e)try{if(p7(n))return}catch{}Zi(t,"unauthorized-domain")}function p7(t){const e=X0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!h7.test(n))return!1;if(d7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new Mh(3e4,6e4);function jS(){const t=vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g7(t){return new Promise((e,n)=>{var r,i,s;function o(){jS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jS(),n(gs(t,"network-request-failed"))},timeout:m7.get()})}if(!((i=(r=vs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vs().gapi)===null||s===void 0)&&s.load)o();else{const a=o8("iframefcb");return vs()[a]=()=>{gapi.load?o():n(gs(t,"network-request-failed"))},EO(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ip=null,e})}let ip=null;function v7(t){return ip=ip||g7(t),ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=new Mh(5e3,15e3),w7="__/auth/iframe",b7="emulator/auth/iframe",_7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E7(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$_(e,b7):`https://${t.config.authDomain}/${w7}`,r={apiKey:e.apiKey,appName:t.name,v:Zo},i=T7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zu(r).slice(1)}`}async function S7(t){const e=await v7(t),n=vs().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:E7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=gs(t,"network-request-failed"),a=vs().setTimeout(()=>{s(o)},y7.get());function l(){vs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C7=500,A7=600,k7="_blank",x7="http://localhost";class HS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D7(t,e,n,r=C7,i=A7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},I7),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Or().toLowerCase();n&&(a=pO(u)?k7:n),fO(u)&&(e=e||x7,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(n8(u)&&a!=="_self")return P7(e||"",a),new HS(null);const d=window.open(e||"",a,c);et(d,t,"popup-blocked");try{d.focus()}catch{}return new HS(d)}function P7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="__/auth/handler",O7="emulator/auth/handler",N7=encodeURIComponent("fac");async function WS(t,e,n,r,i,s){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zo,eventId:i};if(e instanceof AO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Jy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Lh){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${N7}=${encodeURIComponent(l)}`:"";return`${M7(t)}?${Zu(a).slice(1)}${u}`}function M7({config:t}){return t.emulator?$_(t,O7):`https://${t.authDomain}/${R7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="webStorageSupport";class $7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$O,this._completeRedirectFn=o7,this._overrideRedirectResult=r7}async _openPopup(e,n,r,i){var s;Js((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await WS(e,n,r,X0(),i);return D7(e,o,B_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await WS(e,n,r,X0(),i);return F8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Js(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S7(e),r=new l7(e);return n.register("authEvent",i=>(et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kv,{type:Kv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Kv];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wO()||U_()||Mg()}}const L7=$7;var zS="@firebase/auth",YS="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function V7(t){ri(new Hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bO(t)},u=new d8(r,i,s,l);return f8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ri(new Hr("auth-internal",e=>{const n=yl(e.getProvider("auth").getImmediate());return(r=>new U7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(zS,YS,F7(t)),gr(zS,YS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=5*60,j7=ax("authIdTokenMaxAge")||B7;let KS=null;const H7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j7)return;const i=n==null?void 0:n.token;KS!==i&&(KS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HO(t=tc()){const e=Cs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h8(t,{popupRedirectResolver:L7,persistence:[G8,$8,$O]}),r=ax("authTokenSyncURL");if(r){const s=H7(r);D8(n,s,()=>s(n.currentUser)),RO(n,o=>s(o))}const i=ix("auth");return i&&p8(n,`http://${i}`),n}V7("Browser");const WO=Symbol("firebaseApp");function zO(t){return Ss()&&Br(WO,null)||tc(t)}const Sf=new WeakMap;function W7(t,e){if(!Sf.has(t)){const n=Dm(!0);Sf.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Sf.delete(t)}}return Sf.get(t)}const z7=new WeakMap,If=new WeakMap;function Y7(t){const e=zO(t);if(!If.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{If.set(e,s),n(s.value)}];If.set(e,i)}return If.get(e)}function K7(t,e){const n=HO(e);RO(n,r=>{const i=Y7();t.value=r,Array.isArray(i)&&i[1](t)})}const GS="@firebase/database",qS="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YO="";function G7(t){YO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),hr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Nd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return no(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new q7(e)}}catch{}return new Q7},Ca=KO("localStorage"),Z0=KO("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new ec("@firebase/database"),X7=function(){let t=1;return function(){return t++}}(),GO=function(t){const e=m3(t),n=new c3;n.update(e);const r=n.digest();return Gm.encodeByteArray(r)},Fh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Fh.apply(null,r):typeof r=="object"?e+=hr(r):e+=r,e+=" "}return e};let Na=null,QS=!0;const J7=function(t,e){De(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(pu.logLevel=Rt.VERBOSE,Na=pu.log.bind(pu),e&&Z0.set("logging_enabled",!0)):typeof t=="function"?Na=t:(Na=null,Z0.remove("logging_enabled"))},Er=function(...t){if(QS===!0&&(QS=!1,Na===null&&Z0.get("logging_enabled")===!0&&J7(!0)),Na){const e=Fh.apply(null,t);Na(e)}},Vh=function(t){return function(...e){Er(t,...e)}},ew=function(...t){const e="FIREBASE INTERNAL ERROR: "+Fh(...t);pu.error(e)},tl=function(...t){const e=`FIREBASE FATAL ERROR: ${Fh(...t)}`;throw pu.error(e),new Error(e)},mi=function(...t){const e="FIREBASE WARNING: "+Fh(...t);pu.warn(e)},Z7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qO=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ez=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Uu="[MIN_NAME]",nl="[MAX_NAME]",lc=function(t,e){if(t===e)return 0;if(t===Uu||e===nl)return-1;if(e===Uu||t===nl)return 1;{const n=XS(t),r=XS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},tz=function(t,e){return t===e?0:t<e?-1:1},yc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+hr(e))},H_=function(t){if(typeof t!="object"||t===null)return hr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=hr(e[r]),n+=":",n+=H_(t[e[r]]);return n+="}",n},QO=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Di(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const XO=function(t){De(!qO(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},nz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},iz=new RegExp("^-?(0*)\\d{1,10}$"),sz=-2147483648,oz=2147483647,XS=function(t){if(iz.test(t)){const e=Number(t);if(e>=sz&&e<=oz)return e}return null},Bh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw mi("Exception was thrown by user callback.",n),e},Math.floor(0))}},az=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){mi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mi(e)}}class tw{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}tw.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="5",JO="v",ZO="s",eN="r",tN="f",nN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rN="ls",iN="p",nw="ac",sN="websocket",oN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ca.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ca.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function dz(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aN(t,e,n){De(typeof e=="string","typeof type must == string"),De(typeof n=="object","typeof params must == object");let r;if(e===sN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===oN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dz(t)&&(n.ns=t.namespace);const i=[];return Di(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(){this.counters_={}}incrementCounter(e,n=1){no(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return XF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={},qv={};function z_(t){const e=t.toString();return Gv[e]||(Gv[e]=new hz),Gv[e]}function fz(t,e){const n=t.toString();return qv[n]||(qv[n]=e()),qv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Bh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="start",mz="close",gz="pLPCommand",vz="pRTLPCB",lN="id",uN="pw",cN="ser",yz="cb",wz="seg",bz="ts",_z="d",Tz="dframe",dN=1870,hN=30,Ez=dN-hN,Sz=25e3,Iz=3e4;class Gl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vh(e),this.stats_=z_(n),this.urlFn=l=>(this.appCheckToken&&(l[nw]=this.appCheckToken),aN(n,oN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pz(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Iz)),ez(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Y_((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===JS)this.id=a,this.password=l;else if(o===mz)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[JS]="t",r[cN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[yz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[JO]=W_,this.transportSessionId&&(r[ZO]=this.transportSessionId),this.lastSessionId&&(r[rN]=this.lastSessionId),this.applicationId&&(r[iN]=this.applicationId),this.appCheckToken&&(r[nw]=this.appCheckToken),typeof location<"u"&&location.hostname&&nN.test(location.hostname)&&(r[eN]=tN);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gl.forceAllow_=!0}static forceDisallow(){Gl.forceDisallow_=!0}static isAvailable(){return Gl.forceAllow_?!0:!Gl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nz()&&!rz()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=hr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=tx(n),i=QO(r,Ez);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Tz]="t",r[lN]=e,r[uN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=hr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Y_{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=X7(),window[gz+this.uniqueCallbackIdentifier]=e,window[vz+this.uniqueCallbackIdentifier]=n,this.myIFrame=Y_.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Er("frame writing exception"),a.stack&&Er(a.stack),Er(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Er("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lN]=this.myID,e[uN]=this.myPW,e[cN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hN+r.length<=dN;){const o=this.pendingSegs.shift();r=r+"&"+wz+i+"="+o.seg+"&"+bz+i+"="+o.ts+"&"+_z+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Sz)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Er("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=16384,Az=45e3;let rm=null;typeof MozWebSocket<"u"?rm=MozWebSocket:typeof WebSocket<"u"&&(rm=WebSocket);class Bi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vh(this.connId),this.stats_=z_(n),this.connURL=Bi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[JO]=W_,typeof location<"u"&&location.hostname&&nN.test(location.hostname)&&(o[eN]=tN),n&&(o[ZO]=n),r&&(o[rN]=r),i&&(o[nw]=i),s&&(o[iN]=s),aN(e,sN,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ca.set("previous_websocket_failure",!0);try{let r;dx(),this.mySock=new rm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Bi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&rm!==null&&!Bi.forceDisallow_}static previouslyFailed(){return Ca.isInMemoryStorage||Ca.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ca.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Nd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(De(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=hr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=QO(n,Cz);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Az))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bi.responsesRequiredToBeHealthy=2;Bi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Gl,Bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Bi&&Bi.isAvailable();let r=n&&!Bi.previouslyFailed();if(e.webSocketOnly&&(n||mi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bi];else{const i=this.transports_=[];for(const s of th.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);th.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}th.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=6e4,xz=5e3,Dz=10*1024,Pz=100*1024,Qv="t",ZS="d",Rz="s",eI="r",Oz="e",tI="o",nI="a",rI="n",iI="p",Nz="h";class Mz{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vh("c:"+this.id+":"),this.transportManager_=new th(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=hd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Pz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Dz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qv in e){const n=e[Qv];n===nI?this.upgradeIfSecondaryHealthy_():n===eI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yc("t",e),r=yc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yc("t",e),r=yc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yc(Qv,e);if(ZS in e){const r=e[ZS];if(n===Nz){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Rz?this.onConnectionShutdown_(r):n===eI?this.onReset_(r):n===Oz?ew("Server Error: "+r):n===tI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ew("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),W_!==r&&mi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ca.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.allowedEvents_=e,this.listeners_={},De(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){De(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends pN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new im}getInitialEvent(e){return De(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=32,oI=768;class gn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Xt(){return new gn("")}function At(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qo(t){return t.pieces_.length-t.pieceNum_}function dn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new gn(t.pieces_,e)}function mN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function $z(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new gn(e,0)}function tr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof gn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new gn(n,0)}function Tt(t){return t.pieceNum_>=t.pieces_.length}function Ci(t,e){const n=At(t),r=At(e);if(n===null)return e;if(n===r)return Ci(dn(t),dn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yN(t,e){if(qo(t)!==qo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Hi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(qo(t)>qo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Lz{constructor(e,n){this.errorPrefix_=n,this.parts_=gN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xm(this.parts_[r]);wN(this)}}function Uz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xm(e),wN(t)}function Fz(t){const e=t.parts_.pop();t.byteLength_-=Xm(e),t.parts_.length>0&&(t.byteLength_-=1)}function wN(t){if(t.byteLength_>oI)throw new Error(t.errorPrefix_+"has a key path longer than "+oI+" bytes ("+t.byteLength_+").");if(t.parts_.length>sI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sI+") or object contains a cycle "+ha(t))}function ha(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends pN{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new K_}getInitialEvent(e){return De(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=1e3,Vz=60*5*1e3,aI=30*1e3,Bz=1.3,jz=3e4,Hz="server_kill",lI=3;class zs extends fN{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=zs.nextPersistentConnectionId_++,this.log_=Vh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wc,this.maxReconnectDelay_=Vz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!dx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");K_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&im.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(hr(s)),De(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new za,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),De(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),De(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;zs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&no(e,"w")){const r=Au(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();mi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||u3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=aI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=l3(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),De(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+hr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ew("Unrecognized action received from server: "+hr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){De(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jz&&(this.reconnectDelay_=wc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Bz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+zs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){De(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Er("getToken() completed but was canceled"):(Er("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Mz(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{mi(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hz)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&mi(d),l())}}}interrupt(e){Er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Jy(this.interruptReasons_)&&(this.reconnectDelay_=wc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>H_(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new gn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Er("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lI&&(this.reconnectDelay_=aI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Er("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+YO.replace(/\./g,"-")]=1,pb()?e["framework.cordova"]=1:cx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=im.getInstance().currentlyOnline();return Jy(this.interruptReasons_)&&e}}zs.nextPersistentConnectionId_=0;zs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new kt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new kt(Uu,e),i=new kt(Uu,n);return this.compare(r,i)!==0}minPost(){return kt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;class bN extends Ug{static get __EMPTY_NODE(){return Cf}static set __EMPTY_NODE(e){Cf=e}compare(e,n){return lc(e.name,n.name)}isDefinedOn(e){throw Ju("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return kt.MIN}maxPost(){return new kt(nl,Cf)}makePost(e,n){return De(typeof e=="string","KeyIndex indexValue must always be a string."),new kt(e,Cf)}toString(){return".key"}}const mu=new bN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zr.EMPTY_NODE,this.right=s??Zr.EMPTY_NODE}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Zr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Zn.RED=!0;Zn.BLACK=!1;class Wz{copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Zr{constructor(e,n=Zr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Zr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Zr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Zn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Af(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Af(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Af(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Af(this.root_,null,this.comparator_,!0,e)}}Zr.EMPTY_NODE=new Wz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e){return lc(t.name,e.name)}function G_(t,e){return lc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rw;function Yz(t){rw=t}const _N=function(t){return typeof t=="number"?"number:"+XO(t):"string:"+t},TN=function(t){if(t.isLeafNode()){const e=t.val();De(typeof e=="string"||typeof e=="number"||typeof e=="object"&&no(e,".sv"),"Priority must be a string or number.")}else De(t===rw||t.isEmpty(),"priority of unexpected type.");De(t===rw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uI;class Xn{constructor(e,n=Xn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,De(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TN(this.priorityNode_)}static set __childrenNodeConstructor(e){uI=e}static get __childrenNodeConstructor(){return uI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Xn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Xn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tt(e)?this:At(e)===".priority"?this.priorityNode_:Xn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Xn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=At(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(De(r!==".priority"||qo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xn.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_N(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=XO(this.value_):e+=this.value_,this.lazyHash_=GO(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Xn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Xn.__childrenNodeConstructor?-1:(De(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Xn.VALUE_TYPE_ORDER.indexOf(n),s=Xn.VALUE_TYPE_ORDER.indexOf(r);return De(i>=0,"Unknown leaf type: "+n),De(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Xn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EN,SN;function Kz(t){EN=t}function Gz(t){SN=t}class qz extends Ug{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?lc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(nl,new Xn("[PRIORITY-POST]",SN))}makePost(e,n){const r=EN(e);return new kt(n,new Xn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ar=new qz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=Math.log(2);class Xz{constructor(e){const n=s=>parseInt(Math.log(s)/Qz,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Zn(h,d.node,Zn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new Zn(h,d.node,Zn.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const y=d-p,_=d;d-=p;const v=i(y+1,_),b=t[y],g=n?n(b):b;f(new Zn(g,b.node,m,null,v))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?h(y,Zn.BLACK):(h(y,Zn.BLACK),h(y,Zn.RED))}return c},o=new Xz(t.length),a=s(o);return new Zr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xv;const Al={};class Us{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return De(Al&&Ar,"ChildrenNode.ts has not been loaded"),Xv=Xv||new Us({".priority":Al},{".priority":Ar}),Xv}get(e){const n=Au(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Zr?n:null}hasIndex(e){return no(this.indexSet_,e.toString())}addIndex(e,n){De(e!==mu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(kt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=sm(r,e.getCompare()):a=Al;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Us(c,u)}addToIndexes(e,n){const r=xp(this.indexes_,(i,s)=>{const o=Au(this.indexSet_,s);if(De(o,"Missing index implementation for "+s),i===Al)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(kt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),sm(a,o.getCompare())}else return Al;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new kt(e.name,a))),l.insert(e,e.node)}});return new Us(r,this.indexSet_)}removeFromIndexes(e,n){const r=xp(this.indexes_,i=>{if(i===Al)return i;{const s=n.get(e.name);return s?i.remove(new kt(e.name,s)):i}});return new Us(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc;class Wt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&TN(this.priorityNode_),this.children_.isEmpty()&&De(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bc||(bc=new Wt(new Zr(G_),null,Us.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bc}updatePriority(e){return this.children_.isEmpty()?this:new Wt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bc:n}}getChild(e){const n=At(e);return n===null?this:this.getImmediateChild(n).getChild(dn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(De(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new kt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?bc:this.priorityNode_;return new Wt(i,o,s)}}updateChild(e,n){const r=At(e);if(r===null)return n;{De(At(e)!==".priority"||qo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(dn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ar,(o,a)=>{n[o]=a.val(e),r++,s&&Wt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_N(this.getPriority().val())+":"),this.forEachChild(Ar,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":GO(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new kt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new kt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new kt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,kt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jh?-1:0}withIndex(e){if(e===mu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Wt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===mu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ar),i=n.getIterator(Ar);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===mu?null:this.indexMap_.get(e.toString())}}Wt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Jz extends Wt{constructor(){super(new Zr(G_),Wt.EMPTY_NODE,Us.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Wt.EMPTY_NODE}isEmpty(){return!1}}const jh=new Jz;Object.defineProperties(kt,{MIN:{value:new kt(Uu,Wt.EMPTY_NODE)},MAX:{value:new kt(nl,jh)}});bN.__EMPTY_NODE=Wt.EMPTY_NODE;Xn.__childrenNodeConstructor=Wt;Yz(jh);Gz(jh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=!0;function Sr(t,e=null){if(t===null)return Wt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),De(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Xn(n,Sr(e))}if(!(t instanceof Array)&&Zz){const n=[];let r=!1;if(Di(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Sr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new kt(o,l)))}}),n.length===0)return Wt.EMPTY_NODE;const s=sm(n,zz,o=>o.name,G_);if(r){const o=sm(n,Ar.getCompare());return new Wt(s,Sr(e),new Us({".priority":o},{".priority":Ar}))}else return new Wt(s,Sr(e),Us.Default)}else{let n=Wt.EMPTY_NODE;return Di(t,(r,i)=>{if(no(t,r)&&r.substring(0,1)!=="."){const s=Sr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Sr(e))}}Kz(Sr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY extends Ug{constructor(e){super(),this.indexPath_=e,De(!Tt(e)&&At(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?lc(e.name,n.name):s}makePost(e,n){const r=Sr(e),i=Wt.EMPTY_NODE.updateChild(this.indexPath_,r);return new kt(n,i)}maxPost(){const e=Wt.EMPTY_NODE.updateChild(this.indexPath_,jh);return new kt(nl,e)}toString(){return gN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY extends Ug{compare(e,n){const r=e.node.compareTo(n.node);return r===0?lc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(e,n){const r=Sr(e);return new kt(n,r)}toString(){return".value"}}const nY=new tY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t){return{type:"value",snapshotNode:t}}function iY(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sY(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ar}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return De(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return De(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Uu}hasEnd(){return this.endSet_}getIndexEndValue(){return De(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return De(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return De(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ar}copy(){const e=new q_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ar?n="$priority":t.index_===nY?n="$value":t.index_===mu?n="$key":(De(t.index_ instanceof eY,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=hr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=hr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+hr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=hr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+hr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ar&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends fN{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Vh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(De(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=om.getListenId_(e,r),a={};this.listens_[o]=a;const l=dI(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Au(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=om.getListenId_(e,n);delete this.listens_[r]}get(e){const n=dI(e._queryParams),r=e._path.toString(),i=new za;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Nd(a.responseText)}catch{mi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&mi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(){this.rootNode_=Wt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){return{value:null,children:new Map}}function IN(t,e,n){if(Tt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=At(e);t.children.has(r)||t.children.set(r,am());const i=t.children.get(r);e=dn(e),IN(i,e,n)}}function iw(t,e,n){t.value!==null?n(e,t.value):lY(t,(r,i)=>{const s=new gn(e.toString()+"/"+r);iw(i,s,n)})}function lY(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Di(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=10*1e3,cY=30*1e3,dY=5*60*1e3;class hY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new uY(e);const r=fI+(cY-fI)*Math.random();hd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Di(e,(i,s)=>{s>0&&no(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),hd(this.reportStats_.bind(this),Math.floor(Math.random()*2*dY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ds||(ds={}));function CN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function AN(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kN(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ds.ACK_USER_WRITE,this.source=CN()}operationForChild(e){if(Tt(this.path)){if(this.affectedTree.value!=null)return De(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new gn(e));return new lm(Xt(),n,this.revert)}}else return De(At(this.path)===e,"operationForChild called for unrelated child."),new lm(dn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ds.OVERWRITE}operationForChild(e){return Tt(this.path)?new rl(this.source,Xt(),this.snap.getImmediateChild(e)):new rl(this.source,dn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ds.MERGE}operationForChild(e){if(Tt(this.path)){const n=this.children.subtree(new gn(e));return n.isEmpty()?null:n.value?new rl(this.source,Xt(),n.value):new nh(this.source,Xt(),n)}else return De(At(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nh(this.source,dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Tt(e))return this.isFullyInitialized()&&!this.filtered_;const n=At(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function fY(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oY(o.childName,o.snapshotNode))}),_c(t,i,"child_removed",e,r,n),_c(t,i,"child_added",e,r,n),_c(t,i,"child_moved",s,r,n),_c(t,i,"child_changed",e,r,n),_c(t,i,"value",e,r,n),i}function _c(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>mY(t,a,l)),o.forEach(a=>{const l=pY(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function pY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mY(t,e,n){if(e.childName==null||n.childName==null)throw Ju("Should only compare child_ events.");const r=new kt(e.childName,e.snapshotNode),i=new kt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e){return{eventCache:t,serverCache:e}}function fd(t,e,n,r){return xN(new Q_(e,n,r),t.serverCache)}function DN(t,e,n,r){return xN(t.eventCache,new Q_(e,n,r))}function sw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function il(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv;const gY=()=>(Jv||(Jv=new Zr(tz)),Jv);class cn{constructor(e,n=gY()){this.value=e,this.children=n}static fromObject(e){let n=new cn(null);return Di(e,(r,i)=>{n=n.set(new gn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Xt(),value:this.value};if(Tt(e))return null;{const r=At(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(dn(e),n);return s!=null?{path:tr(new gn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Tt(e))return this;{const n=At(e),r=this.children.get(n);return r!==null?r.subtree(dn(e)):new cn(null)}}set(e,n){if(Tt(e))return new cn(n,this.children);{const r=At(e),s=(this.children.get(r)||new cn(null)).set(dn(e),n),o=this.children.insert(r,s);return new cn(this.value,o)}}remove(e){if(Tt(e))return this.children.isEmpty()?new cn(null):new cn(null,this.children);{const n=At(e),r=this.children.get(n);if(r){const i=r.remove(dn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new cn(null):new cn(this.value,s)}else return this}}get(e){if(Tt(e))return this.value;{const n=At(e),r=this.children.get(n);return r?r.get(dn(e)):null}}setTree(e,n){if(Tt(e))return n;{const r=At(e),s=(this.children.get(r)||new cn(null)).setTree(dn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new cn(this.value,o)}}fold(e){return this.fold_(Xt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(tr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Xt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Tt(e))return null;{const s=At(e),o=this.children.get(s);return o?o.findOnPath_(dn(e),tr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Xt(),n)}foreachOnPath_(e,n,r){if(Tt(e))return this;{this.value&&r(n,this.value);const i=At(e),s=this.children.get(i);return s?s.foreachOnPath_(dn(e),tr(n,i),r):new cn(null)}}foreach(e){this.foreach_(Xt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(tr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.writeTree_=e}static empty(){return new Ki(new cn(null))}}function pd(t,e,n){if(Tt(e))return new Ki(new cn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ci(i,e);return s=s.updateChild(o,n),new Ki(t.writeTree_.set(i,s))}else{const i=new cn(n),s=t.writeTree_.setTree(e,i);return new Ki(s)}}}function pI(t,e,n){let r=t;return Di(n,(i,s)=>{r=pd(r,tr(e,i),s)}),r}function mI(t,e){if(Tt(e))return Ki.empty();{const n=t.writeTree_.setTree(e,new cn(null));return new Ki(n)}}function ow(t,e){return wl(t,e)!=null}function wl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ci(n.path,e)):null}function gI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ar,(r,i)=>{e.push(new kt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new kt(r,i.value))}),e}function $o(t,e){if(Tt(e))return t;{const n=wl(t,e);return n!=null?new Ki(new cn(n)):new Ki(t.writeTree_.subtree(e))}}function aw(t){return t.writeTree_.isEmpty()}function Fu(t,e){return PN(Xt(),t.writeTree_,e)}function PN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(De(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=PN(tr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(tr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e){return LN(e,t)}function vY(t,e,n,r,i){De(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=pd(t.visibleWrites,e,n)),t.lastWriteId=r}function yY(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function wY(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);De(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&bY(a,r.path)?i=!1:Hi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return _Y(t),!0;if(r.snap)t.visibleWrites=mI(t.visibleWrites,r.path);else{const a=r.children;Di(a,l=>{t.visibleWrites=mI(t.visibleWrites,tr(r.path,l))})}return!0}else return!1}function bY(t,e){if(t.snap)return Hi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Hi(tr(t.path,n),e))return!0;return!1}function _Y(t){t.visibleWrites=ON(t.allWrites,TY,Xt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function TY(t){return t.visible}function ON(t,e,n){let r=Ki.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Hi(n,o)?(a=Ci(n,o),r=pd(r,a,s.snap)):Hi(o,n)&&(a=Ci(o,n),r=pd(r,Xt(),s.snap.getChild(a)));else if(s.children){if(Hi(n,o))a=Ci(n,o),r=pI(r,a,s.children);else if(Hi(o,n))if(a=Ci(o,n),Tt(a))r=pI(r,Xt(),s.children);else{const l=Au(s.children,At(a));if(l){const u=l.getChild(dn(a));r=pd(r,Xt(),u)}}}else throw Ju("WriteRecord should have .snap or .children")}}return r}function NN(t,e,n,r,i){if(!r&&!i){const s=wl(t.visibleWrites,e);if(s!=null)return s;{const o=$o(t.visibleWrites,e);if(aw(o))return n;if(n==null&&!ow(o,Xt()))return null;{const a=n||Wt.EMPTY_NODE;return Fu(o,a)}}}else{const s=$o(t.visibleWrites,e);if(!i&&aw(s))return n;if(!i&&n==null&&!ow(s,Xt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Hi(u.path,e)||Hi(e,u.path))},a=ON(t.allWrites,o,e),l=n||Wt.EMPTY_NODE;return Fu(a,l)}}}function EY(t,e,n){let r=Wt.EMPTY_NODE;const i=wl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ar,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=$o(t.visibleWrites,e);return n.forEachChild(Ar,(o,a)=>{const l=Fu($o(s,new gn(o)),a);r=r.updateImmediateChild(o,l)}),gI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=$o(t.visibleWrites,e);return gI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function SY(t,e,n,r,i){De(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=tr(e,n);if(ow(t.visibleWrites,s))return null;{const o=$o(t.visibleWrites,s);return aw(o)?i.getChild(n):Fu(o,i.getChild(n))}}function IY(t,e,n,r){const i=tr(e,n),s=wl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=$o(t.visibleWrites,i);return Fu(o,r.getNode().getImmediateChild(n))}else return null}function CY(t,e){return wl(t.visibleWrites,e)}function AY(t,e,n,r,i,s,o){let a;const l=$o(t.visibleWrites,e),u=wl(l,Xt());if(u!=null)a=u;else if(n!=null)a=Fu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function kY(){return{visibleWrites:Ki.empty(),allWrites:[],lastWriteId:-1}}function lw(t,e,n,r){return NN(t.writeTree,t.treePath,e,n,r)}function MN(t,e){return EY(t.writeTree,t.treePath,e)}function vI(t,e,n,r){return SY(t.writeTree,t.treePath,e,n,r)}function um(t,e){return CY(t.writeTree,tr(t.treePath,e))}function xY(t,e,n,r,i,s){return AY(t.writeTree,t.treePath,e,n,r,i,s)}function X_(t,e,n){return IY(t.writeTree,t.treePath,e,n)}function $N(t,e){return LN(tr(t.treePath,e),t.writeTree)}function LN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;De(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),De(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,cI(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sY(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,iY(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,cI(r,e.snapshotNode,i.oldSnap));else throw Ju("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const UN=new PY;class J_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Q_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return X_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:il(this.viewCache_),s=xY(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function RY(t,e){De(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),De(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function OY(t,e,n,r,i){const s=new DY;let o,a;if(n.type===ds.OVERWRITE){const u=n;u.source.fromUser?o=uw(t,e,u.path,u.snap,r,i,s):(De(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Tt(u.path),o=cm(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===ds.MERGE){const u=n;u.source.fromUser?o=MY(t,e,u.path,u.children,r,i,s):(De(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=cw(t,e,u.path,u.children,r,i,a,s))}else if(n.type===ds.ACK_USER_WRITE){const u=n;u.revert?o=UY(t,e,u.path,r,i,s):o=$Y(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===ds.LISTEN_COMPLETE)o=LY(t,e,n.path,r,s);else throw Ju("Unknown operation type: "+n.type);const l=s.getChanges();return NY(e,o,l),{viewCache:o,changes:l}}function NY(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=sw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(rY(sw(e)))}}function FN(t,e,n,r,i,s){const o=e.eventCache;if(um(r,n)!=null)return e;{let a,l;if(Tt(n))if(De(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=il(e),c=u instanceof Wt?u:Wt.EMPTY_NODE,d=MN(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=lw(r,il(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=At(n);if(u===".priority"){De(qo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=vI(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=dn(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=vI(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=X_(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return fd(e,a,o.isFullyInitialized()||Tt(n),t.filter.filtersNodes())}}function cm(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Tt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=At(n);if(!l.isCompleteForPath(n)&&qo(n)>1)return e;const p=dn(n),y=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),f,y,p,UN,null)}const d=DN(e,u,l.isFullyInitialized()||Tt(n),c.filtersNodes()),h=new J_(i,d,s);return FN(t,d,n,i,h,a)}function uw(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new J_(i,e,s);if(Tt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=fd(e,u,!0,t.filter.filtersNodes());else{const d=At(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=fd(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=dn(n),f=a.getNode().getImmediateChild(d);let p;if(Tt(h))p=r;else{const m=c.getCompleteChild(d);m!=null?mN(h)===".priority"&&m.getChild(vN(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=Wt.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=fd(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function yI(t,e){return t.eventCache.isCompleteForChild(e)}function MY(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=tr(n,l);yI(e,At(c))&&(a=uw(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=tr(n,l);yI(e,At(c))||(a=uw(t,a,c,u,i,s,o))}),a}function wI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function cw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Tt(n)?u=r:u=new cn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=wI(t,f,h);l=cm(t,l,new gn(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=wI(t,p,h);l=cm(t,l,new gn(d),m,i,s,o,a)}}),l}function $Y(t,e,n,r,i,s,o){if(um(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Tt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Tt(n)){let u=new cn(null);return l.getNode().forEachChild(mu,(c,d)=>{u=u.set(new gn(c),d)}),cw(t,e,n,u,i,s,a,o)}else return e}else{let u=new cn(null);return r.foreach((c,d)=>{const h=tr(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),cw(t,e,n,u,i,s,a,o)}}function LY(t,e,n,r,i){const s=e.serverCache,o=DN(e,s.getNode(),s.isFullyInitialized()||Tt(n),s.isFiltered());return FN(t,o,n,r,UN,i)}function UY(t,e,n,r,i,s){let o;if(um(r,n)!=null)return e;{const a=new J_(r,e,i),l=e.eventCache.getNode();let u;if(Tt(n)||At(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=lw(r,il(e));else{const d=e.serverCache.getNode();De(d instanceof Wt,"serverChildren would be complete if leaf node"),c=MN(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=At(n);let d=X_(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,dn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Wt.EMPTY_NODE,dn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=lw(r,il(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||um(r,Xt())!=null,fd(e,u,o,t.filter.filtersNodes())}}function FY(t,e){const n=il(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Tt(e)&&!n.getImmediateChild(At(e)).isEmpty())?n.getChild(e):null}function bI(t,e,n,r){e.type===ds.MERGE&&e.source.queryId!==null&&(De(il(t.viewCache_),"We should always have a full cache before handling merges"),De(sw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=OY(t.processor_,i,e,n,r);return RY(t.processor_,s.viewCache),De(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,VY(t,s.changes,s.viewCache.eventCache.getNode(),null)}function VY(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return fY(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _I;function BY(t){De(!_I,"__referenceConstructor has already been defined"),_I=t}function Z_(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return De(s!=null,"SyncTree gave us an op for an invalid query."),bI(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(bI(o,e,n,r));return s}}function e1(t,e){let n=null;for(const r of t.views.values())n=n||FY(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TI;function jY(t){De(!TI,"__referenceConstructor has already been defined"),TI=t}class EI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new cn(null),this.pendingWriteTree_=kY(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HY(t,e,n,r,i){return vY(t.pendingWriteTree_,e,n,r,i),i?Vg(t,new rl(CN(),e,n)):[]}function ql(t,e,n=!1){const r=yY(t.pendingWriteTree_,e);if(wY(t.pendingWriteTree_,e)){let s=new cn(null);return r.snap!=null?s=s.set(Xt(),!0):Di(r.children,o=>{s=s.set(new gn(o),!0)}),Vg(t,new lm(r.path,s,n))}else return[]}function Fg(t,e,n){return Vg(t,new rl(AN(),e,n))}function WY(t,e,n){const r=cn.fromObject(n);return Vg(t,new nh(AN(),e,r))}function zY(t,e,n,r){const i=HN(t,r);if(i!=null){const s=WN(i),o=s.path,a=s.queryId,l=Ci(o,e),u=new rl(kN(a),l,n);return zN(t,o,u)}else return[]}function YY(t,e,n,r){const i=HN(t,r);if(i){const s=WN(i),o=s.path,a=s.queryId,l=Ci(o,e),u=cn.fromObject(n),c=new nh(kN(a),l,u);return zN(t,o,c)}else return[]}function VN(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ci(o,e),u=e1(a,l);if(u)return u});return NN(i,e,s,n,!0)}function Vg(t,e){return BN(e,t.syncPointTree_,null,RN(t.pendingWriteTree_,Xt()))}function BN(t,e,n,r){if(Tt(t.path))return jN(t,e,n,r);{const i=e.get(Xt());n==null&&i!=null&&(n=e1(i,Xt()));let s=[];const o=At(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=$N(r,o);s=s.concat(BN(a,l,u,c))}return i&&(s=s.concat(Z_(i,t,r,n))),s}}function jN(t,e,n,r){const i=e.get(Xt());n==null&&i!=null&&(n=e1(i,Xt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=$N(r,o),c=t.operationForChild(o);c&&(s=s.concat(jN(c,a,l,u)))}),i&&(s=s.concat(Z_(i,t,r,n))),s}function HN(t,e){return t.tagToQueryMap.get(e)}function WN(t){const e=t.indexOf("$");return De(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new gn(t.substr(0,e))}}function zN(t,e,n){const r=t.syncPointTree_.get(e);De(r,"Missing sync point for query tag that we're tracking");const i=RN(t.pendingWriteTree_,e);return Z_(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new t1(n)}node(){return this.node_}}class n1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tr(this.path_,e);return new n1(this.syncTree_,n)}node(){return VN(this.syncTree_,this.path_)}}const KY=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},SI=function(t,e,n){if(!t||typeof t!="object")return t;if(De(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return GY(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qY(t[".sv"],e);De(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},GY=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:De(!1,"Unexpected server value: "+t)}},qY=function(t,e,n){t.hasOwnProperty("increment")||De(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&De(!1,"Unexpected increment value: "+r);const i=e.node();if(De(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},QY=function(t,e,n,r){return r1(e,new n1(n,t),r)},XY=function(t,e,n){return r1(t,new t1(e),n)};function r1(t,e,n){const r=t.getPriority().val(),i=SI(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=SI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Xn(a,Sr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Xn(i))),o.forEachChild(Ar,(a,l)=>{const u=r1(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function s1(t,e){let n=e instanceof gn?e:new gn(e),r=t,i=At(n);for(;i!==null;){const s=Au(r.node.children,i)||{children:{},childCount:0};r=new i1(i,r,s),n=dn(n),i=At(n)}return r}function uc(t){return t.node.value}function YN(t,e){t.node.value=e,dw(t)}function KN(t){return t.node.childCount>0}function JY(t){return uc(t)===void 0&&!KN(t)}function Bg(t,e){Di(t.node.children,(n,r)=>{e(new i1(n,t,r))})}function GN(t,e,n,r){n&&!r&&e(t),Bg(t,i=>{GN(i,e,!0,r)}),n&&r&&e(t)}function ZY(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Hh(t){return new gn(t.parent===null?t.name:Hh(t.parent)+"/"+t.name)}function dw(t){t.parent!==null&&eK(t.parent,t.name,t)}function eK(t,e,n){const r=JY(n),i=no(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,dw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,dw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=/[\[\].#$\/\u0000-\u001F\u007F]/,nK=/[\[\].#$\u0000-\u001F\u007F]/,Zv=10*1024*1024,qN=function(t){return typeof t=="string"&&t.length!==0&&!tK.test(t)},rK=function(t){return typeof t=="string"&&t.length!==0&&!nK.test(t)},iK=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rK(t)},QN=function(t,e,n){const r=n instanceof gn?new Lz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ha(r));if(typeof e=="function")throw new Error(t+"contains a function "+ha(r)+" with contents = "+e.toString());if(qO(e))throw new Error(t+"contains "+e.toString()+" "+ha(r));if(typeof e=="string"&&e.length>Zv/3&&Xm(e)>Zv)throw new Error(t+"contains a string greater than "+Zv+" utf8 bytes "+ha(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Di(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!qN(o)))throw new Error(t+" contains an invalid key ("+o+") "+ha(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Uz(r,o),QN(t,a,r),Fz(r)}),i&&s)throw new Error(t+' contains ".value" child '+ha(r)+" in addition to actual children.")}},sK=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iK(n))throw new Error(p3(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aK(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!yN(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function bl(t,e,n){aK(t,n),lK(t,r=>Hi(r,e)||Hi(e,r))}function lK(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(uK(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function uK(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Na&&Er("event: "+n.toString()),Bh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK="repo_interrupt",dK=25;class hK{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=am(),this.transactionQueueTree_=new i1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fK(t,e,n){if(t.stats_=z_(t.repoInfo_),t.forceRestClient_||az())t.server_=new om(t.repoInfo_,(r,i,s,o)=>{II(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>CI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{hr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new zs(t.repoInfo_,e,(r,i,s,o)=>{II(t,r,i,s,o)},r=>{CI(t,r)},r=>{mK(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=fz(t.repoInfo_,()=>new hY(t.stats_,t.server_)),t.infoData_=new aY,t.infoSyncTree_=new EI({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Fg(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),o1(t,"connected",!1),t.serverSyncTree_=new EI({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);bl(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function pK(t){const n=t.infoData_.getNode(new gn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function XN(t){return KY({timestamp:pK(t)})}function II(t,e,n,r,i){t.dataUpdateCount++;const s=new gn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=xp(n,u=>Sr(u));o=YY(t.serverSyncTree_,s,l,i)}else{const l=Sr(n);o=zY(t.serverSyncTree_,s,l,i)}else if(r){const l=xp(n,u=>Sr(u));o=WY(t.serverSyncTree_,s,l)}else{const l=Sr(n);o=Fg(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=l1(t,s)),bl(t.eventQueue_,a,o)}function CI(t,e){o1(t,"connected",e),e===!1&&vK(t)}function mK(t,e){Di(e,(n,r)=>{o1(t,n,r)})}function o1(t,e,n){const r=new gn("/.info/"+e),i=Sr(n);t.infoData_.updateSnapshot(r,i);const s=Fg(t.infoSyncTree_,r,i);bl(t.eventQueue_,r,s)}function gK(t){return t.nextWriteId_++}function vK(t){JN(t,"onDisconnectEvents");const e=XN(t),n=am();iw(t.onDisconnect_,Xt(),(i,s)=>{const o=QY(i,s,t.serverSyncTree_,e);IN(n,i,o)});let r=[];iw(n,Xt(),(i,s)=>{r=r.concat(Fg(t.serverSyncTree_,i,s));const o=_K(t,i);l1(t,o)}),t.onDisconnect_=am(),bl(t.eventQueue_,Xt(),r)}function yK(t){t.persistentConnection_&&t.persistentConnection_.interrupt(cK)}function JN(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Er(n,...e)}function ZN(t,e,n){return VN(t.serverSyncTree_,e,n)||Wt.EMPTY_NODE}function a1(t,e=t.transactionQueueTree_){if(e||jg(t,e),uc(e)){const n=tM(t,e);De(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&wK(t,Hh(e),n)}else KN(e)&&Bg(e,n=>{a1(t,n)})}function wK(t,e,n){const r=n.map(u=>u.currentWriteId),i=ZN(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];De(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ci(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{JN(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(ql(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();jg(t,s1(t.transactionQueueTree_,e)),a1(t,t.transactionQueueTree_),bl(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Bh(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{mi("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}l1(t,e)}},o)}function l1(t,e){const n=eM(t,e),r=Hh(n),i=tM(t,n);return bK(t,i,r),r}function bK(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Ci(n,l.path);let c=!1,d;if(De(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(ql(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=dK)c=!0,d="maxretry",i=i.concat(ql(t.serverSyncTree_,l.currentWriteId,!0));else{const h=ZN(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){QN("transaction failed: Data returned ",f,l.path);let p=Sr(f);typeof f=="object"&&f!=null&&no(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,_=XN(t),v=XY(p,h,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=gK(t),o.splice(o.indexOf(y),1),i=i.concat(HY(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(ql(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(ql(t.serverSyncTree_,l.currentWriteId,!0))}bl(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}jg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Bh(r[a]);a1(t,t.transactionQueueTree_)}function eM(t,e){let n,r=t.transactionQueueTree_;for(n=At(e);n!==null&&uc(r)===void 0;)r=s1(r,n),e=dn(e),n=At(e);return r}function tM(t,e){const n=[];return nM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function nM(t,e,n){const r=uc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Bg(e,i=>{nM(t,i,n)})}function jg(t,e){const n=uc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,YN(e,n.length>0?n:void 0)}Bg(e,r=>{jg(t,r)})}function _K(t,e){const n=Hh(eM(t,e)),r=s1(t.transactionQueueTree_,e);return ZY(r,i=>{ey(t,i)}),ey(t,r),GN(r,i=>{ey(t,i)}),n}function ey(t,e){const n=uc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(De(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(De(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ql(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?YN(e,void 0):n.length=s+1,bl(t.eventQueue_,Hh(e),i);for(let o=0;o<r.length;o++)Bh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function EK(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mi(`Invalid query segment '${n}' in query '${t}'`)}return e}const AI=function(t,e){const n=SK(t),r=n.namespace;n.domain==="firebase.com"&&tl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&tl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Z7();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cz(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new gn(n.pathString)}},SK=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=TK(t.substring(c,d)));const h=EK(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Tt(this._path)?null:mN(this._path)}get ref(){return new cc(this._repo,this._path)}get _queryIdentifier(){const e=hI(this._queryParams),n=H_(e);return n==="{}"?"default":n}get _queryObject(){return hI(this._queryParams)}isEqual(e){if(e=Vt(e),!(e instanceof u1))return!1;const n=this._repo===e._repo,r=yN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+$z(this._path)}}class cc extends u1{constructor(e,n){super(e,n,new q_,!1)}get parent(){const e=vN(this._path);return e===null?null:new cc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}BY(cc);jY(cc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK="FIREBASE_DATABASE_EMULATOR_HOST",hw={};let CK=!1;function AK(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||tl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Er("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=AI(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[IK]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=AI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new tw(tw.OWNER):new uz(t.name,t.options,e);sK("Invalid Firebase Database URL",o),Tt(o.path)||tl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=xK(a,t,c,new lz(t.name,n));return new DK(d,t)}function kK(t,e){const n=hw[e];(!n||n[t.key]!==t)&&tl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),yK(t),delete n[t.key]}function xK(t,e,n,r){let i=hw[e.name];i||(i={},hw[e.name]=i);let s=i[t.toURLString()];return s&&tl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new hK(t,CK,n,r),i[t.toURLString()]=s,s}class DK{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cc(this._repo,Xt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){G7(Zo),ri(new Hr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return AK(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),gr(GS,qS,t),gr(GS,qS,"esm2017")}zs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};PK();function rM(t){return jH(zO(t))}function RK(t){return(e,n)=>{const r=W7(e,n).run(()=>ue(t));z7.set(e,r),K7(r,e)}}function OK(t,{firebaseApp:e,modules:n=[]}){t.provide(WO,e);for(const r of n)t.use(r.bind(null,e))}const NK=""+new URL("bundle.css",import.meta.url).href,iM={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},MK={avatarUrl:NK,headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},$K=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],LK=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],kI=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Fn;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await Ti(l)))??[])).map(async l=>dm.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[]}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Fn||(Fn={}));var dm;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await Ti(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(dm||(dm={}));var fw;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(fw||(fw={}));const wa=[{value:"bg-gray-900",label:"Default",background:"bg-gray-900",text:"text-gray-900"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-red-700"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-500"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-900"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-500"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-500"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-500"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-600"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-600"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-600"}],xI=t=>wa.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-gray-900",text:(t==null?void 0:t.text)||"text-gray-900"}:e),UK=wa.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-gray-700"}:t),kl=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],Ht=rM(),qt={content:$i(Ht,"content"),projects:$i(Ht,"projects"),menuItems:t=>$i(Ht,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:$i(Ht,"menuItemsPrivate"),blogPosts:t=>$i(Ht,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:$i(Ht,"blogPostsPrivate"),blogReactions:t=>$i(Ht,t?"blogReactionsPrivate":"blogReactions"),usersPublic:$i(Ht,"usersPublic"),files:$i(Ht,"files")},or=oD("main",{state:()=>({profile:iM,content:MK,menuItems:LK,projects:$K,blogPosts:{data:{public:[],private:[],single:null},isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1},publicUsers:[],online:!0,debug:!1,fetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility]},actions:{async fetchAll(t,e){try{this.fetchAllLoading||(this.fetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredProjects.length||!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()])))}catch(n){je.firebaseError(this.debug,n)}finally{this.fetchAllLoading=!1}},async fetchContent(){try{const t=await Ti($t(Ht,qt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){je.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await Cl(qt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await Ti(n)))})));this.projects=t.length?xS(t):this.projects}catch(t){je.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await Cl(qt.menuItems());if(t)try{e=e.concat(await Cl(qt.menuItemsPrivate,[wS("allowedUserIds","array-contains",$t(Ht,qt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?xS(e):this.menuItems,this.menuItems}catch(e){je.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{this.blogPosts.fetchLoading=!0;const r=e.visibility??this.blogPosts.visibility,i=this.blogPosts.data[r][this.blogPosts.data[r].length-1],s=[bS("datePinned","desc"),bS("date","desc"),t9(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&(this.blogPosts.data[r]=[]),!e.amount&&i&&s.push(r9(i.datePinned,i.date));var n=[];r==="private"&&t?n=await Cl(qt.blogPostsPrivate,[wS("allowedUserIds","array-contains",$t(Ht,qt.usersPublic.id,t).id),...s]):r==="public"&&(n=await Cl(qt.blogPosts(!1),s));const o=await Promise.all(n.map(async a=>await Fn.mapIncoming(a)));if(e.amount)this.blogPosts.data[r]=o;else for(const a of o)this.blogPosts.data[r].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(r){je.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchBlogPost(t,e){try{console.log("attempt to fetch single"),this.blogPosts.fetchLoading=!0;var n=await Ti($t(qt.blogPosts(!!(e!=null&&e.isPrivate)),t));return n||(n=await Ti($t(qt.blogPostsPrivate,t))),n?(this.blogPosts.data.single=await Fn.mapIncoming(n),this.blogPosts.data.single):null}catch(r){return je.firebaseError(this.debug,r),null}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await Cl(qt.usersPublic)}catch(t){return je.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await Ti($t(Ht,qt.usersPublic.id,t))}catch(e){return je.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{this.blogPosts.mutationLoading=!0;const i=mo(e);return await Xp($t(Ht,qt.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:jn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?jn.fromDate(e.countdown):null,timer:e.timer?jn.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),je.success("Successfully created Post"),!0}catch(i){return je.firebaseError(this.debug,i),!1}finally{this.blogPosts.mutationLoading=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.mutationLoading=!0;const i=qt.blogPosts(n.isPrivate).id;let s="";if(Fn.Content.instanceOf(e)&&(await wo($t(Ht,i,t),{...Fn.Content.convert(e),dateUpdated:jn.now()}),s="content"),Fn.Styling.instanceOf(e)&&(await wo($t(Ht,i,t),{...Fn.Styling.convert(e)}),s="styling"),Fn.Settings.instanceOf(e)&&(await wo($t(Ht,i,t),{...Fn.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){const o=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){je.firebaseError(this.debug,i)}finally{this.blogPosts.mutationLoading=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||je.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,dm.convert(a),{includeTime:!0,fetch:!1})||je.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=G0(a);await this.updateFileInfo(l.name,o)||je.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return je.error("Failed to re-create Post",{debug:this.debug}),!1}else return je.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return je.firebaseError(this.debug,s),!1}finally{this.blogPosts.mutationLoading=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=mo(n);return await Wc($t(Ht,qt.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),je.success("Successfully deleted Post"),!0}return!1}catch(n){return je.firebaseError(this.debug,n),!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{const r=mo(t),i=$t(Ht,qt.blogPosts(r.isPrivate).id,t.id),s=await Ti(i);if(s){const o=await OW(qt.blogReactions(r.isPrivate),{user:$t(Ht,qt.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:jn.now(),post:i});if(await wo($t(Ht,qt.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(s.id,r);this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return je.success("Successfully created Reaction"),!0}return!1}catch(r){return je.firebaseError(this.debug,r),!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{const i=mo(e);if(n.mutatePost){const s=$t(Ht,qt.blogPosts(i.isPrivate).id,e.id),o=await Ti(s);o&&await wo(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await Wc($t(Ht,qt.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),je.success("Successfully deleted Reaction"),!0}catch(i){return je.firebaseError(this.debug,i),!1}},async deleteBlogReactionsOfBlogPost(t){try{const e=mo(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await Wc($t(Ht,qt.blogReactions(e.isPrivate).id,r.id));return n.length&&je.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return je.firebaseError(this.debug,e),!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await Ti($t(Ht,qt.files.path,t))}catch(e){return je.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=IW(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,je.success("Successfully uploaded File"),!0}catch(r){return je.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=mo(i);s=$t(Ht,qt.blogPosts(o.isPrivate).id,i.id)}return await Xp($t(Ht,qt.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return je.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=mo(e);n=$t(Ht,qt.blogPosts(r.isPrivate).id,e.id)}return await wo($t(Ht,qt.files.path,t),{post:n??null}),!0}catch(n){return je.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await Wc($t(Ht,qt.files.path,t.name)),await AW(t),e||je.success("Successfully deleted File"),!0}catch(n){return je.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(G0(r),!0);return n.length&&je.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return je.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),Bl=HO(tD);Bl.onAuthStateChanged(t=>{rr().fetchUser(t);const e=or();e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const Rs=rM(),la={users:$i(Rs,"users"),usersPublic:$i(Rs,"usersPublic")},rr=oD("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:Bl.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await Ti($t(Rs,la.usersPublic.id,t.uid));const e=await Ti($t(Rs,la.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await A8(Bl,t,e);await this.fetchUser(n),je.success("Successfully logged in",{route:"dashboard"})}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await C8(Bl,t,e);await Xp($t(Rs,la.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),je.success("Successfully created your account",{route:"dashboard"})}catch(r){je.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Go.credential(this.firebaseUser.email,e);await US(this.firebaseUser,n),await k8(this.firebaseUser,t),je.success("Successfully changed your e-mail")}}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Go.credential(this.firebaseUser.email,e);await US(this.firebaseUser,n),await x8(this.firebaseUser,t),je.success("Successfully changed your password")}}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await I8(Bl,t),je.success("Successfully requested password reset")}catch(e){je.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(Yi(this.currentUser,t)?je.warning("Nothing changed in your details"):(await wo($t(Rs,la.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your profile")))}catch(e){je.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?Yi(this.publicUser,t)?je.warning("Nothing changed in your public profile"):(await wo($t(Rs,la.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your public profile")):this.firebaseUser?(await Xp($t(Rs,la.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your public profile")):je.firebaseError(!1)}catch(e){je.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await P8(Bl),this.currentUser=null,this.publicUser=null,je.success("Successfully logged out",{route:"home"})}catch(t){je.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await Wc($t(Rs,la.users.id,this.firebaseUser.uid)),await R8(this.firebaseUser),this.currentUser=null,this.publicUser=null,je.success("Successfully deleted your account",{route:"home"}))}catch(t){je.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}});function FK(t,e){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z","clip-rule":"evenodd"})])}function VK(t,e){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 018.75 1h2.5A2.75 2.75 0 0114 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 016 4.193V3.75zm6.5 0v.325a41.622 41.622 0 00-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25zM10 10a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1V11a1 1 0 00-1-1H10z","clip-rule":"evenodd"}),ne("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 01-9.274 0C3.985 17.585 3 16.402 3 15.055z"})])}function BK(t,e){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}function jK(t,e){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{"fill-rule":"evenodd",d:"M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 002.273 1.765 11.842 11.842 0 00.976.544l.062.029.018.008.006.003zM10 11.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z","clip-rule":"evenodd"})])}function HK(t,e){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{d:"M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z"})])}function WK(t,e){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ne("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})])}const zK=["href"],YK=Ee({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{}},setup(t){return(e,n)=>{const r=eo("RouterLink");return e.url?(P(),X(Ce,{key:0},[e.url.startsWith("http")?(P(),X("a",{key:1,class:Oe(e.class),href:e.url},[ke(e.$slots,"default")],10,zK)):(P(),ge(r,{key:0,class:Oe(e.class),"active-class":e.activeClass,to:{path:e.url}},{default:ye(()=>[ke(e.$slots,"default")]),_:3},8,["class","active-class","to"]))],64)):ke(e.$slots,"default",{key:1,class:Oe(e.class)})}}}),KK=["type","disabled"],GK={class:Oe("w-full flex flex-column justify-center")},bt=Ee({__name:"CustomButton",props:{class:{},url:{},type:{},activeClass:{},style:{},outlined:{type:Boolean},list:{type:Boolean},action:{},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=ie(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"action-positive":return e.outlined?"button-outlined-action-positive":"button-action-positive";case"orange":return e.outlined?"button-outlined-orange":"button-orange";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(P(),ge(YK,{class:Oe([n.value,"md:mt-0 py-2 px-4 rounded-full",r.list?"flex flex-column justify-center":"",...x(Vl)(e.class)]),activeClass:r.activeClass,url:r.url},{default:ye(({class:s})=>[ne("button",{class:Oe(s),style:Yn(r.style),type:r.action??"button",disabled:r.loading,onClick:i[0]||(i[0]=o=>r.$emit("click"))},[ne("span",GK,[r.loading?(P(),ge(x(FK),{key:0,class:"my-1 mr-2.5 h-5 w-5 animate-spin"})):ae("",!0),ke(r.$slots,"default")])],14,KK)]),_:3},8,["class","activeClass","url"]))}}),Tc=Ee({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(P(),X("span",{class:Oe({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},qe(e.time),3))}});const qK=Ee({__name:"CountdownWrapper",props:{time:{},direction:{}},setup(t){const e=t,n=m=>(e.direction==="up"?m=Math.abs(m):m=Math.max(0,m),Math.floor(m)),r=ue(0),i=ie(()=>n(r.value/Qp)),s=ie(()=>r.value%Qp),o=ie(()=>n(s.value/qp)),a=ie(()=>s.value%qp),l=ie(()=>n(a.value/K0)),u=ie(()=>a.value%K0),c=ie(()=>n(u.value/Y0)),d=ie(()=>u.value%Y0),h=ie(()=>n(d.value/iO)),f=ie(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&h.value===0),p=()=>{r.value=e.time-new Date().getTime(),setTimeout(p,1e3)};return sn(()=>{p()}),(m,y)=>ke(m.$slots,"default",{years:i.value,days:o.value,hours:l.value,minutes:c.value,seconds:h.value,isTimeUp:f.value,daysIsLast:m.direction==="down"?o.value===364:o.value===0,hoursIsLast:m.direction==="down"?l.value===23:o.value===0,minutesIsLast:m.direction==="down"?c.value===59:c.value===0,secondsIsLast:m.direction==="down"?h.value===59:h.value===0})}}),QK={class:"grid grid-flow-col text-center"},XK={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},JK={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},ZK={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},eG={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},tG={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},nG={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},rG={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},iG={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},sG={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},oG={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},kf=Ee({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t;return(n,r)=>(P(),X("div",{class:Oe({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[oe(qK,{time:e.time,direction:n.direction},{default:ye(({years:i,days:s,hours:o,minutes:a,seconds:l,isTimeUp:u,daysIsLast:c,hoursIsLast:d,minutesIsLast:h,secondsIsLast:f})=>[ne("div",QK,[i>0?(P(),X("div",XK,[ne("span",JK,[oe(Tc,{time:i,animate:i>=0&&c&&d&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),Ge(" years ")])):ae("",!0),i>0||s>0||u?(P(),X("div",ZK,[ne("span",eG,[oe(Tc,{time:s,animate:s>=0&&d&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),Ge(" days ")])):ae("",!0),i>0||s>0||o>0||u?(P(),X("div",tG,[ne("span",nG,[oe(Tc,{time:o,animate:o>=0&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),Ge(" hrs ")])):ae("",!0),i>0||s>0||o>0||a>0||u?(P(),X("div",rG,[ne("span",iG,[oe(Tc,{time:a,animate:a>=0&&f,direction:n.direction},null,8,["time","animate","direction"])]),Ge(" mins ")])):ae("",!0),i>0||s>0||o>0||a>0||l>0||u?(P(),X("div",sG,[ne("span",oG,[oe(Tc,{time:l,animate:!u,direction:n.direction},null,8,["time","animate","direction"])]),Ge(" secs ")])):ae("",!0)])]),_:1},8,["time","direction"])],2))}}),aG={class:"flex justify-between"},lG={class:"flex flex-col"},uG={class:"flex justify-between"},cG={class:"xl:flex"},dG={key:0,class:"flex gap-2"},hG=["src"],fG=["href"],pG={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},mG={key:1,class:"flex gap-2"},gG=["src"],vG={key:0,class:"xl:mt-2"},Rr=Ee({__name:"Bubble",props:{title:{},subTitle:{},url:{},description:{},avatar:{},loading:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},setup(t){return(e,n)=>(P(),X("div",{class:Oe(["group/bubble color-primary rounded-3xl p-5 md:p-10",e.url?"hover:bg-opacity-30":null,e.loading?"animate-pulse":null])},[ne("div",aG,[ne("div",lG,[ne("div",uG,[ne("div",cG,[e.url?(P(),X("div",dG,[e.avatar?(P(),X("img",{key:0,class:"rounded-full h-10 w-10",src:e.avatar},null,8,hG)):ae("",!0),ne("a",{href:e.url},[ne("h2",pG,qe(e.title),1)],8,fG)])):e.title?(P(),X("div",mG,[e.avatar?(P(),X("img",{key:0,class:"rounded-full border border-gray-400 h-10 w-10",src:e.avatar},null,8,gG)):ae("",!0),ne("h2",Kt({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},e.titleProps),qe(e.title),17)])):ae("",!0),e.subTitle?(P(),X("p",Kt({key:2,class:"text-sm text-gray-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},e.subTitleProps),qe(e.subTitle),17)):ae("",!0)])]),e.description?(P(),X("div",vG,[(P(!0),X(Ce,null,ct(Array.isArray(e.description)?e.description:[e.description],r=>(P(),X("p",Kt({class:"text-gray-400 mb-2"},e.descriptionProps),qe(r),17))),256))])):ae("",!0)]),ke(e.$slots,"right")]),ke(e.$slots,"default")],2))}}),yG={key:0,class:"text-red-600"},c1=Ee({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(P(),X("p",yG,qe(e.error),1)):ae("",!0)}});var d1=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(d1||{});const Ct={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},wG=Ee({__name:"TrashIcon",setup(t){return(e,n)=>(P(),ge(x(WK),{class:"h-7 w-7"}))}}),sM=Ee({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(P(),ge(bt,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",onClick:r[0]||(r[0]=i=>n.$emit("click"))},{default:ye(()=>[oe(wG)]),_:1}))}}),bG={class:"m-4"},_G=["for"],TG={class:"flex"},Wn=Ee({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete"],setup(t,{expose:e,emit:n}){const r=t,i=ie(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=ie(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===d1.Required)?" *":""):void 0),o=ie(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Ct.Min),typeof r.maxValue=="number"&&h.push(Ct.Max),typeof r.minLength=="number"&&h.push(Ct.MinLength),typeof r.maxLength=="number"&&h.push(Ct.MaxLength),r.compare&&h.push(Ct.EqualTo);const f={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=h.filter(m=>!m.test(f)).map(m=>{var y;return((y=m.compareError)==null?void 0:y.call(m,f))||m.error(f)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,f;return P(),X("div",bG,[c.label?(P(),X("label",Kt({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),qe(s.value),17,_G)):ae("",!0),ne("div",TG,[(P(),ge(fh(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"textarea":"input"),Kt({id:o.value,ref:"input",value:i.value,class:"input-field",type:((f=c.inputProps)==null?void 0:f.type)||"text",placeholder:c.placeholder,onInput:a},c.inputProps),null,16,["id","value","type","placeholder"])),c.deleteButton?(P(),ge(sM,{key:0,class:"h-fit",onClick:d[0]||(d[0]=p=>u("update:delete"))})):ae("",!0)]),c.error?(P(),ge(c1,{key:1,name:c.name,error:c.error},null,8,["name","error"])):ae("",!0)])}}}),EG={class:"flex flex-col"},SG=Ee({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=rn(rr()),{deleteBlogReaction:i}=or();return(s,o)=>(P(),ge(Rr,{class:Oe(["p-5 mb-5 w-full md:w-3/4",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50"]),titleProps:{class:"!text-base mt-1"},title:e.reaction.user.displayName||"Unknown user",subTitle:x(q0)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message},mr({_:2},[x(n)&&e.reaction.user.id===x(n).id||x(r)?{name:"right",fn:ye(()=>[ne("div",EG,[e.post.locked?ae("",!0):(P(),ge(bt,{key:0,type:"danger",outlined:"",class:"h-fit",onClick:o[0]||(o[0]=a=>x(i)(e.reaction.id,e.post))},{default:ye(()=>[Ge(" Delete ")]),_:1}))])]),key:"0"}:void 0]),1032,["class","title","subTitle","avatar","description"]))}}),IG=["onSubmit"],CG={class:"grid justify-items-center p-5"},AG=Ee({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=rn(rr()),r=or(),{content:i}=rn(r),{createBlogReaction:s}=r,o=ue(),a=qn({reaction:{value:"",error:""}}),l=async()=>{await o.value.test(),!a.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:a.reaction.value,date:new Date})&&(a.reaction.value=""),$W()};return(u,c)=>(P(),X("form",{action:"",onSubmit:Ot(l,["prevent"])},[ne("div",CG,[(P(!0),X(Ce,null,ct(u.post.reactions,d=>(P(),ge(SG,{post:u.post,reaction:d},null,8,["post","reaction"]))),256)),!x(n)||u.post.reactions.filter(d=>d.user.id===x(n).id).length<8?(P(),ge(Rr,{key:0,class:Oe(["p-5 flex justify-center w-full md:w-3/4",u.post.colorTertiary||"bg-gray-700",u.post.opacityTertiary||"bg-opacity-50"])},{default:ye(()=>[oe(Wn,{class:"w-5/6",id:u.post.id,inputProps:{class:["rounded-xl border-none !placeholder-gray-300",u.post.colorSecondary||u.post.colorPrimary||"bg-gray-600",u.post.opacitySecondary||"!bg-opacity-20",!u.post.locked&&x(n)?"hover:!bg-gray-700 focus:!bg-gray-600 focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50"],disabled:!x(n)||u.post.locked},ref_key:"reaction",ref:o,name:"reaction",placeholder:u.post.locked?"Locked for comments":x(n)?"Reply":x(i).blogLoginGuest,modelValue:a.reaction.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.reaction.value=d),error:a.reaction.error,"onUpdate:error":c[1]||(c[1]=d=>a.reaction.error=d),rules:[x(Ct).Required],onClick:c[2]||(c[2]=()=>!x(n)&&!u.post.locked?x(I1).push({name:"login"}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):ae("",!0)])],40,IG))}}),kG=Ee({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(P(),X("div",null,[ne("div",{class:Oe({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[ne("ul",{class:Oe(["list-disc",{"ms-5":e.alignment==="left"}])},[(P(!0),X(Ce,null,ct(e.bullets,r=>(P(),X("li",null,qe(r),1))),256))],2)],2)]))}}),xG=["href"],DG={class:"break-all"},PG={key:1},RG={key:2},xf=Ee({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(P(!0),X(Ce,null,ct(e.description.split(`
`).map(s=>s.trim()),s=>(P(),X("div",{class:Oe(["text-lg",e.class])},[ne("div",{class:Oe({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(P(),X("a",{key:0,href:s,class:"underline hover:no-underline"},[ne("span",DG,qe(s),1)],8,xG)):s?(P(),X("p",PG,qe(s),1)):(P(),X("br",RG))],2)],2))),256))}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){MG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}function OG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oM(r.key),r)}}function NG(t,e,n){return e&&PI(t.prototype,e),n&&PI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MG(t,e,n){return e=oM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $G(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oM(t){var e=$G(t,"string");return typeof e=="symbol"?e:String(e)}var RI={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},LG='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Hg=typeof window<"u"&&typeof window.document<"u",Zs=Hg?window:{},gu=Hg&&Zs.document.documentElement?"ontouchstart"in Zs.document.documentElement:!1,f1=Hg?"PointerEvent"in Zs:!1,pt="viewer",sp="move",aM="switch",zc="zoom",Df="".concat(pt,"-active"),UG="".concat(pt,"-close"),op="".concat(pt,"-fade"),mw="".concat(pt,"-fixed"),FG="".concat(pt,"-fullscreen"),OI="".concat(pt,"-fullscreen-exit"),ba="".concat(pt,"-hide"),VG="".concat(pt,"-hide-md-down"),BG="".concat(pt,"-hide-sm-down"),jG="".concat(pt,"-hide-xs-down"),bi="".concat(pt,"-in"),md="".concat(pt,"-invisible"),vu="".concat(pt,"-loading"),HG="".concat(pt,"-move"),NI="".concat(pt,"-open"),xl="".concat(pt,"-show"),An="".concat(pt,"-transition"),Vu="click",gw="dblclick",MI="dragstart",$I="focusin",LI="keydown",Ii="load",Ma="error",WG=gu?"touchend touchcancel":"mouseup",zG=gu?"touchmove":"mousemove",YG=gu?"touchstart":"mousedown",UI=f1?"pointerdown":YG,FI=f1?"pointermove":zG,VI=f1?"pointerup pointercancel":WG,BI="resize",Li="transitionend",jI="wheel",HI="ready",WI="show",zI="shown",YI="hide",KI="hidden",GI="view",rh="viewed",qI="move",QI="moved",XI="rotate",JI="rotated",ZI="scale",eC="scaled",tC="zoom",nC="zoomed",rC="play",iC="stop",hm="".concat(pt,"Action"),p1=/\s\s*/,Pf=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function ih(t){return typeof t=="string"}var KG=Number.isNaN||Zs.isNaN;function Tn(t){return typeof t=="number"&&!KG(t)}function Ql(t){return typeof t>"u"}function Bu(t){return pw(t)==="object"&&t!==null}var GG=Object.prototype.hasOwnProperty;function Xl(t){if(!Bu(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&GG.call(n,"isPrototypeOf")}catch{return!1}}function tn(t){return typeof t=="function"}function an(t,e){if(t&&tn(e))if(Array.isArray(t)||Tn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else Bu(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var ci=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Bu(e)&&r.length>0&&r.forEach(function(s){Bu(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},qG=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Wi(t,e){var n=t.style;an(e,function(r,i){qG.test(i)&&Tn(r)&&(r+="px"),n[i]=r})}function QG(t){return ih(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function jl(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function it(t,e){if(!(!t||!e)){if(Tn(t.length)){an(t,function(r){it(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Lt(t,e){if(!(!t||!e)){if(Tn(t.length)){an(t,function(n){Lt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function sh(t,e,n){if(e){if(Tn(t.length)){an(t,function(r){sh(r,e,n)});return}n?it(t,e):Lt(t,e)}}var XG=/([a-z\d])([A-Z])/g;function m1(t){return t.replace(XG,"$1-$2").toLowerCase()}function Jl(t,e){return Bu(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(m1(e)))}function vw(t,e,n){Bu(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(m1(e)),n)}var lM=function(){var t=!1;if(Hg){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});Zs.addEventListener("test",n,r),Zs.removeEventListener("test",n,r)}return t}();function nn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(p1).forEach(function(s){if(!lM){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function ut(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(p1).forEach(function(s){if(r.once&&!lM){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function Rn(t,e,n,r){var i;return tn(Event)&&tn(CustomEvent)?i=new CustomEvent(e,h1({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function JG(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function ap(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];Tn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),Tn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),Tn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),Tn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),Tn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function ZG(t){return ih(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var ty=Zs.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(Zs.navigator.userAgent);function uM(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!ty)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),ty||i.removeChild(r)},an(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,ty||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Rf(t){switch(t){case 2:return jG;case 3:return BG;case 4:return VG;default:return""}}function eq(t){var e=h1({},t),n=[];return an(t,function(r,i){delete e[i],an(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),h=(d-c)/c;n.push(h)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Of(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:h1({timeStamp:Date.now(),startX:n,startY:r},i)}function tq(t){var e=0,n=0,r=0;return an(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var nq={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=ci({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Wi(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",an(this.images,function(o,a){var l=o.src,u=o.alt||ZG(l),c=e.getImageURL(o);if(l||c){var d=document.createElement("li"),h=document.createElement("img");an(r.inheritedAttributes,function(f){var p=o.getAttribute(f);p!==null&&h.setAttribute(f,p)}),r.navbar&&(h.src=l||c),h.alt=u,h.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(h),i.appendChild(d),s.push(d)}}),this.items=s,an(s,function(o){var a=o.firstElementChild,l,u;vw(a,"filled",!0),r.loading&&it(o,vu),ut(a,Ii,l=function(d){nn(a,Ma,u),r.loading&&Lt(o,vu),e.loadImage(d)},{once:!0}),ut(a,Ma,u=function(){nn(a,Ii,l),r.loading&&Lt(o,vu)},{once:!0})}),r.transition&&ut(n,rh,function(){it(i,An)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Wi(this.list,ci({width:o*this.length-i},ap({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Lt(e,An),Wi(e,ap({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=uM(i,r,function(d,h){var f=d/h,p=Math.max(0,Math.min(1,r.initialCoverage)),m=a,y=l;n.imageInitializing=!1,l*f>a?y=a/f:m=l*f,p=Tn(p)?p:.9,m=Math.min(m*p,d),y=Math.min(y*p,h);var _=(a-m)/2,v=(l-y)/2,b={left:_,top:v,x:_,y:v,width:m,height:y,oldRatio:1,ratio:m/d,aspectRatio:f,naturalWidth:d,naturalHeight:h},g=ci({},b);r.rotatable&&(b.rotate=u.rotate||0,g.rotate=0),r.scalable&&(b.scaleX=u.scaleX||1,b.scaleY=u.scaleY||1,g.scaleX=1,g.scaleY=1),n.imageData=b,n.initialImageData=g,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Wi(r,ci({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},ap(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&jl(r,An)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){nn(r,Li,s)}},ut(r,Li,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},rq={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;ut(n,Vu,this.onClick=this.click.bind(this)),ut(n,MI,this.onDragStart=this.dragstart.bind(this)),ut(r,UI,this.onPointerDown=this.pointerdown.bind(this)),ut(i,FI,this.onPointerMove=this.pointermove.bind(this)),ut(i,VI,this.onPointerUp=this.pointerup.bind(this)),ut(i,LI,this.onKeyDown=this.keydown.bind(this)),ut(window,BI,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&ut(n,jI,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&ut(r,gw,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;nn(n,Vu,this.onClick),nn(n,MI,this.onDragStart),nn(r,UI,this.onPointerDown),nn(i,FI,this.onPointerMove),nn(i,VI,this.onPointerUp),nn(i,LI,this.onKeyDown),nn(window,BI,this.onResize),e.zoomable&&e.zoomOnWheel&&nn(n,jI,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&nn(r,gw,this.onDblclick)}},iq={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=Jl(i,hm);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=Jl(i,hm)),gu&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Jl(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(gu&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Lt(i,md),r.loading&&Lt(this.canvas,vu),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){sh(i,HG,r.movable),sh(i,An,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,tn(r.viewed)&&ut(n,rh,r.viewed,{once:!0}),Rn(n,rh,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!Jl(n,"filled");uM(n,this.options,function(a,l){var u=a/l,c=i,d=s;s*u>i?o?c=s*u:d=i/u:o?d=i/u:c=s*u,Wi(n,ci({width:c,height:d},ap({translateX:(i-c)/2,translateY:(s-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Tn(i)&&i!==1||Tn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?an(e.changedTouches,function(a){r[a.identifier]=Of(a)}):r[e.pointerId||0]=Of(e);var o=n.movable?sp:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=zc:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=aM),n.transition&&(o===sp||o===zc)&&Lt(this.image,An),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?an(e.changedTouches,function(i){ci(n[i.identifier]||{},Of(i,!0))}):ci(n[e.pointerId||0]||{},Of(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?an(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===sp||i===zc)&&it(this.image,An),this.action=!1,gu&&i!==zc&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Rn(n.image,gw,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Rn(n.canvas,Vu,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}an(this.player.getElementsByTagName("img"),function(n){ut(n,Ii,e.loadImage.bind(e),{once:!0}),Rn(n,Ii)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},sq={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(tn(r.show)&&ut(n,WI,r.show,{once:!0}),Rn(n,WI)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Lt(i,ba),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){nn(i,Li,s),Lt(i,bi)}},it(i,An),i.initialOffsetWidth=i.offsetWidth,ut(i,Li,s,{once:!0}),it(i,bi)}else it(i,bi),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(tn(i.hide)&&ut(r,YI,i.hide,{once:!0}),Rn(r,YI)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Lt(s,bi),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===s&&(nn(s,Li,c),e.hidden())},u=function(){jl(s,An)?(ut(s,Li,l),Lt(s,bi)):a()};this.transitioning={abort:function(){e.viewed&&jl(o,An)?nn(o,Li,u):jl(s,An)&&nn(s,Li,l)}},this.viewed&&jl(o,An)?(ut(o,Li,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=Jl(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(an(i.inheritedAttributes,function(y){var _=l.getAttribute(y);_!==null&&d.setAttribute(y,_)}),d.src=u,d.alt=c,tn(i.view)&&ut(r,GI,i.view,{once:!0}),Rn(r,GI,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];h&&(Lt(h,Df),h.removeAttribute("aria-selected")),it(a,Df),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},it(d,md),i.loading&&it(o,vu),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var f=function(){var _=e.imageData,v=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=QG(tn(v)?v.call(e,d,_):"".concat(c," (").concat(_.naturalWidth,"  ").concat(_.naturalHeight,")"))},p,m;return ut(r,rh,f,{once:!0}),this.viewing={abort:function(){nn(r,rh,f),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",nn(d,Ii,p),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(ut(d,Ii,p=function(){nn(d,Ma,m),e.load()},{once:!0}),ut(d,Ma,m=function(){nn(d,Ii,p),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Lt(d,md),i.loading&&Lt(e.canvas,vu)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Lt(d,md),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(Ql(e)?e:r.x+Number(e),Ql(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(Tn(e)?c=!0:e=l,Tn(r)?c=!0:r=u,c){if(tn(o.move)&&ut(s,qI,o.move,{once:!0}),Rn(s,qI,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,tn(o.moved)&&ut(s,QI,o.moved,{once:!0}),Rn(s,QI,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),Tn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(tn(i.rotate)&&ut(r,XI,i.rotate,{once:!0}),Rn(r,XI,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,tn(i.rotated)&&ut(r,JI,i.rotated,{once:!0}),Rn(r,JI,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(Tn(e)?u=!0:e=a,Tn(r)?u=!0:r=l,u){if(tn(s.scale)&&ut(i,ZI,s.scale,{once:!0}),Rn(i,ZI,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,tn(s.scaled)&&ut(i,eC,s.scaled,{once:!0}),Rn(i,eC,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,h=c.y,f=c.width,p=c.height,m=c.naturalWidth,y=c.naturalHeight;if(e=Math.max(0,e),Tn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var _=Math.max(.01,l.minZoomRatio),v=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,_),v)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var b=m*e,g=y*e,w=b-f,T=g-p,R=c.ratio;if(tn(l.zoom)&&ut(a,tC,l.zoom,{once:!0}),Rn(a,tC,{ratio:e,oldRatio:R,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var A=JG(this.viewer),k=u&&Object.keys(u).length>0?tq(u):{pageX:s.pageX,pageY:s.pageY};c.x-=w*((k.pageX-A.left-d)/f),c.y-=T*((k.pageY-A.top-h)/p)}else Xl(i)&&Tn(i.x)&&Tn(i.y)?(c.x-=w*((i.x-d)/f),c.y-=T*((i.y-h)/p)):(c.x-=w/2,c.y-=T/2);c.left=c.x,c.top=c.y,c.width=b,c.height=g,c.oldRatio=R,c.ratio=e,this.renderImage(function(){n.zooming=!1,tn(l.zoomed)&&ut(a,nC,l.zoomed,{once:!0}),Rn(a,nC,{ratio:e,oldRatio:R,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(tn(i.play)&&ut(r,rC,i.play,{once:!0}),Rn(r,rC)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),it(s,xl),an(this.items,function(h,f){var p=h.querySelector("img"),m=document.createElement("img");m.src=Jl(p,"originalUrl"),m.alt=p.getAttribute("alt"),m.referrerPolicy=p.referrerPolicy,l+=1,it(m,op),sh(m,An,i.transition),jl(h,Df)&&(it(m,bi),u=f),a.push(m),ut(m,Ii,o,{once:!0}),s.appendChild(m)}),Tn(i.interval)&&i.interval>0){var c=function h(){clearTimeout(e.playing.timeout),Lt(a[u],bi),u-=1,u=u>=0?u:l-1,it(a[u],bi),e.playing.timeout=setTimeout(h,i.interval)},d=function h(){clearTimeout(e.playing.timeout),Lt(a[u],bi),u+=1,u=u<l?u:0,it(a[u],bi),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(tn(r.stop)&&ut(n,iC,r.stop,{once:!0}),Rn(n,iC)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,an(i.getElementsByTagName("img"),function(s){nn(s,Ii,e.onLoadWhenPlay)}),Lt(i,xl),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),it(this.button,OI),n.transition&&(Lt(s,An),this.viewed&&Lt(i,An)),it(r,mw),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Wi(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=ci({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){it(i,An),it(s,An)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Lt(this.button,OI),n.transition&&(Lt(s,An),this.viewed&&Lt(i,An)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Lt(r,mw),Wi(r,{zIndex:n.zIndexInline}),this.viewerData=ci({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){it(i,An),it(s,An)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Rn(r,Li),it(r,xl),it(r,op),it(r,An),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,it(r,bi)):(it(r,xl),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(ut(r,Li,function(){Lt(r,xl),Lt(r,op),Lt(r,An),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Lt(r,bi),e.fading=!0):(Lt(r,xl),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=ci({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(an(i?[n]:n.querySelectorAll("img"),function(u){tn(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(an(this.items,function(u,c){var d=u.querySelector("img"),h=s[c];h&&d?(h.src!==d.src||h.alt!==d.alt)&&o.push(c):o.push(c)}),Wi(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];it(l,Df),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[pt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||nn(e,Vu,this.onStart),e[pt]=void 0,this):this}},oq={getImageURL:function(e){var n=this.options.url;return ih(n)?n=e.getAttribute(n):tn(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),ut(document,$I,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(nn(document,$I,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;it(e,NI),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Lt(e,NI),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),tn(n.shown)&&ut(e,zI,n.shown,{once:!0}),Rn(e,zI)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),it(r,ba),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(tn(n.hidden)&&ut(e,KI,n.hidden,{once:!0}),Rn(e,KI,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?Xl(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case sp:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case zc:this.zoom(eq(r),!1,null,e);break;case aM:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}an(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},aq=Zs.Viewer,lq=function(t){return function(){return t+=1,t}}(-1),ju=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(OG(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=ci({},RI,Xl(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=lq(),this.init()}return NG(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[pt]){r[pt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(an(s?[r]:r.querySelectorAll("img"),function(u){tn(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),Ql(document.createElement(pt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){an(o,function(c){c.complete||(nn(c,Ii,l),nn(c,Ma,l))})}},an(o,function(u){if(u.complete)l();else{var c,d;ut(u,Ii,c=function(){nn(u,Ma,d),l()},{once:!0}),ut(u,Ma,d=function(){nn(u,Ii,c),l()},{once:!0})}})}else ut(r,Vu,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!tn(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=LG;var o=s.querySelector(".".concat(pt,"-container")),a=o.querySelector(".".concat(pt,"-title")),l=o.querySelector(".".concat(pt,"-toolbar")),u=o.querySelector(".".concat(pt,"-navbar")),c=o.querySelector(".".concat(pt,"-button")),d=o.querySelector(".".concat(pt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=o.querySelector(".".concat(pt,"-footer")),this.tooltipBox=o.querySelector(".".concat(pt,"-tooltip")),this.player=o.querySelector(".".concat(pt,"-player")),this.list=o.querySelector(".".concat(pt,"-list")),o.id="".concat(pt).concat(this.id),a.id="".concat(pt,"Title").concat(this.id),it(a,r.title?Rf(Array.isArray(r.title)?r.title[0]:r.title):ba),it(u,r.navbar?Rf(r.navbar):ba),sh(c,ba,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(it(o,"".concat(pt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&vw(d,hm,"hide")),ih(r.className)&&r.className&&r.className.split(p1).forEach(function(b){it(o,b)}),r.toolbar){var h=document.createElement("ul"),f=Xl(r.toolbar),p=Pf.slice(0,3),m=Pf.slice(7,9),y=Pf.slice(9);f||it(l,Rf(r.toolbar)),an(f?r.toolbar:Pf,function(b,g){var w=f&&Xl(b),T=f?m1(g):b,R=w&&!Ql(b.show)?b.show:b;if(!(!R||!r.zoomable&&p.indexOf(T)!==-1||!r.rotatable&&m.indexOf(T)!==-1||!r.scalable&&y.indexOf(T)!==-1)){var A=w&&!Ql(b.size)?b.size:b,k=w&&!Ql(b.click)?b.click:b,S=document.createElement("li");r.keyboard&&S.setAttribute("tabindex",0),S.setAttribute("role","button"),it(S,"".concat(pt,"-").concat(T)),tn(k)||vw(S,hm,T),Tn(R)&&it(S,Rf(R)),["small","large"].indexOf(A)!==-1?it(S,"".concat(pt,"-").concat(A)):T==="play"&&it(S,"".concat(pt,"-large")),tn(k)&&ut(S,Vu,k),h.appendChild(S)}}),l.appendChild(h)}else it(l,ba);if(!r.rotatable){var _=l.querySelectorAll('li[class*="rotate"]');it(_,md),an(_,function(b){l.appendChild(b)})}if(r.inline)it(c,FG),Wi(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Wi(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{it(c,UG),it(o,mw),it(o,op),it(o,ba),Wi(o,{zIndex:r.zIndex});var v=r.container;ih(v)&&(v=n.ownerDocument.querySelector(v)),v||(v=this.body),v.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,tn(r.ready)&&ut(n,HI,r.ready,{once:!0}),Rn(n,HI)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=aq,t}},{key:"setDefaults",value:function(n){ci(RI,Xl(n)&&n)}}]),t}();ci(ju.prototype,nq,rq,iq,sq,oq);var uq=typeof global=="object"&&global&&global.Object===Object&&global;const cM=uq;var cq=typeof self=="object"&&self&&self.Object===Object&&self,dq=cM||cq||Function("return this")();const Wg=dq;var hq=Wg.Symbol;const fm=hq;var dM=Object.prototype,fq=dM.hasOwnProperty,pq=dM.toString,Ec=fm?fm.toStringTag:void 0;function mq(t){var e=fq.call(t,Ec),n=t[Ec];try{t[Ec]=void 0;var r=!0}catch{}var i=pq.call(t);return r&&(e?t[Ec]=n:delete t[Ec]),i}var gq=Object.prototype,vq=gq.toString;function yq(t){return vq.call(t)}var wq="[object Null]",bq="[object Undefined]",sC=fm?fm.toStringTag:void 0;function zg(t){return t==null?t===void 0?bq:wq:sC&&sC in Object(t)?mq(t):yq(t)}function Yg(t){return t!=null&&typeof t=="object"}var _q="[object Symbol]";function Tq(t){return typeof t=="symbol"||Yg(t)&&zg(t)==_q}var Eq=Array.isArray;const Sq=Eq;var Iq=/\s/;function Cq(t){for(var e=t.length;e--&&Iq.test(t.charAt(e)););return e}var Aq=/^\s+/;function kq(t){return t&&t.slice(0,Cq(t)+1).replace(Aq,"")}function sl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var oC=0/0,xq=/^[-+]0x[0-9a-f]+$/i,Dq=/^0b[01]+$/i,Pq=/^0o[0-7]+$/i,Rq=parseInt;function aC(t){if(typeof t=="number")return t;if(Tq(t))return oC;if(sl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kq(t);var n=Dq.test(t);return n||Pq.test(t)?Rq(t.slice(2),n?2:8):xq.test(t)?oC:+t}function hM(t){return t}var Oq="[object AsyncFunction]",Nq="[object Function]",Mq="[object GeneratorFunction]",$q="[object Proxy]";function fM(t){if(!sl(t))return!1;var e=zg(t);return e==Nq||e==Mq||e==Oq||e==$q}var Lq=Wg["__core-js_shared__"];const ny=Lq;var lC=function(){var t=/[^.]+$/.exec(ny&&ny.keys&&ny.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Uq(t){return!!lC&&lC in t}var Fq=Function.prototype,Vq=Fq.toString;function Bq(t){if(t!=null){try{return Vq.call(t)}catch{}try{return t+""}catch{}}return""}var jq=/[\\^$.*+?()[\]{}|]/g,Hq=/^\[object .+?Constructor\]$/,Wq=Function.prototype,zq=Object.prototype,Yq=Wq.toString,Kq=zq.hasOwnProperty,Gq=RegExp("^"+Yq.call(Kq).replace(jq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qq(t){if(!sl(t)||Uq(t))return!1;var e=fM(t)?Gq:Hq;return e.test(Bq(t))}function Qq(t,e){return t==null?void 0:t[e]}function Xq(t,e){var n=Qq(t,e);return qq(n)?n:void 0}function Jq(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Zq=800,eQ=16,tQ=Date.now;function nQ(t){var e=0,n=0;return function(){var r=tQ(),i=eQ-(r-n);if(n=r,i>0){if(++e>=Zq)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function rQ(t){return function(){return t}}var iQ=function(){try{var t=Xq(Object,"defineProperty");return t({},"",{}),t}catch{}}();const pm=iQ;var sQ=pm?function(t,e){return pm(t,"toString",{configurable:!0,enumerable:!1,value:rQ(e),writable:!0})}:hM;const oQ=sQ;var aQ=nQ(oQ);const lQ=aQ;var uQ=9007199254740991,cQ=/^(?:0|[1-9]\d*)$/;function pM(t,e){var n=typeof t;return e=e??uQ,!!e&&(n=="number"||n!="symbol"&&cQ.test(t))&&t>-1&&t%1==0&&t<e}function mM(t,e,n){e=="__proto__"&&pm?pm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function g1(t,e){return t===e||t!==t&&e!==e}var dQ=Object.prototype,hQ=dQ.hasOwnProperty;function gM(t,e,n){var r=t[e];(!(hQ.call(t,e)&&g1(r,n))||n===void 0&&!(e in t))&&mM(t,e,n)}function fQ(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?mM(n,a,l):gM(n,a,l)}return n}var uC=Math.max;function pQ(t,e,n){return e=uC(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=uC(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Jq(t,this,a)}}function vM(t,e){return lQ(pQ(t,e,hM),t+"")}var mQ=9007199254740991;function yM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mQ}function Kg(t){return t!=null&&yM(t.length)&&!fM(t)}function wM(t,e,n){if(!sl(n))return!1;var r=typeof e;return(r=="number"?Kg(n)&&pM(e,n.length):r=="string"&&e in n)?g1(n[e],t):!1}function gQ(t){return vM(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&wM(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var vQ=Object.prototype;function v1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vQ;return t===n}function yQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var wQ="[object Arguments]";function cC(t){return Yg(t)&&zg(t)==wQ}var bM=Object.prototype,bQ=bM.hasOwnProperty,_Q=bM.propertyIsEnumerable,TQ=cC(function(){return arguments}())?cC:function(t){return Yg(t)&&bQ.call(t,"callee")&&!_Q.call(t,"callee")};const EQ=TQ;function SQ(){return!1}var _M=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dC=_M&&typeof module=="object"&&module&&!module.nodeType&&module,IQ=dC&&dC.exports===_M,hC=IQ?Wg.Buffer:void 0,CQ=hC?hC.isBuffer:void 0,AQ=CQ||SQ;const kQ=AQ;var xQ="[object Arguments]",DQ="[object Array]",PQ="[object Boolean]",RQ="[object Date]",OQ="[object Error]",NQ="[object Function]",MQ="[object Map]",$Q="[object Number]",LQ="[object Object]",UQ="[object RegExp]",FQ="[object Set]",VQ="[object String]",BQ="[object WeakMap]",jQ="[object ArrayBuffer]",HQ="[object DataView]",WQ="[object Float32Array]",zQ="[object Float64Array]",YQ="[object Int8Array]",KQ="[object Int16Array]",GQ="[object Int32Array]",qQ="[object Uint8Array]",QQ="[object Uint8ClampedArray]",XQ="[object Uint16Array]",JQ="[object Uint32Array]",un={};un[WQ]=un[zQ]=un[YQ]=un[KQ]=un[GQ]=un[qQ]=un[QQ]=un[XQ]=un[JQ]=!0;un[xQ]=un[DQ]=un[jQ]=un[PQ]=un[HQ]=un[RQ]=un[OQ]=un[NQ]=un[MQ]=un[$Q]=un[LQ]=un[UQ]=un[FQ]=un[VQ]=un[BQ]=!1;function ZQ(t){return Yg(t)&&yM(t.length)&&!!un[zg(t)]}function eX(t){return function(e){return t(e)}}var TM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gd=TM&&typeof module=="object"&&module&&!module.nodeType&&module,tX=gd&&gd.exports===TM,ry=tX&&cM.process,nX=function(){try{var t=gd&&gd.require&&gd.require("util").types;return t||ry&&ry.binding&&ry.binding("util")}catch{}}();const fC=nX;var pC=fC&&fC.isTypedArray,rX=pC?eX(pC):ZQ;const iX=rX;var sX=Object.prototype,oX=sX.hasOwnProperty;function EM(t,e){var n=Sq(t),r=!n&&EQ(t),i=!n&&!r&&kQ(t),s=!n&&!r&&!i&&iX(t),o=n||r||i||s,a=o?yQ(t.length,String):[],l=a.length;for(var u in t)(e||oX.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||pM(u,l)))&&a.push(u);return a}function aX(t,e){return function(n){return t(e(n))}}var lX=aX(Object.keys,Object);const uX=lX;var cX=Object.prototype,dX=cX.hasOwnProperty;function hX(t){if(!v1(t))return uX(t);var e=[];for(var n in Object(t))dX.call(t,n)&&n!="constructor"&&e.push(n);return e}function fX(t){return Kg(t)?EM(t):hX(t)}var pX=Object.prototype,mX=pX.hasOwnProperty,gX=gQ(function(t,e){if(v1(e)||Kg(e)){fQ(e,fX(e),t);return}for(var n in e)mX.call(e,n)&&gM(t,n,e[n])});const vX=gX;function yX(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var wX=Object.prototype,bX=wX.hasOwnProperty;function _X(t){if(!sl(t))return yX(t);var e=v1(t),n=[];for(var r in t)r=="constructor"&&(e||!bX.call(t,r))||n.push(r);return n}function TX(t){return Kg(t)?EM(t,!0):_X(t)}var EX=function(){return Wg.Date.now()};const iy=EX;var SX="Expected a function",IX=Math.max,CX=Math.min;function AX(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(SX);e=aC(e)||0,sl(n)&&(c=!!n.leading,d="maxWait"in n,s=d?IX(aC(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function f(T){var R=r,A=i;return r=i=void 0,u=T,o=t.apply(A,R),o}function p(T){return u=T,a=setTimeout(_,e),c?f(T):o}function m(T){var R=T-l,A=T-u,k=e-R;return d?CX(k,s-A):k}function y(T){var R=T-l,A=T-u;return l===void 0||R>=e||R<0||d&&A>=s}function _(){var T=iy();if(y(T))return v(T);a=setTimeout(_,m(T))}function v(T){return a=void 0,h&&r?f(T):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function g(){return a===void 0?o:v(iy())}function w(){var T=iy(),R=y(T);if(r=arguments,i=this,l=T,R){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(_,e),f(l)}return a===void 0&&(a=setTimeout(_,e)),o}return w.cancel=b,w.flush=g,w}var SM=Object.prototype,kX=SM.hasOwnProperty,xX=vM(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&wM(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=TX(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||g1(c,SM[u])&&!kX.call(t,u))&&(t[u]=s[u])}return t});const DX=xX,PX=({images:t=[],options:e})=>{e=vX(e,{inline:!1});const n=document.createElement("div"),r=Ha("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Ha("img",typeof a=="string"?{src:a}:a)));Wa(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new ju(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Wa(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},RX=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,h=!1,f=!1){await Kn(),!(f&&!r(c))&&(h||!c[`$${t}`]?(o(c),c[`$${t}`]=new ju(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),h=d?d.join(""):void 0;return c.__viewerImageDiffCache===h?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=h,!0)}function i(c,d,h,f){a(c);const p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!p){u("Observer not supported");return}const m=new p(_=>{_.forEach(v=>{u(`Viewer mutation:${v.type}`),h(c,d,f,!0)})}),y={attributes:!0,childList:!0,characterData:!0,subtree:!0};m.observe(c,y),c.__viewerMutationObserver=m,u("Observer created")}function s(c,d,h,f){c.__viewerUnwatch=Zt(()=>d.value,(p,m)=>{u("Change detected by watcher: ",d.value),f(c,p,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,h){u("Viewer bind");const f=AX(n,50);f(c,d.value),s(c,d,h,f),d.modifiers.static||i(c,d.value,f,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},OX=Ee({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=ue();function i(){n=new ju(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return Zt(()=>t.images,()=>{Kn(()=>{l()})},u),Zt(()=>t.trigger,()=>{Kn(()=>{l()})},u),Zt(()=>t.options,()=>{Kn(()=>{o()})},u),sn(()=>i()),Qo(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),NX=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},MX={ref:"root"};function $X(t,e,n,r,i,s){return P(),X("div",MX,[ke(t.$slots,"default",{images:t.images,options:t.options})],512)}const IM=NX(OX,[["render",$X]]),LX={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&ju.setDefaults(r),t.config.globalProperties[`$${e}Api`]=PX,t.component(e,DX(IM,{name:e})),t.directive(e,RX({name:e,debug:n}))},setDefaults(t){ju.setDefaults(t)}};const UX=["src"],mC=Ee({__name:"BlogPostImage",props:{post:{},coverImageUrl:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=ue(0),r=ue(0),i=ie(()=>n.value>r.value),s=ie(()=>n.value>r.value*1.5),o=ie(()=>r.value>n.value),a=ie(()=>r.value>n.value*1.5);return sn(()=>{const l=new Image;l.src=e.coverImageUrl,l.onload=()=>{n.value=l.height,r.value=l.width}}),(l,u)=>(P(),X("div",{class:Oe({flex:!0,"justify-start":l.alignment==="left","justify-center":l.alignment===void 0||l.alignment==="center","justify-end":l.alignment==="right"})},[oe(Rr,{class:Oe(["!p-5 my-5 w-fit",l.post.colorTertiary||"",l.post.opacityTertiary||"bg-opacity-50"])},{default:ye(()=>[oe(x(IM),null,{default:ye(()=>[ne("img",{class:"cover-image",src:l.coverImageUrl,style:Yn({maxHeight:i.value?l.maxHeight??a.value?"60vh":"40h":"50vh",maxWidth:o.value?l.maxWidth??s.value?"60vw":"40vw":"50vw"})},null,12,UX)]),_:1})]),_:1},8,["class"])],2))}}),mm=Ee({__name:"ArrowIcon",props:{rotate:{type:Boolean},size:{}},setup(t){return(e,n)=>(P(),ge(x(BK),{class:Oe(["sm:block animation",{"rotate-180":e.rotate,"mt-0.5 mr-2.5 h-5 w-5":!e.size||e.size==="sm","h-10 w-10":e.size==="md","h-20 w-20":e.size==="xl"}])},null,8,["class"]))}}),FX=Ee({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(P(),X("div",{class:Oe(["font-bold text-lg md:text-2xl",{"hover:underline cursor-pointer":n.isExpandable},e.class])},[ne("div",{class:Oe({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[ne("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(P(),ge(mm,{key:0,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):ae("",!0),ke(n.$slots,"default"),n.isExpandable&&n.alignment==="center"||n.alignment==="left"?(P(),ge(mm,{key:1,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):ae("",!0)])],2)],2))}}),VX=t=>(Gw("data-v-5d4da285"),t=t(),qw(),t),BX={class:"flex justify-between h-fit mt-2 gap-2"},jX={class:"flex flex-wrap gap-3"},HX={class:"w-full"},WX={key:0,class:"w-fit flex flex-col justify-start ms-5 gap-2"},zX={key:0},YX={class:"flex gap-3"},KX=VX(()=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6"},[ne("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})],-1)),GX=Ee({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=rn(or()),{firebaseUser:r,isOwner:i}=rn(rr()),s=ue(),o=ie(()=>{var u;return(u=e.post.allowedUserIds)!=null&&u.length?n.value.filter(c=>{var d;return(d=e.post.allowedUserIds)==null?void 0:d.includes(c.id)}):[]}),a=u=>{s.value===u?s.value=void 0:s.value=u},l=()=>{const u=document.createElement("textarea"),{protocol:c,hostname:d,port:h,pathname:f}=window.location,p=`${c}//${d}`+(d==="localhost"?`:${h}`:"")+f;u.value=`${p}/${e.post.id}`,document.body.appendChild(u),u.select(),document.execCommand("copy"),document.body.removeChild(u),je.success("Copied link!")};return(u,c)=>(P(),ge(Rr,{id:u.post.id,class:Oe(["min-h-[90vh] border-4 border-transparent",u.post.colorPrimary||"bg-gray-900",u.post.opacityPrimary||"bg-opacity-30"]),title:u.post.title,subTitle:x(q0)(new Date(u.post.date))+(u.post.dateUpdated?" - updated "+x(q0)(new Date(u.post.dateUpdated)):"")+(u.post.datePinned?" - [PINNED]":"")+(u.post.locked?" - [LOCKED]":""),loading:u.post.loading},{right:ye(()=>[ne("div",YX,[oe(bt,{class:"border-none bg-gray-500 text-purple-100 bg-opacity-10 h-fit",type:"secondary",outlined:"",onClick:l},{default:ye(()=>[KX]),_:1})])]),default:ye(()=>{var d;return[ne("div",BX,[ne("div",jX,[(P(!0),X(Ce,null,ct(o.value,h=>{var f;return P(),ge(Rr,{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50","sub-title":h.id===((f=x(r))==null?void 0:f.uid)?"You":h.displayName,"sub-title-props":{class:"xl:!ms-0"}},null,8,["sub-title"])}),256))]),x(i)?(P(),X("div",{key:0,class:Oe(["flex justify-end lg:hidden h-fit ms-5 gap-3",(d=u.post.allowedUserIds)!=null&&d.length?"flex-col md:flex-row":"flex-row"])},[oe(bt,{class:"min-w-80",onClick:c[0]||(c[0]=h=>u.$emit("editClicked"))},{default:ye(()=>[Ge(" Edit ")]),_:1}),oe(bt,{class:"min-w-80",type:"danger",outlined:"",onClick:c[1]||(c[1]=h=>u.$emit("deleteClicked"))},{default:ye(()=>[Ge(" Delete ")]),_:1})],2)):ae("",!0)]),oe(Rr,{class:Oe(["min-h-[125px] md:min-h-[160px] p-5 mt-5",u.post.colorSecondary||u.post.colorPrimary,u.post.opacitySecondary||"bg-opacity-25"])},{default:ye(()=>[ne("div",{class:Oe(["flex relative",u.post.countdown||u.post.alignment==="center"?"flex justify-between":""])},[ne("div",HX,[u.post.countdown?(P(),ge(kf,{key:0,time:new Date(u.post.countdown).getTime(),direction:"down",alignment:u.post.alignment},null,8,["time","alignment"])):ae("",!0),u.post.timer?(P(),ge(kf,{key:1,time:new Date(u.post.timer).getTime(),direction:"up",alignment:u.post.alignment},null,8,["time","alignment"])):ae("",!0),u.post.description?(P(),ge(xf,{key:2,description:u.post.description,alignment:u.post.alignment},null,8,["description","alignment"])):ae("",!0)]),ne("div",{class:Oe(["hidden lg:flex w-full justify-end",u.post.countdown||u.post.alignment==="center"?"absolute":""])},[x(i)?(P(),X("div",WX,[oe(bt,{class:"col-span-full md:col-span-2 md:col-start-3",onClick:c[2]||(c[2]=h=>u.$emit("editClicked"))},{default:ye(()=>[Ge(" Edit ")]),_:1}),oe(bt,{class:"col-span-full md:col-span-2 md:col-start-3",type:"danger",outlined:"",onClick:c[3]||(c[3]=h=>u.$emit("deleteClicked"))},{default:ye(()=>[Ge(" Delete ")]),_:1})])):ae("",!0)],2)],2),u.post.coverImageUrl?(P(),ge(mC,{key:0,post:u.post,"cover-image-url":u.post.coverImageUrl},null,8,["post","cover-image-url"])):ae("",!0),u.post.descriptionFooter?(P(),ge(xf,{key:1,class:"mb-5",description:u.post.descriptionFooter,alignment:u.post.alignment},null,8,["description","alignment"])):ae("",!0),(P(!0),X(Ce,null,ct(u.post.sections,(h,f)=>(P(),X("div",null,[h.title?(P(),ge(FX,{key:0,alignment:h.alignment,"is-expandable":!!h.description||!!h.coverImageUrl||!!h.bullets.length,"is-expanded":s.value===f,onClick:p=>a(f)},{default:ye(()=>[Ge(qe(h.title),1)]),_:2},1032,["alignment","is-expandable","is-expanded","onClick"])):ae("",!0),h.subTitle?(P(),ge(xf,{key:1,class:"mb-5",description:h.subTitle,alignment:h.alignment},null,8,["description","alignment"])):ae("",!0),oe(Is,null,{default:ye(()=>[s.value===f?(P(),X("div",zX,[h.description?(P(),ge(xf,{key:0,description:h.description,alignment:h.alignment},null,8,["description","alignment"])):ae("",!0),h.coverImageUrl?(P(),ge(mC,{key:1,post:u.post,"cover-image-url":h.coverImageUrl,alignment:h.alignment,"max-height":"30vh"},null,8,["post","cover-image-url","alignment"])):ae("",!0),oe(kG,{bullets:h.bullets,alignment:h.alignment},null,8,["bullets","alignment"])])):ae("",!0)]),_:2},1024),h.countdown?(P(),ge(kf,{key:2,time:new Date(h.countdown).getTime(),direction:"down",alignment:h.alignment},null,8,["time","alignment"])):ae("",!0),h.timer?(P(),ge(kf,{key:3,time:new Date(h.timer).getTime(),direction:"up",alignment:h.alignment},null,8,["time","alignment"])):ae("",!0)]))),256))]),_:1},8,["class"]),oe(AG,{post:u.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","loading"]))}});const CM=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},AM=CM(GX,[["__scopeId","data-v-5d4da285"]]),qX={key:0,class:"flex justify-center mt-5"},QX={class:"grid grid-cols-6 mb-5 gap-5"},XX=Ee({__name:"BlogDetails",setup(t){const e=fb(),n=ie(()=>e.params.postId),r=or(),{fetchBlogPost:i}=r,{blogPosts:s}=rn(r);return sn(()=>{var o,a;n.value&&((o=s.value.data.single)==null?void 0:o.id)!==n.value&&((a=s.value.data.single)==null?void 0:a.id)!==n.value&&i(n.value)}),(o,a)=>x(s).fetchLoading?(P(),X("div",qX,[oe(bt,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:x(s).fetchLoading},{default:ye(()=>[Ge(" Loading... ")]),_:1},8,["loading"])])):(P(),X(Ce,{key:1},[ne("div",QX,[oe(bt,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"orange",url:"/blog"},{default:ye(()=>[Ge(" All Posts ")]),_:1})]),x(s).data.single?(P(),ge(AM,{key:0,post:x(s).data.single},null,8,["post"])):ae("",!0)],64))}}),JX={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},ZX={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},eJ={class:"bg-gray-800 border border-gray-500 rounded-2xl p-5"},tJ={class:"p-8"},nJ={class:"title-secondary"},rJ={class:"mt-4 text-gray-300"},iJ={class:"my-2"},sJ={class:"grid grid-cols-4 mt-10 gap-3"},y1=Ee({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return gh(()=>{document.body.style.overflow=""}),Zt(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${MW()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(P(),X("div",JX,[ne("div",{class:"fixed inset-0 bg-gray-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),ne("div",ZX,[ne("div",eJ,[ne("div",tJ,[ne("h3",nJ,qe(n.title),1),ne("div",rJ,[(P(!0),X(Ce,null,ct(Array.isArray(n.description)?[...n.description]:[n.description],i=>(P(),X("p",iJ,qe(i),1))),256))]),ke(n.$slots,"default")]),ne("div",sJ,[oe(bt,{class:Oe(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},{default:ye(()=>[Ge(" Cancel ")]),_:1},8,["class"]),n.confirmText?(P(),ge(bt,Kt({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),{default:ye(()=>[Ge(qe(n.confirmText),1)]),_:1},16,["loading"])):ae("",!0)])])])])):ae("",!0)}}),oJ={class:"flex m-4 justify-center"},Sc=Ee({__name:"Spoiler",props:{text:{},buttonType:{}},setup(t){const e=ue(!1);return(n,r)=>(P(),X(Ce,null,[ne("div",oJ,[oe(bt,{class:"w-3/4 md:w-2/3 flex justify-center",type:n.buttonType,outlined:"",onClick:r[0]||(r[0]=i=>e.value=!e.value)},{default:ye(()=>[oe(mm,{rotate:e.value},null,8,["rotate"]),Ge(" "+qe(n.text),1)]),_:1},8,["type"])]),ps(ne("div",null,[ke(n.$slots,"default")],512),[[js,e.value]])],64))}}),aJ={class:"m-4"},lJ=["for"],uJ=["id"],vd=Ee({__name:"CheckBoxField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},inputProps:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie({get:()=>r.modelValue,set:u=>{l("update:modelValue",u)}}),s=ie(()=>r.name+(r.id?"."+r.id:"")),o=async u=>{},a=u=>{u.stopPropagation(),l("update:modelValue",!r.modelValue)},l=n;return e({test:o}),(u,c)=>(P(),X("div",aJ,[u.label?(P(),X("label",Kt({key:0,class:"block text-sm font-bold mb-2",for:s.value},u.labelProps),qe(u.label),17,lJ)):ae("",!0),ne("div",{class:"checkbox-field",onClick:a},[ps(ne("input",Kt({id:s.value,ref:"input","onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d),type:"checkbox"},u.inputProps),null,16,uJ),[[zm,i.value]])])]))}}),cJ={class:"m-4"},dJ=["for"],Nf=Ee({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ie(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>{const c=eo("VueDatePicker");return P(),X("div",cJ,[l.label?(P(),X("label",Kt({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),qe(l.label),17,dJ)):ae("",!0),oe(c,{uid:s.value,class:"input-field px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d)},null,8,["uid","modelValue"])])}}});let Mf;const hJ=new Uint8Array(16);function fJ(){if(!Mf&&(Mf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Mf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mf(hJ)}const lr=[];for(let t=0;t<256;++t)lr.push((t+256).toString(16).slice(1));function pJ(t,e=0){return lr[t[e+0]]+lr[t[e+1]]+lr[t[e+2]]+lr[t[e+3]]+"-"+lr[t[e+4]]+lr[t[e+5]]+"-"+lr[t[e+6]]+lr[t[e+7]]+"-"+lr[t[e+8]]+lr[t[e+9]]+"-"+lr[t[e+10]]+lr[t[e+11]]+lr[t[e+12]]+lr[t[e+13]]+lr[t[e+14]]+lr[t[e+15]]}const mJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gC={randomUUID:mJ};function kM(t,e,n){if(gC.randomUUID&&!e&&!t)return gC.randomUUID();t=t||{};const r=t.random||(t.rng||fJ)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return pJ(r)}const gJ={class:"m-4"},vJ=["for"],yJ={class:"flex justify-between gap-1"},wJ=["id","disabled"],bJ={key:2},_J={class:"flex justify-center"},TJ=["src"],yw=Ee({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=rn(rr()),{fetchFileInfo:i,uploadFile:s,deleteFile:o}=or(),a=ue(),l=ue(null),u=ue(0),c=ie(()=>G0(n.modelValue||"uploads/"+kM())),d=ie(()=>c.value.name),h=ue(),f=ue(""),p=v=>{const b=v.target;b.files&&b.files.length>0&&(l.value=b.files[0],f.value=l.value.name,m())},m=async()=>{var v,b;l.value&&((v=r.value)!=null&&v.uid)&&await s(c.value,l.value,g=>u.value=g,f.value,(b=r.value)==null?void 0:b.uid,n.isPublic,n.blogPost)&&(_("update:modelValue",await CW(c.value)),l.value=null,u.value=0)},y=async()=>{await o(c.value)?(window.URL.revokeObjectURL(n.modelValue),a.value.value=null,_("update:modelValue","")):_("update:error","Failed to delete File reference")};Zt(()=>n.modelValue,async()=>{var v;h.value=n.modelValue?await i(d.value):void 0,f.value=((v=h.value)==null?void 0:v.name)??""},{immediate:!0});const _=e;return(v,b)=>(P(),X("div",gJ,[v.label?(P(),X("label",{key:0,class:"block text-sm font-bold mb-2",for:`${v.id}`},qe(v.label),9,vJ)):ae("",!0),ne("div",yJ,[ne("input",{id:`${v.id}`,ref_key:"fileUpload",ref:a,type:"file",accept:"image/*",onChange:p,class:"input-field",disabled:!!h.value},null,40,wJ),h.value?(P(),ge(sM,{key:0,onClick:y})):ae("",!0)]),v.error?(P(),ge(c1,{key:1,name:v.name,error:v.error},null,8,["name","error"])):ae("",!0),u.value>0?(P(),X("div",bJ,"Uploading: "+qe(u.value.toFixed(2))+"%",1)):ae("",!0),ne("div",_J,[ne("div",On(pr(v.imageContainerProps)),[h.value?(P(),X("img",Kt({key:0,class:"mt-4 simple-field w-full min-w-25 md:max-w-fit",src:v.modelValue},v.imageProps),null,16,TJ)):ae("",!0)],16)])]))}}),EJ={class:"m-4"},SJ=["for"],IJ=["id","name","multiple"],CJ=["value"],br=Ee({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=ie(()=>(r.rules??[]).some(h=>h.type===d1.Required)),o=ie({get:()=>{if(r.multiple){const h=Array.isArray(r.modelValue)?r.modelValue:[];return h.length?h:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const h=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return h||(s.value&&r.options.length?r.options[0].value:"")}},set:h=>{var f;d("update:modelValue",Vl(h)[0]),d("update:arrayValue",Vl(h)),r.multiple||(f=i.value)==null||f.blur()}}),a=ie(()=>r.options.find(({value:h})=>h===o.value)),l=ie(()=>r.label+(s.value?" *":"")),u=ie(()=>r.name+(r.id?"."+r.id:"")),c=async()=>{const h=r.rules||[];let f="";for(const p of Vl(o.value)){const m={value:p.toString()},y=h.filter(_=>!_.test(m)).map(_=>_.error(m))||[];if(y[0]){f=y[0];break}}d("update:error",f)};sn(()=>{s.value&&(d("update:modelValue",Vl(o.value)[0]),d("update:arrayValue",Vl(o.value)))});const d=n;return e({test:c}),(h,f)=>{var p,m;return P(),X("div",EJ,[ne("label",{class:"block text-sm font-bold mb-2",for:u.value},qe(l.value),9,SJ),ps(ne("select",{ref_key:"select",ref:i,id:u.value,name:h.name,"onUpdate:modelValue":f[0]||(f[0]=y=>o.value=y),class:Oe(["w-full px-4 py-2 select-field block",(p=a.value)==null?void 0:p.background,(m=a.value)!=null&&m.background?"text-white focus:text-black bg-opacity-50":"",h.multiple?"bg-white":""]),multiple:h.multiple},[(P(!0),X(Ce,null,ct(h.options,({value:y,label:_,background:v,text:b},g)=>(P(),X("option",{value:y??g,class:Oe(["h-20 select-field",v,v?"bg-opacity-50":"bg-opacity-40",b])},qe(_),11,CJ))),256))],10,IJ),[[cb,o.value]]),h.error?(P(),ge(c1,{key:0,name:h.name,error:h.error},null,8,["name","error"])):ae("",!0)])}}});var AJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kJ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var DM={exports:{}};const xJ=xM(OU);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){DJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lp=function(e){return typeof e}:lp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function DJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pi(){return Pi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pi.apply(this,arguments)}function PJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RJ(t,e){if(t==null)return{};var n=PJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OJ(t){return NJ(t)||MJ(t)||$J(t)||LJ()}function NJ(t){if(Array.isArray(t))return ww(t)}function MJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $J(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var UJ="1.14.0";function Ys(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var io=Ys(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Wh=Ys(/Edge/i),yC=Ys(/firefox/i),yd=Ys(/safari/i)&&!Ys(/chrome/i)&&!Ys(/android/i),PM=Ys(/iP(ad|od|hone)/i),FJ=Ys(/chrome/i)&&Ys(/android/i),RM={capture:!1,passive:!1};function yt(t,e,n){t.addEventListener(e,n,!io&&RM)}function mt(t,e,n){t.removeEventListener(e,n,!io&&RM)}function gm(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function VJ(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ui(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&gm(t,e):gm(t,e))||r&&t===n)return t;if(t===n)break}while(t=VJ(t))}return null}var wC=/\s+/g;function _n(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(wC," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(wC," ")}}function He(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function $a(t,e){var n="";if(typeof t=="string")n=t;else do{var r=He(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function OM(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function ys(){var t=document.scrollingElement;return t||document.documentElement}function yn(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==ys()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!io))do if(i&&i.getBoundingClientRect&&(He(i,"transform")!=="none"||n&&He(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(He(i,"border-top-width")),a-=h.left+parseInt(He(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var f=$a(i||t),p=f&&f.a,m=f&&f.d;f&&(o/=m,a/=p,d/=p,c/=m,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function bC(t,e,n){for(var r=Ao(t,!0),i=yn(t)[e];r;){var s=yn(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===ys())break;r=Ao(r,!1)}return!1}function Hu(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==nt.ghost&&(r||o[s]!==nt.dragged)&&Ui(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function w1(t,e){for(var n=t.lastElementChild;n&&(n===nt.ghost||He(n,"display")==="none"||e&&!gm(n,e));)n=n.previousElementSibling;return n||null}function kn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==nt.clone&&(!e||gm(t,e))&&n++;return n}function _C(t){var e=0,n=0,r=ys();if(t)do{var i=$a(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function BJ(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Ao(t,e){if(!t||!t.getBoundingClientRect)return ys();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=He(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ys();if(r||e)return n;r=!0}}while(n=n.parentNode);return ys()}function jJ(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function sy(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var wd;function NM(t,e){return function(){if(!wd){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),wd=setTimeout(function(){wd=void 0},e)}}}function HJ(){clearTimeout(wd),wd=void 0}function MM(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function b1(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function TC(t,e){He(t,"position","absolute"),He(t,"top",e.top),He(t,"left",e.left),He(t,"width",e.width),He(t,"height",e.height)}function oy(t){He(t,"position",""),He(t,"top",""),He(t,"left",""),He(t,"width",""),He(t,"height","")}var Cr="Sortable"+new Date().getTime();function WJ(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(He(i,"display")==="none"||i===nt.ghost)){t.push({target:i,rect:yn(i)});var s=Es({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=$a(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(BJ(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=yn(u),h=u.prevFromRect,f=u.prevToRect,p=a.rect,m=$a(u,!0);m&&(d.top-=m.f,d.left-=m.e),u.toRect=d,u.thisAnimationDuration&&sy(h,d)&&!sy(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=YJ(p,h,f,i.options)),sy(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){He(r,"transition",""),He(r,"transform","");var a=$a(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,He(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=zJ(r),He(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),He(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){He(r,"transition",""),He(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function zJ(t){return t.offsetWidth}function YJ(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var Dl=[],ay={initializeByDefault:!0},zh={mount:function(e){for(var n in ay)ay.hasOwnProperty(n)&&!(n in e)&&(e[n]=ay[n]);Dl.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Dl.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Dl.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Es({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Es({sortable:n},r)))})},initializePlugins:function(e,n,r,i){Dl.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Pi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return Dl.forEach(function(i){typeof i.eventProperties=="function"&&Pi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return Dl.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function Yc(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[Cr],!!e){var m,y=e.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!io&&!Wh?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=f?f.lastPutMode:void 0;var v=Es(Es({},p),zh.getEventProperties(r,e));for(var b in v)m[b]=v[b];n&&n.dispatchEvent(m),y[_]&&y[_].call(e,m)}}var KJ=["evt"],zr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=RJ(r,KJ);zh.pluginEvent.bind(nt)(e,n,Es({dragEl:Ie,parentEl:In,ghostEl:dt,rootEl:vn,nextEl:fa,lastDownEl:up,cloneEl:Cn,cloneHidden:Co,dragStarted:Kc,putSortable:ur,activeSortable:nt.active,originalEvent:i,oldIndex:Zl,oldDraggableIndex:bd,newIndex:oi,newDraggableIndex:bo,hideGhostForTarget:FM,unhideGhostForTarget:VM,cloneNowHidden:function(){Co=!0},cloneNowShown:function(){Co=!1},dispatchSortableEvent:function(a){Lr({sortable:n,name:a,originalEvent:i})}},s))};function Lr(t){Yc(Es({putSortable:ur,cloneEl:Cn,targetEl:Ie,rootEl:vn,oldIndex:Zl,oldDraggableIndex:bd,newIndex:oi,newDraggableIndex:bo},t))}var Ie,In,dt,vn,fa,up,Cn,Co,Zl,oi,bd,bo,$f,ur,Hl=!1,vm=!1,ym=[],ua,Oi,ly,uy,EC,SC,Kc,Pl,_d,Td=!1,Lf=!1,cp,wr,cy=[],bw=!1,wm=[],Gg=typeof document<"u",Uf=PM,IC=Wh||io?"cssFloat":"float",GJ=Gg&&!FJ&&!PM&&"draggable"in document.createElement("div"),$M=function(){if(Gg){if(io)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),LM=function(e,n){var r=He(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=Hu(e,0,n),o=Hu(e,1,n),a=s&&He(s),l=o&&He(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+yn(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+yn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[IC]==="none"||o&&r[IC]==="none"&&u+c>i)?"vertical":"horizontal"},qJ=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},QJ=function(e,n){var r;return ym.some(function(i){var s=i[Cr].options.emptyInsertThreshold;if(!(!s||w1(i))){var o=yn(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},UM=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||lp(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},FM=function(){!$M&&dt&&He(dt,"display","none")},VM=function(){!$M&&dt&&He(dt,"display","")};Gg&&document.addEventListener("click",function(t){if(vm)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),vm=!1,!1},!0);var ca=function(e){if(Ie){e=e.touches?e.touches[0]:e;var n=QJ(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Cr]._onDragOver(r)}}},XJ=function(e){Ie&&Ie.parentNode[Cr]._isOutsideThisEl(e.target)};function nt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Pi({},e),t[Cr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return LM(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:nt.supportPointer!==!1&&"PointerEvent"in window&&!yd,emptyInsertThreshold:5};zh.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);UM(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:GJ,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?yt(t,"pointerdown",this._onTapStart):(yt(t,"mousedown",this._onTapStart),yt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(yt(t,"dragover",this),yt(t,"dragenter",this)),ym.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Pi(this,WJ())}nt.prototype={constructor:nt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Pl=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Ie):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(sZ(r),!Ie&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&yd&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ui(l,i.draggable,r,!1),!(l&&l.animated)&&up!==l)){if(Zl=kn(l),bd=kn(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Lr({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),zr("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Ui(u,d.trim(),r,!1),d)return Lr({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),zr("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Ui(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!Ie&&r.parentNode===s){var u=yn(r);if(vn=s,Ie=r,In=Ie.parentNode,fa=Ie.nextSibling,up=r,$f=o.group,nt.dragged=Ie,ua={target:Ie,clientX:(n||e).clientX,clientY:(n||e).clientY},EC=ua.clientX-u.left,SC=ua.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Ie.style["will-change"]="all",l=function(){if(zr("delayEnded",i,{evt:e}),nt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!yC&&i.nativeDraggable&&(Ie.draggable=!0),i._triggerDragStart(e,n),Lr({sortable:i,name:"choose",originalEvent:e}),_n(Ie,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){OM(Ie,c.trim(),dy)}),yt(a,"dragover",ca),yt(a,"mousemove",ca),yt(a,"touchmove",ca),yt(a,"mouseup",i._onDrop),yt(a,"touchend",i._onDrop),yt(a,"touchcancel",i._onDrop),yC&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ie.draggable=!0),zr("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Wh||io))){if(nt.eventCanceled){this._onDrop();return}yt(a,"mouseup",i._disableDelayedDrag),yt(a,"touchend",i._disableDelayedDrag),yt(a,"touchcancel",i._disableDelayedDrag),yt(a,"mousemove",i._delayedDragTouchMoveHandler),yt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&yt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ie&&dy(Ie),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;mt(e,"mouseup",this._disableDelayedDrag),mt(e,"touchend",this._disableDelayedDrag),mt(e,"touchcancel",this._disableDelayedDrag),mt(e,"mousemove",this._delayedDragTouchMoveHandler),mt(e,"touchmove",this._delayedDragTouchMoveHandler),mt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?yt(document,"pointermove",this._onTouchMove):n?yt(document,"touchmove",this._onTouchMove):yt(document,"mousemove",this._onTouchMove):(yt(Ie,"dragend",this),yt(vn,"dragstart",this._onDragStart));try{document.selection?dp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Hl=!1,vn&&Ie){zr("dragStarted",this,{evt:n}),this.nativeDraggable&&yt(document,"dragover",XJ);var r=this.options;!e&&_n(Ie,r.dragClass,!1),_n(Ie,r.ghostClass,!0),nt.active=this,e&&this._appendGhost(),Lr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Oi){this._lastX=Oi.clientX,this._lastY=Oi.clientY,FM();for(var e=document.elementFromPoint(Oi.clientX,Oi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Oi.clientX,Oi.clientY),e!==n);)n=e;if(Ie.parentNode[Cr]._isOutsideThisEl(e),n)do{if(n[Cr]){var r=void 0;if(r=n[Cr]._onDragOver({clientX:Oi.clientX,clientY:Oi.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);VM()}},_onTouchMove:function(e){if(ua){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=dt&&$a(dt,!0),a=dt&&o&&o.a,l=dt&&o&&o.d,u=Uf&&wr&&_C(wr),c=(s.clientX-ua.clientX+i.x)/(a||1)+(u?u[0]-cy[0]:0)/(a||1),d=(s.clientY-ua.clientY+i.y)/(l||1)+(u?u[1]-cy[1]:0)/(l||1);if(!nt.active&&!Hl){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(dt){o?(o.e+=c-(ly||0),o.f+=d-(uy||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");He(dt,"webkitTransform",h),He(dt,"mozTransform",h),He(dt,"msTransform",h),He(dt,"transform",h),ly=c,uy=d,Oi=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!dt){var e=this.options.fallbackOnBody?document.body:vn,n=yn(Ie,!0,Uf,!0,e),r=this.options;if(Uf){for(wr=e;He(wr,"position")==="static"&&He(wr,"transform")==="none"&&wr!==document;)wr=wr.parentNode;wr!==document.body&&wr!==document.documentElement?(wr===document&&(wr=ys()),n.top+=wr.scrollTop,n.left+=wr.scrollLeft):wr=ys(),cy=_C(wr)}dt=Ie.cloneNode(!0),_n(dt,r.ghostClass,!1),_n(dt,r.fallbackClass,!0),_n(dt,r.dragClass,!0),He(dt,"transition",""),He(dt,"transform",""),He(dt,"box-sizing","border-box"),He(dt,"margin",0),He(dt,"top",n.top),He(dt,"left",n.left),He(dt,"width",n.width),He(dt,"height",n.height),He(dt,"opacity","0.8"),He(dt,"position",Uf?"absolute":"fixed"),He(dt,"zIndex","100000"),He(dt,"pointerEvents","none"),nt.ghost=dt,e.appendChild(dt),He(dt,"transform-origin",EC/parseInt(dt.style.width)*100+"% "+SC/parseInt(dt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(zr("dragStart",this,{evt:e}),nt.eventCanceled){this._onDrop();return}zr("setupClone",this),nt.eventCanceled||(Cn=b1(Ie),Cn.draggable=!1,Cn.style["will-change"]="",this._hideClone(),_n(Cn,this.options.chosenClass,!1),nt.clone=Cn),r.cloneId=dp(function(){zr("clone",r),!nt.eventCanceled&&(r.options.removeCloneOnHide||vn.insertBefore(Cn,Ie),r._hideClone(),Lr({sortable:r,name:"clone"}))}),!n&&_n(Ie,s.dragClass,!0),n?(vm=!0,r._loopId=setInterval(r._emulateDragOver,50)):(mt(document,"mouseup",r._onDrop),mt(document,"touchend",r._onDrop),mt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,Ie)),yt(document,"drop",r),He(Ie,"transform","translateZ(0)")),Hl=!0,r._dragStartId=dp(r._dragStarted.bind(r,n,e)),yt(document,"selectstart",r),Kc=!0,yd&&He(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=nt.active,c=$f===l,d=a.sort,h=ur||u,f,p=this,m=!1;if(bw)return;function y(J,L){zr(J,p,Es({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:r,completed:v,onMove:function(ee,se){return Ff(vn,n,Ie,i,ee,yn(ee),e,se)},changed:b},L))}function _(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function v(J){return y("dragOverCompleted",{insertion:J}),J&&(c?u._hideClone():u._showClone(p),p!==h&&(_n(Ie,ur?ur.options.ghostClass:u.options.ghostClass,!1),_n(Ie,a.ghostClass,!0)),ur!==p&&p!==nt.active?ur=p:p===nt.active&&ur&&(ur=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Ie&&!Ie.animated||r===n&&!r.animated)&&(Pl=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Ie.parentNode[Cr]._isOutsideThisEl(e.target),!J&&ca(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function b(){oi=kn(Ie),bo=kn(Ie,a.draggable),Lr({sortable:p,name:"change",toEl:n,newIndex:oi,newDraggableIndex:bo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Ui(r,a.draggable,n,!0),y("dragOver"),nt.eventCanceled)return m;if(Ie.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return v(!1);if(vm=!1,u&&!a.disabled&&(c?d||(o=In!==vn):ur===this||(this.lastPutMode=$f.checkPull(this,u,Ie,e))&&l.checkPut(this,u,Ie,e))){if(f=this._getDirection(e,r)==="vertical",i=yn(Ie),y("dragOverValid"),nt.eventCanceled)return m;if(o)return In=vn,_(),this._hideClone(),y("revert"),nt.eventCanceled||(fa?vn.insertBefore(Ie,fa):vn.appendChild(Ie)),v(!0);var g=w1(n,a.draggable);if(!g||tZ(e,f,this)&&!g.animated){if(g===Ie)return v(!1);if(g&&n===e.target&&(r=g),r&&(s=yn(r)),Ff(vn,n,Ie,i,r,s,e,!!r)!==!1)return _(),n.appendChild(Ie),In=n,b(),v(!0)}else if(g&&eZ(e,f,this)){var w=Hu(n,0,a,!0);if(w===Ie)return v(!1);if(r=w,s=yn(r),Ff(vn,n,Ie,i,r,s,e,!1)!==!1)return _(),n.insertBefore(Ie,w),In=n,b(),v(!0)}else if(r.parentNode===n){s=yn(r);var T=0,R,A=Ie.parentNode!==n,k=!qJ(Ie.animated&&Ie.toRect||i,r.animated&&r.toRect||s,f),S=f?"top":"left",M=bC(r,"top","top")||bC(Ie,"top","top"),F=M?M.scrollTop:void 0;Pl!==r&&(R=s[S],Td=!1,Lf=!k&&a.invertSwap||A),T=nZ(e,r,s,f,k?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Lf,Pl===r);var I;if(T!==0){var j=kn(Ie);do j-=T,I=In.children[j];while(I&&(He(I,"display")==="none"||I===dt))}if(T===0||I===r)return v(!1);Pl=r,_d=T;var N=r.nextElementSibling,O=!1;O=T===1;var H=Ff(vn,n,Ie,i,r,s,e,O);if(H!==!1)return(H===1||H===-1)&&(O=H===1),bw=!0,setTimeout(ZJ,30),_(),O&&!N?n.appendChild(Ie):r.parentNode.insertBefore(Ie,O?N:r),M&&MM(M,0,F-M.scrollTop),In=Ie.parentNode,R!==void 0&&!Lf&&(cp=Math.abs(R-yn(r)[S])),b(),v(!0)}if(n.contains(Ie))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){mt(document,"mousemove",this._onTouchMove),mt(document,"touchmove",this._onTouchMove),mt(document,"pointermove",this._onTouchMove),mt(document,"dragover",ca),mt(document,"mousemove",ca),mt(document,"touchmove",ca)},_offUpEvents:function(){var e=this.el.ownerDocument;mt(e,"mouseup",this._onDrop),mt(e,"touchend",this._onDrop),mt(e,"pointerup",this._onDrop),mt(e,"touchcancel",this._onDrop),mt(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(oi=kn(Ie),bo=kn(Ie,r.draggable),zr("drop",this,{evt:e}),In=Ie&&Ie.parentNode,oi=kn(Ie),bo=kn(Ie,r.draggable),nt.eventCanceled){this._nulling();return}Hl=!1,Lf=!1,Td=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_w(this.cloneId),_w(this._dragStartId),this.nativeDraggable&&(mt(document,"drop",this),mt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),yd&&He(document.body,"user-select",""),He(Ie,"transform",""),e&&(Kc&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),dt&&dt.parentNode&&dt.parentNode.removeChild(dt),(vn===In||ur&&ur.lastPutMode!=="clone")&&Cn&&Cn.parentNode&&Cn.parentNode.removeChild(Cn),Ie&&(this.nativeDraggable&&mt(Ie,"dragend",this),dy(Ie),Ie.style["will-change"]="",Kc&&!Hl&&_n(Ie,ur?ur.options.ghostClass:this.options.ghostClass,!1),_n(Ie,this.options.chosenClass,!1),Lr({sortable:this,name:"unchoose",toEl:In,newIndex:null,newDraggableIndex:null,originalEvent:e}),vn!==In?(oi>=0&&(Lr({rootEl:In,name:"add",toEl:In,fromEl:vn,originalEvent:e}),Lr({sortable:this,name:"remove",toEl:In,originalEvent:e}),Lr({rootEl:In,name:"sort",toEl:In,fromEl:vn,originalEvent:e}),Lr({sortable:this,name:"sort",toEl:In,originalEvent:e})),ur&&ur.save()):oi!==Zl&&oi>=0&&(Lr({sortable:this,name:"update",toEl:In,originalEvent:e}),Lr({sortable:this,name:"sort",toEl:In,originalEvent:e})),nt.active&&((oi==null||oi===-1)&&(oi=Zl,bo=bd),Lr({sortable:this,name:"end",toEl:In,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){zr("nulling",this),vn=Ie=In=dt=fa=Cn=up=Co=ua=Oi=Kc=oi=bo=Zl=bd=Pl=_d=ur=$f=nt.dragged=nt.ghost=nt.clone=nt.active=null,wm.forEach(function(e){e.checked=!0}),wm.length=ly=uy=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ie&&(this._onDragOver(e),JJ(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Ui(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||iZ(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Ui(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ui(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=zh.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&UM(r)},destroy:function(){zr("destroy",this);var e=this.el;e[Cr]=null,mt(e,"mousedown",this._onTapStart),mt(e,"touchstart",this._onTapStart),mt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(mt(e,"dragover",this),mt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ym.splice(ym.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Co){if(zr("hideClone",this),nt.eventCanceled)return;He(Cn,"display","none"),this.options.removeCloneOnHide&&Cn.parentNode&&Cn.parentNode.removeChild(Cn),Co=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Co){if(zr("showClone",this),nt.eventCanceled)return;Ie.parentNode==vn&&!this.options.group.revertClone?vn.insertBefore(Cn,Ie):fa?vn.insertBefore(Cn,fa):vn.appendChild(Cn),this.options.group.revertClone&&this.animate(Ie,Cn),He(Cn,"display",""),Co=!1}}};function JJ(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ff(t,e,n,r,i,s,o,a){var l,u=t[Cr],c=u.options.onMove,d;return window.CustomEvent&&!io&&!Wh?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||yn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function dy(t){t.draggable=!1}function ZJ(){bw=!1}function eZ(t,e,n){var r=yn(Hu(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function tZ(t,e,n){var r=yn(w1(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function nZ(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o){if(a&&cp<u*i){if(!Td&&(_d===1?l>c+u*s/2:l<d-u*s/2)&&(Td=!0),Td)h=!0;else if(_d===1?l<c+cp:l>d-cp)return-_d}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return rZ(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function rZ(t){return kn(Ie)<kn(t)?1:-1}function iZ(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function sZ(t){wm.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&wm.push(r)}}function dp(t){return setTimeout(t,0)}function _w(t){return clearTimeout(t)}Gg&&yt(document,"touchmove",function(t){(nt.active||Hl)&&t.cancelable&&t.preventDefault()});nt.utils={on:yt,off:mt,css:He,find:OM,is:function(e,n){return!!Ui(e,n,e,!1)},extend:jJ,throttle:NM,closest:Ui,toggleClass:_n,clone:b1,index:kn,nextTick:dp,cancelNextTick:_w,detectDirection:LM,getChild:Hu};nt.get=function(t){return t[Cr]};nt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(nt.utils=Es(Es({},nt.utils),r.utils)),zh.mount(r)})};nt.create=function(t,e){return new nt(t,e)};nt.version=UJ;var Un=[],Gc,Tw,Ew=!1,hy,fy,bm,qc;function oZ(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?yt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?yt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?yt(document,"touchmove",this._handleFallbackAutoScroll):yt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?mt(document,"dragover",this._handleAutoScroll):(mt(document,"pointermove",this._handleFallbackAutoScroll),mt(document,"touchmove",this._handleFallbackAutoScroll),mt(document,"mousemove",this._handleFallbackAutoScroll)),CC(),hp(),HJ()},nulling:function(){bm=Tw=Gc=Ew=qc=hy=fy=null,Un.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(bm=n,r||this.options.forceAutoScrollFallback||Wh||io||yd){py(n,this.options,a,r);var l=Ao(a,!0);Ew&&(!qc||s!==hy||o!==fy)&&(qc&&CC(),qc=setInterval(function(){var u=Ao(document.elementFromPoint(s,o),!0);u!==l&&(l=u,hp()),py(n,i.options,u,r)},10),hy=s,fy=o)}else{if(!this.options.bubbleScroll||Ao(a,!0)===ys()){hp();return}py(n,this.options,Ao(a,!1),!1)}}},Pi(t,{pluginName:"scroll",initializeByDefault:!0})}function hp(){Un.forEach(function(t){clearInterval(t.pid)}),Un=[]}function CC(){clearInterval(qc)}var py=NM(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=ys(),u=!1,c;Tw!==n&&(Tw=n,hp(),Gc=e.scroll,c=e.scrollFn,Gc===!0&&(Gc=Ao(n,!0)));var d=0,h=Gc;do{var f=h,p=yn(f),m=p.top,y=p.bottom,_=p.left,v=p.right,b=p.width,g=p.height,w=void 0,T=void 0,R=f.scrollWidth,A=f.scrollHeight,k=He(f),S=f.scrollLeft,M=f.scrollTop;f===l?(w=b<R&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),T=g<A&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(w=b<R&&(k.overflowX==="auto"||k.overflowX==="scroll"),T=g<A&&(k.overflowY==="auto"||k.overflowY==="scroll"));var F=w&&(Math.abs(v-i)<=o&&S+b<R)-(Math.abs(_-i)<=o&&!!S),I=T&&(Math.abs(y-s)<=o&&M+g<A)-(Math.abs(m-s)<=o&&!!M);if(!Un[d])for(var j=0;j<=d;j++)Un[j]||(Un[j]={});(Un[d].vx!=F||Un[d].vy!=I||Un[d].el!==f)&&(Un[d].el=f,Un[d].vx=F,Un[d].vy=I,clearInterval(Un[d].pid),(F!=0||I!=0)&&(u=!0,Un[d].pid=setInterval((function(){r&&this.layer===0&&nt.active._onTouchMove(bm);var N=Un[this.layer].vy?Un[this.layer].vy*a:0,O=Un[this.layer].vx?Un[this.layer].vx*a:0;typeof c=="function"&&c.call(nt.dragged.parentNode[Cr],O,N,t,bm,Un[this.layer].el)!=="continue"||MM(Un[this.layer].el,O,N)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=Ao(h,!1)));Ew=u}},30),BM=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function _1(){}_1.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Hu(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:BM};Pi(_1,{pluginName:"revertOnSpill"});function T1(){}T1.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:BM};Pi(T1,{pluginName:"removeOnSpill"});var _i;function aZ(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;_i=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=_i;s(i)!==!1?(_n(i,c.swapClass,!0),_i=i):_i=null,d&&d!==_i&&_n(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;_i&&_n(_i,a.swapClass,!1),_i&&(a.swap||i&&i.options.swap)&&s!==_i&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),lZ(s,_i),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){_i=null}},Pi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:_i}}})}function lZ(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=kn(t),s=kn(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var lt=[],si=[],Ic,Ni,Cc=!1,Yr=!1,Rl=!1,on,Ac,Vf;function uZ(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?yt(document,"pointerup",this._deselectMultiDrag):(yt(document,"mouseup",this._deselectMultiDrag),yt(document,"touchend",this._deselectMultiDrag)),yt(document,"keydown",this._checkKeyDown),yt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";lt.length&&Ni===e?lt.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;on=r},delayEnded:function(){this.isMultiDrag=~lt.indexOf(on)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<lt.length;s++)si.push(b1(lt[s])),si[s].sortableIndex=lt[s].sortableIndex,si[s].draggable=!1,si[s].style["will-change"]="",_n(si[s],this.options.selectedClass,!1),lt[s]===on&&_n(si[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||lt.length&&Ni===r&&(AC(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(AC(!1,i),si.forEach(function(o){He(o,"display","")}),r(),Vf=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(si.forEach(function(o){He(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Vf=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Ni&&Ni.multiDrag._deselectMultiDrag(),lt.forEach(function(r){r.sortableIndex=kn(r)}),lt=lt.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Rl=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){lt.forEach(function(o){o!==on&&He(o,"position","absolute")});var s=yn(on,!1,!0,!0);lt.forEach(function(o){o!==on&&TC(o,s)}),Yr=!0,Cc=!0}i.animateAll(function(){Yr=!1,Cc=!1,r.options.animation&&lt.forEach(function(o){oy(o)}),r.options.sort&&Bf()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;Yr&&~lt.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;lt.length>1&&(lt.forEach(function(a){s.addAnimationState({target:a,rect:Yr?yn(a):o}),oy(a),a.fromRect=o,r.removeAnimationState(a)}),Yr=!1,cZ(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),Cc=!1,u.animation&&lt.length>1&&(Yr||!i&&!o.options.sort&&!l)){var c=yn(on,!1,!0,!0);lt.forEach(function(h){h!==on&&(TC(h,c),a.appendChild(h))}),Yr=!0}if(!i)if(Yr||Bf(),lt.length>1){var d=Vf;o._showClone(r),o.options.animation&&!Vf&&d&&si.forEach(function(h){o.addAnimationState({target:h,rect:Ac}),h.fromRect=Ac,h.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(lt.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){Ac=Pi({},r);var o=$a(on,!0);Ac.top-=o.f,Ac.left-=o.e}},dragOverAnimationComplete:function(){Yr&&(Yr=!1,Bf())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=s.children;if(!Rl)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),_n(on,d.selectedClass,!~lt.indexOf(on)),~lt.indexOf(on))lt.splice(lt.indexOf(on),1),Ic=null,Yc({sortable:o,rootEl:i,name:"deselect",targetEl:on,originalEvt:r});else{if(lt.push(on),Yc({sortable:o,rootEl:i,name:"select",targetEl:on,originalEvt:r}),r.shiftKey&&Ic&&o.el.contains(Ic)){var f=kn(Ic),p=kn(on);if(~f&&~p&&f!==p){var m,y;for(p>f?(y=f,m=p):(y=p,m=f+1);y<m;y++)~lt.indexOf(h[y])||(_n(h[y],d.selectedClass,!0),lt.push(h[y]),Yc({sortable:o,rootEl:i,name:"select",targetEl:h[y],originalEvt:r}))}}else Ic=on;Ni=c}if(Rl&&this.isMultiDrag){if(Yr=!1,(s[Cr].options.sort||s!==i)&&lt.length>1){var _=yn(on),v=kn(on,":not(."+this.options.selectedClass+")");if(!Cc&&d.animation&&(on.thisAnimationDuration=null),c.captureAnimationState(),!Cc&&(d.animation&&(on.fromRect=_,lt.forEach(function(g){if(g.thisAnimationDuration=null,g!==on){var w=Yr?yn(g):_;g.fromRect=w,c.addAnimationState({target:g,rect:w})}})),Bf(),lt.forEach(function(g){h[v]?s.insertBefore(g,h[v]):s.appendChild(g),v++}),l===kn(on))){var b=!1;lt.forEach(function(g){if(g.sortableIndex!==kn(g)){b=!0;return}}),b&&a("update")}lt.forEach(function(g){oy(g)}),c.animateAll()}Ni=c}(i===s||u&&u.lastPutMode!=="clone")&&si.forEach(function(g){g.parentNode&&g.parentNode.removeChild(g)})}},nullingGlobal:function(){this.isMultiDrag=Rl=!1,si.length=0},destroyGlobal:function(){this._deselectMultiDrag(),mt(document,"pointerup",this._deselectMultiDrag),mt(document,"mouseup",this._deselectMultiDrag),mt(document,"touchend",this._deselectMultiDrag),mt(document,"keydown",this._checkKeyDown),mt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Rl<"u"&&Rl)&&Ni===this.sortable&&!(n&&Ui(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;lt.length;){var r=lt[0];_n(r,this.options.selectedClass,!1),lt.shift(),Yc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Pi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Cr];!r||!r.options.multiDrag||~lt.indexOf(n)||(Ni&&Ni!==r&&(Ni.multiDrag._deselectMultiDrag(),Ni=r),_n(n,r.options.selectedClass,!0),lt.push(n))},deselect:function(n){var r=n.parentNode[Cr],i=lt.indexOf(n);!r||!r.options.multiDrag||!~i||(_n(n,r.options.selectedClass,!1),lt.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return lt.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;Yr&&s!==on?o=-1:Yr?o=kn(s,":not(."+n.options.selectedClass+")"):o=kn(s),i.push({multiDragElement:s,index:o})}),{items:OJ(lt),clones:[].concat(si),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function cZ(t,e){lt.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function AC(t,e){si.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Bf(){lt.forEach(function(t){t!==on&&t.parentNode&&t.parentNode.removeChild(t)})}nt.mount(new oZ);nt.mount(T1,_1);const dZ=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:uZ,Sortable:nt,Swap:aZ,default:nt},Symbol.toStringTag,{value:"Module"})),hZ=xM(dZ);(function(t,e){(function(r,i){t.exports=i(xJ,hZ)})(typeof self<"u"?self:AJ,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,f){return l.call(u,d,h,f)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(f){return c&&u.call(f)=="[object Window]"?d(f):l(a(f))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),f=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(y,_){if(y=c(y),_=d(_,!0),f)try{return p(y,_)}catch{}if(h(y,_))return u(!l.f.call(y,_),y[_])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var h=a[d],f=h&&h.prototype;if(f&&f.forEach!==u)try{c(f,"forEach",u)}catch{f.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,f){if(!f&&!u)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},h(m)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],f=h.constructor={};return f[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),f=o("94ca");i.exports=function(p,m){var y=p.target,_=p.global,v=p.stat,b,g,w,T,R,A;if(_?g=a:v?g=a[y]||d(y,{}):g=(a[y]||{}).prototype,g)for(w in m){if(R=m[w],p.noTargetGet?(A=l(g,w),T=A&&A.value):T=g[w],b=f(_?w:y+(v?".":"#")+w,p.forced),!b&&T!==void 0){if(typeof R==typeof T)continue;h(R,T)}(p.sham||T&&T.sham)&&u(R,"sham",!0),c(g,w,R,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,f=h[d],p=u(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),m=f.name!=d;(p||m)&&a(RegExp.prototype,d,function(){var _=l(this),v=String(_.source),b=_.flags,g=String(b===void 0&&_ instanceof RegExp&&!("flags"in h)?c.call(_):b);return"/"+v+"/"+g},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),f=o("c430"),p="".startsWith,m=Math.min,y=h("startsWith"),_=!f&&!y&&!!function(){var v=l(String.prototype,"startsWith");return v&&!v.writable}();a({target:"String",proto:!0,forced:!_&&!y},{startsWith:function(b){var g=String(d(this));c(b);var w=u(m(arguments.length>1?arguments[1]:void 0,g.length)),T=String(b);return p?p.call(g,T,w):g.slice(w,w+T.length)===T}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,f;d?(h=d.split("."),f=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(f=h[1]))),i.exports=f&&+f},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(h,f){u(h);for(var p=c(f),m=p.length,y=0,_;m>y;)l.f(h,_=p[y++],f[_]);return h}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(f){d(this,{type:c,string:String(f),index:0})},function(){var p=h(this),m=p.string,y=p.index,_;return y>=m.length?{value:void 0,done:!0}:(_=a(m,y),p.index+=_.length,{value:_,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(h,f,p){var m=a(h),y=l(m.length),_=u(p,y),v;if(d&&f!=f){for(;y>_;)if(v=m[_++],v!=v)return!0}else for(;y>_;_++)if((d||_ in m)&&m[_]===f)return d||_||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),f=o("35a1");i.exports=function(m){var y=l(m),_=typeof this=="function"?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,g=b!==void 0,w=f(y),T=0,R,A,k,S,M,F;if(g&&(b=a(b,v>2?arguments[2]:void 0,2)),w!=null&&!(_==Array&&c(w)))for(S=w.call(y),M=S.next,A=new _;!(k=M.call(S)).done;T++)F=g?u(S,b,[k.value,T],!0):k.value,h(A,T,F);else for(R=d(y.length),A=new _(R);R>T;T++)F=g?b(y[T],T):y[T],h(A,T,F);return A.length=T,A}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),f=o("8aa5"),p=o("14c3"),m=Math.max,y=Math.min,_=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,g=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,T,R,A){var k=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=A.REPLACE_KEEPS_$0,M=k?"$":"$0";return[function(j,N){var O=h(this),H=j==null?void 0:j[w];return H!==void 0?H.call(j,O,N):T.call(String(O),j,N)},function(I,j){if(!k&&S||typeof j=="string"&&j.indexOf(M)===-1){var N=R(T,I,this,j);if(N.done)return N.value}var O=l(I),H=String(this),J=typeof j=="function";J||(j=String(j));var L=O.global;if(L){var C=O.unicode;O.lastIndex=0}for(var ee=[];;){var se=p(O,H);if(se===null||(ee.push(se),!L))break;var te=String(se[0]);te===""&&(O.lastIndex=f(H,c(O.lastIndex),C))}for(var he="",Y=0,V=0;V<ee.length;V++){se=ee[V];for(var q=String(se[0]),ce=m(y(d(se.index),H.length),0),K=[],we=1;we<se.length;we++)K.push(g(se[we]));var Se=se.groups;if(J){var E=[q].concat(K,ce,H);Se!==void 0&&E.push(Se);var D=String(j.apply(void 0,E))}else D=F(q,H,ce,K,Se,j);ce>=Y&&(he+=H.slice(Y,ce)+D,Y=ce+q.length)}return he+H.slice(Y)}];function F(I,j,N,O,H,J){var L=N+I.length,C=O.length,ee=b;return H!==void 0&&(H=u(H),ee=v),T.call(J,ee,function(se,te){var he;switch(te.charAt(0)){case"$":return"$";case"&":return I;case"`":return j.slice(0,N);case"'":return j.slice(L);case"<":he=H[te.slice(1,-1)];break;default:var Y=+te;if(Y===0)return se;if(Y>C){var V=_(Y/10);return V===0?se:V<=C?O[V-1]===void 0?te.charAt(1):O[V-1]+te.charAt(1):se}he=O[Y-1]}return he===void 0?"":he})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var f=l.f(c(h)),p=u.f;return p?f.concat(p(h)):f}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var m=u(this),y=c(m.length),_;return d(p),_=h(m,0),_.length=l(_,m,m,y,0,1,p,arguments.length>1?arguments[1]:void 0),_}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,h){var f=String(l(d)),p=a(h),m=f.length,y,_;return p<0||p>=m?c?"":void 0:(y=f.charCodeAt(p),y<55296||y>56319||p+1===m||(_=f.charCodeAt(p+1))<56320||_>57343?c?f.charAt(p):y:c?f.slice(p,p+2):(y-55296<<10)+(_-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,h){var f;return l(d)&&(f=d.constructor,typeof f=="function"&&(f===Array||l(f.prototype))?f=void 0:a(f)&&(f=f[c],f===null&&(f=void 0))),new(f===void 0?Array:f)(h===0?0:h)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),f=o("d012"),p=l.WeakMap,m,y,_,v=function(k){return _(k)?y(k):m(k,{})},b=function(k){return function(S){var M;if(!u(S)||(M=y(S)).type!==k)throw TypeError("Incompatible receiver, "+k+" required");return M}};if(a){var g=new p,w=g.get,T=g.has,R=g.set;m=function(k,S){return R.call(g,k,S),S},y=function(k){return w.call(g,k)||{}},_=function(k){return T.call(g,k)}}else{var A=h("state");f[A]=!0,m=function(k,S){return c(k,A,S),S},y=function(k){return d(k,A)?k[A]:{}},_=function(k){return d(k,A)}}i.exports={set:m,get:y,has:_,enforce:v,getterFor:b}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),f=h.get,p=h.enforce,m=String(String).split("String");(i.exports=function(y,_,v,b){var g=b?!!b.unsafe:!1,w=b?!!b.enumerable:!1,T=b?!!b.noTargetGet:!1;if(typeof v=="function"&&(typeof _=="string"&&!u(v,"name")&&l(v,"name",_),p(v).source=m.join(typeof _=="string"?_:"")),y===a){w?y[_]=v:c(_,v);return}else g?!T&&y[_]&&(w=!0):delete y[_];w?y[_]=v:l(y,_,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(h){return function(f){for(var p=u(f),m=l(p),y=m.length,_=0,v=[],b;y>_;)b=m[_++],(!a||c.call(p,b))&&v.push(h?[b,p[b]]:p[b]);return v}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),f=o("f772"),p=">",m="<",y="prototype",_="script",v=f("IE_PROTO"),b=function(){},g=function(k){return m+_+p+k+m+"/"+_+p},w=function(k){k.write(g("")),k.close();var S=k.parentWindow.Object;return k=null,S},T=function(){var k=h("iframe"),S="java"+_+":",M;return k.style.display="none",d.appendChild(k),k.src=String(S),M=k.contentWindow.document,M.open(),M.write(g("document.F=Object")),M.close(),M.F},R,A=function(){try{R=document.domain&&new ActiveXObject("htmlfile")}catch{}A=R?w(R):T();for(var k=u.length;k--;)delete A[y][u[k]];return A()};c[v]=!0,i.exports=Object.create||function(S,M){var F;return S!==null?(b[y]=a(S),F=new b,b[y]=null,F[v]=S):F=A(),M===void 0?F:l(F,M)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),f=o("6eeb"),p=o("b622"),m=o("c430"),y=o("3f8c"),_=o("ae93"),v=_.IteratorPrototype,b=_.BUGGY_SAFARI_ITERATORS,g=p("iterator"),w="keys",T="values",R="entries",A=function(){return this};i.exports=function(k,S,M,F,I,j,N){l(M,S,F);var O=function(V){if(V===I&&ee)return ee;if(!b&&V in L)return L[V];switch(V){case w:return function(){return new M(this,V)};case T:return function(){return new M(this,V)};case R:return function(){return new M(this,V)}}return function(){return new M(this)}},H=S+" Iterator",J=!1,L=k.prototype,C=L[g]||L["@@iterator"]||I&&L[I],ee=!b&&C||O(I),se=S=="Array"&&L.entries||C,te,he,Y;if(se&&(te=u(se.call(new k)),v!==Object.prototype&&te.next&&(!m&&u(te)!==v&&(c?c(te,v):typeof te[g]!="function"&&h(te,g,A)),d(te,H,!0,!0),m&&(y[H]=A))),I==T&&C&&C.name!==T&&(J=!0,ee=function(){return C.call(this)}),(!m||N)&&L[g]!==ee&&h(L,g,ee),y[S]=ee,I)if(he={values:O(T),keys:j?ee:O(w),entries:O(R)},N)for(Y in he)(b||J||!(Y in L))&&f(L,Y,he[Y]);else a({target:S,proto:!0,forced:b||J},he);return he}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,h){var f=a(d);f in c?l.f(c,f,u(0,h)):c[f]=h}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(R){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,p=h.exec(R.stack)||f.exec(R.stack),m=p&&p[1]||!1,y=p&&p[2]||!1,_=document.location.href.replace(document.location.hash,""),v,b,g,w=document.getElementsByTagName("script");m===_&&(v=document.documentElement.outerHTML,b=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),g=v.replace(b,"$1").trim());for(var T=0;T<w.length;T++)if(w[T].readyState==="interactive"||w[T].src===m||m===_&&w[T].innerHTML&&w[T].innerHTML.trim()===g)return w[T];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var y=/a/,_=/b*/g;return u.call(y,"a"),u.call(_,"a"),y.lastIndex!==0||_.lastIndex!==0}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=h||p||f;m&&(d=function(_){var v=this,b,g,w,T,R=f&&v.sticky,A=a.call(v),k=v.source,S=0,M=_;return R&&(A=A.replace("y",""),A.indexOf("g")===-1&&(A+="g"),M=String(_).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&_[v.lastIndex-1]!==`
`)&&(k="(?: "+k+")",M=" "+M,S++),g=new RegExp("^(?:"+k+")",A)),p&&(g=new RegExp("^"+k+"$(?!\\s)",A)),h&&(b=v.lastIndex),w=u.call(R?g:v,M),R?w?(w.input=w.input.slice(S),w[0]=w[0].slice(S),w.index=v.lastIndex,v.lastIndex+=w[0].length):v.lastIndex=0:h&&w&&(v.lastIndex=v.global?w.index+w[0].length:b),p&&w&&w.length>1&&c.call(w[0],g,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(w[T]=void 0)}),w}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,m){var y=d[c(p)];return y==f?!0:y==h?!1:typeof m=="function"?a(m):!!m},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",f=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),f=o("8418"),p=o("65f0"),m=o("1dde"),y=o("b622"),_=o("2d00"),v=y("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",w=_>=51||!l(function(){var k=[];return k[v]=!1,k.concat()[0]!==k}),T=m("concat"),R=function(k){if(!c(k))return!1;var S=k[v];return S!==void 0?!!S:u(k)},A=!w||!T;a({target:"Array",proto:!0,forced:A},{concat:function(S){var M=d(this),F=p(M,0),I=0,j,N,O,H,J;for(j=-1,O=arguments.length;j<O;j++)if(J=j===-1?M:arguments[j],R(J)){if(H=h(J.length),I+H>b)throw TypeError(g);for(N=0;N<H;N++,I++)N in J&&f(F,I,J[N])}else{if(I>=b)throw TypeError(g);f(F,I++,J)}return F.length=I,F}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(f){var h=l.return;throw h!==void 0&&a(h.call(l)),f}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(f,p,m){if(u(f),p=c(p,!0),u(m),l)try{return d(f,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(f[p]=m.value),f}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};i.exports=function(f,p,m){var y=p+" Iterator";return f.prototype=l(a,{next:u(1,m)}),c(f,y,!1,!0),d[y]=h,f}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,h,f,p,m,y,_,v){for(var b=m,g=0,w=_?u(_,v,3):!1,T;g<p;){if(g in f){if(T=w?w(f[g],g,h):f[g],y>0&&a(T))b=c(d,h,T,l(T.length),b,y-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[b]=T}b++}g++}return b};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),f=o("8418"),p=o("1dde"),m=o("ae40"),y=p("splice"),_=m("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,b=Math.min,g=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!_},{splice:function(R,A){var k=d(this),S=c(k.length),M=l(R,S),F=arguments.length,I,j,N,O,H,J;if(F===0?I=j=0:F===1?(I=0,j=S-M):(I=F-2,j=b(v(u(A),0),S-M)),S+I-j>g)throw TypeError(w);for(N=h(k,j),O=0;O<j;O++)H=M+O,H in k&&f(N,O,k[H]);if(N.length=j,I<j){for(O=M;O<S-j;O++)H=O+j,J=O+I,H in k?k[J]=k[H]:delete k[J];for(O=S;O>S-j+I;O--)delete k[O-1]}else if(I>j)for(O=S-j;O>M;O--)H=O+j-1,J=O+I-1,H in k?k[J]=k[H]:delete k[J];for(O=0;O<I;O++)k[O+M]=arguments[O+2];return k.length=S-j+I,N}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),f=o("fdbf"),p=o("d039"),m=o("5135"),y=o("e8b5"),_=o("861d"),v=o("825a"),b=o("7b0b"),g=o("fc6a"),w=o("c04e"),T=o("5c6c"),R=o("7c73"),A=o("df75"),k=o("241c"),S=o("057f"),M=o("7418"),F=o("06cf"),I=o("9bf2"),j=o("d1e7"),N=o("9112"),O=o("6eeb"),H=o("5692"),J=o("f772"),L=o("d012"),C=o("90e3"),ee=o("b622"),se=o("e538"),te=o("746f"),he=o("d44e"),Y=o("69f3"),V=o("b727").forEach,q=J("hidden"),ce="Symbol",K="prototype",we=ee("toPrimitive"),Se=Y.set,E=Y.getterFor(ce),D=Object[K],B=l.Symbol,G=u("JSON","stringify"),de=F.f,fe=I.f,Te=S.f,le=j.f,Z=H("symbols"),z=H("op-symbols"),_e=H("string-to-symbol-registry"),pe=H("symbol-to-string-registry"),Re=H("wks"),We=l.QObject,Qe=!We||!We[K]||!We[K].findChild,Ve=d&&p(function(){return R(fe({},"a",{get:function(){return fe(this,"a",{value:7}).a}})).a!=7})?function(Ke,Fe,Xe){var _t=de(D,Fe);_t&&delete D[Fe],fe(Ke,Fe,Xe),_t&&Ke!==D&&fe(D,Fe,_t)}:fe,Q=function(Ke,Fe){var Xe=Z[Ke]=R(B[K]);return Se(Xe,{type:ce,tag:Ke,description:Fe}),d||(Xe.description=Fe),Xe},$=f?function(Ke){return typeof Ke=="symbol"}:function(Ke){return Object(Ke)instanceof B},W=function(Fe,Xe,_t){Fe===D&&W(z,Xe,_t),v(Fe);var xt=w(Xe,!0);return v(_t),m(Z,xt)?(_t.enumerable?(m(Fe,q)&&Fe[q][xt]&&(Fe[q][xt]=!1),_t=R(_t,{enumerable:T(0,!1)})):(m(Fe,q)||fe(Fe,q,T(1,{})),Fe[q][xt]=!0),Ve(Fe,xt,_t)):fe(Fe,xt,_t)},U=function(Fe,Xe){v(Fe);var _t=g(Xe),xt=A(_t).concat(tt(_t));return V(xt,function(Wr){(!d||me.call(_t,Wr))&&W(Fe,Wr,_t[Wr])}),Fe},re=function(Fe,Xe){return Xe===void 0?R(Fe):U(R(Fe),Xe)},me=function(Fe){var Xe=w(Fe,!0),_t=le.call(this,Xe);return this===D&&m(Z,Xe)&&!m(z,Xe)?!1:_t||!m(this,Xe)||!m(Z,Xe)||m(this,q)&&this[q][Xe]?_t:!0},Be=function(Fe,Xe){var _t=g(Fe),xt=w(Xe,!0);if(!(_t===D&&m(Z,xt)&&!m(z,xt))){var Wr=de(_t,xt);return Wr&&m(Z,xt)&&!(m(_t,q)&&_t[q][xt])&&(Wr.enumerable=!0),Wr}},Me=function(Fe){var Xe=Te(g(Fe)),_t=[];return V(Xe,function(xt){!m(Z,xt)&&!m(L,xt)&&_t.push(xt)}),_t},tt=function(Fe){var Xe=Fe===D,_t=Te(Xe?z:g(Fe)),xt=[];return V(_t,function(Wr){m(Z,Wr)&&(!Xe||m(D,Wr))&&xt.push(Z[Wr])}),xt};if(h||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var Fe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Xe=C(Fe),_t=function(xt){this===D&&_t.call(z,xt),m(this,q)&&m(this[q],Xe)&&(this[q][Xe]=!1),Ve(this,Xe,T(1,xt))};return d&&Qe&&Ve(D,Xe,{configurable:!0,set:_t}),Q(Xe,Fe)},O(B[K],"toString",function(){return E(this).tag}),O(B,"withoutSetter",function(Ke){return Q(C(Ke),Ke)}),j.f=me,I.f=W,F.f=Be,k.f=S.f=Me,M.f=tt,se.f=function(Ke){return Q(ee(Ke),Ke)},d&&(fe(B[K],"description",{configurable:!0,get:function(){return E(this).description}}),c||O(D,"propertyIsEnumerable",me,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:B}),V(A(Re),function(Ke){te(Ke)}),a({target:ce,stat:!0,forced:!h},{for:function(Ke){var Fe=String(Ke);if(m(_e,Fe))return _e[Fe];var Xe=B(Fe);return _e[Fe]=Xe,pe[Xe]=Fe,Xe},keyFor:function(Fe){if(!$(Fe))throw TypeError(Fe+" is not a symbol");if(m(pe,Fe))return pe[Fe]},useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:re,defineProperty:W,defineProperties:U,getOwnPropertyDescriptor:Be}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Me,getOwnPropertySymbols:tt}),a({target:"Object",stat:!0,forced:p(function(){M.f(1)})},{getOwnPropertySymbols:function(Fe){return M.f(b(Fe))}}),G){var jt=!h||p(function(){var Ke=B();return G([Ke])!="[null]"||G({a:Ke})!="{}"||G(Object(Ke))!="{}"});a({target:"JSON",stat:!0,forced:jt},{stringify:function(Fe,Xe,_t){for(var xt=[Fe],Wr=1,tv;arguments.length>Wr;)xt.push(arguments[Wr++]);if(tv=Xe,!(!_(Xe)&&Fe===void 0||$(Fe)))return y(Xe)||(Xe=function(x2,Qh){if(typeof tv=="function"&&(Qh=tv.call(this,x2,Qh)),!$(Qh))return Qh}),xt[1]=Xe,G.apply(null,xt)}})}B[K][we]||N(B[K],we,B[K].valueOf),he(B,ce),L[q]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},h=function(f){throw f};i.exports=function(f,p){if(u(d,f))return d[f];p||(p={});var m=[][f],y=u(p,"ACCESSORS")?p.ACCESSORS:!1,_=u(p,0)?p[0]:h,v=u(p,1)?p[1]:void 0;return d[f]=!!m&&!l(function(){if(y&&!a)return!0;var b={length:-1};y?c(b,1,{enumerable:!0,get:h}):b[1]=1,m.call(b,_,v)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),f=!1,p=function(){return this},m,y,_;[].keys&&(_=[].keys(),"next"in _?(y=a(a(_)),y!==Object.prototype&&(m=y)):f=!0),m==null&&(m={}),!d&&!u(m,h)&&l(m,h,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:f}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),f=l("wks"),p=a.Symbol,m=h?p:p&&p.withoutSetter||c;i.exports=function(y){return u(f,y)||(d&&u(p,y)?f[y]=p[y]:f[y]=m("Symbol."+y)),f[y]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(f){return u(l(f))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,f=function(p){var m=p==1,y=p==2,_=p==3,v=p==4,b=p==6,g=p==5||b;return function(w,T,R,A){for(var k=u(w),S=l(k),M=a(T,R,3),F=c(S.length),I=0,j=A||d,N=m?j(w,F):y?j(w,0):void 0,O,H;F>I;I++)if((g||I in S)&&(O=S[I],H=M(O,I,k),p)){if(m)N[I]=H;else if(H)switch(p){case 3:return!0;case 5:return O;case 6:return I;case 2:h.call(N,O)}else if(v)return!1}return b?-1:_||v?v:N}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",h=!0,f=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!f},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,f=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!f||!p},{indexOf:function(y){return h?d.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,h){var f=l(d),p=0,m=[],y;for(y in f)!a(c,y)&&a(f,y)&&m.push(y);for(;h.length>p;)a(f,y=h[p++])&&(~u(m,y)||m.push(y));return m}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(f,p){return a(f),l(p),u?d.call(f,p):f.__proto__=p,f}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,h,f){d&&!l(d=f?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(h){return function(f,p,m,y){a(p);var _=l(f),v=u(_),b=c(_.length),g=h?b-1:0,w=h?-1:1;if(m<2)for(;;){if(g in v){y=v[g],g+=w;break}if(g+=w,h?g<0:b<=g)throw TypeError("Reduce of empty array with no initial value")}for(;h?g>=0:b>g;g+=w)g in v&&(y=p(y,v[g],g,_));return y}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),h=u("species"),f=!l(function(){var v=/./;return v.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(v,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=u("replace"),y=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),_=!l(function(){var v=/(?:)/,b=v.exec;v.exec=function(){return b.apply(this,arguments)};var g="ab".split(v);return g.length!==2||g[0]!=="a"||g[1]!=="b"});i.exports=function(v,b,g,w){var T=u(v),R=!l(function(){var I={};return I[T]=function(){return 7},""[v](I)!=7}),A=R&&!l(function(){var I=!1,j=/a/;return v==="split"&&(j={},j.constructor={},j.constructor[h]=function(){return j},j.flags="",j[T]=/./[T]),j.exec=function(){return I=!0,null},j[T](""),!I});if(!R||!A||v==="replace"&&!(f&&p&&!y)||v==="split"&&!_){var k=/./[T],S=g(T,""[v],function(I,j,N,O,H){return j.exec===c?R&&!H?{done:!0,value:k.call(j,N,O)}:{done:!0,value:I.call(N,j,O)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),M=S[0],F=S[1];a(String.prototype,v,M),a(RegExp.prototype,T,b==2?function(I,j){return F.call(I,this,j)}:function(I){return F.call(I,this)})}w&&d(RegExp.prototype[T],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=c(p),y=d.f,_=u(m),v={},b=0,g,w;_.length>b;)w=y(m,g=_[b++]),w!==void 0&&h(v,g,w);return v}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),f=d("toStringTag"),p=u.values;for(var m in l){var y=a[m],_=y&&y.prototype;if(_){if(_[h]!==p)try{c(_,h,p)}catch{_[h]=p}if(_[f]||c(_,f,m),l[m]){for(var v in u)if(_[v]!==u[v])try{c(_,v,u[v])}catch{_[v]=u[v]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,f=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},y=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),R=this instanceof y?new p(T):T===void 0?p():p(T);return T===""&&(m[R]=!0),R};f(y,p);var _=y.prototype=p.prototype;_.constructor=y;var v=_.toString,b=String(p("test"))=="Symbol(test)",g=/^Symbol\((.*)\)[^)]+$/;h(_,"description",{configurable:!0,get:function(){var T=d(this)?this.valueOf():this,R=v.call(T);if(c(m,T))return"";var A=b?R.slice(7,-1):R.replace(g,"$1");return A===""?void 0:A}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(f){return f=l(f),a(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",f=c.set,p=c.getterFor(h);i.exports=d(Array,"Array",function(m,y){f(this,{type:h,target:a(m),index:0,kind:y})},function(){var m=p(this),y=m.target,_=m.kind,v=m.index++;return!y||v>=y.length?(m.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:v,done:!1}:_=="values"?{value:y[v],done:!1}:{value:[v,y[v]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=l(function(){c(1)}),f=!d||h;a({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(m,y){return c(u(m),y)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,h){for(var f=l(h),p=c.f,m=u.f,y=0;y<f.length;y++){var _=f[y];a(d,_)||p(d,_,m(h,_))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(f,p){try{return f[p]}catch{}};i.exports=a?l:function(f){var p,m,y;return f===void 0?"Undefined":f===null?"Null":typeof(m=h(p=Object(f),c))=="string"?m:d?l(p):(y=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":y}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c($,W,U){return W in $?Object.defineProperty($,W,{value:U,enumerable:!0,configurable:!0,writable:!0}):$[W]=U,$}function d($,W){var U=Object.keys($);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols($);W&&(re=re.filter(function(me){return Object.getOwnPropertyDescriptor($,me).enumerable})),U.push.apply(U,re)}return U}function h($){for(var W=1;W<arguments.length;W++){var U=arguments[W]!=null?arguments[W]:{};W%2?d(Object(U),!0).forEach(function(re){c($,re,U[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(U)):d(Object(U)).forEach(function(re){Object.defineProperty($,re,Object.getOwnPropertyDescriptor(U,re))})}return $}function f($){if(Array.isArray($))return $}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p($,W){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object($)))){var U=[],re=!0,me=!1,Be=void 0;try{for(var Me=$[Symbol.iterator](),tt;!(re=(tt=Me.next()).done)&&(U.push(tt.value),!(W&&U.length===W));re=!0);}catch(jt){me=!0,Be=jt}finally{try{!re&&Me.return!=null&&Me.return()}finally{if(me)throw Be}}return U}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m($,W){(W==null||W>$.length)&&(W=$.length);for(var U=0,re=new Array(W);U<W;U++)re[U]=$[U];return re}function y($,W){if($){if(typeof $=="string")return m($,W);var U=Object.prototype.toString.call($).slice(8,-1);if(U==="Object"&&$.constructor&&(U=$.constructor.name),U==="Map"||U==="Set")return Array.from($);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return m($,W)}}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v($,W){return f($)||p($,W)||y($,W)||_()}function b($){if(Array.isArray($))return m($)}function g($){if(typeof Symbol<"u"&&Symbol.iterator in Object($))return Array.from($)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T($){return b($)||g($)||y($)||w()}var R=o("a352"),A=o.n(R);function k($){$.parentElement!==null&&$.parentElement.removeChild($)}function S($,W,U){var re=U===0?$.children[0]:$.children[U-1].nextSibling;$.insertBefore(W,re)}var M=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function F($){var W=Object.create(null);return function(re){var me=W[re];return me||(W[re]=$(re))}}var I=/-(\w)/g,j=F(function($){return $.replace(I,function(W,U){return U.toUpperCase()})});o("5db7"),o("73d9");var N=["Start","Add","Remove","Update","End"],O=["Choose","Unchoose","Sort","Filter","Clone"],H=["Move"],J=[H,N,O].flatMap(function($){return $}).map(function($){return"on".concat($)}),L={manage:H,manageAndEmit:N,emit:O};function C($){return J.indexOf($)!==-1}o("caad"),o("2ca0");var ee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function se($){return ee.includes($)}function te($){return["transition-group","TransitionGroup"].includes($)}function he($){return["id","class","role","style"].includes($)||$.startsWith("data-")||$.startsWith("aria-")||$.startsWith("on")}function Y($){return $.reduce(function(W,U){var re=v(U,2),me=re[0],Be=re[1];return W[me]=Be,W},{})}function V($){var W=$.$attrs,U=$.componentData,re=U===void 0?{}:U,me=Y(Object.entries(W).filter(function(Be){var Me=v(Be,2),tt=Me[0];return Me[1],he(tt)}));return h(h({},me),re)}function q($){var W=$.$attrs,U=$.callBackBuilder,re=Y(ce(W));Object.entries(U).forEach(function(Be){var Me=v(Be,2),tt=Me[0],jt=Me[1];L[tt].forEach(function(Ke){re["on".concat(Ke)]=jt(Ke)})});var me="[data-draggable]".concat(re.draggable||"");return h(h({},re),{},{draggable:me})}function ce($){return Object.entries($).filter(function(W){var U=v(W,2),re=U[0];return U[1],!he(re)}).map(function(W){var U=v(W,2),re=U[0],me=U[1];return[j(re),me]}).filter(function(W){var U=v(W,2),re=U[0];return U[1],!C(re)})}o("c740");function K($,W){if(!($ instanceof W))throw new TypeError("Cannot call a class as a function")}function we($,W){for(var U=0;U<W.length;U++){var re=W[U];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty($,re.key,re)}}function Se($,W,U){return W&&we($.prototype,W),U&&we($,U),$}var E=function(W){var U=W.el;return U},D=function(W,U){return W.__draggable_context=U},B=function(W){return W.__draggable_context},G=function(){function $(W){var U=W.nodes,re=U.header,me=U.default,Be=U.footer,Me=W.root,tt=W.realList;K(this,$),this.defaultNodes=me,this.children=[].concat(T(re),T(me),T(Be)),this.externalComponent=Me.externalComponent,this.rootTransition=Me.transition,this.tag=Me.tag,this.realList=tt}return Se($,[{key:"render",value:function(U,re){var me=this.tag,Be=this.children,Me=this._isRootComponent,tt=Me?{default:function(){return Be}}:Be;return U(me,re,tt)}},{key:"updated",value:function(){var U=this.defaultNodes,re=this.realList;U.forEach(function(me,Be){D(E(me),{element:re[Be],index:Be})})}},{key:"getUnderlyingVm",value:function(U){return B(U)}},{key:"getVmIndexFromDomIndex",value:function(U,re){var me=this.defaultNodes,Be=me.length,Me=re.children,tt=Me.item(U);if(tt===null)return Be;var jt=B(tt);if(jt)return jt.index;if(Be===0)return 0;var Ke=E(me[0]),Fe=T(Me).findIndex(function(Xe){return Xe===Ke});return U<Fe?0:Be}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),$}(),de=o("8bbf");function fe($,W){var U=$[W];return U?U():[]}function Te($){var W=$.$slots,U=$.realList,re=$.getKey,me=U||[],Be=["header","footer"].map(function(Xe){return fe(W,Xe)}),Me=v(Be,2),tt=Me[0],jt=Me[1],Ke=W.item;if(!Ke)throw new Error("draggable element must have an item slot");var Fe=me.flatMap(function(Xe,_t){return Ke({element:Xe,index:_t}).map(function(xt){return xt.key=re(Xe),xt.props=h(h({},xt.props||{}),{},{"data-draggable":!0}),xt})});if(Fe.length!==me.length)throw new Error("Item slot must have only one child");return{header:tt,footer:jt,default:Fe}}function le($){var W=te($),U=!se($)&&!W;return{transition:W,externalComponent:U,tag:U?Object(de.resolveComponent)($):W?de.TransitionGroup:$}}function Z($){var W=$.$slots,U=$.tag,re=$.realList,me=$.getKey,Be=Te({$slots:W,realList:re,getKey:me}),Me=le(U);return new G({nodes:Be,root:Me,realList:re})}function z($,W){var U=this;Object(de.nextTick)(function(){return U.$emit($.toLowerCase(),W)})}function _e($){var W=this;return function(U,re){if(W.realList!==null)return W["onDrag".concat($)](U,re)}}function pe($){var W=this,U=_e.call(this,$);return function(re,me){U.call(W,re,me),z.call(W,$,re)}}var Re=null,We={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(W){return W}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Qe=["update:modelValue","change"].concat(T([].concat(T(L.manageAndEmit),T(L.emit)).map(function($){return $.toLowerCase()}))),Ve=Object(de.defineComponent)({name:"draggable",inheritAttrs:!1,props:We,emits:Qe,data:function(){return{error:!1}},render:function(){try{this.error=!1;var W=this.$slots,U=this.$attrs,re=this.tag,me=this.componentData,Be=this.realList,Me=this.getKey,tt=Z({$slots:W,tag:re,realList:Be,getKey:Me});this.componentStructure=tt;var jt=V({$attrs:U,componentData:me});return tt.render(de.h,jt)}catch(Ke){return this.error=!0,Object(de.h)("pre",{style:{color:"red"}},Ke.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&M.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var W=this;if(!this.error){var U=this.$attrs,re=this.$el,me=this.componentStructure;me.updated();var Be=q({$attrs:U,callBackBuilder:{manageAndEmit:function(jt){return pe.call(W,jt)},emit:function(jt){return z.bind(W,jt)},manage:function(jt){return _e.call(W,jt)}}}),Me=re.nodeType===1?re:re.parentElement;this._sortable=new A.a(Me,Be),this.targetDomElement=Me,Me.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var W=this.list;return W||this.modelValue},getKey:function(){var W=this.itemKey;return typeof W=="function"?W:function(U){return U[W]}}},watch:{$attrs:{handler:function(W){var U=this._sortable;U&&ce(W).forEach(function(re){var me=v(re,2),Be=me[0],Me=me[1];U.option(Be,Me)})},deep:!0}},methods:{getUnderlyingVm:function(W){return this.componentStructure.getUnderlyingVm(W)||null},getUnderlyingPotencialDraggableComponent:function(W){return W.__draggable_component__},emitChanges:function(W){var U=this;Object(de.nextTick)(function(){return U.$emit("change",W)})},alterList:function(W){if(this.list){W(this.list);return}var U=T(this.modelValue);W(U),this.$emit("update:modelValue",U)},spliceList:function(){var W=arguments,U=function(me){return me.splice.apply(me,T(W))};this.alterList(U)},updatePosition:function(W,U){var re=function(Be){return Be.splice(U,0,Be.splice(W,1)[0])};this.alterList(re)},getRelatedContextFromMoveEvent:function(W){var U=W.to,re=W.related,me=this.getUnderlyingPotencialDraggableComponent(U);if(!me)return{component:me};var Be=me.realList,Me={list:Be,component:me};if(U!==re&&Be){var tt=me.getUnderlyingVm(re)||{};return h(h({},tt),Me)}return Me},getVmIndexFromDomIndex:function(W){return this.componentStructure.getVmIndexFromDomIndex(W,this.targetDomElement)},onDragStart:function(W){this.context=this.getUnderlyingVm(W.item),W.item._underlying_vm_=this.clone(this.context.element),Re=W.item},onDragAdd:function(W){var U=W.item._underlying_vm_;if(U!==void 0){k(W.item);var re=this.getVmIndexFromDomIndex(W.newIndex);this.spliceList(re,0,U);var me={element:U,newIndex:re};this.emitChanges({added:me})}},onDragRemove:function(W){if(S(this.$el,W.item,W.oldIndex),W.pullMode==="clone"){k(W.clone);return}var U=this.context,re=U.index,me=U.element;this.spliceList(re,1);var Be={element:me,oldIndex:re};this.emitChanges({removed:Be})},onDragUpdate:function(W){k(W.item),S(W.from,W.item,W.oldIndex);var U=this.context.index,re=this.getVmIndexFromDomIndex(W.newIndex);this.updatePosition(U,re);var me={element:this.context.element,oldIndex:U,newIndex:re};this.emitChanges({moved:me})},computeFutureIndex:function(W,U){if(!W.element)return 0;var re=T(U.to.children).filter(function(tt){return tt.style.display!=="none"}),me=re.indexOf(U.related),Be=W.component.getVmIndexFromDomIndex(me),Me=re.indexOf(Re)!==-1;return Me||!U.willInsertAfter?Be:Be+1},onDragMove:function(W,U){var re=this.move,me=this.realList;if(!re||!me)return!0;var Be=this.getRelatedContextFromMoveEvent(W),Me=this.computeFutureIndex(Be,W),tt=h(h({},this.context),{},{futureIndex:Me}),jt=h(h({},W),{},{relatedContext:Be,draggedContext:tt});return re(jt,U)},onDragEnd:function(){Re=null}}}),Q=Ve;s.default=Q},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),f=o("8418"),p=o("b622"),m=o("1dde"),y=o("ae40"),_=m("slice"),v=y("slice",{ACCESSORS:!0,0:0,1:2}),b=p("species"),g=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!_||!v},{slice:function(R,A){var k=h(this),S=d(k.length),M=c(R,S),F=c(A===void 0?S:A,S),I,j,N;if(u(k)&&(I=k.constructor,typeof I=="function"&&(I===Array||u(I.prototype))?I=void 0:l(I)&&(I=I[b],I===null&&(I=void 0)),I===Array||I===void 0))return g.call(k,M,F);for(j=new(I===void 0?Array:I)(w(F-M,0)),N=0;M<F;M++,N++)M in k&&f(j,N,k[M]);return j.length=N,j}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(DM);var fZ=DM.exports;const jM=kJ(fZ),pZ={key:0,class:"mb-5 p-4 border-y"},mZ={class:"flex"},gZ=Ee({__name:"StringListField",props:{name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,r=ue(""),i=ie({get:()=>n.modelValue,set:u=>{l("update:modelValue",u),r.value=""}}),s=u=>{if(u.moved){const{oldIndex:c,newIndex:d}=u.moved,h=[...i.value];if(h.length===2)i.value=[h[1],h[0]];else{const f=h.splice(c,1)[0];h.splice(d,0,f),i.value=h}}},o=()=>{r.value.length&&(i.value=[...i.value,r.value])},a=u=>{i.value.splice(u,1)},l=e;return(u,c)=>(P(),X("div",null,[oe(Wn,{id:u.name,name:u.name,label:u.label,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d),max:200,placeholder:u.placeholder,onKeydown:c[1]||(c[1]=ot(d=>o(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),i.value.length?(P(),X("div",pZ,[oe(x(jM),{modelValue:i.value,itemKey:"index",onChange:s},{item:ye(({element:d,index:h})=>[ne("div",mZ,[oe(Wn,{class:"w-full",id:`${u.name}.${h}`,name:u.name,"model-value":d,max:200,"delete-button":"","onUpdate:modelValue":f=>i.value[h]=f.toString(),"onUpdate:delete":f=>a(h)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):ae("",!0)]))}}),vZ={class:"px-5 pb-5"},yZ={class:"flex justify-evenly font-bold"},wZ={class:"mt-3 flex justify-center"},bZ=Ee({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close","scroll-to-updated"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=rn(rr()),i=or(),{createBlogPost:s,updateBlogPost:o,allowedPublicUsers:a,deleteFilesOfBlogPost:l,toggleBlogPostVisibility:u}=i,{blogPosts:c,publicUsers:d}=rn(i),h=ue(),f=ue(),p=ue(),m=ue(),y=ue(),_=ue([]),v=ue([]),b=ue([]),g=ue([]),w=ue([]),T=ue([]),R=ue([]),A=ue(),k=ue(),S=ue(),M=ue(),F=ue(),I=ue(),j=ue(),N=ue(),O=ue(),H=ue(),J=ue(),L=ue(),C=ue(),ee=ie(()=>d.value.map(({id:le,displayName:Z})=>({value:le,label:Z}))),se=ue([]),te=ie(()=>se.value.map(le=>le.displayName).join(", ")),he=()=>({id:{value:kM(),error:""},title:{value:"",error:""},description:{value:"",error:""},descriptionFooter:{value:"",error:""},alignment:{value:"center",error:""},sections:{value:[],error:""},locked:{value:!1,error:""},colorPrimary:{value:"",error:""},colorSecondary:{value:"",error:""},colorTertiary:{value:"",error:""},opacityPrimary:{value:"",error:""},opacitySecondary:{value:"",error:""},opacityTertiary:{value:"",error:""},coverImageUrl:{value:"",error:""},allowedUserIds:{value:[],error:""},countdown:{value:null,error:""},timer:{value:null,error:""},archived:{value:!1,error:""},pinned:{value:!1,error:""}}),Y=qn(he()),V=ie(()=>{var le,Z,z,_e;return{id:Y.id.value,title:Y.title.value,description:Y.description.value,descriptionFooter:Y.descriptionFooter.value,alignment:Y.alignment.value,sections:Y.sections.value.map(pe=>({title:pe.title.value,subTitle:pe.subTitle.value,description:pe.description.value,alignment:pe.alignment.value,coverImageUrl:pe.coverImageUrl.value,countdown:pe.countdown.value,timer:pe.timer.value,bullets:pe.bullets.value})),date:((le=n.selected)==null?void 0:le.date)||new Date,dateUpdated:((Z=n.selected)==null?void 0:Z.dateUpdated)||new Date,locked:!!Y.locked.value,colorPrimary:Y.colorPrimary.value,colorSecondary:Y.colorSecondary.value,colorTertiary:Y.colorTertiary.value,opacityPrimary:Y.opacityPrimary.value,opacitySecondary:Y.opacitySecondary.value,opacityTertiary:Y.opacityTertiary.value,coverImageUrl:Y.coverImageUrl.value,reactions:[],allowedUserIds:Y.allowedUserIds.value,countdown:Y.countdown.value,timer:Y.timer.value,archived:Y.archived.value,datePinned:Y.pinned.value?(z=n.selected)!=null&&z.datePinned?((_e=n.selected)==null?void 0:_e.datePinned)??null:new Date:null}}),q=ie(()=>Fn.Content.convert(V.value)),ce=ie(()=>!!n.selected&&!Yi(Fn.Content.convert(Fn.convert(n.selected)),q.value)),K=ie(()=>Fn.Styling.convert(V.value)),we=ie(()=>!!n.selected&&!Yi(Fn.Styling.convert(Fn.convert(n.selected)),K.value)),Se=ie(()=>Fn.Settings.convert(V.value)),E=ie(()=>!!n.selected&&!Yi(Fn.Settings.convert(Fn.convert(n.selected)),Se.value)),D=ie(()=>{var le,Z,z,_e,pe,Re;return!!((Z=(le=n.selected)==null?void 0:le.allowedUserIds)!=null&&Z.length)&&!((z=Se.value.allowedUserIds)!=null&&z.length)||!((pe=(_e=n.selected)==null?void 0:_e.allowedUserIds)!=null&&pe.length)&&!!((Re=Se.value.allowedUserIds)!=null&&Re.length)}),B=ie(()=>{const le=[];return ce.value&&le.push("Content"),we.value&&le.push("Styling"),E.value&&le.push("Settings"),le.length?"Update "+Q0(le):void 0}),G=ie(()=>mo(n.selected)),de=async()=>{var le,Z,z,_e,pe,Re,We,Qe,Ve,Q,$,W;if(await Promise.all([f.value.test(),p.value.test(),m.value.test(),y.value.test(),...(le=_.value)==null?void 0:le.map(U=>U.test()),...(Z=v.value)==null?void 0:Z.map(U=>U.test()),...(z=b.value)==null?void 0:z.map(U=>U.test()),...(_e=g.value)==null?void 0:_e.map(U=>U.test()),...(pe=w.value)==null?void 0:pe.map(U=>U.test()),...(Re=T.value)==null?void 0:Re.map(U=>U.test()),...(We=R.value)==null?void 0:We.map(U=>U.test()),k.value.test(),S.value.test(),M.value.test(),F.value.test(),I.value.test(),O.value.test(),H.value.test(),J.value.test(),L.value.test(),C.value.test()]),Y.allowedUserIds.value.length&&!se.value.length&&(Y.allowedUserIds.error="Invalid user ID's"),Object.keys(Y).map(U=>Y[U].error).every(U=>!U))if(!n.selected)await s(Y.id.value,V.value,(Qe=r.value)==null?void 0:Qe.uid)&&(Te("close"),Te("scroll-to-updated",Y.id.value));else if(D.value){const U=n.selected.id;Te("close"),await u(U,Fn.convert(V.value),n.selected.reactions,V.value.allowedUserIds.length?"private":"public",(Ve=r.value)==null?void 0:Ve.uid)&&(je.success("Successfully updated Post Visibility"),Te("scroll-to-updated",U))}else{const U=n.selected.id;let re=[];ce.value&&re.push(await o(U,q.value,G.value,(Q=r.value)==null?void 0:Q.uid)),we.value&&re.push(await o(U,K.value,G.value,($=r.value)==null?void 0:$.uid)),E.value&&(re.push(await o(U,Se.value,G.value,(W=r.value)==null?void 0:W.uid)),Te("scroll-to-updated",U)),re=re.filter(me=>typeof me=="string"),re.length&&(je.success(`Successfully updated Post ${Q0(re)}`),Te("close"))}},fe=async()=>{l(V.value,n.selected??void 0),Object.assign(Y,he()),Te("close")};Zt(()=>n.selected,le=>{var Z,z,_e,pe,Re,We,Qe;le?(Y.title.value=le.title,Y.description.value=le.description,Y.descriptionFooter.value=le.descriptionFooter||"",Y.alignment.value=le.alignment,(Z=le.sections)!=null&&Z.length&&(Y.sections.value=le.sections.map(Ve=>({title:{value:Ve.title,error:""},subTitle:{value:Ve.subTitle,error:""},description:{value:Ve.description,error:""},alignment:{value:Ve.alignment,error:""},coverImageUrl:{value:Ve.coverImageUrl??"",error:""},countdown:{value:Ve.countdown,error:""},timer:{value:Ve.timer,error:""},bullets:{value:[...Ve.bullets],error:""}}))),Y.locked.value=!!le.locked,Y.colorPrimary.value=((z=wa.find(Ve=>Ve.value===le.colorPrimary))==null?void 0:z.value.toString())||"bg-gray-900",Y.colorSecondary.value=((_e=xI(wa.find(Ve=>Ve.value===Y.colorPrimary.value)).find(Ve=>Ve.value===(le.colorSecondary||"")))==null?void 0:_e.value.toString())||"",Y.colorTertiary.value=((pe=wa.find(Ve=>Ve.value===(le.colorTertiary||"")))==null?void 0:pe.value.toString())||"",Y.opacityPrimary.value=((Re=kl.find(Ve=>Ve.value===(le.opacityPrimary||"")))==null?void 0:Re.value.toString())||"",Y.opacitySecondary.value=((We=kl.find(Ve=>Ve.value===(le.opacitySecondary||"")))==null?void 0:We.value.toString())||"",Y.opacityTertiary.value=((Qe=kl.find(Ve=>Ve.value===(le.opacityTertiary||"")))==null?void 0:Qe.value.toString())||"",Y.coverImageUrl.value=le.coverImageUrl||"",Y.allowedUserIds.value=le.allowedUserIds||[],Y.countdown.value=le.countdown,Y.timer.value=le.timer,Y.archived.value=le.archived,Y.pinned.value=!!le.datePinned):Object.assign(Y,he())}),Zt(()=>Y.allowedUserIds.value,async le=>{se.value=await a(le)});const Te=e;return(le,Z)=>(P(),ge(y1,{isOpen:le.isOpen,title:le.selected?"Update Post":"Create Post",description:le.selected?"Update this post":"Create a new post","confirm-text":le.selected?B.value:"Create","confirm-loading":x(c).mutationLoading,onConfirm:de,onCancel:fe},{default:ye(()=>[ne("form",{ref_key:"dialog",ref:h,class:"pt-6 mb-4 xl:px-36"},[oe(Wn,{ref_key:"title",ref:f,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:Y.title.value,"onUpdate:modelValue":Z[0]||(Z[0]=z=>Y.title.value=z),error:Y.title.error,"onUpdate:error":Z[1]||(Z[1]=z=>Y.title.error=z),rules:[x(Ct).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),oe(Wn,{ref_key:"description",ref:p,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:Y.description.value,"onUpdate:modelValue":Z[2]||(Z[2]=z=>Y.description.value=z),error:Y.description.error,"onUpdate:error":Z[3]||(Z[3]=z=>Y.description.error=z),"max-length":500,"input-props":{type:"textarea",rows:Y.description.value.split(`
`).length<=5?Y.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),oe(br,{ref_key:"alignment",ref:y,name:"alignment",label:"Alignment",modelValue:Y.alignment.value,"onUpdate:modelValue":Z[4]||(Z[4]=z=>Y.alignment.value=z),error:Y.alignment.error,"onUpdate:error":Z[5]||(Z[5]=z=>Y.alignment.error=z),options:x(kI),rules:[x(Ct).Required]},null,8,["modelValue","error","options","rules"]),oe(yw,{ref_key:"coverImageUrl",ref:N,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:Y.coverImageUrl.value,"onUpdate:modelValue":Z[6]||(Z[6]=z=>Y.coverImageUrl.value=z),error:Y.coverImageUrl.error,"onUpdate:error":Z[7]||(Z[7]=z=>Y.coverImageUrl.error=z),"blog-post":V.value},null,8,["modelValue","error","blog-post"]),le.isOpen?(P(),ge(Sc,{key:0,text:"Other content"},{default:ye(()=>[oe(Wn,{ref_key:"descriptionFooter",ref:m,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:Y.descriptionFooter.value,"onUpdate:modelValue":Z[8]||(Z[8]=z=>Y.descriptionFooter.value=z),error:Y.descriptionFooter.error,"onUpdate:error":Z[9]||(Z[9]=z=>Y.descriptionFooter.error=z),"max-length":300,"input-props":{type:"textarea",rows:Y.descriptionFooter.value.split(`
`).length<=5?Y.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),oe(Nf,{ref_key:"countdown",ref:H,name:"countdown",label:"Countdown",modelValue:Y.countdown.value,"onUpdate:modelValue":Z[10]||(Z[10]=z=>Y.countdown.value=z),error:Y.countdown.error,"onUpdate:error":Z[11]||(Z[11]=z=>Y.countdown.error=z)},null,8,["modelValue","error"]),oe(Nf,{ref_key:"timer",ref:J,name:"timer",label:"Timer",modelValue:Y.timer.value,"onUpdate:modelValue":Z[12]||(Z[12]=z=>Y.timer.value=z),error:Y.timer.error,"onUpdate:error":Z[13]||(Z[13]=z=>Y.timer.error=z)},null,8,["modelValue","error"])]),_:1})):ae("",!0),le.isOpen?(P(),ge(Sc,{key:1,text:"Sections"},{default:ye(()=>[(P(!0),X(Ce,null,ct(Y.sections.value,(z,_e)=>(P(),X("div",{key:_e,class:"mt-5 border border-gray-400 rounded-lg"},[le.isOpen?(P(),ge(Sc,{key:0,text:`Section ${_e+1}`,"button-type":"orange"},{default:ye(()=>[ne("div",vZ,[oe(Wn,{ref_for:!0,ref_key:"sectionTitle",ref:_,id:_e,name:"sectionTitle",label:"Section Title",modelValue:z.title.value,"onUpdate:modelValue":pe=>z.title.value=pe,error:z.title.error,"onUpdate:error":pe=>z.title.error=pe,max:50},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),oe(Wn,{ref_for:!0,ref_key:"sectionSubTitle",ref:v,id:_e,name:"sectionSubTitle",label:"Section Subtitle",modelValue:z.subTitle.value,"onUpdate:modelValue":pe=>z.subTitle.value=pe,error:z.subTitle.error,"onUpdate:error":pe=>z.subTitle.error=pe,max:200},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),oe(Wn,{ref_for:!0,ref_key:"sectionDescription",ref:b,id:_e,name:"sectionDescription",label:"Section Description",modelValue:z.description.value,"onUpdate:modelValue":pe=>z.description.value=pe,error:z.description.error,"onUpdate:error":pe=>z.description.error=pe,max:300,"input-props":{type:"textarea",rows:z.description.value.split(`
`).length<=5?z.description.value.split(`
`).length:5}},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error","input-props"]),oe(br,{ref_for:!0,ref_key:"sectionAlignment",ref:g,id:_e,name:"sectionAlignment",label:"Alignment",modelValue:z.alignment.value,"onUpdate:modelValue":pe=>z.alignment.value=pe,error:z.alignment.error,"onUpdate:error":pe=>z.alignment.error=pe,options:x(kI),rules:[x(Ct).Required]},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error","options","rules"]),oe(yw,{ref_for:!0,ref:"sectionCoverImageUrl",id:_e,name:"coverImageUrl",label:"Cover image",modelValue:z.coverImageUrl.value,"onUpdate:modelValue":pe=>z.coverImageUrl.value=pe,error:z.coverImageUrl.error,"onUpdate:error":pe=>z.coverImageUrl.error=pe},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),oe(Nf,{ref_for:!0,ref_key:"sectionCountdown",ref:w,id:_e,name:"countdown",label:"Countdown",modelValue:z.countdown.value,"onUpdate:modelValue":pe=>z.countdown.value=pe,error:z.countdown.error,"onUpdate:error":pe=>z.countdown.error=pe},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),oe(Nf,{ref_for:!0,ref_key:"sectionTimer",ref:T,id:_e,name:"timer",label:"Timer",modelValue:z.timer.value,"onUpdate:modelValue":pe=>z.timer.value=pe,error:z.timer.error,"onUpdate:error":pe=>z.timer.error=pe},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),oe(gZ,{name:"sectionBullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:z.bullets.value,"onUpdate:modelValue":pe=>z.bullets.value=pe},null,8,["modelValue","onUpdate:modelValue"]),ne("div",yZ,[oe(bt,{class:"w-1/2",type:"danger",outlined:"",onClick:Z[14]||(Z[14]=pe=>Y.sections.value.pop())},{default:ye(()=>[Ge(" Delete ")]),_:1})])])]),_:2},1032,["text"])):ae("",!0)]))),128)),ne("div",wZ,[oe(bt,{class:"w-1/2",type:"action-positive",onClick:Z[15]||(Z[15]=z=>Y.sections.value.push({title:{value:"",error:""},subTitle:{value:"",error:""},description:{value:"",error:""},alignment:{value:"left",error:""},coverImageUrl:{value:"",error:""},countdown:{value:null,error:""},timer:{value:null,error:""},bullets:{value:[],error:""}}))},{default:ye(()=>[Ge(" Add Section ")]),_:1})])]),_:1})):ae("",!0),le.isOpen?(P(),ge(Sc,{key:2,text:"Styling"},{default:ye(()=>[oe(br,{ref_key:"colorPrimary",ref:k,name:"colorPrimary",label:"Primary Style",modelValue:Y.colorPrimary.value,"onUpdate:modelValue":Z[16]||(Z[16]=z=>Y.colorPrimary.value=z),error:Y.colorPrimary.error,"onUpdate:error":Z[17]||(Z[17]=z=>Y.colorPrimary.error=z),options:x(wa),rules:[x(Ct).Required]},null,8,["modelValue","error","options","rules"]),oe(br,{ref_key:"opacityPrimary",ref:F,name:"opacityPrimary",label:"Primary Opacity",modelValue:Y.opacityPrimary.value,"onUpdate:modelValue":Z[18]||(Z[18]=z=>Y.opacityPrimary.value=z),error:Y.opacityPrimary.error,"onUpdate:error":Z[19]||(Z[19]=z=>Y.opacityPrimary.error=z),options:x(kl)},null,8,["modelValue","error","options"]),oe(br,{ref_key:"colorSecondary",ref:S,name:"colorSecondary",label:"Secondary Style",modelValue:Y.colorSecondary.value,"onUpdate:modelValue":Z[20]||(Z[20]=z=>Y.colorSecondary.value=z),error:Y.colorSecondary.error,"onUpdate:error":Z[21]||(Z[21]=z=>Y.colorSecondary.error=z),options:x(xI)(x(wa).find(z=>z.value===Y.colorPrimary.value))},null,8,["modelValue","error","options"]),oe(br,{ref_key:"opacitySecondary",ref:I,name:"opacitySecondary",label:"Secondary Opacity",modelValue:Y.opacitySecondary.value,"onUpdate:modelValue":Z[22]||(Z[22]=z=>Y.opacitySecondary.value=z),error:Y.opacitySecondary.error,"onUpdate:error":Z[23]||(Z[23]=z=>Y.opacitySecondary.error=z),options:x(kl)},null,8,["modelValue","error","options"]),oe(br,{ref_key:"colorTertiary",ref:M,name:"colorTertiary",label:"Tertiary Style",modelValue:Y.colorTertiary.value,"onUpdate:modelValue":Z[24]||(Z[24]=z=>Y.colorTertiary.value=z),error:Y.colorTertiary.error,"onUpdate:error":Z[25]||(Z[25]=z=>Y.colorTertiary.error=z),options:x(UK)},null,8,["modelValue","error","options"]),oe(br,{ref_key:"opacityTertiary",ref:j,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:Y.opacityTertiary.value,"onUpdate:modelValue":Z[26]||(Z[26]=z=>Y.opacityTertiary.value=z),error:Y.opacityTertiary.error,"onUpdate:error":Z[27]||(Z[27]=z=>Y.opacityTertiary.error=z),options:x(kl)},null,8,["modelValue","error","options"])]),_:1})):ae("",!0),le.isOpen?(P(),ge(Sc,{key:3,text:"Advanced"},{default:ye(()=>[oe(Wn,{name:"allowedUserNames",label:"Allowed users","model-value":te.value,"input-props":{disabled:!0}},null,8,["model-value"]),oe(br,{ref_key:"allowedUsers",ref:O,name:"allowedUserIds",label:"Allowed users",options:ee.value.filter(({value:z})=>{var _e;return z!==((_e=x(r))==null?void 0:_e.uid)}),multiple:"","model-value":Y.allowedUserIds.value,error:Y.allowedUserIds.error,"onUpdate:error":Z[28]||(Z[28]=z=>Y.allowedUserIds.error=z),"onUpdate:arrayValue":Z[29]||(Z[29]=z=>Y.allowedUserIds.value=[...z.length?ee.value.filter(({value:_e})=>{var pe;return _e===((pe=x(r))==null?void 0:pe.uid)}).map(_e=>_e.value):[],...z])},null,8,["options","model-value","error"]),oe(vd,{ref_key:"pinned",ref:C,name:"pinned",label:"Pinned",modelValue:Y.pinned.value,"onUpdate:modelValue":Z[30]||(Z[30]=z=>Y.pinned.value=z)},null,8,["modelValue"]),oe(vd,{ref_key:"locked",ref:A,name:"locked",label:"Locked for commenting",modelValue:Y.locked.value,"onUpdate:modelValue":Z[31]||(Z[31]=z=>Y.locked.value=z)},null,8,["modelValue"]),oe(vd,{ref_key:"archived",ref:L,name:"archived",label:"Archived",modelValue:Y.archived.value,"onUpdate:modelValue":Z[32]||(Z[32]=z=>Y.archived.value=z)},null,8,["modelValue"])]),_:1})):ae("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),_Z={key:0,class:"grid grid-cols-6 mb-5 gap-5"},TZ={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},EZ={class:"grid gap-4 md:gap-10 xl:gap-20"},SZ={key:2,class:"flex justify-center mt-5"},IZ=Ee({__name:"BlogPosts",setup(t){const e=or(),{deleteBlogPost:n,fetchBlogPosts:r}=e,{blogPosts:i,visibleBlogPosts:s}=rn(e),{isOwner:o,firebaseUser:a}=rn(rr()),l=ue(),u=ue(),c=ue(!1),d=ue(!1),h=ue(null),f=ue(),p=()=>{h.value=null,c.value=!0},m=w=>{h.value=w,c.value=!0},y=w=>{h.value=w,d.value=!0},_=async w=>{await n(w)&&(d.value=!1,h.value=null)},v=()=>{c.value=!1,h.value=null},b=async w=>{var T;i.value.visibility!==w&&(i.value.visibility=w,i.value.isLastPage=!1,s.value.length||await r((T=a.value)==null?void 0:T.uid),ep(l.value))},g=async()=>{var T;const w=s.value.length;await r((T=a.value)==null?void 0:T.uid),s.value[w]&&ep(u.value[w])};return Zt(()=>{var w;return(w=u.value)==null?void 0:w.length},()=>{var w;if((w=u.value)!=null&&w.length&&f.value){const T=s.value.find(R=>R.id===f.value);if(T){const R=s.value.indexOf(T);ep(u.value[R]),f.value=void 0}}}),(w,T)=>(P(),X(Ce,null,[ne("div",{ref_key:"container",ref:l},[x(a)?(P(),X("div",_Z,[oe(bt,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"orange",outlined:x(i).visibility!=="public",loading:x(i).fetchLoading,onClick:T[0]||(T[0]=R=>b("public"))},{default:ye(()=>[Ge(" Public Posts ")]),_:1},8,["outlined","loading"]),x(o)?(P(),ge(bt,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",onClick:p},{default:ye(()=>[Ge(" New Post ")]),_:1})):ae("",!0),oe(bt,{type:"orange",class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",outlined:x(i).visibility!=="private",loading:x(i).fetchLoading,onClick:T[1]||(T[1]=R=>b("private"))},{default:ye(()=>[Ge(" Private Posts ")]),_:1},8,["outlined","loading"])])):ae("",!0),x(a)?(P(),X("div",TZ,[oe(bt,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"orange",outlined:x(i).visibility!=="public",loading:x(i).fetchLoading,onClick:T[2]||(T[2]=R=>b("public"))},{default:ye(()=>[Ge(" Public Posts ")]),_:1},8,["outlined","loading"]),oe(bt,{type:"orange",class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",outlined:x(i).visibility!=="private",loading:x(i).fetchLoading,onClick:T[3]||(T[3]=R=>b("private"))},{default:ye(()=>[Ge(" Private Posts ")]),_:1},8,["outlined","loading"])])):ae("",!0),ne("div",EZ,[x(s).length?(P(!0),X(Ce,{key:0},ct(x(s),R=>(P(),X("div",{key:R.id,ref_for:!0,ref_key:"posts",ref:u},[oe(AM,{post:R,onEditClicked:A=>m(R),onDeleteClicked:A=>y(R)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):x(i).fetchLoading?ae("",!0):(P(),ge(Rr,{key:1,class:"!bg-red-900 !bg-opacity-40",title:"No posts"}))]),x(i).isLastPage?ae("",!0):(P(),X("div",SZ,[oe(bt,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:x(i).fetchLoading,onClick:g},{default:ye(()=>[Ge(" Load more posts ")]),_:1},8,["loading"])]))],512),oe(bZ,{isOpen:c.value,selected:h.value,onClose:v,onScrollToUpdated:T[4]||(T[4]=R=>f.value=R)},null,8,["isOpen","selected"]),h.value?(P(),ge(y1,{key:0,title:"Delete Post",isOpen:d.value,description:[` Are you sure you want to delete this post called ' ${h.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:T[5]||(T[5]=R=>_(h.value.id)),onCancel:T[6]||(T[6]=R=>d.value=!1)},null,8,["isOpen","description"])):ae("",!0)],64))}}),CZ={class:"bg-black text-white shadow-md py-4"},AZ={class:"container mx-auto text-center"},kZ=Ee({__name:"Footer",setup(t){const{content:e}=rn(or());return(n,r)=>(P(),X("footer",CZ,[ne("div",AZ,[ne("p",null," "+qe(new Date().getFullYear()+" "+x(e).footerCopyright),1)])]))}}),xZ=Ee({__name:"DropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=rr(),{currentUser:n}=rn(e),{visibleMenuItems:r}=rn(or());return(i,s)=>(P(),X(Ce,null,[ps(ne("div",{class:"md:hidden w-screen h-screen z-10 bg-gray-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[js,i.isOpen]]),ps(ne("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-gray-900 border border-indigo-600 rounded-xl",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(P(!0),X(Ce,null,ct(x(r),o=>(P(),ge(bt,{class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:o.url,loading:o.loading},{default:ye(()=>[Ge(qe(o.name),1)]),_:2},1032,["url","loading"]))),256)),x(n)?(P(),ge(bt,{key:0,class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:"dashboard"},{default:ye(()=>[Ge(" Dashboard ")]),_:1})):ae("",!0),x(n)?(P(),ge(bt,{key:1,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"danger",onClick:x(e).logout},{default:ye(()=>[Ge(" Logout ")]),_:1},8,["onClick"])):(P(),ge(bt,{key:2,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"secondary",url:"login"},{default:ye(()=>[Ge(" Login ")]),_:1}))],512),[[js,i.isOpen]])],64))}}),DZ={key:0,class:Oe(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},PZ={class:"group fixed w-full px-10 sm:px-0 sm:relative md:hidden"},RZ={class:"flex justify-between sm:justify-center"},OZ=ne("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),NZ=[OZ],MZ=Ee({__name:"Menu",setup(t){const e=rr(),{currentUser:n,logoutLoading:r}=rn(e),{visibleMenuItems:i}=rn(or()),s=ue(),o=ue(!1),a=()=>{o.value=!o.value,o.value&&Kn(()=>{var l;(l=s.value)==null||l.scrollIntoView({behavior:"smooth",block:"center"})})};return(l,u)=>x(i).length?(P(),X("div",DZ,[(P(!0),X(Ce,null,ct(x(i),c=>(P(),ge(bt,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",outlined:"",url:c.url,loading:c.loading},{default:ye(()=>[Ge(qe(c.name),1)]),_:2},1032,["url","loading"]))),256)),x(n)?ae("",!0):(P(),ge(bt,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"secondary",outlined:"",url:"login"},{default:ye(()=>[Ge(" Login ")]),_:1})),x(n)?(P(),ge(bt,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:x(r),onClick:x(e).logout},{default:ye(()=>[Ge(" Logout ")]),_:1},8,["loading","onClick"])):ae("",!0),ne("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[ne("div",PZ,[ne("div",{class:Oe(["flex animation",o.value?"justify-center":"justify-end"])},[oe(bt,{class:Oe(["sm:w-full bg-black bg-opacity-50 sm:bg-transparent",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",onClick:a},{default:ye(()=>[ne("div",RZ,[oe(mm,{rotate:o.value,class:Oe(["group-hover:block",o.value?"block":"hidden"])},null,8,["rotate","class"]),ne("p",{class:Oe(["sm:block group-hover:block",o.value?"block":"hidden"])},"Menu",2),(P(),X("svg",{class:Oe(["h-6 sm:hidden group-hover:hidden",o.value?"hidden":null]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},NZ,2))])]),_:1},8,["class"])],2)]),oe(xZ,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):ae("",!0)}}),$Z={class:Oe(["w-fit md:w-1/3","mb-8 py-8 bg-transparent text-indigo-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-black sm:bg-opacity-50 sm:rounded-3xl sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-3xl lg:rounded-t-none"])},LZ={key:0,class:"hidden sm:flex justify-center mb-4"},UZ={class:"hidden md:block w-4/5 space-y-2"},FZ={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},VZ={class:"flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},BZ={key:1},jZ={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},HZ={class:"font-semibold text-base first:font-bold first:text-lg"},WZ=Ee({__name:"HeaderMain",setup(t){const{currentUser:e}=rn(rr()),{content:n}=rn(or());return(r,i)=>{const s=eo("RouterLink");return P(),X("div",$Z,[x(e)?(P(),X("div",LZ,[ne("div",UZ,[(P(!0),X(Ce,null,ct(x(n).headerDescriptionUser,o=>(P(),X("p",FZ,qe(o.replace("%USER%",x(e).firstName+(x(e).lastName?" "+x(e).lastName:""))),1))),256))]),ne("div",VZ,[oe(s,{to:{name:"dashboard"}},{default:ye(()=>[oe(x(HK),{class:"w-16 h-16 rounded-full border-2 text-indigo-600 border-indigo-600 animation-scale"})]),_:1})])])):(P(),X("div",BZ,[ne("div",jZ,[(P(!0),X(Ce,null,ct(x(n).headerDescriptionGuest,o=>(P(),X("p",HZ,qe(o),1))),256))])])),oe(MZ)])}}}),zZ={class:"flex justify-between"},YZ={class:"hidden sm:block w-full sm:min-w-fit"},KZ=["src","alt"],GZ={class:"w-fit sm:max-w-1/2"},qZ={class:"title-primary"},QZ={class:"title-secondary"},XZ={class:"title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},JZ={class:"mt-2 flex items-center whitespace-nowrap me-6"},ZZ={class:"mt-2 flex items-center whitespace-nowrap"},eee={class:"sm:hidden min-w-fit mt-3"},tee=["src","alt"],kC=Ee({__name:"HeaderTop",setup(t){const{profile:e,content:n}=rn(or());return(r,i)=>{const s=eo("RouterLink");return P(),X("div",zZ,[ne("div",YZ,[oe(s,{to:{name:"home"}},{default:ye(()=>[ne("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:x(n).avatarUrl,alt:x(e).name},null,8,KZ)]),_:1})]),ne("div",GZ,[ne("h1",qZ,qe(x(e).name),1),ne("h2",QZ,qe(x(e).service),1),ne("div",XZ,[ne("div",JZ,[oe(x(VK),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Ge(" "+qe(x(e).role),1)]),ne("div",ZZ,[oe(x(jK),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Ge(" "+qe(x(e).location.city)+", "+qe(x(e).location.country),1)])])]),ne("div",eee,[oe(s,{to:{name:"home"}},{default:ye(()=>[ne("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:x(n).avatarUrl,alt:x(e).name},null,8,tee)]),_:1})])])}}}),nee={class:"sm:flex sm:items-start sm:justify-between mb-20"},ree={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},iee=Ee({__name:"Header",setup(t){return(e,n)=>(P(),X("div",nee,[oe(kC,{class:"hidden sm:block"}),ne("div",ree,[oe(WZ,{class:Oe(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto"])})]),oe(kC,{class:"sm:hidden"})]))}}),see={class:"min-h-screen bg-gradient-to-t from-black to-blue-900 via-gray-800"},oee={class:"mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-3xl text-white bg-blue-gray-900 bg-opacity-50 bg-gradient-to-b from-transparent to-black via-purple-900 border-opacity-100"},ra=Ee({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=fb(),r=ue(),i=()=>{e.scrollToContent&&ep(r.value)};return Zt(()=>n.fullPath,()=>{i()}),sn(()=>{i()}),(s,o)=>(P(),X(Ce,null,[ne("div",see,[ne("div",oee,[ne("header",null,[s.$slots.header?ke(s.$slots,"header",{key:0}):(P(),ge(iee,{key:1}))]),ne("main",null,[ne("div",{ref_key:"content",ref:r},[ke(s.$slots,"content")],512)])])]),ne("footer",null,[s.$slots.footer?ke(s.$slots,"footer",{key:0}):(P(),ge(kZ,{key:1}))])],64))}}),aee={class:"grid mt-10 md:mt-15"},lee={class:"grid justify-center"},uee={class:"text-lg md:text-xl text-white"},cee=["innerHTML"],dee={class:"grid my-5 xl:mx-20"},hee=Ee({__name:"Blog",setup(t){const{publicUser:e}=rn(rr()),{menuItems:n,content:r}=rn(or()),i=ie(()=>window.location.hash),s=fb();return(o,a)=>(P(),ge(ra,{"scroll-to-content":!i.value},{content:ye(()=>{var l;return[ne("div",aee,[ne("div",lee,[(P(!0),X(Ce,null,ct(x(e)?[...x(r).blogDescriptionUser.map(u=>u.replace("%USER%",x(e).displayName||"Unknown user")),...((l=x(n).find(u=>u.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:l.description)||[]]:x(r).blogDescriptionGuest,u=>(P(),X("h1",uee,[ne("span",{innerHTML:u},null,8,cee)]))),256))]),ne("div",dee,[x(s).params.postId?(P(),ge(XX,{key:0})):(P(),ge(IZ,{key:1}))])])]}),_:1},8,["scroll-to-content"]))}}),fee=Ee({__name:"Blog",setup(t){return(e,n)=>(P(),ge(hee))}}),pee={class:"flex flex-col items-center content-center"},mee=Ee({__name:"CatCalc",setup(t){const e=qn({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"Nederlandse Voedsel- en Warenautoriteit"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=ie(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(w,T)=>{const A=o[w].sort((I,j)=>I.weight-j.weight);let k=A[A.length-2].weight,S=A[A.length-2].calories,M=A[A.length-1].weight,F=A[A.length-1].calories;for(let I=0;I<A.length-1;I++)if(T>=A[I].weight&&T<=A[I+1].weight){k=A[I].weight,S=A[I].calories,M=A[I+1].weight,F=A[I+1].calories;break}return{x1:k,y1:S,x2:M,y2:F}},l=(w,T)=>{const{x1:R,y1:A,x2:k,y2:S}=a(w,T);return A+(T-R)*(S-A)/(k-R)},u=()=>{const w=new Map;for(const A of Object.values(o).filter(k=>k!==o.average))for(const{weight:k,calories:S}of A)w.has(k)||w.set(k,{sum:0,count:0}),w.get(k).sum+=S,w.get(k).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(A=>w.has(A)).map(A=>({weight:A,calories:w.get(A).sum/w.get(A).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40}],f=ie(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=ie(()=>{var w;return f.value*(((w=r.find(T=>T.value===e.catAge.value))==null?void 0:w.rerIndex)??1)}),m=ie(()=>{var w;return p.value*(((w=s.value.find(T=>T.value===e.catSize.value))==null?void 0:w.factor)??1)}),y=ie(()=>{const w=h.find(T=>T.value===e.catFoodSnax.value);return w!=null&&w.calories?m.value*(Number(e.catFoodSnaxPercentage.value)/100)/w.calories:void 0}),_=ie(()=>m.value*(1-Number(y.value?e.catFoodSnaxPercentage.value:0)/100)),v=ie(()=>{const w=d.find(T=>T.value===e.catFoodWet.value);return w!=null&&w.calories?_.value/4/w.calories*100:void 0}),b=ie(()=>_.value/4*(v.value?3:4)),g=ie(()=>{var w;return b.value/(((w=c.find(T=>T.value===e.catFoodDry.value))==null?void 0:w.calories)??c[0].calories)*100});return(w,T)=>(P(),ge(ra,null,{content:ye(()=>[oe(Rr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:ye(()=>{var R;return[ne("div",pee,[oe(br,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":T[0]||(T[0]=A=>e.calculator.value=A),error:e.calculator.error,"onUpdate:error":T[1]||(T[1]=A=>e.calculator.error=A),options:n,rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),oe(Wn,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":T[2]||(T[2]=A=>e.catWeigth.value=A),error:e.catWeigth.error,"onUpdate:error":T[3]||(T[3]=A=>e.catWeigth.error=A),rules:[x(Ct).Required,x(Ct).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),oe(br,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":T[4]||(T[4]=A=>e.catAge.value=A),error:e.catAge.error,"onUpdate:error":T[5]||(T[5]=A=>e.catAge.error=A),options:r,rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),oe(br,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":T[6]||(T[6]=A=>e.catGender.value=A),error:e.catGender.error,"onUpdate:error":T[7]||(T[7]=A=>e.catGender.error=A),options:i,rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),oe(br,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":T[8]||(T[8]=A=>e.catSize.value=A),error:e.catSize.error,"onUpdate:error":T[9]||(T[9]=A=>e.catSize.error=A),options:s.value,rules:[x(Ct).Required]},null,8,["modelValue","error","options","rules"]),oe(Rr,{class:"w-full md:w-1/2 my-5 border border-gray-400",description:"Required energy per day: "+m.value.toFixed(1)+" kcal"},null,8,["description"]),oe(br,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":T[10]||(T[10]=A=>e.catFoodDry.value=A),error:e.catFoodDry.error,"onUpdate:error":T[11]||(T[11]=A=>e.catFoodDry.error=A),options:c,rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),oe(br,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":T[12]||(T[12]=A=>e.catFoodWet.value=A),error:e.catFoodWet.error,"onUpdate:error":T[13]||(T[13]=A=>e.catFoodWet.error=A),options:d,rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),oe(br,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":T[14]||(T[14]=A=>e.catFoodSnax.value=A),error:e.catFoodSnax.error,"onUpdate:error":T[15]||(T[15]=A=>e.catFoodSnax.error=A),options:h,rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(P(),ge(Wn,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":T[16]||(T[16]=A=>e.catFoodSnaxPercentage.value=A),error:e.catFoodSnaxPercentage.error,"onUpdate:error":T[17]||(T[17]=A=>e.catFoodSnaxPercentage.error=A),rules:[x(Ct).Required,x(Ct).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):ae("",!0),oe(Rr,{class:"w-full md:w-1/2 my-5 border border-gray-400",title:"Result","sub-title":"Based on constants from "+((R=n.find(A=>A.value===e.calculator.value))==null?void 0:R.label),description:["Required dry food per day: "+g.value.toFixed(1)+" g","","","Required dry food per meal: "+(g.value/(v.value?2:3)).toFixed(1)+" g",...v.value?["Required wet food per day: "+v.value.toFixed(1)+" g"]:[],...y.value?["Allowed snacks per day: "+y.value.toFixed(y.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),gee=Ee({__name:"CatCalc",setup(t){return(e,n)=>(P(),ge(mee))}}),vee={class:"min-w-0 flex-1"},yee=ne("img",{class:"w-48 h-48 rounded-full animation-scale mb-4 cursor-pointer",src:"https://www.spigotmc.org/data/resource_icons/28/28103.jpg?1472586104",alt:"customvoting"},null,-1),wee=Ee({__name:"CustomVoting",setup(t){return(e,n)=>{const r=eo("RouterLink");return P(),ge(ra,null,{header:ye(()=>[ne("div",vee,[oe(r,{to:{name:"home"}},{default:ye(()=>[yee]),_:1})])]),content:ye(()=>[oe(Rr,{class:"!bg-yellow-700 !bg-opacity-50 my-5",title:"CustomVoting",description:"In Progress"})]),_:1})}}}),bee=Ee({__name:"CustomVoting",setup(t){return(e,n)=>(P(),ge(wee))}}),_ee={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-primary"},Tee={class:"m-1 lg:w-4/5"},E1=Ee({__name:"Privacy",setup(t){const{content:e}=rn(or());return(n,r)=>(P(),X("div",_ee,[(P(!0),X(Ce,null,ct(x(e).privacyStatement,i=>(P(),X("p",Tee,qe(i),1))),256))]))}}),S1=Ee({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=ie({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ie({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(P(),ge(Wn,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,x(Ct).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),eu=Ee({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ue(),s=ie({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ie({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(P(),ge(Wn,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),Eee={class:"flex flex-wrap pt-6 pb-8 mb-4"},See={class:"basis-full lg:basis-1/2"},Iee={class:"flex gap-3 mt-10 flex-wrap"},Cee={class:"basis-full lg:basis-1/2"},Aee={class:"flex flex-col items-center content-center"},kee=Ee({__name:"Dashboard",setup(t){const e=rr(),{currentUser:n,firebaseUser:r,publicUser:i,isOwner:s,mutationLoading:o}=rn(e),a=or(),{fetchAll:l}=a,{content:u,online:c,debug:d}=rn(a),h=ue(!1),f=ue(),p=ue(),m=ue(),y=ue(),_=ue(),v=ue(),b=ue(),g=ue(),w=qn({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),T=ie(()=>({firstName:w.firstName.value,lastName:w.lastName.value})),R=ie(()=>({displayName:w.displayName.value,avatar:w.avatar.value})),A=ie(()=>!!i.value&&!Yi(fw.convert(i.value),R.value)),k=ie(()=>{var F;return w.email.value!==((F=r.value)==null?void 0:F.email)}),S=ie(()=>{const F=[];return Yi(n.value,T.value)||F.push("Details"),A.value&&F.push("Public Profile"),k.value&&F.push("E-mail"),w.newPassword.value&&F.push("Password"),F.length?"Save "+Q0(F):void 0}),M=async()=>{var F;Object.keys(w).forEach(I=>w[I].error=""),w.newPassword.value&&(await Promise.all([_.value.test(),v.value.test(),b.value.test()]),!w.newPassword.error&&!w.currentPassword.error&&!w.repeatPassword.error&&(await e.updatePassword(w.newPassword.value,w.currentPassword.value),w.newPassword.value="",w.currentPassword.value="")),A.value&&(await m.value.test(),!w.displayName.error&&!w.avatar.error&&e.updatePublicUser({displayName:w.displayName.value,avatar:w.avatar.value})),k.value&&(await Promise.all([y.value.test(),v.value.test()]),!w.email.error&&!w.currentPassword.error&&(await e.updateMail(w.email.value,w.currentPassword.value),w.currentPassword.value="")),Yi(n.value,T.value)||(await Promise.all([f.value.test(),p.value.test()]),!w.firstName.error&&!w.lastName.error&&e.updateUser({firstName:w.firstName.value,lastName:w.lastName.value})),await l((F=r.value)==null?void 0:F.uid,!0)};return NA(()=>{var F,I,j,N,O;w.firstName.value=((F=n.value)==null?void 0:F.firstName)||"",w.lastName.value=((I=n.value)==null?void 0:I.lastName)||"",w.displayName.value=((j=i.value)==null?void 0:j.displayName)||"",w.email.value=((N=r.value)==null?void 0:N.email)||"",w.avatar.value=((O=i.value)==null?void 0:O.avatar)||""}),(F,I)=>(P(),ge(ra,null,{content:ye(()=>[x(n)&&x(r)?(P(),ge(Rr,{key:0,class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Welcome "+x(n).firstName+(x(n).lastName?" "+x(n).lastName:""),description:x(u).dashboardDescription},{default:ye(()=>[ne("div",Eee,[ne("div",See,[ne("form",{onSubmit:I[19]||(I[19]=Ot(j=>M(),["prevent"]))},[oe(Wn,{name:"accountType",label:"Account Type","model-value":x(s)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),oe(Wn,{ref_key:"firstName",ref:f,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:w.firstName.value,"onUpdate:modelValue":I[0]||(I[0]=j=>w.firstName.value=j),error:w.firstName.error,"onUpdate:error":I[1]||(I[1]=j=>w.firstName.error=j),rules:[x(Ct).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),oe(Wn,{ref_key:"lastName",ref:p,name:"lastName",label:"Last Name",modelValue:w.lastName.value,"onUpdate:modelValue":I[2]||(I[2]=j=>w.lastName.value=j),error:w.lastName.error,"onUpdate:error":I[3]||(I[3]=j=>w.lastName.error=j),"min-length":3,"max-length":50},null,8,["modelValue","error"]),oe(Wn,{ref_key:"displayName",ref:m,name:"displayName",label:"Public Username",modelValue:w.displayName.value,"onUpdate:modelValue":I[4]||(I[4]=j=>w.displayName.value=j),error:w.displayName.error,"onUpdate:error":I[5]||(I[5]=j=>w.displayName.error=j),rules:[x(Ct).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),oe(S1,{ref_key:"email",ref:y,name:"email",label:"E-mail",modelValue:w.email.value,"onUpdate:modelValue":I[6]||(I[6]=j=>w.email.value=j),error:w.email.error,"onUpdate:error":I[7]||(I[7]=j=>w.email.error=j),rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),k.value?(P(),ge(eu,{key:0,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":I[8]||(I[8]=j=>w.currentPassword.value=j),error:w.currentPassword.error,"onUpdate:error":I[9]||(I[9]=j=>w.currentPassword.error=j),rules:[x(Ct).Required]},null,8,["modelValue","error","rules"])):ae("",!0),oe(eu,{ref_key:"newPassword",ref:_,name:"newPassword",label:"New Password",modelValue:w.newPassword.value,"onUpdate:modelValue":I[10]||(I[10]=j=>w.newPassword.value=j),error:w.newPassword.error,"onUpdate:error":I[11]||(I[11]=j=>w.newPassword.error=j),min:6,max:50},null,8,["modelValue","error"]),w.newPassword.value?(P(),ge(eu,{key:1,ref_key:"repeatPassword",ref:b,name:"repeatPassword",label:"Repeat New Password",modelValue:w.repeatPassword.value,"onUpdate:modelValue":I[12]||(I[12]=j=>w.repeatPassword.value=j),error:w.repeatPassword.error,"onUpdate:error":I[13]||(I[13]=j=>w.repeatPassword.error=j),rules:[x(Ct).Required],compare:{value:w.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):ae("",!0),w.newPassword.value&&!k.value?(P(),ge(eu,{key:2,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":I[14]||(I[14]=j=>w.currentPassword.value=j),error:w.currentPassword.error,"onUpdate:error":I[15]||(I[15]=j=>w.currentPassword.error=j),rules:[x(Ct).Required]},null,8,["modelValue","error","rules"])):ae("",!0),ne("div",Iee,[S.value?(P(),ge(bt,{key:0,class:"w-full",action:"submit",loading:x(o)},{default:ye(()=>[Ge(qe(S.value),1)]),_:1},8,["loading"])):ae("",!0),x(s)?ae("",!0):(P(),ge(bt,{key:1,class:"w-full",type:"danger",outlined:"",onClick:I[16]||(I[16]=j=>h.value=!0)},{default:ye(()=>[Ge(" Delete account ")]),_:1}))]),x(s)?(P(),ge(vd,{key:3,name:"online",label:"Online",modelValue:x(c),"onUpdate:modelValue":I[17]||(I[17]=j=>Jt(c)?c.value=j:null)},null,8,["modelValue"])):ae("",!0),x(s)?(P(),ge(vd,{key:4,name:"debug",label:"Debug",modelValue:x(d),"onUpdate:modelValue":I[18]||(I[18]=j=>Jt(d)?d.value=j:null)},null,8,["modelValue"])):ae("",!0)],32)]),ne("div",Cee,[oe(yw,{ref_key:"avatar",ref:g,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:w.avatar.value,"onUpdate:modelValue":I[20]||(I[20]=j=>w.avatar.value=j),error:w.avatar.error,"onUpdate:error":I[21]||(I[21]=j=>w.avatar.error=j),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])])]),ne("div",Aee,[oe(E1)])]),_:1},8,["title","description"])):ae("",!0),oe(y1,{title:"Delete Account",isOpen:h.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:I[22]||(I[22]=j=>x(e).deleteAccount()),onCancel:I[23]||(I[23]=j=>h.value=!1)},null,8,["isOpen","description"])]),_:1}))}}),xee=Ee({__name:"Dashboard",setup(t){return(e,n)=>(P(),ge(kee))}}),Dee=t=>(Gw("data-v-d69062a4"),t=t(),qw(),t),Pee=Dee(()=>ne("h3",{class:"title-secondary"},"My Work",-1)),Ree=Ee({__name:"Projects",setup(t){const e=or(),{moveProject:n}=e,{projects:r}=rn(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{Kn(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),NW(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return Zt(()=>r.value,(o,a)=>{o>a&&s()}),sn(()=>{s()}),(o,a)=>(P(),X(Ce,null,[Pee,oe(x(jM),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":x(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:ye(({element:l})=>[oe(Rr,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,description:l.description,loading:l.loading},{default:ye(()=>[(P(!0),X(Ce,null,ct(l.technologies,u=>(P(),ge(bt,{class:"m-1 md:mt-2 font-bold",style:Yn({backgroundColor:u.color})},{default:ye(()=>[Ge(qe(u.name),1)]),_:2},1032,["style"]))),256))]),_:2},1032,["title","url","description","loading"])]),_:1},8,["model-value"])],64))}});const Oee=CM(Ree,[["__scopeId","data-v-d69062a4"]]),Nee={class:"grid mt-20"},Mee=Ee({__name:"Home",setup(t){return(e,n)=>(P(),ge(ra,{"scroll-to-content":!1},{content:ye(()=>[ne("div",Nee,[oe(Oee)])]),_:1}))}}),$ee=Ee({__name:"Home",setup(t){return(e,n)=>(P(),ge(Mee))}}),Lee={class:"flex flex-col items-center content-center"},Uee={class:"grid grid-cols-4 mt-10 gap-3"},Fee=Ee({__name:"Login",setup(t){const e=rr(),{loginLoading:n}=rn(e),r=Jk(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ue(),a=ue(),l=qn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return sn(()=>{r.replace({query:void 0})}),(d,h)=>{const f=eo("RouterLink");return P(),ge(ra,null,{content:ye(()=>[oe(Rr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:ye(()=>[ne("div",Lee,[ne("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[4]||(h[4]=Ot(p=>u(),["prevent"]))},[oe(S1,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":h[0]||(h[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":h[1]||(h[1]=p=>l.email.error=p),rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),oe(eu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":h[2]||(h[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":h[3]||(h[3]=p=>l.password.error=p),rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),ne("div",Uee,[oe(bt,{class:"col-span-full md:col-span-2",action:"submit",loading:x(n)},{default:ye(()=>[Ge(" Login ")]),_:1},8,["loading"]),oe(f,{class:"col-span-full md:col-span-2",to:{name:"register",query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:ye(()=>[oe(bt,{class:"w-full",outlined:""},{default:ye(()=>[Ge(" Register ")]),_:1})]),_:1},8,["to"]),oe(bt,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",onClick:c},{default:ye(()=>[Ge(" Forgot Password ")]),_:1})])],32),oe(E1)])]),_:1})]),_:1})}}}),Vee=Ee({__name:"Login",setup(t){return(e,n)=>(P(),ge(Fee))}}),Bee=Ee({__name:"NotFound",setup(t){return(e,n)=>(P(),ge(ra,{"scroll-to-content":!1},{content:ye(()=>[oe(Rr,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),jee=Ee({__name:"NotFound",setup(t){return(e,n)=>(P(),ge(Bee))}}),Hee={class:"flex flex-col items-center content-center"},Wee={class:"grid grid-cols-2 mt-10 gap-3"},zee=Ee({__name:"Register",setup(t){const e=rr(),{loginLoading:n}=rn(e),r=Jk(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ue(),a=ue(),l=ue(),u=qn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return sn(()=>{r.replace({query:void 0})}),(d,h)=>{const f=eo("RouterLink");return P(),ge(ra,null,{content:ye(()=>[oe(Rr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:ye(()=>[ne("div",Hee,[ne("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=Ot(p=>c(),["prevent"]))},[oe(Wn,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=p=>u.firstName.error=p),rules:[x(Ct).Required,x(Ct).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),oe(S1,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":h[3]||(h[3]=p=>u.email.error=p),rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),oe(eu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":h[5]||(h[5]=p=>u.password.error=p),rules:[x(Ct).Required]},null,8,["modelValue","error","rules"]),ne("div",Wee,[oe(bt,{class:"col-span-full md:col-span-1",action:"submit",loading:x(n)},{default:ye(()=>[Ge(" Register ")]),_:1},8,["loading"]),oe(f,{to:{name:"login",query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:ye(()=>[oe(bt,{class:"w-full",outlined:""},{default:ye(()=>[Ge(" Login ")]),_:1})]),_:1},8,["to"])])],32),oe(E1)])]),_:1})]),_:1})}}}),Yee=Ee({__name:"Register",setup(t){return(e,n)=>(P(),ge(zee))}}),qg=YF({history:uF(""),routes:[{path:"/",name:"home",meta:{title:"Home"},component:$ee,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];qg.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},{path:"/login",name:"login",meta:{title:"Login"},component:Vee,beforeEnter:(t,e,n)=>{rr().currentUser?n({name:"dashboard"}):n()}},{path:"/register",name:"register",meta:{title:"Register"},component:Yee,beforeEnter:(t,e,n)=>{rr().currentUser?n({name:"dashboard"}):n()}},{path:"/dashboard",name:"dashboard",meta:{title:"Dashboard"},component:xee,beforeEnter:(t,e,n)=>{rr().currentUser?n():n({name:"login"})}},{path:"/blog/:postId?",name:"blog",meta:{title:"Blog"},component:fee},{path:"/customvoting",name:"customvoting",meta:{title:"CustomVoting"},component:bee},{path:"/cat-calc",name:"cat-calc",meta:{title:"CatCalc"},component:gee},{path:"/:pathMatch(.*)*",name:"notfound",meta:{title:"404"},component:jee}],scrollBehavior(t,e,n){return t.hash?new Promise((r,i)=>{let s=10;const o=()=>{setTimeout(()=>{try{document.getElementById(t.hash.replace("#",""))?r({el:t.hash,behavior:"smooth",top:15}):(s--,s>0?o():i())}catch(a){i(a)}},1e3)};o()}):n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),xC=iM.name;qg.beforeEach(async(t,e,n)=>{var r,i;if(t!==e){const s=or();t.name&&(["home","login","register","dashboard","notfound"].includes(t.name.toString())||(i=await s.fetchMenuItems((r=rr().firebaseUser)==null?void 0:r.uid))!=null&&i.some(o=>t.path.startsWith(o.url)))?n():n({name:"notfound"})}else n()});qg.beforeResolve(t=>{document.title=xC+" | "+t.meta.title||xC});const I1=qg;function Ri(t){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Le(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ye(t){Le(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Ri(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ns(t,e){Le(2,arguments);var n=Ye(t),r=Je(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Gi(t,e){Le(2,arguments);var n=Ye(t),r=Je(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function HM(t,e){if(Le(2,arguments),!e||Ri(e)!=="object")return new Date(NaN);var n=e.years?Je(e.years):0,r=e.months?Je(e.months):0,i=e.weeks?Je(e.weeks):0,s=e.days?Je(e.days):0,o=e.hours?Je(e.hours):0,a=e.minutes?Je(e.minutes):0,l=e.seconds?Je(e.seconds):0,u=Ye(t),c=r||n?Gi(u,r+n*12):u,d=s||i?Ns(c,s+i*7):c,h=a+o*60,f=l+h*60,p=f*1e3,m=new Date(d.getTime()+p);return m}function Kee(t,e){Le(2,arguments);var n=Ye(t).getTime(),r=Je(e);return new Date(n+r)}var Gee={};function As(){return Gee}function ol(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=As(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function _m(t){return Le(1,arguments),ol(t,{weekStartsOn:1})}function qee(t){Le(1,arguments);var e=Ye(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=_m(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=_m(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Qee(t){Le(1,arguments);var e=qee(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=_m(n);return r}function Tm(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function DC(t){Le(1,arguments);var e=Ye(t);return e.setHours(0,0,0,0),e}var Xee=864e5;function Jee(t,e){Le(2,arguments);var n=DC(t),r=DC(e),i=n.getTime()-Tm(n),s=r.getTime()-Tm(r);return Math.round((i-s)/Xee)}function Zee(t,e){Le(2,arguments);var n=Je(e),r=n*3;return Gi(t,r)}function C1(t,e){Le(2,arguments);var n=Je(e);return Gi(t,n*12)}var A1=6e4,k1=36e5,ete=1e3;function WM(t){return Le(1,arguments),t instanceof Date||Ri(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ed(t){if(Le(1,arguments),!WM(t)&&typeof t!="number")return!1;var e=Ye(t);return!isNaN(Number(e))}function PC(t){Le(1,arguments);var e=Ye(t),n=Math.floor(e.getMonth()/3)+1;return n}function zM(t,e){var n;Le(1,arguments);var r=t||{},i=Ye(r.start),s=Ye(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Ye(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function oh(t){Le(1,arguments);var e=Ye(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function tte(t){Le(1,arguments);var e=t||{},n=Ye(e.start),r=Ye(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=oh(n),o=oh(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(Ye(l)),l=Zee(l,1);return a}function nte(t){Le(1,arguments);var e=Ye(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function rte(t){Le(1,arguments);var e=Ye(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ite(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=As(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getDay(),p=(f<d?-7:0)+6-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function RC(t){Le(1,arguments);var e=Ye(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function YM(t,e){Le(2,arguments);var n=Je(e);return Kee(t,-n)}var ste=864e5;function ote(t){Le(1,arguments);var e=Ye(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/ste)+1}function Wu(t){Le(1,arguments);var e=1,n=Ye(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function KM(t){Le(1,arguments);var e=Ye(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Wu(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Wu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ate(t){Le(1,arguments);var e=KM(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Wu(n);return r}var lte=6048e5;function GM(t){Le(1,arguments);var e=Ye(t),n=Wu(e).getTime()-ate(e).getTime();return Math.round(n/lte)+1}function al(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=As(),d=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ye(t),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function x1(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=Ye(t),d=c.getUTCFullYear(),h=As(),f=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=al(p,e),y=new Date(0);y.setUTCFullYear(d,0,f),y.setUTCHours(0,0,0,0);var _=al(y,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=_.getTime()?d:d-1}function ute(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=As(),d=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=x1(t,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var p=al(f,e);return p}var cte=6048e5;function qM(t,e){Le(1,arguments);var n=Ye(t),r=al(n,e).getTime()-ute(n,e).getTime();return Math.round(r/cte)+1}function zt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var dte={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return zt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):zt(r+1,2)},d:function(e,n){return zt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return zt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return zt(e.getUTCHours(),n.length)},m:function(e,n){return zt(e.getUTCMinutes(),n.length)},s:function(e,n){return zt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return zt(s,n.length)}};const co=dte;var Ol={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hte={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return co.y(e,n)},Y:function(e,n,r,i){var s=x1(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return zt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):zt(o,n.length)},R:function(e,n){var r=KM(e);return zt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return zt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return zt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return zt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return co.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return zt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=qM(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):zt(s,n.length)},I:function(e,n,r){var i=GM(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):zt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):co.d(e,n)},D:function(e,n,r){var i=ote(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):zt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return zt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return zt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return zt(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Ol.noon:i===0?s=Ol.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Ol.evening:i>=12?s=Ol.afternoon:i>=4?s=Ol.morning:s=Ol.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return co.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):co.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):zt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):zt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):co.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):co.s(e,n)},S:function(e,n){return co.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return NC(o);case"XXXX":case"XX":return pa(o);case"XXXXX":case"XXX":default:return pa(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return NC(o);case"xxxx":case"xx":return pa(o);case"xxxxx":case"xxx":default:return pa(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+OC(o,":");case"OOOO":default:return"GMT"+pa(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+OC(o,":");case"zzzz":default:return"GMT"+pa(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return zt(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return zt(o,n.length)}};function OC(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+zt(s,2)}function NC(t,e){if(t%60===0){var n=t>0?"-":"+";return n+zt(Math.abs(t)/60,2)}return pa(t,e)}function pa(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=zt(Math.floor(i/60),2),o=zt(i%60,2);return r+s+n+o}const fte=hte;var MC=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},QM=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},pte=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return MC(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",MC(i,n)).replace("{{time}}",QM(s,n))},mte={p:QM,P:pte};const Sw=mte;var gte=["D","DD"],vte=["YY","YYYY"];function XM(t){return gte.indexOf(t)!==-1}function JM(t){return vte.indexOf(t)!==-1}function Em(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var yte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wte=function(e,n,r){var i,s=yte[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const bte=wte;function my(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var _te={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ete={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ste={date:my({formats:_te,defaultWidth:"full"}),time:my({formats:Tte,defaultWidth:"full"}),dateTime:my({formats:Ete,defaultWidth:"full"})};const Ite=Ste;var Cte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ate=function(e,n,r,i){return Cte[e]};const kte=Ate;function kc(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var xte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Pte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ote={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Mte=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$te={ordinalNumber:Mte,era:kc({values:xte,defaultWidth:"wide"}),quarter:kc({values:Dte,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:kc({values:Pte,defaultWidth:"wide"}),day:kc({values:Rte,defaultWidth:"wide"}),dayPeriod:kc({values:Ote,defaultWidth:"wide",formattingValues:Nte,defaultFormattingWidth:"wide"})};const Lte=$te;function xc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Fte(a,function(d){return d.test(o)}):Ute(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Ute(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Fte(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Vte(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Bte=/^(\d+)(th|st|nd|rd)?/i,jte=/\d+/i,Hte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wte={any:[/^b/i,/^(a|c)/i]},zte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yte={any:[/1/i,/2/i,/3/i,/4/i]},Kte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zte={ordinalNumber:Vte({matchPattern:Bte,parsePattern:jte,valueCallback:function(e){return parseInt(e,10)}}),era:xc({matchPatterns:Hte,defaultMatchWidth:"wide",parsePatterns:Wte,defaultParseWidth:"any"}),quarter:xc({matchPatterns:zte,defaultMatchWidth:"wide",parsePatterns:Yte,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:xc({matchPatterns:Kte,defaultMatchWidth:"wide",parsePatterns:Gte,defaultParseWidth:"any"}),day:xc({matchPatterns:qte,defaultMatchWidth:"wide",parsePatterns:Qte,defaultParseWidth:"any"}),dayPeriod:xc({matchPatterns:Xte,defaultMatchWidth:"any",parsePatterns:Jte,defaultParseWidth:"any"})};const ene=Zte;var tne={code:"en-US",formatDistance:bte,formatLong:Ite,formatRelative:kte,localize:Lte,match:ene,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ZM=tne;var nne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ine=/^'([^]*?)'?$/,sne=/''/g,one=/[a-zA-Z]/;function Lo(t,e,n){var r,i,s,o,a,l,u,c,d,h,f,p,m,y,_,v,b,g;Le(2,arguments);var w=String(e),T=As(),R=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:ZM,A=Je((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(d=T.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Je((f=(p=(m=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(_=n.locale)===null||_===void 0||(v=_.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&m!==void 0?m:T.weekStartsOn)!==null&&p!==void 0?p:(b=T.locale)===null||b===void 0||(g=b.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&f!==void 0?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!R.localize)throw new RangeError("locale must contain localize property");if(!R.formatLong)throw new RangeError("locale must contain formatLong property");var S=Ye(t);if(!Ed(S))throw new RangeError("Invalid time value");var M=Tm(S),F=YM(S,M),I={firstWeekContainsDate:A,weekStartsOn:k,locale:R,_originalDate:S},j=w.match(rne).map(function(N){var O=N[0];if(O==="p"||O==="P"){var H=Sw[O];return H(N,R.formatLong)}return N}).join("").match(nne).map(function(N){if(N==="''")return"'";var O=N[0];if(O==="'")return ane(N);var H=fte[O];if(H)return!(n!=null&&n.useAdditionalWeekYearTokens)&&JM(N)&&Em(N,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&XM(N)&&Em(N,e,String(t)),H(F,N,R.localize,I);if(O.match(one))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return N}).join("");return j}function ane(t){var e=t.match(ine);return e?e[1].replace(sne,"'"):t}function lne(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function une(t){Le(1,arguments);var e=Ye(t),n=e.getDay();return n}function cne(t){Le(1,arguments);var e=Ye(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function qi(t){Le(1,arguments);var e=Ye(t),n=e.getHours();return n}var dne=6048e5;function hne(t){Le(1,arguments);var e=Ye(t),n=_m(e).getTime()-Qee(e).getTime();return Math.round(n/dne)+1}function ws(t){Le(1,arguments);var e=Ye(t),n=e.getMinutes();return n}function Dt(t){Le(1,arguments);var e=Ye(t),n=e.getMonth();return n}function zu(t){Le(1,arguments);var e=Ye(t),n=e.getSeconds();return n}function fne(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=Ye(t),d=c.getFullYear(),h=As(),f=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var m=ol(p,e),y=new Date(0);y.setFullYear(d,0,f),y.setHours(0,0,0,0);var _=ol(y,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=_.getTime()?d:d-1}function pne(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=As(),d=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=fne(t,e),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=ol(f,e);return p}var mne=6048e5;function gne(t,e){Le(1,arguments);var n=Ye(t),r=ol(n,e).getTime()-pne(n,e).getTime();return Math.round(r/mne)+1}function gt(t){return Le(1,arguments),Ye(t).getFullYear()}function ah(t,e){Le(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()>r.getTime()}function lh(t,e){Le(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()<r.getTime()}function tu(t,e){Le(2,arguments);var n=Ye(t),r=Ye(e);return n.getTime()===r.getTime()}function $C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vne(t,e){if(t){if(typeof t=="string")return $C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $C(t,e)}}function LC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=vne(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function Nt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function yne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wne(t,e){if(e&&(Ri(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}function Mt(t){var e=yne();return function(){var r=Sm(t),i;if(e){var s=Sm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return wne(this,i)}}function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bne(t,e){if(Ri(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ri(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e2(t){var e=bne(t,"string");return Ri(e)==="symbol"?e:String(e)}function UC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e2(r.key),r)}}function St(t,e,n){return e&&UC(t.prototype,e),n&&UC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ne(t,e,n){return e=e2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _ne=10,t2=function(){function t(){Et(this,t),Ne(this,"priority",void 0),Ne(this,"subPriority",0)}return St(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Tne=function(t){Nt(n,t);var e=Mt(n);function n(r,i,s,o,a){var l;return Et(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return St(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(t2),Ene=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",_ne),Ne($e(r),"subPriority",-1),r}return St(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(t2),Bt=function(){function t(){Et(this,t),Ne(this,"incompatibleTokens",void 0),Ne(this,"priority",void 0),Ne(this,"subPriority",void 0)}return St(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new Tne(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Sne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",140),Ne($e(r),"incompatibleTokens",["R","u","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),Nn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ss={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mn(t,e){return t&&{value:e(t.value),rest:t.rest}}function En(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function os(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*k1+s*A1+o*ete),rest:e.slice(n[0].length)}}function n2(t){return En(Nn.anyDigitsSigned,t)}function Pn(t,e){switch(t){case 1:return En(Nn.singleDigit,e);case 2:return En(Nn.twoDigits,e);case 3:return En(Nn.threeDigits,e);case 4:return En(Nn.fourDigits,e);default:return En(new RegExp("^\\d{1,"+t+"}"),e)}}function Im(t,e){switch(t){case 1:return En(Nn.singleDigitSigned,e);case 2:return En(Nn.twoDigitsSigned,e);case 3:return En(Nn.threeDigitsSigned,e);case 4:return En(Nn.fourDigitsSigned,e);default:return En(new RegExp("^-?\\d{1,"+t+"}"),e)}}function D1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function r2(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function i2(t){return t%400===0||t%4===0&&t%100!==0}var Ine=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Mn(Pn(4,i),a);case"yo":return Mn(o.ordinalNumber(i,{unit:"year"}),a);default:return Mn(Pn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=r2(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),Cne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Mn(Pn(4,i),a);case"Yo":return Mn(o.ordinalNumber(i,{unit:"year"}),a);default:return Mn(Pn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=x1(i,a);if(o.isTwoDigitYear){var u=r2(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),al(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),al(i,a)}}]),n}(Bt),Ane=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s){return Im(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Wu(a)}}]),n}(Bt),kne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s){return Im(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),xne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",120),Ne($e(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Pn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),Dne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",120),Ne($e(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Pn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),Pne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ne($e(r),"priority",110),r}return St(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Mn(En(Nn.month,i),a);case"MM":return Mn(Pn(2,i),a);case"Mo":return Mn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),Rne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",110),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Mn(En(Nn.month,i),a);case"LL":return Mn(Pn(2,i),a);case"Lo":return Mn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Bt);function One(t,e,n){Le(2,arguments);var r=Ye(t),i=Je(e),s=qM(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Nne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",100),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return En(Nn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return al(One(i,o,a),a)}}]),n}(Bt);function Mne(t,e){Le(2,arguments);var n=Ye(t),r=Je(e),i=GM(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var $ne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",100),Ne($e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return En(Nn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Wu(Mne(i,o))}}]),n}(Bt),Lne=[31,28,31,30,31,30,31,31,30,31,30,31],Une=[31,29,31,30,31,30,31,31,30,31,30,31],Fne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"subPriority",1),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return En(Nn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=i2(o),l=i.getUTCMonth();return a?s>=1&&s<=Une[l]:s>=1&&s<=Lne[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),Vne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"subpriority",1),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return En(Nn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=i2(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Bt);function P1(t,e,n){var r,i,s,o,a,l,u,c;Le(2,arguments);var d=As(),h=Je((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ye(t),p=Je(e),m=f.getUTCDay(),y=p%7,_=(y+7)%7,v=(_<h?7:0)+p-m;return f.setUTCDate(f.getUTCDate()+v),f}var Bne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=P1(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),jne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Mn(Pn(s.length,i),l);case"eo":return Mn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=P1(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),Hne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Mn(Pn(s.length,i),l);case"co":return Mn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=P1(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Bt);function Wne(t,e){Le(2,arguments);var n=Je(e);n%7===0&&(n=n-7);var r=1,i=Ye(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var zne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Pn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Mn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Mn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Mn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Mn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=Wne(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Bt),Yne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(D1(o),0,0,0),i}}]),n}(Bt),Kne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(D1(o),0,0,0),i}}]),n}(Bt),Gne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["a","b","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(D1(o),0,0,0),i}}]),n}(Bt),qne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["H","K","k","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return En(Nn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Bt),Qne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return En(Nn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Bt),Xne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["h","H","k","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return En(Nn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Bt),Jne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return En(Nn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Bt),Zne=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",60),Ne($e(r),"incompatibleTokens",["t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return En(Nn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Bt),ere=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",50),Ne($e(r),"incompatibleTokens",["t","T"]),r}return St(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return En(Nn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Pn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Bt),tre=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",30),Ne($e(r),"incompatibleTokens",["t","T"]),r}return St(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Mn(Pn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Bt),nre=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",10),Ne($e(r),"incompatibleTokens",["t","T","x"]),r}return St(n,[{key:"parse",value:function(i,s){switch(s){case"X":return os(ss.basicOptionalMinutes,i);case"XX":return os(ss.basic,i);case"XXXX":return os(ss.basicOptionalSeconds,i);case"XXXXX":return os(ss.extendedOptionalSeconds,i);case"XXX":default:return os(ss.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Bt),rre=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",10),Ne($e(r),"incompatibleTokens",["t","T","X"]),r}return St(n,[{key:"parse",value:function(i,s){switch(s){case"x":return os(ss.basicOptionalMinutes,i);case"xx":return os(ss.basic,i);case"xxxx":return os(ss.basicOptionalSeconds,i);case"xxxxx":return os(ss.extendedOptionalSeconds,i);case"xxx":default:return os(ss.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Bt),ire=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",40),Ne($e(r),"incompatibleTokens","*"),r}return St(n,[{key:"parse",value:function(i){return n2(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Bt),sre=function(t){Nt(n,t);var e=Mt(n);function n(){var r;Et(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",20),Ne($e(r),"incompatibleTokens","*"),r}return St(n,[{key:"parse",value:function(i){return n2(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Bt),ore={G:new Sne,y:new Ine,Y:new Cne,R:new Ane,u:new kne,Q:new xne,q:new Dne,M:new Pne,L:new Rne,w:new Nne,I:new $ne,d:new Fne,D:new Vne,E:new Bne,e:new jne,c:new Hne,i:new zne,a:new Yne,b:new Kne,B:new Gne,h:new qne,H:new Qne,K:new Xne,k:new Jne,m:new Zne,s:new ere,S:new tre,X:new nre,x:new rre,t:new ire,T:new sre},are=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ure=/^'([^]*?)'?$/,cre=/''/g,dre=/\S/,hre=/[a-zA-Z]/;function Cw(t,e,n,r){var i,s,o,a,l,u,c,d,h,f,p,m,y,_,v,b,g,w;Le(3,arguments);var T=String(t),R=String(e),A=As(),k=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:A.locale)!==null&&i!==void 0?i:ZM;if(!k.match)throw new RangeError("locale must contain match property");var S=Je((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:A.firstWeekContainsDate)!==null&&a!==void 0?a:(h=A.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Je((p=(m=(y=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(v=r.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&y!==void 0?y:A.weekStartsOn)!==null&&m!==void 0?m:(g=A.locale)===null||g===void 0||(w=g.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(R==="")return T===""?Ye(n):new Date(NaN);var F={firstWeekContainsDate:S,weekStartsOn:M,locale:k},I=[new Ene],j=R.match(lre).map(function(ce){var K=ce[0];if(K in Sw){var we=Sw[K];return we(ce,k.formatLong)}return ce}).join("").match(are),N=[],O=LC(j),H;try{var J=function(){var K=H.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&JM(K)&&Em(K,R,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&XM(K)&&Em(K,R,t);var we=K[0],Se=ore[we];if(Se){var E=Se.incompatibleTokens;if(Array.isArray(E)){var D=N.find(function(G){return E.includes(G.token)||G.token===we});if(D)throw new RangeError("The format string mustn't contain `".concat(D.fullToken,"` and `").concat(K,"` at the same time"))}else if(Se.incompatibleTokens==="*"&&N.length>0)throw new RangeError("The format string mustn't contain `".concat(K,"` and any other token at the same time"));N.push({token:we,fullToken:K});var B=Se.run(T,K,k.match,F);if(!B)return{v:new Date(NaN)};I.push(B.setter),T=B.rest}else{if(we.match(hre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+we+"`");if(K==="''"?K="'":we==="'"&&(K=fre(K)),T.indexOf(K)===0)T=T.slice(K.length);else return{v:new Date(NaN)}}};for(O.s();!(H=O.n()).done;){var L=J();if(Ri(L)==="object")return L.v}}catch(ce){O.e(ce)}finally{O.f()}if(T.length>0&&dre.test(T))return new Date(NaN);var C=I.map(function(ce){return ce.priority}).sort(function(ce,K){return K-ce}).filter(function(ce,K,we){return we.indexOf(ce)===K}).map(function(ce){return I.filter(function(K){return K.priority===ce}).sort(function(K,we){return we.subPriority-K.subPriority})}).map(function(ce){return ce[0]}),ee=Ye(n);if(isNaN(ee.getTime()))return new Date(NaN);var se=YM(ee,Tm(ee)),te={},he=LC(C),Y;try{for(he.s();!(Y=he.n()).done;){var V=Y.value;if(!V.validate(se,F))return new Date(NaN);var q=V.set(se,te,F);Array.isArray(q)?(se=q[0],lne(te,q[1])):se=q}}catch(ce){he.e(ce)}finally{he.f()}return se}function fre(t){return t.match(ure)[1].replace(cre,"'")}function FC(t,e){Le(2,arguments);var n=oh(t),r=oh(e);return n.getTime()===r.getTime()}function pre(t,e){Le(2,arguments);var n=Je(e);return Ns(t,-n)}function mre(t,e){var n;Le(1,arguments);var r=Je((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=wre(t),s;if(i.date){var o=bre(i.date,r);s=_re(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=Tre(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Ere(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var jf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gre=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wre(t){var e={},n=t.split(jf.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],jf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(jf.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=jf.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function bre(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function _re(t,e){if(e===null)return new Date(NaN);var n=t.match(gre);if(!n)return new Date(NaN);var r=!!n[4],i=Dc(n[1]),s=Dc(n[2])-1,o=Dc(n[3]),a=Dc(n[4]),l=Dc(n[5])-1;if(r)return kre(e,a,l)?Sre(e,a,l):new Date(NaN);var u=new Date(0);return!Cre(e,s,o)||!Are(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Dc(t){return t?parseInt(t):1}function Tre(t){var e=t.match(vre);if(!e)return NaN;var n=gy(e[1]),r=gy(e[2]),i=gy(e[3]);return xre(n,r,i)?n*k1+r*A1+i*1e3:NaN}function gy(t){return t&&parseFloat(t.replace(",","."))||0}function Ere(t){if(t==="Z")return 0;var e=t.match(yre);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Dre(r,i)?n*(r*k1+i*A1):NaN}function Sre(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Ire=[31,null,31,30,31,30,31,31,30,31,30,31];function s2(t){return t%400===0||t%4===0&&t%100!==0}function Cre(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Ire[e]||(s2(t)?29:28))}function Are(t,e){return e>=1&&e<=(s2(t)?366:365)}function kre(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function xre(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Dre(t,e){return e>=0&&e<=59}function o2(t,e){Le(2,arguments);var n=Ye(t),r=Je(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=cne(o);return n.setMonth(r,Math.min(s,a)),n}function fn(t,e){if(Le(2,arguments),Ri(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=Ye(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=o2(n,e.month)),e.date!=null&&n.setDate(Je(e.date)),e.hours!=null&&n.setHours(Je(e.hours)),e.minutes!=null&&n.setMinutes(Je(e.minutes)),e.seconds!=null&&n.setSeconds(Je(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Je(e.milliseconds)),n)}function a2(t,e){Le(2,arguments);var n=Ye(t),r=Je(e);return n.setHours(r),n}function R1(t,e){Le(2,arguments);var n=Ye(t),r=Je(e);return n.setMilliseconds(r),n}function l2(t,e){Le(2,arguments);var n=Ye(t),r=Je(e);return n.setMinutes(r),n}function O1(t,e){Le(2,arguments);var n=Ye(t),r=Je(e);return n.setSeconds(r),n}function hs(t,e){Le(2,arguments);var n=Ye(t),r=Je(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Yu(t,e){Le(2,arguments);var n=Je(e);return Gi(t,-n)}function Pre(t,e){if(Le(2,arguments),!e||Ri(e)!=="object")return new Date(NaN);var n=e.years?Je(e.years):0,r=e.months?Je(e.months):0,i=e.weeks?Je(e.weeks):0,s=e.days?Je(e.days):0,o=e.hours?Je(e.hours):0,a=e.minutes?Je(e.minutes):0,l=e.seconds?Je(e.seconds):0,u=Yu(t,r+n*12),c=pre(u,s+i*7),d=a+o*60,h=l+d*60,f=h*1e3,p=new Date(c.getTime()-f);return p}function u2(t,e){Le(2,arguments);var n=Je(e);return C1(t,-n)}function Yh(){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),ne("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ne("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ne("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Yh.compatConfig={MODE:3};function c2(){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),ne("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}c2.compatConfig={MODE:3};function N1(){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}N1.compatConfig={MODE:3};function M1(){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}M1.compatConfig={MODE:3};function $1(){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),ne("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}$1.compatConfig={MODE:3};function L1(){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}L1.compatConfig={MODE:3};function U1(){return P(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ne("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}U1.compatConfig={MODE:3};function F1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d2={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(d2);var Rre=d2.exports,Aw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Aw,Aw.exports);var Ore=Aw.exports;const Nre=F1(Ore);var kw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(kw,kw.exports);var Mre=kw.exports;const VC=F1(Mre);function $re(t,e){var n=Vre(e);return n.formatToParts?Ure(n,t):Fre(n,t)}var Lre={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ure(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=Lre[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function Fre(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var vy={};function Vre(t){if(!vy[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";vy[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return vy[t]}function V1(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var BC=36e5,Bre=6e4,yy={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function B1(t,e,n){var r,i;if(t===""||(r=yy.timezoneZ.exec(t),r))return 0;var s;if(r=yy.timezoneHH.exec(t),r)return s=parseInt(r[1],10),jC(s)?-(s*BC):NaN;if(r=yy.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return jC(s,o)?(i=Math.abs(s)*BC+o*Bre,s>0?-i:i):NaN}if(Wre(t)){e=new Date(e||Date.now());var a=n?e:jre(e),l=xw(a,t),u=n?l:Hre(e,l,t);return-u}return NaN}function jre(t){return V1(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function xw(t,e){var n=$re(t,e),r=V1(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function Hre(t,e,n){var r=t.getTime(),i=r-e,s=xw(new Date(i),n);if(e===s)return e;i-=s-e;var o=xw(new Date(i),n);return s===o?s:Math.max(s,o)}function jC(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var HC={};function Wre(t){if(HC[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),HC[t]=!0,!0}catch{return!1}}var h2=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,wy=36e5,WC=6e4,zre=2,Fr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:h2};function Dw(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?zre:Nre(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Yre(t),s=Kre(i.date,r),o=s.year,a=s.restDateString,l=Gre(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=qre(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=B1(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=VC(new Date(u+c)),d=VC(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function Yre(t){var e={},n=Fr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Fr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Fr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function Kre(t,e){var n=Fr.YYY[e],r=Fr.YYYYY[e],i;if(i=Fr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Fr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function Gre(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Fr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,YC(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Fr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return Jre(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Fr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return YC(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Fr.Www.exec(t),n)return s=parseInt(n[1],10)-1,KC(e,s)?zC(e,s):new Date(NaN);if(n=Fr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return KC(e,s,l)?zC(e,s,l):new Date(NaN)}return null}function qre(t){var e,n,r;if(e=Fr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),by(n)?n%24*wy:NaN;if(e=Fr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),by(n,r)?n%24*wy+r*WC:NaN;if(e=Fr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return by(n,r,i)?n%24*wy+r*WC+i*1e3:NaN}return null}function zC(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Qre=[31,28,31,30,31,30,31,31,30,31,30,31],Xre=[31,29,31,30,31,30,31,31,30,31,30,31];function f2(t){return t%400===0||t%4===0&&t%100!==0}function YC(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=f2(t);if(r&&n>Xre[e]||!r&&n>Qre[e])return!1}return!0}function Jre(t,e){if(e<1)return!1;var n=f2(t);return!(n&&e>366||!n&&e>365)}function KC(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function by(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Pw={exports:{}},Rw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Rw,Rw.exports);var Zre=Rw.exports;(function(t,e){var n=Rre.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(Zre);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Pw,Pw.exports);var eie=Pw.exports;const tie=F1(eie);function nie(t,e,n){var r=Dw(t,n),i=B1(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function rie(t,e,n){if(typeof t=="string"&&!t.match(h2)){var r=tie(n);return r.timeZone=e,Dw(t,r)}var i=Dw(t,n),s=V1(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=B1(e,new Date(s));return new Date(s+o)}function GC(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function iie(t){return e=>Lo(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const sie=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(iie(t))}catch{i=r.map(GC(e))}else i=r.map(GC(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},j1=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},p2=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=Lo(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},oie=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],zn=t=>{const e=x(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},aie=t=>Object.assign({type:"dot"},t),m2=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Cm={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Qn=t=>t,qC=t=>t===0?t:!t||isNaN(+t)?null:+t,QC=t=>t===null,lie=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},uie=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},uh=(t,e,n)=>{const r=n??n===0,i=e??e===0;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Ku=(t,e)=>uie(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),Uo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},cie=t=>{if(t.nextElementSibling)return t.nextElementSibling;for(;t.parentElement&&!t.parentElement.nextElementSibling;)t=t.parentElement;return t.parentElement?t.parentElement.nextElementSibling:null},die=t=>{if(!t)return!1;const e=["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])"],n=t.matches(e.join(", ")),r=t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0;return n&&r},hie=t=>{if(!t)return null;let e=t;for(;e;)if(e=cie(e),die(e))return e;return null},XC=(t,e,n,r,i)=>{const s=Cw(t,e.slice(0,t.length),new Date);return Ed(s)&&WM(s)?r||i?s:fn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},fie=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return XC(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=XC(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},be=t=>t?new Date(t):new Date,pie=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},ii=t=>{let e=be(JSON.parse(JSON.stringify(t)));return e=a2(e,0),e=l2(e,0),e=O1(e,0),e=R1(e,0),e},Fo=(t,e,n,r)=>{let i=t?be(t):be();return(e||e===0)&&(i=a2(i,+e)),(n||n===0)&&(i=l2(i,+n)),(r||r===0)&&(i=O1(i,+r)),R1(i,0)},fr=(t,e)=>!t||!e?!1:lh(ii(t),ii(e)),Ut=(t,e)=>!t||!e?!1:tu(ii(t),ii(e)),kr=(t,e)=>!t||!e?!1:ah(ii(t),ii(e)),Qg=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?kr(n,t[0])&&fr(n,t[1]):t!=null&&t[0]&&e?kr(n,t[0])&&fr(n,e)||fr(n,t[0])&&kr(n,e):!1,ji=t=>{const e=fn(new Date(t),{date:1});return ii(e)},_y=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},La=t=>({hours:qi(t),minutes:ws(t),seconds:zu(t)}),g2=(t,e)=>{if(e){const n=gt(be(e));if(n>t)return 12;if(n===t)return Dt(be(e))}},v2=(t,e)=>{if(e){const n=gt(be(e));return n<t?-1:n===t?Dt(be(e)):void 0}},Gu=t=>{if(t)return gt(be(t))},Ai=(t,e)=>e?nie(t,e):t,y2=(t,e)=>e?rie(t,e):t,JC=t=>t instanceof Date?t:mre(t),w2=(t,e)=>{const n=kr(t,e)?e:t,r=kr(e,t)?e:t;return zM({start:n,end:r})},mie=t=>{const e=Gi(t,1);return{month:Dt(e),year:gt(e)}},fp=(t,e,n)=>{const r=ol(Ai(t,e),{weekStartsOn:+n}),i=ite(Ai(t,e),{weekStartsOn:+n});return[r,i]},b2=(t,e)=>{const n={hours:qi(be()),minutes:ws(be()),seconds:e?zu(be()):0};return Object.assign(n,t)},ko=(t,e,n)=>[fn(be(t),{date:1}),fn(be(),{month:e,year:n,date:1})],Fs=(t,e,n)=>{let r=t?be(t):be();return(e||e===0)&&(r=o2(r,e)),n&&(r=hs(r,n)),r},_2=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Gi(t,1):Yu(t,1),o=[Dt(s),gt(s)];return i?!vie(...o,e):!gie(...o,n)},gie=(t,e,n)=>fr(...ko(n,t,e))||Ut(...ko(n,t,e)),vie=(t,e,n)=>kr(...ko(n,t,e))||Ut(...ko(n,t,e)),T2=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Lo(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?Lo(t[1],s,a):""}`:Lo(t,s,a)},Nl=t=>{if(t)return null;throw new Error(Cm.prop("partial-range"))},Hf=(t,e)=>{if(e)return t();throw new Error(Cm.prop("range"))},Ow=t=>Array.isArray(t)?Ed(t[0])&&(t[1]?Ed(t[1]):!0):t?Ed(t):!1,yie=(t,e)=>fn(e??be(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Ty=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?lh(t,e):ah(t,e),s={seconds:0,milliseconds:0};return i||tu(fn(t,s),fn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Ey=(t,e,n)=>t?yie(t,e):be(n??e),ZC=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Ey(t,r[0],e),a=Ey(t,r[1],e);return Ty(r[0],o,n,!!e)&&Ty(r[1],a,n,!!e)&&i}const s=Ey(t,r,e);return Ty(r,s,n,!!e)&&i},Sy=t=>fn(be(),La(t)),wie=(t,e)=>Array.isArray(t)?t.map(n=>be(n)).filter(n=>gt(be(n))===e).map(n=>Dt(n)):[],E2=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),H1=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Pc=qn({menuFocused:!1,shiftKeyInMenu:!1}),S2=()=>{const t=n=>{Pc.menuFocused=n},e=n=>{Pc.shiftKeyInMenu!==n&&(Pc.shiftKeyInMenu=n)};return{control:ie(()=>({shiftKeyInMenu:Pc.shiftKeyInMenu,menuFocused:Pc.menuFocused})),setMenuFocused:t,setShiftKey:e}},ln=qn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Iy=ue(null),Wf=ue(!1),Cy=ue(!1),Ay=ue(!1),ky=ue(!1),Mr=ue(0),ar=ue(0),ia=()=>{const t=ie(()=>Wf.value?[...ln.selectionGrid,ln.actionRow].filter(d=>d.length):Cy.value?[...ln.timePicker[0],...ln.timePicker[1],ky.value?[]:[Iy.value],ln.actionRow].filter(d=>d.length):Ay.value?[...ln.monthPicker,ln.actionRow]:[ln.monthYear,...ln.calendar,ln.time,ln.actionRow].filter(d=>d.length)),e=d=>{Mr.value=d?Mr.value+1:Mr.value-1;let h=null;t.value[ar.value]&&(h=t.value[ar.value][Mr.value]),h||(Mr.value=d?Mr.value-1:Mr.value+1)},n=d=>{ar.value===0&&!d||ar.value===t.value.length&&d||(ar.value=d?ar.value+1:ar.value-1,t.value[ar.value]?t.value[ar.value]&&!t.value[ar.value][Mr.value]&&Mr.value!==0&&(Mr.value=t.value[ar.value].length-1):ar.value=d?ar.value-1:ar.value+1)},r=d=>{let h=null;t.value[ar.value]&&(h=t.value[ar.value][Mr.value]),h?h.focus({preventScroll:!Wf.value}):Mr.value=d?Mr.value-1:Mr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{ln[h]=d},u=(d,h)=>{ln[h]=d},c=()=>{Mr.value=0,ar.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{Iy.value=d},setSelectionGrid:d=>{Wf.value=d,c(),d||(ln.selectionGrid=[])},setTimePicker:(d,h=!1)=>{Cy.value=d,ky.value=h,c(),d||(ln.timePicker[0]=[],ln.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{ln.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{ln.monthYear=[],ln.calendar=[],ln.time=[],ln.actionRow=[],ln.selectionGrid=[],ln.timePicker[0]=[],ln.timePicker[1]=[],Wf.value=!1,Cy.value=!1,ky.value=!1,Ay.value=!1,c(),Iy.value=null},setMonthPicker:d=>{Ay.value=d,c()},refSets:ln}},eA=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),bie=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),tA=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,_ie=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:tA(!1)};const r=e?t:{},i=e?r.count??!0:t,s=tA(i);return Object.assign(n,r,{count:s})},Tie=(t,e,n)=>t||(typeof n=="string"?n:e),Eie=t=>typeof t=="boolean"?t?eA({}):!1:eA(t),Sie=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},Iie=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Cie=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Aie=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},kie=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,...t??{}}),xie=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>be(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},$n=t=>{const e=()=>{const y=t.enableSeconds?":ss":"";return t.is24?`HH:mm${y}`:`hh:mm${y} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=y=>b2(y,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ie(()=>_ie(t.multiCalendars)),o=ie(()=>i()),a=ie(()=>bie(t.ariaLabels)),l=ie(()=>Iie(t.filters)),u=ie(()=>Eie(t.transitions)),c=ie(()=>Cie(t.actionRow)),d=ie(()=>Tie(t.previewFormat,t.format,n())),h=ie(()=>Sie(t.textInput)),f=ie(()=>Aie(t.inline)),p=ie(()=>kie(t.config)),m=ie(()=>xie(t.highlight,t.highlightWeekDays,t.highlightDisabledDays));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:f,defaultedConfig:p,defaultedHighlight:m,getDefaultPattern:n,getDefaultStartTime:i}},Die=(t,e,n)=>{const r=ue(),{defaultedTextInput:i,getDefaultPattern:s}=$n(e),o=ue(""),a=bu(e,"format");Zt(r,()=>{t("internal-model-change",r.value)}),Zt(a,()=>{j()});const l=C=>y2(C,e.timezone),u=C=>Ai(C,e.timezone),c=(C,ee,se=!1)=>T2(C,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,ee??s(),se),d=C=>C?e.modelType?O(C):{hours:qi(C),minutes:ws(C),seconds:e.enableSeconds?zu(C):0}:null,h=C=>e.modelType?O(C):{month:Dt(C),year:gt(C)},f=C=>Array.isArray(C)?e.multiDates?C.map(ee=>p(ee,hs(be(),ee))):Hf(()=>[hs(be(),C[0]),C[1]?hs(be(),C[1]):Nl(e.partialRange)],e.range):hs(be(),+C),p=(C,ee)=>(typeof C=="string"||typeof C=="number")&&e.modelType?N(C):ee,m=C=>Array.isArray(C)?[p(C[0],Fo(null,+C[0].hours,+C[0].minutes,C[0].seconds)),p(C[1],Fo(null,+C[1].hours,+C[1].minutes,C[1].seconds))]:p(C,Fo(null,C.hours,C.minutes,C.seconds)),y=C=>Array.isArray(C)?e.multiDates?C.map(ee=>p(ee,Fs(null,+ee.month,+ee.year))):Hf(()=>[p(C[0],Fs(null,+C[0].month,+C[0].year)),p(C[1],C[1]?Fs(null,+C[1].month,+C[1].year):Nl(e.partialRange))],e.range):p(C,Fs(null,+C.month,+C.year)),_=C=>{if(Array.isArray(C))return C.map(ee=>N(ee));throw new Error(Cm.dateArr("multi-dates"))},v=C=>{if(Array.isArray(C))return[be(C[0]),be(C[1])];throw new Error(Cm.dateArr("week-picker"))},b=C=>e.modelAuto?Array.isArray(C)?[N(C[0]),N(C[1])]:e.autoApply?[N(C)]:[N(C),null]:Array.isArray(C)?Hf(()=>[N(C[0]),C[1]?N(C[1]):Nl(e.partialRange)],e.range):N(C),g=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(Nl(e.partialRange))},w=()=>{const C=r.value;return[O(C[0]),C[1]?O(C[1]):Nl(e.partialRange)]},T=()=>r.value[1]?w():O(Qn(r.value[0])),R=()=>(r.value||[]).map(C=>O(C)),A=()=>(g(),e.modelAuto?T():e.multiDates?R():Array.isArray(r.value)?Hf(()=>w(),e.range):O(Qn(r.value))),k=C=>!C||Array.isArray(C)&&!C.length?null:e.timePicker?m(Qn(C)):e.monthPicker?y(Qn(C)):e.yearPicker?f(Qn(C)):e.multiDates?_(Qn(C)):e.weekPicker?v(Qn(C)):b(Qn(C)),S=C=>{const ee=k(C);Ow(Qn(ee))?(r.value=Qn(ee),j()):(r.value=null,o.value="")},M=()=>{const C=ee=>Lo(ee,i.value.format);return`${C(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?C(r.value[1]):""}`},F=()=>n.value&&r.value?Array.isArray(r.value)?M():Lo(r.value,i.value.format):c(r.value),I=()=>r.value?e.multiDates?r.value.map(C=>c(C)).join("; "):i.value.enabled&&typeof i.value.format=="string"?F():c(r.value):"",j=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=I():o.value=e.format(r.value)},N=C=>{if(e.utc){const ee=new Date(C);return e.utc==="preserve"?new Date(ee.getTime()+ee.getTimezoneOffset()*6e4):ee}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(C)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Cw(C,s(),new Date):u(Cw(C,e.modelType,new Date)):u(new Date(C))},O=C=>C?e.utc?pie(C,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(C):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(C)):c(l(C),e.modelType,!0):l(C):"",H=(C,ee=!1)=>{if(t("update:model-value",C),e.emitTimezone&&ee){const se=Array.isArray(C)?C.map(te=>Ai(Qn(te)),e.emitTimezone):Ai(Qn(C),e.emitTimezone);t("update:model-timezone-value",se)}},J=C=>Array.isArray(r.value)?e.multiDates?r.value.map(ee=>C(ee)):[C(r.value[0]),r.value[1]?C(r.value[1]):Nl(e.partialRange)]:C(Qn(r.value)),L=C=>H(Qn(J(C)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:S,formatInputValue:j,emitModelValue:()=>(j(),e.monthPicker?L(h):e.timePicker?L(d):e.yearPicker?L(gt):e.weekPicker?H(r.value.map(C=>O(C)),!0):H(A(),!0))}},Pie=(t,e)=>{const{defaultedFilters:n}=$n(t),{validateMonthYearInRange:r}=dc(t),i=(u,c)=>{let d=u;return n.value.months.includes(Dt(d))?(d=c?Gi(u,1):Yu(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(gt(d))?(d=c?C1(u,1):u2(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=fn(new Date,{month:t.month,year:t.year});let h=u?Gi(d,1):Yu(d,1);t.disableYearSelect&&(h=hs(h,t.year));let f=Dt(h),p=gt(h);n.value.months.includes(f)&&(h=i(h,u),f=Dt(h),p=gt(h)),n.value.years.includes(p)&&(h=s(h,u),p=gt(h)),r(f,p,u,t.preventMinMaxNavigation)&&a(f,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=ie(()=>u=>_2(fn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var Wl=(t=>(t.center="center",t.left="left",t.right="right",t))(Wl||{}),Mi=(t=>(t.month="month",t.year="year",t))(Mi||{}),ma=(t=>(t.top="top",t.bottom="bottom",t))(ma||{}),Ua=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ua||{}),ns=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(ns||{});const Rie=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=ue({}),u=ue(!1),c=ue({top:"0",left:"0"}),d=ue(!1),h=bu(o,"teleportCenter");Zt(h,()=>{c.value=JSON.parse(JSON.stringify({})),g()});const f=N=>{if(o.teleport){const O=N.getBoundingClientRect();return{left:O.left+window.scrollX,top:O.top+window.scrollY}}return{top:0,left:0}},p=(N,O)=>{c.value.left=`${N+O-l.value.width}px`},m=N=>{c.value.left=`${N}px`},y=(N,O)=>{o.position===Wl.left&&m(N),o.position===Wl.right&&p(N,O),o.position===Wl.center&&(c.value.left=`${N+O/2-l.value.width/2}px`)},_=N=>{const{width:O,height:H}=N.getBoundingClientRect(),{top:J,left:L}=o.altPosition?o.altPosition(N):f(N);return{top:+J,left:+L,width:O,height:H}},v=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},b=()=>{const N=zn(n),{top:O,left:H,transform:J}=o.altPosition(N);c.value={top:`${O}px`,left:`${H}px`,transform:J??""}},g=(N=!0)=>{var O;if(!i.value.enabled){if(h.value)return v();if(o.altPosition!==null)return b();if(N){const H=o.teleport?(O=e.value)==null?void 0:O.$el:t.value;H&&(l.value=H.getBoundingClientRect()),s("recalculate-position")}return M()}},w=({inputEl:N,left:O,width:H})=>{window.screen.width>768&&!u.value&&y(O,H),A(N)},T=N=>{const{top:O,left:H,height:J,width:L}=_(N);c.value.top=`${J+O+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${H+L/2-l.value.width/2}px`),w({inputEl:N,left:H,width:L})},R=N=>{const{top:O,left:H,width:J}=_(N);c.value.top=`${O-+o.offset-l.value.height}px`,d.value=!0,w({inputEl:N,left:H,width:J})},A=N=>{if(o.autoPosition){const{left:O,width:H}=_(N),{left:J,right:L}=l.value;if(!u.value){if(Math.abs(J)!==Math.abs(L)){if(J<=0)return u.value=!0,m(O);if(L>=document.documentElement.clientWidth)return u.value=!0,p(O,H)}return y(O,H)}}},k=()=>{const N=zn(n);if(N){const{height:O}=l.value,{top:H,height:J}=N.getBoundingClientRect(),L=window.innerHeight-H-J,C=H;return O<=L?ma.bottom:O>L&&O<=C?ma.top:L>=C?ma.bottom:ma.top}return ma.bottom},S=N=>k()===ma.bottom?T(N):R(N),M=()=>{const N=zn(n);if(N)return o.autoPosition?S(N):T(N)},F=function(N){if(N){const O=N.scrollHeight>N.clientHeight,H=window.getComputedStyle(N).overflowY.indexOf("hidden")!==-1;return O&&!H}return!0},I=function(N){return!N||N===document.body||N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:F(N)?N:I(N.parentNode)},j=N=>{if(N)switch(o.position){case Wl.left:return{left:0,transform:"translateX(0)"};case Wl.right:return{left:`${N.width}px`,transform:"translateX(-100%)"};default:return{left:`${N.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:g,getScrollableParent:I,shadowRender:(N,O)=>{var H,J,L;const C=document.createElement("div"),ee=(H=zn(n))==null?void 0:H.getBoundingClientRect();C.setAttribute("id","dp--temp-container");const se=(J=r.value)!=null&&J.clientWidth?r.value:document.body;se.append(C);const te=document.getElementById("dp--temp-container"),he=j(ee),Y=Ha(N,{...O,shadow:!0,style:{opacity:0,position:"absolute",...he}},Object.fromEntries(Object.keys(a).filter(V=>["right-sidebar","left-sidebar"].includes(V)).map(V=>[V,a[V]])));Wa(Y,te),l.value=(L=Y.el)==null?void 0:L.getBoundingClientRect(),Wa(null,te),se.removeChild(te)}}},ho=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Oie=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Nie={all:()=>ho,monthYear:()=>ho.filter(t=>t.use.includes("month-year")),input:()=>Oie,timePicker:()=>ho.filter(t=>t.use.includes("time")),action:()=>ho.filter(t=>t.use.includes("action")),calendar:()=>ho.filter(t=>t.use.includes("calendar")),menu:()=>ho.filter(t=>t.use.includes("menu")),shared:()=>ho.filter(t=>t.use.includes("shared")),yearMode:()=>ho.filter(t=>t.use.includes("year-mode"))},di=(t,e,n)=>{const r=[];return Nie[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Kh=t=>{const e=ie(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ie(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Gh=(t,e)=>{const n=be(Ai(new Date,t.timezone)),r=ue([{month:Dt(n),year:gt(n)}]),i=qn({hours:t.range?[qi(n),qi(n)]:qi(n),minutes:t.range?[ws(n),ws(n)]:ws(n),seconds:t.range?[0,0]:0}),s=ie({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ie(()=>l=>r.value[l]?r.value[l].month:0),a=ie(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},Mie=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=$n(e),{isDisabled:i,matchDate:s}=dc(e),o=ue(null),a=ue(be(Ai(new Date,e.timezone))),l=L=>{!L.current&&e.hideOffsetDates||(o.value=L.value)},u=()=>{o.value=null},c=L=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?L?kr(o.value,t.value[0]):fr(o.value,t.value[0]):!0,d=(L,C)=>{const ee=()=>t.value?C?t.value[0]||null:t.value[1]:null,se=t.value&&Array.isArray(t.value)?ee():null;return Ut(be(L.value),se)},h=L=>{const C=Array.isArray(t.value)?t.value[0]:null;return L?!fr(o.value??null,C):!0},f=(L,C=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!L.current?!1:Ut(be(L.value),t.value[C?0:1]):e.range?d(L,C)&&h(C)||Ut(L.value,Array.isArray(t.value)?t.value[0]:null)&&c(C):!1,p=(L,C,ee)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?L?!1:ee?kr(t.value[0],C.value):fr(t.value[0],C.value):!1,m=L=>!t.value||e.hideOffsetDates&&!L.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Ut(L.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(C=>Ut(C,L.value)):Ut(L.value,t.value?t.value:a.value),y=L=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!L.current)return!1;const C=Ns(o.value,+e.autoRange),ee=fp(be(o.value),e.timezone,e.weekStart);return e.weekPicker?Ut(ee[1],be(L.value)):Ut(C,be(L.value))}return!1}return!1},_=L=>{if(e.autoRange||e.weekPicker){if(o.value){const C=Ns(o.value,+e.autoRange);if(e.hideOffsetDates&&!L.current)return!1;const ee=fp(be(o.value),e.timezone,e.weekStart);return e.weekPicker?kr(L.value,ee[0])&&fr(L.value,ee[1]):kr(L.value,o.value)&&fr(L.value,C)}return!1}return!1},v=L=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!L.current)return!1;const C=fp(be(o.value),e.timezone,e.weekStart);return e.weekPicker?Ut(C[0],L.value):Ut(o.value,L.value)}return!1}return!1},b=L=>Qg(t.value,o.value,L.value),g=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,w=()=>e.modelAuto?m2(e.internalModelValue):!0,T=L=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const C=e.range?!f(L)&&!f(L,!1):!0;return!i(L.value)&&!m(L)&&!(!L.current&&e.hideOffsetDates)&&C},R=L=>e.range?e.modelAuto?g()&&m(L):!1:m(L),A=L=>{var C;return r.value?typeof r.value=="function"?r.value(L.value):s(L.value,(C=e.arrMapValues)!=null&&C.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},k=L=>{const C=i(L.value);return C&&(typeof r.value=="function"?!r.value(L.value,C):!r.value.options.highlightDisabled)},S=L=>{var C;return typeof r.value=="function"?r.value(L.value):(C=r.value.weekdays)==null?void 0:C.includes(L.value.getDay())},M=L=>(e.range||e.weekPicker)&&(!(n.value.count>0)||L.current)&&w()&&!(!L.current&&e.hideOffsetDates)&&!m(L)?b(L):!1,F=L=>{const{isRangeStart:C,isRangeEnd:ee}=N(L),se=e.range?C||ee:!1;return{dp__cell_offset:!L.current,dp__pointer:!e.disabled&&!(!L.current&&e.hideOffsetDates)&&!i(L.value),dp__cell_disabled:i(L.value),dp__cell_highlight:!k(L)&&(A(L)||S(L))&&!R(L)&&!se&&!v(L)&&!(M(L)&&e.weekPicker)&&!ee,dp__cell_highlight_active:!k(L)&&(A(L)||S(L))&&R(L),dp__today:!e.noToday&&Ut(L.value,a.value)&&L.current}},I=L=>({dp__active_date:R(L),dp__date_hover:T(L)}),j=L=>({...O(L),...H(L),dp__range_between_week:M(L)&&e.weekPicker}),N=L=>{const C=n.value.count>0?L.current&&f(L)&&w():f(L)&&w(),ee=n.value.count>0?L.current&&f(L,!1)&&w():f(L,!1)&&w();return{isRangeStart:C,isRangeEnd:ee}},O=L=>{const{isRangeStart:C,isRangeEnd:ee}=N(L);return{dp__range_start:C,dp__range_end:ee,dp__range_between:M(L)&&!e.weekPicker,dp__date_hover_start:p(T(L),L,!0),dp__date_hover_end:p(T(L),L,!1)}},H=L=>({...O(L),dp__cell_auto_range:_(L),dp__cell_auto_range_start:v(L),dp__cell_auto_range_end:y(L)}),J=L=>e.range?e.autoRange?H(L):e.modelAuto?{...I(L),...O(L)}:O(L):e.weekPicker?j(L):I(L);return{setHoverDate:l,clearHoverDate:u,getDayClassData:L=>e.hideOffsetDates&&!L.current?{}:{...F(L),...J(L),[e.dayClass?e.dayClass(L.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},dc=t=>{const{defaultedFilters:e,defaultedHighlight:n}=$n(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=S=>{const M=ii(s(be(S))).toISOString(),[F]=M.split("T");return F},s=S=>t.utc==="preserve"?y2(S,r()):Ai(S,r()),o=S=>{var M;const F=t.maxDate?kr(s(S),s(be(t.maxDate))):!1,I=t.minDate?fr(s(S),s(be(t.minDate))):!1,j=c(s(S),(M=t.arrMapValues)!=null&&M.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),N=e.value.months.map(C=>+C).includes(Dt(S)),O=t.disabledWeekDays.length?t.disabledWeekDays.some(C=>+C===une(S)):!1,H=h(S),J=gt(S),L=J<+t.yearRange[0]||J>+t.yearRange[1];return!(F||I||j||N||L||O||H)},a=(S,M)=>fr(...ko(t.minDate,S,M))||Ut(...ko(t.minDate,S,M)),l=(S,M)=>kr(...ko(t.maxDate,S,M))||Ut(...ko(t.maxDate,S,M)),u=(S,M,F)=>{let I=!1;return t.maxDate&&F&&l(S,M)&&(I=!0),t.minDate&&!F&&a(S,M)&&(I=!0),I},c=(S,M)=>S?M instanceof Map?!!M.get(i(S)):Array.isArray(M)?M.some(F=>Ut(s(be(F)),s(S))):M?M(be(JSON.parse(JSON.stringify(S)))):!1:!0,d=(S,M,F,I)=>{let j=!1;return I?t.minDate&&t.maxDate?j=u(S,M,F):(t.minDate&&a(S,M)||t.maxDate&&l(S,M))&&(j=!0):j=!0,j},h=S=>{var M,F,I,j,N;return Array.isArray(t.allowedDates)&&!((M=t.allowedDates)!=null&&M.length)?!0:(F=t.arrMapValues)!=null&&F.allowedDates?!c(S,(I=t.arrMapValues)==null?void 0:I.allowedDates):(j=t.allowedDates)!=null&&j.length?!((N=t.allowedDates)!=null&&N.some(O=>Ut(s(be(O)),s(S)))):!1},f=S=>!o(S),p=S=>t.noDisabledRange?!zM({start:S[0],end:S[1]}).some(M=>f(M)):!0,m=(S,M,F=0)=>{if(Array.isArray(M)&&M[F]){const I=Jee(S,M[F]),j=w2(M[F],S),N=j.length===1?0:j.filter(H=>f(H)).length,O=Math.abs(I)-N;if(t.minRange&&t.maxRange)return O>=+t.minRange&&O<=+t.maxRange;if(t.minRange)return O>=+t.minRange;if(t.maxRange)return O<=+t.maxRange}return!0},y=S=>new Map(S.map(M=>[i(M),!0])),_=S=>Array.isArray(S)&&S.length>0,v=()=>{const S={disabledDates:null,allowedDates:null,highlightedDates:null};return _(t.allowedDates)&&(S.allowedDates=y(t.allowedDates)),typeof n.value!="function"&&_(n.value.dates)&&(S.highlightedDates=y(n.value.dates)),_(t.disabledDates)&&(S.disabledDates=y(t.disabledDates)),S},b=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,g=S=>Array.isArray(S)?[S[0]?Sy(S[0]):null,S[1]?Sy(S[1]):null]:Sy(S),w=(S,M,F)=>S.find(I=>+I.hours===qi(M)&&I.minutes==="*"?!0:+I.minutes===ws(M)&&+I.hours===qi(M))&&F,T=(S,M,F)=>{const[I,j]=S,[N,O]=M;return!w(I,N,F)&&!w(j,O,F)&&F},R=(S,M)=>{const F=Array.isArray(M)?M:[M];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?T(t.disabledTimes,F,S):!F.some(I=>w(t.disabledTimes,I,S)):S},A=(S,M)=>{const F=Array.isArray(M)?[La(M[0]),M[1]?La(M[1]):void 0]:La(M),I=!t.disabledTimes(F);return S&&I},k=(S,M)=>t.disabledTimes?Array.isArray(t.disabledTimes)?R(M,S):A(M,S):M;return{isDisabled:f,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:m,matchDate:c,mapDatesArrToMap:v,isValidTime:S=>{let M=!0;if(!S||b())return!0;const F=!t.minDate&&!t.maxDate?g(S):S;return(t.maxTime||t.maxDate)&&(M=ZC(t.maxTime,t.maxDate,"max",Qn(F),M)),(t.minTime||t.minDate)&&(M=ZC(t.minTime,t.minDate,"min",Qn(F),M)),k(S,M)}}},Xg=()=>{const t=ie(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ie(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ie(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},$ie=(t,e,n)=>{const r=ue(0),i=qn({[Ua.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ua.calendar]:!1,[Ua.header]:!1}),s=(...c)=>{var d;(d=t.flow)!=null&&d.length&&(i[c]=!0,Object.keys(i).filter(h=>!i[h]).length||u())},o=()=>{var c;(c=t.flow)!=null&&c.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u())},a=()=>{r.value=-1},l=(c,d,...h)=>{t.flow[r.value]===c&&n.value&&n.value[d](...h)},u=()=>{l(ns.month,"toggleMonthPicker",!0),l(ns.year,"toggleYearPicker",!0),l(ns.calendar,"toggleTimePicker",!1,!0),l(ns.time,"toggleTimePicker",!0,!0);const c=t.flow[r.value];(c===ns.hours||c===ns.minutes||c===ns.seconds)&&l(c,"toggleTimePicker",!0,!0,c)};return{childMount:s,updateFlowStep:o,resetFlow:a,flowStep:r}},Jg={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},es={...Jg,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},Lie={key:1,class:"dp__input_wrap"},Uie=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],Fie={key:2,class:"dp__clear_icon"},Vie=Ee({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Jg},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=$n(i),d=ue(),h=ue(null),f=ue(!1),p=ue(!1),m=ie(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:f.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),y=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),d.value=null)},_=I=>{const j=c();return fie(I,s.value.format??u(),j??b2({},i.enableSeconds),i.inputValue,p.value)},v=I=>{const{rangeSeparator:j}=s.value,[N,O]=I.split(`${j}`);if(N){const H=_(N.trim()),J=O?_(O.trim()):null,L=H&&J?[H,J]:[H];d.value=H?L:null}},b=()=>{p.value=!0},g=I=>{if(i.range)v(I);else if(i.multiDates){const j=I.split(";");d.value=j.map(N=>_(N.trim())).filter(N=>N)}else d.value=_(I)},w=I=>{var j;const N=typeof I=="string"?I:(j=I.target)==null?void 0:j.value;N!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),g(N),r("set-input-date",d.value)):y(),p.value=!1,r("update:input-value",N)},T=I=>{s.value.enabled?(g(I.target.value),s.value.enterSubmit&&Ow(d.value)&&i.inputValue!==""?(r("set-input-date",d.value,!0),d.value=null):s.value.enterSubmit&&i.inputValue===""&&(d.value=null,r("clear"))):k(I)},R=I=>{s.value.enabled&&s.value.tabSubmit&&g(I.target.value),s.value.tabSubmit&&Ow(d.value)&&i.inputValue!==""?(r("set-input-date",d.value,!0,!0),d.value=null):s.value.tabSubmit&&i.inputValue===""&&(d.value=null,r("clear",!0))},A=()=>{var I;f.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((I=h.value)==null||I.select())},k=I=>{I.preventDefault(),Uo(I,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},S=()=>{r("real-blur"),f.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&d.value&&!i.isMenuOpen&&(r("set-input-date",d.value),r("select-date"),d.value=null)},M=I=>{Uo(I,l.value,!0),r("clear")},F=I=>{if(!s.value.enabled){if(I.code==="Tab")return;I.preventDefault()}};return e({focusInput:()=>{var I;(I=h.value)==null||I.focus({preventScroll:!0})},setParsedDate:I=>{d.value=I}}),(I,j)=>{var N;return P(),X("div",{onClick:k},[I.$slots.trigger&&!I.$slots["dp-input"]&&!x(a).enabled?ke(I.$slots,"trigger",{key:0}):ae("",!0),!I.$slots.trigger&&(!x(a).enabled||x(a).input)?(P(),X("div",Lie,[I.$slots["dp-input"]&&!I.$slots.trigger&&!x(a).enabled?ke(I.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:w,onEnter:T,onTab:R,onClear:M,onBlur:S,onKeypress:F,onPaste:b}):ae("",!0),I.$slots["dp-input"]?ae("",!0):(P(),X("input",{key:1,id:I.uid?`dp-input-${I.uid}`:void 0,ref_key:"inputRef",ref:h,name:I.name,class:Oe(m.value),inputmode:x(s).enabled?"text":"none",placeholder:I.placeholder,disabled:I.disabled,readonly:I.readonly,required:I.required,value:t.inputValue,autocomplete:I.autocomplete,"aria-label":(N=x(o))==null?void 0:N.input,"aria-disabled":I.disabled||void 0,"aria-invalid":I.state===!1?!0:void 0,onInput:w,onKeydown:[ot(T,["enter"]),ot(R,["tab"]),F],onBlur:S,onFocus:A,onKeypress:F,onPaste:b},null,42,Uie)),ne("div",{onClick:j[2]||(j[2]=O=>r("toggle"))},[I.$slots["input-icon"]&&!I.hideInputIcon?(P(),X("span",{key:0,class:"dp__input_icon",onClick:j[0]||(j[0]=O=>r("toggle"))},[ke(I.$slots,"input-icon")])):ae("",!0),!I.$slots["input-icon"]&&!I.hideInputIcon&&!I.$slots["dp-input"]?(P(),ge(x(Yh),{key:1,class:"dp__input_icon dp__input_icons",onClick:j[1]||(j[1]=O=>r("toggle"))})):ae("",!0)]),I.$slots["clear-icon"]&&t.inputValue&&I.clearable&&!I.disabled&&!I.readonly?(P(),X("span",Fie,[ke(I.$slots,"clear-icon",{clear:M})])):ae("",!0),I.clearable&&!I.$slots["clear-icon"]&&t.inputValue&&!I.disabled&&!I.readonly?(P(),ge(x(c2),{key:3,class:"dp__clear_icon dp__input_icons",onClick:j[3]||(j[3]=Ot(O=>M(O),["prevent"]))})):ae("",!0)])):ae("",!0)])}}}),Bie=["title"],jie={class:"dp__action_buttons"},Hie=["disabled","onKeydown"],Wie=Ee({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...es},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=$n(r),{isValidTime:c}=dc(r),{buildMatrix:d}=ia(),h=ue(null),f=ue(null);sn(()=>{r.arrowNavigation&&d([zn(h),zn(f)],"actionRow")});const p=ie(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),m=ie(()=>!y.value||!_.value||!p.value),y=ie(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),_=ie(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(S=>!A(S)).length:A(r.internalModelValue):!0),v=()=>{const S=s.value;return r.timePicker||r.monthPicker,S(Qn(r.internalModelValue))},b=()=>{const S=r.internalModelValue;return o.value.count>0?`${g(S[0])} - ${g(S[1])}`:[g(S[0]),g(S[1])]},g=S=>T2(S,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),w=ie(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?b():r.multiDates?r.internalModelValue.map(S=>`${g(S)}`):r.modelAuto?`${g(r.internalModelValue[0])}`:`${g(r.internalModelValue[0])} -`:g(r.internalModelValue):v()),T=()=>r.multiDates?"; ":" - ",R=ie(()=>Array.isArray(w.value)?w.value.join(T()):w.value),A=S=>{if(!r.monthPicker)return!0;let M=!0;const F=be(ji(S));if(r.minDate&&r.maxDate){const I=be(ji(r.minDate)),j=be(ji(r.maxDate));return kr(F,I)&&fr(F,j)||Ut(F,I)||Ut(F,j)}if(r.minDate){const I=be(ji(r.minDate));M=kr(F,I)||Ut(F,I)}if(r.maxDate){const I=be(ji(r.maxDate));M=fr(F,I)||Ut(F,I)}return M},k=()=>{y.value&&_.value&&p.value?n("select-date"):n("invalid-select")};return(S,M)=>(P(),X("div",{class:"dp__action_row",style:Yn(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[S.$slots["action-row"]?ke(S.$slots,"action-row",On(Kt({key:0},{internalModelValue:S.internalModelValue,disabled:m.value,selectDate:()=>S.$emit("select-date"),closePicker:()=>S.$emit("close-picker")}))):(P(),X(Ce,{key:1},[x(i).showPreview?(P(),X("div",{key:0,class:"dp__selection_preview",title:R.value},[S.$slots["action-preview"]?ke(S.$slots,"action-preview",{key:0,value:S.internalModelValue}):ae("",!0),S.$slots["action-preview"]?ae("",!0):(P(),X(Ce,{key:1},[Ge(qe(R.value),1)],64))],8,Bie)):ae("",!0),ne("div",jie,[S.$slots["action-buttons"]?ke(S.$slots,"action-buttons",{key:0,value:S.internalModelValue}):ae("",!0),S.$slots["action-buttons"]?ae("",!0):(P(),X(Ce,{key:1},[!x(l).enabled&&x(i).showCancel?(P(),X("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[0]||(M[0]=F=>S.$emit("close-picker")),onKeydown:[M[1]||(M[1]=ot(F=>S.$emit("close-picker"),["enter"])),M[2]||(M[2]=ot(F=>S.$emit("close-picker"),["space"]))]},qe(S.cancelText),545)):ae("",!0),x(i).showNow?(P(),X("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[3]||(M[3]=F=>S.$emit("select-now")),onKeydown:[M[4]||(M[4]=ot(F=>S.$emit("select-now"),["enter"])),M[5]||(M[5]=ot(F=>S.$emit("select-now"),["space"]))]},qe(S.nowButtonLabel),545)):ae("",!0),x(i).showSelect?(P(),X("button",{key:2,ref_key:"selectButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_select",disabled:m.value,onKeydown:[ot(k,["enter"]),ot(k,["space"])],onClick:k},qe(S.selectText),41,Hie)):ae("",!0)],64))])],64))],4))}}),zie=["onKeydown"],Yie={class:"dp__selection_grid_header"},Kie=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Gie=["aria-label","onKeydown"],qh=Ee({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=ia(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=$n(a),{hideNavigationButtons:d}=Xg(),h=ue(!1),f=ue(null),p=ue(null),m=ue([]),y=ue(),_=ue(null),v=ue(0),b=ue(null);nb(()=>{f.value=null}),sn(()=>{Kn().then(()=>M()),a.noOverlayFocus||w(),g(!0)}),Qo(()=>g(!1));const g=L=>{var C;a.arrowNavigation&&((C=a.headerRefs)!=null&&C.length?s(L):r(L))},w=()=>{var L;const C=zn(p);C&&(u.value.enabled||(f.value?(L=f.value)==null||L.focus({preventScroll:!0}):C.focus({preventScroll:!0})),h.value=C.clientHeight<C.scrollHeight)},T=ie(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),R=ie(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),A=ie(()=>({dp__overlay_col:!0})),k=ie(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),S=ie(()=>{var L,C;return{dp__overlay_container:!0,dp__container_flex:((L=a.items)==null?void 0:L.length)<=6,dp__container_block:((C=a.items)==null?void 0:C.length)>6}});Zt(()=>a.items,()=>M(),{deep:!0});const M=()=>{Kn().then(()=>{const L=zn(f),C=zn(p),ee=zn(_),se=zn(b),te=ee?ee.getBoundingClientRect().height:0;C&&(C.getBoundingClientRect().height?v.value=C.getBoundingClientRect().height-te:v.value=c.value.modeHeight-te),L&&se&&(se.scrollTop=L.offsetTop-se.offsetTop-(v.value/2-L.getBoundingClientRect().height)-te)})},F=L=>{L.disabled||o("selected",L.value)},I=()=>{o("toggle"),o("reset-flow")},j=()=>{a.escClose&&I()},N=(L,C,ee,se)=>{L&&(C.active&&(f.value=L),a.arrowNavigation&&(Array.isArray(m.value[ee])?m.value[ee][se]=L:m.value[ee]=[L],O()))},O=()=>{var L,C;const ee=(L=a.headerRefs)!=null&&L.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[_.value]]);i(Qn(ee),(C=a.headerRefs)!=null&&C.length?"monthPicker":"selectionGrid")},H=L=>{a.arrowNavigation||Uo(L,c.value,!0)},J=L=>{y.value=L,o("hover-value",L)};return e({focusGrid:w}),(L,C)=>{var ee;return P(),X("div",{ref_key:"gridWrapRef",ref:p,class:Oe(T.value),style:Yn(R.value),role:"dialog",tabindex:"0",onKeydown:[ot(Ot(j,["prevent"]),["esc"]),C[0]||(C[0]=ot(Ot(se=>H(se),["prevent"]),["left"])),C[1]||(C[1]=ot(Ot(se=>H(se),["prevent"]),["up"])),C[2]||(C[2]=ot(Ot(se=>H(se),["prevent"]),["down"])),C[3]||(C[3]=ot(Ot(se=>H(se),["prevent"]),["right"]))]},[ne("div",{ref_key:"containerRef",ref:b,class:Oe(S.value),role:"grid",style:Yn({height:`${v.value}px`})},[ne("div",Yie,[ke(L.$slots,"header")]),L.$slots.overlay?ke(L.$slots,"overlay",{key:0}):(P(!0),X(Ce,{key:1},ct(L.items,(se,te)=>(P(),X("div",{key:te,class:Oe(["dp__overlay_row",{dp__flex_row:L.items.length>=3}]),role:"row"},[(P(!0),X(Ce,null,ct(se,(he,Y)=>(P(),X("div",{key:he.value,ref_for:!0,ref:V=>N(V,he,te,Y),role:"gridcell",class:Oe(A.value),"aria-selected":he.active,"aria-disabled":he.disabled||void 0,tabindex:"0",onClick:V=>F(he),onKeydown:[ot(Ot(V=>F(he),["prevent"]),["enter"]),ot(Ot(V=>F(he),["prevent"]),["space"])],onMouseover:V=>J(he.value)},[ne("div",{class:Oe(he.className)},[L.$slots.item?ke(L.$slots,"item",{key:0,item:he}):ae("",!0),L.$slots.item?ae("",!0):(P(),X(Ce,{key:1},[Ge(qe(he.text),1)],64))],2)],42,Kie))),128))],2))),128))],6),L.$slots["button-icon"]?ps((P(),X("button",{key:0,ref_key:"toggleButton",ref:_,type:"button","aria-label":(ee=x(l))==null?void 0:ee.toggleOverlay,class:Oe(k.value),tabindex:"0",onClick:I,onKeydown:[ot(I,["enter"]),ot(I,["tab"])]},[ke(L.$slots,"button-icon")],42,Gie)),[[js,!x(d)(L.hideNavigation,L.type)]]):ae("",!0)],46,zie)}}}),Zg=Ee({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ie(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ie(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(P(),X("div",{class:Oe({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(P(!0),X(Ce,null,ct(n.value,(o,a)=>(P(),X("div",{key:o,class:Oe(r.value)},[ke(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),qie=["aria-label","aria-disabled"],Sd=Ee({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=ue(null);return sn(()=>n("set-ref",r)),(i,s)=>(P(),X("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=ot(Ot(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=ot(Ot(o=>i.$emit("activate"),["prevent"]),["space"]))]},[ne("span",{class:Oe(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[ke(i.$slots,"default")],2)],40,qie))}}),Qie={class:"dp--year-mode-picker"},Xie=["aria-label"],I2=Ee({__name:"YearModePicker",props:{...es,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Xg(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=$n(r),{showTransition:c,transitionName:d}=Kh(u),h=(m=!1,y)=>{n("toggle-year-picker",{flow:m,show:y})},f=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,y)=>{var _,v,b;return P(),X("div",Qie,[x(s)(x(a),t.instance)?(P(),ge(Sd,{key:0,ref:"mpPrevIconRef","aria-label":(_=x(l))==null?void 0:_.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=g=>p(!1))},{default:ye(()=>[m.$slots["arrow-left"]?ke(m.$slots,"arrow-left",{key:0}):ae("",!0),m.$slots["arrow-left"]?ae("",!0):(P(),ge(x(N1),{key:1}))]),_:3},8,["aria-label","disabled"])):ae("",!0),ne("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(v=x(l))==null?void 0:v.openYearsOverlay,onClick:y[1]||(y[1]=()=>h(!1)),onKeydown:y[2]||(y[2]=ot(()=>h(!1),["enter"]))},[m.$slots.year?ke(m.$slots,"year",{key:0,year:t.year}):ae("",!0),m.$slots.year?ae("",!0):(P(),X(Ce,{key:1},[Ge(qe(t.year),1)],64))],40,Xie),x(i)(x(a),t.instance)?(P(),ge(Sd,{key:1,ref:"mpNextIconRef","aria-label":(b=x(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=g=>p(!0))},{default:ye(()=>[m.$slots["arrow-right"]?ke(m.$slots,"arrow-right",{key:0}):ae("",!0),m.$slots["arrow-right"]?ae("",!0):(P(),ge(x(M1),{key:1}))]),_:3},8,["aria-label","disabled"])):ae("",!0),oe(Is,{name:x(d)(t.showYearPicker),css:x(c)},{default:ye(()=>[t.showYearPicker?(P(),ge(qh,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!x(o).keepActionRow,type:"year",onToggle:h,onSelected:y[4]||(y[4]=g=>f(g))},mr({"button-icon":ye(()=>[m.$slots["calendar-icon"]?ke(m.$slots,"calendar-icon",{key:0}):ae("",!0),m.$slots["calendar-icon"]?ae("",!0):(P(),ge(x(Yh),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ye(({item:g})=>[ke(m.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last"])):ae("",!0)]),_:3},8,["name","css"])])}}}),W1=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Ut(t,r))){const r=e.value.filter(i=>!Ut(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},z1=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?fr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},ev=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},C2=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ie(()=>j1(i.yearRange,i.reverseYears)),u=ue([!1]),c=ie(()=>(g,w)=>{const T=fn(ji(new Date),{month:o.value(g),year:s.value(g)});return _2(T,i.maxDate,i.minDate,i.preventMinMaxNavigation,w)}),d=()=>{for(let g=0;g<t.value.count;g++)if(g===0)n.value[g]=n.value[0];else{const w=fn(be(),n.value[g-1]);n.value[g]={month:Dt(w),year:gt(C1(w,1))}}},h=g=>{if(!g)return d();const w=fn(be(),n.value[g]);return n.value[0].year=gt(u2(w,t.value.count-1)),d()},f=g=>i.focusStartDate?g[0]:g[1]?g[1]:g[0],p=()=>{if(r.value){const g=Array.isArray(r.value)?f(r.value):r.value;n.value[0]={month:Dt(g),year:gt(g)}}};sn(()=>{p(),t.value.count&&d()});const m=(g,w)=>{n.value[w].year=g,t.value.count&&!t.value.solo&&h(w)},y=ie(()=>g=>Ku(l.value,w=>{const T=s.value(g)===w.value,R=uh(w.value,Gu(i.minDate),Gu(i.maxDate)),A=H1(e.value,w.value);return{active:T,disabled:R,highlighted:A}})),_=(g,w)=>{m(g,w),b(w)},v=(g,w=!1)=>{if(!c.value(g,w)){const T=w?s.value(g)+1:s.value(g)-1;m(T,g)}},b=(g,w=!1,T)=>{w||a("reset-flow"),T!==void 0?u.value[g]=T:u.value[g]=!u.value[g],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:y,showYearPicker:u,selectYear:m,toggleYearPicker:b,handleYearSelect:_,handleYear:v}},Jie=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=$n(t),{modelValue:a,year:l,month:u,calendars:c}=Gh(t,e),d=ie(()=>p2(t.formatLocale,t.locale,t.monthNameFormat)),h=ue(null),{selectYear:f,groupedYears:p,showYearPicker:m,toggleYearPicker:y,handleYearSelect:_,handleYear:v,isDisabled:b}=C2({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e}),g=H=>H?{month:Dt(H),year:gt(H)}:{month:null,year:null},w=()=>a.value?Array.isArray(a.value)?a.value.map(H=>g(H)):g(a.value):g(),T=(H,J)=>{const L=c.value[H],C=w();return Array.isArray(C)?C.some(ee=>ee.year===(L==null?void 0:L.year)&&ee.month===J):(L==null?void 0:L.year)===C.year&&J===C.month},R=(H,J,L)=>{var C,ee;const se=w();return Array.isArray(se)?l.value(J)===((C=se[L])==null?void 0:C.year)&&H===((ee=se[L])==null?void 0:ee.month):!1},A=(H,J)=>{if(t.range){const L=w();if(Array.isArray(a.value)&&Array.isArray(L)){const C=R(H,J,0)||R(H,J,1),ee=Fs(ji(be()),H,l.value(J));return Qg(a.value,h.value,ee)&&!C}return!1}return!1},k=ie(()=>H=>Ku(d.value,J=>{const L=T(H,J.value),C=uh(J.value,g2(l.value(H),t.minDate),v2(l.value(H),t.maxDate))||wie(t.disabledDates,l.value(H)).includes(J.value),ee=A(J.value,H),se=E2(o.value,J.value,l.value(H));return{active:L,disabled:C,isBetween:ee,highlighted:se}})),S=(H,J)=>Fs(ji(be()),H,l.value(J)),M=(H,J)=>{const L=a.value?a.value:ji(new Date);a.value=Fs(L,H,l.value(J)),e("auto-apply")},F=(H,J)=>{const L=z1(a,S(H,J),e);ev(L,e,t.autoApply,t.modelAuto)},I=(H,J)=>{W1(S(H,J),a,t.multiDatesLimit),e("auto-apply",!0)},j=(H,J)=>(c.value[J].month=H,O(J,c.value[J].year,H),t.multiDates?I(H,J):t.range?F(H,J):M(H,J)),N=(H,J)=>{f(H,J),O(J,H,null)},O=(H,J,L)=>{let C=L;if(!C){const ee=w();C=Array.isArray(ee)?ee[H].month:ee.month}e("update-month-year",{instance:H,year:J,month:C})};return{groupedMonths:k,groupedYears:p,year:l,isDisabled:b,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:m,modelValue:a,setHoverDate:(H,J)=>{h.value=S(H,J)},selectMonth:j,selectYear:N,toggleYearPicker:y,handleYearSelect:_,handleYear:v,getModelMonthYear:w}},Zie=Ee({compatConfig:{MODE:3},__name:"MonthPicker",props:{...es},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=Xo(),s=di(i,"yearMode"),o=t,{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:f,modelValue:p,setHoverDate:m,selectMonth:y,selectYear:_,toggleYearPicker:v,handleYearSelect:b,handleYear:g,getModelMonthYear:w}=Jie(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:w,selectMonth:y,selectYear:_,handleYear:g})}),(T,R)=>(P(),ge(Zg,{"multi-calendars":x(d).count,stretch:""},{default:ye(({instance:A})=>[T.$slots["month-year"]?ke(T.$slots,"month-year",On(Kt({key:0},{year:x(u),months:x(a)(A),years:x(l)(A),selectMonth:x(y),selectYear:x(_),instance:A}))):(P(),ge(qh,{key:1,items:x(a)(A),"arrow-navigation":T.arrowNavigation,"is-last":T.autoApply&&!x(h).keepActionRow,"esc-close":T.escClose,height:x(h).modeHeight,config:T.config,"no-overlay-focus":T.noOverlayFocus,"use-relative":"",type:"month",onSelected:k=>x(y)(k,A),onHoverValue:k=>x(m)(k,A)},{header:ye(()=>[oe(I2,Kt(T.$props,{items:x(l)(A),instance:A,"show-year-picker":x(f)[A],year:x(u)(A),"is-disabled":k=>x(c)(A,k),onHandleYear:k=>x(g)(A,k),onYearSelect:k=>x(b)(k,A),onToggleYearPicker:k=>x(v)(A,k==null?void 0:k.flow,k==null?void 0:k.show)}),mr({_:2},[ct(x(s),(k,S)=>({name:k,fn:ye(M=>[ke(T.$slots,k,On(pr(M)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),ese=(t,e)=>{const{modelValue:n}=Gh(t,e),r=ue(null),{defaultedHighlight:i}=$n(t),s=u=>Array.isArray(n.value)?n.value.some(c=>gt(c)===u):n.value?gt(n.value)===u:!1,o=u=>t.range&&Array.isArray(n.value)?Qg(n.value,r.value,l(u)):!1,a=ie(()=>Ku(j1(t.yearRange,t.reverseYears),u=>{const c=s(u.value),d=uh(u.value,Gu(t.minDate),Gu(t.maxDate)),h=o(u.value),f=H1(i.value,u.value);return{active:c,disabled:d,isBetween:h,highlighted:f}})),l=u=>hs(ji(new Date),u);return{groupedYears:a,modelValue:n,setHoverValue:u=>{r.value=hs(ji(new Date),u)},selectYear:u=>{var c;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((c=n.value)==null?void 0:c.map(d=>gt(d))).includes(u)?n.value=n.value.filter(d=>gt(d)!==u):n.value.push(hs(ii(be()),u))):n.value=[hs(ii(be()),u)],e("auto-apply",!0);if(t.range){const d=z1(n,l(u),e);return ev(d,e,t.autoApply,t.modelAuto)}n.value=l(u),e("auto-apply")}}},tse=Ee({compatConfig:{MODE:3},__name:"YearPicker",props:{...es},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,selectYear:a,setHoverValue:l}=ese(i,r),{defaultedConfig:u}=$n(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:a})}),(c,d)=>(P(),X("div",null,[c.$slots["month-year"]?ke(c.$slots,"month-year",On(Kt({key:0},{years:x(s),selectYear:x(a)}))):(P(),ge(qh,{key:1,items:x(s),"is-last":c.autoApply&&!x(u).keepActionRow,height:x(u).modeHeight,config:c.config,"no-overlay-focus":c.noOverlayFocus,type:"year","use-relative":"",onSelected:x(a),onHoverValue:x(l)},mr({_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:ye(({item:h})=>[ke(c.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","onSelected","onHoverValue"]))]))}}),nse={key:0,class:"dp__time_input"},rse=["aria-label","onKeydown","onClick"],ise=ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),sse=ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ose=["aria-label","disabled","onKeydown","onClick"],ase=["aria-label","onKeydown","onClick"],lse=ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),use=ne("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),cse={key:0},dse=["aria-label","onKeydown"],hse=Ee({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...es},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=ia(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=$n(i),{transitionName:d,showTransition:h}=Kh(l),f=qn({hours:!1,minutes:!1,seconds:!1}),p=ue("AM"),m=ue(null),y=ue([]);sn(()=>{r("mounted")});const _=V=>fn(new Date,{hours:V.hours,minutes:V.minutes,seconds:i.enableSeconds?V.seconds:0,milliseconds:0}),v=ie(()=>V=>j(V,i[V])||g(V,i[V])),b=ie(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),g=(V,q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(V,q):!1,w=(V,q)=>{if(i.range&&!i.disableTimeRangeValidation){const ce=q?+i[`${V}Increment`]:-+i[`${V}Increment`],K=i[V]+ce;return!i.validateTime(V,K)}return!1},T=ie(()=>V=>!O(+i[V]+ +i[`${V}Increment`],V)||w(V,!0)),R=ie(()=>V=>!O(+i[V]-+i[`${V}Increment`],V)||w(V,!1)),A=(V,q)=>HM(fn(be(),V),q),k=(V,q)=>Pre(fn(be(),V),q),S=ie(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),M=ie(()=>{const V=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?V.concat([{type:"",separator:!0},{type:"seconds"}]):V}),F=ie(()=>M.value.filter(V=>!V.separator)),I=ie(()=>V=>{if(V==="hours"){const q=ee(+i.hours);return{text:q<10?`0${q}`:`${q}`,value:q}}return{text:i[V]<10?`0${i[V]}`:`${i[V]}`,value:i[V]}}),j=(V,q)=>{var ce;if(!i.disabledTimesConfig)return!1;const K=i.disabledTimesConfig(i.order,V==="hours"?q:void 0);return K[V]?!!((ce=K[V])!=null&&ce.includes(q)):!0},N=V=>{const q=i.is24?24:12,ce=V==="hours"?q:60,K=+i[`${V}GridIncrement`],we=V==="hours"&&!i.is24?K:0,Se=[];for(let E=we;E<ce;E+=K)Se.push({value:E,text:E<10?`0${E}`:`${E}`});return V==="hours"&&!i.is24&&Se.push({value:0,text:"12"}),Ku(Se,E=>({active:!1,disabled:u.value.times[V].includes(E.value)||!O(E.value,V)||j(V,E.value)||g(V,E.value)}))},O=(V,q)=>{const ce=i.minTime?_(_y(i.minTime)):null,K=i.maxTime?_(_y(i.maxTime)):null,we=_(_y(b.value,q,V));return ce&&K?(lh(we,K)||tu(we,K))&&(ah(we,ce)||tu(we,ce)):ce?ah(we,ce)||tu(we,ce):K?lh(we,K)||tu(we,K):!0},H=V=>i[`no${V[0].toUpperCase()+V.slice(1)}Overlay`],J=V=>{H(V)||(f[V]=!f[V],f[V]||r("overlay-closed"))},L=V=>V==="hours"?qi:V==="minutes"?ws:zu,C=(V,q=!0)=>{const ce=q?A:k,K=q?+i[`${V}Increment`]:-+i[`${V}Increment`];O(+i[V]+K,V)&&r(`update:${V}`,L(V)(ce({[V]:+i[V]},{[V]:+i[`${V}Increment`]})))},ee=V=>i.is24?V:(V>=12?p.value="PM":p.value="AM",oie(V)),se=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},te=V=>{f[V]=!0},he=(V,q,ce)=>{if(V&&i.arrowNavigation){Array.isArray(y.value[q])?y.value[q][ce]=V:y.value[q]=[V];const K=y.value.reduce((we,Se)=>Se.map((E,D)=>[...we[D]||[],Se[D]]),[]);o(i.closeTimePickerBtn),m.value&&(K[1]=K[1].concat(m.value)),s(K,i.order)}},Y=(V,q)=>(J(V),V==="hours"&&!i.is24?r(`update:${V}`,p.value==="PM"?q+12:q):r(`update:${V}`,q));return e({openChildCmp:te}),(V,q)=>{var ce;return V.disabled?ae("",!0):(P(),X("div",nse,[(P(!0),X(Ce,null,ct(M.value,(K,we)=>{var Se,E,D;return P(),X("div",{key:we,class:Oe(S.value)},[K.separator?(P(),X(Ce,{key:0},[Ge(" : ")],64)):(P(),X(Ce,{key:1},[ne("button",{ref_for:!0,ref:B=>he(B,we,0),type:"button",class:Oe({dp__btn:!0,dp__inc_dec_button:!V.timePickerInline,dp__inc_dec_button_inline:V.timePickerInline,dp__tp_inline_btn_top:V.timePickerInline,dp__inc_dec_button_disabled:T.value(K.type)}),"aria-label":(Se=x(a))==null?void 0:Se.incrementValue(K.type),tabindex:"0",onKeydown:[ot(Ot(B=>C(K.type),["prevent"]),["enter"]),ot(Ot(B=>C(K.type),["prevent"]),["space"])],onClick:B=>C(K.type)},[i.timePickerInline?(P(),X(Ce,{key:1},[ise,sse],64)):(P(),X(Ce,{key:0},[V.$slots["arrow-up"]?ke(V.$slots,"arrow-up",{key:0}):ae("",!0),V.$slots["arrow-up"]?ae("",!0):(P(),ge(x(L1),{key:1}))],64))],42,rse),ne("button",{ref_for:!0,ref:B=>he(B,we,1),type:"button","aria-label":(E=x(a))==null?void 0:E.openTpOverlay(K.type),class:Oe({dp__time_display:!0,dp__time_display_block:!V.timePickerInline,dp__time_display_inline:V.timePickerInline,"dp--time-invalid":v.value(K.type),"dp--time-overlay-btn":!v.value(K.type)}),disabled:H(K.type),tabindex:"0",onKeydown:[ot(Ot(B=>J(K.type),["prevent"]),["enter"]),ot(Ot(B=>J(K.type),["prevent"]),["space"])],onClick:B=>J(K.type)},[V.$slots[K.type]?ke(V.$slots,K.type,{key:0,text:I.value(K.type).text,value:I.value(K.type).value}):ae("",!0),V.$slots[K.type]?ae("",!0):(P(),X(Ce,{key:1},[Ge(qe(I.value(K.type).text),1)],64))],42,ose),ne("button",{ref_for:!0,ref:B=>he(B,we,2),type:"button",class:Oe({dp__btn:!0,dp__inc_dec_button:!V.timePickerInline,dp__inc_dec_button_inline:V.timePickerInline,dp__tp_inline_btn_bottom:V.timePickerInline,dp__inc_dec_button_disabled:R.value(K.type)}),"aria-label":(D=x(a))==null?void 0:D.decrementValue(K.type),tabindex:"0",onKeydown:[ot(Ot(B=>C(K.type,!1),["prevent"]),["enter"]),ot(Ot(B=>C(K.type,!1),["prevent"]),["space"])],onClick:B=>C(K.type,!1)},[i.timePickerInline?(P(),X(Ce,{key:1},[lse,use],64)):(P(),X(Ce,{key:0},[V.$slots["arrow-down"]?ke(V.$slots,"arrow-down",{key:0}):ae("",!0),V.$slots["arrow-down"]?ae("",!0):(P(),ge(x(U1),{key:1}))],64))],42,ase)],64))],2)}),128)),V.is24?ae("",!0):(P(),X("div",cse,[V.$slots["am-pm-button"]?ke(V.$slots,"am-pm-button",{key:0,toggle:se,value:p.value}):ae("",!0),V.$slots["am-pm-button"]?ae("",!0):(P(),X("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ce=x(a))==null?void 0:ce.amPmButton,tabindex:"0",onClick:se,onKeydown:[ot(Ot(se,["prevent"]),["enter"]),ot(Ot(se,["prevent"]),["space"])]},qe(p.value),41,dse))])),(P(!0),X(Ce,null,ct(F.value,(K,we)=>(P(),ge(Is,{key:we,name:x(d)(f[K.type]),css:x(h)},{default:ye(()=>[f[K.type]?(P(),ge(qh,{key:0,items:N(K.type),"is-last":V.autoApply&&!x(c).keepActionRow,"esc-close":V.escClose,type:K.type,"text-input":V.textInput,config:V.config,"arrow-navigation":V.arrowNavigation,onSelected:Se=>Y(K.type,Se),onToggle:Se=>J(K.type),onResetFlow:q[0]||(q[0]=Se=>V.$emit("reset-flow"))},mr({"button-icon":ye(()=>[V.$slots["clock-icon"]?ke(V.$slots,"clock-icon",{key:0}):ae("",!0),V.$slots["clock-icon"]?ae("",!0):(P(),ge(x($1),{key:1}))]),_:2},[V.$slots[`${K.type}-overlay-value`]?{name:"item",fn:ye(({item:Se})=>[ke(V.$slots,`${K.type}-overlay-value`,{text:Se.text,value:Se.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):ae("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),fse={class:"dp--tp-wrap"},pse=["aria-label","tabindex"],mse=["tabindex"],gse=["aria-label"],A2=Ee({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...es},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=ia(),a=Xo(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=$n(i),{transitionName:h,showTransition:f}=Kh(l),{hideNavigationButtons:p}=Xg(),m=ue(null),y=ue(null),_=ue([]),v=ue(null);sn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([zn(m.value)],"time"):o(!0,i.timePicker)});const b=ie(()=>i.range&&i.modelAuto?m2(i.internalModelValue):!0),g=ue(!1),w=N=>({hours:Array.isArray(i.hours)?i.hours[N]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[N]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[N]:i.seconds}),T=ie(()=>{const N=[];if(i.range)for(let O=0;O<2;O++)N.push(w(O));else N.push(w(0));return N}),R=(N,O=!1,H="")=>{O||r("reset-flow"),g.value=N,r(N?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(N),Kn(()=>{H!==""&&_.value[0]&&_.value[0].openChildCmp(H)})},A=ie(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),k=di(a,"timePicker"),S=(N,O,H)=>i.range?O===0?[N,T.value[1][H]]:[T.value[0][H],N]:N,M=N=>{r("update:hours",N)},F=N=>{r("update:minutes",N)},I=N=>{r("update:seconds",N)},j=()=>{if(v.value&&!c.value.enabled&&!i.noOverlayFocus){const N=lie(v.value);N&&N.focus({preventScroll:!0})}};return e({toggleTimePicker:R}),(N,O)=>{var H;return P(),X("div",fse,[!N.timePicker&&!N.timePickerInline?ps((P(),X("button",{key:0,ref_key:"openTimePickerBtn",ref:m,type:"button",class:Oe(A.value),"aria-label":(H=x(u))==null?void 0:H.openTimePicker,tabindex:N.noOverlayFocus?void 0:0,onKeydown:[O[0]||(O[0]=ot(J=>R(!0),["enter"])),O[1]||(O[1]=ot(J=>R(!0),["space"]))],onClick:O[2]||(O[2]=J=>R(!0))},[N.$slots["clock-icon"]?ke(N.$slots,"clock-icon",{key:0}):ae("",!0),N.$slots["clock-icon"]?ae("",!0):(P(),ge(x($1),{key:1}))],42,pse)),[[js,!x(p)(N.hideNavigation,"time")]]):ae("",!0),oe(Is,{name:x(h)(g.value),css:x(f)&&!N.timePickerInline},{default:ye(()=>{var J;return[g.value||N.timePicker||N.timePickerInline?(P(),X("div",{key:0,ref_key:"overlayRef",ref:v,class:Oe({dp__overlay:!N.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!N.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Yn(N.timePicker?{height:`${x(d).modeHeight}px`}:void 0),tabindex:N.timePickerInline?void 0:0},[ne("div",{class:Oe(N.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[N.$slots["time-picker-overlay"]?ke(N.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:M,setMinutes:F,setSeconds:I}):ae("",!0),N.$slots["time-picker-overlay"]?ae("",!0):(P(),X("div",{key:1,class:Oe(N.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(P(!0),X(Ce,null,ct(T.value,(L,C)=>ps((P(),ge(hse,Kt({key:C},{...N.$props,order:C,hours:L.hours,minutes:L.minutes,seconds:L.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:C===0?N.fixedStart:N.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:_,"validate-time":(ee,se)=>t.validateTime(ee,S(se,C,ee)),"onUpdate:hours":ee=>M(S(ee,C,"hours")),"onUpdate:minutes":ee=>F(S(ee,C,"minutes")),"onUpdate:seconds":ee=>I(S(ee,C,"seconds")),onMounted:j,onOverlayClosed:j,onAmPmChange:O[3]||(O[3]=ee=>N.$emit("am-pm-change",ee))}),mr({_:2},[ct(x(k),(ee,se)=>({name:ee,fn:ye(te=>[ke(N.$slots,ee,On(pr(te)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[js,C===0?!0:b.value]])),128))],2)),!N.timePicker&&!N.timePickerInline?ps((P(),X("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:Oe(A.value),"aria-label":(J=x(u))==null?void 0:J.closeTimePicker,tabindex:"0",onKeydown:[O[4]||(O[4]=ot(L=>R(!1),["enter"])),O[5]||(O[5]=ot(L=>R(!1),["space"]))],onClick:O[6]||(O[6]=L=>R(!1))},[N.$slots["calendar-icon"]?ke(N.$slots,"calendar-icon",{key:0}):ae("",!0),N.$slots["calendar-icon"]?ae("",!0):(P(),ge(x(Yh),{key:1}))],42,gse)),[[js,!x(p)(N.hideNavigation,"time")]]):ae("",!0)],2)],14,mse)):ae("",!0)]}),_:3},8,["name","css"])])}}}),k2=(t,e,n,r)=>{const i=(_,v)=>Array.isArray(e[_])?e[_][v]:e[_],s=_=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[_]:e.seconds:0,o=(_,v)=>_?v!==void 0?Fo(_,i("hours",v),i("minutes",v),s(v)):Fo(_,e.hours,e.minutes,s()):O1(be(),s(v)),a=(_,v)=>{e[_]=v},l=(_,v)=>{const b=Object.fromEntries(Object.keys(e).map(g=>g===_?[g,v]:[g,e[g]].slice()));if(t.range&&!t.disableTimeRangeValidation){const g=T=>n.value?Fo(n.value[T],b.hours[T],b.minutes[T],b.seconds[T]):null,w=T=>R1(n.value[T],0);return!(Ut(g(0),g(1))&&(ah(g(0),w(1))||lh(g(1),w(0))))}return!0},u=(_,v)=>{l(_,v)&&(a(_,v),r&&r())},c=_=>{u("hours",_)},d=_=>{u("minutes",_)},h=_=>{u("seconds",_)},f=(_,v,b,g)=>{v&&c(_),!v&&!b&&d(_),b&&h(_),n.value&&g(n.value)},p=_=>{if(_){const v=Array.isArray(_),b=v?[+_[0].hours,+_[1].hours]:+_.hours,g=v?[+_[0].minutes,+_[1].minutes]:+_.minutes,w=v?[+_[0].seconds,+_[1].seconds]:+_.seconds;a("hours",b),a("minutes",g),t.enableSeconds&&a("seconds",w)}},m=(_,v)=>{const b={hours:Array.isArray(e.hours)?e.hours[_]:e.hours,disabledArr:[]};return(v||v===0)&&(b.hours=v),Array.isArray(t.disabledTimes)&&(b.disabledArr=t.range&&Array.isArray(t.disabledTimes[_])?t.disabledTimes[_]:t.disabledTimes),b},y=ie(()=>(_,v)=>{var b;if(Array.isArray(t.disabledTimes)){const{disabledArr:g,hours:w}=m(_,v),T=g.filter(R=>+R.hours===w);return((b=T[0])==null?void 0:b.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(T==null?void 0:T.map(R=>+R.minutes))??[],seconds:(T==null?void 0:T.map(R=>R.seconds?+R.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:o,updateTimeValues:f,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:y}},vse=(t,e)=>{const{modelValue:n,time:r}=Gh(t,e),{defaultedStartTime:i}=$n(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=k2(t,r,n),d=v=>{const{hours:b,minutes:g,seconds:w}=v;return{hours:+b,minutes:+g,seconds:w?+w:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const b=d(t.startTime[0]),g=d(t.startTime[1]);return[fn(be(),b),fn(be(),g)]}const v=d(t.startTime);return fn(be(),v)}return t.range?[null,null]:null},f=()=>{if(t.range){const[v,b]=h();n.value=[o(v,0),o(b,1)]}else n.value=o(h())},p=v=>Array.isArray(v)?[La(be(v[0])),La(be(v[1]))]:[La(v??be())],m=(v,b,g)=>{a("hours",v),a("minutes",b),a("seconds",t.enableSeconds?g:0)},y=()=>{const[v,b]=p(n.value);return t.range?m([v.hours,b.hours],[v.minutes,b.minutes],[v.seconds,b.minutes]):m(v.hours,v.minutes,v.seconds)};sn(()=>{if(!t.shadow)return l(i.value),n.value?y():f()});const _=()=>{Array.isArray(n.value)?n.value=n.value.map((v,b)=>v&&o(v,b)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(v,b=!0,g=!1)=>{s(v,b,g,_)},validateTime:c}},yse=Ee({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...es},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Xo(),o=di(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=vse(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,f)=>(P(),ge(Zg,{"multi-calendars":0,stretch:""},{default:ye(()=>[oe(A2,Kt(h.$props,{hours:x(a).hours,minutes:x(a).minutes,seconds:x(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":x(u),"validate-time":x(d),"onUpdate:hours":f[0]||(f[0]=p=>x(c)(p)),"onUpdate:minutes":f[1]||(f[1]=p=>x(c)(p,!1)),"onUpdate:seconds":f[2]||(f[2]=p=>x(c)(p,!1,!0)),onAmPmChange:f[3]||(f[3]=p=>h.$emit("am-pm-change",p))}),mr({_:2},[ct(x(o),(p,m)=>({name:p,fn:ye(y=>[ke(h.$slots,p,On(pr(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),wse={class:"dp__month_year_row"},bse=["aria-label","onClick","onKeydown"],_se=Ee({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...es},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=$n(i),{transitionName:d,showTransition:h}=Kh(s),{buildMatrix:f}=ia(),{handleMonthYearChange:p,isDisabled:m,updateMonthYear:y}=Pie(i,r),{showLeftIcon:_,showRightIcon:v}=Xg(),b=ue(!1),g=ue(!1),w=ue([null,null,null,null]);sn(()=>{r("mount")});const T=C=>({get:()=>i[C],set:ee=>{const se=C===Mi.month?Mi.year:Mi.month;r("update-month-year",{[C]:ee,[se]:i[se]}),C===Mi.month?j(!0):N(!0)}}),R=ie(T(Mi.month)),A=ie(T(Mi.year)),k=ie(()=>C=>({month:i.month,year:i.year,items:C===Mi.month?i.months:i.years,instance:i.instance,updateMonthYear:y,toggle:C===Mi.month?j:N})),S=ie(()=>i.months.find(ee=>ee.value===i.month)||{text:"",value:0}),M=ie(()=>Ku(i.months,C=>{const ee=i.month===C.value,se=uh(C.value,g2(i.year,i.minDate),v2(i.year,i.maxDate))||l.value.months.includes(C.value),te=E2(c.value,C.value,i.year);return{active:ee,disabled:se,highlighted:te}})),F=ie(()=>Ku(i.years,C=>{const ee=i.year===C.value,se=uh(C.value,Gu(i.minDate),Gu(i.maxDate))||l.value.years.includes(C.value),te=H1(c.value,C.value);return{active:ee,disabled:se,highlighted:te}})),I=(C,ee)=>{ee!==void 0?C.value=ee:C.value=!C.value,C.value||r("overlay-closed")},j=(C=!1,ee)=>{O(C),I(b,ee)},N=(C=!1,ee)=>{O(C),I(g,ee)},O=C=>{C||r("reset-flow")},H=(C,ee)=>{i.arrowNavigation&&(w.value[ee]=zn(C),f(w.value,"monthYear"))},J=ie(()=>{var C,ee;return[{type:Mi.month,index:1,toggle:j,modelValue:R.value,updateModelValue:se=>R.value=se,text:S.value.text,showSelectionGrid:b.value,items:M.value,ariaLabel:(C=o.value)==null?void 0:C.openMonthsOverlay},{type:Mi.year,index:2,toggle:N,modelValue:A.value,updateModelValue:se=>A.value=se,text:i.year,showSelectionGrid:g.value,items:F.value,ariaLabel:(ee=o.value)==null?void 0:ee.openYearsOverlay}]}),L=ie(()=>i.disableYearSelect?[J.value[0]]:i.yearFirst?[...J.value].reverse():J.value);return e({toggleMonthPicker:j,toggleYearPicker:N,handleMonthYearChange:p}),(C,ee)=>{var se,te,he;return P(),X("div",wse,[C.$slots["month-year"]?ke(C.$slots,"month-year",On(Kt({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:x(y),handleMonthYearChange:x(p),instance:t.instance}))):(P(),X(Ce,{key:1},[x(_)(x(a),t.instance)&&!C.vertical?(P(),ge(Sd,{key:0,"aria-label":(se=x(o))==null?void 0:se.prevMonth,disabled:x(m)(!1),onActivate:ee[0]||(ee[0]=Y=>x(p)(!1,!0)),onSetRef:ee[1]||(ee[1]=Y=>H(Y,0))},{default:ye(()=>[C.$slots["arrow-left"]?ke(C.$slots,"arrow-left",{key:0}):ae("",!0),C.$slots["arrow-left"]?ae("",!0):(P(),ge(x(N1),{key:1}))]),_:3},8,["aria-label","disabled"])):ae("",!0),ne("div",{class:Oe(["dp__month_year_wrap",{dp__year_disable_select:C.disableYearSelect}])},[(P(!0),X(Ce,null,ct(L.value,(Y,V)=>(P(),X(Ce,{key:Y.type},[ne("button",{ref_for:!0,ref:q=>H(q,V+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Y.ariaLabel,onClick:Y.toggle,onKeydown:[ot(Ot(Y.toggle,["prevent"]),["enter"]),ot(Ot(Y.toggle,["prevent"]),["space"])]},[C.$slots[Y.type]?ke(C.$slots,Y.type,{key:0,text:Y.text,value:i[Y.type]}):ae("",!0),C.$slots[Y.type]?ae("",!0):(P(),X(Ce,{key:1},[Ge(qe(Y.text),1)],64))],40,bse),oe(Is,{name:x(d)(Y.showSelectionGrid),css:x(h)},{default:ye(()=>[Y.showSelectionGrid?(P(),ge(qh,{key:0,items:Y.items,"arrow-navigation":C.arrowNavigation,"hide-navigation":C.hideNavigation,"is-last":C.autoApply&&!x(u).keepActionRow,"skip-button-ref":!1,config:C.config,type:Y.type,"header-refs":[],"esc-close":C.escClose,"text-input":C.textInput,onSelected:Y.updateModelValue,onToggle:Y.toggle},mr({"button-icon":ye(()=>[C.$slots["calendar-icon"]?ke(C.$slots,"calendar-icon",{key:0}):ae("",!0),C.$slots["calendar-icon"]?ae("",!0):(P(),ge(x(Yh),{key:1}))]),_:2},[C.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:ye(({item:q})=>[ke(C.$slots,`${Y.type}-overlay-value`,{text:q.text,value:q.value})]),key:"0"}:void 0,C.$slots[`${Y.type}-overlay`]?{name:"overlay",fn:ye(()=>[ke(C.$slots,`${Y.type}-overlay`,On(pr(k.value(Y.type))))]),key:"1"}:void 0,C.$slots[`${Y.type}-overlay-header`]?{name:"header",fn:ye(()=>[ke(C.$slots,`${Y.type}-overlay-header`,{toggle:Y.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):ae("",!0)]),_:2},1032,["name","css"])],64))),128))],2),x(_)(x(a),t.instance)&&C.vertical?(P(),ge(Sd,{key:1,"aria-label":(te=x(o))==null?void 0:te.prevMonth,disabled:x(m)(!1),onActivate:ee[2]||(ee[2]=Y=>x(p)(!1,!0))},{default:ye(()=>[C.$slots["arrow-up"]?ke(C.$slots,"arrow-up",{key:0}):ae("",!0),C.$slots["arrow-up"]?ae("",!0):(P(),ge(x(L1),{key:1}))]),_:3},8,["aria-label","disabled"])):ae("",!0),x(v)(x(a),t.instance)?(P(),ge(Sd,{key:2,ref:"rightIcon",disabled:x(m)(!0),"aria-label":(he=x(o))==null?void 0:he.nextMonth,onActivate:ee[3]||(ee[3]=Y=>x(p)(!0,!0)),onSetRef:ee[4]||(ee[4]=Y=>H(Y,C.disableYearSelect?2:3))},{default:ye(()=>[C.$slots[C.vertical?"arrow-down":"arrow-right"]?ke(C.$slots,C.vertical?"arrow-down":"arrow-right",{key:0}):ae("",!0),C.$slots[C.vertical?"arrow-down":"arrow-right"]?ae("",!0):(P(),ge(fh(C.vertical?x(U1):x(M1)),{key:1}))]),_:3},8,["disabled","aria-label"])):ae("",!0)],64))])}}}),Tse=["aria-label"],Ese={class:"dp__calendar_header",role:"row"},Sse={key:0,class:"dp__calendar_header_item",role:"gridcell"},Ise=ne("div",{class:"dp__calendar_header_separator"},null,-1),Cse=["aria-label"],Ase={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},kse={class:"dp__cell_inner"},xse=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Dse=Ee({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...es},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=ia(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u}=$n(i),c=ue(null),d=ue({bottom:"",left:"",transform:""}),h=ue([]),f=ue(null),p=ue(!0),m=ue(""),y=ue({startX:0,endX:0,startY:0,endY:0}),_=ue([]),v=ue({left:"50%"}),b=ie(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),g=ie(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):sie(i.formatLocale,i.locale,+i.weekStart));sn(()=>{r("mount",{cmp:"calendar",refs:h}),a.value.noSwipe||f.value&&(f.value.addEventListener("touchstart",j,{passive:!1}),f.value.addEventListener("touchend",N,{passive:!1}),f.value.addEventListener("touchmove",O,{passive:!1})),i.monthChangeOnScroll&&f.value&&f.value.addEventListener("wheel",L,{passive:!1})});const w=te=>te?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",T=(te,he)=>{if(i.transitions){const Y=ii(Fs(be(),i.month,i.year));m.value=kr(ii(Fs(be(),te,he)),Y)?o.value[w(!0)]:o.value[w(!1)],p.value=!1,Kn(()=>{p.value=!0})}},R=ie(()=>({[i.calendarClassName]:!!i.calendarClassName})),A=ie(()=>te=>{const he=aie(te);return{dp__marker_dot:he.type==="dot",dp__marker_line:he.type==="line"}}),k=ie(()=>te=>Ut(te,c.value)),S=ie(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),M=ie(()=>te=>i.hideOffsetDates?te.current:!0),F=async(te,he,Y)=>{var V,q;if(r("set-hover-date",te),(q=(V=te.marker)==null?void 0:V.tooltip)!=null&&q.length){const ce=zn(h.value[he][Y]);if(ce){const{width:K,height:we}=ce.getBoundingClientRect();c.value=te.value;let Se={left:`${K/2}px`},E=-50;if(await Kn(),_.value[0]){const{left:D,width:B}=_.value[0].getBoundingClientRect();D<0&&(Se={left:"0"},E=0,v.value.left=`${K/2}px`),window.innerWidth<D+B&&(Se={right:"0"},E=0,v.value.left=`${B-K/2}px`)}d.value={bottom:`${we}px`,...Se,transform:`translateX(${E}%)`},r("tooltip-open",te.marker)}}},I=te=>{c.value&&(c.value=null,d.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",te.marker))},j=te=>{y.value.startX=te.changedTouches[0].screenX,y.value.startY=te.changedTouches[0].screenY},N=te=>{y.value.endX=te.changedTouches[0].screenX,y.value.endY=te.changedTouches[0].screenY,H()},O=te=>{i.vertical&&!i.inline&&te.preventDefault()},H=()=>{const te=i.vertical?"Y":"X";Math.abs(y.value[`start${te}`]-y.value[`end${te}`])>10&&r("handle-swipe",y.value[`start${te}`]>y.value[`end${te}`]?"right":"left")},J=(te,he,Y)=>{te&&(Array.isArray(h.value[he])?h.value[he][Y]=te:h.value[he]=[te]),i.arrowNavigation&&s(h.value,"calendar")},L=te=>{i.monthChangeOnScroll&&(te.preventDefault(),r("handle-scroll",te))},C=te=>{const he=te[0];return i.weekNumbers==="local"?gne(he.value,{weekStartsOn:+i.weekStart}):i.weekNumbers==="iso"?hne(he.value):typeof i.weekNumbers=="function"?i.weekNumbers(he.value):""},ee=(te,he)=>{Uo(te,a.value),r("select-date",he)},se=te=>{Uo(te,a.value)};return e({triggerTransition:T}),(te,he)=>{var Y;return P(),X("div",{class:Oe(S.value)},[ne("div",{ref_key:"calendarWrapRef",ref:f,role:"grid",class:Oe(R.value),"aria-label":(Y=x(l))==null?void 0:Y.calendarWrap},[(P(),X(Ce,{key:0},[ne("div",Ese,[te.weekNumbers?(P(),X("div",Sse,qe(te.weekNumName),1)):ae("",!0),(P(!0),X(Ce,null,ct(g.value,(V,q)=>(P(),X("div",{key:q,class:"dp__calendar_header_item",role:"gridcell"},[te.$slots["calendar-header"]?ke(te.$slots,"calendar-header",{key:0,day:V,index:q}):ae("",!0),te.$slots["calendar-header"]?ae("",!0):(P(),X(Ce,{key:1},[Ge(qe(V),1)],64))]))),128))]),Ise,oe(Is,{name:m.value,css:!!te.transitions},{default:ye(()=>{var V;return[p.value?(P(),X("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((V=x(l))==null?void 0:V.calendarDays)||void 0},[(P(!0),X(Ce,null,ct(b.value,(q,ce)=>(P(),X("div",{key:ce,class:"dp__calendar_row",role:"row"},[te.weekNumbers?(P(),X("div",Ase,[ne("div",kse,qe(C(q.days)),1)])):ae("",!0),(P(!0),X(Ce,null,ct(q.days,(K,we)=>{var Se,E,D;return P(),X("div",{id:K.value.toISOString().split("T")[0],ref_for:!0,ref:B=>J(B,ce,we),key:we+ce,role:"gridcell",class:"dp__calendar_item","aria-selected":K.classData.dp__active_date||K.classData.dp__range_start||K.classData.dp__range_start,"aria-disabled":K.classData.dp__cell_disabled||void 0,"aria-label":(E=(Se=x(l))==null?void 0:Se.day)==null?void 0:E.call(Se,K),tabindex:"0",onClick:Ot(B=>ee(B,K),["prevent"]),onKeydown:[ot(B=>te.$emit("select-date",K),["enter"]),ot(B=>te.$emit("handle-space",K),["space"])],onMouseenter:B=>F(K,ce,we),onMouseleave:B=>I(K)},[ne("div",{class:Oe(["dp__cell_inner",K.classData])},[te.$slots.day&&M.value(K)?ke(te.$slots,"day",{key:0,day:+K.text,date:K.value}):ae("",!0),te.$slots.day?ae("",!0):(P(),X(Ce,{key:1},[Ge(qe(K.text),1)],64)),K.marker&&M.value(K)?(P(),X(Ce,{key:2},[te.$slots.marker?ke(te.$slots,"marker",{key:0,marker:K.marker,day:+K.text,date:K.value}):(P(),X("div",{key:1,class:Oe(A.value(K.marker)),style:Yn(K.marker.color?{backgroundColor:K.marker.color}:{})},null,6))],64)):ae("",!0),k.value(K.value)?(P(),X("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:_,class:"dp__marker_tooltip",style:Yn(d.value)},[(D=K.marker)!=null&&D.tooltip?(P(),X("div",{key:0,class:"dp__tooltip_content",onClick:se},[(P(!0),X(Ce,null,ct(K.marker.tooltip,(B,G)=>(P(),X("div",{key:G,class:"dp__tooltip_text"},[te.$slots["marker-tooltip"]?ke(te.$slots,"marker-tooltip",{key:0,tooltip:B,day:K.value}):ae("",!0),te.$slots["marker-tooltip"]?ae("",!0):(P(),X(Ce,{key:1},[ne("div",{class:"dp__tooltip_mark",style:Yn(B.color?{backgroundColor:B.color}:{})},null,4),ne("div",null,qe(B.text),1)],64))]))),128)),ne("div",{class:"dp__arrow_bottom_tp",style:Yn(v.value)},null,4)])):ae("",!0)],4)):ae("",!0)],2)],40,xse)}),128))]))),128))],8,Cse)):ae("",!0)]}),_:3},8,["name","css"])],64))],10,Tse)],2)}}}),nA=t=>Array.isArray(t),Pse=(t,e,n,r)=>{const i=ue([]),{modelValue:s,calendars:o,time:a}=Gh(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=$n(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:f}=dc(t),{updateTimeValues:p,getSetDateTime:m,setTime:y,assignStartTime:_,validateTime:v,disabledTimesConfig:b}=k2(t,a,s,r),g=ie(()=>Q=>o.value[Q]?o.value[Q].month:0),w=ie(()=>Q=>o.value[Q]?o.value[Q].year:0),T=(Q,$,W)=>{var U,re;o.value[Q]||(o.value[Q]={month:0,year:0}),o.value[Q].month=QC($)?(U=o.value[Q])==null?void 0:U.month:$,o.value[Q].year=QC(W)?(re=o.value[Q])==null?void 0:re.year:W},R=()=>{t.autoApply&&e("select-date")};Zt(s,(Q,$)=>{JSON.stringify(Q)!==JSON.stringify($)&&S()}),sn(()=>{t.shadow||(s.value||(C(),u.value&&_(u.value)),S(!0),t.focusStartDate&&t.startDate&&C())});const A=ie(()=>{var Q;return(Q=t.flow)!=null&&Q.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),k=()=>{t.autoApply&&A.value&&e("auto-apply",t.partialFlow)},S=(Q=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,O(Q)):F(s.value,Q);if(l.value.count&&Q&&!t.startDate)return M(be(),Q)},M=(Q,$=!1)=>{if((!l.value.count||!l.value.static||$)&&T(0,Dt(Q),gt(Q)),l.value.count)for(let W=1;W<l.value.count;W++){const U=fn(be(),{month:g.value(W-1),year:w.value(W-1)}),re=HM(U,{months:1});o.value[W]={month:Dt(re),year:gt(re)}}},F=(Q,$)=>{M(Q),y("hours",qi(Q)),y("minutes",ws(Q)),y("seconds",zu(Q)),l.value.count&&$&&L()},I=Q=>{if(l.value.count){if(l.value.solo)return 0;const $=Dt(Q[0]),W=Dt(Q[1]);return Math.abs(W-$)<l.value.count?0:1}return 1},j=(Q,$)=>{Q[1]&&t.showLastInRange?M(Q[I(Q)],$):M(Q[0],$);const W=(U,re)=>[U(Q[0]),Q[1]?U(Q[1]):a[re][1]];y("hours",W(qi,"hours")),y("minutes",W(ws,"minutes")),y("seconds",W(zu,"seconds"))},N=(Q,$)=>{if((t.range||t.weekPicker)&&!t.multiDates)return j(Q,$);if(t.multiDates&&$){const W=Q[Q.length-1];return F(W,$)}},O=Q=>{const $=s.value;N($,Q),l.value.count&&l.value.solo&&L()},H=(Q,$)=>{const W=fn(be(),{month:g.value($),year:w.value($)}),U=Q<0?Gi(W,1):Yu(W,1);c(Dt(U),gt(U),Q<0,t.preventMinMaxNavigation)&&(T($,Dt(U),gt(U)),e("update-month-year",{instance:$,month:Dt(U),year:gt(U)}),l.value.count&&!l.value.solo&&J($),n())},J=Q=>{for(let $=Q-1;$>=0;$--){const W=Yu(fn(be(),{month:g.value($+1),year:w.value($+1)}),1);T($,Dt(W),gt(W))}for(let $=Q+1;$<=l.value.count-1;$++){const W=Gi(fn(be(),{month:g.value($-1),year:w.value($-1)}),1);T($,Dt(W),gt(W))}},L=()=>{if(Array.isArray(s.value)&&s.value.length===2){const Q=be(be(s.value[1]?s.value[1]:Gi(s.value[0],1))),[$,W]=[Dt(s.value[0]),gt(s.value[0])],[U,re]=[Dt(s.value[1]),gt(s.value[1])];($!==U||$===U&&W!==re)&&l.value.solo&&T(1,Dt(Q),gt(Q))}else s.value&&!Array.isArray(s.value)&&(T(0,Dt(s.value),gt(s.value)),M(be()))},C=()=>{t.startDate&&(T(0,Dt(be(t.startDate)),gt(be(t.startDate))),l.value.count&&J(0))},ee=(Q,$)=>{t.monthChangeOnScroll&&H(t.monthChangeOnScroll!=="inverse"?-Q.deltaY:Q.deltaY,$)},se=(Q,$,W=!1)=>{t.monthChangeOnArrows&&t.vertical===W&&te(Q,$)},te=(Q,$)=>{H(Q==="right"?-1:1,$)},he=Q=>t.markers.find($=>Ut(JC(Q.value),JC($.date))),Y=(Q,$)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[Q==0,!0];case"fair":return[Q==0||$>Q,!0];case"append":return[!1,!1];default:return[!1,!1]}},V=(Q,$,W,U)=>{if(t.sixWeeks&&Q.length<6){const re=6-Q.length,me=($.getDay()+7-U)%7,Be=6-(W.getDay()+7-U)%7,[Me,tt]=Y(me,Be);for(let jt=1;jt<=re;jt++)if(tt?!!(jt%2)==Me:Me){const Ke=Q[0].days[0],Fe=q(Ns(Ke.value,-7),Dt($));Q.unshift({days:Fe})}else{const Ke=Q[Q.length-1],Fe=Ke.days[Ke.days.length-1],Xe=q(Ns(Fe.value,1),Dt($));Q.push({days:Xe})}}return Q},q=(Q,$)=>{const W=be(Q),U=[];for(let re=0;re<7;re++){const me=Ns(W,re),Be=Dt(me)!==$;U.push({text:t.hideOffsetDates&&Be?"":me.getDate(),value:me,current:!Be,classData:{}})}return U},ce=(Q,$)=>{const W=[],U=be(Ai(new Date($,Q),t.timezone)),re=be(Ai(new Date($,Q+1,0),t.timezone)),me=t.weekStart,Be=ol(U,{weekStartsOn:me}),Me=tt=>{const jt=q(tt,Q);if(W.push({days:jt}),!W[W.length-1].days.some(Ke=>Ut(ii(Ke.value),ii(re)))){const Ke=Ns(tt,7);Me(Ke)}};return Me(Be),V(W,U,re,me)},K=Q=>(s.value=fp(be(Q.value),t.timezone,t.weekStart),e("date-update",Q.value),k()),we=Q=>{const $=Fo(be(Q.value),a.hours,a.minutes,Te());e("date-update",$),t.multiDates?W1($,s,t.multiDatesLimit):s.value=$,r(),Kn().then(()=>{k()})},Se=Q=>t.noDisabledRange?w2(i.value[0],Q).some($=>d($)):!1,E=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},D=(Q,$)=>{const W=[be(Q.value),Ns(be(Q.value),+t.autoRange)];h(W)?($&&B(Q.value),i.value=W):e("invalid-date",Q.value)},B=Q=>{const $=Dt(be(Q)),W=gt(be(Q));if(T(0,$,W),l.value.count>0)for(let U=1;U<l.value.count;U++){const re=mie(fn(be(Q),{year:g.value(U-1),month:w.value(U-1)}));T(U,re.month,re.year)}},G=Q=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(kr(Q,s.value[0])||Ut(Q,s.value[0]))?[s.value[0],Q]:t.fixedEnd&&(fr(Q,s.value[1])||Ut(Q,s.value[1]))?[Q,s.value[1]]:(e("invalid-fixed-range",Q),s.value):[],de=Q=>{if(Se(Q.value)||!f(Q.value,s.value,t.fixedStart?0:1))return e("invalid-date",Q.value);i.value=G(be(Q.value))},fe=(Q,$)=>{if(E(),t.autoRange)return D(Q,$);if(t.fixedStart||t.fixedEnd)return de(Q);i.value[0]?f(be(Q.value),s.value)&&!Se(Q.value)?fr(be(Q.value),be(i.value[0]))?(i.value.unshift(be(Q.value)),e("range-end",i.value[0])):(i.value[1]=be(Q.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",Q.value),e("invalid-date",Q.value)):(i.value[0]=be(Q.value),e("range-start",i.value[0]))},Te=(Q=!0)=>t.enableSeconds?Array.isArray(a.seconds)?Q?a.seconds[0]:a.seconds[1]:a.seconds:0,le=Q=>{i.value[Q]=Fo(i.value[Q],a.hours[Q],a.minutes[Q],Te(Q!==1))},Z=()=>{var Q,$;i.value[0]&&i.value[1]&&+((Q=i.value)==null?void 0:Q[0])>+(($=i.value)==null?void 0:$[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},z=()=>{i.value.length&&(i.value[0]&&!i.value[1]?le(0):(le(0),le(1),r()),Z(),s.value=i.value.slice(),ev(i.value,e,t.autoApply,t.modelAuto))},_e=(Q,$=!1)=>{if(d(Q.value)||!Q.current&&t.hideOffsetDates)return e("invalid-date",Q.value);if(t.weekPicker)return K(Q);if(!t.range)return we(Q);nA(a.hours)&&nA(a.minutes)&&!t.multiDates&&(fe(Q,$),z())},pe=(Q,$)=>{var W;T(Q,$.month,$.year),l.value.count&&!l.value.solo&&J(Q),e("update-month-year",{instance:Q,month:$.month,year:$.year}),n(l.value.solo?Q:void 0);const U=(W=t.flow)!=null&&W.length?t.flow[t.flowStep]:void 0;!$.fromNav&&(U===ns.month||U===ns.year)&&r()},Re=(Q,$)=>{Array.isArray(Q)&&Q.length<=2&&t.range?s.value=Q.map(W=>Ai(be(W),$?void 0:t.timezone)):Array.isArray(Q)||(s.value=Ai(be(Q),$?void 0:t.timezone)),R(),t.multiCalendars&&Kn().then(()=>S(!0))},We=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=fr(be(),s.value[0])?[be(),s.value[0]]:[s.value[0],be()]:s.value=[be()]:s.value=be(),R()},Qe=()=>{if(Array.isArray(s.value))if(t.multiDates){const Q=Ve();s.value[s.value.length-1]=m(Q)}else s.value=s.value.map((Q,$)=>Q&&m(Q,$));else s.value=m(s.value);e("time-update")},Ve=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:g,year:w,time:a,disabledTimesConfig:b,validateTime:v,getCalendarDays:ce,getMarker:he,handleScroll:ee,handleSwipe:te,handleArrow:se,selectDate:_e,updateMonthYear:pe,presetDate:Re,selectCurrentDate:We,updateTime:(Q,$=!0,W=!1)=>{p(Q,$,W,Qe)}}},Rse={key:0},Ose=Ee({__name:"DatePicker",props:{...es},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:f,handleArrow:p,handleScroll:m,handleSwipe:y,selectDate:_,updateMonthYear:v,presetDate:b,selectCurrentDate:g,updateTime:w}=Pse(i,r,L,C),T=Xo(),{setHoverDate:R,getDayClassData:A,clearHoverDate:k}=Mie(l,i),{defaultedMultiCalendars:S}=$n(i),M=ue([]),F=ue([]),I=ue(null),j=di(T,"calendar"),N=di(T,"monthYear"),O=di(T,"timePicker"),H=se=>{i.shadow||r("mount",se)};Zt(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const J=ie(()=>se=>h(o.value(se),a.value(se)).map(te=>({...te,days:te.days.map(he=>(he.marker=f(he),he.classData=A(he),he))})));function L(se){var te;se||se===0?(te=F.value[se])==null||te.triggerTransition(o.value(se),a.value(se)):F.value.forEach((he,Y)=>he.triggerTransition(o.value(Y),a.value(Y)))}function C(){r("update-flow-step")}const ee=(se,te=!1)=>{_(se,te),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:k,presetDate:b,selectCurrentDate:g,toggleMonthPicker:(se,te,he=0)=>{var Y;(Y=M.value[he])==null||Y.toggleMonthPicker(se,te)},toggleYearPicker:(se,te,he=0)=>{var Y;(Y=M.value[he])==null||Y.toggleYearPicker(se,te)},toggleTimePicker:(se,te,he)=>{var Y;(Y=I.value)==null||Y.toggleTimePicker(se,te,he)},handleArrow:p,updateMonthYear:v,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:w,updateMonthYear:v,selectDate:_,presetDate:b})}),(se,te)=>(P(),X(Ce,null,[oe(Zg,{"multi-calendars":x(S).count},{default:ye(({instance:he,index:Y})=>[se.disableMonthYearSelect?ae("",!0):(P(),ge(_se,Kt({key:0,ref:V=>{V&&(M.value[Y]=V)},months:x(p2)(se.formatLocale,se.locale,se.monthNameFormat),years:x(j1)(se.yearRange,se.reverseYears),month:x(o)(he),year:x(a)(he),instance:he},se.$props,{onMount:te[0]||(te[0]=V=>H(x(Ua).header)),onResetFlow:te[1]||(te[1]=V=>se.$emit("reset-flow")),onUpdateMonthYear:V=>x(v)(he,V),onOverlayClosed:te[2]||(te[2]=V=>se.$emit("focus-menu"))}),mr({_:2},[ct(x(N),(V,q)=>({name:V,fn:ye(ce=>[ke(se.$slots,V,On(pr(ce)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),oe(Dse,Kt({ref:V=>{V&&(F.value[Y]=V)},"mapped-dates":J.value(he),month:x(o)(he),year:x(a)(he),instance:he},se.$props,{onSelectDate:V=>x(_)(V,he!==1),onHandleSpace:V=>ee(V,he!==1),onSetHoverDate:te[3]||(te[3]=V=>x(R)(V)),onHandleScroll:V=>x(m)(V,he),onHandleSwipe:V=>x(y)(V,he),onMount:te[4]||(te[4]=V=>H(x(Ua).calendar)),onResetFlow:te[5]||(te[5]=V=>se.$emit("reset-flow")),onTooltipOpen:te[6]||(te[6]=V=>se.$emit("tooltip-open",V)),onTooltipClose:te[7]||(te[7]=V=>se.$emit("tooltip-close",V))}),mr({_:2},[ct(x(j),(V,q)=>({name:V,fn:ye(ce=>[ke(se.$slots,V,On(pr({...ce})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),se.enableTimePicker?(P(),X("div",Rse,[se.$slots["time-picker"]?ke(se.$slots,"time-picker",On(Kt({key:0},{time:x(u),updateTime:x(w)}))):(P(),ge(A2,Kt({key:1,ref_key:"timePickerRef",ref:I},se.$props,{hours:x(u).hours,minutes:x(u).minutes,seconds:x(u).seconds,"internal-model-value":se.internalModelValue,"disabled-times-config":x(c),"validate-time":x(d),onMount:te[8]||(te[8]=he=>H(x(Ua).timePicker)),"onUpdate:hours":te[9]||(te[9]=he=>x(w)(he)),"onUpdate:minutes":te[10]||(te[10]=he=>x(w)(he,!1)),"onUpdate:seconds":te[11]||(te[11]=he=>x(w)(he,!1,!0)),onResetFlow:te[12]||(te[12]=he=>se.$emit("reset-flow")),onOverlayClosed:te[13]||(te[13]=he=>se.$emit("time-picker-close")),onOverlayOpened:te[14]||(te[14]=he=>se.$emit("time-picker-open",he)),onAmPmChange:te[15]||(te[15]=he=>se.$emit("am-pm-change",he))}),mr({_:2},[ct(x(O),(he,Y)=>({name:he,fn:ye(V=>[ke(se.$slots,he,On(pr(V)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ae("",!0)],64))}}),Nse=(t,e)=>{const n=ue(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=$n(t),{modelValue:o,year:a,month:l,calendars:u}=Gh(t,e),{isDisabled:c}=dc(t),{selectYear:d,groupedYears:h,showYearPicker:f,isDisabled:p,toggleYearPicker:m,handleYearSelect:y,handleYear:_}=C2({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),v=(k,S)=>[k,S].map(M=>Lo(M,"MMMM",{locale:t.formatLocale})).join("-"),b=ie(()=>k=>o.value?Array.isArray(o.value)?o.value.some(S=>FC(k,S)):FC(o.value,k):!1),g=k=>{if(t.range){if(Array.isArray(o.value)){const S=Ut(k,o.value[0])||Ut(k,o.value[1]);return Qg(o.value,n.value,k)&&!S}return!1}return!1},w=ie(()=>k=>{const S=fn(new Date,{year:a.value(k)});return tte({start:rte(S),end:nte(S)}).map(M=>{const F=oh(M),I=RC(M),j=c(M),N=g(F),O=typeof s.value=="function"?s.value({quarter:PC(F),year:gt(F)}):!!s.value.quarters.find(H=>H.quarter===PC(F)&&H.year===gt(F));return{text:v(F,I),value:F,active:b.value(F),highlighted:O,disabled:j,isBetween:N}})}),T=k=>{W1(k,o,t.multiDatesLimit),e("auto-apply",!0)},R=k=>{const S=z1(o,k,e);ev(S,e,t.autoApply,t.modelAuto)},A=k=>{o.value=k,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:p,quarters:w,showYearPicker:f,modelValue:o,setHoverDate:k=>{n.value=k},selectYear:d,selectQuarter:(k,S,M)=>{if(!M)return u.value[S].month=Dt(RC(k)),t.multiDates?T(k):t.range?R(k):A(k)},toggleYearPicker:m,handleYearSelect:y,handleYear:_}},Mse={class:"dp--quarter-items"},$se=["disabled","onClick","onMouseover"],Lse=Ee({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...es},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Xo(),o=di(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:f,showYearPicker:p,setHoverDate:m,selectQuarter:y,toggleYearPicker:_,handleYearSelect:v,handleYear:b}=Nse(i,r);return e({getSidebarProps:()=>({modelValue:f,year:c,selectQuarter:y,handleYearSelect:v,handleYear:b})}),(g,w)=>(P(),ge(Zg,{"multi-calendars":x(a).count,stretch:""},{default:ye(({instance:T})=>[ne("div",{class:"dp-quarter-picker-wrap",style:Yn({minHeight:`${x(l).modeHeight}px`})},[ne("div",null,[oe(I2,Kt(g.$props,{items:x(u)(T),instance:T,"show-year-picker":x(p)[T],year:x(c)(T),"is-disabled":R=>x(d)(T,R),onHandleYear:R=>x(b)(T,R),onYearSelect:R=>x(v)(R,T),onToggleYearPicker:R=>x(_)(T,R==null?void 0:R.flow,R==null?void 0:R.show)}),mr({_:2},[ct(x(o),(R,A)=>({name:R,fn:ye(k=>[ke(g.$slots,R,On(pr(k)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ne("div",Mse,[(P(!0),X(Ce,null,ct(x(h)(T),(R,A)=>(P(),X("div",{key:A},[ne("button",{type:"button",class:Oe(["dp--qr-btn",{"dp--qr-btn-active":R.active,"dp--qr-btn-between":R.isBetween,"dp--qr-btn-disabled":R.disabled,"dp--highlighted":R.highlighted}]),disabled:R.disabled,onClick:k=>x(y)(R.value,T,R.disabled),onMouseover:k=>x(m)(R.value)},[g.$slots.quarter?ke(g.$slots,"quarter",{key:0,value:R.value,text:R.text}):(P(),X(Ce,{key:1},[Ge(qe(R.text),1)],64))],42,$se)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),Use=["id","onKeydown"],Fse={key:0,class:"dp__sidebar_left"},Vse={key:1,class:"dp--preset-dates"},Bse=["onClick","onKeydown"],jse={key:2,class:"dp__sidebar_right"},Hse={key:3,class:"dp__action_extra"},rA=Ee({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Jg,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ie(()=>{const{openOnTop:E,...D}=i;return{...D,flowStep:A.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=S2(),u=Xo(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=$n(i),f=ue(null),p=ue(0),m=ue(null),y=ue(null),_=ue(!1),v=ue(null);sn(()=>{if(!i.shadow){_.value=!0,b(),window.addEventListener("resize",b);const E=zn(m);if(E&&!c.value.enabled&&!d.value.enabled&&(o(!0),I()),E){const D=B=>{h.value.allowPreventDefault&&B.preventDefault(),Uo(B,h.value,!0)};E.addEventListener("pointerdown",D),E.addEventListener("mousedown",D)}}}),Qo(()=>{window.removeEventListener("resize",b)});const b=()=>{const E=zn(y);E&&(p.value=E.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:w,arrowDown:T,arrowUp:R}=ia(),{flowStep:A,updateFlowStep:k,childMount:S,resetFlow:M}=$ie(i,r,v),F=ie(()=>i.monthPicker?Zie:i.yearPicker?tse:i.timePicker?yse:i.quarterPicker?Lse:Ose),I=()=>{const E=zn(m);E&&E.focus({preventScroll:!0})},j=ie(()=>{var E;return((E=v.value)==null?void 0:E.getSidebarProps())||{}}),N=()=>{i.openOnTop&&r("recalculate-position")},O=di(u,"action"),H=ie(()=>i.monthPicker||i.yearPicker?di(u,"monthYear"):i.timePicker?di(u,"timePicker"):di(u,"shared")),J=ie(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),L=ie(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),C=ie(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),ee=E=>{Uo(E,h.value,!0)},se=()=>{i.escClose&&r("close-picker")},te=E=>{if(i.arrowNavigation){if(E==="up")return R();if(E==="down")return T();if(E==="left")return w();if(E==="right")return g()}else E==="left"||E==="up"?ce("handleArrow","left",0,E==="up"):ce("handleArrow","right",0,E==="down")},he=E=>{a(E.shiftKey),!i.disableMonthYearSelect&&E.code==="Tab"&&E.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(E.preventDefault(),Uo(E,h.value,!0),r("close-picker"))},Y=()=>{I(),r("time-picker-close")},V=E=>{var D,B,G;(D=v.value)==null||D.toggleTimePicker(!1,!1),(B=v.value)==null||B.toggleMonthPicker(!1,!1,E),(G=v.value)==null||G.toggleYearPicker(!1,!1,E)},q=(E,D=0)=>{var B,G,de;return E==="month"?(B=v.value)==null?void 0:B.toggleMonthPicker(!1,!0,D):E==="year"?(G=v.value)==null?void 0:G.toggleYearPicker(!1,!0,D):E==="time"?(de=v.value)==null?void 0:de.toggleTimePicker(!0,!1):V(D)},ce=(E,...D)=>{var B,G;(B=v.value)!=null&&B[E]&&((G=v.value)==null||G[E](...D))},K=()=>{ce("selectCurrentDate")},we=(E,D)=>{ce("presetDate",E,D)},Se=()=>{ce("clearHoverDate")};return e({updateMonthYear:(E,D)=>{ce("updateMonthYear",E,D)},switchView:q}),(E,D)=>{var B;return P(),X("div",{id:E.uid?`dp-menu-${E.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog",class:Oe(C.value),onMouseleave:Se,onClick:ee,onKeydown:[ot(se,["esc"]),D[18]||(D[18]=ot(Ot(G=>te("left"),["prevent"]),["left"])),D[19]||(D[19]=ot(Ot(G=>te("up"),["prevent"]),["up"])),D[20]||(D[20]=ot(Ot(G=>te("down"),["prevent"]),["down"])),D[21]||(D[21]=ot(Ot(G=>te("right"),["prevent"]),["right"])),he]},[(E.disabled||E.readonly)&&x(d).enabled?(P(),X("div",{key:0,class:Oe(L.value)},null,2)):ae("",!0),!x(d).enabled&&!E.teleportCenter?(P(),X("div",{key:1,class:Oe(J.value)},null,2)):ae("",!0),ne("div",{ref_key:"innerMenuRef",ref:y,class:Oe({dp__menu_content_wrapper:((B=E.presetDates)==null?void 0:B.length)||!!E.$slots["left-sidebar"]||!!E.$slots["right-sidebar"]}),style:Yn({"--dp-menu-width":`${p.value}px`})},[E.$slots["left-sidebar"]?(P(),X("div",Fse,[ke(E.$slots,"left-sidebar",On(pr(j.value)))])):ae("",!0),E.presetDates.length?(P(),X("div",Vse,[(P(!0),X(Ce,null,ct(E.presetDates,(G,de)=>(P(),X(Ce,{key:de},[G.slot?ke(E.$slots,G.slot,{key:0,presetDate:we,label:G.label,value:G.value}):(P(),X("button",{key:1,type:"button",style:Yn(G.style||{}),class:"dp__btn dp--preset-range",onClick:Ot(fe=>we(G.value,G.noTz),["prevent"]),onKeydown:[ot(Ot(fe=>we(G.value,G.noTz),["prevent"]),["enter"]),ot(Ot(fe=>we(G.value,G.noTz),["prevent"]),["space"])]},qe(G.label),45,Bse))],64))),128))])):ae("",!0),ne("div",{ref_key:"calendarWrapperRef",ref:f,class:"dp__instance_calendar",role:"document"},[(P(),ge(fh(F.value),Kt({ref_key:"dynCmpRef",ref:v},s.value,{"flow-step":x(A),onMount:x(S),onUpdateFlowStep:x(k),onResetFlow:x(M),onFocusMenu:I,onSelectDate:D[0]||(D[0]=G=>E.$emit("select-date")),onDateUpdate:D[1]||(D[1]=G=>E.$emit("date-update",G)),onTooltipOpen:D[2]||(D[2]=G=>E.$emit("tooltip-open",G)),onTooltipClose:D[3]||(D[3]=G=>E.$emit("tooltip-close",G)),onAutoApply:D[4]||(D[4]=G=>E.$emit("auto-apply",G)),onRangeStart:D[5]||(D[5]=G=>E.$emit("range-start",G)),onRangeEnd:D[6]||(D[6]=G=>E.$emit("range-end",G)),onInvalidFixedRange:D[7]||(D[7]=G=>E.$emit("invalid-fixed-range",G)),onTimeUpdate:D[8]||(D[8]=G=>E.$emit("time-update")),onAmPmChange:D[9]||(D[9]=G=>E.$emit("am-pm-change",G)),onTimePickerOpen:D[10]||(D[10]=G=>E.$emit("time-picker-open",G)),onTimePickerClose:Y,onRecalculatePosition:N,onUpdateMonthYear:D[11]||(D[11]=G=>E.$emit("update-month-year",G)),onAutoApplyInvalid:D[12]||(D[12]=G=>E.$emit("auto-apply-invalid",G)),onInvalidDate:D[13]||(D[13]=G=>E.$emit("invalid-date",G)),"onUpdate:internalModelValue":D[14]||(D[14]=G=>E.$emit("update:internal-model-value",G))}),mr({_:2},[ct(H.value,(G,de)=>({name:G,fn:ye(fe=>[ke(E.$slots,G,On(pr({...fe})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),E.$slots["right-sidebar"]?(P(),X("div",jse,[ke(E.$slots,"right-sidebar",On(pr(j.value)))])):ae("",!0),E.$slots["action-extra"]?(P(),X("div",Hse,[E.$slots["action-extra"]?ke(E.$slots,"action-extra",{key:0,selectCurrentDate:K}):ae("",!0)])):ae("",!0)],6),!E.autoApply||x(h).keepActionRow?(P(),ge(Wie,Kt({key:2,"menu-mount":_.value},s.value,{"calendar-width":p.value,onClosePicker:D[15]||(D[15]=G=>E.$emit("close-picker")),onSelectDate:D[16]||(D[16]=G=>E.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=G=>E.$emit("invalid-select")),onSelectNow:K}),mr({_:2},[ct(x(O),(G,de)=>({name:G,fn:ye(fe=>[ke(E.$slots,G,On(pr({...fe})))])}))]),1040,["menu-mount","calendar-width"])):ae("",!0)],42,Use)}}}),Wse=typeof window<"u"?window:void 0,xy=()=>{},zse=t=>Pm()?(Fw(t),!0):!1,Yse=(t,e,n,r)=>{if(!t)return xy;let i=xy;const s=Zt(()=>x(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=xy})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return zse(o),o},Kse=(t,e,n,r={})=>{const{window:i=Wse,event:s="pointerdown"}=r;return i?Yse(i,s,o=>{const a=zn(t),l=zn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},Gse=Ee({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Jg},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Xo(),o=ue(!1),a=bu(i,"modelValue"),l=bu(i,"timezone"),u=ue(null),c=ue(null),d=ue(null),h=ue(!1),f=ue(null),p=ue(!1),{setMenuFocused:m,setShiftKey:y}=S2(),{clearArrowNav:_}=ia(),{mapDatesArrToMap:v,validateDate:b,isValidTime:g}=dc(i),{defaultedTransitions:w,defaultedTextInput:T,defaultedInline:R,defaultedConfig:A}=$n(i),{menuTransition:k,showTransition:S}=Kh(w);sn(()=>{se(i.modelValue),Kn().then(()=>{R.value.enabled||(J(f.value).addEventListener("scroll",we),window.addEventListener("resize",Se))}),R.value.enabled&&(o.value=!0)});const M=ie(()=>v());Qo(()=>{if(!R.value.enabled){const U=J(f.value);U&&U.removeEventListener("scroll",we),window.removeEventListener("resize",Se)}});const F=di(s,"all",i.presetDates),I=di(s,"input");Zt([a,l],()=>{se(a.value)},{deep:!0});const{openOnTop:j,menuStyle:N,xCorrect:O,setMenuPosition:H,getScrollableParent:J,shadowRender:L}=Rie({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:f,inline:R,emit:r,props:i,slots:s}),{inputValue:C,internalModelValue:ee,parseExternalModelValue:se,emitModelValue:te,formatInputValue:he,checkBeforeEmit:Y}=Die(r,i,h),V=ie(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:R.value.enabled,dp__flex_display_with_input:R.value.input})),q=ie(()=>i.dark?"dp__theme_dark":"dp__theme_light"),ce=ie(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:R.value.enabled}:{class:"dp__outer_menu_wrap"}),K=ie(()=>R.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),we=()=>{o.value&&(A.value.closeOnScroll?Z():H())},Se=()=>{o.value&&H()},E=()=>{!i.disabled&&!i.readonly&&(L(rA,i),H(!1),o.value=!0,o.value&&r("open"),o.value||le(),se(i.modelValue))},D=()=>{var U;C.value="",le(),(U=d.value)==null||U.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),A.value.closeOnClearValue&&Z()},B=()=>{const U=ee.value;return!U||!Array.isArray(U)&&b(U)?!0:Array.isArray(U)?U.length===2&&b(U[0])&&b(U[1])?!0:i.partialRange&&!i.timePicker?b(U[0]):!1:!1},G=()=>{Y()&&B()?(te(),Z()):r("invalid-select",ee.value)},de=U=>{fe(),te(),A.value.closeOnAutoApply&&!U&&Z()},fe=()=>{d.value&&T.value.enabled&&d.value.setParsedDate(ee.value)},Te=(U=!1)=>{i.autoApply&&g(ee.value)&&B()&&(i.range&&Array.isArray(ee.value)?(i.partialRange||ee.value.length===2)&&de(U):de(U))},le=()=>{T.value.enabled||(ee.value=null)},Z=()=>{R.value.enabled||(o.value&&(o.value=!1,O.value=!1,m(!1),y(!1),_(),r("closed"),C.value&&se(a.value)),le(),r("blur"))},z=(U,re,me=!1)=>{if(!U){ee.value=null;return}const Be=Array.isArray(U)?!U.some(tt=>!b(tt)):b(U),Me=g(U);Be&&Me&&(ee.value=U,re&&(p.value=me,G(),r("text-submit")))},_e=()=>{i.autoApply&&g(ee.value)&&te(),fe()},pe=()=>o.value?Z():E(),Re=U=>{ee.value=U},We=()=>{T.value.enabled&&(h.value=!0,he()),r("focus")},Qe=()=>{if(T.value.enabled&&(h.value=!1,se(i.modelValue),p.value)){const U=hie(f.value);U==null||U.focus()}r("blur")},Ve=U=>{c.value&&c.value.updateMonthYear(0,{month:qC(U.month),year:qC(U.year)})},Q=U=>{se(U??i.modelValue)},$=(U,re)=>{var me;(me=c.value)==null||me.switchView(U,re)},W=U=>A.value.onClickOutside?A.value.onClickOutside(U):Z();return Kse(u,d,()=>W(B)),e({closeMenu:Z,selectDate:G,clearValue:D,openMenu:E,onScroll:we,formatInputValue:he,updateInternalModelValue:Re,setMonthYear:Ve,parseModel:Q,switchView:$}),(U,re)=>(P(),X("div",{ref_key:"pickerWrapperRef",ref:f,class:Oe(V.value)},[oe(Vie,Kt({ref_key:"inputRef",ref:d,"input-value":x(C),"onUpdate:inputValue":re[0]||(re[0]=me=>Jt(C)?C.value=me:null),"is-menu-open":o.value},U.$props,{onClear:D,onOpen:E,onSetInputDate:z,onSetEmptyDate:x(te),onSelectDate:G,onToggle:pe,onClose:Z,onFocus:We,onBlur:Qe,onRealBlur:re[1]||(re[1]=me=>h.value=!1)}),mr({_:2},[ct(x(I),(me,Be)=>({name:me,fn:ye(Me=>[ke(U.$slots,me,On(pr(Me)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),oe(Is,{name:x(k)(x(j)),css:x(S)&&!x(R).enabled},{default:ye(()=>[o.value?(P(),ge(fh(U.teleport?ak:"div"),Kt({key:0,ref_key:"dpWrapMenuRef",ref:u},ce.value,{class:{"dp--menu-wrapper":!x(R).enabled},style:x(R).enabled?void 0:x(N)}),{default:ye(()=>[oe(rA,Kt({ref_key:"dpMenuRef",ref:c},U.$props,{"internal-model-value":x(ee),"onUpdate:internalModelValue":re[2]||(re[2]=me=>Jt(ee)?ee.value=me:null),class:{[q.value]:!0,"dp--menu-wrapper":U.teleport},style:U.teleport?x(N):void 0,"open-on-top":x(j),"arr-map-values":M.value,"no-overlay-focus":K.value,onClosePicker:Z,onSelectDate:G,onAutoApply:Te,onTimeUpdate:_e,onFlowStep:re[3]||(re[3]=me=>U.$emit("flow-step",me)),onUpdateMonthYear:re[4]||(re[4]=me=>U.$emit("update-month-year",me)),onInvalidSelect:re[5]||(re[5]=me=>U.$emit("invalid-select",x(ee))),onAutoApplyInvalid:re[6]||(re[6]=me=>U.$emit("invalid-select",me)),onInvalidFixedRange:re[7]||(re[7]=me=>U.$emit("invalid-fixed-range",me)),onRecalculatePosition:x(H),onTooltipOpen:re[8]||(re[8]=me=>U.$emit("tooltip-open",me)),onTooltipClose:re[9]||(re[9]=me=>U.$emit("tooltip-close",me)),onTimePickerOpen:re[10]||(re[10]=me=>U.$emit("time-picker-open",me)),onTimePickerClose:re[11]||(re[11]=me=>U.$emit("time-picker-close",me)),onAmPmChange:re[12]||(re[12]=me=>U.$emit("am-pm-change",me)),onRangeStart:re[13]||(re[13]=me=>U.$emit("range-start",me)),onRangeEnd:re[14]||(re[14]=me=>U.$emit("range-end",me)),onDateUpdate:re[15]||(re[15]=me=>U.$emit("date-update",me)),onInvalidDate:re[16]||(re[16]=me=>U.$emit("invalid-date",me))}),mr({_:2},[ct(x(F),(me,Be)=>({name:me,fn:ye(Me=>[ke(U.$slots,me,On(pr({...Me})))])}))]),1040,["internal-model-value","class","style","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])]),_:3},16,["class","style"])):ae("",!0)]),_:3},8,["name","css"])],2))}}),Y1=(()=>{const t=Gse;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),qse=Object.freeze(Object.defineProperty({__proto__:null,default:Y1},Symbol.toStringTag,{value:"Module"}));Object.entries(qse).forEach(([t,e])=>{t!=="default"&&(Y1[t]=e)});const _l=Lk(GF);_l.use(I1);_l.use(OK,{firebaseApp:tD,modules:[RK()]});_l.use(aD);_l.use(LU);_l.use(LX);_l.component("VueDatePicker",Y1);_l.mount("#app");
